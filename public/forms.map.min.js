function forms_js_load(){}function js_exit_form_sel1(){$(".arcticmodal-close",$(this).closest(".box-modal")).click()}function SendOffersEnd(){if(!$(this).is(".no-rules")){var o=0;$(".offers-form-k .gloab").each(function(e,s){""==$(this).val()?($(this).parents(".input_2018").find(".error-message").empty().append("поле не заполнено"),$(this).parents(".input_2018").addClass("required_in_2018"),o++):$(this).parents(".input_2018").removeClass("required_in_2018")}),0==o?($(".offers-form-k .js-offers-send-end").hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 15px; top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>'),AjaxClient("tender","offers","POST",0,"AfterSendOffersEnd",0,"offers-form-k")):ErrorBut(".offers-form-k .js-offers-send-end","Ошибка заполнения!")}}function AfterSendOffersEnd(e,s){"ok"==e.status?($(".offers-form-k").after('<span class="help-message"><strong>Ваша заявка на участие в закупке принята!</strong><br> После проверки заявки нашими специалистами, Вы сможетe принимать участие в аукционе по данной закупке.</span><div class="yes" style="margin-left: 0px;margin-top: 30px;">q</div>'),$(".offers-form-k").remove(),$(".js-new-offers").slideUp("slow")):($(".offers-form-k .js-offers-send-end").show(),$(".offers-form-k .b_loading_small").remove(),ErrorBut(".offers-form-k .js-offers-send-end","Ошибка!"))}function CostOffers(){var e=parseFloat($(this).val().replace(/\s/g,""));if(isNaN(e))$(".tender-offers-itog").slideUp("slow",function(){$(this).find(".js-no-nds, .js-s-nds, .js-nds").empty().append("0")});else{if($(this).is(".js-nds"))var s=e.toFixed(2),o=(e-(i=(e/1.2*.2).toFixed(2))).toFixed(2);if($(this).is(".js-nonds"))var i=((s=(1.2*(o=e.toFixed(2))).toFixed(2))-o).toFixed(2);$(".js-no-nds").empty().append($.number(o,2,"."," ")),$(".js-s-nds").empty().append($.number(s,2,"."," ")),$(".js-nds").empty().append($.number(i,2,"."," ")),$(".tender-offers-itog").slideDown("slow")}}function EnterLogin(e){13==e.which&&LoginYes()}function RecoverLogin(){var o=0;$(".js-form-open .gloab1").each(function(e,s){""==$(this).val()?($(this).parents(".input_2018").find(".error-message").empty().append("поле не заполнено"),$(this).parents(".input_2018").addClass("required_in_2018"),o++):$(this).parents(".input_2018").removeClass("required_in_2018")}),0==o?($(".js-form-open .js-recover-password").hide(),$(".js-form-open .js-log").hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>'),AjaxClient("open","recover","POST",0,"AfterRecoverLogin",0,"login-form-k")):$(".js-form-open .message-form").hide()}function AfterRecoverLogin(e,s){if($(".js-form-open .message-form").empty(),"reload"==e.status&&autoReload(),"ok"==e.status){var o=$(".js-form-open .js-in1").val();$(".js-form-open").empty().append('<span class="help-message">Проверьте свою электронную почту. Мы отправили письмо на электронный адрес <strong>'+o+'.</strong> Перейдите по ссылке в письме для сброса пароля.<br><br>Если письма нет во входящих, то попробуйте найти его в других папках (например, «Спам», «Социальные сети» или другие).</span><div class="yes">q</div>')}if("login_error"==e.status){var i=$(".js-form-open .js-in1").parents(".input_2018");$(".js-form-open .js-log").show(),$(".js-form-open .b_loading_small").remove(),i.addClass("required_in_2018"),i.find(".error-message").empty().append("поле заполнено неверно"),$(".js-form-open .js-recover-password").show()}"enabled"==e.status&&($(".js-form-open .message-form").empty().append("«Ошибка! Ваш личный кабинет заблокирован»").show(),$(".js-form-open .b_loading_small").remove(),$(".js-form-open .js-log").show(),$(".js-form-open .js-recover-password").show()),"no_active_email"==e.status&&($(".js-form-open .message-form").empty().append("<div>«Ошибка! Ваша электронная почта не подтверждена»<br>Невозможно напомнить пароль</div>").show(),$(".js-form-open .b_loading_small").remove(),$(".js-form-open .js-log").show())}function LoginYes(){if(!$(".js-form-open .js-log").is(".clock")){var o=0;$(".js-form-open .gloab").each(function(e,s){""==$(this).val()?($(this).parents(".input_2018").find(".error-message").empty().append("поле не заполнено"),$(this).parents(".input_2018").addClass("required_in_2018"),o++):$(this).parents(".input_2018").removeClass("required_in_2018")}),0==o?($(".js-form-open .js-log").hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>'),$(".js-form-open .message-form").hide(),AjaxClient("open","open","POST",0,"AfterLoginYes",0,"login-form-k")):ErrorBut(".js-form-open .js-log","Ошибка заполнения!")}}function AfterLoginYes(e,s){if("reload"!=e.status&&"ok"!=e.status||autoReload(),"enabled"==e.status&&($(".js-form-open .message-form").empty().append("«Ошибка! Ваш личный кабинет заблокирован»").show(),$(".js-form-open .b_loading_small").remove(),$(".js-form-open .js-log").show()),"no_active_email"==e.status&&($(".js-form-open .message-form").empty().append('<div>«Ошибка! Ваша электронная почта не подтверждена»</div><div class="activate_mail_link js-active-link"><span>отправить письмо для активации</span></div>').show(),$(".js-form-open .b_loading_small").remove(),$(".js-form-open .js-log").show()),"time_limit"==e.status&&($(".js-form-open .message-form").empty().append("«Слишком много неуспешных попыток авторизации. Необходимо подождать "+e.echo+"»").show(),$(".js-form-open .b_loading_small").remove(),$(".js-form-open .js-log").addClass("clock").show(),initializeTimerLogin(e.echo1)),"login_error"==e.status){var o=$(".js-form-open .js-in1").parents(".input_2018");$(".js-form-open .js-log").show(),$(".js-form-open .b_loading_small").remove(),o.addClass("required_in_2018"),o.find(".error-message").empty().append("поле заполнено неверно")}if("password_error"==e.status){o=$(".js-form-open .js-in2").parents(".input_2018");$(".js-form-open .js-log").show(),$(".js-form-open .b_loading_small").remove(),o.addClass("required_in_2018"),o.find(".error-message").empty().append("поле заполнено неверно")}if("password_login"==e.status){o=$(".js-form-open .gloab").parents(".input_2018");$(".js-form-open .js-log").show(),$(".js-form-open .b_loading_small").remove(),o.addClass("required_in_2018"),o.find(".error-message").empty().append("неверный e-mail или пароль")}}function js_add_block_x(){var o=0;if($(".js-form-prime .gloab").each(function(e,s){""==$(this).val()?($(this).parents(".input_2021").addClass("required_in_2021"),$(this).parents(".list_2021").addClass("required_in_2021"),o++):($(this).parents(".input_2021").removeClass("required_in_2021"),$(this).parents(".list_2021").removeClass("required_in_2021"))}),0==o){$(".box-modal .gloab-cc").attr("for");$(".box-modal .js-add-prime-block-x").hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 17px;top: auto;right: auto;left: auto; display: inline-block;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>')}else alert_message("error","Не все поля заполнены")}$(function(){$(".box-modal").on("change keyup input click",".js-log",LoginYes),$(".box-modal").on("change keyup input click",".js-recover-password",RecoverLogin),$(".box-modal").on("keypress",".js-form-open .gloab",EnterLogin),$(".box-modal").on("change keyup input click",".js-cost-offers-c",CostOffers),$(".box-modal").on("change keyup input click",".js-offers-send-end",SendOffersEnd)}),window.yesform=1;