/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)
},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1><$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1><$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))
},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=l.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Bc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&"withCredentials"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});


/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */

/**
 * Create a cookie with the given name and value and other optional parameters.
 *
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Set the value of a cookie.
 * @example $.cookie('the_cookie', 'the_value', { expires: 7, path: '/', domain: 'jquery.com', secure: true });
 * @desc Create a cookie with all available options.
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Create a session cookie.
 * @example $.cookie('the_cookie', null);
 * @desc Delete a cookie by passing null as value. Keep in mind that you have to use the same path and domain
 *       used when the cookie was set.
 *
 * @param String name The name of the cookie.
 * @param String value The value of the cookie.
 * @param Object options An object literal containing key/value pairs to provide optional cookie attributes.
 * @option Number|Date expires Either an integer specifying the expiration date from now on in days or a Date object.
 *                             If a negative value is specified (e.g. a date in the past), the cookie will be deleted.
 *                             If set to null or omitted, the cookie will be a session cookie and will not be retained
 *                             when the the browser exits.
 * @option String path The value of the path atribute of the cookie (default: path of page that created the cookie).
 * @option String domain The value of the domain attribute of the cookie (default: domain of page that created the cookie).
 * @option Boolean secure If true, the secure attribute of the cookie will be set and the cookie transmission will
 *                        require a secure protocol (like HTTPS).
 * @type undefined
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */

/**
 * Get the value of a cookie with the given name.
 *
 * @example $.cookie('the_cookie');
 * @desc Get the value of a cookie.
 *
 * @param String name The name of the cookie.
 * @return The value of the cookie.
 * @type String
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */
jQuery.cookie = function(name, value, options) {
    if (typeof value != 'undefined') { // name and value given, set cookie
        options = options || {};
        if (value === null) {
            value = '';
            options.expires = -1;
        }
        var expires = '';
        if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {
            var date;
            if (typeof options.expires == 'number') {
                date = new Date();
                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));
            } else {
                date = options.expires;
            }
            expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE
        }
        // CAUTION: Needed to parenthesize options.path and options.domain
        // in the following expressions, otherwise they evaluate to undefined
        // in the packed version for some reason...
        var path = options.path ? '; path=' + (options.path) : '';
        var domain = options.domain ? '; domain=' + (options.domain) : '';
        var secure = options.secure ? '; secure' : '';
        var samesite = options.samesite ? '; samesite=' + (options.samesite) : '';
        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure,samesite].join('');
    } else { // only name given, get cookie
        var cookieValue = null;
        if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
};



jQuery(document).ready(function(){
	var cookieOptions = {expires: 7, path: '/'};
		

});

/*

 arcticModal  jQuery plugin
 Version: 0.3
 Author: Sergey Predvoditelev (sergey.predvoditelev@gmail.com)
 Company: Arctic Laboratory (http://arcticlab.ru/)

 Docs & Examples: http://arcticlab.ru/arcticmodal/

 */
(function(d){var g={type:"html",content:"",url:"",ajax:{},ajax_request:null,closeOnEsc:!0,closeOnOverlayClick:!0,clone:!1,overlay:{block:void 0,tpl:'<div class="arcticmodal-overlay"></div>',css:{backgroundColor:"#000",opacity:0.2}},container:{block:void 0,tpl:'<div class="arcticmodal-container"><table class="arcticmodal-container_i"><tr><td class="arcticmodal-container_i2"></td></tr></table></div>'},wrap:void 0,body:void 0,errors:{tpl:'<div class="arcticmodal-error arcticmodal-close"></div>',autoclose_delay:2E3,
ajax_unsuccessful_load:"Error"},openEffect:{type:"fade",speed:400},closeEffect:{type:"fade",speed:400},beforeOpen:d.noop,afterOpen:d.noop,beforeClose:d.noop,afterClose:d.noop,afterLoading:d.noop,afterLoadingOnShow:d.noop,errorLoading:d.noop},j=0,e=d([]),m={isEventOut:function(a,b){var c=!0;d(a).each(function(){d(b.target).get(0)==d(this).get(0)&&(c=!1);0==d(b.target).closest("HTML",d(this).get(0)).length&&(c=!1)});return c}},f={getParentEl:function(a){var b=d(a);return b.data("arcticmodal")?b:(b=
d(a).closest(".arcticmodal-container").data("arcticmodalParentEl"))?b:!1},transition:function(a,b,c,e){e=void 0==e?d.noop:e;switch(c.type){case "fade":"show"==b?a.fadeIn(c.speed,e):a.fadeOut(c.speed,e);break;case "none":"show"==b?a.show():a.hide(),e()}},prepare_body:function(a,b){d(".arcticmodal-close",a.body).unbind("click.arcticmodal").bind("click.arcticmodal",function(){b.arcticmodal("close");return!1})},init_el:function(a,b){var c=a.data("arcticmodal");if(!c){c=b;j++;c.modalID=j;c.overlay.block=
d(c.overlay.tpl);c.overlay.block.css(c.overlay.css);c.container.block=d(c.container.tpl);c.body=d(".arcticmodal-container_i2",c.container.block);b.clone?c.body.html(a.clone(!0)):(a.before('<div id="arcticmodalReserve'+c.modalID+'" style="display: none" />'),c.body.html(a));f.prepare_body(c,a);c.closeOnOverlayClick&&c.overlay.block.add(c.container.block).click(function(b){m.isEventOut(d(">*",c.body),b)&&a.arcticmodal("close")});c.container.block.data("arcticmodalParentEl",a);a.data("arcticmodal",c);
e=d.merge(e,a);d.proxy(h.show,a)();if("html"==c.type)return a;if(void 0!=c.ajax.beforeSend){var k=c.ajax.beforeSend;delete c.ajax.beforeSend}if(void 0!=c.ajax.success){var g=c.ajax.success;delete c.ajax.success}if(void 0!=c.ajax.error){var l=c.ajax.error;delete c.ajax.error}var n=d.extend(!0,{url:c.url,beforeSend:function(){void 0==k?c.body.html('<div class="arcticmodal-loading"><div class="b_loading"><div class="b_loading_circle_wrapper"><div class="b_loading_circle_one"></div><div class="b_loading_circle_one b_loading_circle_delayed"></div></div></div></div>'):k(c,a)},success:function(b){a.trigger("afterLoading");c.afterLoading(c,a,b);void 0==g?c.body.html(b):g(c,a,b);f.prepare_body(c,
a);a.trigger("afterLoadingOnShow");c.afterLoadingOnShow(c,a,b)},error:function(){a.trigger("errorLoading");c.errorLoading(c,a);void 0==l?(c.body.html(c.errors.tpl),d(".arcticmodal-error",c.body).html(c.errors.ajax_unsuccessful_load),d(".arcticmodal-close",c.body).click(function(){a.arcticmodal("close");return!1}),c.errors.autoclose_delay&&setTimeout(function(){a.arcticmodal("close")},c.errors.autoclose_delay)):l(c,a)}},c.ajax);c.ajax_request=d.ajax(n);a.data("arcticmodal",c)}},init:function(a){a=
d.extend(!0,{},g,a);if(d.isFunction(this))if(void 0==a)d.error("jquery.arcticmodal: Uncorrect parameters");else if(""==a.type)d.error('jquery.arcticmodal: Don\'t set parameter "type"');else switch(a.type){case "html":if(""==a.content){d.error('jquery.arcticmodal: Don\'t set parameter "content"');break}var b=a.content;a.content="";return f.init_el(d(b),a);case "ajax":if(""==a.url){d.error('jquery.arcticmodal: Don\'t set parameter "url"');break}return f.init_el(d("<div />"),a)}else return this.each(function(){f.init_el(d(this),
d.extend(!0,{},a))})}},h={show:function(){var a=f.getParentEl(this);if(!1===a)d.error("jquery.arcticmodal: Uncorrect call");else{var b=a.data("arcticmodal");b.overlay.block.hide();b.container.block.hide();d("BODY").append(b.overlay.block);d("BODY").append(b.container.block);b.beforeOpen(b,a);a.trigger("beforeOpen");if("hidden"!=b.wrap.css("overflow")){b.wrap.data("arcticmodalOverflow",b.wrap.css("overflow"));var c=b.wrap.outerWidth(!0);b.wrap.css("overflow","hidden");var g=b.wrap.outerWidth(!0);g!=
c&&b.wrap.css("marginRight",g-c+"px")}e.not(a).each(function(){d(this).data("arcticmodal").overlay.block.hide()});f.transition(b.overlay.block,"show",1<e.length?{type:"none"}:b.openEffect);f.transition(b.container.block,"show",1<e.length?{type:"none"}:b.openEffect,function(){b.afterOpen(b,a);a.trigger("afterOpen")});return a}},close:function(){if(d.isFunction(this))e.each(function(){d(this).arcticmodal("close")});else return this.each(function(){var a=f.getParentEl(this);if(!1===a)d.error("jquery.arcticmodal: Uncorrect call");
else{var b=a.data("arcticmodal");!1!==b.beforeClose(b,a)&&(a.trigger("beforeClose"),e.not(a).last().each(function(){d(this).data("arcticmodal").overlay.block.show()}),f.transition(b.overlay.block,"hide",1<e.length?{type:"none"}:b.closeEffect),f.transition(b.container.block,"hide",1<e.length?{type:"none"}:b.closeEffect,function(){b.afterClose(b,a);a.trigger("afterClose");b.clone||d("#arcticmodalReserve"+b.modalID).replaceWith(b.body.find(">*"));b.overlay.block.remove();b.container.block.remove();a.data("arcticmodal",
null);d(".arcticmodal-container").length||(b.wrap.data("arcticmodalOverflow")&&b.wrap.css("overflow",b.wrap.data("arcticmodalOverflow")),b.wrap.css("marginRight",0))}),"ajax"==b.type&&b.ajax_request.abort(),e=e.not(a))}})},setDefault:function(a){d.extend(!0,g,a)}};d(function(){g.wrap=d(document.all&&!document.querySelector?"html":"body")});d(document).bind("keyup.arcticmodal",function(a){var b=e.last();b.length&&b.data("arcticmodal").closeOnEsc&&27===a.keyCode&&b.arcticmodal("close")});d.arcticmodal=
d.fn.arcticmodal=function(a){if(h[a])return h[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return f.init.apply(this,arguments);d.error("jquery.arcticmodal: Method "+a+" does not exist")}})(jQuery);

/*! jQuery Color v@2.1.0 http://github.com/jquery/jquery-color | jquery.org/license */
(function(a,b){function m(a,b,c){var d=h[b.type]||{};return a==null?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function n(b){var c=f(),d=c._rgba=[];return b=b.toLowerCase(),l(e,function(a,e){var f,h=e.re.exec(b),i=h&&e.parse(h),j=e.space||"rgba";if(i)return f=c[j](i),c[g[j].cache]=f[g[j].cache],d=c._rgba=f._rgba,!1}),d.length?(d.join()==="0,0,0,0"&&a.extend(d,k.transparent),c):k[b]}function o(a,b,c){return c=(c+1)%1,c*6<1?a+(b-a)*c*6:c*2<1?b:c*3<2?a+(b-a)*(2/3-c)*6:a}var c="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1]*2.55,a[2]*2.55,a[3]*2.55,a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],f=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},i=f.support={},j=a("<p>")[0],k,l=a.each;j.style.cssText="background-color:rgba(1,1,1,.5)",i.rgba=j.style.backgroundColor.indexOf("rgba")>-1,l(g,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),f.fn=a.extend(f.prototype,{parse:function(c,d,e,h){if(c===b)return this._rgba=[null,null,null,null],this;if(c.jquery||c.nodeType)c=a(c).css(d),d=b;var i=this,j=a.type(c),o=this._rgba=[],p;d!==b&&(c=[c,d,e,h],j="array");if(j==="string")return this.parse(n(c)||k._default);if(j==="array")return l(g.rgba.props,function(a,b){o[b.idx]=m(c[b.idx],b)}),this;if(j==="object")return c instanceof f?l(g,function(a,b){c[b.cache]&&(i[b.cache]=c[b.cache].slice())}):l(g,function(b,d){var e=d.cache;l(d.props,function(a,b){if(!i[e]&&d.to){if(a==="alpha"||c[a]==null)return;i[e]=d.to(i._rgba)}i[e][b.idx]=m(c[a],b,!0)}),i[e]&&a.inArray(null,i[e].slice(0,3))<0&&(i[e][3]=1,d.from&&(i._rgba=d.from(i[e])))}),this},is:function(a){var b=f(a),c=!0,d=this;return l(g,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],l(e.props,function(a,b){if(g[b.idx]!=null)return c=g[b.idx]===f[b.idx],c})),c}),c},_space:function(){var a=[],b=this;return l(g,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var c=f(a),d=c._space(),e=g[d],i=this.alpha()===0?f("transparent"):this,j=i[e.cache]||e.to(i._rgba),k=j.slice();return c=c[e.cache],l(e.props,function(a,d){var e=d.idx,f=j[e],g=c[e],i=h[d.type]||{};if(g===null)return;f===null?k[e]=g:(i.mod&&(g-f>i.mod/2?f+=i.mod:f-g>i.mod/2&&(f-=i.mod)),k[e]=m((g-f)*b+f,d))}),this[d](k)},blend:function(b){if(this._rgba[3]===1)return this;var c=this._rgba.slice(),d=c.pop(),e=f(b)._rgba;return f(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});return c[3]===1&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return a==null&&(a=b>2?1:0),b&&b<3&&(a=Math.round(a*100)+"%"),a});return c[3]===1&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(d*255)),"#"+a.map(c,function(a,b){return a=(a||0).toString(16),a.length===1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,g.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=i*.5,k,l;return g===f?k=0:b===f?k=60*(c-d)/h+360:c===f?k=60*(d-b)/h+120:k=60*(b-c)/h+240,j===0||j===1?l=j:j<=.5?l=h/i:l=h/(2-i),[Math.round(k)%360,l,j,e==null?1:e]},g.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],e=a[3],f=d<=.5?d*(1+c):d+c-d*c,g=2*d-f,h,i,j;return[Math.round(o(g,f,b+1/3)*255),Math.round(o(g,f,b)*255),Math.round(o(g,f,b-1/3)*255),e]},l(g,function(c,e){var g=e.props,h=e.cache,i=e.to,j=e.from;f.fn[c]=function(c){i&&!this[h]&&(this[h]=i(this._rgba));if(c===b)return this[h].slice();var d,e=a.type(c),k=e==="array"||e==="object"?c:arguments,n=this[h].slice();return l(g,function(a,b){var c=k[e==="object"?a:b.idx];c==null&&(c=n[b.idx]),n[b.idx]=m(c,b)}),j?(d=f(j(n)),d[h]=n,d):f(n)},l(g,function(b,e){if(f.fn[b])return;f.fn[b]=function(f){var g=a.type(f),h=b==="alpha"?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[e.idx],k;return g==="undefined"?j:(g==="function"&&(f=f.call(this,j),g=a.type(f)),f==null&&e.empty?this:(g==="string"&&(k=d.exec(f),k&&(f=j+parseFloat(k[2])*(k[1]==="+"?1:-1))),i[e.idx]=f,this[h](i)))}})}),f.hook=function(b){var c=b.split(" ");l(c,function(b,c){a.cssHooks[c]={set:function(b,d){var e,g,h="";if(a.type(d)!=="string"||(e=n(d))){d=f(e||d);if(!i.rgba&&d._rgba[3]!==1){g=c==="backgroundColor"?b.parentNode:b;while((h===""||h==="transparent")&&g&&g.style)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(j){}d=d.blend(h&&h!=="transparent"?h:"_default")}d=d.toRgbaString()}try{b.style[c]=d}catch(d){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=f(b.elem,c),b.end=f(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},f.hook(c),a.cssHooks.borderColor={expand:function(a){var b={};return l(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},k=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);


/*
    jQuery Masked Input Plugin
    Copyright (c) 2007 - 2015 Josh Bush (digitalbush.com)
    Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
    Version: 1.4.1
*/
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){var b,c=navigator.userAgent,d=/iphone/i.test(c),e=/chrome/i.test(c),f=/android/i.test(c);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(c,g){var h,i,j,k,l,m,n,o;if(!c&&this.length>0){h=a(this[0]);var p=h.data(a.mask.dataName);return p?p():void 0}return g=a.extend({autoclear:a.mask.autoclear,placeholder:a.mask.placeholder,completed:null},g),i=a.mask.definitions,j=[],k=n=c.length,l=null,a.each(c.split(""),function(a,b){"?"==b?(n--,k=a):i[b]?(j.push(new RegExp(i[b])),null===l&&(l=j.length-1),k>a&&(m=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(){if(g.completed){for(var a=l;m>=a;a++)if(j[a]&&C[a]===p(a))return;g.completed.call(B)}}function p(a){return g.placeholder.charAt(a<g.placeholder.length?a:0)}function q(a){for(;++a<n&&!j[a];);return a}function r(a){for(;--a>=0&&!j[a];);return a}function s(a,b){var c,d;if(!(0>a)){for(c=a,d=q(b);n>c;c++)if(j[c]){if(!(n>d&&j[c].test(C[d])))break;C[c]=C[d],C[d]=p(d),d=q(d)}z(),B.caret(Math.max(l,a))}}function t(a){var b,c,d,e;for(b=a,c=p(a);n>b;b++)if(j[b]){if(d=q(b),e=C[b],C[b]=c,!(n>d&&j[d].test(e)))break;c=e}}function u(){var a=B.val(),b=B.caret();if(o&&o.length&&o.length>a.length){for(A(!0);b.begin>0&&!j[b.begin-1];)b.begin--;if(0===b.begin)for(;b.begin<l&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}else{for(A(!0);b.begin<n&&!j[b.begin];)b.begin++;B.caret(b.begin,b.begin)}h()}function v(){A(),B.val()!=E&&B.change()}function w(a){if(!B.prop("readonly")){var b,c,e,f=a.which||a.keyCode;o=B.val(),8===f||46===f||d&&127===f?(b=B.caret(),c=b.begin,e=b.end,e-c===0&&(c=46!==f?r(c):e=q(c-1),e=46===f?q(e):e),y(c,e),s(c,e-1),a.preventDefault()):13===f?v.call(this,a):27===f&&(B.val(E),B.caret(0,A()),a.preventDefault())}}function x(b){if(!B.prop("readonly")){var c,d,e,g=b.which||b.keyCode,i=B.caret();if(!(b.ctrlKey||b.altKey||b.metaKey||32>g)&&g&&13!==g){if(i.end-i.begin!==0&&(y(i.begin,i.end),s(i.begin,i.end-1)),c=q(i.begin-1),n>c&&(d=String.fromCharCode(g),j[c].test(d))){if(t(c),C[c]=d,z(),e=q(c),f){var k=function(){a.proxy(a.fn.caret,B,e)()};setTimeout(k,0)}else B.caret(e);i.begin<=m&&h()}b.preventDefault()}}}function y(a,b){var c;for(c=a;b>c&&n>c;c++)j[c]&&(C[c]=p(c))}function z(){B.val(C.join(""))}function A(a){var b,c,d,e=B.val(),f=-1;for(b=0,d=0;n>b;b++)if(j[b]){for(C[b]=p(b);d++<e.length;)if(c=e.charAt(d-1),j[b].test(c)){C[b]=c,f=b;break}if(d>e.length){y(b+1,n);break}}else C[b]===e.charAt(d)&&d++,k>b&&(f=b);return a?z():k>f+1?g.autoclear||C.join("")===D?(B.val()&&B.val(""),y(0,n)):z():(z(),B.val(B.val().substring(0,f+1))),k?b:l}var B=a(this),C=a.map(c.split(""),function(a,b){return"?"!=a?i[a]?p(b):a:void 0}),D=C.join(""),E=B.val();B.data(a.mask.dataName,function(){return a.map(C,function(a,b){return j[b]&&a!=p(b)?a:null}).join("")}),B.one("unmask",function(){B.off(".mask").removeData(a.mask.dataName)}).on("focus.mask",function(){if(!B.prop("readonly")){clearTimeout(b);var a;E=B.val(),a=A(),b=setTimeout(function(){B.get(0)===document.activeElement&&(z(),a==c.replace("?","").length?B.caret(0,a):B.caret(a))},10)}}).on("blur.mask",v).on("keydown.mask",w).on("keypress.mask",x).on("input.mask paste.mask",function(){B.prop("readonly")||setTimeout(function(){var a=A(!0);B.caret(a),h()},0)}),e&&f&&B.off("input.mask").on("input.mask",u),A()})}})});

/*

 arcticModal  jQuery plugin
 Version: 0.3
 Author: Sergey Predvoditelev (sergey.predvoditelev@gmail.com)
 Company: Arctic Laboratory (http://arcticlab.ru/)

 Docs & Examples: http://arcticlab.ru/arcticmodal/

 */
/*
(function(d){var g={type:"html",content:"",url:"",ajax:{},ajax_request:null,closeOnEsc:!0,closeOnOverlayClick:!0,clone:!1,overlay:{block:void 0,tpl:'<div class="arcticmodal-overlay"></div>',css:{backgroundColor:"#000",opacity:0.2}},container:{block:void 0,tpl:'<div class="arcticmodal-container"><table class="arcticmodal-container_i"><tr><td class="arcticmodal-container_i2"></td></tr></table></div>'},wrap:void 0,body:void 0,errors:{tpl:'<div class="arcticmodal-error arcticmodal-close"></div>',autoclose_delay:2E3,
ajax_unsuccessful_load:"Error"},openEffect:{type:"fade",speed:400},closeEffect:{type:"fade",speed:400},beforeOpen:d.noop,afterOpen:d.noop,beforeClose:d.noop,afterClose:d.noop,afterLoading:d.noop,afterLoadingOnShow:d.noop,errorLoading:d.noop},j=0,e=d([]),m={isEventOut:function(a,b){var c=!0;d(a).each(function(){d(b.target).get(0)==d(this).get(0)&&(c=!1);0==d(b.target).closest("HTML",d(this).get(0)).length&&(c=!1)});return c}},f={getParentEl:function(a){var b=d(a);return b.data("arcticmodal")?b:(b=
d(a).closest(".arcticmodal-container").data("arcticmodalParentEl"))?b:!1},transition:function(a,b,c,e){e=void 0==e?d.noop:e;switch(c.type){case "fade":"show"==b?a.fadeIn(c.speed,e):a.fadeOut(c.speed,e);break;case "none":"show"==b?a.show():a.hide(),e()}},prepare_body:function(a,b){d(".arcticmodal-close",a.body).unbind("click.arcticmodal").bind("click.arcticmodal",function(){b.arcticmodal("close");return!1})},init_el:function(a,b){var c=a.data("arcticmodal");if(!c){c=b;j++;c.modalID=j;c.overlay.block=
d(c.overlay.tpl);c.overlay.block.css(c.overlay.css);c.container.block=d(c.container.tpl);c.body=d(".arcticmodal-container_i2",c.container.block);b.clone?c.body.html(a.clone(!0)):(a.before('<div id="arcticmodalReserve'+c.modalID+'" style="display: none" />'),c.body.html(a));f.prepare_body(c,a);c.closeOnOverlayClick&&c.overlay.block.add(c.container.block).click(function(b){m.isEventOut(d(">*",c.body),b)&&a.arcticmodal("close")});c.container.block.data("arcticmodalParentEl",a);a.data("arcticmodal",c);
e=d.merge(e,a);d.proxy(h.show,a)();if("html"==c.type)return a;if(void 0!=c.ajax.beforeSend){var k=c.ajax.beforeSend;delete c.ajax.beforeSend}if(void 0!=c.ajax.success){var g=c.ajax.success;delete c.ajax.success}if(void 0!=c.ajax.error){var l=c.ajax.error;delete c.ajax.error}var n=d.extend(!0,{url:c.url,beforeSend:function(){void 0==k?c.body.html('<div class="arcticmodal-loading"><div class="b_loading"><div class="b_loading_circle_wrapper"><div class="b_loading_circle_one"></div><div class="b_loading_circle_one b_loading_circle_delayed"></div></div></div></div>'):k(c,a)},success:function(b){a.trigger("afterLoading");c.afterLoading(c,a,b);void 0==g?c.body.html(b):g(c,a,b);f.prepare_body(c,
a);a.trigger("afterLoadingOnShow");c.afterLoadingOnShow(c,a,b)},error:function(){a.trigger("errorLoading");c.errorLoading(c,a);void 0==l?(c.body.html(c.errors.tpl),d(".arcticmodal-error",c.body).html(c.errors.ajax_unsuccessful_load),d(".arcticmodal-close",c.body).click(function(){a.arcticmodal("close");return!1}),c.errors.autoclose_delay&&setTimeout(function(){a.arcticmodal("close")},c.errors.autoclose_delay)):l(c,a)}},c.ajax);c.ajax_request=d.ajax(n);a.data("arcticmodal",c)}},init:function(a){a=
d.extend(!0,{},g,a);if(d.isFunction(this))if(void 0==a)d.error("jquery.arcticmodal: Uncorrect parameters");else if(""==a.type)d.error('jquery.arcticmodal: Don\'t set parameter "type"');else switch(a.type){case "html":if(""==a.content){d.error('jquery.arcticmodal: Don\'t set parameter "content"');break}var b=a.content;a.content="";return f.init_el(d(b),a);case "ajax":if(""==a.url){d.error('jquery.arcticmodal: Don\'t set parameter "url"');break}return f.init_el(d("<div />"),a)}else return this.each(function(){f.init_el(d(this),
d.extend(!0,{},a))})}},h={show:function(){var a=f.getParentEl(this);if(!1===a)d.error("jquery.arcticmodal: Uncorrect call");else{var b=a.data("arcticmodal");b.overlay.block.hide();b.container.block.hide();d("BODY").append(b.overlay.block);d("BODY").append(b.container.block);b.beforeOpen(b,a);a.trigger("beforeOpen");if("hidden"!=b.wrap.css("overflow")){b.wrap.data("arcticmodalOverflow",b.wrap.css("overflow"));var c=b.wrap.outerWidth(!0);b.wrap.css("overflow","hidden");var g=b.wrap.outerWidth(!0);g!=
c&&b.wrap.css("marginRight",g-c+"px")}e.not(a).each(function(){d(this).data("arcticmodal").overlay.block.hide()});f.transition(b.overlay.block,"show",1<e.length?{type:"none"}:b.openEffect);f.transition(b.container.block,"show",1<e.length?{type:"none"}:b.openEffect,function(){b.afterOpen(b,a);a.trigger("afterOpen")});return a}},close:function(){if(d.isFunction(this))e.each(function(){d(this).arcticmodal("close")});else return this.each(function(){var a=f.getParentEl(this);if(!1===a)d.error("jquery.arcticmodal: Uncorrect call");
else{var b=a.data("arcticmodal");!1!==b.beforeClose(b,a)&&(a.trigger("beforeClose"),e.not(a).last().each(function(){d(this).data("arcticmodal").overlay.block.show()}),f.transition(b.overlay.block,"hide",1<e.length?{type:"none"}:b.closeEffect),f.transition(b.container.block,"hide",1<e.length?{type:"none"}:b.closeEffect,function(){b.afterClose(b,a);a.trigger("afterClose");b.clone||d("#arcticmodalReserve"+b.modalID).replaceWith(b.body.find(">*"));b.overlay.block.remove();b.container.block.remove();a.data("arcticmodal",
null);d(".arcticmodal-container").length||(b.wrap.data("arcticmodalOverflow")&&b.wrap.css("overflow",b.wrap.data("arcticmodalOverflow")),b.wrap.css("marginRight",0))}),"ajax"==b.type&&b.ajax_request.abort(),e=e.not(a))}})},setDefault:function(a){d.extend(!0,g,a)}};d(function(){g.wrap=d(document.all&&!document.querySelector?"html":"body")});d(document).bind("keyup.arcticmodal",function(a){var b=e.last();b.length&&b.data("arcticmodal").closeOnEsc&&27===a.keyCode&&b.arcticmodal("close")});d.arcticmodal=
d.fn.arcticmodal=function(a){if(h[a])return h[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return f.init.apply(this,arguments);d.error("jquery.arcticmodal: Method "+a+" does not exist")}})(jQuery);
*/

/*!
/**
 * Monkey patch jQuery 1.3.1+ to add support for setting or animating CSS
 * scale and rotation independently.
 * https://github.com/zachstronaut/jquery-animate-css-rotate-scale
 * Released under dual MIT/GPL license just like jQuery.
 * 2009-2012 Zachary Johnson www.zachstronaut.com
 */
(function ($) {
    // Updated 2010.11.06
    // Updated 2012.10.13 - Firefox 16 transform style returns a matrix rather than a string of transform functions.  This broke the features of this jQuery patch in Firefox 16.  It should be possible to parse the matrix for both scale and rotate (especially when scale is the same for both the X and Y axis), however the matrix does have disadvantages such as using its own units and also 45deg being indistinguishable from 45+360deg.  To get around these issues, this patch tracks internally the scale, rotation, and rotation units for any elements that are .scale()'ed, .rotate()'ed, or animated.  The major consequences of this are that 1. the scaled/rotated element will blow away any other transform rules applied to the same element (such as skew or translate), and 2. the scaled/rotated element is unaware of any preset scale or rotation initally set by page CSS rules.  You will have to explicitly set the starting scale/rotation value.
    
    function initData($el) {
        var _ARS_data = $el.data('_ARS_data');
        if (!_ARS_data) {
            _ARS_data = {
                rotateUnits: 'deg',
                scale: 1,
                rotate: 0
            };
            
            $el.data('_ARS_data', _ARS_data);
        }
        
        return _ARS_data;
    }
    
    function setTransform($el, data) {
        $el.css('transform', 'rotate(' + data.rotate + data.rotateUnits + ') scale(' + data.scale + ',' + data.scale + ')');
    }
    
    $.fn.rotate = function (val) {
        var $self = $(this), m, data = initData($self);
                        
        if (typeof val == 'undefined') {
            return data.rotate + data.rotateUnits;
        }
        
        m = val.toString().match(/^(-?\d+(\.\d+)?)(.+)?$/);
        if (m) {
            if (m[3]) {
                data.rotateUnits = m[3];
            }
            
            data.rotate = m[1];
            
            setTransform($self, data);
        }
        
        return this;
    };
    
    // Note that scale is unitless.
    $.fn.scale = function (val) {
        var $self = $(this), data = initData($self);
        
        if (typeof val == 'undefined') {
            return data.scale;
        }
        
        data.scale = val;
        
        setTransform($self, data);
        
        return this;
    };

    // fx.cur() must be monkey patched because otherwise it would always
    // return 0 for current rotate and scale values
    var curProxied = $.fx.prototype.cur;
    $.fx.prototype.cur = function () {
        if (this.prop == 'rotate') {
            return parseFloat($(this.elem).rotate());
            
        } else if (this.prop == 'scale') {
            return parseFloat($(this.elem).scale());
        }
        
        return curProxied.apply(this, arguments);
    };
    
    $.fx.step.rotate = function (fx) {
        var data = initData($(fx.elem));
        $(fx.elem).rotate(fx.now + data.rotateUnits);
    };
    
    $.fx.step.scale = function (fx) {
        $(fx.elem).scale(fx.now);
    };
    
    /*
    
    Starting on line 3905 of jquery-1.3.2.js we have this code:
    
    // We need to compute starting value
    if ( unit != "px" ) {
        self.style[ name ] = (end || 1) + unit;
        start = ((end || 1) / e.cur(true)) * start;
        self.style[ name ] = start + unit;
    }
    
    This creates a problem where we cannot give units to our custom animation
    because if we do then this code will execute and because self.style[name]
    does not exist where name is our custom animation's name then e.cur(true)
    will likely return zero and create a divide by zero bug which will set
    start to NaN.
    
    The following monkey patch for animate() gets around this by storing the
    units used in the rotation definition and then stripping the units off.
    
    */
    
    var animateProxied = $.fn.animate;
    $.fn.animate = function (prop) {
        if (typeof prop['rotate'] != 'undefined') {
            var $self, data, m = prop['rotate'].toString().match(/^(([+-]=)?(-?\d+(\.\d+)?))(.+)?$/);
            if (m && m[5]) {
                $self = $(this);
                data = initData($self);
                data.rotateUnits = m[5];
            }
            
            prop['rotate'] = m[1];
        }
        
        return animateProxied.apply(this, arguments);
    };
})(jQuery);


function trim(s) { return rtrim(ltrim(s)); }
function ltrim(s){ return s.replace(/^\s+/, ''); }
function rtrim(s){ return s.replace(/\s+$/, ''); }

/*
 * jQuery autoResize (textarea auto-resizer)
 * @copyright James Padolsey http://james.padolsey.com
 * @version 1.04
*/

(function($){
    
    $.fn.autoResize = function(options) {
        
        // Just some abstracted details,
        // to make plugin users happy:
        var settings = $.extend({
            onResize : function(){
				 
			},
            animate : true,
            animateDuration : 150,
            animateCallback : function(){},
            extraSpace : 1,
            limit: 30000
        }, options);
        
        // Only textarea's auto-resize:
        this.filter('textarea').each(function(){
            
                // Get rid of scrollbars and disable WebKit resizing:
            var textarea = $(this).css({resize:'none','overflow-y':'hidden'}),
            
                // Cache original height, for use later:
                origHeight = textarea.height(),

				                
                // Need clone of textarea, hidden off screen:
                clone = (function(){


                    // Properties which may effect space taken up by chracters:
                    var props = ['height','width','lineHeight','textDecoration','letterSpacing','fontSize','font-family',],
                        propOb = {};
  
                    // Create object of styles to apply:
                    $.each(props, function(i, prop){
                        propOb[prop] = textarea.css(prop);
                    });
                    
                    // Clone the actual textarea removing unique properties
                    // and insert before original textarea:
                    return textarea.clone().removeAttr('id').removeAttr('name').css({
                        position: 'absolute',
                        top: 0,
                        left: -9999
                    }).css(propOb).attr('tabIndex','-1').insertBefore(textarea);
					
					
                })(),
                lastScrollTop = null,
                updateSize = function() {
                    // Prepare the clone:
                    clone.height(0).val($(this).val()).scrollTop(10000);
					
                    // Find the height of text:
                    /*
                    var scrollTop = Math.max(clone.scrollTop(), origHeight) + settings.extraSpace,
                        toChange = $(this).add(clone);
*/
                    var scrollTop = Math.max(clone.scrollTop(), origHeight),
                        toChange = $(this).add(clone);
                    // Don't do anything if scrollTip hasen't changed:
                    if (lastScrollTop === scrollTop) { return; }
                    lastScrollTop = scrollTop;
					
                    // Check for limit:
                    if ( scrollTop >= settings.limit ) {
                        $(this).css('overflow-y','');
                        return;
                    }
                    // Fire off callback:
                    settings.onResize.call(this);
					
                    // Either animate or directly apply height:
                   settings.animate && textarea.css('display') === 'block' ?
                        toChange.stop().animate({height:scrollTop}, settings.animateDuration, settings.animateCallback)
                        : toChange.height(scrollTop);
						
					
                };
				
				
                                  
            // Bind namespaced handlers to appropriate events:
            textarea
                .unbind('.dynSiz')
                .bind('keyup.dynSiz', updateSize)
                .bind('keydown.dynSiz', updateSize)
                .bind('change.dynSiz', updateSize);
            
        });
        
        // Chain:
        return this;
        
    };
    
    
    
})(jQuery);


/*! jQuery number 2.1.3 (c) github.com/teamdf/jquery-number | opensource.teamdf.com/license */
(function(h){function r(f,a){if(this.createTextRange){var c=this.createTextRange();c.collapse(true);c.moveStart("character",f);c.moveEnd("character",a-f);c.select()}else if(this.setSelectionRange){this.focus();this.setSelectionRange(f,a)}}function s(f){var a=this.value.length;f=f.toLowerCase()=="start"?"Start":"End";if(document.selection){a=document.selection.createRange();var c;c=a.duplicate();c.expand("textedit");c.setEndPoint("EndToEnd",a);c=c.text.length-a.text.length;a=c+a.text.length;return f==
"Start"?c:a}else if(typeof this["selection"+f]!="undefined")a=this["selection"+f];return a}var q={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};h.fn.number=function(f,a,c,k){k=typeof k==="undefined"?",":k;c=typeof c==="undefined"?".":c;a=typeof a==="undefined"?0:a;var j="\\u"+("0000"+
c.charCodeAt(0).toString(16)).slice(-4),o=RegExp("[^"+j+"0-9]","g"),p=RegExp(j,"g");if(f===true)return this.is("input:text")?this.on({"keydown.format":function(b){var d=h(this),e=d.data("numFormat"),g=b.keyCode?b.keyCode:b.which,m="",i=s.apply(this,["start"]),n=s.apply(this,["end"]),l="";l=false;if(q.codes.hasOwnProperty(g))g=q.codes[g];if(!b.shiftKey&&g>=65&&g<=90)g+=32;else if(!b.shiftKey&&g>=69&&g<=105)g-=48;else if(b.shiftKey&&q.shifts.hasOwnProperty(g))m=q.shifts[g];if(m=="")m=String.fromCharCode(g);
if(g!==8&&m!=c&&!m.match(/[0-9]/)){d=b.keyCode?b.keyCode:b.which;if(d==46||d==8||d==9||d==27||d==13||(d==65||d==82)&&(b.ctrlKey||b.metaKey)===true||(d==86||d==67)&&(b.ctrlKey||b.metaKey)===true||d>=35&&d<=39)return;b.preventDefault();return false}if(i==0&&n==this.value.length||d.val()==0)if(g===8){i=n=1;this.value="";e.init=a>0?-1:0;e.c=a>0?-(a+1):0;r.apply(this,[0,0])}else if(m===c){i=n=1;this.value="0"+c+Array(a+1).join("0");e.init=a>0?1:0;e.c=a>0?-(a+1):0}else{if(this.value.length===0){e.init=
a>0?-1:0;e.c=a>0?-a:0}}else e.c=n-this.value.length;if(a>0&&m==c&&i==this.value.length-a-1){e.c++;e.init=Math.max(0,e.init);b.preventDefault();l=this.value.length+e.c}else if(m==c){e.init=Math.max(0,e.init);b.preventDefault()}else if(a>0&&g==8&&i==this.value.length-a){b.preventDefault();e.c--;l=this.value.length+e.c}else if(a>0&&g==8&&i>this.value.length-a){if(this.value==="")return;if(this.value.slice(i-1,i)!="0"){l=this.value.slice(0,i-1)+"0"+this.value.slice(i);d.val(l.replace(o,"").replace(p,
c))}b.preventDefault();e.c--;l=this.value.length+e.c}else if(g==8&&this.value.slice(i-1,i)==k){b.preventDefault();e.c--;l=this.value.length+e.c}else if(a>0&&i==n&&this.value.length>a+1&&i>this.value.length-a-1&&isFinite(+m)&&!b.metaKey&&!b.ctrlKey&&!b.altKey&&m.length===1){this.value=l=n===this.value.length?this.value.slice(0,i-1):this.value.slice(0,i)+this.value.slice(i+1);l=i}l!==false&&r.apply(this,[l,l]);d.data("numFormat",e)},"keyup.format":function(b){var d=h(this),e=d.data("numFormat");b=b.keyCode?
b.keyCode:b.which;var g=s.apply(this,["start"]);if(!(this.value===""||(b<48||b>57)&&(b<96||b>105)&&b!==8)){d.val(d.val());if(a>0)if(e.init<1){g=this.value.length-a-(e.init<0?1:0);e.c=g-this.value.length;e.init=1;d.data("numFormat",e)}else if(g>this.value.length-a&&b!=8){e.c++;d.data("numFormat",e)}d=this.value.length+e.c;r.apply(this,[d,d])}},"paste.format":function(b){var d=h(this),e=b.originalEvent,g=null;if(window.clipboardData&&window.clipboardData.getData)g=window.clipboardData.getData("Text");
else if(e.clipboardData&&e.clipboardData.getData)g=e.clipboardData.getData("text/plain");d.val(g);b.preventDefault();return false}}).each(function(){var b=h(this).data("numFormat",{c:-(a+1),decimals:a,thousands_sep:k,dec_point:c,regex_dec_num:o,regex_dec:p,init:false});this.value!==""&&b.val(b.val())}):this.each(function(){var b=h(this),d=+b.text().replace(o,"").replace(p,".");b.number(!isFinite(d)?0:+d,a,c,k)});return this.text(h.number.apply(window,arguments))};var t=null,u=null;if(h.isPlainObject(h.valHooks.text)){if(h.isFunction(h.valHooks.text.get))t=
h.valHooks.text.get;if(h.isFunction(h.valHooks.text.set))u=h.valHooks.text.set}else h.valHooks.text={};h.valHooks.text.get=function(f){var a=h(f).data("numFormat");if(a){if(f.value==="")return"";f=+f.value.replace(a.regex_dec_num,"").replace(a.regex_dec,".");return""+(isFinite(f)?f:0)}else if(h.isFunction(t))return t(f)};h.valHooks.text.set=function(f,a){var c=h(f).data("numFormat");if(c)return f.value=h.number(a,c.decimals,c.dec_point,c.thousands_sep);else if(h.isFunction(u))return u(f,a)};h.number=
function(f,a,c,k){k=typeof k==="undefined"?",":k;c=typeof c==="undefined"?".":c;a=!isFinite(+a)?0:Math.abs(a);var j="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4),o="\\u"+("0000"+k.charCodeAt(0).toString(16)).slice(-4);f=(f+"").replace(".",c).replace(RegExp(o,"g"),"").replace(RegExp(j,"g"),".").replace(RegExp("[^0-9+-Ee.]","g"),"");f=!isFinite(+f)?0:+f;j="";j=function(p,b){var d=Math.pow(10,b);return""+Math.round(p*d)/d};j=(a?j(f,a):""+Math.round(f)).split(".");if(j[0].length>3)j[0]=j[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,
k);if((j[1]||"").length<a){j[1]=j[1]||"";j[1]+=Array(a-j[1].length+1).join("0")}return j.join(c)}})(jQuery);
/*!
 * clipboard.js v1.7.1
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT  Zeno Rocha
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){function o(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=o},{}],2:[function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}var r=t("./closest");e.exports=o},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return i(t,e,n);if(c.nodeList(t))return r(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return l(document.body,t,e,n)}var c=t("./is"),l=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(t),o.removeAllRanges(),o.addRange(i),e=o.toString()}return e}e.exports=o},{}],6:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,a=o.length;r<a;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],7:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==o)r(n,e("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function t(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function t(){var e=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function t(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function t(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function t(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function t(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function t(){this.removeFake()}},{key:"action",set:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function t(){return this._action}},{key:"target",set:function t(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=c})},{select:5}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var s=i(e),u=i(n),f=i(o),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(t){function e(t,n){r(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return c(e,t),h(e,[{key:"resolveOptions",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function t(e){var n=this;this.listener=(0,f.default)(e,"click",function(t){return n.onClick(t)})}},{key:"onClick",value:function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(n),target:this.target(n),text:this.text(n),container:this.container,trigger:n,emitter:this})}},{key:"defaultAction",value:function t(e){return l("action",e)}},{key:"defaultTarget",value:function t(e){var n=l("target",e);if(n)return document.querySelector(n)}},{key:"defaultText",value:function t(e){return l("text",e)}},{key:"destroy",value:function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],n="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return n.forEach(function(t){o=o&&!!document.queryCommandSupported(t)}),o}}]),e}(u.default);t.exports=p})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});// JavaScript Document
/*! jQuery UI - v1.9.2 - 2016-12-21
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.datepicker.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t,e){function i(e,i){var n,a,o,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,a=n.name,e.href&&a&&"map"===n.nodeName.toLowerCase()?(o=t("img[usemap=#"+a+"]")[0],!!o&&s(o)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().andSelf().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,a=/^ui-id-\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var s=this;setTimeout(function(){t(s).focus(),i&&i.call(s)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,n,a=t(this[0]);a.length&&a[0]!==document;){if(s=a.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(n=parseInt(a.css("zIndex"),10),!isNaN(n)&&0!==n))return n;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function n(e,i,s,n){return t.each(a,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var a="Width"===s?["Left","Right"]:["Top","Bottom"],o=s.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?r["inner"+s].call(this):this.each(function(){t(this).css(o,n(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?r["outer"+s].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,i)+"px")})}}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),function(){var e=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];t.ui.ie=e.length?!0:!1,t.ui.ie6=6===parseFloat(e[1],10)}(),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,a=t.ui[e].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;n.length>s;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},contains:t.contains,hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},isOverAxis:function(t,e,i){return t>e&&e+i>t},isOver:function(e,i,s,n,a,o){return t.ui.isOverAxis(e,s,a)&&t.ui.isOverAxis(i,n,o)}}))})(jQuery);(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:" ",nextText:" ",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["","","","","","",""],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["","","","","","",""],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){$.extend(t,e);for(var i in e)(null==e[i]||e[i]==undefined)&&(t[i]=e[i]);return t}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){var i=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,e){var i=$(t);e.append=$([]),e.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,i,s){e.settings[i]=s}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i=this._get(e,"appendText"),s=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),t[s?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var n=this._get(e,"showOn");if(("focus"==n||"both"==n)&&t.focus(this._showDatepicker),"button"==n||"both"==n){var a=this._get(e,"buttonText"),o=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:a,title:a}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==o?a:$("<img/>").attr({src:o,alt:a,title:a}))),t[s?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),i=this._get(t,"dateFormat");if(i.match(/[DM]/)){var s=function(t){for(var e=0,i=0,s=0;t.length>s;s++)t[s].length>e&&(e=t[s].length,i=s);return i};e.setMonth(s(this._get(t,i.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(s(this._get(t,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var i=$(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",function(t,i,s){e.settings[i]=s}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,s,n){var a=this._dialogInst;if(!a){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},$.data(this._dialogInput[0],PROP_NAME,a)}if(extendRemove(a.settings,s||{}),e=e&&e.constructor==Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,!this._pos){var r=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[r/2-100+l,h/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,a),this},_destroyDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var s=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==s?(i.append.remove(),i.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==s||"span"==s)&&e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var s=t.nodeName.toLowerCase();if("input"==s)t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==s||"span"==s){var n=e.children("."+this._inlineClass);n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var s=t.nodeName.toLowerCase();if("input"==s)t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==s||"span"==s){var n=e.children("."+this._inlineClass);n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var s=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):s?"all"==e?$.extend({},s.settings):this._get(s,e):null;var n=e||{};if("string"==typeof e&&(n={},n[e]=i),s){this._curInst==s&&this._hideDatepicker();var a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(s,"min"),r=this._getMinMaxDate(s,"max");extendRemove(s.settings,n),null!==o&&n.dateFormat!==undefined&&n.minDate===undefined&&(s.settings.minDate=this._formatDate(s,o)),null!==r&&n.dateFormat!==undefined&&n.maxDate===undefined&&(s.settings.maxDate=this._formatDate(s,r)),this._attachments($(t),s),this._autoSize(s),this._setDate(s,a),this._updateAlternate(s),this._updateDatepicker(s)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),i=!0,s=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var n=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);n[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,n[0]);var a=$.datepicker._get(e,"onSelect");if(a){var o=$.datepicker._formatDate(e);a.apply(e.input?e.input[0]:null,[o,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),i=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),i=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,s?1:-1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),i=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,s?-1:1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),i=t.ctrlKey||t.metaKey;break;default:i=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),s=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e));i&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(s){$.datepicker.log(s)}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!=t.nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(e,"beforeShow"),s=i?i.apply(t,[t,e]):{};if(s!==!1){extendRemove(e.settings,s),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var n=!1;$(t).parents().each(function(){return n|="fixed"==$(this).css("position"),!n});var a={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),a=$.datepicker._checkOffset(e,a,n),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":n?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),!e.inline){var o=$.datepicker._get(e,"showAnim"),r=$.datepicker._get(e,"duration"),h=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var i=$.datepicker._getBorders(e.dpDiv);t.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?e.dpDiv.show(o,$.datepicker._get(e,"showOptions"),r,h):e.dpDiv[o||"show"](o?r:null,h),o&&r||h(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){this.maxRows=4;var e=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i=t.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-e[0],top:-e[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var s=this._getNumberOfMonths(t),n=s[1],a=17;if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width","100%"),t.dpDiv[(1!=s[0]||1!=s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var o=t.yearshtml;setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,i){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),h=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?s-a:0,e.left-=i&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=i&&e.top==t.input.offset().top+o?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+s>r&&r>s?Math.abs(e.left+s-r):0),e.top-=Math.min(e.top,e.top+n>h&&h>n?Math.abs(n+o):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];var s=$(t).offset();return[s.left,s.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var i=this._get(e,"showAnim"),s=this._get(e,"duration"),n=function(){$.datepicker._tidyDialog(e)};$.effects&&($.effects.effect[i]||$.effects[i])?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),s,n):e.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1;var a=this._get(e,"onClose");a&&a.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),i=$.datepicker._getInst(e[0]);(e[0].id!=$.datepicker._mainDivId&&0==e.parents("#"+$.datepicker._mainDivId).length&&!e.hasClass($.datepicker.markerClassName)&&!e.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||e.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var s=$(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,e+("M"==i?this._get(n,"showCurrentAtPos"):0),i),this._updateDatepicker(n))},_gotoToday:function(t){var e=$(t),i=this._getInst(e[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var s=new Date;i.selectedDay=s.getDate(),i.drawMonth=i.selectedMonth=s.getMonth(),i.drawYear=i.selectedYear=s.getFullYear()}this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var s=$(t),n=this._getInst(s[0]);n["selected"+("M"==i?"Month":"Year")]=n["draw"+("M"==i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,e,i,s){var n=$(t);if(!$(s).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(n[0])){var a=this._getInst(n[0]);a.selectedDay=a.currentDay=$("a",s).html(),a.selectedMonth=a.currentMonth=e,a.selectedYear=a.currentYear=i,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]),this._selectDate(e,"")},_selectDate:function(t,e){var i=$(t),s=this._getInst(i[0]);e=null!=e?e:this._formatDate(s),s.input&&s.input.val(e),this._updateAlternate(s);var n=this._get(s,"onSelect");n?n.apply(s.input?s.input[0]:null,[e,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t));$(e).each(function(){$(this).val(n)})}},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1},parseDate:function(t,e,i){if(null==t||null==e)throw"Invalid arguments";if(e="object"==typeof e?""+e:e+"",""==e)return null;var s=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;s="string"!=typeof s?s:(new Date).getFullYear()%100+parseInt(s,10);for(var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,l=-1,u=-1,c=-1,d=!1,p=function(e){var i=t.length>_+1&&t.charAt(_+1)==e;return i&&_++,i},f=function(t){var i=p(t),s="@"==t?14:"!"==t?20:"y"==t&&i?4:"o"==t?3:2,n=RegExp("^\\d{1,"+s+"}"),a=e.substring(v).match(n);if(!a)throw"Missing number at position "+v;return v+=a[0].length,parseInt(a[0],10)},m=function(t,i,s){var n=$.map(p(t)?s:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),a=-1;if($.each(n,function(t,i){var s=i[1];return e.substr(v,s.length).toLowerCase()==s.toLowerCase()?(a=i[0],v+=s.length,!1):undefined}),-1!=a)return a+1;throw"Unknown name at position "+v},g=function(){if(e.charAt(v)!=t.charAt(_))throw"Unexpected literal at position "+v;v++},v=0,_=0;t.length>_;_++)if(d)"'"!=t.charAt(_)||p("'")?g():d=!1;else switch(t.charAt(_)){case"d":u=f("d");break;case"D":m("D",n,a);break;case"o":c=f("o");break;case"m":l=f("m");break;case"M":l=m("M",o,r);break;case"y":h=f("y");break;case"@":var b=new Date(f("@"));h=b.getFullYear(),l=b.getMonth()+1,u=b.getDate();break;case"!":var b=new Date((f("!")-this._ticksTo1970)/1e4);h=b.getFullYear(),l=b.getMonth()+1,u=b.getDate();break;case"'":p("'")?g():d=!0;break;default:g()}if(e.length>v){var y=e.substr(v);if(!/^\s+/.test(y))throw"Extra/unparsed characters found in date: "+y}if(-1==h?h=(new Date).getFullYear():100>h&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(s>=h?0:-100)),c>-1)for(l=1,u=c;;){var w=this._getDaysInMonth(h,l-1);if(w>=u)break;l++,u-=w}var b=this._daylightSavingAdjust(new Date(h,l-1,u));if(b.getFullYear()!=h||b.getMonth()+1!=l||b.getDate()!=u)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,r=function(e){var i=t.length>d+1&&t.charAt(d+1)==e;return i&&d++,i},h=function(t,e,i){var s=""+e;if(r(t))for(;i>s.length;)s="0"+s;return s},l=function(t,e,i,s){return r(t)?s[e]:i[e]},u="",c=!1;if(e)for(var d=0;t.length>d;d++)if(c)"'"!=t.charAt(d)||r("'")?u+=t.charAt(d):c=!1;else switch(t.charAt(d)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=l("D",e.getDay(),s,n);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=l("M",e.getMonth(),a,o);break;case"y":u+=r("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":r("'")?u+="'":c=!0;break;default:u+=t.charAt(d)}return u},_possibleChars:function(t){for(var e="",i=!1,s=function(e){var i=t.length>n+1&&t.charAt(n+1)==e;return i&&n++,i},n=0;t.length>n;n++)if(i)"'"!=t.charAt(n)||s("'")?e+=t.charAt(n):i=!1;else switch(t.charAt(n)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":s("'")?e+="'":i=!0;break;default:e+=t.charAt(n)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var i,s,n=this._get(t,"dateFormat"),a=t.lastVal=t.input?t.input.val():null;i=s=this._getDefaultDate(t);var o=this._getFormatConfig(t);try{i=this.parseDate(n,a,o)||s}catch(r){this.log(r),a=e?"":a}t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear(),t.currentDay=a?i.getDate():0,t.currentMonth=a?i.getMonth():0,t.currentYear=a?i.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,i){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},n=function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(i){}for(var s=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),a=s.getMonth(),o=s.getDate(),r=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=r.exec(e);h;){switch(h[2]||"d"){case"d":case"D":o+=parseInt(h[1],10);break;case"w":case"W":o+=7*parseInt(h[1],10);break;case"m":case"M":a+=parseInt(h[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(n,a));break;case"y":case"Y":n+=parseInt(h[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(n,a))}h=r.exec(e)}return new Date(n,a,o)},a=null==e||""===e?i:"string"==typeof e?n(e):"number"==typeof e?isNaN(e)?i:s(e):new Date(e.getTime());return a=a&&"Invalid Date"==""+a?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),n==t.selectedMonth&&a==t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var i=this._get(t,"isRTL"),s=this._get(t,"showButtonPanel"),n=this._get(t,"hideIfNoPrevNext"),a=this._get(t,"navigationAsDateFormat"),o=this._getNumberOfMonths(t),r=this._get(t,"showCurrentAtPos"),h=this._get(t,"stepMonths"),l=1!=o[0]||1!=o[1],u=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),p=t.drawMonth-r,f=t.drawYear;if(0>p&&(p+=12,f--),d){var m=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-o[0]*o[1]+1,d.getDate()));for(m=c&&c>m?c:m;this._daylightSavingAdjust(new Date(f,p,1))>m;)p--,0>p&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var g=this._get(t,"prevText");g=a?this.formatDate(g,this._daylightSavingAdjust(new Date(f,p-h,1)),this._getFormatConfig(t)):g;var v=this._canAdjustMonth(t,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":n?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>",_=this._get(t,"nextText");_=a?this.formatDate(_,this._daylightSavingAdjust(new Date(f,p+h,1)),this._getFormatConfig(t)):_;var b=this._canAdjustMonth(t,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+_+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+_+"</span></a>":n?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+_+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+_+"</span></a>",y=this._get(t,"currentText"),w=this._get(t,"gotoCurrent")&&t.currentDay?u:e;y=a?this.formatDate(y,w,this._getFormatConfig(t)):y;var x=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"</button>",k=s?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?x:"")+(this._isInRange(t,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+y+"</button>":"")+(i?"":x)+"</div>":"",D=parseInt(this._get(t,"firstDay"),10);D=isNaN(D)?0:D;var C=this._get(t,"showWeek"),T=this._get(t,"dayNames");this._get(t,"dayNamesShort");var M=this._get(t,"dayNamesMin"),S=this._get(t,"monthNames"),N=this._get(t,"monthNamesShort"),I=this._get(t,"beforeShowDay"),P=this._get(t,"showOtherMonths"),A=this._get(t,"selectOtherMonths");this._get(t,"calculateWeek")||this.iso8601Week;for(var z=this._getDefaultDate(t),H="",E=0;o[0]>E;E++){var O="";this.maxRows=4;for(var F=0;o[1]>F;F++){var W=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),L=" ui-corner-all",R="";if(l){if(R+='<div class="ui-datepicker-group',o[1]>1)switch(F){case 0:R+=" ui-datepicker-group-first",L=" ui-corner-"+(i?"right":"left");break;case o[1]-1:R+=" ui-datepicker-group-last",L=" ui-corner-"+(i?"left":"right");break;default:R+=" ui-datepicker-group-middle",L=""}R+='">'}R+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+L+'">'+(/all|left/.test(L)&&0==E?i?b:v:"")+(/all|right/.test(L)&&0==E?i?v:b:"")+this._generateMonthYearHeader(t,p,f,c,d,E>0||F>0,S,N)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var j=C?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",Y=0;7>Y;Y++){var B=(Y+D)%7;j+="<th"+((Y+D+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+T[B]+'">'+M[B]+"</span></th>"}R+=j+"</tr></thead><tbody>";var K=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,K));var q=(this._getFirstDayOfMonth(f,p)-D+7)%7,U=Math.ceil((q+K)/7),V=l?this.maxRows>U?this.maxRows:U:U;this.maxRows=V;for(var J=this._daylightSavingAdjust(new Date(f,p,1-q)),Q=0;V>Q;Q++){R+="<tr>";for(var X=C?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(J)+"</td>":"",Y=0;7>Y;Y++){var G=I?I.apply(t.input?t.input[0]:null,[J]):[!0,""],Z=J.getMonth()!=p,te=Z&&!A||!G[0]||c&&c>J||d&&J>d;X+='<td class="'+((Y+D+6)%7>=5?" ui-datepicker-week-end":"")+(Z?" ui-datepicker-other-month":"")+(J.getTime()==W.getTime()&&p==t.selectedMonth&&t._keyEvent||z.getTime()==J.getTime()&&z.getTime()==W.getTime()?" "+this._dayOverClass:"")+(te?" "+this._unselectableClass+" ui-state-disabled":"")+(Z&&!P?"":" "+G[1]+(J.getTime()==u.getTime()?" "+this._currentClass:"")+(J.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(Z&&!P||!G[2]?"":' title="'+G[2]+'"')+(te?"":' data-handler="selectDay" data-event="click" data-month="'+J.getMonth()+'" data-year="'+J.getFullYear()+'"')+">"+(Z&&!P?"&#xa0;":te?'<span class="ui-state-default">'+J.getDate()+"</span>":'<a class="ui-state-default'+(J.getTime()==e.getTime()?" ui-state-highlight":"")+(J.getTime()==u.getTime()?" ui-state-active":"")+(Z?" ui-priority-secondary":"")+'" href="#">'+J.getDate()+"</a>")+"</td>",J.setDate(J.getDate()+1),J=this._daylightSavingAdjust(J)
}R+=X+"</tr>"}p++,p>11&&(p=0,f++),R+="</tbody></table>"+(l?"</div>"+(o[0]>0&&F==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),O+=R}H+=O}return H+=k+($.ui.ie6&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,H},_generateMonthYearHeader:function(t,e,i,s,n,a,o,r){var h=this._get(t,"changeMonth"),l=this._get(t,"changeYear"),u=this._get(t,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',d="";if(a||!h)d+='<span class="ui-datepicker-month">'+o[e]+"</span>";else{var p=s&&s.getFullYear()==i,f=n&&n.getFullYear()==i;d+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var m=0;12>m;m++)(!p||m>=s.getMonth())&&(!f||n.getMonth()>=m)&&(d+='<option value="'+m+'"'+(m==e?' selected="selected"':"")+">"+r[m]+"</option>");d+="</select>"}if(u||(c+=d+(!a&&h&&l?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!l)c+='<span class="ui-datepicker-year">'+i+"</span>";else{var g=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),_=function(t){var e=t.match(/c[+-].*/)?i+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},b=_(g[0]),y=Math.max(b,_(g[1]||""));for(b=s?Math.max(b,s.getFullYear()):b,y=n?Math.min(y,n.getFullYear()):y,t.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';y>=b;b++)t.yearshtml+='<option value="'+b+'"'+(b==i?' selected="selected"':"")+">"+b+"</option>";t.yearshtml+="</select>",c+=t.yearshtml,t.yearshtml=null}return c+=this._get(t,"yearSuffix"),u&&(c+=(!a&&h&&l?"":"&#xa0;")+d),c+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"==i?e:0),n=t.drawMonth+("M"==i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"==i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,a)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return n=s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max");return(!i||e.getTime()>=i.getTime())&&(!s||e.getTime()<=s.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$})(jQuery);

// 
function disableAllTheseDays(date) {
    var m = date.getMonth(), d = date.getDate(), y = date.getFullYear();
	//alert(disabledDays[0]);
    for (i = 0; i < disabledDays.length; i++) {
        if($.inArray((m+1) + '-' + d + '-' + y,disabledDays) != -1) {
            return [false];
        }
    }
    return [true];
}





//var nprogress=0; //    ajax 	
function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }


function AjaxClient(dir_name,  // 
                    file_name, //   php
					typeQ, //  GET - POST
					data, //       username=Vasya&age=18&sex=male
					result_function,  //    
					varibl, //     . 
					form_id,  //id        0
					nprogress,  
 					cache,
					onyouself  // ajax  .  jax   
					) {	
					if(form_id==0)
					{
					   var data__ss=data;	
					} else
					{
					   var data__ss=jQuery("#"+form_id).serialize();
					}
					var vv='';
					if(varibl!=null)
					{
						
						if (typeof(varibl) == "string") 
						{
							vv=',"'+varibl+'"';
						} else
						{

						vv=','+varibl;
						}
					}
					
					var cache_ajax=true;
					if (cache === undefined) {
						
					} else
					{
						cache_ajax=cache;
					}
					
					if (onyouself=== undefined) 
					{
						var hop_url='Ajax/'+dir_name+'/'+file_name+'.php';
					} else
					{
						if(onyouself=='local')
						{
						var hop_url=window.location.href;
						} else
						{
						var hop_url=onyouself;	
						}
					}
					if ((nprogress=== undefined)||(nprogress== 0)) 
					{
						/*
					$('#nprogress').show();
					var width=getRandomInt(10,50);
					var width1=getRandomInt(50,70);
					var width2=getRandomInt(70,90);
					var width3=getRandomInt(95,97);
		            $('#nprogress .bar').animate({width: width+"%"}, 1000, function() {  $('#nprogress .bar').animate({width: width1+"%"}, 1000, function() { $('#nprogress .bar').animate({width: width2+"%"}, 2000, function() { $('#nprogress .bar').animate({width: width3+"%"}, 4000, function() {  }); }); }); });
					*/
						$('.loader_ada_forms').show();
						$('.loader_ada1_forms').addClass('select_ada');
						
					}
                    jQuery.ajax({
                    url:     hop_url, //  
                    type:     typeQ, // 
                    dataType: "json",
					cache: cache_ajax,

                    data: data__ss,  //form_id - id  html   
                    success: function(jsondata) { //  
					if ((nprogress=== undefined)||(nprogress== 0)) 
					{
						/*
					  $('#nprogress .bar').stop(true);
					  $('#nprogress .bar').animate({width: "100%"}, 500, function() {  $('#nprogress').hide(); $('#nprogress .bar').width('0'); });
					*/
						$('.loader_ada_forms').hide();
						$('.loader_ada1_forms').removeClass('select_ada');
					}
					//window.jsozn=$.parseJSON(jsondata);
                    window.jsozn=jsondata;
					//alert(jsozn['debug']);

					if((jsozn['debug']!='')&&(jsozn['debug']!==undefined))
					{
					   //$('.w_size').show();
					   //$('.w_size').empty().append(jsozn['debug']);
					   //alert(jsozn['debug']);

						alert_message('error',' '+jsozn['debug']);

					}
					//alert(result_function);
					
					$.globalEval(result_function+'(jsozn'+vv+')');
					
					
					
                },
                error: function(response) { // 
                }
             });
        }
 
//    Ajax/best/add.php
/*
AjaxClient('best','add','POST',0,'AfterBestAdd',50,'add_best');
AfterBestAdd(data,varibl)
{
	if ( data.status == 'ok' )
	{

	}		
		
	if ( data.status == 'error' )
	{
		
	}	

}

##add.php
$_POST["name"]   
$aRes = array('status' => 'ok', 'nickname' => 'Aramis');
require_once('Services_JSON.php');
$oJson = new Services_JSON();
echo $oJson->encode($aRes);
*/

//     
/*
AjaxClient('best','add1','POST','username=Vasya&age=18&sex=male','AfterBestAdd',null,0);
AfterBestAdd(data)
{
}
##add1.php
$_POST['username']
$_REQUEST['username']   
*/

(function(a){a.fn.circliful=function(b,d){var c=a.extend({fgcolor:"#556b2f",bgcolor:"#eee",fill:false,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null},b);return this.each(function(){var w=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border"];var f={};var F="";var n=0;var t=a(this);var A=false;var v,G;t.addClass("circliful");e(t);if(t.data("text")!=undefined){v=t.data("text");if(t.data("icon")!=undefined){F=a("<i></i>").addClass("fa "+a(this).data("icon")).css({color:f.iconcolor,"font-size":f.iconsize})}if(t.data("type")!=undefined){j=a(this).data("type");if(j=="half"){s(t,"circle-text-half",(f.dimension/1.45))}else{s(t,"circle-text",f.dimension)}}else{s(t,"circle-text",f.dimension)}}if(a(this).data("total")!=undefined&&a(this).data("part")!=undefined){var I=a(this).data("total")/100;percent=((a(this).data("part")/I)/100).toFixed(3);n=(a(this).data("part")/I).toFixed(3)}else{if(a(this).data("percent")!=undefined){percent=a(this).data("percent")/100;n=a(this).data("percent")}else{percent=c.percent/100}}if(a(this).data("info")!=undefined){G=a(this).data("info");if(a(this).data("type")!=undefined){j=a(this).data("type");if(j=="half"){D(t,0.9)}else{D(t,1.25)}}else{D(t,1.25)}}a(this).width(f.dimension+"px");var i=a("<canvas></canvas>").attr({width:f.dimension,height:f.dimension}).appendTo(a(this)).get(0);var g=i.getContext("2d");var r=i.width/2;var q=i.height/2;var C=f.percent*360;var H=C*(Math.PI/180);var l=i.width/2.5;var B=2.3*Math.PI;var z=0;var E=false;var o=f.animationstep===0?n:0;var p=Math.max(f.animationstep,0);var u=Math.PI*2;var h=Math.PI/2;var j="";var k=true;if(a(this).data("type")!=undefined){j=a(this).data("type");if(j=="half"){B=2*Math.PI;z=3.13;u=Math.PI*1;h=Math.PI/0.996}}function s(J,x,y){a("<span></span>").appendTo(J).addClass(x).text(v).prepend(F).css({"line-height":y+"px","font-size":f.fontsize+"px"})}function D(y,x){a("<span></span>").appendTo(y).addClass("circle-info-half").css("line-height",(f.dimension*x)+"px")}function e(x){a.each(w,function(y,J){if(x.data(J)!=undefined){f[J]=x.data(J)}else{f[J]=a(c).attr(J)}if(J=="fill"&&x.data("fill")!=undefined){A=true}})}function m(x){g.clearRect(0,0,i.width,i.height);g.beginPath();g.arc(r,q,l,z,B,false);g.lineWidth=f.width+1;g.strokeStyle=f.bgcolor;g.stroke();if(A){g.fillStyle=f.fill;g.fill()}g.beginPath();g.arc(r,q,l,-(h),((u)*x)-h,false);if(f.border=="outline"){g.lineWidth=f.width+13}else{if(f.border=="inline"){g.lineWidth=f.width-13}}g.strokeStyle=f.fgcolor;g.stroke();if(o<n){o+=p;requestAnimationFrame(function(){m(Math.min(o,n)/100)},t)}if(o==n&&k&&typeof(b)!="undefined"){if(a.isFunction(b.complete)){b.complete();k=false}}}m(o/100)})}}(jQuery));
/* jQuery ui-datepicker extension */

/**
 *
 * https://gist.github.com/Artemeey/8bacd37964a8069a2eeee8c9b0bd2e44/
 *
 * Version: 1.0 (15.06.2016)
 * Requires: jQuery v1.8+
 * Requires: jQuery-UI v1.10+
 *
 * Copyright (c) 2016 Artemeey
 * Under MIT and GPL licenses:
 *  http://www.opensource.org/licenses/mit-license.php
 *  http://www.gnu.org/licenses/gpl.html
 *
 * sample:
 * $('.datepicker').datepicker({
		range:'period', // 'period' or 'multiple'
		onSelect:function(dateText, inst, extensionRange){
			// range - new argument!
			switch(inst.settings.range){
				case 'period':
					console.log(extensionRange.startDateText);
					console.log(extensionRange.endDateText);
					console.log(extensionRange.startDate);
					console.log(extensionRange.endDate);
					break;
				case 'multiple':
					console.log(extensionRange.dates); // object, width UTC-TIME keys
					console.log(extensionRange.datesText); // object, width UTC-TIME keys
					break;
			}
		}
	});
 *
 * extension styles:
 * .selected
 * .selected-start
 * .selected-end
 * .first-of-month
 * .last-of-month
 *
 */
 
 $.datepicker._get_original=$.datepicker._get,$.datepicker._get=function(t,e){var i=$.datepicker._get_original(t,e),a=t.settings.range;if(!a)return i;var s=this;switch(a){case"period":case"multiple":var n=$(this.dpDiv).data("datepickerExtensionRange");switch(n||(n=new _datepickerExtension,$(this.dpDiv).data("datepickerExtensionRange",n)),n.range=a,n.range_multiple_max=t.settings.range_multiple_max||0,e){case"onSelect":var r=i;r||(r=function(){}),i=function(t,e){n.onSelect(t,e),r(t,e,n),s._datepickerShowing=!1,setTimeout(function(){s._updateDatepicker(e),s._datepickerShowing=!0}),n.setClassActive(e)};break;case"beforeShowDay":var r=i;r||(r=function(){return[!0,""]}),i=function(t){var e=r(t);return e=n.fillDay(t,e)};break;case"beforeShow":var r=i;r||(r=function(){}),i=function(t,e){r(t,e),n.setClassActive(e)};break;case"onChangeMonthYear":var r=i;r||(r=function(){}),i=function(t,e,i){r(t,e,i),n.setClassActive(i)}}}return i},$.datepicker._setDate_original=$.datepicker._setDate,$.datepicker._setDate=function(t,e,i){var a=t.settings.range;if(!a)return $.datepicker._setDate_original(t,e,i);var s=this.dpDiv.data("datepickerExtensionRange");if(!s)return $.datepicker._setDate_original(t,e,i);switch(a){case"period":("object"!=typeof e||void 0==e.length)&&(e=[e,e]),s.step=0,$.datepicker._setDate_original(t,e[0],i),s.startDate=this._getDate(t),s.startDateText=this._formatDate(t),$.datepicker._setDate_original(t,e[1],i),s.endDate=this._getDate(t),s.endDateText=this._formatDate(t),s.setClassActive(t);break;case"multiple":("object"!=typeof e||void 0==e.length)&&(e=[e]),s.dates=[],s.datesText=[];var n=this;$.map(e,function(e){$.datepicker._setDate_original(t,e,i),s.dates.push(n._getDate(t)),s.datesText.push(n._formatDate(t))}),s.setClassActive(t)}};var _datepickerExtension=function(){this.range=!1,this.range_multiple_max=0,this.step=0,this.dates=[],this.datesText=[],this.startDate=null,this.endDate=null,this.startDateText="",this.endDateText="",this.onSelect=function(t,e){switch(this.range){case"period":return this.onSelectPeriod(t,e);case"multiple":return this.onSelectMultiple(t,e)}},this.onSelectPeriod=function(t,e){this.step++,this.step%=2,this.step?(this.startDate=this.getSelectedDate(e),this.endDate=this.startDate,this.startDateText=t,this.endDateText=this.startDateText):(this.endDate=this.getSelectedDate(e),this.endDateText=t,this.startDate.getTime()>this.endDate.getTime()&&(this.endDate=this.startDate,this.startDate=this.getSelectedDate(e),this.endDateText=this.startDateText,this.startDateText=t))},this.onSelectMultiple=function(t,e){var i=this.getSelectedDate(e),a=-1;$.map(this.dates,function(t,e){t.getTime()==i.getTime()&&(a=e)});var s=$.inArray(t,this.datesText);-1!=a?this.dates.splice(a,1):this.dates.push(i),-1!=s?this.datesText.splice(s,1):this.datesText.push(t),this.range_multiple_max&&this.dates.length>this.range_multiple_max&&(this.dates.splice(0,1),this.datesText.splice(0,1))},this.fillDay=function(t,e){var i=e[1];switch(1==t.getDate()&&(i+=" first-of-month"),t.getDate()==new Date(t.getFullYear(),t.getMonth()+1,0).getDate()&&(i+=" last-of-month"),e[1]=i.trim(),this.range){case"period":return this.fillDayPeriod(t,e);case"multiple":return this.fillDayMultiple(t,e)}},this.fillDayPeriod=function(t,e){if(!this.startDate||!this.endDate)return e;var i=e[1];return t>=this.startDate&&t<=this.endDate&&(i+=" selected"),t.getTime()==this.startDate.getTime()&&(i+=" selected-start"),t.getTime()==this.endDate.getTime()&&(i+=" selected-end"),e[1]=i.trim(),e},this.fillDayMultiple=function(t,e){var i=e[1],a=!1;return $.map(this.dates,function(e){e.getTime()==t.getTime()&&(a=!0)}),a&&(i+=" selected selected-start selected-end"),e[1]=i.trim(),e},this.getSelectedDate=function(t){return new Date(t.selectedYear,t.selectedMonth,t.selectedDay)},this.setClassActive=function(t){var e=this;setTimeout(function(){$("td.selected > *",t.dpDiv).addClass("ui-state-active"),"multiple"==e.range&&$("td:not(.selected)",t.dpDiv).removeClass("ui-datepicker-current-day").children().removeClass("ui-state-active")})}};
/*! jQuery UI - v1.9.2 - 2014-03-21
* http://jqueryui.com
* Includes: jquery.ui.effect.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

jQuery.effects||function(e,t){var i=e.uiBackCompat!==!1,a="ui-effects-";e.effects={effect:{}},function(t,i){function a(e,t,i){var a=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=a.floor?~~e:parseFloat(e),isNaN(e)?t.def:a.mod?(e+a.mod)%a.mod:0>e?0:e>a.max?a.max:e)}function s(e){var a=u(),s=a._rgba=[];return e=e.toLowerCase(),m(l,function(t,n){var r,o=n.re.exec(e),h=o&&n.parse(o),l=n.space||"rgba";return h?(r=a[l](h),a[d[l].cache]=r[d[l].cache],s=a._rgba=r._rgba,!1):i}),s.length?("0,0,0,0"===s.join()&&t.extend(s,r.transparent),a):r[e]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var r,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),h=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=t.Color=function(e,i,a,s){return new t.Color.fn.parse(e,i,a,s)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=u.support={},f=t("<p>")[0],m=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,m(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(n,o,h,l){if(n===i)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=i);var c=this,p=t.type(n),f=this._rgba=[];return o!==i&&(n=[n,o,h,l],p="array"),"string"===p?this.parse(s(n)||r._default):"array"===p?(m(d.rgba.props,function(e,t){f[t.idx]=a(n[t.idx],t)}),this):"object"===p?(n instanceof u?m(d,function(e,t){n[t.cache]&&(c[t.cache]=n[t.cache].slice())}):m(d,function(t,i){var s=i.cache;m(i.props,function(e,t){if(!c[s]&&i.to){if("alpha"===e||null==n[e])return;c[s]=i.to(c._rgba)}c[s][t.idx]=a(n[e],t,!0)}),c[s]&&0>e.inArray(null,c[s].slice(0,3))&&(c[s][3]=1,i.from&&(c._rgba=i.from(c[s])))}),this):i},is:function(e){var t=u(e),a=!0,s=this;return m(d,function(e,n){var r,o=t[n.cache];return o&&(r=s[n.cache]||n.to&&n.to(s._rgba)||[],m(n.props,function(e,t){return null!=o[t.idx]?a=o[t.idx]===r[t.idx]:i})),a}),a},_space:function(){var e=[],t=this;return m(d,function(i,a){t[a.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=u(e),s=i._space(),n=d[s],r=0===this.alpha()?u("transparent"):this,o=r[n.cache]||n.to(r._rgba),h=o.slice();return i=i[n.cache],m(n.props,function(e,s){var n=s.idx,r=o[n],l=i[n],u=c[s.type]||{};null!==l&&(null===r?h[n]=l:(u.mod&&(l-r>u.mod/2?r+=u.mod:r-l>u.mod/2&&(r-=u.mod)),h[n]=a((l-r)*t+r,s)))}),this[s](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),a=i.pop(),s=u(e)._rgba;return u(t.map(i,function(e,t){return(1-a)*s[t]+a*e}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),a=i.pop();return e&&i.push(~~(255*a)),"#"+t.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,a=e[0]/255,s=e[1]/255,n=e[2]/255,r=e[3],o=Math.max(a,s,n),h=Math.min(a,s,n),l=o-h,u=o+h,d=.5*u;return t=h===o?0:a===o?60*(s-n)/l+360:s===o?60*(n-a)/l+120:60*(a-s)/l+240,i=0===d||1===d?d:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==r?1:r]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],a=e[2],s=e[3],r=.5>=a?a*(1+i):a+i-a*i,o=2*a-r;return[Math.round(255*n(o,r,t+1/3)),Math.round(255*n(o,r,t)),Math.round(255*n(o,r,t-1/3)),s]},m(d,function(e,s){var n=s.props,r=s.cache,o=s.to,l=s.from;u.fn[e]=function(e){if(o&&!this[r]&&(this[r]=o(this._rgba)),e===i)return this[r].slice();var s,h=t.type(e),d="array"===h||"object"===h?e:arguments,c=this[r].slice();return m(n,function(e,t){var i=d["object"===h?e:t.idx];null==i&&(i=c[t.idx]),c[t.idx]=a(i,t)}),l?(s=u(l(c)),s[r]=c,s):u(c)},m(n,function(i,a){u.fn[i]||(u.fn[i]=function(s){var n,r=t.type(s),o="alpha"===i?this._hsla?"hsla":"rgba":e,l=this[o](),u=l[a.idx];return"undefined"===r?u:("function"===r&&(s=s.call(this,u),r=t.type(s)),null==s&&a.empty?this:("string"===r&&(n=h.exec(s),n&&(s=u+parseFloat(n[2])*("+"===n[1]?1:-1))),l[a.idx]=s,this[o](l)))})})}),m(o,function(e,i){t.cssHooks[i]={set:function(e,a){var n,r,o="";if("string"!==t.type(a)||(n=s(a))){if(a=u(n||a),!p.rgba&&1!==a._rgba[3]){for(r="backgroundColor"===i?e.parentNode:e;(""===o||"transparent"===o)&&r&&r.style;)try{o=t.css(r,"backgroundColor"),r=r.parentNode}catch(h){}a=a.blend(o&&"transparent"!==o?o:"_default")}a=a.toRgbaString()}try{e.style[i]=a}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=u(e.elem,i),e.end=u(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return m(["Top","Right","Bottom","Left"],function(i,a){t["border"+a+"Color"]=e}),t}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t,i,a=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,s={};if(a&&a.length&&a[0]&&a[a[0]])for(i=a.length;i--;)t=a[i],"string"==typeof a[t]&&(s[e.camelCase(t)]=a[t]);else for(t in a)"string"==typeof a[t]&&(s[t]=a[t]);return s}function a(t,i){var a,s,r={};for(a in i)s=i[a],t[a]!==s&&(n[a]||(e.fx.step[a]||!isNaN(parseFloat(s)))&&(r[a]=s));return r}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,n,r,o){var h=e.speed(n,r,o);return this.queue(function(){var n,r=e(this),o=r.attr("class")||"",l=h.children?r.find("*").andSelf():r;l=l.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),n=function(){e.each(s,function(e,i){t[i]&&r[i+"Class"](t[i])})},n(),l=l.map(function(){return this.end=i.call(this.el[0]),this.diff=a(this.start,this.end),this}),r.attr("class",o),l=l.map(function(){var t=this,i=e.Deferred(),a=jQuery.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,a),i.promise()}),e.when.apply(e,l.get()).done(function(){n(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,a,s){return i?e.effects.animateClass.call(this,{add:t},i,a,s):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,a,s){return i?e.effects.animateClass.call(this,{remove:t},i,a,s):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,a,s,n,r){return"boolean"==typeof a||a===t?s?e.effects.animateClass.call(this,a?{add:i}:{remove:i},s,n,r):this._toggleClass(i,a):e.effects.animateClass.call(this,{toggle:i},a,s,n)},switchClass:function(t,i,a,s,n){return e.effects.animateClass.call(this,{add:i,remove:t},a,s,n)}})}(),function(){function s(t,i,a,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,a=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=a,a=i,i={}),e.isFunction(a)&&(s=a,a=null),i&&e.extend(t,i),a=a||i.duration,t.duration=e.fx.off?0:"number"==typeof a?a:a in e.fx.speeds?e.fx.speeds[a]:e.fx.speeds._default,t.complete=s||i.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?!1:i&&e.effects[t]?!1:!0}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(a+t[i],e[0].style[t[i]])},restore:function(e,i){var s,n;for(n=0;i.length>n;n++)null!==i[n]&&(s=e.data(a+i[n]),s===t&&(s=""),e.css(i[n],s))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,a;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=e[1]/t.width}return{x:a,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},a=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(r){n=document.body}return t.wrap(a),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),a=t.parent(),"static"===t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,a){i[a]=t.css(a),isNaN(parseInt(i[a],10))&&(i[a]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),a.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,a,s){return s=s||{},e.each(i,function(e,i){var n=t.cssUnit(i);n[0]>0&&(s[i]=n[0]*a+n[1])}),s}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(n)&&n.call(s[0]),e.isFunction(t)&&t()}var s=e(this),n=a.complete,r=a.mode;(s.is(":hidden")?"hide"===r:"show"===r)?i():o.call(s[0],a,i)}var a=s.apply(this,arguments),n=a.mode,r=a.queue,o=e.effects.effect[a.effect],h=!o&&i&&e.effects[a.effect];return e.fx.off||!o&&!h?n?this[n](a.duration,a.complete):this.each(function(){a.complete&&a.complete.call(this)}):o?r===!1?this.each(t):this.queue(r||"fx",t):h.call(this,{options:a,duration:a.duration,callback:a.complete,mode:a.mode})},_show:e.fn.show,show:function(e){if(n(e))return this._show.apply(this,arguments);var t=s.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(n(e))return this._hide.apply(this,arguments);var t=s.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(n(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),a=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(a=[parseFloat(i),t])}),a}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery);




/* ------------------------------------------------------------------------
Class: freezeHeader
Use:freeze header row in html table
Example 1:  $('#tableid').freezeHeader();
Example 2:  $("#tableid").freezeHeader({ 'height': '300px' });
Example 3:  $("table").freezeHeader();
Example 4:  $(".table2").freezeHeader();
Example 5:  $("#tableid").freezeHeader({ 'offset': '50px' });
Author(s): Laerte Mercier Junior, Larry A. Hendrix
Version: 1.0.8
-------------------------------------------------------------------------*/
(function ($) {
    var TABLE_ID = 0;
    $.fn.freezeHeader = function (params) {

        var copiedHeader = false;

        function freezeHeader(elem) {
            var idObj = elem.attr('id') || ('tbl-' + (++TABLE_ID));
            if (elem.length > 0 && elem[0].tagName.toLowerCase() == "table") {

                var obj = {
                    id: idObj,
                    grid: elem,
                    container: null,
                    header: null,
                    divScroll: null,
                    openDivScroll: null,
                    closeDivScroll: null,
                    scroller: null
                };

                if (params && params.height !== undefined) {
                    obj.divScroll = '<div id="hdScroll' + obj.id + '" style="height: ' + params.height + '; overflow-y: scroll">';
                    obj.closeDivScroll = '</div>';
                }

                obj.header = obj.grid.find('thead');

                if (params && params.height !== undefined) {
                    if ($('#hdScroll' + obj.id).length == 0) {
                        obj.grid.wrapAll(obj.divScroll);
                    }
                }

                obj.scroller = params && params.height !== undefined
                   ? $('#hdScroll' + obj.id)
                   : $(window);

                if (params && params.scrollListenerEl !== undefined) {
                    obj.scroller = params.scrollListenerEl;
                }
                obj.scroller.on('scroll', function () {
                    if ($('#hd' + obj.id).length == 0) {
                        obj.grid.before('<div class="freeez" id="hd' + obj.id + '"></div>');
                    }

                    obj.container = $('#hd' + obj.id);

                    if (obj.header.offset() != null) {
                        if (limiteAlcancado(obj, params)) {
                            elem.trigger("freeze:on");
                            if (!copiedHeader) {
                                cloneHeaderRow(obj);
                                copiedHeader = true;
                            }
                        }
                        else {

                            if (($(document).scrollTop() > obj.header.offset().top)) {
                                obj.container.css("position", "absolute");
                                obj.container.css("top", (obj.grid.find("tr:last").offset().top - obj.header.height()) + "px");
                            }
                            else {
                                elem.trigger("freeze:off");
                                obj.container.css("visibility", "hidden");
                                obj.container.css("top", "0px");
                                obj.container.width(0);
                            }
                            copiedHeader = false;
                        }
                    }

                });
            }
        }

        function limiteAlcancado(obj, params) {
            if (params && (params.height !== undefined || params.scrollListenerEl !== undefined)) {
                return (obj.header.offset().top <= obj.scroller.offset().top);
            }
            else {
                var top = obj.header.offset().top;
                if (params) {
                    if (params.offset !== undefined) {
                       top -= parseInt(params.offset.replace('px',''),10);
                    }
                }

                var gridHeight = (obj.grid.height() - obj.header.height() - obj.grid.find("tr:last").height()) + obj.header.offset().top;
                return ($(document).scrollTop() > top && $(document).scrollTop() < gridHeight);
            }
        }

        function cloneHeaderRow(obj) {
            obj.container.html('');
            obj.container.val('');
            var tabela = $('<table style="margin: 0 0;"></table>');
            var atributos = obj.grid.prop("attributes");

            $.each(atributos, function () {
                if (this.name != "id") {
                    tabela.attr(this.name, this.value);
                }
            });

            var clone = obj.header.clone(true);
            
            clone.appendTo(tabela);

            obj.container.append(tabela);
            obj.container.width(obj.header.width());
            obj.container.height(obj.header.height);
            obj.container.find('th').each(function (index) {
                var cellWidth = obj.grid.find('th').eq(index).outerWidth();
				//alert(cellWidth);
                $(this).css('width', cellWidth);
            });

            obj.container.css("visibility", "visible");

            if (params && params.height !== undefined) {
               
                if(params.offset !== undefined){
                    obj.container.css("top", obj.scroller.offset().top + (params.offset.replace("px","") * 1) + "px");
                }
                else
                {
                    obj.container.css("top", obj.scroller.offset().top + "px");
                }
                
            obj.container.css("position", "absolute");
                
            } else if (params && params.scrollListenerEl!== undefined) { 
                obj.container.css("top", obj.scroller.find("thead > tr").innerHeight() + "px");
                obj.container.css("position", "absolute");
                obj.container.css("z-index", "2");
            } else if (params && params.offset !== undefined) {
                obj.container.css("top", params.offset);
                obj.container.css("position", "fixed");
            } else {
                obj.container.css("top", "0px");
                obj.container.css("position", "fixed");
            }
        }

        return this.each(function (i, e) {
            freezeHeader($(e));
        });

    };
})(OLD);
/**
 * fullPage 2.5.6
 * https://github.com/alvarotrigo/fullPage.js
 * MIT licensed
 *
 * Copyright (C) 2013 alvarotrigo.com - A project by Alvaro Trigo
 */

(function($) {
	$.fn.fullpage = function(options) {
		// Create some defaults, extending them with any options that were provided
		options = $.extend({
			//navigation
			'menu': false,
			'anchors':[],
			'navigation': false,
			'navigationPosition': 'right',
			'navigationColor': '#000',
			'navigationTooltips': [],
			'slidesNavigation': false,
			'slidesNavPosition': 'bottom',
			'scrollBar': false,

			//scrolling
			'css3': true,
			'scrollingSpeed': 700,
			'autoScrolling': true,
			'easing': 'easeInQuart',
			'easingcss3': 'ease',
			'loopBottom': false,
			'loopTop': false,
			'loopHorizontal': true,
			'continuousVertical': false,
			'normalScrollElements': null,
			'scrollOverflow': false,
			'touchSensitivity': 5,
			'normalScrollElementTouchThreshold': 5,

			//Accessibility
			'keyboardScrolling': true,
			'animateAnchor': true,
			'recordHistory': true,

			//design
			'controlArrows': true,
			'controlArrowColor': '#fff',
			"verticalCentered": true,
			'resize': true,
			'sectionsColor' : [],
			'paddingTop': 0,
			'paddingBottom': 0,
			'fixedElements': null,
			'responsive': 0,

			//Custom selectors
			'sectionSelector': '.section',
			'slideSelector': '.slide',


			//events
			'afterLoad': null,
			'onLeave': null,
			'afterRender': null,
			'afterResize': null,
			'afterReBuild': null,
			'afterSlideLoad': null,
			'onSlideLeave': null
		}, options);

	    displayWarnings();

	    //easeInQuart animation included in the plugin
	    $.extend($.easing,{ easeInQuart: function (x, t, b, c, d) { return c*(t/=d)*t*t*t + b; }});

		//Defines the delay to take place before being able to scroll to the next section
		//BE CAREFUL! Not recommened to change it under 400 for a good behavior in laptops and
		//Apple devices (laptops, mouses...)
		var scrollDelay = 600;

		$.fn.fullpage.setAutoScrolling = function(value, type){
			setVariableState('autoScrolling', value, type);

			var element = $('.fp-section.active');

			if(options.autoScrolling && !options.scrollBar){
				$('html, body').css({
					'overflow' : 'hidden',
					'height' : '100%'
				});

				$.fn.fullpage.setRecordHistory(options.recordHistory, 'internal');

				//for IE touch devices
				container.css({
					'-ms-touch-action': 'none',
					'touch-action': 'none'
				});

				if(element.length){
					//moving the container up
					silentScroll(element.position().top);
				}

			}else{
				$('html, body').css({
					'overflow' : 'visible',
					'height' : 'initial'
				});

				$.fn.fullpage.setRecordHistory(false, 'internal');

				//for IE touch devices
				container.css({
					'-ms-touch-action': '',
					'touch-action': ''
				});

				silentScroll(0);

				//scrolling the page to the section with no animation
				$('html, body').scrollTop(element.position().top);
			}

		};

		/**
		* Defines wheter to record the history for each hash change in the URL.
		*/
		$.fn.fullpage.setRecordHistory = function(value, type){
			setVariableState('recordHistory', value, type);
		};

		/**
		* Defines the scrolling speed
		*/
		$.fn.fullpage.setScrollingSpeed = function(value, type){
			setVariableState('scrollingSpeed', value, type);
		};

		/**
		* Adds or remove the possiblity of scrolling through sections by using the mouse wheel or the trackpad.
		*/
		$.fn.fullpage.setMouseWheelScrolling = function (value){
			if(value){
				addMouseWheelHandler();
			}else{
				removeMouseWheelHandler();
			}
		};

		/**
		* Adds or remove the possiblity of scrolling through sections by using the mouse wheel/trackpad or touch gestures.
		* Optionally a second parameter can be used to specify the direction for which the action will be applied.
		*
		* @param directions string containing the direction or directions separated by comma.
		*/
		$.fn.fullpage.setAllowScrolling = function (value, directions){
			if(typeof directions != 'undefined'){
				directions = directions.replace(' ', '').split(',');
				$.each(directions, function (index, direction){
					setIsScrollable(value, direction);
				});
			}
			else if(value){
				$.fn.fullpage.setMouseWheelScrolling(true);
				addTouchHandler();
			}else{
				$.fn.fullpage.setMouseWheelScrolling(false);
				removeTouchHandler();
			}
		};

		/**
		* Adds or remove the possiblity of scrolling through sections by using the keyboard arrow keys
		*/
		$.fn.fullpage.setKeyboardScrolling = function (value){
			options.keyboardScrolling = value;
		};

		$.fn.fullpage.moveSectionUp = function(){
			var prev = $('.fp-section.active').prev('.fp-section');

			//looping to the bottom if there's no more sections above
			if (!prev.length && (options.loopTop || options.continuousVertical)) {
				prev = $('.fp-section').last();
			}

			if (prev.length) {
				scrollPage(prev, null, true);
			}
		};

		$.fn.fullpage.moveSectionDown = function (){
			var next = $('.fp-section.active').next('.fp-section');

			//looping to the top if there's no more sections below
			if(!next.length &&
				(options.loopBottom || options.continuousVertical)){
				next = $('.fp-section').first();
			}

			if(next.length){
				scrollPage(next, null, false);
			}
		};

		$.fn.fullpage.moveTo = function (section, slide){
			var destiny = '';

			if(isNaN(section)){
				destiny = $('[data-anchor="'+section+'"]');
			}else{
				destiny = $('.fp-section').eq( (section -1) );
			}

			if (typeof slide !== 'undefined'){
				scrollPageAndSlide(section, slide);
			}else if(destiny.length > 0){
				scrollPage(destiny);
			}
		};

		$.fn.fullpage.moveSlideRight = function(){
			moveSlide('next');
		};

		$.fn.fullpage.moveSlideLeft = function(){
			moveSlide('prev');
		};

		/**
		 * When resizing is finished, we adjust the slides sizes and positions
		 */
		$.fn.fullpage.reBuild = function(resizing){
			isResizing = true;

			var windowsWidth = $(window).width();
			windowsHeight = $(window).height();  //updating global var

			//text and images resizing
			if (options.resize) {
				resizeMe(windowsHeight, windowsWidth);
			}

			$('.fp-section').each(function(){
				var slidesWrap = $(this).find('.fp-slides');
				var slides = $(this).find('.fp-slide');

				//adjusting the height of the table-cell for IE and Firefox
				if(options.verticalCentered){
					$(this).find('.fp-tableCell').css('height', getTableHeight($(this)) + 'px');
				}

				$(this).css('height', windowsHeight + 'px');

				//resizing the scrolling divs
				if(options.scrollOverflow){
					if(slides.length){
						slides.each(function(){
							createSlimScrolling($(this));
						});
					}else{
						createSlimScrolling($(this));
					}
				}

				//adjusting the position fo the FULL WIDTH slides...
				if (slides.length) {
					landscapeScroll(slidesWrap, slidesWrap.find('.fp-slide.active'));
				}
			});

			var activeSection = $('.fp-section.active');

			//isn't it the first section?
			if(activeSection.index('.fp-section')){
				//adjusting the position for the current section
				scrollPage(activeSection);
			}

			isResizing = false;
			$.isFunction( options.afterResize ) && resizing && options.afterResize.call(container);
			$.isFunction( options.afterReBuild ) && !resizing && options.afterReBuild.call(container);
		};

		//flag to avoid very fast sliding for landscape sliders
		var slideMoving = false;

		var isTouchDevice = navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|Windows Phone|Tizen|Bada)/);
		var isTouch = (('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0) || (navigator.maxTouchPoints));
		var container = $(this);
		var windowsHeight = $(window).height();
		var isMoving = false;
		var isResizing = false;
		var lastScrolledDestiny;
		var lastScrolledSlide;
		var nav;
		var wrapperSelector = 'fullpage-wrapper';
		var isScrollAllowed = { 'up':true, 'down':true, 'left':true, 'right':true };
		var originals = $.extend(true, {}, options); //deep copy

		$.fn.fullpage.setAllowScrolling(true);

		//if css3 is not supported, it will use jQuery animations
		if(options.css3){
			options.css3 = support3d();
		}

		if($(this).length){
			container.css({
				'height': '100%',
				'position': 'relative'
			});

			//adding a class to recognize the container internally in the code
			container.addClass(wrapperSelector);
		}

		//trying to use fullpage without a selector?
		else{
			showError('error', "Error! Fullpage.js needs to be initialized with a selector. For example: $('#myContainer').fullpage();");
		}

		//adding internal class names to void problem with common ones
		$(options.sectionSelector).each(function(){
  			$(this).addClass('fp-section');
		});
		$(options.slideSelector).each(function(){
  			$(this).addClass('fp-slide');
		});

		//creating the navigation dots
		if (options.navigation) {
			addVerticalNavigation();
		}

		$('.fp-section').each(function(index){
			var that = $(this);
			var slides = $(this).find('.fp-slide');
			var numSlides = slides.length;

			//if no active section is defined, the 1st one will be the default one
			if(!index && $('.fp-section.active').length === 0) {
				$(this).addClass('active');
			}

			$(this).css('height', windowsHeight + 'px');

			if(options.paddingTop || options.paddingBottom){
				$(this).css('padding', options.paddingTop  + ' 0 ' + options.paddingBottom + ' 0');
			}

			if (typeof options.sectionsColor[index] !==  'undefined') {
				$(this).css('background-color', options.sectionsColor[index]);
			}

			if (typeof options.anchors[index] !== 'undefined') {
				$(this).attr('data-anchor', options.anchors[index]);
			}

			// if there's any slide
			if (numSlides > 1) {
				var sliderWidth = numSlides * 100;
				var slideWidth = 100 / numSlides;

				slides.wrapAll('<div class="fp-slidesContainer" />');
				slides.parent().wrap('<div class="fp-slides" />');

				$(this).find('.fp-slidesContainer').css('width', sliderWidth + '%');

				if(options.controlArrows){
					createSlideArrows($(this));
				}

				if(options.slidesNavigation){
					addSlidesNavigation($(this), numSlides);
				}

				slides.each(function(index) {
					$(this).css('width', slideWidth + '%');

					if(options.verticalCentered){
						addTableClass($(this));
					}
				});

				var startingSlide = that.find('.fp-slide.active');

				//if the slide won#t be an starting point, the default will be the first one
				if(!startingSlide.length){
					slides.eq(0).addClass('active');
				}

				//is there a starting point for a non-starting section?
				else{
					silentLandscapeScroll(startingSlide);
				}

			}else{
				if(options.verticalCentered){
					addTableClass($(this));
				}
			}

		}).promise().done(function(){
			$.fn.fullpage.setAutoScrolling(options.autoScrolling, 'internal');

			//the starting point is a slide?
			var activeSlide = $('.fp-section.active').find('.fp-slide.active');

			//the active section isn't the first one? Is not the first slide of the first section? Then we load that section/slide by default.
			if( activeSlide.length &&  ($('.fp-section.active').index('.fp-section') !== 0 || ($('.fp-section.active').index('.fp-section') === 0 && activeSlide.index() !== 0))){
				silentLandscapeScroll(activeSlide);
			}

			//fixed elements need to be moved out of the plugin container due to problems with CSS3.
			if(options.fixedElements && options.css3){
				$(options.fixedElements).appendTo('body');
			}

			//vertical centered of the navigation + first bullet active
			if(options.navigation){
				nav.css('margin-top', '-' + (nav.height()/2) + 'px');
				nav.find('li').eq($('.fp-section.active').index('.fp-section')).find('a').addClass('active');
			}

			//moving the menu outside the main container if it is inside (avoid problems with fixed positions when using CSS3 tranforms)
			if(options.menu && options.css3 && $(options.menu).closest('.fullpage-wrapper').length){
				$(options.menu).appendTo('body');
			}

			if(options.scrollOverflow){
				if(document.readyState === "complete"){
					createSlimScrollingHandler();
				}
				//after DOM and images are loaded
				$(window).on('load', createSlimScrollingHandler);
			}else{
				$.isFunction( options.afterRender ) && options.afterRender.call(container);
			}

			responsive();

			//getting the anchor link in the URL and deleting the `#`
			var value =  window.location.hash.replace('#', '').split('/');
			var destiny = value[0];

			if(destiny.length){
				var section = $('[data-anchor="'+destiny+'"]');

				if(!options.animateAnchor && section.length){

					if(options.autoScrolling){
						silentScroll(section.position().top);
					}
					else{
						silentScroll(0);
						setBodyClass(destiny);

						//scrolling the page to the section with no animation
						$('html, body').scrollTop(section.position().top);
					}

					activateMenuAndNav(destiny, null);

					$.isFunction( options.afterLoad ) && options.afterLoad.call( section, destiny, (section.index('.fp-section') + 1));

					//updating the active class
					section.addClass('active').siblings().removeClass('active');
				}
			}


			$(window).on('load', function() {
				scrollToAnchor();
			});

		});


		/**
		* Creates the control arrows for the given section
		*/
		function createSlideArrows(section){
			section.find('.fp-slides').after('<div class="fp-controlArrow fp-prev"></div><div class="fp-controlArrow fp-next"></div>');

			if(options.controlArrowColor!='#fff'){
				section.find('.fp-controlArrow.fp-next').css('border-color', 'transparent transparent transparent '+options.controlArrowColor);
				section.find('.fp-controlArrow.fp-prev').css('border-color', 'transparent '+ options.controlArrowColor + ' transparent transparent');
			}

			if(!options.loopHorizontal){
				section.find('.fp-controlArrow.fp-prev').hide();
			}
		}

		/**
		* Creates a vertical navigation bar.
		*/
		function addVerticalNavigation(){
			$('body').append('<div id="fp-nav"><ul></ul></div>');
			nav = $('#fp-nav');

			nav.css('color', options.navigationColor);
			nav.addClass(options.navigationPosition);

			for (var i = 0; i < $('.fp-section').length; i++) {
				var link = '';
				if (options.anchors.length) {
					link = options.anchors[i];
				}

				var li = '<li><a href="#' + link + '"><span></span></a>';

				// Only add tooltip if needed (defined by user)
				var tooltip = options.navigationTooltips[i];
				if (tooltip !== undefined && tooltip != '') {
					li += '<div class="fp-tooltip ' + options.navigationPosition + '">' + tooltip + '</div>';
				}

				li += '</li>';

				nav.find('ul').append(li);
			}
		}

		function createSlimScrollingHandler(){
			$('.fp-section').each(function(){
				var slides = $(this).find('.fp-slide');

				if(slides.length){
					slides.each(function(){
						createSlimScrolling($(this));
					});
				}else{
					createSlimScrolling($(this));
				}

			});
			$.isFunction( options.afterRender ) && options.afterRender.call( this);
		}

		var scrollId;
		var scrollId2;
		var isScrolling = false;

		//when scrolling...
		$(window).on('scroll', scrollHandler);

		function scrollHandler(){
			var currentSection;

			if(!options.autoScrolling || options.scrollBar){
				var currentScroll = $(window).scrollTop();
				var visibleSectionIndex = 0;
				var initial = Math.abs(currentScroll - $('.fp-section').first().offset().top);

				//taking the section which is showing more content in the viewport
				$('.fp-section').each(function(index){
					var current = Math.abs(currentScroll - $(this).offset().top);

					if(current < initial){
						visibleSectionIndex = index;
						initial = current;
					}
				});

				//geting the last one, the current one on the screen
				currentSection = $('.fp-section').eq(visibleSectionIndex);
			}

			if(!options.autoScrolling || options.scrollBar){
				//executing only once the first time we reach the section
				if(!currentSection.hasClass('active')){
					isScrolling = true;
					var leavingSection = $('.fp-section.active');
					var leavingSectionIndex = leavingSection.index('.fp-section') + 1;
					var yMovement = getYmovement(currentSection);
					var anchorLink  = currentSection.data('anchor');
					var sectionIndex = currentSection.index('.fp-section') + 1;
					var activeSlide = currentSection.find('.fp-slide.active');

					if(activeSlide.length){
						var slideAnchorLink = activeSlide.data('anchor');
						var slideIndex = activeSlide.index();
					}

					currentSection.addClass('active').siblings().removeClass('active');

					if(!isMoving){
						$.isFunction( options.onLeave ) && options.onLeave.call( leavingSection, leavingSectionIndex, sectionIndex, yMovement);

						$.isFunction( options.afterLoad ) && options.afterLoad.call( currentSection, anchorLink, sectionIndex);
					}

					activateMenuAndNav(anchorLink, 0);

					if(options.anchors.length && !isMoving){
						//needed to enter in hashChange event when using the menu with anchor links
						lastScrolledDestiny = anchorLink;

						setState(slideIndex, slideAnchorLink, anchorLink, sectionIndex);
					}

					//small timeout in order to avoid entering in hashChange event when scrolling is not finished yet
					clearTimeout(scrollId);
					scrollId = setTimeout(function(){
						isScrolling = false;
					}, 100);
				}
			}

			if(options.scrollBar){
				//for the auto adjust of the viewport to fit a whole section
				clearTimeout(scrollId2);

				scrollId2 = setTimeout(function(){
					if(!isMoving){
						//allows to scroll to an active section and
						//if the section is already active, we prevent firing callbacks
						if($('.fp-section.active').is(currentSection)){
							isResizing = true;
						}
						scrollPage(currentSection);
						isResizing = false;
					}
				}, 1000);
			}
		}


		/**
		* Determines whether the active section or slide is scrollable through and scrolling bar
		*/
		function isScrollable(activeSection){
			//if there are landscape slides, we check if the scrolling bar is in the current one or not
			if(activeSection.find('.fp-slides').length){
				return activeSection.find('.fp-slide.active').find('.fp-scrollable');
			}

			return activeSection.find('.fp-scrollable');
		}

		/**
		* Determines the way of scrolling up or down:
		* by 'automatically' scrolling a section or by using the default and normal scrolling.
		*/
		function scrolling(type, scrollable){
			if (!isScrollAllowed[type]){
				return;
			}
			var check, scrollSection;

			if(type == 'down'){
				check = 'bottom';
				scrollSection = $.fn.fullpage.moveSectionDown;
			}else{
				check = 'top';
				scrollSection = $.fn.fullpage.moveSectionUp;
			}

			if(scrollable.length > 0 ){
				//is the scrollbar at the start/end of the scroll?
				if(isScrolled(check, scrollable)){
					scrollSection();
				}else{
					return true;
				}
			}else{
				// moved up/down
				scrollSection();
			}
		}


		var touchStartY = 0;
		var touchStartX = 0;
		var touchEndY = 0;
		var touchEndX = 0;

		/* Detecting touch events

		* As we are changing the top property of the page on scrolling, we can not use the traditional way to detect it.
		* This way, the touchstart and the touch moves shows an small difference between them which is the
		* used one to determine the direction.
		*/
		function touchMoveHandler(event){
			var e = event.originalEvent;

			// additional: if one of the normalScrollElements isn't within options.normalScrollElementTouchThreshold hops up the DOM chain
			if (!checkParentForNormalScrollElement(event.target)) {

				if(options.autoScrolling){
					//preventing the easing on iOS devices
					event.preventDefault();
				}

				var activeSection = $('.fp-section.active');
				var scrollable = isScrollable(activeSection);

				if (!isMoving && !slideMoving) { //if theres any #
					var touchEvents = getEventsPage(e);

					touchEndY = touchEvents.y;
					touchEndX = touchEvents.x;

					//if movement in the X axys is greater than in the Y and the currect section has slides...
					if (activeSection.find('.fp-slides').length && Math.abs(touchStartX - touchEndX) > (Math.abs(touchStartY - touchEndY))) {

					    //is the movement greater than the minimum resistance to scroll?
					    if (Math.abs(touchStartX - touchEndX) > ($(window).width() / 100 * options.touchSensitivity)) {
					        if (touchStartX > touchEndX) {
					        	if(isScrollAllowed.right){
					            	$.fn.fullpage.moveSlideRight(); //next
					            }
					        } else {
					        	if(isScrollAllowed.left){
					            	$.fn.fullpage.moveSlideLeft(); //prev
					            }
					        }
					    }
					}

					//vertical scrolling (only when autoScrolling is enabled)
					else if(options.autoScrolling){

						//is the movement greater than the minimum resistance to scroll?
						if (Math.abs(touchStartY - touchEndY) > ($(window).height() / 100 * options.touchSensitivity)) {
							if (touchStartY > touchEndY) {
								scrolling('down', scrollable);
							} else if (touchEndY > touchStartY) {
								scrolling('up', scrollable);
							}
						}
					}
				}
			}

		}

		/**
		 * recursive function to loop up the parent nodes to check if one of them exists in options.normalScrollElements
		 * Currently works well for iOS - Android might need some testing
		 * @param  {Element} el  target element / jquery selector (in subsequent nodes)
		 * @param  {int}     hop current hop compared to options.normalScrollElementTouchThreshold
		 * @return {boolean} true if there is a match to options.normalScrollElements
		 */
		function checkParentForNormalScrollElement (el, hop) {
			hop = hop || 0;
			var parent = $(el).parent();

			if (hop < options.normalScrollElementTouchThreshold &&
				parent.is(options.normalScrollElements) ) {
				return true;
			} else if (hop == options.normalScrollElementTouchThreshold) {
				return false;
			} else {
				return checkParentForNormalScrollElement(parent, ++hop);
			}
		}

		function touchStartHandler(event){
			var e = event.originalEvent;

			//stopping the auto scroll to adjust to a section
			if(options.scrollBar){
				$("html,body").stop();
			}

			var touchEvents = getEventsPage(e);
			touchStartY = touchEvents.y;
			touchStartX = touchEvents.x;
		}


		/**
		 * Detecting mousewheel scrolling
		 *
		 * http://blogs.sitepointstatic.com/examples/tech/mouse-wheel/index.html
		 * http://www.sitepoint.com/html5-javascript-mouse-wheel/
		 */
		function MouseWheelHandler(e) {
			if(options.autoScrolling){
				// cross-browser wheel delta
				e = window.event || e;
				var delta = Math.max(-1, Math.min(1,
						(e.wheelDelta || -e.deltaY || -e.detail)));

				//preventing to scroll the site on mouse wheel when scrollbar is present
				if(options.scrollBar){
					e.preventDefault ? e.preventDefault() : e.returnValue = false;
				}

				var activeSection = $('.fp-section.active');
				var scrollable = isScrollable(activeSection);

				if (!isMoving) { //if theres any #
					//scrolling down?
					if (delta < 0) {
						scrolling('down', scrollable);

					//scrolling up?
					}else {
						scrolling('up', scrollable);
					}
				}

				return false;
			}

			if(options.scrollBar){
				//stopping the auto scroll to adjust to a section
				$("html,body").stop();
			}
		}

		function moveSlide(direction){
		    var activeSection = $('.fp-section.active');
		    var slides = activeSection.find('.fp-slides');

		    // more than one slide needed and nothing should be sliding
			if (!slides.length || slideMoving) {
			    return;
			}

		    var currentSlide = slides.find('.fp-slide.active');
		    var destiny = null;

		    if(direction === 'prev'){
		        destiny = currentSlide.prev('.fp-slide');
		    }else{
		        destiny = currentSlide.next('.fp-slide');
		    }

		    //isn't there a next slide in the secuence?
			if(!destiny.length){
				//respect loopHorizontal settin
				if (!options.loopHorizontal) return;

			    if(direction === 'prev'){
			        destiny = currentSlide.siblings(':last');
			    }else{
			        destiny = currentSlide.siblings(':first');
			    }
			}

		    slideMoving = true;

		    landscapeScroll(slides, destiny);
		}

		/**
		* Maintains the active slides in the viewport
		* (Because he `scroll` animation might get lost with some actions, such as when using continuousVertical)
		*/
		function keepSlidesPosition(){
			$('.fp-slide.active').each(function(){
				silentLandscapeScroll($(this));
			});
		}

		/**
		* Scrolls the site to the given element and scrolls to the slide if a callback is given.
		*/
		function scrollPage(element, callback, isMovementUp){
			var dest = element.position();
			if(typeof dest === "undefined"){ return; } //there's no element to scroll, leaving the function

			//local variables
			var v = {
				element: element,
				callback: callback,
				isMovementUp: isMovementUp,
				dest: dest,
				dtop: dest.top,
				yMovement: getYmovement(element),
				anchorLink: element.data('anchor'),
				sectionIndex: element.index('.fp-section'),
				activeSlide: element.find('.fp-slide.active'),
				activeSection: $('.fp-section.active'),
				leavingSection: $('.fp-section.active').index('.fp-section') + 1,

				//caching the value of isResizing at the momment the function is called
				//because it will be checked later inside a setTimeout and the value might change
				localIsResizing: isResizing
			};

			//quiting when destination scroll is the same as the current one
			if((v.activeSection.is(element) && !isResizing) || (options.scrollBar && $(window).scrollTop() === v.dtop)){ return; }

			if(v.activeSlide.length){
				var slideAnchorLink = v.activeSlide.data('anchor');
				var slideIndex = v.activeSlide.index();
			}

			// If continuousVertical && we need to wrap around
			if (options.autoScrolling && options.continuousVertical && typeof (v.isMovementUp) !== "undefined" &&
				((!v.isMovementUp && v.yMovement == 'up') || // Intending to scroll down but about to go up or
				(v.isMovementUp && v.yMovement == 'down'))) { // intending to scroll up but about to go down

				v = createInfiniteSections(v);
			}

			element.addClass('active').siblings().removeClass('active');

			//preventing from activating the MouseWheelHandler event
			//more than once if the page is scrolling
			isMoving = true;

			setState(slideIndex, slideAnchorLink, v.anchorLink, v.sectionIndex);

			//callback (onLeave) if the site is not just resizing and readjusting the slides
			$.isFunction(options.onLeave) && !v.localIsResizing && options.onLeave.call(v.activeSection, v.leavingSection, (v.sectionIndex + 1), v.yMovement);

			performMovement(v);

			//flag to avoid callingn `scrollPage()` twice in case of using anchor links
			lastScrolledDestiny = v.anchorLink;

			//avoid firing it twice (as it does also on scroll)
			if(options.autoScrolling){
				activateMenuAndNav(v.anchorLink, v.sectionIndex);
			}
		}

		/**
		* Performs the movement (by CSS3 or by jQuery)
		*/
		function performMovement(v){
			// using CSS3 translate functionality
			if (options.css3 && options.autoScrolling && !options.scrollBar) {

				var translate3d = 'translate3d(0px, -' + v.dtop + 'px, 0px)';
				transformContainer(translate3d, true);

				setTimeout(function () {
					afterSectionLoads(v);
				}, options.scrollingSpeed);
			}

			// using jQuery animate
			else{
				var scrollSettings = getScrollSettings(v);

				$(scrollSettings.element).animate(
					scrollSettings.options
				, options.scrollingSpeed, options.easing).promise().done(function () { //only one single callback in case of animating  `html, body`
					afterSectionLoads(v);
				});
			}
		}

		/**
		* Gets the scrolling settings depending on the plugin autoScrolling option
		*/
		function getScrollSettings(v){
			var scroll = {};

			if(options.autoScrolling && !options.scrollBar){
				scroll.options = { 'top': -v.dtop};
				scroll.element = '.'+wrapperSelector;
			}else{
				scroll.options = { 'scrollTop': v.dtop};
				scroll.element = 'html, body';
			}

			return scroll;
		}

		/**
		* Adds sections before or after the current one to create the infinite effect.
		*/
		function createInfiniteSections(v){
			// Scrolling down
			if (!v.isMovementUp) {
				// Move all previous sections to after the active section
				$(".fp-section.active").after(v.activeSection.prevAll(".fp-section").get().reverse());
			}
			else { // Scrolling up
				// Move all next sections to before the active section
				$(".fp-section.active").before(v.activeSection.nextAll(".fp-section"));
			}

			// Maintain the displayed position (now that we changed the element order)
			silentScroll($('.fp-section.active').position().top);

			// Maintain the active slides visible in the viewport
			keepSlidesPosition();

			// save for later the elements that still need to be reordered
			v.wrapAroundElements = v.activeSection;

			// Recalculate animation variables
			v.dest = v.element.position();
			v.dtop = v.dest.top;
			v.yMovement = getYmovement(v.element);

			return v;
		}

		/**
		* Fix section order after continuousVertical changes have been animated
		*/
		function continuousVerticalFixSectionOrder (v) {
			// If continuousVertical is in effect (and autoScrolling would also be in effect then),
			// finish moving the elements around so the direct navigation will function more simply
			if (!v.wrapAroundElements || !v.wrapAroundElements.length) {
				return;
			}

			if (v.isMovementUp) {
				$('.fp-section:first').before(v.wrapAroundElements);
			}
			else {
				$('.fp-section:last').after(v.wrapAroundElements);
			}

			silentScroll($('.fp-section.active').position().top);

			// Maintain the active slides visible in the viewport
			keepSlidesPosition();
		}


		/**
		* Actions to do once the section is loaded
		*/
		function afterSectionLoads (v){
			continuousVerticalFixSectionOrder(v);
			//callback (afterLoad) if the site is not just resizing and readjusting the slides
			$.isFunction(options.afterLoad) && !v.localIsResizing && options.afterLoad.call(v.element, v.anchorLink, (v.sectionIndex + 1));

			setTimeout(function () {
				isMoving = false;
				$.isFunction(v.callback) && v.callback.call(this);
			}, scrollDelay);
		}


		/**
		* Scrolls to the anchor in the URL when loading the site
		*/
		function scrollToAnchor(){
			//getting the anchor link in the URL and deleting the `#`
			var value =  window.location.hash.replace('#', '').split('/');
			var section = value[0];
			var slide = value[1];

			if(section){  //if theres any #
				scrollPageAndSlide(section, slide);
			}
		}

		//detecting any change on the URL to scroll to the given anchor link
		//(a way to detect back history button as we play with the hashes on the URL)
		$(window).on('hashchange', hashChangeHandler);

		function hashChangeHandler(){
			if(!isScrolling){
				var value =  window.location.hash.replace('#', '').split('/');
				var section = value[0];
				var slide = value[1];

				if(section.length){
					//when moving to a slide in the first section for the first time (first time to add an anchor to the URL)
					var isFirstSlideMove =  (typeof lastScrolledDestiny === 'undefined');
					var isFirstScrollMove = (typeof lastScrolledDestiny === 'undefined' && typeof slide === 'undefined' && !slideMoving);

					/*in order to call scrollpage() only once for each destination at a time
					It is called twice for each scroll otherwise, as in case of using anchorlinks `hashChange`
					event is fired on every scroll too.*/
					if ((section && section !== lastScrolledDestiny) && !isFirstSlideMove || isFirstScrollMove || (!slideMoving && lastScrolledSlide != slide ))  {
						scrollPageAndSlide(section, slide);
					}
				}
			}
		}


		/**
		 * Sliding with arrow keys, both, vertical and horizontal
		 */
		$(document).keydown(function(e) {
			//Moving the main page with the keyboard arrows if keyboard scrolling is enabled
			if (options.keyboardScrolling && options.autoScrolling) {

				//preventing the scroll with arrow keys
				if(e.which == 40 || e.which == 38){
					e.preventDefault();
				}

				if(!isMoving){
					switch (e.which) {
						//up
						case 38:
						case 33:
							$.fn.fullpage.moveSectionUp();
							break;

						//down
						case 40:
						case 34:
							$.fn.fullpage.moveSectionDown();
							break;

						//Home
						case 36:
							$.fn.fullpage.moveTo(1);
							break;

						//End
						case 35:
							$.fn.fullpage.moveTo( $('.fp-section').length );
							break;

						//left
						case 37:
							$.fn.fullpage.moveSlideLeft();
							break;

						//right
						case 39:
							$.fn.fullpage.moveSlideRight();
							break;

						default:
							return; // exit this handler for other keys
					}
				}
			}
		});

		/**
		* Scrolls to the section when clicking the navigation bullet
		*/
		$(document).on('click touchstart', '#fp-nav a', function(e){
			e.preventDefault();
			var index = $(this).parent().index();
			scrollPage($('.fp-section').eq(index));
		});

		/**
		* Scrolls the slider to the given slide destination for the given section
		*/
		$(document).on('click touchstart', '.fp-slidesNav a', function(e){
			e.preventDefault();
			var slides = $(this).closest('.fp-section').find('.fp-slides');
			var destiny = slides.find('.fp-slide').eq($(this).closest('li').index());

			landscapeScroll(slides, destiny);
		});

		if(options.normalScrollElements){
			$(document).on('mouseenter', options.normalScrollElements, function () {
				$.fn.fullpage.setMouseWheelScrolling(false);
			});

			$(document).on('mouseleave', options.normalScrollElements, function(){
				$.fn.fullpage.setMouseWheelScrolling(true);
			});
		}

		/**
		 * Scrolling horizontally when clicking on the slider controls.
		 */
		$('.fp-section').on('click touchstart', '.fp-controlArrow', function() {
			if ($(this).hasClass('fp-prev')) {
				$.fn.fullpage.moveSlideLeft();
			} else {
				$.fn.fullpage.moveSlideRight();
			}
		});

		/**
		* Scrolls horizontal sliders.
		*/
		function landscapeScroll(slides, destiny){
			var destinyPos = destiny.position();
			var slidesContainer = slides.find('.fp-slidesContainer').parent();
			var slideIndex = destiny.index();
			var section = slides.closest('.fp-section');
			var sectionIndex = section.index('.fp-section');
			var anchorLink = section.data('anchor');
			var slidesNav = section.find('.fp-slidesNav');
			var slideAnchor = destiny.data('anchor');

			//caching the value of isResizing at the momment the function is called
			//because it will be checked later inside a setTimeout and the value might change
			var localIsResizing = isResizing;

			if(options.onSlideLeave){
				var prevSlide = section.find('.fp-slide.active');
				var prevSlideIndex = prevSlide.index();
				var xMovement = getXmovement(prevSlideIndex, slideIndex);

				//if the site is not just resizing and readjusting the slides
				if(!localIsResizing && xMovement!=='none'){
					$.isFunction( options.onSlideLeave ) && options.onSlideLeave.call( prevSlide, anchorLink, (sectionIndex + 1), prevSlideIndex, xMovement);
				}
			}

			destiny.addClass('active').siblings().removeClass('active');


			if(typeof slideAnchor === 'undefined'){
				slideAnchor = slideIndex;
			}

			if(!options.loopHorizontal && options.controlArrows){
				//hidding it for the fist slide, showing for the rest
				section.find('.fp-controlArrow.fp-prev').toggle(slideIndex!=0);

				//hidding it for the last slide, showing for the rest
				section.find('.fp-controlArrow.fp-next').toggle(!destiny.is(':last-child'));
			}

			//only changing the URL if the slides are in the current section (not for resize re-adjusting)
			if(section.hasClass('active')){
				setState(slideIndex, slideAnchor, anchorLink, sectionIndex);
			}

			var afterSlideLoads = function(){
				//if the site is not just resizing and readjusting the slides
				if(!localIsResizing){
					$.isFunction( options.afterSlideLoad ) && options.afterSlideLoad.call( destiny, anchorLink, (sectionIndex + 1), slideAnchor, slideIndex);
				}
				//letting them slide again
				slideMoving = false;
			};

			if(options.css3){
				var translate3d = 'translate3d(-' + destinyPos.left + 'px, 0px, 0px)';

				addAnimation(slides.find('.fp-slidesContainer'), options.scrollingSpeed>0).css(getTransforms(translate3d));

				setTimeout(function(){
					afterSlideLoads();
				}, options.scrollingSpeed, options.easing);
			}else{
				slidesContainer.animate({
					scrollLeft : destinyPos.left
				}, options.scrollingSpeed, options.easing, function() {

					afterSlideLoads();
				});
			}

			slidesNav.find('.active').removeClass('active');
			slidesNav.find('li').eq(slideIndex).find('a').addClass('active');
		}

	    //when resizing the site, we adjust the heights of the sections, slimScroll...
	    $(window).resize(resizeHandler);

	    var previousHeight = windowsHeight;
	    var resizeId;
	    function resizeHandler(){
	    	//checking if it needs to get responsive
	    	responsive();

	    	// rebuild immediately on touch devices
			if (isTouchDevice) {

				//if the keyboard is visible
				if ($(document.activeElement).attr('type') !== 'text') {
					var currentHeight = $(window).height();

					//making sure the change in the viewport size is enough to force a rebuild. (20 % of the window to avoid problems when hidding scroll bars)
					if( Math.abs(currentHeight - previousHeight) > (20 * Math.max(previousHeight, currentHeight) / 100) ){
			        	$.fn.fullpage.reBuild(true);
			        	previousHeight = currentHeight;
			        }
		        }
	      	}else{
	      		//in order to call the functions only when the resize is finished
	    		//http://stackoverflow.com/questions/4298612/jquery-how-to-call-resize-event-only-once-its-finished-resizing
	      		clearTimeout(resizeId);

	        	resizeId = setTimeout(function(){
	        		$.fn.fullpage.reBuild(true);
	        	}, 500);
	      	}
	    }

	    /**
	    * Checks if the site needs to get responsive and disables autoScrolling if so.
	    * A class `fp-responsive` is added to the plugin's container in case the user wants to use it for his own responsive CSS.
	    */
	    function responsive(){
	    	if(options.responsive){
	    		var isResponsive = container.hasClass('fp-responsive');
	    		if ($(window).width() < options.responsive ){
	    			if(!isResponsive){
	    				$.fn.fullpage.setAutoScrolling(false, 'internal');
	    				$('#fp-nav').hide();
						container.addClass('fp-responsive');
	    			}
	    		}else if(isResponsive){
	    			$.fn.fullpage.setAutoScrolling(originals.autoScrolling, 'internal');
	    			$('#fp-nav').show();
					container.removeClass('fp-responsive');
	    		}
	    	}
	    }

	    /**
		* Adds transition animations for the given element
		*/
		function addAnimation(element){
			var transition = 'all ' + options.scrollingSpeed + 'ms ' + options.easingcss3;

			element.removeClass('fp-notransition');
			return element.css({
				'-webkit-transition': transition,
     			'transition': transition
       		});
		}

		/**
		* Remove transition animations for the given element
		*/
		function removeAnimation(element){
			return element.addClass('fp-notransition');
		}

		/**
		 * Resizing of the font size depending on the window size as well as some of the images on the site.
		 */
		function resizeMe(displayHeight, displayWidth) {
			//Standard dimensions, for which the body font size is correct
			var preferredHeight = 825;
			var preferredWidth = 900;

			if (displayHeight < preferredHeight || displayWidth < preferredWidth) {
				var heightPercentage = (displayHeight * 100) / preferredHeight;
				var widthPercentage = (displayWidth * 100) / preferredWidth;
				var percentage = Math.min(heightPercentage, widthPercentage);
				var newFontSize = percentage.toFixed(2);

				$("body").css("font-size", newFontSize + '%');
			} else {
				$("body").css("font-size", '100%');
			}
		}

		/**
		 * Activating the website navigation dots according to the given slide name.
		 */
		function activateNavDots(name, sectionIndex){
			if(options.navigation){
				$('#fp-nav').find('.active').removeClass('active');
				if(name){
					$('#fp-nav').find('a[href="#' + name + '"]').addClass('active');
				}else{
					$('#fp-nav').find('li').eq(sectionIndex).find('a').addClass('active');
				}
			}
		}

		/**
		 * Activating the website main menu elements according to the given slide name.
		 */
		function activateMenuElement(name){
			if(options.menu){
				$(options.menu).find('.active').removeClass('active');
				$(options.menu).find('[data-menuanchor="'+name+'"]').addClass('active');
			}
		}

		function activateMenuAndNav(anchor, index){
			activateMenuElement(anchor);
			activateNavDots(anchor, index);
		}

		/**
		* Return a boolean depending on whether the scrollable element is at the end or at the start of the scrolling
		* depending on the given type.
		*/
		function isScrolled(type, scrollable){
			if(type === 'top'){
				return !scrollable.scrollTop();
			}else if(type === 'bottom'){
				return scrollable.scrollTop() + 1 + scrollable.innerHeight() >= scrollable[0].scrollHeight;
			}
		}

		/**
		* Retuns `up` or `down` depending on the scrolling movement to reach its destination
		* from the current section.
		*/
		function getYmovement(destiny){
			var fromIndex = $('.fp-section.active').index('.fp-section');
			var toIndex = destiny.index('.fp-section');
			if( fromIndex == toIndex){
				return 'none';
			}
			if(fromIndex > toIndex){
				return 'up';
			}
			return 'down';
		}

		/**
		* Retuns `right` or `left` depending on the scrolling movement to reach its destination
		* from the current slide.
		*/
		function getXmovement(fromIndex, toIndex){
			if( fromIndex == toIndex){
				return 'none';
			}
			if(fromIndex > toIndex){
				return 'left';
			}
			return 'right';
		}


		function createSlimScrolling(element){
			//needed to make `scrollHeight` work under Opera 12
			element.css('overflow', 'hidden');

			//in case element is a slide
			var section = element.closest('.fp-section');
			var scrollable = element.find('.fp-scrollable');
			var contentHeight;

			//if there was scroll, the contentHeight will be the one in the scrollable section
			if(scrollable.length){
				contentHeight = scrollable.get(0).scrollHeight;
			}else{
				contentHeight = element.get(0).scrollHeight;
				if(options.verticalCentered){
					contentHeight = element.find('.fp-tableCell').get(0).scrollHeight;
				}
			}

			var scrollHeight = windowsHeight - parseInt(section.css('padding-bottom')) - parseInt(section.css('padding-top'));

			//needs scroll?
			if ( contentHeight > scrollHeight) {
				//was there already an scroll ? Updating it
				if(scrollable.length){
					scrollable.css('height', scrollHeight + 'px').parent().css('height', scrollHeight + 'px');
				}
				//creating the scrolling
				else{
					if(options.verticalCentered){
						element.find('.fp-tableCell').wrapInner('<div class="fp-scrollable" />');
					}else{
						element.wrapInner('<div class="fp-scrollable" />');
					}

					element.find('.fp-scrollable').slimScroll({
						allowPageScroll: true,
						height: scrollHeight + 'px',
						size: '10px',
						alwaysVisible: true
					});
				}
			}

			//removing the scrolling when it is not necessary anymore
			else{
				removeSlimScroll(element);
			}

			//undo
			element.css('overflow', '');
		}

		function removeSlimScroll(element){
			element.find('.fp-scrollable').children().first().unwrap().unwrap();
			element.find('.slimScrollBar').remove();
			element.find('.slimScrollRail').remove();
		}

		function addTableClass(element){
			element.addClass('fp-table').wrapInner('<div class="fp-tableCell" style="height:' + getTableHeight(element) + 'px;" />');
		}

		function getTableHeight(element){
			var sectionHeight = windowsHeight;

			if(options.paddingTop || options.paddingBottom){
				var section = element;
				if(!section.hasClass('fp-section')){
					section = element.closest('.fp-section');
				}

				var paddings = parseInt(section.css('padding-top')) + parseInt(section.css('padding-bottom'));
				sectionHeight = (windowsHeight - paddings);
			}

			return sectionHeight;
		}

		/**
		* Adds a css3 transform property to the container class with or without animation depending on the animated param.
		*/
		function transformContainer(translate3d, animated){
			if(animated){
				addAnimation(container);
			}else{
				removeAnimation(container);
			}

			container.css(getTransforms(translate3d));

			//syncronously removing the class after the animation has been applied.
			setTimeout(function(){
				container.removeClass('fp-notransition');
			},10);
		}


		/**
		* Scrolls to the given section and slide
		*/
		function scrollPageAndSlide(destiny, slide){
			var section;

			if (typeof slide === 'undefined') {
			    slide = 0;
			}

			if(isNaN(destiny)){
				section = $('[data-anchor="'+destiny+'"]');
			}else{
				section = $('.fp-section').eq( (destiny -1) );
			}


			//we need to scroll to the section and then to the slide
			if (destiny !== lastScrolledDestiny && !section.hasClass('active')){
				scrollPage(section, function(){
					scrollSlider(section, slide);
				});
			}
			//if we were already in the section
			else{
				scrollSlider(section, slide);
			}
		}

		/**
		* Scrolls the slider to the given slide destination for the given section
		*/
		function scrollSlider(section, slide){
			if(typeof slide != 'undefined'){
				var slides = section.find('.fp-slides');
				var destiny =  slides.find('[data-anchor="'+slide+'"]');

				if(!destiny.length){
					destiny = slides.find('.fp-slide').eq(slide);
				}

				if(destiny.length){
					landscapeScroll(slides, destiny);
				}
			}
		}

		/**
		* Creates a landscape navigation bar with dots for horizontal sliders.
		*/
		function addSlidesNavigation(section, numSlides){
			section.append('<div class="fp-slidesNav"><ul></ul></div>');
			var nav = section.find('.fp-slidesNav');

			//top or bottom
			nav.addClass(options.slidesNavPosition);

			for(var i=0; i< numSlides; i++){
				nav.find('ul').append('<li><a href="#"><span></span></a></li>');
			}

			//centering it
			nav.css('margin-left', '-' + (nav.width()/2) + 'px');

			nav.find('li').first().find('a').addClass('active');
		}


		/**
		* Sets the state of the website depending on the active section/slide.
		* It changes the URL hash when needed and updates the body class.
		*/
		function setState(slideIndex, slideAnchor, anchorLink, sectionIndex){
			var sectionHash = '';

			if(options.anchors.length){

				//isn't it the first slide?
				if(slideIndex){
					if(typeof anchorLink !== 'undefined'){
						sectionHash = anchorLink;
					}

					//slide without anchor link? We take the index instead.
					if(typeof slideAnchor === 'undefined'){
						slideAnchor = slideIndex;
					}

					lastScrolledSlide = slideAnchor;
					setUrlHash(sectionHash + '/' + slideAnchor);

				//first slide won't have slide anchor, just the section one
				}else if(typeof slideIndex !== 'undefined'){
					lastScrolledSlide = slideAnchor;
					setUrlHash(anchorLink);
				}

				//section without slides
				else{
					setUrlHash(anchorLink);
				}

				setBodyClass(location.hash);
			}
			else if(typeof slideIndex !== 'undefined'){
					setBodyClass(sectionIndex + '-' + slideIndex);
			}
			else{
				setBodyClass(String(sectionIndex));
			}
		}

		/**
		* Sets the URL hash.
		*/
		function setUrlHash(url){
			if(options.recordHistory){
				location.hash = url;
			}else{
				//Mobile Chrome doesn't work the normal way, so... lets use HTML5 for phones :)
				if(isTouchDevice || isTouch){
					history.replaceState(undefined, undefined, "#" + url);
				}else{
					var baseUrl = window.location.href.split('#')[0];
					window.location.replace( baseUrl + '#' + url );
				}
			}
		}

		/**
		* Sets a class for the body of the page depending on the active section / slide
		*/
		function setBodyClass(text){
			//changing slash for dash to make it a valid CSS style
			text = text.replace('/', '-').replace('#','');

			//removing previous anchor classes
			$("body")[0].className = $("body")[0].className.replace(/\b\s?fp-viewing-[^\s]+\b/g, '');

			//adding the current anchor
			$("body").addClass("fp-viewing-" + text);
		}

		/**
		* Checks for translate3d support
		* @return boolean
		* http://stackoverflow.com/questions/5661671/detecting-transform-translate3d-support
		*/
		function support3d() {
			var el = document.createElement('p'),
				has3d,
				transforms = {
					'webkitTransform':'-webkit-transform',
					'OTransform':'-o-transform',
					'msTransform':'-ms-transform',
					'MozTransform':'-moz-transform',
					'transform':'transform'
				};

			// Add it to the body to get the computed style.
			document.body.insertBefore(el, null);

			for (var t in transforms) {
				if (el.style[t] !== undefined) {
					el.style[t] = "translate3d(1px,1px,1px)";
					has3d = window.getComputedStyle(el).getPropertyValue(transforms[t]);
				}
			}

			document.body.removeChild(el);

			return (has3d !== undefined && has3d.length > 0 && has3d !== "none");
		}



		/**
		* Removes the auto scrolling action fired by the mouse wheel and trackpad.
		* After this function is called, the mousewheel and trackpad movements won't scroll through sections.
		*/
		function removeMouseWheelHandler(){
			if (document.addEventListener) {
				document.removeEventListener('mousewheel', MouseWheelHandler, false); //IE9, Chrome, Safari, Oper
				document.removeEventListener('wheel', MouseWheelHandler, false); //Firefox
			} else {
				document.detachEvent("onmousewheel", MouseWheelHandler); //IE 6/7/8
			}
		}


		/**
		* Adds the auto scrolling action for the mouse wheel and trackpad.
		* After this function is called, the mousewheel and trackpad movements will scroll through sections
		*/
		function addMouseWheelHandler(){
			if (document.addEventListener) {
				document.addEventListener("mousewheel", MouseWheelHandler, false); //IE9, Chrome, Safari, Oper
				document.addEventListener("wheel", MouseWheelHandler, false); //Firefox
			} else {
				document.attachEvent("onmousewheel", MouseWheelHandler); //IE 6/7/8
			}
		}


		/**
		* Adds the possibility to auto scroll through sections on touch devices.
		*/
		function addTouchHandler(){
			if(isTouchDevice || isTouch){
				//Microsoft pointers
				var MSPointer = getMSPointer();

				$(document).off('touchstart ' +  MSPointer.down).on('touchstart ' + MSPointer.down, touchStartHandler);
				$(document).off('touchmove ' + MSPointer.move).on('touchmove ' + MSPointer.move, touchMoveHandler);
			}
		}

		/**
		* Removes the auto scrolling for touch devices.
		*/
		function removeTouchHandler(){
			if(isTouchDevice || isTouch){
				//Microsoft pointers
				var MSPointer = getMSPointer();

				$(document).off('touchstart ' + MSPointer.down);
				$(document).off('touchmove ' + MSPointer.move);
			}
		}


		/*
		* Returns and object with Microsoft pointers (for IE<11 and for IE >= 11)
		* http://msdn.microsoft.com/en-us/library/ie/dn304886(v=vs.85).aspx
		*/
		function getMSPointer(){
			var pointer;

			//IE >= 11 & rest of browsers
			if(window.PointerEvent){
				pointer = { down: "pointerdown", move: "pointermove"};
			}

			//IE < 11
			else{
				pointer = { down: "MSPointerDown", move: "MSPointerMove"};
			}

			return pointer;
		}
		/**
		* Gets the pageX and pageY properties depending on the browser.
		* https://github.com/alvarotrigo/fullPage.js/issues/194#issuecomment-34069854
		*/
		function getEventsPage(e){
			var events = [];

			events.y = (typeof e.pageY !== 'undefined' && (e.pageY || e.pageX) ? e.pageY : e.touches[0].pageY);
			events.x = (typeof e.pageX !== 'undefined' && (e.pageY || e.pageX) ? e.pageX : e.touches[0].pageX);

			return events;
		}

		function silentLandscapeScroll(activeSlide){
			$.fn.fullpage.setScrollingSpeed (0, 'internal');
			landscapeScroll(activeSlide.closest('.fp-slides'), activeSlide);
			$.fn.fullpage.setScrollingSpeed(originals.scrollingSpeed, 'internal');
		}

		function silentScroll(top){
			if(options.scrollBar){
				container.scrollTop(top);
			}
			else if (options.css3) {
				var translate3d = 'translate3d(0px, -' + top + 'px, 0px)';
				transformContainer(translate3d, false);
			}
			else {
				container.css("top", -top);
			}
		}

		function getTransforms(translate3d){
			return {
				'-webkit-transform': translate3d,
				'-moz-transform': translate3d,
				'-ms-transform':translate3d,
				'transform': translate3d
			};
		}

		function setIsScrollable(value, direction){
			switch (direction){
				case 'up': isScrollAllowed.up = value; break;
				case 'down': isScrollAllowed.down = value; break;
				case 'left': isScrollAllowed.left = value; break;
				case 'right': isScrollAllowed.right = value; break;
				case 'all': $.fn.fullpage.setAllowScrolling(value);
			}
		}


		/*
		* Destroys fullpage.js plugin events and optinally its html markup and styles
		*/
		$.fn.fullpage.destroy = function(all){
			$.fn.fullpage.setAutoScrolling(false, 'internal');
 			$.fn.fullpage.setAllowScrolling(false);
 			$.fn.fullpage.setKeyboardScrolling(false);


 			$(window)
				.off('scroll', scrollHandler)
  				.off('hashchange', hashChangeHandler)
  				.off('resize', resizeHandler);

			$(document)
				.off('click', '#fp-nav a')
				.off('mouseenter', '#fp-nav li')
				.off('mouseleave', '#fp-nav li')
				.off('click', '.fp-slidesNav a')
  				.off('mouseover', options.normalScrollElements)
  				.off('mouseout', options.normalScrollElements);

			$('.fp-section')
				.off('click', '.fp-controlArrow');

			//lets make a mess!
			if(all){
				destroyStructure();
			}
 		};

 		/*
		* Removes inline styles added by fullpage.js
		*/
		function destroyStructure(){
			//reseting the `top` or `translate` properties to 0
	 		silentScroll(0);

			$('#fp-nav, .fp-slidesNav, .fp-controlArrow').remove();

			//removing inline styles
			$('.fp-section').css( {
				'height': '',
				'background-color' : '',
				'padding': ''
			});

			$('.fp-slide').css( {
				'width': ''
			});

			container.css({
	 			'height': '',
	 			'position': '',
	 			'-ms-touch-action': '',
	 			'touch-action': ''
	 		});

			//removing added classes
			$('.fp-section, .fp-slide').each(function(){
				removeSlimScroll($(this));
				$(this).removeClass('fp-table active');
			});

			removeAnimation(container);
			removeAnimation(container.find('.fp-easing'));

			//Unwrapping content
			container.find('.fp-tableCell, .fp-slidesContainer, .fp-slides').each(function(){
				//unwrap not being use in case there's no child element inside and its just text
				$(this).replaceWith(this.childNodes);
			});

			//scrolling the page to the top with no animation
			$('html, body').scrollTop(0);
		}

		/*
		* Sets the state for a variable with multiple states (original, and temporal)
		* Some variables such as `autoScrolling` or `recordHistory` might change automatically its state when using `responsive` or `autoScrolling:false`.
		* This function is used to keep track of both states, the original and the temporal one.
		* If type is not 'internal', then we assume the user is globally changing the variable.
		*/
		function setVariableState(variable, value, type){
			options[variable] = value;
			if(type !== 'internal'){
				originals[variable] = value;
			}
		}

		/**
		* Displays warnings
		*/
		function displayWarnings(){
			// Disable mutually exclusive settings
			if (options.continuousVertical &&
				(options.loopTop || options.loopBottom)) {
			    options.continuousVertical = false;
			    showError('warn', "Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled");
			}
			if(options.continuousVertical && options.scrollBar){
				options.continuousVertical = false;
				showError('warn', "Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled");
			}

			//anchors can not have the same value as any element ID or NAME
			$.each(options.anchors, function(index, name){
				if($('#' + name).length || $('[name="'+name+'"]').length ){
					showError('error', "data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).");
				}
			});
		}

		function showError(type, text){
			console && console[type] && console[type]('fullPage: ' + text);
		}
	};
})(jQuery);

typeof JSON!="object"&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"use strict";var n=e.History=e.History||{},r=e.jQuery;if(typeof n.Adapter!="undefined")throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(e,t,n){r(e).bind(t,n)},trigger:function(e,t,n){r(e).trigger(t,n)},extractEventData:function(e,n,r){var i=n&&n.originalEvent&&n.originalEvent[e]||r&&r[e]||t;return i},onDomLoad:function(e){r(e)}},typeof n.init!="undefined"&&n.init()}(window),function(e,t){"use strict";var n=e.document,r=e.setTimeout||r,i=e.clearTimeout||i,s=e.setInterval||s,o=e.History=e.History||{};if(typeof o.initHtml4!="undefined")throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){if(typeof o.initHtml4.initialized!="undefined")return!1;o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t=o.getHashByIndex(),n;return n=e===t,n},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return typeof e=="undefined"?t=o.savedHashes[o.savedHashes.length-1]:e<0?t=o.savedHashes[o.savedHashes.length+e]:t=o.savedHashes[e],t},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var r=o.getHashByState(e),i;return i={discardedState:e,backState:n,forwardState:t},o.discardedStates[r]=i,!0},o.discardHash=function(e,t,n){var r={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=r,!0},o.discardedState=function(e){var t=o.getHashByState(e),n;return n=o.discardedStates[t]||!1,n},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var t="",r,i,u,a,f=Boolean(o.getHash());return o.isInternetExplorer()?(r="historyjs-iframe",i=n.createElement("iframe"),i.setAttribute("id",r),i.setAttribute("src","#"),i.style.display="none",n.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),u="",a=!1,o.checkerFunction=function(){if(a)return!1;a=!0;var n=o.getHash(),r=o.getHash(i.contentWindow.document);return n!==t?(t=n,r!==n&&(u=r=n,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(n)),o.Adapter.trigger(e,"hashchange")):r!==u&&(u=r,f&&r===""?o.back():o.setHash(r,!1)),a=!1,!0}):o.checkerFunction=function(){var n=o.getHash()||"";return n!==t&&(t=n,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(s(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var n=t&&t.newURL||o.getLocationHref(),r=o.getHashByUrl(n),i=null,s=null,u=null,a;return o.isLastHash(r)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(r),r&&o.isTraditionalAnchor(r)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(i=o.extractState(o.getFullUrl(r||o.getLocationHref()),!0),o.isLastSavedState(i)?(o.busy(!1),!1):(s=o.getHashByState(i),a=o.discardedState(i),a?(o.getHashByIndex(-2)===o.getHashByState(a.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(i.data,i.title,encodeURI(i.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,n,r,i){r=encodeURI(r).replace(/%25/g,"%");if(o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getHash(),c=o.expectedStateId==s.id;return o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),u===f?(o.busy(!1),!1):(o.saveState(s),c||o.Adapter.trigger(e,"statechange"),!o.isHashEqual(u,l)&&!o.isHashEqual(u,o.getShortUrl(o.getLocationHref()))&&o.setHash(u,!1),o.busy(!1),!0)},o.replaceState=function(t,n,r,i){r=encodeURI(r).replace(/%25/g,"%");if(o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getStateByIndex(-2);return o.discardState(a,s,l),u===f?(o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),o.saveState(s),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(s.data,s.title,s.url,!1),!0}),o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")})},typeof o.init!="undefined"&&o.init()}(window),function(e,t){"use strict";var n=e.console||t,r=e.document,i=e.navigator,s=!1,o=e.setTimeout,u=e.clearTimeout,a=e.setInterval,f=e.clearInterval,l=e.JSON,c=e.alert,h=e.History=e.History||{},p=e.history;try{s=e.sessionStorage,s.setItem("TEST","1"),s.removeItem("TEST")}catch(d){s=!1}l.stringify=l.stringify||l.encode,l.parse=l.parse||l.decode;if(typeof h.init!="undefined")throw new Error("History.js Core has already been loaded...");h.init=function(e){return typeof h.Adapter=="undefined"?!1:(typeof h.initCore!="undefined"&&h.initCore(),typeof h.initHtml4!="undefined"&&h.initHtml4(),!0)},h.initCore=function(d){if(typeof h.initCore.initialized!="undefined")return!1;h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||r.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var e,t=h.intervalList;if(typeof t!="undefined"&&t!==null){for(e=0;e<t.length;e++)f(t[e]);h.intervalList=null}},h.debug=function(){(h.options.debug||!1)&&h.log.apply(h,arguments)},h.log=function(){var e=typeof n!="undefined"&&typeof n.log!="undefined"&&typeof n.log.apply!="undefined",t=r.getElementById("log"),i,s,o,u,a;e?(u=Array.prototype.slice.call(arguments),i=u.shift(),typeof n.debug!="undefined"?n.debug.apply(n,[i,u]):n.log.apply(n,[i,u])):i="\n"+arguments[0]+"\n";for(s=1,o=arguments.length;s<o;++s){a=arguments[s];if(typeof a=="object"&&typeof l!="undefined")try{a=l.stringify(a)}catch(f){}i+="\n"+a+"\n"}return t?(t.value+=i+"\n-----\n",t.scrollTop=t.scrollHeight-t.clientHeight):e||c(i),!0},h.getInternetExplorerMajorVersion=function(){var e=h.getInternetExplorerMajorVersion.cached=typeof h.getInternetExplorerMajorVersion.cached!="undefined"?h.getInternetExplorerMajorVersion.cached:function(){var e=3,t=r.createElement("div"),n=t.getElementsByTagName("i");while((t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0]);return e>4?e:!1}();return e},h.isInternetExplorer=function(){var e=h.isInternetExplorer.cached=typeof h.isInternetExplorer.cached!="undefined"?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion());return e},h.options.html4Mode?h.emulated={pushState:!0,hashChange:!0}:h.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&i.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&i.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},h.cloneObject=function(e){var t,n;return e?(t=l.stringify(e),n=l.parse(t)):n={},n},h.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);if(r.location.port||!1)e+=":"+r.location.port;return e+="/",e},h.getBaseHref=function(){var e=r.getElementsByTagName("base"),t=null,n="";return e.length===1&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},h.getBaseUrl=function(){var e=h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl();return e},h.getPageUrl=function(){var e=h.getState(!1,!1),t=(e||{}).url||h.getLocationHref(),n;return n=t.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,n){return/\./.test(e)?e:e+"/"}),n},h.getBasePageUrl=function(){var e=h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,n){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},h.getFullUrl=function(e,t){var n=e,r=e.substring(0,1);return t=typeof t=="undefined"?!0:t,/[a-z]+\:\/\//.test(e)||(r==="/"?n=h.getRootUrl()+e.replace(/^\/+/,""):r==="#"?n=h.getPageUrl().replace(/#.*/,"")+e:r==="?"?n=h.getPageUrl().replace(/[\?#].*/,"")+e:t?n=h.getBaseUrl()+e.replace(/^(\.\/)+/,""):n=h.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},h.getShortUrl=function(e){var t=e,n=h.getBaseUrl(),r=h.getRootUrl();return h.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(r,"/"),h.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),t},h.getLocationHref=function(e){return e=e||r,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:e.URL.indexOf("#")==-1&&e.location.href.indexOf("#")!=-1?e.location.href:e.URL||e.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(e,t){typeof e=="undefined"&&(e=!0),typeof t=="undefined"&&(t=!0);var n=h.getLastSavedState();return!n&&t&&(n=h.createStateObject()),e&&(n=h.cloneObject(n),n.url=n.cleanUrl||n.url),n},h.getIdByState=function(e){var t=h.extractId(e.url),n;if(!t){n=h.getStateString(e);if(typeof h.stateToId[n]!="undefined")t=h.stateToId[n];else if(typeof h.store.stateToId[n]!="undefined")t=h.store.stateToId[n];else{for(;;){t=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof h.idToState[t]=="undefined"&&typeof h.store.idToState[t]=="undefined")break}h.stateToId[n]=t,h.idToState[t]=e}}return t},h.normalizeState=function(e){var t,n;if(!e||typeof e!="object")e={};if(typeof e.normalized!="undefined")return e;if(!e.data||typeof e.data!="object")e.data={};return t={},t.normalized=!0,t.title=e.title||"",t.url=h.getFullUrl(e.url?e.url:h.getLocationHref()),t.hash=h.getShortUrl(t.url),t.data=h.cloneObject(e.data),t.id=h.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!h.isEmptyObject(t.data),(t.title||n)&&h.options.disableSuid!==!0&&(t.hash=h.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=h.getFullUrl(t.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t},h.createStateObject=function(e,t,n){var r={data:e,title:t,url:n};return r=h.normalizeState(r),r},h.getStateById=function(e){e=String(e);var n=h.idToState[e]||h.store.idToState[e]||t;return n},h.getStateString=function(e){var t,n,r;return t=h.normalizeState(e),n={data:t.data,title:e.title,url:e.url},r=l.stringify(n),r},h.getStateId=function(e){var t,n;return t=h.normalizeState(e),n=t.id,n},h.getHashByState=function(e){var t,n;return t=h.normalizeState(e),n=t.hash,n},h.extractId=function(e){var t,n,r,i;return e.indexOf("#")!=-1?i=e.split("#")[0]:i=e,n=/(.*)\&_suid=([0-9]+)$/.exec(i),r=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},h.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},h.extractState=function(e,t){var n=null,r,i;return t=t||!1,r=h.extractId(e),r&&(n=h.getStateById(r)),n||(i=h.getFullUrl(e),r=h.getIdByUrl(i)||!1,r&&(n=h.getStateById(r)),!n&&t&&!h.isTraditionalAnchor(e)&&(n=h.createStateObject(null,null,i))),n},h.getIdByUrl=function(e){var n=h.urlToId[e]||h.store.urlToId[e]||t;return n},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||t},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||t},h.hasUrlDuplicate=function(e){var t=!1,n;return n=h.extractState(e.url),t=n&&n.id!==e.id,t},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var t=!1,n,r,i;return h.savedStates.length&&(n=e.id,r=h.getLastSavedState(),i=r.id,t=n===i),t},h.saveState=function(e){return h.isLastSavedState(e)?!1:(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){var t=null;return typeof e=="undefined"?t=h.savedStates[h.savedStates.length-1]:e<0?t=h.savedStates[h.savedStates.length+e]:t=h.savedStates[e],t},h.getCurrentIndex=function(){var e=null;return h.savedStates.length<1?e=0:e=h.savedStates.length-1,e},h.getHash=function(e){var t=h.getLocationHref(e),n;return n=h.getHashByUrl(t),n},h.unescapeHash=function(e){var t=h.normalizeHash(e);return t=decodeURIComponent(t),t},h.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},h.setHash=function(e,t){var n,i;return t!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:t}),!1):(h.busy(!0),n=h.extractState(e,!0),n&&!h.emulated.pushState?h.pushState(n.data,n.title,n.url,!1):h.getHash()!==e&&(h.bugs.setHash?(i=h.getPageUrl(),h.pushState(null,null,i+"#"+e,!1)):r.location.hash=e),h)},h.escapeHash=function(t){var n=h.normalizeHash(t);return n=e.encodeURIComponent(n),h.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},h.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=h.unescapeHash(t),t},h.setTitle=function(e){var t=e.title,n;t||(n=h.getStateByIndex(0),n&&n.url===e.url&&(t=n.title||h.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=t.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(i){}return r.title=t,h},h.queues=[],h.busy=function(e){typeof e!="undefined"?h.busy.flag=e:typeof h.busy.flag=="undefined"&&(h.busy.flag=!1);if(!h.busy.flag){u(h.busy.timeout);var t=function(){var e,n,r;if(h.busy.flag)return;for(e=h.queues.length-1;e>=0;--e){n=h.queues[e];if(n.length===0)continue;r=n.shift(),h.fireQueueItem(r),h.busy.timeout=o(t,h.options.busyDelay)}};h.busy.timeout=o(t,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,t){return typeof e=="function"&&(e={callback:e}),typeof t!="undefined"&&(e.queue=t),h.busy()?h.pushQueue(e):h.fireQueueItem(e),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(u(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=o(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var t=h.extractState(h.getLocationHref()),n;if(!h.isLastSavedState(t))return n=t,n||(n=h.createStateObject()),h.Adapter.trigger(e,"popstate"),h;return},h.back=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),p.go(-1),!0)},h.forward=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),p.go(1),!0)},h.go=function(e,t){var n;if(e>0)for(n=1;n<=e;++n)h.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)h.back(t)}return h};if(h.emulated.pushState){var v=function(){};h.pushState=h.pushState||v,h.replaceState=h.replaceState||v}else h.onPopState=function(t,n){var r=!1,i=!1,s,o;return h.doubleCheckComplete(),s=h.getHash(),s?(o=h.extractState(s||h.getLocationHref(),!0),o?h.replaceState(o.data,o.title,o.url,!1):(h.Adapter.trigger(e,"anchorchange"),h.busy(!1)),h.expectedStateId=!1,!1):(r=h.Adapter.extractEventData("state",t,n)||!1,r?i=h.getStateById(r):h.expectedStateId?i=h.getStateById(h.expectedStateId):i=h.extractState(h.getLocationHref()),i||(i=h.createStateObject(null,null,h.getLocationHref())),h.expectedStateId=!1,h.isLastSavedState(i)?(h.busy(!1),!1):(h.storeState(i),h.saveState(i),h.setTitle(i),h.Adapter.trigger(e,"statechange"),h.busy(!1),!0))},h.Adapter.bind(e,"popstate",h.onPopState),h.pushState=function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.pushState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0},h.replaceState=function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.replaceState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0};if(s){try{h.store=l.parse(s.getItem("History.store"))||{}}catch(m){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(e,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),s&&(h.onUnload=function(){var e,t,n;try{e=l.parse(s.getItem("History.store"))||{}}catch(r){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in h.idToState){if(!h.idToState.hasOwnProperty(t))continue;e.idToState[t]=h.idToState[t]}for(t in h.urlToId){if(!h.urlToId.hasOwnProperty(t))continue;e.urlToId[t]=h.urlToId[t]}for(t in h.stateToId){if(!h.stateToId.hasOwnProperty(t))continue;e.stateToId[t]=h.stateToId[t]}h.store=e,h.normalizeStore(),n=l.stringify(e);try{s.setItem("History.store",n)}catch(i){if(i.code!==DOMException.QUOTA_EXCEEDED_ERR)throw i;s.length&&(s.removeItem("History.store"),s.setItem("History.store",n))}},h.intervalList.push(a(h.onUnload,h.options.storeInterval)),h.Adapter.bind(e,"beforeunload",h.onUnload),h.Adapter.bind(e,"unload",h.onUnload));if(!h.emulated.pushState){h.bugs.safariPoll&&h.intervalList.push(a(h.safariStatePoll,h.options.safariPollInterval));if(i.vendor==="Apple Computer, Inc."||(i.appCodeName||"")==="Mozilla")h.Adapter.bind(e,"hashchange",function(){h.Adapter.trigger(e,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(e,"hashchange")})}},(!h.options||!h.options.delayInit)&&h.init()}(window)
/*!
* jquery.inputmask.bundle.js
* https://github.com/RobinHerbots/Inputmask
* Copyright (c) 2010 - 2017 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.3.11
*/

!function(modules) {
    function __webpack_require__(moduleId) {
        if (installedModules[moduleId]) return installedModules[moduleId].exports;
        var module = installedModules[moduleId] = {
            i: moduleId,
            l: !1,
            exports: {}
        };
        return modules[moduleId].call(module.exports, module, module.exports, __webpack_require__), 
        module.l = !0, module.exports;
    }
    var installedModules = {};
    __webpack_require__.m = modules, __webpack_require__.c = installedModules, __webpack_require__.d = function(exports, name, getter) {
        __webpack_require__.o(exports, name) || Object.defineProperty(exports, name, {
            configurable: !1,
            enumerable: !0,
            get: getter
        });
    }, __webpack_require__.n = function(module) {
        var getter = module && module.__esModule ? function() {
            return module.default;
        } : function() {
            return module;
        };
        return __webpack_require__.d(getter, "a", getter), getter;
    }, __webpack_require__.o = function(object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
    }, __webpack_require__.p = "", __webpack_require__(__webpack_require__.s = 3);
}([ function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    "function" == typeof Symbol && Symbol.iterator;
    !function(factory) {
        __WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(2) ], void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = factory) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function($) {
        return $;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__, _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    !function(factory) {
        __WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(0), __webpack_require__(10), __webpack_require__(11) ], 
        void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = factory) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function($, window, document, undefined) {
        function Inputmask(alias, options, internal) {
            if (!(this instanceof Inputmask)) return new Inputmask(alias, options, internal);
            this.el = undefined, this.events = {}, this.maskset = undefined, this.refreshValue = !1, 
            !0 !== internal && ($.isPlainObject(alias) ? options = alias : (options = options || {}).alias = alias, 
            this.opts = $.extend(!0, {}, this.defaults, options), this.noMasksCache = options && options.definitions !== undefined, 
            this.userOptions = options || {}, this.isRTL = this.opts.numericInput, resolveAlias(this.opts.alias, options, this.opts));
        }
        function resolveAlias(aliasStr, options, opts) {
            var aliasDefinition = Inputmask.prototype.aliases[aliasStr];
            return aliasDefinition ? (aliasDefinition.alias && resolveAlias(aliasDefinition.alias, undefined, opts), 
            $.extend(!0, opts, aliasDefinition), $.extend(!0, opts, options), !0) : (null === opts.mask && (opts.mask = aliasStr), 
            !1);
        }
        function generateMaskSet(opts, nocache) {
            function generateMask(mask, metadata, opts) {
                var regexMask = !1;
                if (null !== mask && "" !== mask || ((regexMask = null !== opts.regex) ? mask = (mask = opts.regex).replace(/^(\^)(.*)(\$)$/, "$2") : (regexMask = !0, 
                mask = ".*")), 1 === mask.length && !1 === opts.greedy && 0 !== opts.repeat && (opts.placeholder = ""), 
                opts.repeat > 0 || "*" === opts.repeat || "+" === opts.repeat) {
                    var repeatStart = "*" === opts.repeat ? 0 : "+" === opts.repeat ? 1 : opts.repeat;
                    mask = opts.groupmarker.start + mask + opts.groupmarker.end + opts.quantifiermarker.start + repeatStart + "," + opts.repeat + opts.quantifiermarker.end;
                }
                var masksetDefinition, maskdefKey = regexMask ? "regex_" + opts.regex : opts.numericInput ? mask.split("").reverse().join("") : mask;
                return Inputmask.prototype.masksCache[maskdefKey] === undefined || !0 === nocache ? (masksetDefinition = {
                    mask: mask,
                    maskToken: Inputmask.prototype.analyseMask(mask, regexMask, opts),
                    validPositions: {},
                    _buffer: undefined,
                    buffer: undefined,
                    tests: {},
                    metadata: metadata,
                    maskLength: undefined
                }, !0 !== nocache && (Inputmask.prototype.masksCache[maskdefKey] = masksetDefinition, 
                masksetDefinition = $.extend(!0, {}, Inputmask.prototype.masksCache[maskdefKey]))) : masksetDefinition = $.extend(!0, {}, Inputmask.prototype.masksCache[maskdefKey]), 
                masksetDefinition;
            }
            if ($.isFunction(opts.mask) && (opts.mask = opts.mask(opts)), $.isArray(opts.mask)) {
                if (opts.mask.length > 1) {
                    opts.keepStatic = null === opts.keepStatic || opts.keepStatic;
                    var altMask = opts.groupmarker.start;
                    return $.each(opts.numericInput ? opts.mask.reverse() : opts.mask, function(ndx, msk) {
                        altMask.length > 1 && (altMask += opts.groupmarker.end + opts.alternatormarker + opts.groupmarker.start), 
                        msk.mask === undefined || $.isFunction(msk.mask) ? altMask += msk : altMask += msk.mask;
                    }), altMask += opts.groupmarker.end, generateMask(altMask, opts.mask, opts);
                }
                opts.mask = opts.mask.pop();
            }
            return opts.mask && opts.mask.mask !== undefined && !$.isFunction(opts.mask.mask) ? generateMask(opts.mask.mask, opts.mask, opts) : generateMask(opts.mask, opts.mask, opts);
        }
        function maskScope(actionObj, maskset, opts) {
            function getMaskTemplate(baseOnInput, minimalPos, includeMode) {
                minimalPos = minimalPos || 0;
                var ndxIntlzr, test, testPos, maskTemplate = [], pos = 0, lvp = getLastValidPosition();
                do {
                    !0 === baseOnInput && getMaskSet().validPositions[pos] ? (test = (testPos = getMaskSet().validPositions[pos]).match, 
                    ndxIntlzr = testPos.locator.slice(), maskTemplate.push(!0 === includeMode ? testPos.input : !1 === includeMode ? test.nativeDef : getPlaceholder(pos, test))) : (test = (testPos = getTestTemplate(pos, ndxIntlzr, pos - 1)).match, 
                    ndxIntlzr = testPos.locator.slice(), (!1 === opts.jitMasking || pos < lvp || "number" == typeof opts.jitMasking && isFinite(opts.jitMasking) && opts.jitMasking > pos) && maskTemplate.push(!1 === includeMode ? test.nativeDef : getPlaceholder(pos, test))), 
                    pos++;
                } while ((maxLength === undefined || pos < maxLength) && (null !== test.fn || "" !== test.def) || minimalPos > pos);
                return "" === maskTemplate[maskTemplate.length - 1] && maskTemplate.pop(), getMaskSet().maskLength = pos + 1, 
                maskTemplate;
            }
            function getMaskSet() {
                return maskset;
            }
            function resetMaskSet(soft) {
                var maskset = getMaskSet();
                maskset.buffer = undefined, !0 !== soft && (maskset.validPositions = {}, maskset.p = 0);
            }
            function getLastValidPosition(closestTo, strict, validPositions) {
                var before = -1, after = -1, valids = validPositions || getMaskSet().validPositions;
                closestTo === undefined && (closestTo = -1);
                for (var posNdx in valids) {
                    var psNdx = parseInt(posNdx);
                    valids[psNdx] && (strict || !0 !== valids[psNdx].generatedInput) && (psNdx <= closestTo && (before = psNdx), 
                    psNdx >= closestTo && (after = psNdx));
                }
                return -1 !== before && closestTo - before > 1 || after < closestTo ? before : after;
            }
            function stripValidPositions(start, end, nocheck, strict) {
                var i, startPos = start, positionsClone = $.extend(!0, {}, getMaskSet().validPositions), needsValidation = !1;
                for (getMaskSet().p = start, i = end - 1; i >= startPos; i--) getMaskSet().validPositions[i] !== undefined && (!0 !== nocheck && (!getMaskSet().validPositions[i].match.optionality && function(pos) {
                    var posMatch = getMaskSet().validPositions[pos];
                    if (posMatch !== undefined && null === posMatch.match.fn) {
                        var prevMatch = getMaskSet().validPositions[pos - 1], nextMatch = getMaskSet().validPositions[pos + 1];
                        return prevMatch !== undefined && nextMatch !== undefined;
                    }
                    return !1;
                }(i) || !1 === opts.canClearPosition(getMaskSet(), i, getLastValidPosition(), strict, opts)) || delete getMaskSet().validPositions[i]);
                for (resetMaskSet(!0), i = startPos + 1; i <= getLastValidPosition(); ) {
                    for (;getMaskSet().validPositions[startPos] !== undefined; ) startPos++;
                    if (i < startPos && (i = startPos + 1), getMaskSet().validPositions[i] === undefined && isMask(i)) i++; else {
                        var t = getTestTemplate(i);
                        !1 === needsValidation && positionsClone[startPos] && positionsClone[startPos].match.def === t.match.def ? (getMaskSet().validPositions[startPos] = $.extend(!0, {}, positionsClone[startPos]), 
                        getMaskSet().validPositions[startPos].input = t.input, delete getMaskSet().validPositions[i], 
                        i++) : positionCanMatchDefinition(startPos, t.match.def) ? !1 !== isValid(startPos, t.input || getPlaceholder(i), !0) && (delete getMaskSet().validPositions[i], 
                        i++, needsValidation = !0) : isMask(i) || (i++, startPos--), startPos++;
                    }
                }
                resetMaskSet(!0);
            }
            function determineTestTemplate(tests, guessNextBest) {
                for (var testPos, testPositions = tests, lvp = getLastValidPosition(), lvTest = getMaskSet().validPositions[lvp] || getTests(0)[0], lvTestAltArr = lvTest.alternation !== undefined ? lvTest.locator[lvTest.alternation].toString().split(",") : [], ndx = 0; ndx < testPositions.length && (!((testPos = testPositions[ndx]).match && (opts.greedy && !0 !== testPos.match.optionalQuantifier || (!1 === testPos.match.optionality || !1 === testPos.match.newBlockMarker) && !0 !== testPos.match.optionalQuantifier) && (lvTest.alternation === undefined || lvTest.alternation !== testPos.alternation || testPos.locator[lvTest.alternation] !== undefined && checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","), lvTestAltArr))) || !0 === guessNextBest && (null !== testPos.match.fn || /[0-9a-bA-Z]/.test(testPos.match.def))); ndx++) ;
                return testPos;
            }
            function getTestTemplate(pos, ndxIntlzr, tstPs) {
                return getMaskSet().validPositions[pos] || determineTestTemplate(getTests(pos, ndxIntlzr ? ndxIntlzr.slice() : ndxIntlzr, tstPs));
            }
            function getTest(pos) {
                return getMaskSet().validPositions[pos] ? getMaskSet().validPositions[pos] : getTests(pos)[0];
            }
            function positionCanMatchDefinition(pos, def) {
                for (var valid = !1, tests = getTests(pos), tndx = 0; tndx < tests.length; tndx++) if (tests[tndx].match && tests[tndx].match.def === def) {
                    valid = !0;
                    break;
                }
                return valid;
            }
            function getTests(pos, ndxIntlzr, tstPs) {
                function resolveTestFromToken(maskToken, ndxInitializer, loopNdx, quantifierRecurse) {
                    function handleMatch(match, loopNdx, quantifierRecurse) {
                        function isFirstMatch(latestMatch, tokenGroup) {
                            var firstMatch = 0 === $.inArray(latestMatch, tokenGroup.matches);
                            return firstMatch || $.each(tokenGroup.matches, function(ndx, match) {
                                if (!0 === match.isQuantifier && (firstMatch = isFirstMatch(latestMatch, tokenGroup.matches[ndx - 1]))) return !1;
                            }), firstMatch;
                        }
                        function resolveNdxInitializer(pos, alternateNdx, targetAlternation) {
                            var bestMatch, indexPos;
                            if (getMaskSet().validPositions[pos - 1] && targetAlternation && getMaskSet().tests[pos]) for (var vpAlternation = getMaskSet().validPositions[pos - 1].locator, tpAlternation = getMaskSet().tests[pos][0].locator, i = 0; i < targetAlternation; i++) if (vpAlternation[i] !== tpAlternation[i]) return vpAlternation.slice(targetAlternation + 1);
                            return (getMaskSet().tests[pos] || getMaskSet().validPositions[pos]) && $.each(getMaskSet().tests[pos] || [ getMaskSet().validPositions[pos] ], function(ndx, lmnt) {
                                var alternation = targetAlternation !== undefined ? targetAlternation : lmnt.alternation, ndxPos = lmnt.locator[alternation] !== undefined ? lmnt.locator[alternation].toString().indexOf(alternateNdx) : -1;
                                (indexPos === undefined || ndxPos < indexPos) && -1 !== ndxPos && (bestMatch = lmnt, 
                                indexPos = ndxPos);
                            }), bestMatch ? bestMatch.locator.slice((targetAlternation !== undefined ? targetAlternation : bestMatch.alternation) + 1) : targetAlternation !== undefined ? resolveNdxInitializer(pos, alternateNdx) : undefined;
                        }
                        if (testPos > 1e4) throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + getMaskSet().mask;
                        if (testPos === pos && match.matches === undefined) return matches.push({
                            match: match,
                            locator: loopNdx.reverse(),
                            cd: cacheDependency
                        }), !0;
                        if (match.matches !== undefined) {
                            if (match.isGroup && quantifierRecurse !== match) {
                                if (match = handleMatch(maskToken.matches[$.inArray(match, maskToken.matches) + 1], loopNdx)) return !0;
                            } else if (match.isOptional) {
                                var optionalToken = match;
                                if (match = resolveTestFromToken(match, ndxInitializer, loopNdx, quantifierRecurse)) {
                                    if (latestMatch = matches[matches.length - 1].match, !isFirstMatch(latestMatch, optionalToken)) return !0;
                                    insertStop = !0, testPos = pos;
                                }
                            } else if (match.isAlternator) {
                                var maltMatches, alternateToken = match, malternateMatches = [], currentMatches = matches.slice(), loopNdxCnt = loopNdx.length, altIndex = ndxInitializer.length > 0 ? ndxInitializer.shift() : -1;
                                if (-1 === altIndex || "string" == typeof altIndex) {
                                    var amndx, currentPos = testPos, ndxInitializerClone = ndxInitializer.slice(), altIndexArr = [];
                                    if ("string" == typeof altIndex) altIndexArr = altIndex.split(","); else for (amndx = 0; amndx < alternateToken.matches.length; amndx++) altIndexArr.push(amndx);
                                    for (var ndx = 0; ndx < altIndexArr.length; ndx++) {
                                        if (amndx = parseInt(altIndexArr[ndx]), matches = [], ndxInitializer = resolveNdxInitializer(testPos, amndx, loopNdxCnt) || ndxInitializerClone.slice(), 
                                        !0 !== (match = handleMatch(alternateToken.matches[amndx] || maskToken.matches[amndx], [ amndx ].concat(loopNdx), quantifierRecurse) || match) && match !== undefined && altIndexArr[altIndexArr.length - 1] < alternateToken.matches.length) {
                                            var ntndx = $.inArray(match, maskToken.matches) + 1;
                                            maskToken.matches.length > ntndx && (match = handleMatch(maskToken.matches[ntndx], [ ntndx ].concat(loopNdx.slice(1, loopNdx.length)), quantifierRecurse)) && (altIndexArr.push(ntndx.toString()), 
                                            $.each(matches, function(ndx, lmnt) {
                                                lmnt.alternation = loopNdx.length - 1;
                                            }));
                                        }
                                        maltMatches = matches.slice(), testPos = currentPos, matches = [];
                                        for (var ndx1 = 0; ndx1 < maltMatches.length; ndx1++) {
                                            var altMatch = maltMatches[ndx1], dropMatch = !1;
                                            altMatch.alternation = altMatch.alternation || loopNdxCnt;
                                            for (var ndx2 = 0; ndx2 < malternateMatches.length; ndx2++) {
                                                var altMatch2 = malternateMatches[ndx2];
                                                if ("string" != typeof altIndex || -1 !== $.inArray(altMatch.locator[altMatch.alternation].toString(), altIndexArr)) {
                                                    if (function(source, target) {
                                                        return source.match.nativeDef === target.match.nativeDef || source.match.def === target.match.nativeDef || source.match.nativeDef === target.match.def;
                                                    }(altMatch, altMatch2)) {
                                                        dropMatch = !0, altMatch.alternation === altMatch2.alternation && -1 === altMatch2.locator[altMatch2.alternation].toString().indexOf(altMatch.locator[altMatch.alternation]) && (altMatch2.locator[altMatch2.alternation] = altMatch2.locator[altMatch2.alternation] + "," + altMatch.locator[altMatch.alternation], 
                                                        altMatch2.alternation = altMatch.alternation), altMatch.match.nativeDef === altMatch2.match.def && (altMatch.locator[altMatch.alternation] = altMatch2.locator[altMatch2.alternation], 
                                                        malternateMatches.splice(malternateMatches.indexOf(altMatch2), 1, altMatch));
                                                        break;
                                                    }
                                                    if (altMatch.match.def === altMatch2.match.def) {
                                                        dropMatch = !1;
                                                        break;
                                                    }
                                                    if (function(source, target) {
                                                        return null === source.match.fn && null !== target.match.fn && target.match.fn.test(source.match.def, getMaskSet(), pos, !1, opts, !1);
                                                    }(altMatch, altMatch2) || function(source, target) {
                                                        return null !== source.match.fn && null !== target.match.fn && target.match.fn.test(source.match.def.replace(/[\[\]]/g, ""), getMaskSet(), pos, !1, opts, !1);
                                                    }(altMatch, altMatch2)) {
                                                        altMatch.alternation === altMatch2.alternation && -1 === altMatch.locator[altMatch.alternation].toString().indexOf(altMatch2.locator[altMatch2.alternation].toString().split("")[0]) && (altMatch.na = altMatch.na || altMatch.locator[altMatch.alternation].toString(), 
                                                        -1 === altMatch.na.indexOf(altMatch.locator[altMatch.alternation].toString().split("")[0]) && (altMatch.na = altMatch.na + "," + altMatch.locator[altMatch2.alternation].toString().split("")[0]), 
                                                        dropMatch = !0, altMatch.locator[altMatch.alternation] = altMatch2.locator[altMatch2.alternation].toString().split("")[0] + "," + altMatch.locator[altMatch.alternation], 
                                                        malternateMatches.splice(malternateMatches.indexOf(altMatch2), 0, altMatch));
                                                        break;
                                                    }
                                                }
                                            }
                                            dropMatch || malternateMatches.push(altMatch);
                                        }
                                    }
                                    "string" == typeof altIndex && (malternateMatches = $.map(malternateMatches, function(lmnt, ndx) {
                                        if (isFinite(ndx)) {
                                            var alternation = lmnt.alternation, altLocArr = lmnt.locator[alternation].toString().split(",");
                                            lmnt.locator[alternation] = undefined, lmnt.alternation = undefined;
                                            for (var alndx = 0; alndx < altLocArr.length; alndx++) -1 !== $.inArray(altLocArr[alndx], altIndexArr) && (lmnt.locator[alternation] !== undefined ? (lmnt.locator[alternation] += ",", 
                                            lmnt.locator[alternation] += altLocArr[alndx]) : lmnt.locator[alternation] = parseInt(altLocArr[alndx]), 
                                            lmnt.alternation = alternation);
                                            if (lmnt.locator[alternation] !== undefined) return lmnt;
                                        }
                                    })), matches = currentMatches.concat(malternateMatches), testPos = pos, insertStop = matches.length > 0, 
                                    match = malternateMatches.length > 0, ndxInitializer = ndxInitializerClone.slice();
                                } else match = handleMatch(alternateToken.matches[altIndex] || maskToken.matches[altIndex], [ altIndex ].concat(loopNdx), quantifierRecurse);
                                if (match) return !0;
                            } else if (match.isQuantifier && quantifierRecurse !== maskToken.matches[$.inArray(match, maskToken.matches) - 1]) for (var qt = match, qndx = ndxInitializer.length > 0 ? ndxInitializer.shift() : 0; qndx < (isNaN(qt.quantifier.max) ? qndx + 1 : qt.quantifier.max) && testPos <= pos; qndx++) {
                                var tokenGroup = maskToken.matches[$.inArray(qt, maskToken.matches) - 1];
                                if (match = handleMatch(tokenGroup, [ qndx ].concat(loopNdx), tokenGroup)) {
                                    if (latestMatch = matches[matches.length - 1].match, latestMatch.optionalQuantifier = qndx > qt.quantifier.min - 1, 
                                    isFirstMatch(latestMatch, tokenGroup)) {
                                        if (qndx > qt.quantifier.min - 1) {
                                            insertStop = !0, testPos = pos;
                                            break;
                                        }
                                        return !0;
                                    }
                                    return !0;
                                }
                            } else if (match = resolveTestFromToken(match, ndxInitializer, loopNdx, quantifierRecurse)) return !0;
                        } else testPos++;
                    }
                    for (var tndx = ndxInitializer.length > 0 ? ndxInitializer.shift() : 0; tndx < maskToken.matches.length; tndx++) if (!0 !== maskToken.matches[tndx].isQuantifier) {
                        var match = handleMatch(maskToken.matches[tndx], [ tndx ].concat(loopNdx), quantifierRecurse);
                        if (match && testPos === pos) return match;
                        if (testPos > pos) break;
                    }
                }
                function filterTests(tests) {
                    if (opts.keepStatic && pos > 0 && tests.length > 1 + ("" === tests[tests.length - 1].match.def ? 1 : 0) && !0 !== tests[0].match.optionality && !0 !== tests[0].match.optionalQuantifier && null === tests[0].match.fn && !/[0-9a-bA-Z]/.test(tests[0].match.def)) {
                        if (getMaskSet().validPositions[pos - 1] === undefined) return [ determineTestTemplate(tests) ];
                        if (getMaskSet().validPositions[pos - 1].alternation === tests[0].alternation) return [ determineTestTemplate(tests) ];
                        if (getMaskSet().validPositions[pos - 1]) return [ determineTestTemplate(tests) ];
                    }
                    return tests;
                }
                var latestMatch, maskTokens = getMaskSet().maskToken, testPos = ndxIntlzr ? tstPs : 0, ndxInitializer = ndxIntlzr ? ndxIntlzr.slice() : [ 0 ], matches = [], insertStop = !1, cacheDependency = ndxIntlzr ? ndxIntlzr.join("") : "";
                if (pos > -1) {
                    if (ndxIntlzr === undefined) {
                        for (var test, previousPos = pos - 1; (test = getMaskSet().validPositions[previousPos] || getMaskSet().tests[previousPos]) === undefined && previousPos > -1; ) previousPos--;
                        test !== undefined && previousPos > -1 && (ndxInitializer = function(tests) {
                            var locator = [];
                            return $.isArray(tests) || (tests = [ tests ]), tests.length > 0 && (tests[0].alternation === undefined ? 0 === (locator = determineTestTemplate(tests.slice()).locator.slice()).length && (locator = tests[0].locator.slice()) : $.each(tests, function(ndx, tst) {
                                if ("" !== tst.def) if (0 === locator.length) locator = tst.locator.slice(); else for (var i = 0; i < locator.length; i++) tst.locator[i] && -1 === locator[i].toString().indexOf(tst.locator[i]) && (locator[i] += "," + tst.locator[i]);
                            })), locator;
                        }(test), cacheDependency = ndxInitializer.join(""), testPos = previousPos);
                    }
                    if (getMaskSet().tests[pos] && getMaskSet().tests[pos][0].cd === cacheDependency) return filterTests(getMaskSet().tests[pos]);
                    for (var mtndx = ndxInitializer.shift(); mtndx < maskTokens.length && !(resolveTestFromToken(maskTokens[mtndx], ndxInitializer, [ mtndx ]) && testPos === pos || testPos > pos); mtndx++) ;
                }
                return (0 === matches.length || insertStop) && matches.push({
                    match: {
                        fn: null,
                        cardinality: 0,
                        optionality: !0,
                        casing: null,
                        def: "",
                        placeholder: ""
                    },
                    locator: [],
                    cd: cacheDependency
                }), ndxIntlzr !== undefined && getMaskSet().tests[pos] ? filterTests($.extend(!0, [], matches)) : (getMaskSet().tests[pos] = $.extend(!0, [], matches), 
                filterTests(getMaskSet().tests[pos]));
            }
            function getBufferTemplate() {
                return getMaskSet()._buffer === undefined && (getMaskSet()._buffer = getMaskTemplate(!1, 1), 
                getMaskSet().buffer === undefined && (getMaskSet().buffer = getMaskSet()._buffer.slice())), 
                getMaskSet()._buffer;
            }
            function getBuffer(noCache) {
                return getMaskSet().buffer !== undefined && !0 !== noCache || (getMaskSet().buffer = getMaskTemplate(!0, getLastValidPosition(), !0)), 
                getMaskSet().buffer;
            }
            function refreshFromBuffer(start, end, buffer) {
                var i, p;
                if (!0 === start) resetMaskSet(), start = 0, end = buffer.length; else for (i = start; i < end; i++) delete getMaskSet().validPositions[i];
                for (p = start, i = start; i < end; i++) if (resetMaskSet(!0), buffer[i] !== opts.skipOptionalPartCharacter) {
                    var valResult = isValid(p, buffer[i], !0, !0);
                    !1 !== valResult && (resetMaskSet(!0), p = valResult.caret !== undefined ? valResult.caret : valResult.pos + 1);
                }
            }
            function casing(elem, test, pos) {
                switch (opts.casing || test.casing) {
                  case "upper":
                    elem = elem.toUpperCase();
                    break;

                  case "lower":
                    elem = elem.toLowerCase();
                    break;

                  case "title":
                    var posBefore = getMaskSet().validPositions[pos - 1];
                    elem = 0 === pos || posBefore && posBefore.input === String.fromCharCode(Inputmask.keyCode.SPACE) ? elem.toUpperCase() : elem.toLowerCase();
                    break;

                  default:
                    if ($.isFunction(opts.casing)) {
                        var args = Array.prototype.slice.call(arguments);
                        args.push(getMaskSet().validPositions), elem = opts.casing.apply(this, args);
                    }
                }
                return elem;
            }
            function checkAlternationMatch(altArr1, altArr2, na) {
                for (var naNdx, altArrC = opts.greedy ? altArr2 : altArr2.slice(0, 1), isMatch = !1, naArr = na !== undefined ? na.split(",") : [], i = 0; i < naArr.length; i++) -1 !== (naNdx = altArr1.indexOf(naArr[i])) && altArr1.splice(naNdx, 1);
                for (var alndx = 0; alndx < altArr1.length; alndx++) if (-1 !== $.inArray(altArr1[alndx], altArrC)) {
                    isMatch = !0;
                    break;
                }
                return isMatch;
            }
            function isValid(pos, c, strict, fromSetValid, fromAlternate, validateOnly) {
                function isSelection(posObj) {
                    var selection = isRTL ? posObj.begin - posObj.end > 1 || posObj.begin - posObj.end == 1 : posObj.end - posObj.begin > 1 || posObj.end - posObj.begin == 1;
                    return selection && 0 === posObj.begin && posObj.end === getMaskSet().maskLength ? "full" : selection;
                }
                function _isValid(position, c, strict) {
                    var rslt = !1;
                    return $.each(getTests(position), function(ndx, tst) {
                        for (var test = tst.match, loopend = c ? 1 : 0, chrs = "", i = test.cardinality; i > loopend; i--) chrs += getBufferElement(position - (i - 1));
                        if (c && (chrs += c), getBuffer(!0), !1 !== (rslt = null != test.fn ? test.fn.test(chrs, getMaskSet(), position, strict, opts, isSelection(pos)) : (c === test.def || c === opts.skipOptionalPartCharacter) && "" !== test.def && {
                            c: getPlaceholder(position, test, !0) || test.def,
                            pos: position
                        })) {
                            var elem = rslt.c !== undefined ? rslt.c : c;
                            elem = elem === opts.skipOptionalPartCharacter && null === test.fn ? getPlaceholder(position, test, !0) || test.def : elem;
                            var validatedPos = position, possibleModifiedBuffer = getBuffer();
                            if (rslt.remove !== undefined && ($.isArray(rslt.remove) || (rslt.remove = [ rslt.remove ]), 
                            $.each(rslt.remove.sort(function(a, b) {
                                return b - a;
                            }), function(ndx, lmnt) {
                                stripValidPositions(lmnt, lmnt + 1, !0);
                            })), rslt.insert !== undefined && ($.isArray(rslt.insert) || (rslt.insert = [ rslt.insert ]), 
                            $.each(rslt.insert.sort(function(a, b) {
                                return a - b;
                            }), function(ndx, lmnt) {
                                isValid(lmnt.pos, lmnt.c, !0, fromSetValid);
                            })), rslt.refreshFromBuffer) {
                                var refresh = rslt.refreshFromBuffer;
                                if (refreshFromBuffer(!0 === refresh ? refresh : refresh.start, refresh.end, possibleModifiedBuffer), 
                                rslt.pos === undefined && rslt.c === undefined) return rslt.pos = getLastValidPosition(), 
                                !1;
                                if ((validatedPos = rslt.pos !== undefined ? rslt.pos : position) !== position) return rslt = $.extend(rslt, isValid(validatedPos, elem, !0, fromSetValid)), 
                                !1;
                            } else if (!0 !== rslt && rslt.pos !== undefined && rslt.pos !== position && (validatedPos = rslt.pos, 
                            refreshFromBuffer(position, validatedPos, getBuffer().slice()), validatedPos !== position)) return rslt = $.extend(rslt, isValid(validatedPos, elem, !0)), 
                            !1;
                            return (!0 === rslt || rslt.pos !== undefined || rslt.c !== undefined) && (ndx > 0 && resetMaskSet(!0), 
                            setValidPosition(validatedPos, $.extend({}, tst, {
                                input: casing(elem, test, validatedPos)
                            }), fromSetValid, isSelection(pos)) || (rslt = !1), !1);
                        }
                    }), rslt;
                }
                function setValidPosition(pos, validTest, fromSetValid, isSelection) {
                    if (isSelection || opts.insertMode && getMaskSet().validPositions[pos] !== undefined && fromSetValid === undefined) {
                        var i, positionsClone = $.extend(!0, {}, getMaskSet().validPositions), lvp = getLastValidPosition(undefined, !0);
                        for (i = pos; i <= lvp; i++) delete getMaskSet().validPositions[i];
                        getMaskSet().validPositions[pos] = $.extend(!0, {}, validTest);
                        var j, valid = !0, vps = getMaskSet().validPositions, needsValidation = !1, initialLength = getMaskSet().maskLength;
                        for (i = j = pos; i <= lvp; i++) {
                            var t = positionsClone[i];
                            if (t !== undefined) for (var posMatch = j; posMatch < getMaskSet().maskLength && (null === t.match.fn && vps[i] && (!0 === vps[i].match.optionalQuantifier || !0 === vps[i].match.optionality) || null != t.match.fn); ) {
                                if (posMatch++, !1 === needsValidation && positionsClone[posMatch] && positionsClone[posMatch].match.def === t.match.def) getMaskSet().validPositions[posMatch] = $.extend(!0, {}, positionsClone[posMatch]), 
                                getMaskSet().validPositions[posMatch].input = t.input, fillMissingNonMask(posMatch), 
                                j = posMatch, valid = !0; else if (positionCanMatchDefinition(posMatch, t.match.def)) {
                                    var result = isValid(posMatch, t.input, !0, !0);
                                    valid = !1 !== result, j = result.caret || result.insert ? getLastValidPosition() : posMatch, 
                                    needsValidation = !0;
                                } else if (!(valid = !0 === t.generatedInput) && posMatch >= getMaskSet().maskLength - 1) break;
                                if (getMaskSet().maskLength < initialLength && (getMaskSet().maskLength = initialLength), 
                                valid) break;
                            }
                            if (!valid) break;
                        }
                        if (!valid) return getMaskSet().validPositions = $.extend(!0, {}, positionsClone), 
                        resetMaskSet(!0), !1;
                    } else getMaskSet().validPositions[pos] = $.extend(!0, {}, validTest);
                    return resetMaskSet(!0), !0;
                }
                function fillMissingNonMask(maskPos) {
                    for (var pndx = maskPos - 1; pndx > -1 && !getMaskSet().validPositions[pndx]; pndx--) ;
                    var testTemplate, testsFromPos;
                    for (pndx++; pndx < maskPos; pndx++) getMaskSet().validPositions[pndx] === undefined && (!1 === opts.jitMasking || opts.jitMasking > pndx) && ("" === (testsFromPos = getTests(pndx, getTestTemplate(pndx - 1).locator, pndx - 1).slice())[testsFromPos.length - 1].match.def && testsFromPos.pop(), 
                    (testTemplate = determineTestTemplate(testsFromPos)) && (testTemplate.match.def === opts.radixPointDefinitionSymbol || !isMask(pndx, !0) || $.inArray(opts.radixPoint, getBuffer()) < pndx && testTemplate.match.fn && testTemplate.match.fn.test(getPlaceholder(pndx), getMaskSet(), pndx, !1, opts)) && !1 !== (result = _isValid(pndx, getPlaceholder(pndx, testTemplate.match, !0) || (null == testTemplate.match.fn ? testTemplate.match.def : "" !== getPlaceholder(pndx) ? getPlaceholder(pndx) : getBuffer()[pndx]), !0)) && (getMaskSet().validPositions[result.pos || pndx].generatedInput = !0));
                }
                strict = !0 === strict;
                var maskPos = pos;
                pos.begin !== undefined && (maskPos = isRTL && !isSelection(pos) ? pos.end : pos.begin);
                var result = !0, positionsClone = $.extend(!0, {}, getMaskSet().validPositions);
                if ($.isFunction(opts.preValidation) && !strict && !0 !== fromSetValid && !0 !== validateOnly && (result = opts.preValidation(getBuffer(), maskPos, c, isSelection(pos), opts)), 
                !0 === result) {
                    if (fillMissingNonMask(maskPos), isSelection(pos) && (handleRemove(undefined, Inputmask.keyCode.DELETE, pos, !0, !0), 
                    maskPos = getMaskSet().p), maskPos < getMaskSet().maskLength && (maxLength === undefined || maskPos < maxLength) && (result = _isValid(maskPos, c, strict), 
                    (!strict || !0 === fromSetValid) && !1 === result && !0 !== validateOnly)) {
                        var currentPosValid = getMaskSet().validPositions[maskPos];
                        if (!currentPosValid || null !== currentPosValid.match.fn || currentPosValid.match.def !== c && c !== opts.skipOptionalPartCharacter) {
                            if ((opts.insertMode || getMaskSet().validPositions[seekNext(maskPos)] === undefined) && !isMask(maskPos, !0)) for (var nPos = maskPos + 1, snPos = seekNext(maskPos); nPos <= snPos; nPos++) if (!1 !== (result = _isValid(nPos, c, strict))) {
                                !function(originalPos, newPos) {
                                    var vp = getMaskSet().validPositions[newPos];
                                    if (vp) for (var targetLocator = vp.locator, tll = targetLocator.length, ps = originalPos; ps < newPos; ps++) if (getMaskSet().validPositions[ps] === undefined && !isMask(ps, !0)) {
                                        var tests = getTests(ps).slice(), bestMatch = determineTestTemplate(tests, !0), equality = -1;
                                        "" === tests[tests.length - 1].match.def && tests.pop(), $.each(tests, function(ndx, tst) {
                                            for (var i = 0; i < tll; i++) {
                                                if (tst.locator[i] === undefined || !checkAlternationMatch(tst.locator[i].toString().split(","), targetLocator[i].toString().split(","), tst.na)) {
                                                    var targetAI = targetLocator[i], bestMatchAI = bestMatch.locator[i], tstAI = tst.locator[i];
                                                    targetAI - bestMatchAI > Math.abs(targetAI - tstAI) && (bestMatch = tst);
                                                    break;
                                                }
                                                equality < i && (equality = i, bestMatch = tst);
                                            }
                                        }), (bestMatch = $.extend({}, bestMatch, {
                                            input: getPlaceholder(ps, bestMatch.match, !0) || bestMatch.match.def
                                        })).generatedInput = !0, setValidPosition(ps, bestMatch, !0), getMaskSet().validPositions[newPos] = undefined, 
                                        _isValid(newPos, vp.input, !0);
                                    }
                                }(maskPos, result.pos !== undefined ? result.pos : nPos), maskPos = nPos;
                                break;
                            }
                        } else result = {
                            caret: seekNext(maskPos)
                        };
                    }
                    !1 === result && opts.keepStatic && !strict && !0 !== fromAlternate && (result = function(pos, c, strict) {
                        var lastAlt, alternation, altPos, prevAltPos, i, validPos, altNdxs, decisionPos, validPsClone = $.extend(!0, {}, getMaskSet().validPositions), isValidRslt = !1, lAltPos = getLastValidPosition();
                        for (prevAltPos = getMaskSet().validPositions[lAltPos]; lAltPos >= 0; lAltPos--) if ((altPos = getMaskSet().validPositions[lAltPos]) && altPos.alternation !== undefined) {
                            if (lastAlt = lAltPos, alternation = getMaskSet().validPositions[lastAlt].alternation, 
                            prevAltPos.locator[altPos.alternation] !== altPos.locator[altPos.alternation]) break;
                            prevAltPos = altPos;
                        }
                        if (alternation !== undefined) {
                            decisionPos = parseInt(lastAlt);
                            var decisionTaker = prevAltPos.locator[prevAltPos.alternation || alternation] !== undefined ? prevAltPos.locator[prevAltPos.alternation || alternation] : altNdxs[0];
                            decisionTaker.length > 0 && (decisionTaker = decisionTaker.split(",")[0]);
                            var possibilityPos = getMaskSet().validPositions[decisionPos], prevPos = getMaskSet().validPositions[decisionPos - 1];
                            $.each(getTests(decisionPos, prevPos ? prevPos.locator : undefined, decisionPos - 1), function(ndx, test) {
                                altNdxs = test.locator[alternation] ? test.locator[alternation].toString().split(",") : [];
                                for (var mndx = 0; mndx < altNdxs.length; mndx++) {
                                    var validInputs = [], staticInputsBeforePos = 0, staticInputsBeforePosAlternate = 0, verifyValidInput = !1;
                                    if (decisionTaker < altNdxs[mndx] && (test.na === undefined || -1 === $.inArray(altNdxs[mndx], test.na.split(",")) || -1 === $.inArray(decisionTaker.toString(), altNdxs))) {
                                        getMaskSet().validPositions[decisionPos] = $.extend(!0, {}, test);
                                        var possibilities = getMaskSet().validPositions[decisionPos].locator;
                                        for (getMaskSet().validPositions[decisionPos].locator[alternation] = parseInt(altNdxs[mndx]), 
                                        null == test.match.fn ? (possibilityPos.input !== test.match.def && (verifyValidInput = !0, 
                                        !0 !== possibilityPos.generatedInput && validInputs.push(possibilityPos.input)), 
                                        staticInputsBeforePosAlternate++, getMaskSet().validPositions[decisionPos].generatedInput = !/[0-9a-bA-Z]/.test(test.match.def), 
                                        getMaskSet().validPositions[decisionPos].input = test.match.def) : getMaskSet().validPositions[decisionPos].input = possibilityPos.input, 
                                        i = decisionPos + 1; i < getLastValidPosition(undefined, !0) + 1; i++) (validPos = getMaskSet().validPositions[i]) && !0 !== validPos.generatedInput && /[0-9a-bA-Z]/.test(validPos.input) ? validInputs.push(validPos.input) : i < pos && staticInputsBeforePos++, 
                                        delete getMaskSet().validPositions[i];
                                        for (verifyValidInput && validInputs[0] === test.match.def && validInputs.shift(), 
                                        resetMaskSet(!0), isValidRslt = !0; validInputs.length > 0; ) {
                                            var input = validInputs.shift();
                                            if (input !== opts.skipOptionalPartCharacter && !(isValidRslt = isValid(getLastValidPosition(undefined, !0) + 1, input, !1, fromSetValid, !0))) break;
                                        }
                                        if (isValidRslt) {
                                            getMaskSet().validPositions[decisionPos].locator = possibilities;
                                            var targetLvp = getLastValidPosition(pos) + 1;
                                            for (i = decisionPos + 1; i < getLastValidPosition() + 1; i++) ((validPos = getMaskSet().validPositions[i]) === undefined || null == validPos.match.fn) && i < pos + (staticInputsBeforePosAlternate - staticInputsBeforePos) && staticInputsBeforePosAlternate++;
                                            isValidRslt = isValid((pos += staticInputsBeforePosAlternate - staticInputsBeforePos) > targetLvp ? targetLvp : pos, c, strict, fromSetValid, !0);
                                        }
                                        if (isValidRslt) return !1;
                                        resetMaskSet(), getMaskSet().validPositions = $.extend(!0, {}, validPsClone);
                                    }
                                }
                            });
                        }
                        return isValidRslt;
                    }(maskPos, c, strict)), !0 === result && (result = {
                        pos: maskPos
                    });
                }
                if ($.isFunction(opts.postValidation) && !1 !== result && !strict && !0 !== fromSetValid && !0 !== validateOnly) {
                    var postResult = opts.postValidation(getBuffer(!0), result, opts);
                    if (postResult.refreshFromBuffer && postResult.buffer) {
                        var refresh = postResult.refreshFromBuffer;
                        refreshFromBuffer(!0 === refresh ? refresh : refresh.start, refresh.end, postResult.buffer);
                    }
                    result = !0 === postResult ? result : postResult;
                }
                return result && result.pos === undefined && (result.pos = maskPos), !1 !== result && !0 !== validateOnly || (resetMaskSet(!0), 
                getMaskSet().validPositions = $.extend(!0, {}, positionsClone)), result;
            }
            function isMask(pos, strict) {
                var test = getTestTemplate(pos).match;
                if ("" === test.def && (test = getTest(pos).match), null != test.fn) return test.fn;
                if (!0 !== strict && pos > -1) {
                    var tests = getTests(pos);
                    return tests.length > 1 + ("" === tests[tests.length - 1].match.def ? 1 : 0);
                }
                return !1;
            }
            function seekNext(pos, newBlock) {
                var maskL = getMaskSet().maskLength;
                if (pos >= maskL) return maskL;
                var position = pos;
                for (getTests(maskL + 1).length > 1 && (getMaskTemplate(!0, maskL + 1, !0), maskL = getMaskSet().maskLength); ++position < maskL && (!0 === newBlock && (!0 !== getTest(position).match.newBlockMarker || !isMask(position)) || !0 !== newBlock && !isMask(position)); ) ;
                return position;
            }
            function seekPrevious(pos, newBlock) {
                var tests, position = pos;
                if (position <= 0) return 0;
                for (;--position > 0 && (!0 === newBlock && !0 !== getTest(position).match.newBlockMarker || !0 !== newBlock && !isMask(position) && ((tests = getTests(position)).length < 2 || 2 === tests.length && "" === tests[1].match.def)); ) ;
                return position;
            }
            function getBufferElement(position) {
                return getMaskSet().validPositions[position] === undefined ? getPlaceholder(position) : getMaskSet().validPositions[position].input;
            }
            function writeBuffer(input, buffer, caretPos, event, triggerInputEvent) {
                if (event && $.isFunction(opts.onBeforeWrite)) {
                    var result = opts.onBeforeWrite.call(inputmask, event, buffer, caretPos, opts);
                    if (result) {
                        if (result.refreshFromBuffer) {
                            var refresh = result.refreshFromBuffer;
                            refreshFromBuffer(!0 === refresh ? refresh : refresh.start, refresh.end, result.buffer || buffer), 
                            buffer = getBuffer(!0);
                        }
                        caretPos !== undefined && (caretPos = result.caret !== undefined ? result.caret : caretPos);
                    }
                }
                input !== undefined && (input.inputmask._valueSet(buffer.join("")), caretPos === undefined || event !== undefined && "blur" === event.type ? renderColorMask(input, caretPos, 0 === buffer.length) : android && event && "input" === event.type ? setTimeout(function() {
                    caret(input, caretPos);
                }, 0) : caret(input, caretPos), !0 === triggerInputEvent && (skipInputEvent = !0, 
                $(input).trigger("input")));
            }
            function getPlaceholder(pos, test, returnPL) {
                if ((test = test || getTest(pos).match).placeholder !== undefined || !0 === returnPL) return $.isFunction(test.placeholder) ? test.placeholder(opts) : test.placeholder;
                if (null === test.fn) {
                    if (pos > -1 && getMaskSet().validPositions[pos] === undefined) {
                        var prevTest, tests = getTests(pos), staticAlternations = [];
                        if (tests.length > 1 + ("" === tests[tests.length - 1].match.def ? 1 : 0)) for (var i = 0; i < tests.length; i++) if (!0 !== tests[i].match.optionality && !0 !== tests[i].match.optionalQuantifier && (null === tests[i].match.fn || prevTest === undefined || !1 !== tests[i].match.fn.test(prevTest.match.def, getMaskSet(), pos, !0, opts)) && (staticAlternations.push(tests[i]), 
                        null === tests[i].match.fn && (prevTest = tests[i]), staticAlternations.length > 1 && /[0-9a-bA-Z]/.test(staticAlternations[0].match.def))) return opts.placeholder.charAt(pos % opts.placeholder.length);
                    }
                    return test.def;
                }
                return opts.placeholder.charAt(pos % opts.placeholder.length);
            }
            function checkVal(input, writeOut, strict, nptvl, initiatingEvent) {
                function isTemplateMatch(ndx, charCodes) {
                    return -1 !== getBufferTemplate().slice(ndx, seekNext(ndx)).join("").indexOf(charCodes) && !isMask(ndx) && getTest(ndx).match.nativeDef === charCodes.charAt(charCodes.length - 1);
                }
                var inputValue = nptvl.slice(), charCodes = "", initialNdx = -1, result = undefined;
                if (resetMaskSet(), strict || !0 === opts.autoUnmask) initialNdx = seekNext(initialNdx); else {
                    var staticInput = getBufferTemplate().slice(0, seekNext(-1)).join(""), matches = inputValue.join("").match(new RegExp("^" + Inputmask.escapeRegex(staticInput), "g"));
                    matches && matches.length > 0 && (inputValue.splice(0, matches.length * staticInput.length), 
                    initialNdx = seekNext(initialNdx));
                }
                if (-1 === initialNdx ? (getMaskSet().p = seekNext(initialNdx), initialNdx = 0) : getMaskSet().p = initialNdx, 
                $.each(inputValue, function(ndx, charCode) {
                    if (charCode !== undefined) if (getMaskSet().validPositions[ndx] === undefined && inputValue[ndx] === getPlaceholder(ndx) && isMask(ndx, !0) && !1 === isValid(ndx, inputValue[ndx], !0, undefined, undefined, !0)) getMaskSet().p++; else {
                        var keypress = new $.Event("_checkval");
                        keypress.which = charCode.charCodeAt(0), charCodes += charCode;
                        var lvp = getLastValidPosition(undefined, !0), lvTest = getMaskSet().validPositions[lvp], nextTest = getTestTemplate(lvp + 1, lvTest ? lvTest.locator.slice() : undefined, lvp);
                        if (!isTemplateMatch(initialNdx, charCodes) || strict || opts.autoUnmask) {
                            var pos = strict ? ndx : null == nextTest.match.fn && nextTest.match.optionality && lvp + 1 < getMaskSet().p ? lvp + 1 : getMaskSet().p;
                            result = EventHandlers.keypressEvent.call(input, keypress, !0, !1, strict, pos), 
                            initialNdx = pos + 1, charCodes = "";
                        } else result = EventHandlers.keypressEvent.call(input, keypress, !0, !1, !0, lvp + 1);
                        if (!1 !== result && !strict && $.isFunction(opts.onBeforeWrite)) {
                            var origResult = result;
                            if (result = opts.onBeforeWrite.call(inputmask, keypress, getBuffer(), result.forwardPosition, opts), 
                            (result = $.extend(origResult, result)) && result.refreshFromBuffer) {
                                var refresh = result.refreshFromBuffer;
                                refreshFromBuffer(!0 === refresh ? refresh : refresh.start, refresh.end, result.buffer), 
                                resetMaskSet(!0), result.caret && (getMaskSet().p = result.caret, result.forwardPosition = result.caret);
                            }
                        }
                    }
                }), writeOut) {
                    var caretPos = undefined;
                    document.activeElement === input && result && (caretPos = opts.numericInput ? seekPrevious(result.forwardPosition) : result.forwardPosition), 
                    writeBuffer(input, getBuffer(), caretPos, initiatingEvent || new $.Event("checkval"), initiatingEvent && "input" === initiatingEvent.type);
                }
            }
            function unmaskedvalue(input) {
                if (input) {
                    if (input.inputmask === undefined) return input.value;
                    input.inputmask && input.inputmask.refreshValue && EventHandlers.setValueEvent.call(input);
                }
                var umValue = [], vps = getMaskSet().validPositions;
                for (var pndx in vps) vps[pndx].match && null != vps[pndx].match.fn && umValue.push(vps[pndx].input);
                var unmaskedValue = 0 === umValue.length ? "" : (isRTL ? umValue.reverse() : umValue).join("");
                if ($.isFunction(opts.onUnMask)) {
                    var bufferValue = (isRTL ? getBuffer().slice().reverse() : getBuffer()).join("");
                    unmaskedValue = opts.onUnMask.call(inputmask, bufferValue, unmaskedValue, opts);
                }
                return unmaskedValue;
            }
            function caret(input, begin, end, notranslate) {
                function translatePosition(pos) {
                    return !0 === notranslate || !isRTL || "number" != typeof pos || opts.greedy && "" === opts.placeholder || (pos = getBuffer().join("").length - pos), 
                    pos;
                }
                var range;
                if (begin === undefined) return input.setSelectionRange ? (begin = input.selectionStart, 
                end = input.selectionEnd) : window.getSelection ? (range = window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode !== input && range.commonAncestorContainer !== input || (begin = range.startOffset, 
                end = range.endOffset) : document.selection && document.selection.createRange && (end = (begin = 0 - (range = document.selection.createRange()).duplicate().moveStart("character", -input.inputmask._valueGet().length)) + range.text.length), 
                {
                    begin: translatePosition(begin),
                    end: translatePosition(end)
                };
                if (begin.begin !== undefined && (end = begin.end, begin = begin.begin), "number" == typeof begin) {
                    begin = translatePosition(begin), end = "number" == typeof (end = translatePosition(end)) ? end : begin;
                    var scrollCalc = parseInt(((input.ownerDocument.defaultView || window).getComputedStyle ? (input.ownerDocument.defaultView || window).getComputedStyle(input, null) : input.currentStyle).fontSize) * end;
                    if (input.scrollLeft = scrollCalc > input.scrollWidth ? scrollCalc : 0, mobile || !1 !== opts.insertMode || begin !== end || end++, 
                    input.setSelectionRange) input.selectionStart = begin, input.selectionEnd = end; else if (window.getSelection) {
                        if (range = document.createRange(), input.firstChild === undefined || null === input.firstChild) {
                            var textNode = document.createTextNode("");
                            input.appendChild(textNode);
                        }
                        range.setStart(input.firstChild, begin < input.inputmask._valueGet().length ? begin : input.inputmask._valueGet().length), 
                        range.setEnd(input.firstChild, end < input.inputmask._valueGet().length ? end : input.inputmask._valueGet().length), 
                        range.collapse(!0);
                        var sel = window.getSelection();
                        sel.removeAllRanges(), sel.addRange(range);
                    } else input.createTextRange && ((range = input.createTextRange()).collapse(!0), 
                    range.moveEnd("character", end), range.moveStart("character", begin), range.select());
                    renderColorMask(input, {
                        begin: begin,
                        end: end
                    });
                }
            }
            function determineLastRequiredPosition(returnDefinition) {
                var pos, testPos, buffer = getBuffer(), bl = buffer.length, lvp = getLastValidPosition(), positions = {}, lvTest = getMaskSet().validPositions[lvp], ndxIntlzr = lvTest !== undefined ? lvTest.locator.slice() : undefined;
                for (pos = lvp + 1; pos < buffer.length; pos++) ndxIntlzr = (testPos = getTestTemplate(pos, ndxIntlzr, pos - 1)).locator.slice(), 
                positions[pos] = $.extend(!0, {}, testPos);
                var lvTestAlt = lvTest && lvTest.alternation !== undefined ? lvTest.locator[lvTest.alternation] : undefined;
                for (pos = bl - 1; pos > lvp && (((testPos = positions[pos]).match.optionality || testPos.match.optionalQuantifier && testPos.match.newBlockMarker || lvTestAlt && (lvTestAlt !== positions[pos].locator[lvTest.alternation] && null != testPos.match.fn || null === testPos.match.fn && testPos.locator[lvTest.alternation] && checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","), lvTestAlt.toString().split(",")) && "" !== getTests(pos)[0].def)) && buffer[pos] === getPlaceholder(pos, testPos.match)); pos--) bl--;
                return returnDefinition ? {
                    l: bl,
                    def: positions[bl] ? positions[bl].match : undefined
                } : bl;
            }
            function clearOptionalTail(buffer) {
                for (var validPos, rl = determineLastRequiredPosition(), bl = buffer.length, lv = getMaskSet().validPositions[getLastValidPosition()]; rl < bl && !isMask(rl, !0) && (validPos = lv !== undefined ? getTestTemplate(rl, lv.locator.slice(""), lv) : getTest(rl)) && !0 !== validPos.match.optionality && (!0 !== validPos.match.optionalQuantifier && !0 !== validPos.match.newBlockMarker || rl + 1 === bl && "" === (lv !== undefined ? getTestTemplate(rl + 1, lv.locator.slice(""), lv) : getTest(rl + 1)).match.def); ) rl++;
                for (;(validPos = getMaskSet().validPositions[rl - 1]) && validPos && validPos.match.optionality && validPos.input === opts.skipOptionalPartCharacter; ) rl--;
                return buffer.splice(rl), buffer;
            }
            function isComplete(buffer) {
                if ($.isFunction(opts.isComplete)) return opts.isComplete(buffer, opts);
                if ("*" === opts.repeat) return undefined;
                var complete = !1, lrp = determineLastRequiredPosition(!0), aml = seekPrevious(lrp.l);
                if (lrp.def === undefined || lrp.def.newBlockMarker || lrp.def.optionality || lrp.def.optionalQuantifier) {
                    complete = !0;
                    for (var i = 0; i <= aml; i++) {
                        var test = getTestTemplate(i).match;
                        if (null !== test.fn && getMaskSet().validPositions[i] === undefined && !0 !== test.optionality && !0 !== test.optionalQuantifier || null === test.fn && buffer[i] !== getPlaceholder(i, test)) {
                            complete = !1;
                            break;
                        }
                    }
                }
                return complete;
            }
            function handleRemove(input, k, pos, strict, fromIsValid) {
                if ((opts.numericInput || isRTL) && (k === Inputmask.keyCode.BACKSPACE ? k = Inputmask.keyCode.DELETE : k === Inputmask.keyCode.DELETE && (k = Inputmask.keyCode.BACKSPACE), 
                isRTL)) {
                    var pend = pos.end;
                    pos.end = pos.begin, pos.begin = pend;
                }
                k === Inputmask.keyCode.BACKSPACE && (pos.end - pos.begin < 1 || !1 === opts.insertMode) ? (pos.begin = seekPrevious(pos.begin), 
                getMaskSet().validPositions[pos.begin] !== undefined && getMaskSet().validPositions[pos.begin].input === opts.groupSeparator && pos.begin--) : k === Inputmask.keyCode.DELETE && pos.begin === pos.end && (pos.end = isMask(pos.end, !0) && getMaskSet().validPositions[pos.end] && getMaskSet().validPositions[pos.end].input !== opts.radixPoint ? pos.end + 1 : seekNext(pos.end) + 1, 
                getMaskSet().validPositions[pos.begin] !== undefined && getMaskSet().validPositions[pos.begin].input === opts.groupSeparator && pos.end++), 
                stripValidPositions(pos.begin, pos.end, !1, strict), !0 !== strict && function() {
                    if (opts.keepStatic) {
                        for (var validInputs = [], lastAlt = getLastValidPosition(-1, !0), positionsClone = $.extend(!0, {}, getMaskSet().validPositions), prevAltPos = getMaskSet().validPositions[lastAlt]; lastAlt >= 0; lastAlt--) {
                            var altPos = getMaskSet().validPositions[lastAlt];
                            if (altPos) {
                                if (!0 !== altPos.generatedInput && /[0-9a-bA-Z]/.test(altPos.input) && validInputs.push(altPos.input), 
                                delete getMaskSet().validPositions[lastAlt], altPos.alternation !== undefined && altPos.locator[altPos.alternation] !== prevAltPos.locator[altPos.alternation]) break;
                                prevAltPos = altPos;
                            }
                        }
                        if (lastAlt > -1) for (getMaskSet().p = seekNext(getLastValidPosition(-1, !0)); validInputs.length > 0; ) {
                            var keypress = new $.Event("keypress");
                            keypress.which = validInputs.pop().charCodeAt(0), EventHandlers.keypressEvent.call(input, keypress, !0, !1, !1, getMaskSet().p);
                        } else getMaskSet().validPositions = $.extend(!0, {}, positionsClone);
                    }
                }();
                var lvp = getLastValidPosition(pos.begin, !0);
                if (lvp < pos.begin) getMaskSet().p = seekNext(lvp); else if (!0 !== strict && (getMaskSet().p = pos.begin, 
                !0 !== fromIsValid)) for (;getMaskSet().p < lvp && getMaskSet().validPositions[getMaskSet().p] === undefined; ) getMaskSet().p++;
            }
            function initializeColorMask(input) {
                function findCaretPos(clientx) {
                    var caretPos, e = document.createElement("span");
                    for (var style in computedStyle) isNaN(style) && -1 !== style.indexOf("font") && (e.style[style] = computedStyle[style]);
                    e.style.textTransform = computedStyle.textTransform, e.style.letterSpacing = computedStyle.letterSpacing, 
                    e.style.position = "absolute", e.style.height = "auto", e.style.width = "auto", 
                    e.style.visibility = "hidden", e.style.whiteSpace = "nowrap", document.body.appendChild(e);
                    var itl, inputText = input.inputmask._valueGet(), previousWidth = 0;
                    for (caretPos = 0, itl = inputText.length; caretPos <= itl; caretPos++) {
                        if (e.innerHTML += inputText.charAt(caretPos) || "_", e.offsetWidth >= clientx) {
                            var offset1 = clientx - previousWidth, offset2 = e.offsetWidth - clientx;
                            e.innerHTML = inputText.charAt(caretPos), caretPos = (offset1 -= e.offsetWidth / 3) < offset2 ? caretPos - 1 : caretPos;
                            break;
                        }
                        previousWidth = e.offsetWidth;
                    }
                    return document.body.removeChild(e), caretPos;
                }
                var computedStyle = (input.ownerDocument.defaultView || window).getComputedStyle(input, null), template = document.createElement("div");
                template.style.width = computedStyle.width, template.style.textAlign = computedStyle.textAlign, 
                (colorMask = document.createElement("div")).className = "im-colormask", input.parentNode.insertBefore(colorMask, input), 
                input.parentNode.removeChild(input), colorMask.appendChild(template), colorMask.appendChild(input), 
                input.style.left = template.offsetLeft + "px", $(input).on("click", function(e) {
                    return caret(input, findCaretPos(e.clientX)), EventHandlers.clickEvent.call(input, [ e ]);
                }), $(input).on("keydown", function(e) {
                    e.shiftKey || !1 === opts.insertMode || setTimeout(function() {
                        renderColorMask(input);
                    }, 0);
                });
            }
            function renderColorMask(input, caretPos, clear) {
                function handleStatic() {
                    isStatic || null !== test.fn && testPos.input !== undefined ? isStatic && (null !== test.fn && testPos.input !== undefined || "" === test.def) && (isStatic = !1, 
                    maskTemplate += "</span>") : (isStatic = !0, maskTemplate += "<span class='im-static'>");
                }
                function handleCaret(force) {
                    !0 !== force && pos !== caretPos.begin || document.activeElement !== input || (maskTemplate += "<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>");
                }
                var test, testPos, ndxIntlzr, maskTemplate = "", isStatic = !1, pos = 0;
                if (colorMask !== undefined) {
                    var buffer = getBuffer();
                    if (caretPos === undefined ? caretPos = caret(input) : caretPos.begin === undefined && (caretPos = {
                        begin: caretPos,
                        end: caretPos
                    }), !0 !== clear) {
                        var lvp = getLastValidPosition();
                        do {
                            handleCaret(), getMaskSet().validPositions[pos] ? (testPos = getMaskSet().validPositions[pos], 
                            test = testPos.match, ndxIntlzr = testPos.locator.slice(), handleStatic(), maskTemplate += buffer[pos]) : (testPos = getTestTemplate(pos, ndxIntlzr, pos - 1), 
                            test = testPos.match, ndxIntlzr = testPos.locator.slice(), (!1 === opts.jitMasking || pos < lvp || "number" == typeof opts.jitMasking && isFinite(opts.jitMasking) && opts.jitMasking > pos) && (handleStatic(), 
                            maskTemplate += getPlaceholder(pos, test))), pos++;
                        } while ((maxLength === undefined || pos < maxLength) && (null !== test.fn || "" !== test.def) || lvp > pos || isStatic);
                        -1 === maskTemplate.indexOf("im-caret") && handleCaret(!0), isStatic && handleStatic();
                    }
                    var template = colorMask.getElementsByTagName("div")[0];
                    template.innerHTML = maskTemplate, input.inputmask.positionColorMask(input, template);
                }
            }
            maskset = maskset || this.maskset, opts = opts || this.opts;
            var undoValue, $el, maxLength, colorMask, inputmask = this, el = this.el, isRTL = this.isRTL, skipKeyPressEvent = !1, skipInputEvent = !1, ignorable = !1, mouseEnter = !1, EventRuler = {
                on: function(input, eventName, eventHandler) {
                    var ev = function(e) {
                        if (this.inputmask === undefined && "FORM" !== this.nodeName) {
                            var imOpts = $.data(this, "_inputmask_opts");
                            imOpts ? new Inputmask(imOpts).mask(this) : EventRuler.off(this);
                        } else {
                            if ("setvalue" === e.type || "FORM" === this.nodeName || !(this.disabled || this.readOnly && !("keydown" === e.type && e.ctrlKey && 67 === e.keyCode || !1 === opts.tabThrough && e.keyCode === Inputmask.keyCode.TAB))) {
                                switch (e.type) {
                                  case "input":
                                    if (!0 === skipInputEvent) return skipInputEvent = !1, e.preventDefault();
                                    break;

                                  case "keydown":
                                    skipKeyPressEvent = !1, skipInputEvent = !1;
                                    break;

                                  case "keypress":
                                    if (!0 === skipKeyPressEvent) return e.preventDefault();
                                    skipKeyPressEvent = !0;
                                    break;

                                  case "click":
                                    if (iemobile || iphone) {
                                        var that = this, args = arguments;
                                        return setTimeout(function() {
                                            eventHandler.apply(that, args);
                                        }, 0), !1;
                                    }
                                }
                                var returnVal = eventHandler.apply(this, arguments);
                                return !1 === returnVal && (e.preventDefault(), e.stopPropagation()), returnVal;
                            }
                            e.preventDefault();
                        }
                    };
                    input.inputmask.events[eventName] = input.inputmask.events[eventName] || [], input.inputmask.events[eventName].push(ev), 
                    -1 !== $.inArray(eventName, [ "submit", "reset" ]) ? null !== input.form && $(input.form).on(eventName, ev) : $(input).on(eventName, ev);
                },
                off: function(input, event) {
                    if (input.inputmask && input.inputmask.events) {
                        var events;
                        event ? (events = [])[event] = input.inputmask.events[event] : events = input.inputmask.events, 
                        $.each(events, function(eventName, evArr) {
                            for (;evArr.length > 0; ) {
                                var ev = evArr.pop();
                                -1 !== $.inArray(eventName, [ "submit", "reset" ]) ? null !== input.form && $(input.form).off(eventName, ev) : $(input).off(eventName, ev);
                            }
                            delete input.inputmask.events[eventName];
                        });
                    }
                }
            }, EventHandlers = {
                keydownEvent: function(e) {
                    var input = this, $input = $(input), k = e.keyCode, pos = caret(input);
                    if (k === Inputmask.keyCode.BACKSPACE || k === Inputmask.keyCode.DELETE || iphone && k === Inputmask.keyCode.BACKSPACE_SAFARI || e.ctrlKey && k === Inputmask.keyCode.X && !function(eventName) {
                        var el = document.createElement("input"), evName = "on" + eventName, isSupported = evName in el;
                        return isSupported || (el.setAttribute(evName, "return;"), isSupported = "function" == typeof el[evName]), 
                        el = null, isSupported;
                    }("cut")) e.preventDefault(), handleRemove(input, k, pos), writeBuffer(input, getBuffer(!0), getMaskSet().p, e, input.inputmask._valueGet() !== getBuffer().join("")), 
                    input.inputmask._valueGet() === getBufferTemplate().join("") ? $input.trigger("cleared") : !0 === isComplete(getBuffer()) && $input.trigger("complete"); else if (k === Inputmask.keyCode.END || k === Inputmask.keyCode.PAGE_DOWN) {
                        e.preventDefault();
                        var caretPos = seekNext(getLastValidPosition());
                        opts.insertMode || caretPos !== getMaskSet().maskLength || e.shiftKey || caretPos--, 
                        caret(input, e.shiftKey ? pos.begin : caretPos, caretPos, !0);
                    } else k === Inputmask.keyCode.HOME && !e.shiftKey || k === Inputmask.keyCode.PAGE_UP ? (e.preventDefault(), 
                    caret(input, 0, e.shiftKey ? pos.begin : 0, !0)) : (opts.undoOnEscape && k === Inputmask.keyCode.ESCAPE || 90 === k && e.ctrlKey) && !0 !== e.altKey ? (checkVal(input, !0, !1, undoValue.split("")), 
                    $input.trigger("click")) : k !== Inputmask.keyCode.INSERT || e.shiftKey || e.ctrlKey ? !0 === opts.tabThrough && k === Inputmask.keyCode.TAB ? (!0 === e.shiftKey ? (null === getTest(pos.begin).match.fn && (pos.begin = seekNext(pos.begin)), 
                    pos.end = seekPrevious(pos.begin, !0), pos.begin = seekPrevious(pos.end, !0)) : (pos.begin = seekNext(pos.begin, !0), 
                    pos.end = seekNext(pos.begin, !0), pos.end < getMaskSet().maskLength && pos.end--), 
                    pos.begin < getMaskSet().maskLength && (e.preventDefault(), caret(input, pos.begin, pos.end))) : e.shiftKey || !1 === opts.insertMode && (k === Inputmask.keyCode.RIGHT ? setTimeout(function() {
                        var caretPos = caret(input);
                        caret(input, caretPos.begin);
                    }, 0) : k === Inputmask.keyCode.LEFT && setTimeout(function() {
                        var caretPos = caret(input);
                        caret(input, isRTL ? caretPos.begin + 1 : caretPos.begin - 1);
                    }, 0)) : (opts.insertMode = !opts.insertMode, caret(input, opts.insertMode || pos.begin !== getMaskSet().maskLength ? pos.begin : pos.begin - 1));
                    opts.onKeyDown.call(this, e, getBuffer(), caret(input).begin, opts), ignorable = -1 !== $.inArray(k, opts.ignorables);
                },
                keypressEvent: function(e, checkval, writeOut, strict, ndx) {
                    var input = this, $input = $(input), k = e.which || e.charCode || e.keyCode;
                    if (!(!0 === checkval || e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || ignorable)) return k === Inputmask.keyCode.ENTER && undoValue !== getBuffer().join("") && (undoValue = getBuffer().join(""), 
                    setTimeout(function() {
                        $input.trigger("change");
                    }, 0)), !0;
                    if (k) {
                        46 === k && !1 === e.shiftKey && "" !== opts.radixPoint && (k = opts.radixPoint.charCodeAt(0));
                        var forwardPosition, pos = checkval ? {
                            begin: ndx,
                            end: ndx
                        } : caret(input), c = String.fromCharCode(k);
                        getMaskSet().writeOutBuffer = !0;
                        var valResult = isValid(pos, c, strict);
                        if (!1 !== valResult && (resetMaskSet(!0), forwardPosition = valResult.caret !== undefined ? valResult.caret : checkval ? valResult.pos + 1 : seekNext(valResult.pos), 
                        getMaskSet().p = forwardPosition), !1 !== writeOut && (setTimeout(function() {
                            opts.onKeyValidation.call(input, k, valResult, opts);
                        }, 0), getMaskSet().writeOutBuffer && !1 !== valResult)) {
                            var buffer = getBuffer();
                            writeBuffer(input, buffer, opts.numericInput && valResult.caret === undefined ? seekPrevious(forwardPosition) : forwardPosition, e, !0 !== checkval), 
                            !0 !== checkval && setTimeout(function() {
                                !0 === isComplete(buffer) && $input.trigger("complete");
                            }, 0);
                        }
                        if (e.preventDefault(), checkval) return !1 !== valResult && (valResult.forwardPosition = forwardPosition), 
                        valResult;
                    }
                },
                pasteEvent: function(e) {
                    var tempValue, input = this, ev = e.originalEvent || e, $input = $(input), inputValue = input.inputmask._valueGet(!0), caretPos = caret(input);
                    isRTL && (tempValue = caretPos.end, caretPos.end = caretPos.begin, caretPos.begin = tempValue);
                    var valueBeforeCaret = inputValue.substr(0, caretPos.begin), valueAfterCaret = inputValue.substr(caretPos.end, inputValue.length);
                    if (valueBeforeCaret === (isRTL ? getBufferTemplate().reverse() : getBufferTemplate()).slice(0, caretPos.begin).join("") && (valueBeforeCaret = ""), 
                    valueAfterCaret === (isRTL ? getBufferTemplate().reverse() : getBufferTemplate()).slice(caretPos.end).join("") && (valueAfterCaret = ""), 
                    isRTL && (tempValue = valueBeforeCaret, valueBeforeCaret = valueAfterCaret, valueAfterCaret = tempValue), 
                    window.clipboardData && window.clipboardData.getData) inputValue = valueBeforeCaret + window.clipboardData.getData("Text") + valueAfterCaret; else {
                        if (!ev.clipboardData || !ev.clipboardData.getData) return !0;
                        inputValue = valueBeforeCaret + ev.clipboardData.getData("text/plain") + valueAfterCaret;
                    }
                    var pasteValue = inputValue;
                    if ($.isFunction(opts.onBeforePaste)) {
                        if (!1 === (pasteValue = opts.onBeforePaste.call(inputmask, inputValue, opts))) return e.preventDefault();
                        pasteValue || (pasteValue = inputValue);
                    }
                    return checkVal(input, !1, !1, isRTL ? pasteValue.split("").reverse() : pasteValue.toString().split("")), 
                    writeBuffer(input, getBuffer(), seekNext(getLastValidPosition()), e, undoValue !== getBuffer().join("")), 
                    !0 === isComplete(getBuffer()) && $input.trigger("complete"), e.preventDefault();
                },
                inputFallBackEvent: function(e) {
                    var input = this, inputValue = input.inputmask._valueGet();
                    if (getBuffer().join("") !== inputValue) {
                        var caretPos = caret(input);
                        if (!1 === function(input, inputValue, caretPos) {
                            if ("." === inputValue.charAt(caretPos.begin - 1) && "" !== opts.radixPoint && ((inputValue = inputValue.split(""))[caretPos.begin - 1] = opts.radixPoint.charAt(0), 
                            inputValue = inputValue.join("")), inputValue.charAt(caretPos.begin - 1) === opts.radixPoint && inputValue.length > getBuffer().length) {
                                var keypress = new $.Event("keypress");
                                return keypress.which = opts.radixPoint.charCodeAt(0), EventHandlers.keypressEvent.call(input, keypress, !0, !0, !1, caretPos.begin - 1), 
                                !1;
                            }
                        }(input, inputValue, caretPos)) return !1;
                        if (inputValue = inputValue.replace(new RegExp("(" + Inputmask.escapeRegex(getBufferTemplate().join("")) + ")*"), ""), 
                        !1 === function(input, inputValue, caretPos) {
                            if (iemobile) {
                                var inputChar = inputValue.replace(getBuffer().join(""), "");
                                if (1 === inputChar.length) {
                                    var keypress = new $.Event("keypress");
                                    return keypress.which = inputChar.charCodeAt(0), EventHandlers.keypressEvent.call(input, keypress, !0, !0, !1, getMaskSet().validPositions[caretPos.begin - 1] ? caretPos.begin : caretPos.begin - 1), 
                                    !1;
                                }
                            }
                        }(input, inputValue, caretPos)) return !1;
                        caretPos.begin > inputValue.length && (caret(input, inputValue.length), caretPos = caret(input));
                        var buffer = getBuffer().join(""), frontPart = inputValue.substr(0, caretPos.begin), backPart = inputValue.substr(caretPos.begin), frontBufferPart = buffer.substr(0, caretPos.begin), backBufferPart = buffer.substr(caretPos.begin), selection = caretPos, entries = "", isEntry = !1;
                        if (frontPart !== frontBufferPart) {
                            selection.begin = 0;
                            for (var fpl = (isEntry = frontPart.length >= frontBufferPart.length) ? frontPart.length : frontBufferPart.length, i = 0; frontPart.charAt(i) === frontBufferPart.charAt(i) && i < fpl; i++) selection.begin++;
                            isEntry && (entries += frontPart.slice(selection.begin, selection.end));
                        }
                        backPart !== backBufferPart && (backPart.length > backBufferPart.length ? isEntry && (selection.end = selection.begin) : backPart.length < backBufferPart.length ? selection.end += backBufferPart.length - backPart.length : backPart.charAt(0) !== backBufferPart.charAt(0) && selection.end++), 
                        writeBuffer(input, getBuffer(), selection), entries.length > 0 ? $.each(entries.split(""), function(ndx, entry) {
                            var keypress = new $.Event("keypress");
                            keypress.which = entry.charCodeAt(0), ignorable = !1, EventHandlers.keypressEvent.call(input, keypress);
                        }) : (selection.begin === selection.end - 1 && caret(input, seekPrevious(selection.begin + 1), selection.end), 
                        e.keyCode = Inputmask.keyCode.DELETE, EventHandlers.keydownEvent.call(input, e)), 
                        e.preventDefault();
                    }
                },
                setValueEvent: function(e) {
                    this.inputmask.refreshValue = !1;
                    var input = this, value = input.inputmask._valueGet(!0);
                    $.isFunction(opts.onBeforeMask) && (value = opts.onBeforeMask.call(inputmask, value, opts) || value), 
                    value = value.split(""), checkVal(input, !0, !1, isRTL ? value.reverse() : value), 
                    undoValue = getBuffer().join(""), (opts.clearMaskOnLostFocus || opts.clearIncomplete) && input.inputmask._valueGet() === getBufferTemplate().join("") && input.inputmask._valueSet("");
                },
                focusEvent: function(e) {
                    var input = this, nptValue = input.inputmask._valueGet();
                    opts.showMaskOnFocus && (!opts.showMaskOnHover || opts.showMaskOnHover && "" === nptValue) && (input.inputmask._valueGet() !== getBuffer().join("") ? writeBuffer(input, getBuffer(), seekNext(getLastValidPosition())) : !1 === mouseEnter && caret(input, seekNext(getLastValidPosition()))), 
                    !0 === opts.positionCaretOnTab && !1 === mouseEnter && "" !== nptValue && (writeBuffer(input, getBuffer(), caret(input)), 
                    EventHandlers.clickEvent.apply(input, [ e, !0 ])), undoValue = getBuffer().join("");
                },
                mouseleaveEvent: function(e) {
                    var input = this;
                    if (mouseEnter = !1, opts.clearMaskOnLostFocus && document.activeElement !== input) {
                        var buffer = getBuffer().slice(), nptValue = input.inputmask._valueGet();
                        nptValue !== input.getAttribute("placeholder") && "" !== nptValue && (-1 === getLastValidPosition() && nptValue === getBufferTemplate().join("") ? buffer = [] : clearOptionalTail(buffer), 
                        writeBuffer(input, buffer));
                    }
                },
                clickEvent: function(e, tabbed) {
                    function doRadixFocus(clickPos) {
                        if ("" !== opts.radixPoint) {
                            var vps = getMaskSet().validPositions;
                            if (vps[clickPos] === undefined || vps[clickPos].input === getPlaceholder(clickPos)) {
                                if (clickPos < seekNext(-1)) return !0;
                                var radixPos = $.inArray(opts.radixPoint, getBuffer());
                                if (-1 !== radixPos) {
                                    for (var vp in vps) if (radixPos < vp && vps[vp].input !== getPlaceholder(vp)) return !1;
                                    return !0;
                                }
                            }
                        }
                        return !1;
                    }
                    var input = this;
                    setTimeout(function() {
                        if (document.activeElement === input) {
                            var selectedCaret = caret(input);
                            if (tabbed && (isRTL ? selectedCaret.end = selectedCaret.begin : selectedCaret.begin = selectedCaret.end), 
                            selectedCaret.begin === selectedCaret.end) switch (opts.positionCaretOnClick) {
                              case "none":
                                break;

                              case "radixFocus":
                                if (doRadixFocus(selectedCaret.begin)) {
                                    var radixPos = getBuffer().join("").indexOf(opts.radixPoint);
                                    caret(input, opts.numericInput ? seekNext(radixPos) : radixPos);
                                    break;
                                }

                              default:
                                var clickPosition = selectedCaret.begin, lvclickPosition = getLastValidPosition(clickPosition, !0), lastPosition = seekNext(lvclickPosition);
                                if (clickPosition < lastPosition) caret(input, isMask(clickPosition, !0) || isMask(clickPosition - 1, !0) ? clickPosition : seekNext(clickPosition)); else {
                                    var lvp = getMaskSet().validPositions[lvclickPosition], tt = getTestTemplate(lastPosition, lvp ? lvp.match.locator : undefined, lvp), placeholder = getPlaceholder(lastPosition, tt.match);
                                    if ("" !== placeholder && getBuffer()[lastPosition] !== placeholder && !0 !== tt.match.optionalQuantifier && !0 !== tt.match.newBlockMarker || !isMask(lastPosition, !0) && tt.match.def === placeholder) {
                                        var newPos = seekNext(lastPosition);
                                        (clickPosition >= newPos || clickPosition === lastPosition) && (lastPosition = newPos);
                                    }
                                    caret(input, lastPosition);
                                }
                            }
                        }
                    }, 0);
                },
                dblclickEvent: function(e) {
                    var input = this;
                    setTimeout(function() {
                        caret(input, 0, seekNext(getLastValidPosition()));
                    }, 0);
                },
                cutEvent: function(e) {
                    var input = this, $input = $(input), pos = caret(input), ev = e.originalEvent || e, clipboardData = window.clipboardData || ev.clipboardData, clipData = isRTL ? getBuffer().slice(pos.end, pos.begin) : getBuffer().slice(pos.begin, pos.end);
                    clipboardData.setData("text", isRTL ? clipData.reverse().join("") : clipData.join("")), 
                    document.execCommand && document.execCommand("copy"), handleRemove(input, Inputmask.keyCode.DELETE, pos), 
                    writeBuffer(input, getBuffer(), getMaskSet().p, e, undoValue !== getBuffer().join("")), 
                    input.inputmask._valueGet() === getBufferTemplate().join("") && $input.trigger("cleared");
                },
                blurEvent: function(e) {
                    var $input = $(this), input = this;
                    if (input.inputmask) {
                        var nptValue = input.inputmask._valueGet(), buffer = getBuffer().slice();
                        "" !== nptValue && (opts.clearMaskOnLostFocus && (-1 === getLastValidPosition() && nptValue === getBufferTemplate().join("") ? buffer = [] : clearOptionalTail(buffer)), 
                        !1 === isComplete(buffer) && (setTimeout(function() {
                            $input.trigger("incomplete");
                        }, 0), opts.clearIncomplete && (resetMaskSet(), buffer = opts.clearMaskOnLostFocus ? [] : getBufferTemplate().slice())), 
                        writeBuffer(input, buffer, undefined, e)), undoValue !== getBuffer().join("") && (undoValue = buffer.join(""), 
                        $input.trigger("change"));
                    }
                },
                mouseenterEvent: function(e) {
                    var input = this;
                    mouseEnter = !0, document.activeElement !== input && opts.showMaskOnHover && input.inputmask._valueGet() !== getBuffer().join("") && writeBuffer(input, getBuffer());
                },
                submitEvent: function(e) {
                    undoValue !== getBuffer().join("") && $el.trigger("change"), opts.clearMaskOnLostFocus && -1 === getLastValidPosition() && el.inputmask._valueGet && el.inputmask._valueGet() === getBufferTemplate().join("") && el.inputmask._valueSet(""), 
                    opts.removeMaskOnSubmit && (el.inputmask._valueSet(el.inputmask.unmaskedvalue(), !0), 
                    setTimeout(function() {
                        writeBuffer(el, getBuffer());
                    }, 0));
                },
                resetEvent: function(e) {
                    el.inputmask.refreshValue = !0, setTimeout(function() {
                        $el.trigger("setvalue");
                    }, 0);
                }
            };
            Inputmask.prototype.positionColorMask = function(input, template) {
                input.style.left = template.offsetLeft + "px";
            };
            var valueBuffer;
            if (actionObj !== undefined) switch (actionObj.action) {
              case "isComplete":
                return el = actionObj.el, isComplete(getBuffer());

              case "unmaskedvalue":
                return el !== undefined && actionObj.value === undefined || (valueBuffer = actionObj.value, 
                valueBuffer = ($.isFunction(opts.onBeforeMask) ? opts.onBeforeMask.call(inputmask, valueBuffer, opts) || valueBuffer : valueBuffer).split(""), 
                checkVal(undefined, !1, !1, isRTL ? valueBuffer.reverse() : valueBuffer), $.isFunction(opts.onBeforeWrite) && opts.onBeforeWrite.call(inputmask, undefined, getBuffer(), 0, opts)), 
                unmaskedvalue(el);

              case "mask":
                !function(elem) {
                    EventRuler.off(elem);
                    var isSupported = function(input, opts) {
                        var elementType = input.getAttribute("type"), isSupported = "INPUT" === input.tagName && -1 !== $.inArray(elementType, opts.supportsInputType) || input.isContentEditable || "TEXTAREA" === input.tagName;
                        if (!isSupported) if ("INPUT" === input.tagName) {
                            var el = document.createElement("input");
                            el.setAttribute("type", elementType), isSupported = "text" === el.type, el = null;
                        } else isSupported = "partial";
                        return !1 !== isSupported ? function(npt) {
                            function getter() {
                                return this.inputmask ? this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : -1 !== getLastValidPosition() || !0 !== opts.nullable ? document.activeElement === this && opts.clearMaskOnLostFocus ? (isRTL ? clearOptionalTail(getBuffer().slice()).reverse() : clearOptionalTail(getBuffer().slice())).join("") : valueGet.call(this) : "" : valueGet.call(this);
                            }
                            function setter(value) {
                                valueSet.call(this, value), this.inputmask && $(this).trigger("setvalue");
                            }
                            var valueGet, valueSet;
                            if (!npt.inputmask.__valueGet) {
                                if (!0 !== opts.noValuePatching) {
                                    if (Object.getOwnPropertyDescriptor) {
                                        "function" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === _typeof("test".__proto__) ? function(object) {
                                            return object.__proto__;
                                        } : function(object) {
                                            return object.constructor.prototype;
                                        });
                                        var valueProperty = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(npt), "value") : undefined;
                                        valueProperty && valueProperty.get && valueProperty.set ? (valueGet = valueProperty.get, 
                                        valueSet = valueProperty.set, Object.defineProperty(npt, "value", {
                                            get: getter,
                                            set: setter,
                                            configurable: !0
                                        })) : "INPUT" !== npt.tagName && (valueGet = function() {
                                            return this.textContent;
                                        }, valueSet = function(value) {
                                            this.textContent = value;
                                        }, Object.defineProperty(npt, "value", {
                                            get: getter,
                                            set: setter,
                                            configurable: !0
                                        }));
                                    } else document.__lookupGetter__ && npt.__lookupGetter__("value") && (valueGet = npt.__lookupGetter__("value"), 
                                    valueSet = npt.__lookupSetter__("value"), npt.__defineGetter__("value", getter), 
                                    npt.__defineSetter__("value", setter));
                                    npt.inputmask.__valueGet = valueGet, npt.inputmask.__valueSet = valueSet;
                                }
                                npt.inputmask._valueGet = function(overruleRTL) {
                                    return isRTL && !0 !== overruleRTL ? valueGet.call(this.el).split("").reverse().join("") : valueGet.call(this.el);
                                }, npt.inputmask._valueSet = function(value, overruleRTL) {
                                    valueSet.call(this.el, null === value || value === undefined ? "" : !0 !== overruleRTL && isRTL ? value.split("").reverse().join("") : value);
                                }, valueGet === undefined && (valueGet = function() {
                                    return this.value;
                                }, valueSet = function(value) {
                                    this.value = value;
                                }, function(type) {
                                    if ($.valHooks && ($.valHooks[type] === undefined || !0 !== $.valHooks[type].inputmaskpatch)) {
                                        var valhookGet = $.valHooks[type] && $.valHooks[type].get ? $.valHooks[type].get : function(elem) {
                                            return elem.value;
                                        }, valhookSet = $.valHooks[type] && $.valHooks[type].set ? $.valHooks[type].set : function(elem, value) {
                                            return elem.value = value, elem;
                                        };
                                        $.valHooks[type] = {
                                            get: function(elem) {
                                                if (elem.inputmask) {
                                                    if (elem.inputmask.opts.autoUnmask) return elem.inputmask.unmaskedvalue();
                                                    var result = valhookGet(elem);
                                                    return -1 !== getLastValidPosition(undefined, undefined, elem.inputmask.maskset.validPositions) || !0 !== opts.nullable ? result : "";
                                                }
                                                return valhookGet(elem);
                                            },
                                            set: function(elem, value) {
                                                var result, $elem = $(elem);
                                                return result = valhookSet(elem, value), elem.inputmask && $elem.trigger("setvalue"), 
                                                result;
                                            },
                                            inputmaskpatch: !0
                                        };
                                    }
                                }(npt.type), function(npt) {
                                    EventRuler.on(npt, "mouseenter", function(event) {
                                        var $input = $(this);
                                        this.inputmask._valueGet() !== getBuffer().join("") && $input.trigger("setvalue");
                                    });
                                }(npt));
                            }
                        }(input) : input.inputmask = undefined, isSupported;
                    }(elem, opts);
                    if (!1 !== isSupported && (el = elem, $el = $(el), -1 === (maxLength = el !== undefined ? el.maxLength : undefined) && (maxLength = undefined), 
                    !0 === opts.colorMask && initializeColorMask(el), android && (el.hasOwnProperty("inputmode") && (el.inputmode = opts.inputmode, 
                    el.setAttribute("inputmode", opts.inputmode)), "rtfm" === opts.androidHack && (!0 !== opts.colorMask && initializeColorMask(el), 
                    el.type = "password")), !0 === isSupported && (EventRuler.on(el, "submit", EventHandlers.submitEvent), 
                    EventRuler.on(el, "reset", EventHandlers.resetEvent), EventRuler.on(el, "mouseenter", EventHandlers.mouseenterEvent), 
                    EventRuler.on(el, "blur", EventHandlers.blurEvent), EventRuler.on(el, "focus", EventHandlers.focusEvent), 
                    EventRuler.on(el, "mouseleave", EventHandlers.mouseleaveEvent), !0 !== opts.colorMask && EventRuler.on(el, "click", EventHandlers.clickEvent), 
                    EventRuler.on(el, "dblclick", EventHandlers.dblclickEvent), EventRuler.on(el, "paste", EventHandlers.pasteEvent), 
                    EventRuler.on(el, "dragdrop", EventHandlers.pasteEvent), EventRuler.on(el, "drop", EventHandlers.pasteEvent), 
                    EventRuler.on(el, "cut", EventHandlers.cutEvent), EventRuler.on(el, "complete", opts.oncomplete), 
                    EventRuler.on(el, "incomplete", opts.onincomplete), EventRuler.on(el, "cleared", opts.oncleared), 
                    android || !0 === opts.inputEventOnly ? el.removeAttribute("maxLength") : (EventRuler.on(el, "keydown", EventHandlers.keydownEvent), 
                    EventRuler.on(el, "keypress", EventHandlers.keypressEvent)), EventRuler.on(el, "compositionstart", $.noop), 
                    EventRuler.on(el, "compositionupdate", $.noop), EventRuler.on(el, "compositionend", $.noop), 
                    EventRuler.on(el, "keyup", $.noop), EventRuler.on(el, "input", EventHandlers.inputFallBackEvent), 
                    EventRuler.on(el, "beforeinput", $.noop)), EventRuler.on(el, "setvalue", EventHandlers.setValueEvent), 
                    undoValue = getBufferTemplate().join(""), "" !== el.inputmask._valueGet(!0) || !1 === opts.clearMaskOnLostFocus || document.activeElement === el)) {
                        var initialValue = $.isFunction(opts.onBeforeMask) ? opts.onBeforeMask.call(inputmask, el.inputmask._valueGet(!0), opts) || el.inputmask._valueGet(!0) : el.inputmask._valueGet(!0);
                        "" !== initialValue && checkVal(el, !0, !1, isRTL ? initialValue.split("").reverse() : initialValue.split(""));
                        var buffer = getBuffer().slice();
                        undoValue = buffer.join(""), !1 === isComplete(buffer) && opts.clearIncomplete && resetMaskSet(), 
                        opts.clearMaskOnLostFocus && document.activeElement !== el && (-1 === getLastValidPosition() ? buffer = [] : clearOptionalTail(buffer)), 
                        writeBuffer(el, buffer), document.activeElement === el && caret(el, seekNext(getLastValidPosition()));
                    }
                }(el);
                break;

              case "format":
                return valueBuffer = ($.isFunction(opts.onBeforeMask) ? opts.onBeforeMask.call(inputmask, actionObj.value, opts) || actionObj.value : actionObj.value).split(""), 
                checkVal(undefined, !0, !1, isRTL ? valueBuffer.reverse() : valueBuffer), actionObj.metadata ? {
                    value: isRTL ? getBuffer().slice().reverse().join("") : getBuffer().join(""),
                    metadata: maskScope.call(this, {
                        action: "getmetadata"
                    }, maskset, opts)
                } : isRTL ? getBuffer().slice().reverse().join("") : getBuffer().join("");

              case "isValid":
                actionObj.value ? (valueBuffer = actionObj.value.split(""), checkVal(undefined, !0, !0, isRTL ? valueBuffer.reverse() : valueBuffer)) : actionObj.value = getBuffer().join("");
                for (var buffer = getBuffer(), rl = determineLastRequiredPosition(), lmib = buffer.length - 1; lmib > rl && !isMask(lmib); lmib--) ;
                return buffer.splice(rl, lmib + 1 - rl), isComplete(buffer) && actionObj.value === getBuffer().join("");

              case "getemptymask":
                return getBufferTemplate().join("");

              case "remove":
                if (el && el.inputmask) {
                    $el = $(el), el.inputmask._valueSet(opts.autoUnmask ? unmaskedvalue(el) : el.inputmask._valueGet(!0)), 
                    EventRuler.off(el);
                    Object.getOwnPropertyDescriptor && Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(el), "value") && el.inputmask.__valueGet && Object.defineProperty(el, "value", {
                        get: el.inputmask.__valueGet,
                        set: el.inputmask.__valueSet,
                        configurable: !0
                    }) : document.__lookupGetter__ && el.__lookupGetter__("value") && el.inputmask.__valueGet && (el.__defineGetter__("value", el.inputmask.__valueGet), 
                    el.__defineSetter__("value", el.inputmask.__valueSet)), el.inputmask = undefined;
                }
                return el;

              case "getmetadata":
                if ($.isArray(maskset.metadata)) {
                    var maskTarget = getMaskTemplate(!0, 0, !1).join("");
                    return $.each(maskset.metadata, function(ndx, mtdt) {
                        if (mtdt.mask === maskTarget) return maskTarget = mtdt, !1;
                    }), maskTarget;
                }
                return maskset.metadata;
            }
        }
        var ua = navigator.userAgent, mobile = /mobile/i.test(ua), iemobile = /iemobile/i.test(ua), iphone = /iphone/i.test(ua) && !iemobile, android = /android/i.test(ua) && !iemobile;
        return Inputmask.prototype = {
            dataAttribute: "data-inputmask",
            defaults: {
                placeholder: "_",
                optionalmarker: {
                    start: "[",
                    end: "]"
                },
                quantifiermarker: {
                    start: "{",
                    end: "}"
                },
                groupmarker: {
                    start: "(",
                    end: ")"
                },
                alternatormarker: "|",
                escapeChar: "\\",
                mask: null,
                regex: null,
                oncomplete: $.noop,
                onincomplete: $.noop,
                oncleared: $.noop,
                repeat: 0,
                greedy: !0,
                autoUnmask: !1,
                removeMaskOnSubmit: !1,
                clearMaskOnLostFocus: !0,
                insertMode: !0,
                clearIncomplete: !1,
                alias: null,
                onKeyDown: $.noop,
                onBeforeMask: null,
                onBeforePaste: function(pastedValue, opts) {
                    return $.isFunction(opts.onBeforeMask) ? opts.onBeforeMask.call(this, pastedValue, opts) : pastedValue;
                },
                onBeforeWrite: null,
                onUnMask: null,
                showMaskOnFocus: !0,
                showMaskOnHover: !0,
                onKeyValidation: $.noop,
                skipOptionalPartCharacter: " ",
                numericInput: !1,
                rightAlign: !1,
                undoOnEscape: !0,
                radixPoint: "",
                radixPointDefinitionSymbol: undefined,
                groupSeparator: "",
                keepStatic: null,
                positionCaretOnTab: !0,
                tabThrough: !1,
                supportsInputType: [ "text", "tel", "password" ],
                ignorables: [ 8, 9, 13, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229 ],
                isComplete: null,
                canClearPosition: $.noop,
                preValidation: null,
                postValidation: null,
                staticDefinitionSymbol: undefined,
                jitMasking: !1,
                nullable: !0,
                inputEventOnly: !1,
                noValuePatching: !1,
                positionCaretOnClick: "lvp",
                casing: null,
                inputmode: "verbatim",
                colorMask: !1,
                androidHack: !1,
                importDataAttributes: !0
            },
            definitions: {
                "9": {
                    validator: "[0-9-]",
                    cardinality: 1,
                    definitionSymbol: "*"
                },
                a: {
                    validator: "[A-Za-z--]",
                    cardinality: 1,
                    definitionSymbol: "*"
                },
                "*": {
                    validator: "[0-9-A-Za-z--]",
                    cardinality: 1
                }
            },
            aliases: {},
            masksCache: {},
            mask: function(elems) {
                function importAttributeOptions(npt, opts, userOptions, dataAttribute) {
                    if (!0 === opts.importDataAttributes) {
                        var option, dataoptions, optionData, p, importOption = function(option, optionData) {
                            null !== (optionData = optionData !== undefined ? optionData : npt.getAttribute(dataAttribute + "-" + option)) && ("string" == typeof optionData && (0 === option.indexOf("on") ? optionData = window[optionData] : "false" === optionData ? optionData = !1 : "true" === optionData && (optionData = !0)), 
                            userOptions[option] = optionData);
                        }, attrOptions = npt.getAttribute(dataAttribute);
                        if (attrOptions && "" !== attrOptions && (attrOptions = attrOptions.replace(new RegExp("'", "g"), '"'), 
                        dataoptions = JSON.parse("{" + attrOptions + "}")), dataoptions) {
                            optionData = undefined;
                            for (p in dataoptions) if ("alias" === p.toLowerCase()) {
                                optionData = dataoptions[p];
                                break;
                            }
                        }
                        importOption("alias", optionData), userOptions.alias && resolveAlias(userOptions.alias, userOptions, opts);
                        for (option in opts) {
                            if (dataoptions) {
                                optionData = undefined;
                                for (p in dataoptions) if (p.toLowerCase() === option.toLowerCase()) {
                                    optionData = dataoptions[p];
                                    break;
                                }
                            }
                            importOption(option, optionData);
                        }
                    }
                    return $.extend(!0, opts, userOptions), ("rtl" === npt.dir || opts.rightAlign) && (npt.style.textAlign = "right"), 
                    ("rtl" === npt.dir || opts.numericInput) && (npt.dir = "ltr", npt.removeAttribute("dir"), 
                    opts.isRTL = !0), opts;
                }
                var that = this;
                return "string" == typeof elems && (elems = document.getElementById(elems) || document.querySelectorAll(elems)), 
                elems = elems.nodeName ? [ elems ] : elems, $.each(elems, function(ndx, el) {
                    var scopedOpts = $.extend(!0, {}, that.opts);
                    importAttributeOptions(el, scopedOpts, $.extend(!0, {}, that.userOptions), that.dataAttribute);
                    var maskset = generateMaskSet(scopedOpts, that.noMasksCache);
                    maskset !== undefined && (el.inputmask !== undefined && (el.inputmask.opts.autoUnmask = !0, 
                    el.inputmask.remove()), el.inputmask = new Inputmask(undefined, undefined, !0), 
                    el.inputmask.opts = scopedOpts, el.inputmask.noMasksCache = that.noMasksCache, el.inputmask.userOptions = $.extend(!0, {}, that.userOptions), 
                    el.inputmask.isRTL = scopedOpts.isRTL || scopedOpts.numericInput, el.inputmask.el = el, 
                    el.inputmask.maskset = maskset, $.data(el, "_inputmask_opts", scopedOpts), maskScope.call(el.inputmask, {
                        action: "mask"
                    }));
                }), elems && elems[0] ? elems[0].inputmask || this : this;
            },
            option: function(options, noremask) {
                return "string" == typeof options ? this.opts[options] : "object" === (void 0 === options ? "undefined" : _typeof(options)) ? ($.extend(this.userOptions, options), 
                this.el && !0 !== noremask && this.mask(this.el), this) : void 0;
            },
            unmaskedvalue: function(value) {
                return this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache), 
                maskScope.call(this, {
                    action: "unmaskedvalue",
                    value: value
                });
            },
            remove: function() {
                return maskScope.call(this, {
                    action: "remove"
                });
            },
            getemptymask: function() {
                return this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache), 
                maskScope.call(this, {
                    action: "getemptymask"
                });
            },
            hasMaskedValue: function() {
                return !this.opts.autoUnmask;
            },
            isComplete: function() {
                return this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache), 
                maskScope.call(this, {
                    action: "isComplete"
                });
            },
            getmetadata: function() {
                return this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache), 
                maskScope.call(this, {
                    action: "getmetadata"
                });
            },
            isValid: function(value) {
                return this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache), 
                maskScope.call(this, {
                    action: "isValid",
                    value: value
                });
            },
            format: function(value, metadata) {
                return this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache), 
                maskScope.call(this, {
                    action: "format",
                    value: value,
                    metadata: metadata
                });
            },
            analyseMask: function(mask, regexMask, opts) {
                function MaskToken(isGroup, isOptional, isQuantifier, isAlternator) {
                    this.matches = [], this.openGroup = isGroup || !1, this.alternatorGroup = !1, this.isGroup = isGroup || !1, 
                    this.isOptional = isOptional || !1, this.isQuantifier = isQuantifier || !1, this.isAlternator = isAlternator || !1, 
                    this.quantifier = {
                        min: 1,
                        max: 1
                    };
                }
                function insertTestDefinition(mtoken, element, position) {
                    position = position !== undefined ? position : mtoken.matches.length;
                    var prevMatch = mtoken.matches[position - 1];
                    if (regexMask) 0 === element.indexOf("[") || escaped && /\\d|\\s|\\w]/i.test(element) || "." === element ? mtoken.matches.splice(position++, 0, {
                        fn: new RegExp(element, opts.casing ? "i" : ""),
                        cardinality: 1,
                        optionality: mtoken.isOptional,
                        newBlockMarker: prevMatch === undefined || prevMatch.def !== element,
                        casing: null,
                        def: element,
                        placeholder: undefined,
                        nativeDef: element
                    }) : (escaped && (element = element[element.length - 1]), $.each(element.split(""), function(ndx, lmnt) {
                        prevMatch = mtoken.matches[position - 1], mtoken.matches.splice(position++, 0, {
                            fn: null,
                            cardinality: 0,
                            optionality: mtoken.isOptional,
                            newBlockMarker: prevMatch === undefined || prevMatch.def !== lmnt && null !== prevMatch.fn,
                            casing: null,
                            def: opts.staticDefinitionSymbol || lmnt,
                            placeholder: opts.staticDefinitionSymbol !== undefined ? lmnt : undefined,
                            nativeDef: lmnt
                        });
                    })), escaped = !1; else {
                        var maskdef = (opts.definitions ? opts.definitions[element] : undefined) || Inputmask.prototype.definitions[element];
                        if (maskdef && !escaped) {
                            for (var prevalidators = maskdef.prevalidator, prevalidatorsL = prevalidators ? prevalidators.length : 0, i = 1; i < maskdef.cardinality; i++) {
                                var prevalidator = prevalidatorsL >= i ? prevalidators[i - 1] : [], validator = prevalidator.validator, cardinality = prevalidator.cardinality;
                                mtoken.matches.splice(position++, 0, {
                                    fn: validator ? "string" == typeof validator ? new RegExp(validator, opts.casing ? "i" : "") : new function() {
                                        this.test = validator;
                                    }() : new RegExp("."),
                                    cardinality: cardinality || 1,
                                    optionality: mtoken.isOptional,
                                    newBlockMarker: prevMatch === undefined || prevMatch.def !== (maskdef.definitionSymbol || element),
                                    casing: maskdef.casing,
                                    def: maskdef.definitionSymbol || element,
                                    placeholder: maskdef.placeholder,
                                    nativeDef: element
                                }), prevMatch = mtoken.matches[position - 1];
                            }
                            mtoken.matches.splice(position++, 0, {
                                fn: maskdef.validator ? "string" == typeof maskdef.validator ? new RegExp(maskdef.validator, opts.casing ? "i" : "") : new function() {
                                    this.test = maskdef.validator;
                                }() : new RegExp("."),
                                cardinality: maskdef.cardinality,
                                optionality: mtoken.isOptional,
                                newBlockMarker: prevMatch === undefined || prevMatch.def !== (maskdef.definitionSymbol || element),
                                casing: maskdef.casing,
                                def: maskdef.definitionSymbol || element,
                                placeholder: maskdef.placeholder,
                                nativeDef: element
                            });
                        } else mtoken.matches.splice(position++, 0, {
                            fn: null,
                            cardinality: 0,
                            optionality: mtoken.isOptional,
                            newBlockMarker: prevMatch === undefined || prevMatch.def !== element && null !== prevMatch.fn,
                            casing: null,
                            def: opts.staticDefinitionSymbol || element,
                            placeholder: opts.staticDefinitionSymbol !== undefined ? element : undefined,
                            nativeDef: element
                        }), escaped = !1;
                    }
                }
                function verifyGroupMarker(maskToken) {
                    maskToken && maskToken.matches && $.each(maskToken.matches, function(ndx, token) {
                        var nextToken = maskToken.matches[ndx + 1];
                        (nextToken === undefined || nextToken.matches === undefined || !1 === nextToken.isQuantifier) && token && token.isGroup && (token.isGroup = !1, 
                        regexMask || (insertTestDefinition(token, opts.groupmarker.start, 0), !0 !== token.openGroup && insertTestDefinition(token, opts.groupmarker.end))), 
                        verifyGroupMarker(token);
                    });
                }
                function defaultCase() {
                    if (openenings.length > 0) {
                        if (currentOpeningToken = openenings[openenings.length - 1], insertTestDefinition(currentOpeningToken, m), 
                        currentOpeningToken.isAlternator) {
                            alternator = openenings.pop();
                            for (var mndx = 0; mndx < alternator.matches.length; mndx++) alternator.matches[mndx].isGroup = !1;
                            openenings.length > 0 ? (currentOpeningToken = openenings[openenings.length - 1]).matches.push(alternator) : currentToken.matches.push(alternator);
                        }
                    } else insertTestDefinition(currentToken, m);
                }
                function reverseTokens(maskToken) {
                    maskToken.matches = maskToken.matches.reverse();
                    for (var match in maskToken.matches) if (maskToken.matches.hasOwnProperty(match)) {
                        var intMatch = parseInt(match);
                        if (maskToken.matches[match].isQuantifier && maskToken.matches[intMatch + 1] && maskToken.matches[intMatch + 1].isGroup) {
                            var qt = maskToken.matches[match];
                            maskToken.matches.splice(match, 1), maskToken.matches.splice(intMatch + 1, 0, qt);
                        }
                        maskToken.matches[match].matches !== undefined ? maskToken.matches[match] = reverseTokens(maskToken.matches[match]) : maskToken.matches[match] = function(st) {
                            return st === opts.optionalmarker.start ? st = opts.optionalmarker.end : st === opts.optionalmarker.end ? st = opts.optionalmarker.start : st === opts.groupmarker.start ? st = opts.groupmarker.end : st === opts.groupmarker.end && (st = opts.groupmarker.start), 
                            st;
                        }(maskToken.matches[match]);
                    }
                    return maskToken;
                }
                var match, m, openingToken, currentOpeningToken, alternator, lastMatch, groupToken, tokenizer = /(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g, regexTokenizer = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, escaped = !1, currentToken = new MaskToken(), openenings = [], maskTokens = [];
                for (regexMask && (opts.optionalmarker.start = undefined, opts.optionalmarker.end = undefined); match = regexMask ? regexTokenizer.exec(mask) : tokenizer.exec(mask); ) {
                    if (m = match[0], regexMask) switch (m.charAt(0)) {
                      case "?":
                        m = "{0,1}";
                        break;

                      case "+":
                      case "*":
                        m = "{" + m + "}";
                    }
                    if (escaped) defaultCase(); else switch (m.charAt(0)) {
                      case opts.escapeChar:
                        escaped = !0, regexMask && defaultCase();
                        break;

                      case opts.optionalmarker.end:
                      case opts.groupmarker.end:
                        if (openingToken = openenings.pop(), openingToken.openGroup = !1, openingToken !== undefined) if (openenings.length > 0) {
                            if ((currentOpeningToken = openenings[openenings.length - 1]).matches.push(openingToken), 
                            currentOpeningToken.isAlternator) {
                                alternator = openenings.pop();
                                for (var mndx = 0; mndx < alternator.matches.length; mndx++) alternator.matches[mndx].isGroup = !1, 
                                alternator.matches[mndx].alternatorGroup = !1;
                                openenings.length > 0 ? (currentOpeningToken = openenings[openenings.length - 1]).matches.push(alternator) : currentToken.matches.push(alternator);
                            }
                        } else currentToken.matches.push(openingToken); else defaultCase();
                        break;

                      case opts.optionalmarker.start:
                        openenings.push(new MaskToken(!1, !0));
                        break;

                      case opts.groupmarker.start:
                        openenings.push(new MaskToken(!0));
                        break;

                      case opts.quantifiermarker.start:
                        var quantifier = new MaskToken(!1, !1, !0), mq = (m = m.replace(/[{}]/g, "")).split(","), mq0 = isNaN(mq[0]) ? mq[0] : parseInt(mq[0]), mq1 = 1 === mq.length ? mq0 : isNaN(mq[1]) ? mq[1] : parseInt(mq[1]);
                        if ("*" !== mq1 && "+" !== mq1 || (mq0 = "*" === mq1 ? 0 : 1), quantifier.quantifier = {
                            min: mq0,
                            max: mq1
                        }, openenings.length > 0) {
                            var matches = openenings[openenings.length - 1].matches;
                            (match = matches.pop()).isGroup || ((groupToken = new MaskToken(!0)).matches.push(match), 
                            match = groupToken), matches.push(match), matches.push(quantifier);
                        } else (match = currentToken.matches.pop()).isGroup || (regexMask && null === match.fn && "." === match.def && (match.fn = new RegExp(match.def, opts.casing ? "i" : "")), 
                        (groupToken = new MaskToken(!0)).matches.push(match), match = groupToken), currentToken.matches.push(match), 
                        currentToken.matches.push(quantifier);
                        break;

                      case opts.alternatormarker:
                        if (openenings.length > 0) {
                            var subToken = (currentOpeningToken = openenings[openenings.length - 1]).matches[currentOpeningToken.matches.length - 1];
                            lastMatch = currentOpeningToken.openGroup && (subToken.matches === undefined || !1 === subToken.isGroup && !1 === subToken.isAlternator) ? openenings.pop() : currentOpeningToken.matches.pop();
                        } else lastMatch = currentToken.matches.pop();
                        if (lastMatch.isAlternator) openenings.push(lastMatch); else if (lastMatch.alternatorGroup ? (alternator = openenings.pop(), 
                        lastMatch.alternatorGroup = !1) : alternator = new MaskToken(!1, !1, !1, !0), alternator.matches.push(lastMatch), 
                        openenings.push(alternator), lastMatch.openGroup) {
                            lastMatch.openGroup = !1;
                            var alternatorGroup = new MaskToken(!0);
                            alternatorGroup.alternatorGroup = !0, openenings.push(alternatorGroup);
                        }
                        break;

                      default:
                        defaultCase();
                    }
                }
                for (;openenings.length > 0; ) openingToken = openenings.pop(), currentToken.matches.push(openingToken);
                return currentToken.matches.length > 0 && (verifyGroupMarker(currentToken), maskTokens.push(currentToken)), 
                (opts.numericInput || opts.isRTL) && reverseTokens(maskTokens[0]), maskTokens;
            }
        }, Inputmask.extendDefaults = function(options) {
            $.extend(!0, Inputmask.prototype.defaults, options);
        }, Inputmask.extendDefinitions = function(definition) {
            $.extend(!0, Inputmask.prototype.definitions, definition);
        }, Inputmask.extendAliases = function(alias) {
            $.extend(!0, Inputmask.prototype.aliases, alias);
        }, Inputmask.format = function(value, options, metadata) {
            return Inputmask(options).format(value, metadata);
        }, Inputmask.unmask = function(value, options) {
            return Inputmask(options).unmaskedvalue(value);
        }, Inputmask.isValid = function(value, options) {
            return Inputmask(options).isValid(value);
        }, Inputmask.remove = function(elems) {
            $.each(elems, function(ndx, el) {
                el.inputmask && el.inputmask.remove();
            });
        }, Inputmask.escapeRegex = function(str) {
            var specials = [ "/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^" ];
            return str.replace(new RegExp("(\\" + specials.join("|\\") + ")", "gim"), "\\$1");
        }, Inputmask.keyCode = {
            ALT: 18,
            BACKSPACE: 8,
            BACKSPACE_SAFARI: 127,
            CAPS_LOCK: 20,
            COMMA: 188,
            COMMAND: 91,
            COMMAND_LEFT: 91,
            COMMAND_RIGHT: 93,
            CONTROL: 17,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            INSERT: 45,
            LEFT: 37,
            MENU: 93,
            NUMPAD_ADD: 107,
            NUMPAD_DECIMAL: 110,
            NUMPAD_DIVIDE: 111,
            NUMPAD_ENTER: 108,
            NUMPAD_MULTIPLY: 106,
            NUMPAD_SUBTRACT: 109,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SHIFT: 16,
            SPACE: 32,
            TAB: 9,
            UP: 38,
            WINDOWS: 91,
            X: 88
        }, Inputmask;
    });
}, function(module, exports) {
    module.exports = jQuery;
}, function(module, exports, __webpack_require__) {
    "use strict";
    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }
    __webpack_require__(4), __webpack_require__(9), __webpack_require__(12), __webpack_require__(13), 
    __webpack_require__(14), __webpack_require__(15);
    var _inputmask2 = _interopRequireDefault(__webpack_require__(1)), _inputmask4 = _interopRequireDefault(__webpack_require__(0)), _jquery2 = _interopRequireDefault(__webpack_require__(2));
    _inputmask4.default === _jquery2.default && __webpack_require__(16), window.Inputmask = _inputmask2.default;
}, function(module, exports, __webpack_require__) {
    var content = __webpack_require__(5);
    "string" == typeof content && (content = [ [ module.i, content, "" ] ]);
    var options = {
        hmr: !0
    };
    options.transform = void 0;
    __webpack_require__(7)(content, options);
    content.locals && (module.exports = content.locals);
}, function(module, exports, __webpack_require__) {
    (module.exports = __webpack_require__(6)(void 0)).push([ module.i, "span.im-caret {\r\n    -webkit-animation: 1s blink step-end infinite;\r\n    animation: 1s blink step-end infinite;\r\n}\r\n\r\n@keyframes blink {\r\n    from, to {\r\n        border-right-color: black;\r\n    }\r\n    50% {\r\n        border-right-color: transparent;\r\n    }\r\n}\r\n\r\n@-webkit-keyframes blink {\r\n    from, to {\r\n        border-right-color: black;\r\n    }\r\n    50% {\r\n        border-right-color: transparent;\r\n    }\r\n}\r\n\r\nspan.im-static {\r\n    color: grey;\r\n}\r\n\r\ndiv.im-colormask {\r\n    display: inline-block;\r\n    border-style: inset;\r\n    border-width: 2px;\r\n    -webkit-appearance: textfield;\r\n    -moz-appearance: textfield;\r\n    appearance: textfield;\r\n}\r\n\r\ndiv.im-colormask > input {\r\n    position: absolute;\r\n    display: inline-block;\r\n    background-color: transparent;\r\n    color: transparent;\r\n    -webkit-appearance: caret;\r\n    -moz-appearance: caret;\r\n    appearance: caret;\r\n    border-style: none;\r\n    left: 0; /*calculated*/\r\n}\r\n\r\ndiv.im-colormask > input:focus {\r\n    outline: none;\r\n}\r\n\r\ndiv.im-colormask > input::-moz-selection{\r\n    background: none;\r\n}\r\n\r\ndiv.im-colormask > input::selection{\r\n    background: none;\r\n}\r\ndiv.im-colormask > input::-moz-selection{\r\n    background: none;\r\n}\r\n\r\ndiv.im-colormask > div {\r\n    color: black;\r\n    display: inline-block;\r\n    width: 100px; /*calculated*/\r\n}", "" ]);
}, function(module, exports) {
    function cssWithMappingToString(item, useSourceMap) {
        var content = item[1] || "", cssMapping = item[3];
        if (!cssMapping) return content;
        if (useSourceMap && "function" == typeof btoa) {
            var sourceMapping = toComment(cssMapping), sourceURLs = cssMapping.sources.map(function(source) {
                return "/*# sourceURL=" + cssMapping.sourceRoot + source + " */";
            });
            return [ content ].concat(sourceURLs).concat([ sourceMapping ]).join("\n");
        }
        return [ content ].join("\n");
    }
    function toComment(sourceMap) {
        return "/*# " + ("sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))) + " */";
    }
    module.exports = function(useSourceMap) {
        var list = [];
        return list.toString = function() {
            return this.map(function(item) {
                var content = cssWithMappingToString(item, useSourceMap);
                return item[2] ? "@media " + item[2] + "{" + content + "}" : content;
            }).join("");
        }, list.i = function(modules, mediaQuery) {
            "string" == typeof modules && (modules = [ [ null, modules, "" ] ]);
            for (var alreadyImportedModules = {}, i = 0; i < this.length; i++) {
                var id = this[i][0];
                "number" == typeof id && (alreadyImportedModules[id] = !0);
            }
            for (i = 0; i < modules.length; i++) {
                var item = modules[i];
                "number" == typeof item[0] && alreadyImportedModules[item[0]] || (mediaQuery && !item[2] ? item[2] = mediaQuery : mediaQuery && (item[2] = "(" + item[2] + ") and (" + mediaQuery + ")"), 
                list.push(item));
            }
        }, list;
    };
}, function(module, exports, __webpack_require__) {
    function addStylesToDom(styles, options) {
        for (var i = 0; i < styles.length; i++) {
            var item = styles[i], domStyle = stylesInDom[item.id];
            if (domStyle) {
                domStyle.refs++;
                for (j = 0; j < domStyle.parts.length; j++) domStyle.parts[j](item.parts[j]);
                for (;j < item.parts.length; j++) domStyle.parts.push(addStyle(item.parts[j], options));
            } else {
                for (var parts = [], j = 0; j < item.parts.length; j++) parts.push(addStyle(item.parts[j], options));
                stylesInDom[item.id] = {
                    id: item.id,
                    refs: 1,
                    parts: parts
                };
            }
        }
    }
    function listToStyles(list, options) {
        for (var styles = [], newStyles = {}, i = 0; i < list.length; i++) {
            var item = list[i], id = options.base ? item[0] + options.base : item[0], part = {
                css: item[1],
                media: item[2],
                sourceMap: item[3]
            };
            newStyles[id] ? newStyles[id].parts.push(part) : styles.push(newStyles[id] = {
                id: id,
                parts: [ part ]
            });
        }
        return styles;
    }
    function insertStyleElement(options, style) {
        var target = getElement(options.insertInto);
        if (!target) throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
        var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];
        if ("top" === options.insertAt) lastStyleElementInsertedAtTop ? lastStyleElementInsertedAtTop.nextSibling ? target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling) : target.appendChild(style) : target.insertBefore(style, target.firstChild), 
        stylesInsertedAtTop.push(style); else if ("bottom" === options.insertAt) target.appendChild(style); else {
            if ("object" != typeof options.insertAt || !options.insertAt.before) throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
            var nextSibling = getElement(options.insertInto + " " + options.insertAt.before);
            target.insertBefore(style, nextSibling);
        }
    }
    function removeStyleElement(style) {
        if (null === style.parentNode) return !1;
        style.parentNode.removeChild(style);
        var idx = stylesInsertedAtTop.indexOf(style);
        idx >= 0 && stylesInsertedAtTop.splice(idx, 1);
    }
    function createStyleElement(options) {
        var style = document.createElement("style");
        return options.attrs.type = "text/css", addAttrs(style, options.attrs), insertStyleElement(options, style), 
        style;
    }
    function createLinkElement(options) {
        var link = document.createElement("link");
        return options.attrs.type = "text/css", options.attrs.rel = "stylesheet", addAttrs(link, options.attrs), 
        insertStyleElement(options, link), link;
    }
    function addAttrs(el, attrs) {
        Object.keys(attrs).forEach(function(key) {
            el.setAttribute(key, attrs[key]);
        });
    }
    function addStyle(obj, options) {
        var style, update, remove, result;
        if (options.transform && obj.css) {
            if (!(result = options.transform(obj.css))) return function() {};
            obj.css = result;
        }
        if (options.singleton) {
            var styleIndex = singletonCounter++;
            style = singleton || (singleton = createStyleElement(options)), update = applyToSingletonTag.bind(null, style, styleIndex, !1), 
            remove = applyToSingletonTag.bind(null, style, styleIndex, !0);
        } else obj.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (style = createLinkElement(options), 
        update = updateLink.bind(null, style, options), remove = function() {
            removeStyleElement(style), style.href && URL.revokeObjectURL(style.href);
        }) : (style = createStyleElement(options), update = applyToTag.bind(null, style), 
        remove = function() {
            removeStyleElement(style);
        });
        return update(obj), function(newObj) {
            if (newObj) {
                if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) return;
                update(obj = newObj);
            } else remove();
        };
    }
    function applyToSingletonTag(style, index, remove, obj) {
        var css = remove ? "" : obj.css;
        if (style.styleSheet) style.styleSheet.cssText = replaceText(index, css); else {
            var cssNode = document.createTextNode(css), childNodes = style.childNodes;
            childNodes[index] && style.removeChild(childNodes[index]), childNodes.length ? style.insertBefore(cssNode, childNodes[index]) : style.appendChild(cssNode);
        }
    }
    function applyToTag(style, obj) {
        var css = obj.css, media = obj.media;
        if (media && style.setAttribute("media", media), style.styleSheet) style.styleSheet.cssText = css; else {
            for (;style.firstChild; ) style.removeChild(style.firstChild);
            style.appendChild(document.createTextNode(css));
        }
    }
    function updateLink(link, options, obj) {
        var css = obj.css, sourceMap = obj.sourceMap, autoFixUrls = void 0 === options.convertToAbsoluteUrls && sourceMap;
        (options.convertToAbsoluteUrls || autoFixUrls) && (css = fixUrls(css)), sourceMap && (css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */");
        var blob = new Blob([ css ], {
            type: "text/css"
        }), oldSrc = link.href;
        link.href = URL.createObjectURL(blob), oldSrc && URL.revokeObjectURL(oldSrc);
    }
    var stylesInDom = {}, isOldIE = function(fn) {
        var memo;
        return function() {
            return void 0 === memo && (memo = fn.apply(this, arguments)), memo;
        };
    }(function() {
        return window && document && document.all && !window.atob;
    }), getElement = function(fn) {
        var memo = {};
        return function(selector) {
            if (void 0 === memo[selector]) {
                var styleTarget = fn.call(this, selector);
                if (styleTarget instanceof window.HTMLIFrameElement) try {
                    styleTarget = styleTarget.contentDocument.head;
                } catch (e) {
                    styleTarget = null;
                }
                memo[selector] = styleTarget;
            }
            return memo[selector];
        };
    }(function(target) {
        return document.querySelector(target);
    }), singleton = null, singletonCounter = 0, stylesInsertedAtTop = [], fixUrls = __webpack_require__(8);
    module.exports = function(list, options) {
        if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document) throw new Error("The style-loader cannot be used in a non-browser environment");
        (options = options || {}).attrs = "object" == typeof options.attrs ? options.attrs : {}, 
        options.singleton || (options.singleton = isOldIE()), options.insertInto || (options.insertInto = "head"), 
        options.insertAt || (options.insertAt = "bottom");
        var styles = listToStyles(list, options);
        return addStylesToDom(styles, options), function(newList) {
            for (var mayRemove = [], i = 0; i < styles.length; i++) {
                var item = styles[i];
                (domStyle = stylesInDom[item.id]).refs--, mayRemove.push(domStyle);
            }
            newList && addStylesToDom(listToStyles(newList, options), options);
            for (i = 0; i < mayRemove.length; i++) {
                var domStyle = mayRemove[i];
                if (0 === domStyle.refs) {
                    for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();
                    delete stylesInDom[domStyle.id];
                }
            }
        };
    };
    var replaceText = function() {
        var textStore = [];
        return function(index, replacement) {
            return textStore[index] = replacement, textStore.filter(Boolean).join("\n");
        };
    }();
}, function(module, exports) {
    module.exports = function(css) {
        var location = "undefined" != typeof window && window.location;
        if (!location) throw new Error("fixUrls requires window.location");
        if (!css || "string" != typeof css) return css;
        var baseUrl = location.protocol + "//" + location.host, currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");
        return css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
            var unquotedOrigUrl = origUrl.trim().replace(/^"(.*)"$/, function(o, $1) {
                return $1;
            }).replace(/^'(.*)'$/, function(o, $1) {
                return $1;
            });
            if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(unquotedOrigUrl)) return fullMatch;
            var newUrl;
            return newUrl = 0 === unquotedOrigUrl.indexOf("//") ? unquotedOrigUrl : 0 === unquotedOrigUrl.indexOf("/") ? baseUrl + unquotedOrigUrl : currentDir + unquotedOrigUrl.replace(/^\.\//, ""), 
            "url(" + JSON.stringify(newUrl) + ")";
        });
    };
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    "function" == typeof Symbol && Symbol.iterator;
    !function(factory) {
        __WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(0), __webpack_require__(1) ], 
        void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = factory) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function($, Inputmask) {
        function isLeapYear(year) {
            return isNaN(year) || 29 === new Date(year, 2, 0).getDate();
        }
        return Inputmask.extendAliases({
            "dd/mm/yyyy": {
                mask: "1/2/y",
                placeholder: "dd/mm/yyyy",
                regex: {
                    val1pre: new RegExp("[0-3]"),
                    val1: new RegExp("0[1-9]|[12][0-9]|3[01]"),
                    val2pre: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[1-9]|[12][0-9]|3[01])" + escapedSeparator + "[01])");
                    },
                    val2: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[1-9]|[12][0-9])" + escapedSeparator + "(0[1-9]|1[012]))|(30" + escapedSeparator + "(0[13-9]|1[012]))|(31" + escapedSeparator + "(0[13578]|1[02]))");
                    }
                },
                leapday: "29/02/",
                separator: "/",
                yearrange: {
                    minyear: 1900,
                    maxyear: 2099
                },
                isInYearRange: function(chrs, minyear, maxyear) {
                    if (isNaN(chrs)) return !1;
                    var enteredyear = parseInt(chrs.concat(minyear.toString().slice(chrs.length))), enteredyear2 = parseInt(chrs.concat(maxyear.toString().slice(chrs.length)));
                    return !isNaN(enteredyear) && (minyear <= enteredyear && enteredyear <= maxyear) || !isNaN(enteredyear2) && (minyear <= enteredyear2 && enteredyear2 <= maxyear);
                },
                determinebaseyear: function(minyear, maxyear, hint) {
                    var currentyear = new Date().getFullYear();
                    if (minyear > currentyear) return minyear;
                    if (maxyear < currentyear) {
                        for (var maxYearPrefix = maxyear.toString().slice(0, 2), maxYearPostfix = maxyear.toString().slice(2, 4); maxyear < maxYearPrefix + hint; ) maxYearPrefix--;
                        var maxxYear = maxYearPrefix + maxYearPostfix;
                        return minyear > maxxYear ? minyear : maxxYear;
                    }
                    if (minyear <= currentyear && currentyear <= maxyear) {
                        for (var currentYearPrefix = currentyear.toString().slice(0, 2); maxyear < currentYearPrefix + hint; ) currentYearPrefix--;
                        var currentYearAndHint = currentYearPrefix + hint;
                        return currentYearAndHint < minyear ? minyear : currentYearAndHint;
                    }
                    return currentyear;
                },
                onKeyDown: function(e, buffer, caretPos, opts) {
                    var $input = $(this);
                    if (e.ctrlKey && e.keyCode === Inputmask.keyCode.RIGHT) {
                        var today = new Date();
                        $input.val(today.getDate().toString() + (today.getMonth() + 1).toString() + today.getFullYear().toString()), 
                        $input.trigger("setvalue");
                    }
                },
                getFrontValue: function(mask, buffer, opts) {
                    for (var start = 0, length = 0, i = 0; i < mask.length && "2" !== mask.charAt(i); i++) {
                        var definition = opts.definitions[mask.charAt(i)];
                        definition ? (start += length, length = definition.cardinality) : length++;
                    }
                    return buffer.join("").substr(start, length);
                },
                postValidation: function(buffer, currentResult, opts) {
                    var dayMonthValue, year, bufferStr = buffer.join("");
                    return 0 === opts.mask.indexOf("y") ? (year = bufferStr.substr(0, 4), dayMonthValue = bufferStr.substring(4, 10)) : (year = bufferStr.substring(6, 10), 
                    dayMonthValue = bufferStr.substr(0, 6)), currentResult && (dayMonthValue !== opts.leapday || isLeapYear(year));
                },
                definitions: {
                    "1": {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            var isValid = opts.regex.val1.test(chrs);
                            return strict || isValid || chrs.charAt(1) !== opts.separator && -1 === "-./".indexOf(chrs.charAt(1)) || !(isValid = opts.regex.val1.test("0" + chrs.charAt(0))) ? isValid : (maskset.buffer[pos - 1] = "0", 
                            {
                                refreshFromBuffer: {
                                    start: pos - 1,
                                    end: pos
                                },
                                pos: pos,
                                c: chrs.charAt(0)
                            });
                        },
                        cardinality: 2,
                        prevalidator: [ {
                            validator: function(chrs, maskset, pos, strict, opts) {
                                var pchrs = chrs;
                                isNaN(maskset.buffer[pos + 1]) || (pchrs += maskset.buffer[pos + 1]);
                                var isValid = 1 === pchrs.length ? opts.regex.val1pre.test(pchrs) : opts.regex.val1.test(pchrs);
                                if (isValid && maskset.validPositions[pos] && (opts.regex.val2(opts.separator).test(chrs + maskset.validPositions[pos].input) || (maskset.validPositions[pos].input = "0" === chrs ? "1" : "0")), 
                                !strict && !isValid) {
                                    if (isValid = opts.regex.val1.test(chrs + "0")) return maskset.buffer[pos] = chrs, 
                                    maskset.buffer[++pos] = "0", {
                                        pos: pos,
                                        c: "0"
                                    };
                                    if (isValid = opts.regex.val1.test("0" + chrs)) return maskset.buffer[pos] = "0", 
                                    pos++, {
                                        pos: pos
                                    };
                                }
                                return isValid;
                            },
                            cardinality: 1
                        } ]
                    },
                    "2": {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            var frontValue = opts.getFrontValue(maskset.mask, maskset.buffer, opts);
                            -1 !== frontValue.indexOf(opts.placeholder[0]) && (frontValue = "01" + opts.separator);
                            var isValid = opts.regex.val2(opts.separator).test(frontValue + chrs);
                            return strict || isValid || chrs.charAt(1) !== opts.separator && -1 === "-./".indexOf(chrs.charAt(1)) || !(isValid = opts.regex.val2(opts.separator).test(frontValue + "0" + chrs.charAt(0))) ? isValid : (maskset.buffer[pos - 1] = "0", 
                            {
                                refreshFromBuffer: {
                                    start: pos - 1,
                                    end: pos
                                },
                                pos: pos,
                                c: chrs.charAt(0)
                            });
                        },
                        cardinality: 2,
                        prevalidator: [ {
                            validator: function(chrs, maskset, pos, strict, opts) {
                                isNaN(maskset.buffer[pos + 1]) || (chrs += maskset.buffer[pos + 1]);
                                var frontValue = opts.getFrontValue(maskset.mask, maskset.buffer, opts);
                                -1 !== frontValue.indexOf(opts.placeholder[0]) && (frontValue = "01" + opts.separator);
                                var isValid = 1 === chrs.length ? opts.regex.val2pre(opts.separator).test(frontValue + chrs) : opts.regex.val2(opts.separator).test(frontValue + chrs);
                                return isValid && maskset.validPositions[pos] && (opts.regex.val2(opts.separator).test(chrs + maskset.validPositions[pos].input) || (maskset.validPositions[pos].input = "0" === chrs ? "1" : "0")), 
                                strict || isValid || !(isValid = opts.regex.val2(opts.separator).test(frontValue + "0" + chrs)) ? isValid : (maskset.buffer[pos] = "0", 
                                pos++, {
                                    pos: pos
                                });
                            },
                            cardinality: 1
                        } ]
                    },
                    y: {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            return opts.isInYearRange(chrs, opts.yearrange.minyear, opts.yearrange.maxyear);
                        },
                        cardinality: 4,
                        prevalidator: [ {
                            validator: function(chrs, maskset, pos, strict, opts) {
                                var isValid = opts.isInYearRange(chrs, opts.yearrange.minyear, opts.yearrange.maxyear);
                                if (!strict && !isValid) {
                                    var yearPrefix = opts.determinebaseyear(opts.yearrange.minyear, opts.yearrange.maxyear, chrs + "0").toString().slice(0, 1);
                                    if (isValid = opts.isInYearRange(yearPrefix + chrs, opts.yearrange.minyear, opts.yearrange.maxyear)) return maskset.buffer[pos++] = yearPrefix.charAt(0), 
                                    {
                                        pos: pos
                                    };
                                    if (yearPrefix = opts.determinebaseyear(opts.yearrange.minyear, opts.yearrange.maxyear, chrs + "0").toString().slice(0, 2), 
                                    isValid = opts.isInYearRange(yearPrefix + chrs, opts.yearrange.minyear, opts.yearrange.maxyear)) return maskset.buffer[pos++] = yearPrefix.charAt(0), 
                                    maskset.buffer[pos++] = yearPrefix.charAt(1), {
                                        pos: pos
                                    };
                                }
                                return isValid;
                            },
                            cardinality: 1
                        }, {
                            validator: function(chrs, maskset, pos, strict, opts) {
                                var isValid = opts.isInYearRange(chrs, opts.yearrange.minyear, opts.yearrange.maxyear);
                                if (!strict && !isValid) {
                                    var yearPrefix = opts.determinebaseyear(opts.yearrange.minyear, opts.yearrange.maxyear, chrs).toString().slice(0, 2);
                                    if (isValid = opts.isInYearRange(chrs[0] + yearPrefix[1] + chrs[1], opts.yearrange.minyear, opts.yearrange.maxyear)) return maskset.buffer[pos++] = yearPrefix.charAt(1), 
                                    {
                                        pos: pos
                                    };
                                    if (yearPrefix = opts.determinebaseyear(opts.yearrange.minyear, opts.yearrange.maxyear, chrs).toString().slice(0, 2), 
                                    isValid = opts.isInYearRange(yearPrefix + chrs, opts.yearrange.minyear, opts.yearrange.maxyear)) return maskset.buffer[pos - 1] = yearPrefix.charAt(0), 
                                    maskset.buffer[pos++] = yearPrefix.charAt(1), maskset.buffer[pos++] = chrs.charAt(0), 
                                    {
                                        refreshFromBuffer: {
                                            start: pos - 3,
                                            end: pos
                                        },
                                        pos: pos
                                    };
                                }
                                return isValid;
                            },
                            cardinality: 2
                        }, {
                            validator: function(chrs, maskset, pos, strict, opts) {
                                return opts.isInYearRange(chrs, opts.yearrange.minyear, opts.yearrange.maxyear);
                            },
                            cardinality: 3
                        } ]
                    }
                },
                insertMode: !1,
                autoUnmask: !1
            },
            "mm/dd/yyyy": {
                placeholder: "mm/dd/yyyy",
                alias: "dd/mm/yyyy",
                regex: {
                    val2pre: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[13-9]|1[012])" + escapedSeparator + "[0-3])|(02" + escapedSeparator + "[0-2])");
                    },
                    val2: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[1-9]|1[012])" + escapedSeparator + "(0[1-9]|[12][0-9]))|((0[13-9]|1[012])" + escapedSeparator + "30)|((0[13578]|1[02])" + escapedSeparator + "31)");
                    },
                    val1pre: new RegExp("[01]"),
                    val1: new RegExp("0[1-9]|1[012]")
                },
                leapday: "02/29/",
                onKeyDown: function(e, buffer, caretPos, opts) {
                    var $input = $(this);
                    if (e.ctrlKey && e.keyCode === Inputmask.keyCode.RIGHT) {
                        var today = new Date();
                        $input.val((today.getMonth() + 1).toString() + today.getDate().toString() + today.getFullYear().toString()), 
                        $input.trigger("setvalue");
                    }
                }
            },
            "yyyy/mm/dd": {
                mask: "y/1/2",
                placeholder: "yyyy/mm/dd",
                alias: "mm/dd/yyyy",
                leapday: "/02/29",
                onKeyDown: function(e, buffer, caretPos, opts) {
                    var $input = $(this);
                    if (e.ctrlKey && e.keyCode === Inputmask.keyCode.RIGHT) {
                        var today = new Date();
                        $input.val(today.getFullYear().toString() + (today.getMonth() + 1).toString() + today.getDate().toString()), 
                        $input.trigger("setvalue");
                    }
                }
            },
            "dd.mm.yyyy": {
                mask: "1.2.y",
                placeholder: "dd.mm.yyyy",
                leapday: "29.02.",
                separator: ".",
                alias: "dd/mm/yyyy"
            },
            "dd-mm-yyyy": {
                mask: "1-2-y",
                placeholder: "dd-mm-yyyy",
                leapday: "29-02-",
                separator: "-",
                alias: "dd/mm/yyyy"
            },
            "mm.dd.yyyy": {
                mask: "1.2.y",
                placeholder: "mm.dd.yyyy",
                leapday: "02.29.",
                separator: ".",
                alias: "mm/dd/yyyy"
            },
            "mm-dd-yyyy": {
                mask: "1-2-y",
                placeholder: "mm-dd-yyyy",
                leapday: "02-29-",
                separator: "-",
                alias: "mm/dd/yyyy"
            },
            "yyyy.mm.dd": {
                mask: "y.1.2",
                placeholder: "yyyy.mm.dd",
                leapday: ".02.29",
                separator: ".",
                alias: "yyyy/mm/dd"
            },
            "yyyy-mm-dd": {
                mask: "y-1-2",
                placeholder: "yyyy-mm-dd",
                leapday: "-02-29",
                separator: "-",
                alias: "yyyy/mm/dd"
            },
            datetime: {
                mask: "1/2/y h:s",
                placeholder: "dd/mm/yyyy hh:mm",
                alias: "dd/mm/yyyy",
                regex: {
                    hrspre: new RegExp("[012]"),
                    hrs24: new RegExp("2[0-4]|1[3-9]"),
                    hrs: new RegExp("[01][0-9]|2[0-4]"),
                    ampm: new RegExp("^[a|p|A|P][m|M]"),
                    mspre: new RegExp("[0-5]"),
                    ms: new RegExp("[0-5][0-9]")
                },
                timeseparator: ":",
                hourFormat: "24",
                definitions: {
                    h: {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            if ("24" === opts.hourFormat && 24 === parseInt(chrs, 10)) return maskset.buffer[pos - 1] = "0", 
                            maskset.buffer[pos] = "0", {
                                refreshFromBuffer: {
                                    start: pos - 1,
                                    end: pos
                                },
                                c: "0"
                            };
                            var isValid = opts.regex.hrs.test(chrs);
                            if (!strict && !isValid && (chrs.charAt(1) === opts.timeseparator || -1 !== "-.:".indexOf(chrs.charAt(1))) && (isValid = opts.regex.hrs.test("0" + chrs.charAt(0)))) return maskset.buffer[pos - 1] = "0", 
                            maskset.buffer[pos] = chrs.charAt(0), pos++, {
                                refreshFromBuffer: {
                                    start: pos - 2,
                                    end: pos
                                },
                                pos: pos,
                                c: opts.timeseparator
                            };
                            if (isValid && "24" !== opts.hourFormat && opts.regex.hrs24.test(chrs)) {
                                var tmp = parseInt(chrs, 10);
                                return 24 === tmp ? (maskset.buffer[pos + 5] = "a", maskset.buffer[pos + 6] = "m") : (maskset.buffer[pos + 5] = "p", 
                                maskset.buffer[pos + 6] = "m"), (tmp -= 12) < 10 ? (maskset.buffer[pos] = tmp.toString(), 
                                maskset.buffer[pos - 1] = "0") : (maskset.buffer[pos] = tmp.toString().charAt(1), 
                                maskset.buffer[pos - 1] = tmp.toString().charAt(0)), {
                                    refreshFromBuffer: {
                                        start: pos - 1,
                                        end: pos + 6
                                    },
                                    c: maskset.buffer[pos]
                                };
                            }
                            return isValid;
                        },
                        cardinality: 2,
                        prevalidator: [ {
                            validator: function(chrs, maskset, pos, strict, opts) {
                                var isValid = opts.regex.hrspre.test(chrs);
                                return strict || isValid || !(isValid = opts.regex.hrs.test("0" + chrs)) ? isValid : (maskset.buffer[pos] = "0", 
                                pos++, {
                                    pos: pos
                                });
                            },
                            cardinality: 1
                        } ]
                    },
                    s: {
                        validator: "[0-5][0-9]",
                        cardinality: 2,
                        prevalidator: [ {
                            validator: function(chrs, maskset, pos, strict, opts) {
                                var isValid = opts.regex.mspre.test(chrs);
                                return strict || isValid || !(isValid = opts.regex.ms.test("0" + chrs)) ? isValid : (maskset.buffer[pos] = "0", 
                                pos++, {
                                    pos: pos
                                });
                            },
                            cardinality: 1
                        } ]
                    },
                    t: {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            return opts.regex.ampm.test(chrs + "m");
                        },
                        casing: "lower",
                        cardinality: 1
                    }
                },
                insertMode: !1,
                autoUnmask: !1
            },
            datetime12: {
                mask: "1/2/y h:s t\\m",
                placeholder: "dd/mm/yyyy hh:mm xm",
                alias: "datetime",
                hourFormat: "12"
            },
            "mm/dd/yyyy hh:mm xm": {
                mask: "1/2/y h:s t\\m",
                placeholder: "mm/dd/yyyy hh:mm xm",
                alias: "datetime12",
                regex: {
                    val2pre: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[13-9]|1[012])" + escapedSeparator + "[0-3])|(02" + escapedSeparator + "[0-2])");
                    },
                    val2: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[1-9]|1[012])" + escapedSeparator + "(0[1-9]|[12][0-9]))|((0[13-9]|1[012])" + escapedSeparator + "30)|((0[13578]|1[02])" + escapedSeparator + "31)");
                    },
                    val1pre: new RegExp("[01]"),
                    val1: new RegExp("0[1-9]|1[012]")
                },
                leapday: "02/29/",
                onKeyDown: function(e, buffer, caretPos, opts) {
                    var $input = $(this);
                    if (e.ctrlKey && e.keyCode === Inputmask.keyCode.RIGHT) {
                        var today = new Date();
                        $input.val((today.getMonth() + 1).toString() + today.getDate().toString() + today.getFullYear().toString()), 
                        $input.trigger("setvalue");
                    }
                }
            },
            "hh:mm t": {
                mask: "h:s t\\m",
                placeholder: "hh:mm xm",
                alias: "datetime",
                hourFormat: "12"
            },
            "h:s t": {
                mask: "h:s t\\m",
                placeholder: "hh:mm xm",
                alias: "datetime",
                hourFormat: "12"
            },
            "hh:mm:ss": {
                mask: "h:s:s",
                placeholder: "hh:mm:ss",
                alias: "datetime",
                autoUnmask: !1
            },
            "hh:mm": {
                mask: "h:s",
                placeholder: "hh:mm",
                alias: "datetime",
                autoUnmask: !1
            },
            date: {
                alias: "dd/mm/yyyy"
            },
            "mm/yyyy": {
                mask: "1/y",
                placeholder: "mm/yyyy",
                leapday: "donotuse",
                separator: "/",
                alias: "mm/dd/yyyy"
            },
            shamsi: {
                regex: {
                    val2pre: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[1-9]|1[012])" + escapedSeparator + "[0-3])");
                    },
                    val2: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[1-9]|1[012])" + escapedSeparator + "(0[1-9]|[12][0-9]))|((0[1-9]|1[012])" + escapedSeparator + "30)|((0[1-6])" + escapedSeparator + "31)");
                    },
                    val1pre: new RegExp("[01]"),
                    val1: new RegExp("0[1-9]|1[012]")
                },
                yearrange: {
                    minyear: 1300,
                    maxyear: 1499
                },
                mask: "y/1/2",
                leapday: "/12/30",
                placeholder: "yyyy/mm/dd",
                alias: "mm/dd/yyyy",
                clearIncomplete: !0
            },
            "yyyy-mm-dd hh:mm:ss": {
                mask: "y-1-2 h:s:s",
                placeholder: "yyyy-mm-dd hh:mm:ss",
                alias: "datetime",
                separator: "-",
                leapday: "-02-29",
                regex: {
                    val2pre: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[13-9]|1[012])" + escapedSeparator + "[0-3])|(02" + escapedSeparator + "[0-2])");
                    },
                    val2: function(separator) {
                        var escapedSeparator = Inputmask.escapeRegex.call(this, separator);
                        return new RegExp("((0[1-9]|1[012])" + escapedSeparator + "(0[1-9]|[12][0-9]))|((0[13-9]|1[012])" + escapedSeparator + "30)|((0[13578]|1[02])" + escapedSeparator + "31)");
                    },
                    val1pre: new RegExp("[01]"),
                    val1: new RegExp("0[1-9]|1[012]")
                },
                onKeyDown: function(e, buffer, caretPos, opts) {}
            }
        }), Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_RESULT__;
    "function" == typeof Symbol && Symbol.iterator;
    void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = function() {
        return window;
    }.call(exports, __webpack_require__, exports, module)) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_RESULT__;
    "function" == typeof Symbol && Symbol.iterator;
    void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = function() {
        return document;
    }.call(exports, __webpack_require__, exports, module)) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    "function" == typeof Symbol && Symbol.iterator;
    !function(factory) {
        __WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(0), __webpack_require__(1) ], 
        void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = factory) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function($, Inputmask) {
        return Inputmask.extendDefinitions({
            A: {
                validator: "[A-Za-z--]",
                cardinality: 1,
                casing: "upper"
            },
            "&": {
                validator: "[0-9A-Za-z--]",
                cardinality: 1,
                casing: "upper"
            },
            "#": {
                validator: "[0-9A-Fa-f]",
                cardinality: 1,
                casing: "upper"
            }
        }), Inputmask.extendAliases({
            url: {
                definitions: {
                    i: {
                        validator: ".",
                        cardinality: 1
                    }
                },
                mask: "(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",
                insertMode: !1,
                autoUnmask: !1,
                inputmode: "url"
            },
            ip: {
                mask: "i[i[i]].i[i[i]].i[i[i]].i[i[i]]",
                definitions: {
                    i: {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            return pos - 1 > -1 && "." !== maskset.buffer[pos - 1] ? (chrs = maskset.buffer[pos - 1] + chrs, 
                            chrs = pos - 2 > -1 && "." !== maskset.buffer[pos - 2] ? maskset.buffer[pos - 2] + chrs : "0" + chrs) : chrs = "00" + chrs, 
                            new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(chrs);
                        },
                        cardinality: 1
                    }
                },
                onUnMask: function(maskedValue, unmaskedValue, opts) {
                    return maskedValue;
                },
                inputmode: "numeric"
            },
            email: {
                mask: "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",
                greedy: !1,
                onBeforePaste: function(pastedValue, opts) {
                    return (pastedValue = pastedValue.toLowerCase()).replace("mailto:", "");
                },
                definitions: {
                    "*": {
                        validator: "[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",
                        cardinality: 1,
                        casing: "lower"
                    },
                    "-": {
                        validator: "[0-9A-Za-z-]",
                        cardinality: 1,
                        casing: "lower"
                    }
                },
                onUnMask: function(maskedValue, unmaskedValue, opts) {
                    return maskedValue;
                },
                inputmode: "email"
            },
            mac: {
                mask: "##:##:##:##:##:##"
            },
            vin: {
                mask: "V{13}9{4}",
                definitions: {
                    V: {
                        validator: "[A-HJ-NPR-Za-hj-npr-z\\d]",
                        cardinality: 1,
                        casing: "upper"
                    }
                },
                clearIncomplete: !0,
                autoUnmask: !0
            }
        }), Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    "function" == typeof Symbol && Symbol.iterator;
    !function(factory) {
        __WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(0), __webpack_require__(1) ], 
        void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = factory) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function($, Inputmask, undefined) {
        function autoEscape(txt, opts) {
            for (var escapedTxt = "", i = 0; i < txt.length; i++) Inputmask.prototype.definitions[txt.charAt(i)] || opts.definitions[txt.charAt(i)] || opts.optionalmarker.start === txt.charAt(i) || opts.optionalmarker.end === txt.charAt(i) || opts.quantifiermarker.start === txt.charAt(i) || opts.quantifiermarker.end === txt.charAt(i) || opts.groupmarker.start === txt.charAt(i) || opts.groupmarker.end === txt.charAt(i) || opts.alternatormarker === txt.charAt(i) ? escapedTxt += "\\" + txt.charAt(i) : escapedTxt += txt.charAt(i);
            return escapedTxt;
        }
        return Inputmask.extendAliases({
            numeric: {
                mask: function(opts) {
                    if (0 !== opts.repeat && isNaN(opts.integerDigits) && (opts.integerDigits = opts.repeat), 
                    opts.repeat = 0, opts.groupSeparator === opts.radixPoint && ("." === opts.radixPoint ? opts.groupSeparator = "," : "," === opts.radixPoint ? opts.groupSeparator = "." : opts.groupSeparator = ""), 
                    " " === opts.groupSeparator && (opts.skipOptionalPartCharacter = undefined), opts.autoGroup = opts.autoGroup && "" !== opts.groupSeparator, 
                    opts.autoGroup && ("string" == typeof opts.groupSize && isFinite(opts.groupSize) && (opts.groupSize = parseInt(opts.groupSize)), 
                    isFinite(opts.integerDigits))) {
                        var seps = Math.floor(opts.integerDigits / opts.groupSize), mod = opts.integerDigits % opts.groupSize;
                        opts.integerDigits = parseInt(opts.integerDigits) + (0 === mod ? seps - 1 : seps), 
                        opts.integerDigits < 1 && (opts.integerDigits = "*");
                    }
                    opts.placeholder.length > 1 && (opts.placeholder = opts.placeholder.charAt(0)), 
                    "radixFocus" === opts.positionCaretOnClick && "" === opts.placeholder && !1 === opts.integerOptional && (opts.positionCaretOnClick = "lvp"), 
                    opts.definitions[";"] = opts.definitions["~"], opts.definitions[";"].definitionSymbol = "~", 
                    !0 === opts.numericInput && (opts.positionCaretOnClick = "radixFocus" === opts.positionCaretOnClick ? "lvp" : opts.positionCaretOnClick, 
                    opts.digitsOptional = !1, isNaN(opts.digits) && (opts.digits = 2), opts.decimalProtect = !1);
                    var mask = "[+]";
                    if (mask += autoEscape(opts.prefix, opts), !0 === opts.integerOptional ? mask += "~{1," + opts.integerDigits + "}" : mask += "~{" + opts.integerDigits + "}", 
                    opts.digits !== undefined) {
                        opts.radixPointDefinitionSymbol = opts.decimalProtect ? ":" : opts.radixPoint;
                        var dq = opts.digits.toString().split(",");
                        isFinite(dq[0] && dq[1] && isFinite(dq[1])) ? mask += opts.radixPointDefinitionSymbol + ";{" + opts.digits + "}" : (isNaN(opts.digits) || parseInt(opts.digits) > 0) && (opts.digitsOptional ? mask += "[" + opts.radixPointDefinitionSymbol + ";{1," + opts.digits + "}]" : mask += opts.radixPointDefinitionSymbol + ";{" + opts.digits + "}");
                    }
                    return mask += autoEscape(opts.suffix, opts), mask += "[-]", opts.greedy = !1, mask;
                },
                placeholder: "",
                greedy: !1,
                digits: "*",
                digitsOptional: !0,
                enforceDigitsOnBlur: !1,
                radixPoint: ".",
                positionCaretOnClick: "radixFocus",
                groupSize: 3,
                groupSeparator: "",
                autoGroup: !1,
                allowMinus: !0,
                negationSymbol: {
                    front: "-",
                    back: ""
                },
                integerDigits: "+",
                integerOptional: !0,
                prefix: "",
                suffix: "",
                rightAlign: !0,
                decimalProtect: !0,
                min: null,
                max: null,
                step: 1,
                insertMode: !0,
                autoUnmask: !1,
                unmaskAsNumber: !1,
                inputmode: "numeric",
                preValidation: function(buffer, pos, c, isSelection, opts) {
                    if ("-" === c || c === opts.negationSymbol.front) return !0 === opts.allowMinus && (opts.isNegative = opts.isNegative === undefined || !opts.isNegative, 
                    "" === buffer.join("") || {
                        caret: pos,
                        dopost: !0
                    });
                    if (!1 === isSelection && c === opts.radixPoint && opts.digits !== undefined && (isNaN(opts.digits) || parseInt(opts.digits) > 0)) {
                        var radixPos = $.inArray(opts.radixPoint, buffer);
                        if (-1 !== radixPos) return !0 === opts.numericInput ? pos === radixPos : {
                            caret: radixPos + 1
                        };
                    }
                    return !0;
                },
                postValidation: function(buffer, currentResult, opts) {
                    var suffix = opts.suffix.split(""), prefix = opts.prefix.split("");
                    if (currentResult.pos === undefined && currentResult.caret !== undefined && !0 !== currentResult.dopost) return currentResult;
                    var caretPos = currentResult.caret !== undefined ? currentResult.caret : currentResult.pos, maskedValue = buffer.slice();
                    opts.numericInput && (caretPos = maskedValue.length - caretPos - 1, maskedValue = maskedValue.reverse());
                    var charAtPos = maskedValue[caretPos];
                    if (charAtPos === opts.groupSeparator && (charAtPos = maskedValue[caretPos += 1]), 
                    caretPos === maskedValue.length - opts.suffix.length - 1 && charAtPos === opts.radixPoint) return currentResult;
                    charAtPos !== undefined && charAtPos !== opts.radixPoint && charAtPos !== opts.negationSymbol.front && charAtPos !== opts.negationSymbol.back && (maskedValue[caretPos] = "?", 
                    opts.prefix.length > 0 && caretPos >= (!1 === opts.isNegative ? 1 : 0) && caretPos < opts.prefix.length - 1 + (!1 === opts.isNegative ? 1 : 0) ? prefix[caretPos - (!1 === opts.isNegative ? 1 : 0)] = "?" : opts.suffix.length > 0 && caretPos >= maskedValue.length - opts.suffix.length - (!1 === opts.isNegative ? 1 : 0) && (suffix[caretPos - (maskedValue.length - opts.suffix.length - (!1 === opts.isNegative ? 1 : 0))] = "?")), 
                    prefix = prefix.join(""), suffix = suffix.join("");
                    var processValue = maskedValue.join("").replace(prefix, "");
                    if (processValue = processValue.replace(suffix, ""), processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), ""), 
                    processValue = processValue.replace(new RegExp("[-" + Inputmask.escapeRegex(opts.negationSymbol.front) + "]", "g"), ""), 
                    processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back) + "$"), ""), 
                    isNaN(opts.placeholder) && (processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.placeholder), "g"), "")), 
                    processValue.length > 1 && 1 !== processValue.indexOf(opts.radixPoint) && ("0" === charAtPos && (processValue = processValue.replace(/^\?/g, "")), 
                    processValue = processValue.replace(/^0/g, "")), processValue.charAt(0) === opts.radixPoint && "" !== opts.radixPoint && !0 !== opts.numericInput && (processValue = "0" + processValue), 
                    "" !== processValue) {
                        if (processValue = processValue.split(""), (!opts.digitsOptional || opts.enforceDigitsOnBlur && "blur" === currentResult.event) && isFinite(opts.digits)) {
                            var radixPosition = $.inArray(opts.radixPoint, processValue), rpb = $.inArray(opts.radixPoint, maskedValue);
                            -1 === radixPosition && (processValue.push(opts.radixPoint), radixPosition = processValue.length - 1);
                            for (var i = 1; i <= opts.digits; i++) opts.digitsOptional && (!opts.enforceDigitsOnBlur || "blur" !== currentResult.event) || processValue[radixPosition + i] !== undefined && processValue[radixPosition + i] !== opts.placeholder.charAt(0) ? -1 !== rpb && maskedValue[rpb + i] !== undefined && (processValue[radixPosition + i] = processValue[radixPosition + i] || maskedValue[rpb + i]) : processValue[radixPosition + i] = currentResult.placeholder || opts.placeholder.charAt(0);
                        }
                        if (!0 !== opts.autoGroup || "" === opts.groupSeparator || charAtPos === opts.radixPoint && currentResult.pos === undefined && !currentResult.dopost) processValue = processValue.join(""); else {
                            var addRadix = processValue[processValue.length - 1] === opts.radixPoint && currentResult.c === opts.radixPoint;
                            processValue = Inputmask(function(buffer, opts) {
                                var postMask = "";
                                if (postMask += "(" + opts.groupSeparator + "*{" + opts.groupSize + "}){*}", "" !== opts.radixPoint) {
                                    var radixSplit = buffer.join("").split(opts.radixPoint);
                                    radixSplit[1] && (postMask += opts.radixPoint + "*{" + radixSplit[1].match(/^\d*\??\d*/)[0].length + "}");
                                }
                                return postMask;
                            }(processValue, opts), {
                                numericInput: !0,
                                jitMasking: !0,
                                definitions: {
                                    "*": {
                                        validator: "[0-9?]",
                                        cardinality: 1
                                    }
                                }
                            }).format(processValue.join("")), addRadix && (processValue += opts.radixPoint), 
                            processValue.charAt(0) === opts.groupSeparator && processValue.substr(1);
                        }
                    }
                    if (opts.isNegative && "blur" === currentResult.event && (opts.isNegative = "0" !== processValue), 
                    processValue = prefix + processValue, processValue += suffix, opts.isNegative && (processValue = opts.negationSymbol.front + processValue, 
                    processValue += opts.negationSymbol.back), processValue = processValue.split(""), 
                    charAtPos !== undefined) if (charAtPos !== opts.radixPoint && charAtPos !== opts.negationSymbol.front && charAtPos !== opts.negationSymbol.back) (caretPos = $.inArray("?", processValue)) > -1 ? processValue[caretPos] = charAtPos : caretPos = currentResult.caret || 0; else if (charAtPos === opts.radixPoint || charAtPos === opts.negationSymbol.front || charAtPos === opts.negationSymbol.back) {
                        var newCaretPos = $.inArray(charAtPos, processValue);
                        -1 !== newCaretPos && (caretPos = newCaretPos);
                    }
                    opts.numericInput && (caretPos = processValue.length - caretPos - 1, processValue = processValue.reverse());
                    var rslt = {
                        caret: charAtPos === undefined || currentResult.pos !== undefined ? caretPos + (opts.numericInput ? -1 : 1) : caretPos,
                        buffer: processValue,
                        refreshFromBuffer: currentResult.dopost || buffer.join("") !== processValue.join("")
                    };
                    return rslt.refreshFromBuffer ? rslt : currentResult;
                },
                onBeforeWrite: function(e, buffer, caretPos, opts) {
                    if (e) switch (e.type) {
                      case "keydown":
                        return opts.postValidation(buffer, {
                            caret: caretPos,
                            dopost: !0
                        }, opts);

                      case "blur":
                      case "checkval":
                        var unmasked;
                        if (function(opts) {
                            opts.parseMinMaxOptions === undefined && (null !== opts.min && (opts.min = opts.min.toString().replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), ""), 
                            "," === opts.radixPoint && (opts.min = opts.min.replace(opts.radixPoint, ".")), 
                            opts.min = isFinite(opts.min) ? parseFloat(opts.min) : NaN, isNaN(opts.min) && (opts.min = Number.MIN_VALUE)), 
                            null !== opts.max && (opts.max = opts.max.toString().replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), ""), 
                            "," === opts.radixPoint && (opts.max = opts.max.replace(opts.radixPoint, ".")), 
                            opts.max = isFinite(opts.max) ? parseFloat(opts.max) : NaN, isNaN(opts.max) && (opts.max = Number.MAX_VALUE)), 
                            opts.parseMinMaxOptions = "done");
                        }(opts), null !== opts.min || null !== opts.max) {
                            if (unmasked = opts.onUnMask(buffer.join(""), undefined, $.extend({}, opts, {
                                unmaskAsNumber: !0
                            })), null !== opts.min && unmasked < opts.min) return opts.isNegative = opts.min < 0, 
                            opts.postValidation(opts.min.toString().replace(".", opts.radixPoint).split(""), {
                                caret: caretPos,
                                dopost: !0,
                                placeholder: "0"
                            }, opts);
                            if (null !== opts.max && unmasked > opts.max) return opts.isNegative = opts.max < 0, 
                            opts.postValidation(opts.max.toString().replace(".", opts.radixPoint).split(""), {
                                caret: caretPos,
                                dopost: !0,
                                placeholder: "0"
                            }, opts);
                        }
                        return opts.postValidation(buffer, {
                            caret: caretPos,
                            placeholder: "0",
                            event: "blur"
                        }, opts);

                      case "_checkval":
                        return {
                            caret: caretPos
                        };
                    }
                },
                regex: {
                    integerPart: function(opts, emptyCheck) {
                        return emptyCheck ? new RegExp("[" + Inputmask.escapeRegex(opts.negationSymbol.front) + "+]?") : new RegExp("[" + Inputmask.escapeRegex(opts.negationSymbol.front) + "+]?\\d+");
                    },
                    integerNPart: function(opts) {
                        return new RegExp("[\\d" + Inputmask.escapeRegex(opts.groupSeparator) + Inputmask.escapeRegex(opts.placeholder.charAt(0)) + "]+");
                    }
                },
                definitions: {
                    "~": {
                        validator: function(chrs, maskset, pos, strict, opts, isSelection) {
                            var isValid = strict ? new RegExp("[0-9" + Inputmask.escapeRegex(opts.groupSeparator) + "]").test(chrs) : new RegExp("[0-9]").test(chrs);
                            if (!0 === isValid) {
                                if (!0 !== opts.numericInput && maskset.validPositions[pos] !== undefined && "~" === maskset.validPositions[pos].match.def && !isSelection) {
                                    var processValue = maskset.buffer.join(""), pvRadixSplit = (processValue = (processValue = processValue.replace(new RegExp("[-" + Inputmask.escapeRegex(opts.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back) + "$"), "")).split(opts.radixPoint);
                                    pvRadixSplit.length > 1 && (pvRadixSplit[1] = pvRadixSplit[1].replace(/0/g, opts.placeholder.charAt(0))), 
                                    "0" === pvRadixSplit[0] && (pvRadixSplit[0] = pvRadixSplit[0].replace(/0/g, opts.placeholder.charAt(0))), 
                                    processValue = pvRadixSplit[0] + opts.radixPoint + pvRadixSplit[1] || "";
                                    var bufferTemplate = maskset._buffer.join("");
                                    for (processValue === opts.radixPoint && (processValue = bufferTemplate); null === processValue.match(Inputmask.escapeRegex(bufferTemplate) + "$"); ) bufferTemplate = bufferTemplate.slice(1);
                                    isValid = (processValue = (processValue = processValue.replace(bufferTemplate, "")).split(""))[pos] === undefined ? {
                                        pos: pos,
                                        remove: pos
                                    } : {
                                        pos: pos
                                    };
                                }
                            } else strict || chrs !== opts.radixPoint || maskset.validPositions[pos - 1] !== undefined || (maskset.buffer[pos] = "0", 
                            isValid = {
                                pos: pos + 1
                            });
                            return isValid;
                        },
                        cardinality: 1
                    },
                    "+": {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            return opts.allowMinus && ("-" === chrs || chrs === opts.negationSymbol.front);
                        },
                        cardinality: 1,
                        placeholder: ""
                    },
                    "-": {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            return opts.allowMinus && chrs === opts.negationSymbol.back;
                        },
                        cardinality: 1,
                        placeholder: ""
                    },
                    ":": {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            var radix = "[" + Inputmask.escapeRegex(opts.radixPoint) + "]", isValid = new RegExp(radix).test(chrs);
                            return isValid && maskset.validPositions[pos] && maskset.validPositions[pos].match.placeholder === opts.radixPoint && (isValid = {
                                caret: pos + 1
                            }), isValid;
                        },
                        cardinality: 1,
                        placeholder: function(opts) {
                            return opts.radixPoint;
                        }
                    }
                },
                onUnMask: function(maskedValue, unmaskedValue, opts) {
                    if ("" === unmaskedValue && !0 === opts.nullable) return unmaskedValue;
                    var processValue = maskedValue.replace(opts.prefix, "");
                    return processValue = processValue.replace(opts.suffix, ""), processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), ""), 
                    "" !== opts.placeholder.charAt(0) && (processValue = processValue.replace(new RegExp(opts.placeholder.charAt(0), "g"), "0")), 
                    opts.unmaskAsNumber ? ("" !== opts.radixPoint && -1 !== processValue.indexOf(opts.radixPoint) && (processValue = processValue.replace(Inputmask.escapeRegex.call(this, opts.radixPoint), ".")), 
                    processValue = processValue.replace(new RegExp("^" + Inputmask.escapeRegex(opts.negationSymbol.front)), "-"), 
                    processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back) + "$"), ""), 
                    Number(processValue)) : processValue;
                },
                isComplete: function(buffer, opts) {
                    var maskedValue = buffer.join("");
                    if (buffer.slice().join("") !== maskedValue) return !1;
                    var processValue = maskedValue.replace(opts.prefix, "");
                    return processValue = processValue.replace(opts.suffix, ""), processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), ""), 
                    "," === opts.radixPoint && (processValue = processValue.replace(Inputmask.escapeRegex(opts.radixPoint), ".")), 
                    isFinite(processValue);
                },
                onBeforeMask: function(initialValue, opts) {
                    if (opts.isNegative = undefined, initialValue = initialValue.toString().charAt(initialValue.length - 1) === opts.radixPoint ? initialValue.toString().substr(0, initialValue.length - 1) : initialValue.toString(), 
                    "" !== opts.radixPoint && isFinite(initialValue)) {
                        var vs = initialValue.split("."), groupSize = "" !== opts.groupSeparator ? parseInt(opts.groupSize) : 0;
                        2 === vs.length && (vs[0].length > groupSize || vs[1].length > groupSize || vs[0].length <= groupSize && vs[1].length < groupSize) && (initialValue = initialValue.replace(".", opts.radixPoint));
                    }
                    var kommaMatches = initialValue.match(/,/g), dotMatches = initialValue.match(/\./g);
                    if (initialValue = dotMatches && kommaMatches ? dotMatches.length > kommaMatches.length ? (initialValue = initialValue.replace(/\./g, "")).replace(",", opts.radixPoint) : kommaMatches.length > dotMatches.length ? (initialValue = initialValue.replace(/,/g, "")).replace(".", opts.radixPoint) : initialValue.indexOf(".") < initialValue.indexOf(",") ? initialValue.replace(/\./g, "") : initialValue.replace(/,/g, "") : initialValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), ""), 
                    0 === opts.digits && (-1 !== initialValue.indexOf(".") ? initialValue = initialValue.substring(0, initialValue.indexOf(".")) : -1 !== initialValue.indexOf(",") && (initialValue = initialValue.substring(0, initialValue.indexOf(",")))), 
                    "" !== opts.radixPoint && isFinite(opts.digits) && -1 !== initialValue.indexOf(opts.radixPoint)) {
                        var decPart = initialValue.split(opts.radixPoint)[1].match(new RegExp("\\d*"))[0];
                        if (parseInt(opts.digits) < decPart.toString().length) {
                            var digitsFactor = Math.pow(10, parseInt(opts.digits));
                            initialValue = initialValue.replace(Inputmask.escapeRegex(opts.radixPoint), "."), 
                            initialValue = (initialValue = Math.round(parseFloat(initialValue) * digitsFactor) / digitsFactor).toString().replace(".", opts.radixPoint);
                        }
                    }
                    return initialValue;
                },
                canClearPosition: function(maskset, position, lvp, strict, opts) {
                    var vp = maskset.validPositions[position], canClear = vp.input !== opts.radixPoint || null !== maskset.validPositions[position].match.fn && !1 === opts.decimalProtect || vp.input === opts.radixPoint && maskset.validPositions[position + 1] && null === maskset.validPositions[position + 1].match.fn || isFinite(vp.input) || position === lvp || vp.input === opts.groupSeparator || vp.input === opts.negationSymbol.front || vp.input === opts.negationSymbol.back;
                    return !canClear || "+" !== vp.match.nativeDef && "-" !== vp.match.nativeDef || (opts.isNegative = !1), 
                    canClear;
                },
                onKeyDown: function(e, buffer, caretPos, opts) {
                    var $input = $(this);
                    if (e.ctrlKey) switch (e.keyCode) {
                      case Inputmask.keyCode.UP:
                        $input.val(parseFloat(this.inputmask.unmaskedvalue()) + parseInt(opts.step)), $input.trigger("setvalue");
                        break;

                      case Inputmask.keyCode.DOWN:
                        $input.val(parseFloat(this.inputmask.unmaskedvalue()) - parseInt(opts.step)), $input.trigger("setvalue");
                    }
                }
            },
            currency: {
                prefix: "$ ",
                groupSeparator: ",",
                alias: "numeric",
                placeholder: "0",
                autoGroup: !0,
                digits: 2,
                digitsOptional: !1,
                clearMaskOnLostFocus: !1
            },
            decimal: {
                alias: "numeric"
            },
            integer: {
                alias: "numeric",
                digits: 0,
                radixPoint: ""
            },
            percentage: {
                alias: "numeric",
                digits: 2,
                digitsOptional: !0,
                radixPoint: ".",
                placeholder: "0",
                autoGroup: !1,
                min: 0,
                max: 100,
                suffix: " %",
                allowMinus: !1
            }
        }), Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    "function" == typeof Symbol && Symbol.iterator;
    !function(factory) {
        __WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(0), __webpack_require__(1) ], 
        void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = factory) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function($, Inputmask) {
        function maskSort(a, b) {
            var maska = (a.mask || a).replace(/#/g, "9").replace(/\)/, "9").replace(/[+()#-]/g, ""), maskb = (b.mask || b).replace(/#/g, "9").replace(/\)/, "9").replace(/[+()#-]/g, ""), maskas = (a.mask || a).split("#")[0], maskbs = (b.mask || b).split("#")[0];
            return 0 === maskbs.indexOf(maskas) ? -1 : 0 === maskas.indexOf(maskbs) ? 1 : maska.localeCompare(maskb);
        }
        var analyseMaskBase = Inputmask.prototype.analyseMask;
        return Inputmask.prototype.analyseMask = function(mask, regexMask, opts) {
            function reduceVariations(masks, previousVariation, previousmaskGroup) {
                previousVariation = previousVariation || "", previousmaskGroup = previousmaskGroup || maskGroups, 
                "" !== previousVariation && (previousmaskGroup[previousVariation] = {});
                for (var variation = "", maskGroup = previousmaskGroup[previousVariation] || previousmaskGroup, i = masks.length - 1; i >= 0; i--) maskGroup[variation = (mask = masks[i].mask || masks[i]).substr(0, 1)] = maskGroup[variation] || [], 
                maskGroup[variation].unshift(mask.substr(1)), masks.splice(i, 1);
                for (var ndx in maskGroup) maskGroup[ndx].length > 500 && reduceVariations(maskGroup[ndx].slice(), ndx, maskGroup);
            }
            function rebuild(maskGroup) {
                var mask = "", submasks = [];
                for (var ndx in maskGroup) $.isArray(maskGroup[ndx]) ? 1 === maskGroup[ndx].length ? submasks.push(ndx + maskGroup[ndx]) : submasks.push(ndx + opts.groupmarker.start + maskGroup[ndx].join(opts.groupmarker.end + opts.alternatormarker + opts.groupmarker.start) + opts.groupmarker.end) : submasks.push(ndx + rebuild(maskGroup[ndx]));
                return 1 === submasks.length ? mask += submasks[0] : mask += opts.groupmarker.start + submasks.join(opts.groupmarker.end + opts.alternatormarker + opts.groupmarker.start) + opts.groupmarker.end, 
                mask;
            }
            var maskGroups = {};
            return opts.phoneCodes && (opts.phoneCodes && opts.phoneCodes.length > 1e3 && (reduceVariations((mask = mask.substr(1, mask.length - 2)).split(opts.groupmarker.end + opts.alternatormarker + opts.groupmarker.start)), 
            mask = rebuild(maskGroups)), mask = mask.replace(/9/g, "\\9")), analyseMaskBase.call(this, mask, regexMask, opts);
        }, Inputmask.extendAliases({
            abstractphone: {
                groupmarker: {
                    start: "<",
                    end: ">"
                },
                countrycode: "",
                phoneCodes: [],
                mask: function(opts) {
                    return opts.definitions = {
                        "#": Inputmask.prototype.definitions[9]
                    }, opts.phoneCodes.sort(maskSort);
                },
                keepStatic: !0,
                onBeforeMask: function(value, opts) {
                    var processedValue = value.replace(/^0{1,2}/, "").replace(/[\s]/g, "");
                    return (processedValue.indexOf(opts.countrycode) > 1 || -1 === processedValue.indexOf(opts.countrycode)) && (processedValue = "+" + opts.countrycode + processedValue), 
                    processedValue;
                },
                onUnMask: function(maskedValue, unmaskedValue, opts) {
                    return maskedValue.replace(/[()#-]/g, "");
                },
                inputmode: "tel"
            }
        }), Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    "function" == typeof Symbol && Symbol.iterator;
    !function(factory) {
        __WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(0), __webpack_require__(1) ], 
        void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = factory) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function($, Inputmask) {
        return Inputmask.extendAliases({
            Regex: {
                mask: "r",
                greedy: !1,
                repeat: "*",
                regex: null,
                regexTokens: null,
                tokenizer: /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,
                quantifierFilter: /[0-9]+[^,]/,
                isComplete: function(buffer, opts) {
                    return new RegExp(opts.regex, opts.casing ? "i" : "").test(buffer.join(""));
                },
                definitions: {
                    r: {
                        validator: function(chrs, maskset, pos, strict, opts) {
                            function RegexToken(isGroup, isQuantifier) {
                                this.matches = [], this.isGroup = isGroup || !1, this.isQuantifier = isQuantifier || !1, 
                                this.quantifier = {
                                    min: 1,
                                    max: 1
                                }, this.repeaterPart = void 0;
                            }
                            function validateRegexToken(token, fromGroup) {
                                var isvalid = !1;
                                fromGroup && (regexPart += "(", openGroupCount++);
                                for (var mndx = 0; mndx < token.matches.length; mndx++) {
                                    var matchToken = token.matches[mndx];
                                    if (!0 === matchToken.isGroup) isvalid = validateRegexToken(matchToken, !0); else if (!0 === matchToken.isQuantifier) {
                                        var crrntndx = $.inArray(matchToken, token.matches), matchGroup = token.matches[crrntndx - 1], regexPartBak = regexPart;
                                        if (isNaN(matchToken.quantifier.max)) {
                                            for (;matchToken.repeaterPart && matchToken.repeaterPart !== regexPart && matchToken.repeaterPart.length > regexPart.length && !(isvalid = validateRegexToken(matchGroup, !0)); ) ;
                                            (isvalid = isvalid || validateRegexToken(matchGroup, !0)) && (matchToken.repeaterPart = regexPart), 
                                            regexPart = regexPartBak + matchToken.quantifier.max;
                                        } else {
                                            for (var i = 0, qm = matchToken.quantifier.max - 1; i < qm && !(isvalid = validateRegexToken(matchGroup, !0)); i++) ;
                                            regexPart = regexPartBak + "{" + matchToken.quantifier.min + "," + matchToken.quantifier.max + "}";
                                        }
                                    } else if (void 0 !== matchToken.matches) for (var k = 0; k < matchToken.length && !(isvalid = validateRegexToken(matchToken[k], fromGroup)); k++) ; else {
                                        var testExp;
                                        if ("[" == matchToken.charAt(0)) {
                                            testExp = regexPart, testExp += matchToken;
                                            for (j = 0; j < openGroupCount; j++) testExp += ")";
                                            isvalid = (exp = new RegExp("^(" + testExp + ")$", opts.casing ? "i" : "")).test(bufferStr);
                                        } else for (var l = 0, tl = matchToken.length; l < tl; l++) if ("\\" !== matchToken.charAt(l)) {
                                            testExp = regexPart, testExp = (testExp += matchToken.substr(0, l + 1)).replace(/\|$/, "");
                                            for (var j = 0; j < openGroupCount; j++) testExp += ")";
                                            var exp = new RegExp("^(" + testExp + ")$", opts.casing ? "i" : "");
                                            if (isvalid = exp.test(bufferStr)) break;
                                        }
                                        regexPart += matchToken;
                                    }
                                    if (isvalid) break;
                                }
                                return fromGroup && (regexPart += ")", openGroupCount--), isvalid;
                            }
                            var bufferStr, groupToken, cbuffer = maskset.buffer.slice(), regexPart = "", isValid = !1, openGroupCount = 0;
                            null === opts.regexTokens && function() {
                                var match, m, currentToken = new RegexToken(), opengroups = [];
                                for (opts.regexTokens = []; match = opts.tokenizer.exec(opts.regex); ) switch ((m = match[0]).charAt(0)) {
                                  case "(":
                                    opengroups.push(new RegexToken(!0));
                                    break;

                                  case ")":
                                    groupToken = opengroups.pop(), opengroups.length > 0 ? opengroups[opengroups.length - 1].matches.push(groupToken) : currentToken.matches.push(groupToken);
                                    break;

                                  case "{":
                                  case "+":
                                  case "*":
                                    var quantifierToken = new RegexToken(!1, !0), mq = (m = m.replace(/[{}]/g, "")).split(","), mq0 = isNaN(mq[0]) ? mq[0] : parseInt(mq[0]), mq1 = 1 === mq.length ? mq0 : isNaN(mq[1]) ? mq[1] : parseInt(mq[1]);
                                    if (quantifierToken.quantifier = {
                                        min: mq0,
                                        max: mq1
                                    }, opengroups.length > 0) {
                                        var matches = opengroups[opengroups.length - 1].matches;
                                        (match = matches.pop()).isGroup || ((groupToken = new RegexToken(!0)).matches.push(match), 
                                        match = groupToken), matches.push(match), matches.push(quantifierToken);
                                    } else (match = currentToken.matches.pop()).isGroup || ((groupToken = new RegexToken(!0)).matches.push(match), 
                                    match = groupToken), currentToken.matches.push(match), currentToken.matches.push(quantifierToken);
                                    break;

                                  default:
                                    opengroups.length > 0 ? opengroups[opengroups.length - 1].matches.push(m) : currentToken.matches.push(m);
                                }
                                currentToken.matches.length > 0 && opts.regexTokens.push(currentToken);
                            }(), cbuffer.splice(pos, 0, chrs), bufferStr = cbuffer.join("");
                            for (var i = 0; i < opts.regexTokens.length; i++) {
                                var regexToken = opts.regexTokens[i];
                                if (isValid = validateRegexToken(regexToken, regexToken.isGroup)) break;
                            }
                            return isValid;
                        },
                        cardinality: 1
                    }
                }
            }
        }), Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__, _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    !function(factory) {
        __WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(2), __webpack_require__(1) ], 
        void 0 !== (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = factory) ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__) && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);
    }(function($, Inputmask) {
        return void 0 === $.fn.inputmask && ($.fn.inputmask = function(fn, options) {
            var nptmask, input = this[0];
            if (void 0 === options && (options = {}), "string" == typeof fn) switch (fn) {
              case "unmaskedvalue":
                return input && input.inputmask ? input.inputmask.unmaskedvalue() : $(input).val();

              case "remove":
                return this.each(function() {
                    this.inputmask && this.inputmask.remove();
                });

              case "getemptymask":
                return input && input.inputmask ? input.inputmask.getemptymask() : "";

              case "hasMaskedValue":
                return !(!input || !input.inputmask) && input.inputmask.hasMaskedValue();

              case "isComplete":
                return !input || !input.inputmask || input.inputmask.isComplete();

              case "getmetadata":
                return input && input.inputmask ? input.inputmask.getmetadata() : void 0;

              case "setvalue":
                $(input).val(options), input && void 0 === input.inputmask && $(input).triggerHandler("setvalue");
                break;

              case "option":
                if ("string" != typeof options) return this.each(function() {
                    if (void 0 !== this.inputmask) return this.inputmask.option(options);
                });
                if (input && void 0 !== input.inputmask) return input.inputmask.option(options);
                break;

              default:
                return options.alias = fn, nptmask = new Inputmask(options), this.each(function() {
                    nptmask.mask(this);
                });
            } else {
                if ("object" == (void 0 === fn ? "undefined" : _typeof(fn))) return nptmask = new Inputmask(fn), 
                void 0 === fn.mask && void 0 === fn.alias ? this.each(function() {
                    if (void 0 !== this.inputmask) return this.inputmask.option(fn);
                    nptmask.mask(this);
                }) : this.each(function() {
                    nptmask.mask(this);
                });
                if (void 0 === fn) return this.each(function() {
                    (nptmask = new Inputmask(options)).mask(this);
                });
            }
        }), $.fn.inputmask;
    });
} ]);
// jQuery Mask Plugin v1.14.15
// github.com/igorescobar/jQuery-Mask-Plugin
var $jscomp={scope:{},findInternal:function(a,l,d){a instanceof String&&(a=String(a));for(var p=a.length,h=0;h<p;h++){var b=a[h];if(l.call(d,b,h,a))return{i:h,v:b}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,l,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[l]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,l,d,p){if(l){d=$jscomp.global;a=a.split(".");for(p=0;p<a.length-1;p++){var h=a[p];h in d||(d[h]={});d=d[h]}a=a[a.length-1];p=d[a];l=l(p);l!=p&&null!=l&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:l})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
(function(a,l,d){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?module.exports=a(require("jquery")):a(l||d)})(function(a){var l=function(b,e,f){var c={invalid:[],getCaret:function(){try{var a,r=0,g=b.get(0),e=document.selection,f=g.selectionStart;if(e&&-1===navigator.appVersion.indexOf("MSIE 10"))a=e.createRange(),a.moveStart("character",-c.val().length),r=a.text.length;else if(f||"0"===f)r=f;return r}catch(C){}},setCaret:function(a){try{if(b.is(":focus")){var c,
g=b.get(0);g.setSelectionRange?g.setSelectionRange(a,a):(c=g.createTextRange(),c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select())}}catch(B){}},events:function(){b.on("keydown.mask",function(a){b.data("mask-keycode",a.keyCode||a.which);b.data("mask-previus-value",b.val());b.data("mask-previus-caret-pos",c.getCaret());c.maskDigitPosMapOld=c.maskDigitPosMap}).on(a.jMaskGlobals.useInput?"input.mask":"keyup.mask",c.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){b.keydown().keyup()},
100)}).on("change.mask",function(){b.data("changed",!0)}).on("blur.mask",function(){d===c.val()||b.data("changed")||b.trigger("change");b.data("changed",!1)}).on("blur.mask",function(){d=c.val()}).on("focus.mask",function(b){!0===f.selectOnFocus&&a(b.target).select()}).on("focusout.mask",function(){f.clearIfNotMatch&&!h.test(c.val())&&c.val("")})},getRegexMask:function(){for(var a=[],b,c,f,n,d=0;d<e.length;d++)(b=m.translation[e.charAt(d)])?(c=b.pattern.toString().replace(/.{1}$|^.{1}/g,""),f=b.optional,
(b=b.recursive)?(a.push(e.charAt(d)),n={digit:e.charAt(d),pattern:c}):a.push(f||b?c+"?":c)):a.push(e.charAt(d).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));a=a.join("");n&&(a=a.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern));return new RegExp(a)},destroyEvents:function(){b.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(a){var c=b.is("input")?"val":"text";if(0<arguments.length){if(b[c]()!==a)b[c](a);
c=b}else c=b[c]();return c},calculateCaretPosition:function(){var a=b.data("mask-previus-value")||"",e=c.getMasked(),g=c.getCaret();if(a!==e){var f=b.data("mask-previus-caret-pos")||0,e=e.length,d=a.length,m=a=0,h=0,l=0,k;for(k=g;k<e&&c.maskDigitPosMap[k];k++)m++;for(k=g-1;0<=k&&c.maskDigitPosMap[k];k--)a++;for(k=g-1;0<=k;k--)c.maskDigitPosMap[k]&&h++;for(k=f-1;0<=k;k--)c.maskDigitPosMapOld[k]&&l++;g>d?g=10*e:f>=g&&f!==d?c.maskDigitPosMapOld[g]||(f=g,g=g-(l-h)-a,c.maskDigitPosMap[g]&&(g=f)):g>f&&
(g=g+(h-l)+m)}return g},behaviour:function(f){f=f||window.event;c.invalid=[];var e=b.data("mask-keycode");if(-1===a.inArray(e,m.byPassKeys)){var e=c.getMasked(),g=c.getCaret();setTimeout(function(){c.setCaret(c.calculateCaretPosition())},a.jMaskGlobals.keyStrokeCompensation);c.val(e);c.setCaret(g);return c.callbacks(f)}},getMasked:function(a,b){var g=[],d=void 0===b?c.val():b+"",n=0,h=e.length,q=0,l=d.length,k=1,r="push",p=-1,t=0,y=[],v,z;f.reverse?(r="unshift",k=-1,v=0,n=h-1,q=l-1,z=function(){return-1<
n&&-1<q}):(v=h-1,z=function(){return n<h&&q<l});for(var A;z();){var x=e.charAt(n),w=d.charAt(q),u=m.translation[x];if(u)w.match(u.pattern)?(g[r](w),u.recursive&&(-1===p?p=n:n===v&&n!==p&&(n=p-k),v===p&&(n-=k)),n+=k):w===A?(t--,A=void 0):u.optional?(n+=k,q-=k):u.fallback?(g[r](u.fallback),n+=k,q-=k):c.invalid.push({p:q,v:w,e:u.pattern}),q+=k;else{if(!a)g[r](x);w===x?(y.push(q),q+=k):(A=x,y.push(q+t),t++);n+=k}}d=e.charAt(v);h!==l+1||m.translation[d]||g.push(d);g=g.join("");c.mapMaskdigitPositions(g,
y,l);return g},mapMaskdigitPositions:function(a,b,e){a=f.reverse?a.length-e:0;c.maskDigitPosMap={};for(e=0;e<b.length;e++)c.maskDigitPosMap[b[e]+a]=1},callbacks:function(a){var h=c.val(),g=h!==d,m=[h,a,b,f],q=function(a,b,c){"function"===typeof f[a]&&b&&f[a].apply(this,c)};q("onChange",!0===g,m);q("onKeyPress",!0===g,m);q("onComplete",h.length===e.length,m);q("onInvalid",0<c.invalid.length,[h,a,b,c.invalid,f])}};b=a(b);var m=this,d=c.val(),h;e="function"===typeof e?e(c.val(),void 0,b,f):e;m.mask=
e;m.options=f;m.remove=function(){var a=c.getCaret();m.options.placeholder&&b.removeAttr("placeholder");b.data("mask-maxlength")&&b.removeAttr("maxlength");c.destroyEvents();c.val(m.getCleanVal());c.setCaret(a);return b};m.getCleanVal=function(){return c.getMasked(!0)};m.getMaskedVal=function(a){return c.getMasked(!1,a)};m.init=function(d){d=d||!1;f=f||{};m.clearIfNotMatch=a.jMaskGlobals.clearIfNotMatch;m.byPassKeys=a.jMaskGlobals.byPassKeys;m.translation=a.extend({},a.jMaskGlobals.translation,f.translation);
m=a.extend(!0,{},m,f);h=c.getRegexMask();if(d)c.events(),c.val(c.getMasked());else{f.placeholder&&b.attr("placeholder",f.placeholder);b.data("mask")&&b.attr("autocomplete","off");d=0;for(var l=!0;d<e.length;d++){var g=m.translation[e.charAt(d)];if(g&&g.recursive){l=!1;break}}l&&b.attr("maxlength",e.length).data("mask-maxlength",!0);c.destroyEvents();c.events();d=c.getCaret();c.val(c.getMasked());c.setCaret(d)}};m.init(!b.is("input"))};a.maskWatchers={};var d=function(){var b=a(this),e={},f=b.attr("data-mask");
b.attr("data-mask-reverse")&&(e.reverse=!0);b.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0);"true"===b.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0);if(p(b,f,e))return b.data("mask",new l(this,f,e))},p=function(b,e,f){f=f||{};var c=a(b).data("mask"),d=JSON.stringify;b=a(b).val()||a(b).text();try{return"function"===typeof e&&(e=e(b)),"object"!==typeof c||d(c.options)!==d(f)||c.mask!==e}catch(t){}},h=function(a){var b=document.createElement("div"),d;a="on"+a;d=a in b;d||(b.setAttribute(a,
"return;"),d="function"===typeof b[a]);return d};a.fn.mask=function(b,d){d=d||{};var e=this.selector,c=a.jMaskGlobals,h=c.watchInterval,c=d.watchInputs||c.watchInputs,t=function(){if(p(this,b,d))return a(this).data("mask",new l(this,b,d))};a(this).each(t);e&&""!==e&&c&&(clearInterval(a.maskWatchers[e]),a.maskWatchers[e]=setInterval(function(){a(document).find(e).each(t)},h));return this};a.fn.masked=function(a){return this.data("mask").getMaskedVal(a)};a.fn.unmask=function(){clearInterval(a.maskWatchers[this.selector]);
delete a.maskWatchers[this.selector];return this.each(function(){var b=a(this).data("mask");b&&b.remove().removeData("mask")})};a.fn.cleanVal=function(){return this.data("mask").getCleanVal()};a.applyDataMask=function(b){b=b||a.jMaskGlobals.maskElements;(b instanceof a?b:a(b)).filter(a.jMaskGlobals.dataMaskAttr).each(d)};h={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&
h("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{};h=a.jMaskGlobals=a.extend(!0,{},h,a.jMaskGlobals);h.dataMask&&a.applyDataMask();setInterval(function(){a.jMaskGlobals.watchDataMask&&a.applyDataMask()},h.watchInterval)},window.jQuery,window.Zepto);

/**
 * Copyright (c) 2007-2015 Ariel Flesler - aflesler 0 gmail  com | http://flesler.blogspot.com
 * Licensed under MIT
 * @author Ariel Flesler
 * @version 2.1.3
 */
;(function(f){"use strict";"function"===typeof define&&define.amd?define(["jquery"],f):"undefined"!==typeof module&&module.exports?module.exports=f(require("jquery")):f(jQuery)})(function($){"use strict";function n(a){return!a.nodeName||-1!==$.inArray(a.nodeName.toLowerCase(),["iframe","#document","html","body"])}function h(a){return $.isFunction(a)||$.isPlainObject(a)?a:{top:a,left:a}}var p=$.scrollTo=function(a,d,b){return $(window).scrollTo(a,d,b)};p.defaults={axis:"xy",duration:0,limit:!0};$.fn.scrollTo=function(a,d,b){"object"=== typeof d&&(b=d,d=0);"function"===typeof b&&(b={onAfter:b});"max"===a&&(a=9E9);b=$.extend({},p.defaults,b);d=d||b.duration;var u=b.queue&&1<b.axis.length;u&&(d/=2);b.offset=h(b.offset);b.over=h(b.over);return this.each(function(){function k(a){var k=$.extend({},b,{queue:!0,duration:d,complete:a&&function(){a.call(q,e,b)}});r.animate(f,k)}if(null!==a){var l=n(this),q=l?this.contentWindow||window:this,r=$(q),e=a,f={},t;switch(typeof e){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(e)){e= h(e);break}e=l?$(e):$(e,q);case "object":if(e.length===0)return;if(e.is||e.style)t=(e=$(e)).offset()}var v=$.isFunction(b.offset)&&b.offset(q,e)||b.offset;$.each(b.axis.split(""),function(a,c){var d="x"===c?"Left":"Top",m=d.toLowerCase(),g="scroll"+d,h=r[g](),n=p.max(q,c);t?(f[g]=t[m]+(l?0:h-r.offset()[m]),b.margin&&(f[g]-=parseInt(e.css("margin"+d),10)||0,f[g]-=parseInt(e.css("border"+d+"Width"),10)||0),f[g]+=v[m]||0,b.over[m]&&(f[g]+=e["x"===c?"width":"height"]()*b.over[m])):(d=e[m],f[g]=d.slice&& "%"===d.slice(-1)?parseFloat(d)/100*n:d);b.limit&&/^\d+$/.test(f[g])&&(f[g]=0>=f[g]?0:Math.min(f[g],n));!a&&1<b.axis.length&&(h===f[g]?f={}:u&&(k(b.onAfterFirst),f={}))});k(b.onAfter)}})};p.max=function(a,d){var b="x"===d?"Width":"Height",h="scroll"+b;if(!n(a))return a[h]-$(a)[b.toLowerCase()]();var b="client"+b,k=a.ownerDocument||a.document,l=k.documentElement,k=k.body;return Math.max(l[h],k[h])-Math.min(l[b],k[b])};$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(a){return $(a.elem)[a.prop]()}, set:function(a){var d=this.get(a);if(a.options.interrupt&&a._last&&a._last!==d)return $(a.elem).stop();var b=Math.round(a.now);d!==b&&($(a.elem)[a.prop](b),a._last=this.get(a))}};return p});
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.2 (modified for fullpage.js)
 *
 */
(function(f){jQuery.fn.extend({slimScroll:function(g){var a=f.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},g);this.each(function(){function s(d){d=d||window.event;
var c=0;d.wheelDelta&&(c=-d.wheelDelta/120);d.detail&&(c=d.detail/3);f(d.target||d.srcTarget||d.srcElement).closest("."+a.wrapperClass).is(b.parent())&&m(c,!0);d.preventDefault&&!k&&d.preventDefault();k||(d.returnValue=!1)}function m(d,f,g){k=!1;var e=d,h=b.outerHeight()-c.outerHeight();f&&(e=parseInt(c.css("top"))+d*parseInt(a.wheelStep)/100*c.outerHeight(),e=Math.min(Math.max(e,0),h),e=0<d?Math.ceil(e):Math.floor(e),c.css({top:e+"px"}));l=parseInt(c.css("top"))/(b.outerHeight()-c.outerHeight());
e=l*(b[0].scrollHeight-b.outerHeight());g&&(e=d,d=e/b[0].scrollHeight*b.outerHeight(),d=Math.min(Math.max(d,0),h),c.css({top:d+"px"}));b.scrollTop(e);b.trigger("slimscrolling",~~e);u();p()}function C(){window.addEventListener?(this.addEventListener("DOMMouseScroll",s,!1),this.addEventListener("mousewheel",s,!1)):document.attachEvent("onmousewheel",s)}function v(){r=Math.max(b.outerHeight()/b[0].scrollHeight*b.outerHeight(),D);c.css({height:r+"px"});var a=r==b.outerHeight()?"none":"block";c.css({display:a})}
function u(){v();clearTimeout(A);l==~~l?(k=a.allowPageScroll,B!=l&&b.trigger("slimscroll",0==~~l?"top":"bottom")):k=!1;B=l;r>=b.outerHeight()?k=!0:(c.stop(!0,!0).fadeIn("fast"),a.railVisible&&h.stop(!0,!0).fadeIn("fast"))}function p(){a.alwaysVisible||(A=setTimeout(function(){a.disableFadeOut&&w||x||y||(c.fadeOut("slow"),h.fadeOut("slow"))},1E3))}var w,x,y,A,z,r,l,B,D=30,k=!1,b=f(this);if(b.parent().hasClass(a.wrapperClass)){var n=b.scrollTop(),c=b.parent().find("."+a.barClass),h=b.parent().find("."+
a.railClass);v();if(f.isPlainObject(g)){if("height"in g&&"auto"==g.height){b.parent().css("height","auto");b.css("height","auto");var q=b.parent().parent().height();b.parent().css("height",q);b.css("height",q)}if("scrollTo"in g)n=parseInt(a.scrollTo);else if("scrollBy"in g)n+=parseInt(a.scrollBy);else if("destroy"in g){c.remove();h.remove();b.unwrap();return}m(n,!1,!0)}}else{a.height="auto"==g.height?b.parent().height():g.height;n=f("<div></div>").addClass(a.wrapperClass).css({position:"relative",
overflow:"hidden",width:a.width,height:a.height});b.css({overflow:"hidden",width:a.width,height:a.height});var h=f("<div></div>").addClass(a.railClass).css({width:a.size,height:"100%",position:"absolute",top:0,display:a.alwaysVisible&&a.railVisible?"block":"none","border-radius":a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),c=f("<div></div>").addClass(a.barClass).css({background:a.color,width:a.size,position:"absolute",top:0,opacity:a.opacity,display:a.alwaysVisible?
"block":"none","border-radius":a.borderRadius,BorderRadius:a.borderRadius,MozBorderRadius:a.borderRadius,WebkitBorderRadius:a.borderRadius,zIndex:99}),q="right"==a.position?{right:a.distance}:{left:a.distance};h.css(q);c.css(q);b.wrap(n);b.parent().append(c);b.parent().append(h);a.railDraggable&&c.bind("mousedown",function(a){var b=f(document);y=!0;t=parseFloat(c.css("top"));pageY=a.pageY;b.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY;c.css("top",currTop);m(0,c.position().top,!1)});
b.bind("mouseup.slimscroll",function(a){y=!1;p();b.unbind(".slimscroll")});return!1}).bind("selectstart.slimscroll",function(a){a.stopPropagation();a.preventDefault();return!1});h.hover(function(){u()},function(){p()});c.hover(function(){x=!0},function(){x=!1});b.hover(function(){w=!0;u();p()},function(){w=!1;p()});b.bind("touchstart",function(a,b){a.originalEvent.touches.length&&(z=a.originalEvent.touches[0].pageY)});b.bind("touchmove",function(b){k||b.originalEvent.preventDefault();b.originalEvent.touches.length&&
(m((z-b.originalEvent.touches[0].pageY)/a.touchScrollStep,!0),z=b.originalEvent.touches[0].pageY)});v();"bottom"===a.start?(c.css({top:b.outerHeight()-c.outerHeight()}),m(0,!0)):"top"!==a.start&&(m(f(a.start).position().top,null,!0),a.alwaysVisible||c.hide());C()}});return this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);
/*! lg-fullscreen - v1.0.0 - 2016-09-20
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2016 Sachin N; Licensed GPLv3 */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){!function(a,b,c,d){"use strict";var e={fullScreen:!0},f=function(b){return this.core=a(b).data("lightGallery"),this.$el=a(b),this.core.s=a.extend({},e,this.core.s),this.init(),this};f.prototype.init=function(){var a="";if(this.core.s.fullScreen){if(!(c.fullscreenEnabled||c.webkitFullscreenEnabled||c.mozFullScreenEnabled||c.msFullscreenEnabled))return;a='<span class="lg-fullscreen lg-icon"></span>',this.core.$outer.find(".lg-toolbar").append(a),this.fullScreen()}},f.prototype.requestFullscreen=function(){var a=c.documentElement;a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()},f.prototype.exitFullscreen=function(){c.exitFullscreen?c.exitFullscreen():c.msExitFullscreen?c.msExitFullscreen():c.mozCancelFullScreen?c.mozCancelFullScreen():c.webkitExitFullscreen&&c.webkitExitFullscreen()},f.prototype.fullScreen=function(){var b=this;a(c).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){b.core.$outer.toggleClass("lg-fullscreen-on")}),this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement||c.msFullscreenElement?b.exitFullscreen():b.requestFullscreen()})},f.prototype.destroy=function(){this.exitFullscreen(),a(c).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")},a.fn.lightGallery.modules.fullscreen=f}(jQuery,window,document)});
/*! lg-thumbnail - v1.0.0 - 2016-09-20
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2016 Sachin N; Licensed GPLv3 */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){!function(a,b,c,d){"use strict";var e={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},f=function(b){return this.core=a(b).data("lightGallery"),this.core.s=a.extend({},e,this.core.s),this.$el=a(b),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};f.prototype.init=function(){var a=this;this.core.s.thumbnail&&this.core.$items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){a.core.$outer.addClass("lg-thumb-open")},700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},f.prototype.build=function(){function c(a,b,c){var d,h=e.core.isVideo(a,c)||{},i="";h.youtube||h.vimeo||h.dailymotion?h.youtube?d=e.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+h.youtube[1]+"/"+e.core.s.youtubeThumbSize+".jpg":b:h.vimeo?e.core.s.loadVimeoThumbnail?(d="//i.vimeocdn.com/video/error_"+g+".jpg",i=h.vimeo[1]):d=b:h.dailymotion&&(d=e.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+h.dailymotion[1]:b):d=b,f+='<div data-vimeo-id="'+i+'" class="lg-thumb-item" style="width:'+e.core.s.thumbWidth+"px; margin-right: "+e.core.s.thumbMargin+'px"><img src="'+d+'" /></div>',i=""}var d,e=this,f="",g="",h='<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":g="640";break;case"thumbnail_medium":g="200x150";break;case"thumbnail_small":g="100x75"}if(e.core.$outer.addClass("lg-has-thumb"),e.core.$outer.find(".lg").append(h),e.$thumbOuter=e.core.$outer.find(".lg-thumb-outer"),e.thumbOuterWidth=e.$thumbOuter.width(),e.core.s.animateThumb&&e.core.$outer.find(".lg-thumb").css({width:e.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&e.$thumbOuter.css("height",e.core.s.thumbContHeight+"px"),e.core.s.dynamic)for(var i=0;i<e.core.s.dynamicEl.length;i++)c(e.core.s.dynamicEl[i].src,e.core.s.dynamicEl[i].thumb,i);else e.core.$items.each(function(b){e.core.s.exThumbImage?c(a(this).attr("href")||a(this).attr("data-src"),a(this).attr(e.core.s.exThumbImage),b):c(a(this).attr("href")||a(this).attr("data-src"),a(this).find("img").attr("src"),b)});e.core.$outer.find(".lg-thumb").html(f),d=e.core.$outer.find(".lg-thumb-item"),d.each(function(){var b=a(this),c=b.attr("data-vimeo-id");c&&a.getJSON("//www.vimeo.com/api/v2/video/"+c+".json?callback=?",{format:"json"},function(a){b.find("img").attr("src",a[0][e.core.s.vimeoThumbSize])})}),d.eq(e.core.index).addClass("active"),e.core.$el.on("onBeforeSlide.lg.tm",function(){d.removeClass("active"),d.eq(e.core.index).addClass("active")}),d.on("click.lg touchend.lg",function(){var b=a(this);setTimeout(function(){(e.thumbClickable&&!e.core.lgBusy||!e.core.doCss())&&(e.core.index=b.index(),e.core.slide(e.core.index,!1,!0))},50)}),e.core.$el.on("onBeforeSlide.lg.tm",function(){e.animateThumb(e.core.index)}),a(b).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){e.animateThumb(e.core.index),e.thumbOuterWidth=e.$thumbOuter.width()},200)})},f.prototype.setTranslate=function(a){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+a+"px, 0px, 0px)"})},f.prototype.animateThumb=function(a){var b=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var c;switch(this.core.s.currentPagerPosition){case"left":c=0;break;case"middle":c=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":c=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*a-1-c,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(b.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||b.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||b.css("left",-this.left+"px"),this.setTranslate(this.left)}},f.prototype.enableThumbDrag=function(){var c=this,d=0,e=0,f=!1,g=!1,h=0;c.$thumbOuter.addClass("lg-grab"),c.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(a){c.thumbTotalWidth>c.thumbOuterWidth&&(a.preventDefault(),d=a.pageX,f=!0,c.core.$outer.scrollLeft+=1,c.core.$outer.scrollLeft-=1,c.thumbClickable=!1,c.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),a(b).on("mousemove.lg.thumb",function(a){f&&(h=c.left,g=!0,e=a.pageX,c.$thumbOuter.addClass("lg-dragging"),h-=e-d,h>c.thumbTotalWidth-c.thumbOuterWidth&&(h=c.thumbTotalWidth-c.thumbOuterWidth),h<0&&(h=0),c.setTranslate(h))}),a(b).on("mouseup.lg.thumb",function(){g?(g=!1,c.$thumbOuter.removeClass("lg-dragging"),c.left=h,Math.abs(e-d)<c.core.s.swipeThreshold&&(c.thumbClickable=!0)):c.thumbClickable=!0,f&&(f=!1,c.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})},f.prototype.enableThumbSwipe=function(){var a=this,b=0,c=0,d=!1,e=0;a.core.$outer.find(".lg-thumb").on("touchstart.lg",function(c){a.thumbTotalWidth>a.thumbOuterWidth&&(c.preventDefault(),b=c.originalEvent.targetTouches[0].pageX,a.thumbClickable=!1)}),a.core.$outer.find(".lg-thumb").on("touchmove.lg",function(f){a.thumbTotalWidth>a.thumbOuterWidth&&(f.preventDefault(),c=f.originalEvent.targetTouches[0].pageX,d=!0,a.$thumbOuter.addClass("lg-dragging"),e=a.left,e-=c-b,e>a.thumbTotalWidth-a.thumbOuterWidth&&(e=a.thumbTotalWidth-a.thumbOuterWidth),e<0&&(e=0),a.setTranslate(e))}),a.core.$outer.find(".lg-thumb").on("touchend.lg",function(){a.thumbTotalWidth>a.thumbOuterWidth&&d?(d=!1,a.$thumbOuter.removeClass("lg-dragging"),Math.abs(c-b)<a.core.s.swipeThreshold&&(a.thumbClickable=!0),a.left=e):a.thumbClickable=!0})},f.prototype.toogle=function(){var a=this;a.core.s.toogleThumb&&(a.core.$outer.addClass("lg-can-toggle"),a.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>'),a.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){a.core.$outer.toggleClass("lg-thumb-open")}))},f.prototype.thumbkeyPress=function(){var c=this;a(b).on("keydown.lg.thumb",function(a){38===a.keyCode?(a.preventDefault(),c.core.$outer.addClass("lg-thumb-open")):40===a.keyCode&&(a.preventDefault(),c.core.$outer.removeClass("lg-thumb-open"))})},f.prototype.destroy=function(){this.core.s.thumbnail&&this.core.$items.length>1&&(a(b).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))},a.fn.lightGallery.modules.Thumbnail=f}(jQuery,window,document)});
/* Modernizr 2.0.6 (Custom Build) | MIT & BSD
 * Build: http://www.modernizr.com/download/#-csstransforms-csstransforms3d-csstransitions-iepp-cssclasses-teststyles-testprop-testallprops-prefixes-domprefixes-load
 */
;window.Modernizr=function(a,b,c){function C(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+o.join(c+" ")+c).split(" ");return B(d,b)}function B(a,b){for(var d in a)if(k[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function A(a,b){return!!~(""+a).indexOf(b)}function z(a,b){return typeof a===b}function y(a,b){return x(n.join(a+";")+(b||""))}function x(a){k.cssText=a}var d="2.0.6",e={},f=!0,g=b.documentElement,h=b.head||b.getElementsByTagName("head")[0],i="modernizr",j=b.createElement(i),k=j.style,l,m=Object.prototype.toString,n=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),o="Webkit Moz O ms Khtml".split(" "),p={},q={},r={},s=[],t=function(a,c,d,e){var f,h,j,k=b.createElement("div");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:i+(d+1),k.appendChild(j);f=["&shy;","<style>",a,"</style>"].join(""),k.id=i,k.innerHTML+=f,g.appendChild(k),h=c(k,a),k.parentNode.removeChild(k);return!!h},u,v={}.hasOwnProperty,w;!z(v,c)&&!z(v.call,c)?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],c)};var D=function(a,c){var d=a.join(""),f=c.length;t(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],g=d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"",h=a.childNodes,i={};while(f--)i[h[f].id]=h[f];e.csstransforms3d=i.csstransforms3d.offsetLeft===9},f,c)}([,["@media (",n.join("transform-3d),("),i,")","{#csstransforms3d{left:9px;position:absolute}}"].join("")],[,"csstransforms3d"]);p.csstransforms=function(){return!!B(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},p.csstransforms3d=function(){var a=!!B(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in g.style&&(a=e.csstransforms3d);return a},p.csstransitions=function(){return C("transitionProperty")};for(var E in p)w(p,E)&&(u=E.toLowerCase(),e[u]=p[E](),s.push((e[u]?"":"no-")+u));x(""),j=l=null,a.attachEvent&&function(){var a=b.createElement("div");a.innerHTML="<elem></elem>";return a.childNodes.length!==1}()&&function(a,b){function s(a){var b=-1;while(++b<g)a.createElement(f[b])}a.iepp=a.iepp||{};var d=a.iepp,e=d.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",f=e.split("|"),g=f.length,h=new RegExp("(^|\\s)("+e+")","gi"),i=new RegExp("<(/*)("+e+")","gi"),j=/^\s*[\{\}]\s*$/,k=new RegExp("(^|[^\\n]*?\\s)("+e+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),l=b.createDocumentFragment(),m=b.documentElement,n=m.firstChild,o=b.createElement("body"),p=b.createElement("style"),q=/print|all/,r;d.getCSS=function(a,b){if(a+""===c)return"";var e=-1,f=a.length,g,h=[];while(++e<f){g=a[e];if(g.disabled)continue;b=g.media||b,q.test(b)&&h.push(d.getCSS(g.imports,b),g.cssText),b="all"}return h.join("")},d.parseCSS=function(a){var b=[],c;while((c=k.exec(a))!=null)b.push(((j.exec(c[1])?"\n":c[1])+c[2]+c[3]).replace(h,"$1.iepp_$2")+c[4]);return b.join("\n")},d.writeHTML=function(){var a=-1;r=r||b.body;while(++a<g){var c=b.getElementsByTagName(f[a]),d=c.length,e=-1;while(++e<d)c[e].className.indexOf("iepp_")<0&&(c[e].className+=" iepp_"+f[a])}l.appendChild(r),m.appendChild(o),o.className=r.className,o.id=r.id,o.innerHTML=r.innerHTML.replace(i,"<$1font")},d._beforePrint=function(){p.styleSheet.cssText=d.parseCSS(d.getCSS(b.styleSheets,"all")),d.writeHTML()},d.restoreHTML=function(){o.innerHTML="",m.removeChild(o),m.appendChild(r)},d._afterPrint=function(){d.restoreHTML(),p.styleSheet.cssText=""},s(b),s(l);d.disablePP||(n.insertBefore(p,n.firstChild),p.media="print",p.className="iepp-printshim",a.attachEvent("onbeforeprint",d._beforePrint),a.attachEvent("onafterprint",d._afterPrint))}(a,b),e._version=d,e._prefixes=n,e._domPrefixes=o,e.testProp=function(a){return B([a])},e.testAllProps=C,e.testStyles=t,g.className=g.className.replace(/\bno-js\b/,"")+(f?" js "+s.join(" "):"");return e}(this,this.document),function(a,b,c){function k(a){return!a||a=="loaded"||a=="complete"}function j(){var a=1,b=-1;while(p.length- ++b)if(p[b].s&&!(a=p[b].r))break;a&&g()}function i(a){var c=b.createElement("script"),d;c.src=a.s,c.onreadystatechange=c.onload=function(){!d&&k(c.readyState)&&(d=1,j(),c.onload=c.onreadystatechange=null)},m(function(){d||(d=1,j())},H.errorTimeout),a.e?c.onload():n.parentNode.insertBefore(c,n)}function h(a){var c=b.createElement("link"),d;c.href=a.s,c.rel="stylesheet",c.type="text/css";if(!a.e&&(w||r)){var e=function(a){m(function(){if(!d)try{a.sheet.cssRules.length?(d=1,j()):e(a)}catch(b){b.code==1e3||b.message=="security"||b.message=="denied"?(d=1,m(function(){j()},0)):e(a)}},0)};e(c)}else c.onload=function(){d||(d=1,m(function(){j()},0))},a.e&&c.onload();m(function(){d||(d=1,j())},H.errorTimeout),!a.e&&n.parentNode.insertBefore(c,n)}function g(){var a=p.shift();q=1,a?a.t?m(function(){a.t=="c"?h(a):i(a)},0):(a(),j()):q=0}function f(a,c,d,e,f,h){function i(){!o&&k(l.readyState)&&(r.r=o=1,!q&&j(),l.onload=l.onreadystatechange=null,m(function(){u.removeChild(l)},0))}var l=b.createElement(a),o=0,r={t:d,s:c,e:h};l.src=l.data=c,!s&&(l.style.display="none"),l.width=l.height="0",a!="object"&&(l.type=d),l.onload=l.onreadystatechange=i,a=="img"?l.onerror=i:a=="script"&&(l.onerror=function(){r.e=r.r=1,g()}),p.splice(e,0,r),u.insertBefore(l,s?null:n),m(function(){o||(u.removeChild(l),r.r=r.e=o=1,j())},H.errorTimeout)}function e(a,b,c){var d=b=="c"?z:y;q=0,b=b||"j",C(a)?f(d,a,b,this.i++,l,c):(p.splice(this.i++,0,a),p.length==1&&g());return this}function d(){var a=H;a.loader={load:e,i:0};return a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=r&&!s,u=s?l:n.parentNode,v=a.opera&&o.call(a.opera)=="[object Opera]",w="webkitAppearance"in l.style,x=w&&"async"in b.createElement("script"),y=r?"object":v||x?"img":"script",z=w?"img":y,A=Array.isArray||function(a){return o.call(a)=="[object Array]"},B=function(a){return Object(a)===a},C=function(a){return typeof a=="string"},D=function(a){return o.call(a)=="[object Function]"},E=[],F={},G,H;H=function(a){function f(a){var b=a.split("!"),c=E.length,d=b.pop(),e=b.length,f={url:d,origUrl:d,prefixes:b},g,h;for(h=0;h<e;h++)g=F[b[h]],g&&(f=g(f));for(h=0;h<c;h++)f=E[h](f);return f}function e(a,b,e,g,h){var i=f(a),j=i.autoCallback;if(!i.bypass){b&&(b=D(b)?b:b[a]||b[g]||b[a.split("/").pop().split("?")[0]]);if(i.instead)return i.instead(a,b,e,g,h);e.load(i.url,i.forceCSS||!i.forceJS&&/css$/.test(i.url)?"c":c,i.noexec),(D(b)||D(j))&&e.load(function(){d(),b&&b(i.origUrl,h,g),j&&j(i.origUrl,h,g)})}}function b(a,b){function c(a){if(C(a))e(a,h,b,0,d);else if(B(a))for(i in a)a.hasOwnProperty(i)&&e(a[i],h,b,i,d)}var d=!!a.test,f=d?a.yep:a.nope,g=a.load||a.both,h=a.callback,i;c(f),c(g),a.complete&&b.load(a.complete)}var g,h,i=this.yepnope.loader;if(C(a))e(a,0,i,0);else if(A(a))for(g=0;g<a.length;g++)h=a[g],C(h)?e(h,0,i,0):A(h)?H(h):B(h)&&b(h,i);else B(a)&&b(a,i)},H.addPrefix=function(a,b){F[a]=b},H.addFilter=function(a){E.push(a)},H.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",G=function(){b.removeEventListener("DOMContentLoaded",G,0),b.readyState="complete"},0)),a.yepnope=d()}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
(function (window, undefined) {
    "use strict";
    // test for REM unit support
    var cssremunit =  function() {
        var div = document.createElement( 'div' );
            div.style.cssText = 'font-size: 1rem;';

        return (/rem/).test(div.style.fontSize);
    },

    // filter returned links for stylesheets
    isStyleSheet = function () {
        var styles = document.getElementsByTagName('link'),
            filteredLinks = [];

        for ( var i = 0; i < styles.length; i++) {
            if ( styles[i].rel.toLowerCase() === 'stylesheet' && styles[i].getAttribute('data-norem') === null ) {

                filteredLinks.push( styles[i].href );
            }
        }

        return filteredLinks;
    },

   processLinks = function () {
        //prepare to match each link
        for( var i = 0; i < links.length; i++ ){
            xhr( links[i], storeCSS );
        }
    },

    storeCSS = function ( response, link ) {

        preCSS.push(response.responseText);
        CSSLinks.push(link);

        if( CSSLinks.length === links.length ){
            for( var j = 0; j <  CSSLinks.length; j++ ){
                matchCSS( preCSS[j], CSSLinks[j] );
            }

            if( ( links = importLinks.slice(0) ).length > 0 ){ //after finishing all current links, set links equal to the new imports found
                CSSLinks = [];
                preCSS = [];
                importLinks = [];
                processLinks();
            } else {
                buildCSS();
            }
        }
    },

    matchCSS = function ( sheetCSS, link ) { // collect all of the rules from the xhr response texts and match them to a pattern
        var clean = removeMediaQueries( sheetCSS ).replace(/\/\*[\s\S]*?\*\//g, ''), // remove MediaQueries and comments
            pattern = /[\w\d\s\-\/\\\[\]:,.'"*()<>+~%#^$_=|@]+\{[\w\d\s\-\/\\%#:!;,.'"*()]+\d*\.?\d+rem[\w\d\s\-\/\\%#:!;,.'"*()]*\}/g, //find selectors that use rem in one or more of their rules
            current = clean.match(pattern),
            remPattern =/\d*\.?\d+rem/g,
            remCurrent = clean.match(remPattern),
            sheetPathPattern = /(.*\/)/,
            sheetPath = sheetPathPattern.exec(link)[0], //relative path to css file specified in @import
            importPattern = /@import (?:url\()?['"]?([^'\)"]*)['"]?\)?[^;]*/gm, //matches all @import variations outlined at: https://developer.mozilla.org/en-US/docs/Web/CSS/@import
            importStatement;

        while( (importStatement = importPattern.exec(sheetCSS)) !== null ){
            if( importStatement[1].indexOf("/") === 0 ) { // check if the value of importStatement[1] is a root relative path, in which case it shouldn't be concatenated with sheetPath
                importLinks.push( importStatement[1] );
            } else {
                importLinks.push( sheetPath + importStatement[1] );
            }
        }

        if( current !== null && current.length !== 0 ){
            found = found.concat( current ); // save all of the blocks of rules with rem in a property
            foundProps = foundProps.concat( remCurrent ); // save all of the properties with rem
        }
    },

    buildCSS = function () { // first build each individual rule from elements in the found array and then add it to the string of rules.
        var pattern = /[\w\d\s\-\/\\%#:,.'"*()]+\d*\.?\d+rem[\w\d\s\-\/\\%#:!,.'"*()]*[;}]/g; // find properties with rem values in them
        for( var i = 0; i < found.length; i++ ){
            rules = rules + found[i].substr(0,found[i].indexOf("{")+1); // save the selector portion of each rule with a rem value
            var current = found[i].match( pattern );
            for( var j = 0; j<current.length; j++ ){ // build a new set of with only the selector and properties that have rem in the value
                rules = rules + current[j];
                if( j === current.length-1 && rules[rules.length-1] !== "}" ){
                    rules = rules + "\n}";
                }
            }
        }

        parseCSS();
    },

    parseCSS = function () { // replace each set of parentheses with evaluated content
        for( var i = 0; i < foundProps.length; i++ ){
            css[i] = Math.round( parseFloat(foundProps[i].substr(0,foundProps[i].length-3)*fontSize) ) + 'px';
        }

        loadCSS();
    },

    loadCSS = function () { // replace and load the new rules
        for( var i = 0; i < css.length; i++ ){ // only run this loop as many times as css has entries
            if( css[i] ){
                rules = rules.replace( foundProps[i],css[i] ); // replace old rules with our processed rules
            }
        }
        var remcss = document.createElement( 'style' );
        remcss.setAttribute( 'type', 'text/css' );
        remcss.id = 'remReplace';
        document.getElementsByTagName( 'head' )[0].appendChild( remcss );   // create the new element
        if( remcss.styleSheet ) {
            remcss.styleSheet.cssText = rules; // IE8 will not support innerHTML on read-only elements, such as STYLE
        } else {
            remcss.appendChild( document.createTextNode( rules ) );
        }
    },

    xhr = function ( url, callback ) { // create new XMLHttpRequest object and run it
        try {
            //try to create a request object
            //arranging the two conditions this way is for IE7/8's benefit
            //so that it works with any combination of ActiveX or Native XHR settings, 
            //as long as one or the other is enabled; but if both are enabled
            //it prefers ActiveX, which means it still works with local files
            //(Native XHR in IE7/8 is blocked and throws "access is denied",
            // but ActiveX is permitted if the user allows it [default is to prompt])
            var xhr = window.ActiveXObject ? ( new ActiveXObject('Microsoft.XMLHTTP') || new ActiveXObject('Msxml2.XMLHTTP') ) : new XMLHttpRequest();

            xhr.open( 'GET', url, true );
            xhr.onreadystatechange = function() {
                if ( xhr.readyState === 4 ){
                    callback(xhr, url);
                } // else { callback function on AJAX error }
            };

            xhr.send( null );
        } catch (e){
            if ( window.XDomainRequest ) {
                var xdr = new XDomainRequest();
                xdr.open('get', url);
                xdr.onload = function() {
                    callback(xdr, url);
                };
                xdr.onerror = function() {
                    return false; // xdr load fail
                };
                xdr.send();
            }
        }
    },

    // Remove queries.
    removeMediaQueries = function(css) {
        // Test for Media Query support
        if ( !window.matchMedia && !window.msMatchMedia ) {
            // If the browser doesn't support media queries, we find all @media declarations in the CSS and remove them.
            // Note: Since @rules can't be nested in the CSS spec, we're safe to just check for the closest following "}}" to the "@media".
            css = css.replace(/@media[\s\S]*?\}\s*\}/g, "");
        }

        return css;
    };

    if( !cssremunit() ){ // this checks if the rem value is supported
        var rules = '', // initialize the rules variable in this scope so it can be used later
            links = isStyleSheet(), // initialize the array holding the sheets urls for use later
            importLinks = [], //initialize the array holding the import sheet urls for use later
            found = [], // initialize the array holding the found rules for use later
            foundProps = [], // initialize the array holding the found properties for use later
            preCSS = [], // initialize array that holds css before being parsed
            CSSLinks = [], //initialize array holding css links returned from xhr
            css = [], // initialize the array holding the parsed rules for use later
            fontSize = '';

        // Notice: rem is a "root em" that means that in case when html element size was changed by css
        // or style we should not change document.documentElement.fontSize to 1em - only body size should be changed
        // to 1em for calculation

        fontSize = (function () {
            var doc = document,
                docElement = doc.documentElement,
                body = doc.body || doc.createElement('body'),
                isFakeBody = !doc.body,
                div = doc.createElement('div'),
                currentSize = body.style.fontSize,
                size;

            if ( isFakeBody ) {
                docElement.appendChild( body );
            }

            div.style.cssText = 'width:1em; position:absolute; visibility:hidden; padding: 0;';

            body.style.fontSize = '1em';

            body.appendChild( div );
            size = div.offsetWidth;

            if ( isFakeBody ) {
                docElement.removeChild( body );
            }
            else {
                body.removeChild( div );
                body.style.fontSize = currentSize;
            }

            return size;
        }());

        processLinks();
    } // else { do nothing, you are awesome and have REM support }

})(window);

/*! Respond.js v1.4.2: min/max-width media query polyfill
 * Copyright 2014 Scott Jehl
 * Licensed under MIT
 * http://j.mp/respondjs */

/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */
(function(w) {
  "use strict";
  w.matchMedia = w.matchMedia || function(doc, undefined) {
    var bool, docElem = doc.documentElement, refNode = docElem.firstElementChild || docElem.firstChild, fakeBody = doc.createElement("body"), div = doc.createElement("div");
    div.id = "mq-test-1";
    div.style.cssText = "position:absolute;top:-100em";
    fakeBody.style.background = "none";
    fakeBody.appendChild(div);
    return function(q) {
      div.innerHTML = '&shy;<style media="' + q + '"> #mq-test-1 { width: 42px; }</style>';
      docElem.insertBefore(fakeBody, refNode);
      bool = div.offsetWidth === 42;
      docElem.removeChild(fakeBody);
      return {
        matches: bool,
        media: q
      };
    };
  }(w.document);
})(this);

(function(w) {
  "use strict";
  var respond = {};
  w.respond = respond;
  respond.update = function() {};
  var requestQueue = [], xmlHttp = function() {
    var xmlhttpmethod = false;
    try {
      xmlhttpmethod = new w.XMLHttpRequest();
    } catch (e) {
      xmlhttpmethod = new w.ActiveXObject("Microsoft.XMLHTTP");
    }
    return function() {
      return xmlhttpmethod;
    };
  }(), ajax = function(url, callback) {
    var req = xmlHttp();
    if (!req) {
      return;
    }
    req.open("GET", url, true);
    req.onreadystatechange = function() {
      if (req.readyState !== 4 || req.status !== 200 && req.status !== 304) {
        return;
      }
      callback(req.responseText);
    };
    if (req.readyState === 4) {
      return;
    }
    req.send(null);
  }, isUnsupportedMediaQuery = function(query) {
    return query.replace(respond.regex.minmaxwh, "").match(respond.regex.other);
  };
  respond.ajax = ajax;
  respond.queue = requestQueue;
  respond.unsupportedmq = isUnsupportedMediaQuery;
  respond.regex = {
    media: /@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,
    keyframes: /@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,
    comments: /\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,
    urls: /(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,
    findStyles: /@media *([^\{]+)\{([\S\s]+?)$/,
    only: /(only\s+)?([a-zA-Z]+)\s?/,
    minw: /\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,
    maxw: /\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,
    minmaxwh: /\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,
    other: /\([^\)]*\)/g
  };
  respond.mediaQueriesSupported = w.matchMedia && w.matchMedia("only all") !== null && w.matchMedia("only all").matches;
  if (respond.mediaQueriesSupported) {
    return;
  }
  var doc = w.document, docElem = doc.documentElement, mediastyles = [], rules = [], appendedEls = [], parsedSheets = {}, resizeThrottle = 30, head = doc.getElementsByTagName("head")[0] || docElem, base = doc.getElementsByTagName("base")[0], links = head.getElementsByTagName("link"), lastCall, resizeDefer, eminpx, getEmValue = function() {
    var ret, div = doc.createElement("div"), body = doc.body, originalHTMLFontSize = docElem.style.fontSize, originalBodyFontSize = body && body.style.fontSize, fakeUsed = false;
    div.style.cssText = "position:absolute;font-size:1em;width:1em";
    if (!body) {
      body = fakeUsed = doc.createElement("body");
      body.style.background = "none";
    }
    docElem.style.fontSize = "100%";
    body.style.fontSize = "100%";
    body.appendChild(div);
    if (fakeUsed) {
      docElem.insertBefore(body, docElem.firstChild);
    }
    ret = div.offsetWidth;
    if (fakeUsed) {
      docElem.removeChild(body);
    } else {
      body.removeChild(div);
    }
    docElem.style.fontSize = originalHTMLFontSize;
    if (originalBodyFontSize) {
      body.style.fontSize = originalBodyFontSize;
    }
    ret = eminpx = parseFloat(ret);
    return ret;
  }, applyMedia = function(fromResize) {
    var name = "clientWidth", docElemProp = docElem[name], currWidth = doc.compatMode === "CSS1Compat" && docElemProp || doc.body[name] || docElemProp, styleBlocks = {}, lastLink = links[links.length - 1], now = new Date().getTime();
    if (fromResize && lastCall && now - lastCall < resizeThrottle) {
      w.clearTimeout(resizeDefer);
      resizeDefer = w.setTimeout(applyMedia, resizeThrottle);
      return;
    } else {
      lastCall = now;
    }
    for (var i in mediastyles) {
      if (mediastyles.hasOwnProperty(i)) {
        var thisstyle = mediastyles[i], min = thisstyle.minw, max = thisstyle.maxw, minnull = min === null, maxnull = max === null, em = "em";
        if (!!min) {
          min = parseFloat(min) * (min.indexOf(em) > -1 ? eminpx || getEmValue() : 1);
        }
        if (!!max) {
          max = parseFloat(max) * (max.indexOf(em) > -1 ? eminpx || getEmValue() : 1);
        }
        if (!thisstyle.hasquery || (!minnull || !maxnull) && (minnull || currWidth >= min) && (maxnull || currWidth <= max)) {
          if (!styleBlocks[thisstyle.media]) {
            styleBlocks[thisstyle.media] = [];
          }
          styleBlocks[thisstyle.media].push(rules[thisstyle.rules]);
        }
      }
    }
    for (var j in appendedEls) {
      if (appendedEls.hasOwnProperty(j)) {
        if (appendedEls[j] && appendedEls[j].parentNode === head) {
          head.removeChild(appendedEls[j]);
        }
      }
    }
    appendedEls.length = 0;
    for (var k in styleBlocks) {
      if (styleBlocks.hasOwnProperty(k)) {
        var ss = doc.createElement("style"), css = styleBlocks[k].join("\n");
        ss.type = "text/css";
        ss.media = k;
        head.insertBefore(ss, lastLink.nextSibling);
        if (ss.styleSheet) {
          ss.styleSheet.cssText = css;
        } else {
          ss.appendChild(doc.createTextNode(css));
        }
        appendedEls.push(ss);
      }
    }
  }, translate = function(styles, href, media) {
    var qs = styles.replace(respond.regex.comments, "").replace(respond.regex.keyframes, "").match(respond.regex.media), ql = qs && qs.length || 0;
    href = href.substring(0, href.lastIndexOf("/"));
    var repUrls = function(css) {
      return css.replace(respond.regex.urls, "$1" + href + "$2$3");
    }, useMedia = !ql && media;
    if (href.length) {
      href += "/";
    }
    if (useMedia) {
      ql = 1;
    }
    for (var i = 0; i < ql; i++) {
      var fullq, thisq, eachq, eql;
      if (useMedia) {
        fullq = media;
        rules.push(repUrls(styles));
      } else {
        fullq = qs[i].match(respond.regex.findStyles) && RegExp.$1;
        rules.push(RegExp.$2 && repUrls(RegExp.$2));
      }
      eachq = fullq.split(",");
      eql = eachq.length;
      for (var j = 0; j < eql; j++) {
        thisq = eachq[j];
        if (isUnsupportedMediaQuery(thisq)) {
          continue;
        }
        mediastyles.push({
          media: thisq.split("(")[0].match(respond.regex.only) && RegExp.$2 || "all",
          rules: rules.length - 1,
          hasquery: thisq.indexOf("(") > -1,
          minw: thisq.match(respond.regex.minw) && parseFloat(RegExp.$1) + (RegExp.$2 || ""),
          maxw: thisq.match(respond.regex.maxw) && parseFloat(RegExp.$1) + (RegExp.$2 || "")
        });
      }
    }
    applyMedia();
  }, makeRequests = function() {
    if (requestQueue.length) {
      var thisRequest = requestQueue.shift();
      ajax(thisRequest.href, function(styles) {
        translate(styles, thisRequest.href, thisRequest.media);
        parsedSheets[thisRequest.href] = true;
        w.setTimeout(function() {
          makeRequests();
        }, 0);
      });
    }
  }, ripCSS = function() {
    for (var i = 0; i < links.length; i++) {
      var sheet = links[i], href = sheet.href, media = sheet.media, isCSS = sheet.rel && sheet.rel.toLowerCase() === "stylesheet";
      if (!!href && isCSS && !parsedSheets[href]) {
        if (sheet.styleSheet && sheet.styleSheet.rawCssText) {
          translate(sheet.styleSheet.rawCssText, href, media);
          parsedSheets[href] = true;
        } else {
          if (!/^([a-zA-Z:]*\/\/)/.test(href) && !base || href.replace(RegExp.$1, "").split("/")[0] === w.location.host) {
            if (href.substring(0, 2) === "//") {
              href = w.location.protocol + href;
            }
            requestQueue.push({
              href: href,
              media: media
            });
          }
        }
      }
    }
    makeRequests();
  };
  ripCSS();
  respond.update = ripCSS;
  respond.getEmValue = getEmValue;
  function callMedia() {
    applyMedia(true);
  }
  if (w.addEventListener) {
    w.addEventListener("resize", callMedia, false);
  } else if (w.attachEvent) {
    w.attachEvent("onresize", callMedia);
  }
})(this);
/**
 * jQuery CSS Customizable Scrollbar
 *
 * Copyright 2015, Yuriy Khabarov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * If you found bug, please contact me via email <13real008@gmail.com>
 *
 * @author Yuriy Khabarov aka Gromo
 * @version 0.2.10
 * @url https://github.com/gromo/jquery.scrollbar/
 *
 */
;
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else {
        factory(root.jQuery);
    }
}(this, function ($) {
    'use strict';

    // init flags & variables
    var debug = false;

    var browser = {
        data: {
            index: 0,
            name: 'scrollbar'
        },
        macosx: /mac/i.test(navigator.platform),
        mobile: /android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),
        overlay: null,
        scroll: null,
        scrolls: [],
        webkit: /webkit/i.test(navigator.userAgent) && !/edge\/\d+/i.test(navigator.userAgent)
    };

    browser.scrolls.add = function (instance) {
        this.remove(instance).push(instance);
    };
    browser.scrolls.remove = function (instance) {
        while ($.inArray(instance, this) >= 0) {
            this.splice($.inArray(instance, this), 1);
        }
        return this;
    };

    var defaults = {
        "autoScrollSize": true,     // automatically calculate scrollsize
        "autoUpdate": true,         // update scrollbar if content/container size changed
        "debug": false,             // debug mode
        "disableBodyScroll": false, // disable body scroll if mouse over container
        "duration": 200,            // scroll animate duration in ms
        "ignoreMobile": false,      // ignore mobile devices
        "ignoreOverlay": false,     // ignore browsers with overlay scrollbars (mobile, MacOS)
        "scrollStep": 30,           // scroll step for scrollbar arrows
        "showArrows": false,        // add class to show arrows
        "stepScrolling": true,      // when scrolling to scrollbar mousedown position

        "scrollx": null,            // horizontal scroll element
        "scrolly": null,            // vertical scroll element

        "onDestroy": null,          // callback function on destroy,
        "onInit": null,             // callback function on first initialization
        "onScroll": null,           // callback function on content scrolling
        "onUpdate": null            // callback function on init/resize (before scrollbar size calculation)
    };


    var BaseScrollbar = function (container) {

        if (!browser.scroll) {
            browser.overlay = isScrollOverlaysContent();
            browser.scroll = getBrowserScrollSize();
            updateScrollbars();

            $(window).resize(function () {
                var forceUpdate = false;
                if (browser.scroll && (browser.scroll.height || browser.scroll.width)) {
                    var scroll = getBrowserScrollSize();
                    if (scroll.height !== browser.scroll.height || scroll.width !== browser.scroll.width) {
                        browser.scroll = scroll;
                        forceUpdate = true; // handle page zoom
                    }
                }
                updateScrollbars(forceUpdate);
            });
        }

        this.container = container;
        this.namespace = '.scrollbar_' + browser.data.index++;
        this.options = $.extend({}, defaults, window.jQueryScrollbarOptions || {});
        this.scrollTo = null;
        this.scrollx = {};
        this.scrolly = {};

        container.data(browser.data.name, this);
        browser.scrolls.add(this);
    };

    BaseScrollbar.prototype = {

        destroy: function () {

            if (!this.wrapper) {
                return;
            }

            this.container.removeData(browser.data.name);
            browser.scrolls.remove(this);

            // init variables
            var scrollLeft = this.container.scrollLeft();
            var scrollTop = this.container.scrollTop();

            this.container.insertBefore(this.wrapper).css({
                "height": "",
                "margin": "",
                "max-height": ""
            })
                .removeClass('scroll-content scroll-scrollx_visible scroll-scrolly_visible')
                .off(this.namespace)
                .scrollLeft(scrollLeft)
                .scrollTop(scrollTop);

            this.scrollx.scroll.removeClass('scroll-scrollx_visible').find('div').andSelf().off(this.namespace);
            this.scrolly.scroll.removeClass('scroll-scrolly_visible').find('div').andSelf().off(this.namespace);

            this.wrapper.remove();

            $(document).add('body').off(this.namespace);

            if ($.isFunction(this.options.onDestroy)){
                this.options.onDestroy.apply(this, [this.container]);
            }
        },
        init: function (options) {

            // init variables
            var S = this,
                c = this.container,
                cw = this.containerWrapper || c,
                namespace = this.namespace,
                o = $.extend(this.options, options || {}),
                s = {x: this.scrollx, y: this.scrolly},
                w = this.wrapper;

            var initScroll = {
                "scrollLeft": c.scrollLeft(),
                "scrollTop": c.scrollTop()
            };

            // do not init if in ignorable browser
            if ((browser.mobile && o.ignoreMobile)
                || (browser.overlay && o.ignoreOverlay)
                || (browser.macosx && !browser.webkit) // still required to ignore nonWebKit browsers on Mac
                ) {
                return false;
            }

            // init scroll container
            if (!w) {
                this.wrapper = w = $('<div>').addClass('scroll-wrapper').addClass(c.attr('class'))
                    .css('position', c.css('position') == 'absolute' ? 'absolute' : 'fixed')
                    .insertBefore(c).append(c);

                if (c.is('textarea')) {
                    this.containerWrapper = cw = $('<div>').insertBefore(c).append(c);
                    w.addClass('scroll-textarea');
                }

                cw.addClass('scroll-content').css({
                    "height": "auto",
                    "margin-bottom": browser.scroll.height * -1 + 'px',
                    "margin-right": browser.scroll.width * -1 + 'px',
                    "max-height": ""
                });

                c.on('scroll' + namespace, function (event) {
                    if ($.isFunction(o.onScroll)) {
                        o.onScroll.call(S, {
                            "maxScroll": s.y.maxScrollOffset,
                            "scroll": c.scrollTop(),
                            "size": s.y.size,
                            "visible": s.y.visible
                        }, {
                            "maxScroll": s.x.maxScrollOffset,
                            "scroll": c.scrollLeft(),
                            "size": s.x.size,
                            "visible": s.x.visible
                        });
                    }
                    s.x.isVisible && s.x.scroll.bar.css('left', c.scrollLeft() * s.x.kx + 'px');
                    s.y.isVisible && s.y.scroll.bar.css('top', c.scrollTop() * s.y.kx + 'px');
                });

                /* prevent native scrollbars to be visible on #anchor click */
                w.on('scroll' + namespace, function () {
                    w.scrollTop(0).scrollLeft(0);
                });

                if (o.disableBodyScroll) {
                    var handleMouseScroll = function (event) {
                        isVerticalScroll(event) ?
                            s.y.isVisible && s.y.mousewheel(event) :
                            s.x.isVisible && s.x.mousewheel(event);
                    };
                    w.on('MozMousePixelScroll' + namespace, handleMouseScroll);
                    w.on('mousewheel' + namespace, handleMouseScroll);

                    if (browser.mobile) {
                        w.on('touchstart' + namespace, function (event) {
                            var touch = event.originalEvent.touches && event.originalEvent.touches[0] || event;
                            var originalTouch = {
                                "pageX": touch.pageX,
                                "pageY": touch.pageY
                            };
                            var originalScroll = {
                                "left": c.scrollLeft(),
                                "top": c.scrollTop()
                            };
                            $(document).on('touchmove' + namespace, function (event) {
                                var touch = event.originalEvent.targetTouches && event.originalEvent.targetTouches[0] || event;
                                c.scrollLeft(originalScroll.left + originalTouch.pageX - touch.pageX);
                                c.scrollTop(originalScroll.top + originalTouch.pageY - touch.pageY);
                                event.preventDefault();
                            });
                            $(document).on('touchend' + namespace, function () {
                                $(document).off(namespace);
                            });
                        });
                    }
                }
                if ($.isFunction(o.onInit)){
                    o.onInit.apply(this, [c]);
                }
            } else {
                cw.css({
                    "height": "auto",
                    "margin-bottom": browser.scroll.height * -1 + 'px',
                    "margin-right": browser.scroll.width * -1 + 'px',
                    "max-height": ""
                });
            }

            // init scrollbars & recalculate sizes
            $.each(s, function (d, scrollx) {

                var scrollCallback = null;
                var scrollForward = 1;
                var scrollOffset = (d === 'x') ? 'scrollLeft' : 'scrollTop';
                var scrollStep = o.scrollStep;
                var scrollTo = function () {
                    var currentOffset = c[scrollOffset]();
                    c[scrollOffset](currentOffset + scrollStep);
                    if (scrollForward == 1 && (currentOffset + scrollStep) >= scrollToValue)
                        currentOffset = c[scrollOffset]();
                    if (scrollForward == -1 && (currentOffset + scrollStep) <= scrollToValue)
                        currentOffset = c[scrollOffset]();
                    if (c[scrollOffset]() == currentOffset && scrollCallback) {
                        scrollCallback();
                    }
                }
                var scrollToValue = 0;

                if (!scrollx.scroll) {

                    scrollx.scroll = S._getScroll(o['scroll' + d]).addClass('scroll-' + d);

                    if(o.showArrows){
                        scrollx.scroll.addClass('scroll-element_arrows_visible');
                    }

                    scrollx.mousewheel = function (event) {

                        if (!scrollx.isVisible || (d === 'x' && isVerticalScroll(event))) {
                            return true;
                        }
                        if (d === 'y' && !isVerticalScroll(event)) {
                            s.x.mousewheel(event);
                            return true;
                        }

                        var delta = event.originalEvent.wheelDelta * -1 || event.originalEvent.detail;
                        var maxScrollValue = scrollx.size - scrollx.visible - scrollx.offset;

                        if ((delta > 0 && scrollToValue < maxScrollValue) || (delta < 0 && scrollToValue > 0)) {
                            scrollToValue = scrollToValue + delta;
                            if (scrollToValue < 0)
                                scrollToValue = 0;
                            if (scrollToValue > maxScrollValue)
                                scrollToValue = maxScrollValue;

                            S.scrollTo = S.scrollTo || {};
                            S.scrollTo[scrollOffset] = scrollToValue;
                            setTimeout(function () {
                                if (S.scrollTo) {
                                    c.stop().animate(S.scrollTo, 240, 'linear', function () {
                                        scrollToValue = c[scrollOffset]();
                                    });
                                    S.scrollTo = null;
                                }
                            }, 1);
                        }

                        event.preventDefault();
                        return false;
                    };

                    scrollx.scroll
                        .on('MozMousePixelScroll' + namespace, scrollx.mousewheel)
                        .on('mousewheel' + namespace, scrollx.mousewheel)
                        .on('mouseenter' + namespace, function () {
                            scrollToValue = c[scrollOffset]();
                        });

                    // handle arrows & scroll inner mousedown event
                    scrollx.scroll.find('.scroll-arrow, .scroll-element_track')
                        .on('mousedown' + namespace, function (event) {

                            if (event.which != 1) // lmb
                                return true;

                            scrollForward = 1;

                            var data = {
                                "eventOffset": event[(d === 'x') ? 'pageX' : 'pageY'],
                                "maxScrollValue": scrollx.size - scrollx.visible - scrollx.offset,
                                "scrollbarOffset": scrollx.scroll.bar.offset()[(d === 'x') ? 'left' : 'top'],
                                "scrollbarSize": scrollx.scroll.bar[(d === 'x') ? 'outerWidth' : 'outerHeight']()
                            };
                            var timeout = 0, timer = 0;

                            if ($(this).hasClass('scroll-arrow')) {
                                scrollForward = $(this).hasClass("scroll-arrow_more") ? 1 : -1;
                                scrollStep = o.scrollStep * scrollForward;
                                scrollToValue = scrollForward > 0 ? data.maxScrollValue : 0;
                            } else {
                                scrollForward = (data.eventOffset > (data.scrollbarOffset + data.scrollbarSize) ? 1
                                    : (data.eventOffset < data.scrollbarOffset ? -1 : 0));
                                scrollStep = Math.round(scrollx.visible * 0.75) * scrollForward;
                                scrollToValue = (data.eventOffset - data.scrollbarOffset -
                                    (o.stepScrolling ? (scrollForward == 1 ? data.scrollbarSize : 0)
                                        : Math.round(data.scrollbarSize / 2)));
                                scrollToValue = c[scrollOffset]() + (scrollToValue / scrollx.kx);
                            }

                            S.scrollTo = S.scrollTo || {};
                            S.scrollTo[scrollOffset] = o.stepScrolling ? c[scrollOffset]() + scrollStep : scrollToValue;

                            if (o.stepScrolling) {
                                scrollCallback = function () {
                                    scrollToValue = c[scrollOffset]();
                                    clearInterval(timer);
                                    clearTimeout(timeout);
                                    timeout = 0;
                                    timer = 0;
                                };
                                timeout = setTimeout(function () {
                                    timer = setInterval(scrollTo, 40);
                                }, o.duration + 100);
                            }

                            setTimeout(function () {
                                if (S.scrollTo) {
                                    c.animate(S.scrollTo, o.duration);
                                    S.scrollTo = null;
                                }
                            }, 1);

                            return S._handleMouseDown(scrollCallback, event);
                        });

                    // handle scrollbar drag'n'drop
                    scrollx.scroll.bar.on('mousedown' + namespace, function (event) {

                        if (event.which != 1) // lmb
                            return true;

                        var eventPosition = event[(d === 'x') ? 'pageX' : 'pageY'];
                        var initOffset = c[scrollOffset]();

                        scrollx.scroll.addClass('scroll-draggable');

                        $(document).on('mousemove' + namespace, function (event) {
                            var diff = parseInt((event[(d === 'x') ? 'pageX' : 'pageY'] - eventPosition) / scrollx.kx, 10);
                            c[scrollOffset](initOffset + diff);
                        });

                        return S._handleMouseDown(function () {
                            scrollx.scroll.removeClass('scroll-draggable');
                            scrollToValue = c[scrollOffset]();
                        }, event);
                    });
                }
            });

            // remove classes & reset applied styles
            $.each(s, function (d, scrollx) {
                var scrollClass = 'scroll-scroll' + d + '_visible';
                var scrolly = (d == "x") ? s.y : s.x;

                scrollx.scroll.removeClass(scrollClass);
                scrolly.scroll.removeClass(scrollClass);
                cw.removeClass(scrollClass);
            });

            // calculate init sizes
            $.each(s, function (d, scrollx) {
                $.extend(scrollx, (d == "x") ? {
                    "offset": parseInt(c.css('left'), 10) || 0,
                    "size": c.prop('scrollWidth'),
                    "visible": w.width()
                } : {
                    "offset": parseInt(c.css('top'), 10) || 0,
                    "size": c.prop('scrollHeight'),
                    "visible": w.height()
                });
            });

            // update scrollbar visibility/dimensions
            this._updateScroll('x', this.scrollx);
            this._updateScroll('y', this.scrolly);

            if ($.isFunction(o.onUpdate)){
                o.onUpdate.apply(this, [c]);
            }

            // calculate scroll size
            $.each(s, function (d, scrollx) {

                var cssOffset = (d === 'x') ? 'left' : 'top';
                var cssFullSize = (d === 'x') ? 'outerWidth' : 'outerHeight';
                var cssSize = (d === 'x') ? 'width' : 'height';
                var offset = parseInt(c.css(cssOffset), 10) || 0;

                var AreaSize = scrollx.size;
                var AreaVisible = scrollx.visible + offset;

                var scrollSize = scrollx.scroll.size[cssFullSize]() + (parseInt(scrollx.scroll.size.css(cssOffset), 10) || 0);

                if (o.autoScrollSize) {
                    scrollx.scrollbarSize = parseInt(scrollSize * AreaVisible / AreaSize, 10);
                    scrollx.scroll.bar.css(cssSize, scrollx.scrollbarSize + 'px');
                }

                scrollx.scrollbarSize = scrollx.scroll.bar[cssFullSize]();
                scrollx.kx = ((scrollSize - scrollx.scrollbarSize) / (AreaSize - AreaVisible)) || 1;
                scrollx.maxScrollOffset = AreaSize - AreaVisible;
            });

            c.scrollLeft(initScroll.scrollLeft).scrollTop(initScroll.scrollTop).trigger('scroll');
        },

        /**
         * Get scrollx/scrolly object
         *
         * @param {Mixed} scroll
         * @returns {jQuery} scroll object
         */
        _getScroll: function (scroll) {
            var types = {
                advanced: [
                    '<div class="scroll-element">',
                    '<div class="scroll-element_corner"></div>',
                    '<div class="scroll-arrow scroll-arrow_less"></div>',
                    '<div class="scroll-arrow scroll-arrow_more"></div>',
                    '<div class="scroll-element_outer">',
                    '<div class="scroll-element_size"></div>', // required! used for scrollbar size calculation !
                    '<div class="scroll-element_inner-wrapper">',
                    '<div class="scroll-element_inner scroll-element_track">', // used for handling scrollbar click
                    '<div class="scroll-element_inner-bottom"></div>',
                    '</div>',
                    '</div>',
                    '<div class="scroll-bar">', // required
                    '<div class="scroll-bar_body">',
                    '<div class="scroll-bar_body-inner"></div>',
                    '</div>',
                    '<div class="scroll-bar_bottom"></div>',
                    '<div class="scroll-bar_center"></div>',
                    '</div>',
                    '</div>',
                    '</div>'
                ].join(''),
                simple: [
                    '<div class="scroll-element">',
                    '<div class="scroll-element_outer">',
                    '<div class="scroll-element_size"></div>', // required! used for scrollbar size calculation !
                    '<div class="scroll-element_track"></div>', // used for handling scrollbar click
                    '<div class="scroll-bar"></div>', // required
                    '</div>',
                    '</div>'
                ].join('')
            };
            if (types[scroll]) {
                scroll = types[scroll];
            }
            if (!scroll) {
                scroll = types['simple'];
            }
            if (typeof (scroll) == 'string') {
                scroll = $(scroll).appendTo(this.wrapper);
            } else {
                scroll = $(scroll);
            }
            $.extend(scroll, {
                bar: scroll.find('.scroll-bar'),
                size: scroll.find('.scroll-element_size'),
                track: scroll.find('.scroll-element_track')
            });
            return scroll;
        },

        _handleMouseDown: function(callback, event) {

            var namespace = this.namespace;

            $(document).on('blur' + namespace, function () {
                $(document).add('body').off(namespace);
                callback && callback();
            });
            $(document).on('dragstart' + namespace, function (event) {
                event.preventDefault();
                return false;
            });
            $(document).on('mouseup' + namespace, function () {
                $(document).add('body').off(namespace);
                callback && callback();
            });
            $('body').on('selectstart' + namespace, function (event) {
                event.preventDefault();
                return false;
            });

            event && event.preventDefault();
            return false;
        },

        _updateScroll: function (d, scrollx) {

            var container = this.container,
                containerWrapper = this.containerWrapper || container,
                scrollClass = 'scroll-scroll' + d + '_visible',
                scrolly = (d === 'x') ? this.scrolly : this.scrollx,
                offset = parseInt(this.container.css((d === 'x') ? 'left' : 'top'), 10) || 0,
                wrapper = this.wrapper;

            var AreaSize = scrollx.size;
            var AreaVisible = scrollx.visible + offset;

            scrollx.isVisible = (AreaSize - AreaVisible) > 1; // bug in IE9/11 with 1px diff
            if (scrollx.isVisible) {
                scrollx.scroll.addClass(scrollClass);
                scrolly.scroll.addClass(scrollClass);
                containerWrapper.addClass(scrollClass);
            } else {
                scrollx.scroll.removeClass(scrollClass);
                scrolly.scroll.removeClass(scrollClass);
                containerWrapper.removeClass(scrollClass);
            }

            if (d === 'y') {
                if(container.is('textarea') || AreaSize < AreaVisible){
                    containerWrapper.css({
                        "height": (AreaVisible + browser.scroll.height) + 'px',
                        "max-height": "none"
                    });
                } else {
                    containerWrapper.css({
                        //"height": "auto", // do not reset height value: issue with height:100%!
                        "max-height": (AreaVisible + browser.scroll.height) + 'px'
                    });
                }
            }

            if (scrollx.size != container.prop('scrollWidth')
                || scrolly.size != container.prop('scrollHeight')
                || scrollx.visible != wrapper.width()
                || scrolly.visible != wrapper.height()
                || scrollx.offset != (parseInt(container.css('left'), 10) || 0)
                || scrolly.offset != (parseInt(container.css('top'), 10) || 0)
                ) {
                $.extend(this.scrollx, {
                    "offset": parseInt(container.css('left'), 10) || 0,
                    "size": container.prop('scrollWidth'),
                    "visible": wrapper.width()
                });
                $.extend(this.scrolly, {
                    "offset": parseInt(container.css('top'), 10) || 0,
                    "size": this.container.prop('scrollHeight'),
                    "visible": wrapper.height()
                });
                this._updateScroll(d === 'x' ? 'y' : 'x', scrolly);
            }
        }
    };

    var CustomScrollbar = BaseScrollbar;

    /*
     * Extend jQuery as plugin
     *
     * @param {Mixed} command to execute
     * @param {Mixed} arguments as Array
     * @return {jQuery}
     */
    $.fn.scrollbar = function (command, args) {
        if (typeof command !== 'string') {
            args = command;
            command = 'init';
        }
        if (typeof args === 'undefined') {
            args = [];
        }
        if (!$.isArray(args)) {
            args = [args];
        }
        this.not('body, .scroll-wrapper').each(function () {
            var element = $(this),
                instance = element.data(browser.data.name);
            if (instance || command === 'init') {
                if (!instance) {
                    instance = new CustomScrollbar(element);
                }
                if (instance[command]) {
                    instance[command].apply(instance, args);
                }
            }
        });
        return this;
    };

    /**
     * Connect default options to global object
     */
    $.fn.scrollbar.options = defaults;


    /**
     * Check if scroll content/container size is changed
     */

    var updateScrollbars = (function () {
        var timer = 0,
            timerCounter = 0;

        return function (force) {
            var i, container, options, scroll, wrapper, scrollx, scrolly;
            for (i = 0; i < browser.scrolls.length; i++) {
                scroll = browser.scrolls[i];
                container = scroll.container;
                options = scroll.options;
                wrapper = scroll.wrapper;
                scrollx = scroll.scrollx;
                scrolly = scroll.scrolly;
                if (force || (options.autoUpdate && wrapper && wrapper.is(':visible') &&
                    (container.prop('scrollWidth') != scrollx.size || container.prop('scrollHeight') != scrolly.size || wrapper.width() != scrollx.visible || wrapper.height() != scrolly.visible))) {
                    scroll.init();

                    if (options.debug) {
                        window.console && console.log({
                            scrollHeight: container.prop('scrollHeight') + ':' + scroll.scrolly.size,
                            scrollWidth: container.prop('scrollWidth') + ':' + scroll.scrollx.size,
                            visibleHeight: wrapper.height() + ':' + scroll.scrolly.visible,
                            visibleWidth: wrapper.width() + ':' + scroll.scrollx.visible
                        }, true);
                        timerCounter++;
                    }
                }
            }
            if (debug && timerCounter > 10) {
                window.console && console.log('Scroll updates exceed 10');
                updateScrollbars = function () {};
            } else {
                clearTimeout(timer);
                timer = setTimeout(updateScrollbars, 300);
            }
        };
    })();

    /* ADDITIONAL FUNCTIONS */
    /**
     * Get native browser scrollbar size (height/width)
     *
     * @param {Boolean} actual size or CSS size, default - CSS size
     * @returns {Object} with height, width
     */
    function getBrowserScrollSize(actualSize) {

        if (browser.webkit && !actualSize) {
            return {
                "height": 0,
                "width": 0
            };
        }

        if (!browser.data.outer) {
            var css = {
                "border": "none",
                "box-sizing": "content-box",
                "height": "200px",
                "margin": "0",
                "padding": "0",
                "width": "200px"
            };
            browser.data.inner = $("<div>").css($.extend({}, css));
            browser.data.outer = $("<div>").css($.extend({
                "left": "-1000px",
                "overflow": "scroll",
                "position": "absolute",
                "top": "-1000px"
            }, css)).append(browser.data.inner).appendTo("body");
        }

        browser.data.outer.scrollLeft(1000).scrollTop(1000);

        return {
            "height": Math.ceil((browser.data.outer.offset().top - browser.data.inner.offset().top) || 0),
            "width": Math.ceil((browser.data.outer.offset().left - browser.data.inner.offset().left) || 0)
        };
    }

    /**
     * Check if native browser scrollbars overlay content
     *
     * @returns {Boolean}
     */
    function isScrollOverlaysContent() {
        var scrollSize = getBrowserScrollSize(true);
        return !(scrollSize.height || scrollSize.width);
    }

    function isVerticalScroll(event) {
        var e = event.originalEvent;
        if (e.axis && e.axis === e.HORIZONTAL_AXIS)
            return false;
        if (e.wheelDeltaX)
            return false;
        return true;
    }


    /**
     * Extend AngularJS as UI directive
     * and expose a provider for override default config
     *
     */
    if (window.angular) {
        (function (angular) {
            angular.module('jQueryScrollbar', [])
                .provider('jQueryScrollbar', function () {
                    var defaultOptions = defaults;
                    return {
                        setOptions: function (options) {
                            angular.extend(defaultOptions, options);
                        },
                        $get: function () {
                            return {
                                options: angular.copy(defaultOptions)
                            };
                        }
                    };
                })
                .directive('jqueryScrollbar', ['jQueryScrollbar', '$parse', function (jQueryScrollbar, $parse) {
                    return {
                        "restrict": "AC",
                        "link": function (scope, element, attrs) {
                            var model = $parse(attrs.jqueryScrollbar),
                                options = model(scope);
                            element.scrollbar(options || jQueryScrollbar.options)
                                .on('$destroy', function () {
                                    element.scrollbar('destroy');
                                });
                        }
                    };
                }]);
        })(window.angular);
    }
}));

/**
* Customized version of iScroll.js 0.0.8
* It fixes bugs affecting its integration with fullpage.js
* @license
*/
/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */
(function (window, document, Math) {
var rAF = window.requestAnimationFrame  ||
    window.webkitRequestAnimationFrame  ||
    window.mozRequestAnimationFrame     ||
    window.oRequestAnimationFrame       ||
    window.msRequestAnimationFrame      ||
    function (callback) { window.setTimeout(callback, 1000 / 60); };

var utils = (function () {
    var me = {};

    var _elementStyle = document.createElement('div').style;
    var _vendor = (function () {
        var vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],
            transform,
            i = 0,
            l = vendors.length;

        for ( ; i < l; i++ ) {
            transform = vendors[i] + 'ransform';
            if ( transform in _elementStyle ) return vendors[i].substr(0, vendors[i].length-1);
        }

        return false;
    })();

    function _prefixStyle (style) {
        if ( _vendor === false ) return false;
        if ( _vendor === '' ) return style;
        return _vendor + style.charAt(0).toUpperCase() + style.substr(1);
    }

    me.getTime = Date.now || function getTime () { return new Date().getTime(); };

    me.extend = function (target, obj) {
        for ( var i in obj ) {
            target[i] = obj[i];
        }
    };

    me.addEvent = function (el, type, fn, capture) {
        el.addEventListener(type, fn, !!capture);
    };

    me.removeEvent = function (el, type, fn, capture) {
        el.removeEventListener(type, fn, !!capture);
    };

    me.prefixPointerEvent = function (pointerEvent) {
        return window.MSPointerEvent ?
            'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8):
            pointerEvent;
    };

    me.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {
        var distance = current - start,
            speed = Math.abs(distance) / time,
            destination,
            duration;

        deceleration = deceleration === undefined ? 0.0006 : deceleration;

        destination = current + ( speed * speed ) / ( 2 * deceleration ) * ( distance < 0 ? -1 : 1 );
        duration = speed / deceleration;

        if ( destination < lowerMargin ) {
            destination = wrapperSize ? lowerMargin - ( wrapperSize / 2.5 * ( speed / 8 ) ) : lowerMargin;
            distance = Math.abs(destination - current);
            duration = distance / speed;
        } else if ( destination > 0 ) {
            destination = wrapperSize ? wrapperSize / 2.5 * ( speed / 8 ) : 0;
            distance = Math.abs(current) + destination;
            duration = distance / speed;
        }

        return {
            destination: Math.round(destination),
            duration: duration
        };
    };

    var _transform = _prefixStyle('transform');

    me.extend(me, {
        hasTransform: _transform !== false,
        hasPerspective: _prefixStyle('perspective') in _elementStyle,
        hasTouch: 'ontouchstart' in window,
        hasPointer: !!(window.PointerEvent || window.MSPointerEvent), // IE10 is prefixed
        hasTransition: _prefixStyle('transition') in _elementStyle
    });

    /*
    This should find all Android browsers lower than build 535.19 (both stock browser and webview)
    - galaxy S2 is ok
    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`
    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`
   - galaxy S3 is badAndroid (stock brower, webview)
     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`
   - galaxy S4 is badAndroid (stock brower, webview)
     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`
   - galaxy S5 is OK
     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`
   - galaxy S6 is OK
     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`
  */
    me.isBadAndroid = (function() {
        var appVersion = window.navigator.appVersion;
        // Android browser is not a chrome browser.
        if (/Android/.test(appVersion) && !(/Chrome\/\d/.test(appVersion))) {
            var safariVersion = appVersion.match(/Safari\/(\d+.\d)/);
            if(safariVersion && typeof safariVersion === "object" && safariVersion.length >= 2) {
                return parseFloat(safariVersion[1]) < 535.19;
            } else {
                return true;
            }
        } else {
            return false;
        }
    })();

    me.extend(me.style = {}, {
        transform: _transform,
        transitionTimingFunction: _prefixStyle('transitionTimingFunction'),
        transitionDuration: _prefixStyle('transitionDuration'),
        transitionDelay: _prefixStyle('transitionDelay'),
        transformOrigin: _prefixStyle('transformOrigin')
    });

    me.hasClass = function (e, c) {
        var re = new RegExp("(^|\\s)" + c + "(\\s|$)");
        return re.test(e.className);
    };

    me.addClass = function (e, c) {
        if ( me.hasClass(e, c) ) {
            return;
        }

        var newclass = e.className.split(' ');
        newclass.push(c);
        e.className = newclass.join(' ');
    };

    me.removeClass = function (e, c) {
        if ( !me.hasClass(e, c) ) {
            return;
        }

        var re = new RegExp("(^|\\s)" + c + "(\\s|$)", 'g');
        e.className = e.className.replace(re, ' ');
    };

    me.offset = function (el) {
        var left = -el.offsetLeft,
            top = -el.offsetTop;

        // jshint -W084
        while (el = el.offsetParent) {
            left -= el.offsetLeft;
            top -= el.offsetTop;
        }
        // jshint +W084

        return {
            left: left,
            top: top
        };
    };

    me.preventDefaultException = function (el, exceptions) {
        for ( var i in exceptions ) {
            if ( exceptions[i].test(el[i]) ) {
                return true;
            }
        }

        return false;
    };

    me.extend(me.eventType = {}, {
        touchstart: 1,
        touchmove: 1,
        touchend: 1,

        mousedown: 2,
        mousemove: 2,
        mouseup: 2,

        pointerdown: 3,
        pointermove: 3,
        pointerup: 3,

        MSPointerDown: 3,
        MSPointerMove: 3,
        MSPointerUp: 3
    });

    me.extend(me.ease = {}, {
        quadratic: {
            style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',
            fn: function (k) {
                return k * ( 2 - k );
            }
        },
        circular: {
            style: 'cubic-bezier(0.1, 0.57, 0.1, 1)',   // Not properly "circular" but this looks better, it should be (0.075, 0.82, 0.165, 1)
            fn: function (k) {
                return Math.sqrt( 1 - ( --k * k ) );
            }
        },
        back: {
            style: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',
            fn: function (k) {
                var b = 4;
                return ( k = k - 1 ) * k * ( ( b + 1 ) * k + b ) + 1;
            }
        },
        bounce: {
            style: '',
            fn: function (k) {
                if ( ( k /= 1 ) < ( 1 / 2.75 ) ) {
                    return 7.5625 * k * k;
                } else if ( k < ( 2 / 2.75 ) ) {
                    return 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;
                } else if ( k < ( 2.5 / 2.75 ) ) {
                    return 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;
                } else {
                    return 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;
                }
            }
        },
        elastic: {
            style: '',
            fn: function (k) {
                var f = 0.22,
                    e = 0.4;

                if ( k === 0 ) { return 0; }
                if ( k == 1 ) { return 1; }

                return ( e * Math.pow( 2, - 10 * k ) * Math.sin( ( k - f / 4 ) * ( 2 * Math.PI ) / f ) + 1 );
            }
        }
    });

    me.tap = function (e, eventName) {
        var ev = document.createEvent('Event');
        ev.initEvent(eventName, true, true);
        ev.pageX = e.pageX;
        ev.pageY = e.pageY;
        e.target.dispatchEvent(ev);
    };

    me.click = function (e) {
        var target = e.target,
            ev;

        if ( !(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) ) {
            // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent
            // initMouseEvent is deprecated.
            ev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');
            ev.initEvent('click', true, true);
            ev.view = e.view || window;
            ev.detail = 1;
            ev.screenX = target.screenX || 0;
            ev.screenY = target.screenY || 0;
            ev.clientX = target.clientX || 0;
            ev.clientY = target.clientY || 0;
            ev.ctrlKey = !!e.ctrlKey;
            ev.altKey = !!e.altKey;
            ev.shiftKey = !!e.shiftKey;
            ev.metaKey = !!e.metaKey;
            ev.button = 0;
            ev.relatedTarget = null;
            ev._constructed = true;
            target.dispatchEvent(ev);
        }
    };

    return me;
})();
function IScroll (el, options) {
    this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;
    this.scroller = this.wrapper.children[0];
    this.scrollerStyle = this.scroller.style;       // cache style for better performance

    this.options = {

        resizeScrollbars: true,

        mouseWheelSpeed: 20,

        snapThreshold: 0.334,

// INSERT POINT: OPTIONS
        disablePointer : !utils.hasPointer,
        disableTouch : utils.hasPointer || !utils.hasTouch,
        disableMouse : utils.hasPointer || utils.hasTouch,
        startX: 0,
        startY: 0,
        scrollY: true,
        directionLockThreshold: 5,
        momentum: true,

        bounce: true,
        bounceTime: 600,
        bounceEasing: '',

        preventDefault: true,
        preventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/ },

        HWCompositing: true,
        useTransition: true,
        useTransform: true,
        bindToWrapper: typeof window.onmousedown === "undefined"
    };

    for ( var i in options ) {
        this.options[i] = options[i];
    }

    // Normalize options
    this.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';

    this.options.useTransition = utils.hasTransition && this.options.useTransition;
    this.options.useTransform = utils.hasTransform && this.options.useTransform;

    this.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;
    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;

    // If you want eventPassthrough I have to lock one of the axes
    this.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;
    this.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;

    // With eventPassthrough we also need lockDirection mechanism
    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;
    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;

    this.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;

    this.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;

    if ( this.options.tap === true ) {
        this.options.tap = 'tap';
    }

    // https://github.com/cubiq/iscroll/issues/1029
    if (!this.options.useTransition && !this.options.useTransform) {
        if(!(/relative|absolute/i).test(this.scrollerStyle.position)) {
            this.scrollerStyle.position = "relative";
        }
    }

    if ( this.options.shrinkScrollbars == 'scale' ) {
        this.options.useTransition = false;
    }

    this.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;

// INSERT POINT: NORMALIZATION

    // Some defaults
    this.x = 0;
    this.y = 0;
    this.directionX = 0;
    this.directionY = 0;
    this._events = {};

// INSERT POINT: DEFAULTS

    this._init();
    this.refresh();

    this.scrollTo(this.options.startX, this.options.startY);
    this.enable();
}

IScroll.prototype = {
    version: '5.2.0',

    _init: function () {
        this._initEvents();

        if ( this.options.scrollbars || this.options.indicators ) {
            this._initIndicators();
        }

        if ( this.options.mouseWheel ) {
            this._initWheel();
        }

        if ( this.options.snap ) {
            this._initSnap();
        }

        if ( this.options.keyBindings ) {
            this._initKeys();
        }

// INSERT POINT: _init

    },

    destroy: function () {
        this._initEvents(true);
        clearTimeout(this.resizeTimeout);
        this.resizeTimeout = null;
        this._execEvent('destroy');
    },

    _transitionEnd: function (e) {
        if ( e.target != this.scroller || !this.isInTransition ) {
            return;
        }

        this._transitionTime();
        if ( !this.resetPosition(this.options.bounceTime) ) {
            this.isInTransition = false;
            this._execEvent('scrollEnd');
        }
    },

    _start: function (e) {
        // React to left mouse button only
        if ( utils.eventType[e.type] != 1 ) {
          // for button property
          // http://unixpapa.com/js/mouse.html
          var button;
        if (!e.which) {
          /* IE case */
          button = (e.button < 2) ? 0 :
                   ((e.button == 4) ? 1 : 2);
        } else {
          /* All others */
          button = e.button;
        }
            if ( button !== 0 ) {
                return;
            }
        }

        if ( !this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated) ) {
            return;
        }

        if ( this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {
            e.preventDefault();
        }

        var point = e.touches ? e.touches[0] : e,
            pos;

        this.initiated  = utils.eventType[e.type];
        this.moved      = false;
        this.distX      = 0;
        this.distY      = 0;
        this.directionX = 0;
        this.directionY = 0;
        this.directionLocked = 0;

        this.startTime = utils.getTime();

        if ( this.options.useTransition && this.isInTransition ) {
            this._transitionTime();
            this.isInTransition = false;
            pos = this.getComputedPosition();
            this._translate(Math.round(pos.x), Math.round(pos.y));
            this._execEvent('scrollEnd');
        } else if ( !this.options.useTransition && this.isAnimating ) {
            this.isAnimating = false;
            this._execEvent('scrollEnd');
        }

        this.startX    = this.x;
        this.startY    = this.y;
        this.absStartX = this.x;
        this.absStartY = this.y;
        this.pointX    = point.pageX;
        this.pointY    = point.pageY;

        this._execEvent('beforeScrollStart');
    },

    _move: function (e) {
        if ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {
            return;
        }

        if ( this.options.preventDefault ) {    // increases performance on Android? TODO: check!
            e.preventDefault();
        }

        var point       = e.touches ? e.touches[0] : e,
            deltaX      = point.pageX - this.pointX,
            deltaY      = point.pageY - this.pointY,
            timestamp   = utils.getTime(),
            newX, newY,
            absDistX, absDistY;

        this.pointX     = point.pageX;
        this.pointY     = point.pageY;

        this.distX      += deltaX;
        this.distY      += deltaY;
        absDistX        = Math.abs(this.distX);
        absDistY        = Math.abs(this.distY);

        // We need to move at least 10 pixels for the scrolling to initiate
        if ( timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10) ) {
            return;
        }

        // If you are scrolling in one direction lock the other
        if ( !this.directionLocked && !this.options.freeScroll ) {
            if ( absDistX > absDistY + this.options.directionLockThreshold ) {
                this.directionLocked = 'h';     // lock horizontally
            } else if ( absDistY >= absDistX + this.options.directionLockThreshold ) {
                this.directionLocked = 'v';     // lock vertically
            } else {
                this.directionLocked = 'n';     // no lock
            }
        }

        if ( this.directionLocked == 'h' ) {
            if ( this.options.eventPassthrough == 'vertical' ) {
                e.preventDefault();
            } else if ( this.options.eventPassthrough == 'horizontal' ) {
                this.initiated = false;
                return;
            }

            deltaY = 0;
        } else if ( this.directionLocked == 'v' ) {
            if ( this.options.eventPassthrough == 'horizontal' ) {
                e.preventDefault();
            } else if ( this.options.eventPassthrough == 'vertical' ) {
                this.initiated = false;
                return;
            }

            deltaX = 0;
        }

        deltaX = this.hasHorizontalScroll ? deltaX : 0;
        deltaY = this.hasVerticalScroll ? deltaY : 0;

        newX = this.x + deltaX;
        newY = this.y + deltaY;

        // Slow down if outside of the boundaries
        if ( newX > 0 || newX < this.maxScrollX ) {
            newX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;
        }
        if ( newY > 0 || newY < this.maxScrollY ) {
            newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;
        }

        this.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;
        this.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;

        if ( !this.moved ) {
            this._execEvent('scrollStart');
        }

        this.moved = true;

        this._translate(newX, newY);

/* REPLACE START: _move */

        if ( timestamp - this.startTime > 300 ) {
            this.startTime = timestamp;
            this.startX = this.x;
            this.startY = this.y;
        }

/* REPLACE END: _move */

    },

    _end: function (e) {
        if ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {
            return;
        }

        if ( this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {
            e.preventDefault();
        }

        var point = e.changedTouches ? e.changedTouches[0] : e,
            momentumX,
            momentumY,
            duration = utils.getTime() - this.startTime,
            newX = Math.round(this.x),
            newY = Math.round(this.y),
            distanceX = Math.abs(newX - this.startX),
            distanceY = Math.abs(newY - this.startY),
            time = 0,
            easing = '';

        this.isInTransition = 0;
        this.initiated = 0;
        this.endTime = utils.getTime();

        // reset if we are outside of the boundaries
        if ( this.resetPosition(this.options.bounceTime) ) {
            return;
        }

        this.scrollTo(newX, newY);  // ensures that the last position is rounded

        // we scrolled less than 10 pixels
        if ( !this.moved ) {
            if ( this.options.tap ) {
                utils.tap(e, this.options.tap);
            }

            if ( this.options.click ) {
                utils.click(e);
            }

            this._execEvent('scrollCancel');
            return;
        }

        if ( this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100 ) {
            this._execEvent('flick');
            return;
        }

        // start momentum animation if needed
        if ( this.options.momentum && duration < 300 ) {
            momentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };
            momentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };
            newX = momentumX.destination;
            newY = momentumY.destination;
            time = Math.max(momentumX.duration, momentumY.duration);
            this.isInTransition = 1;
        }


        if ( this.options.snap ) {
            var snap = this._nearestSnap(newX, newY);
            this.currentPage = snap;
            time = this.options.snapSpeed || Math.max(
                    Math.max(
                        Math.min(Math.abs(newX - snap.x), 1000),
                        Math.min(Math.abs(newY - snap.y), 1000)
                    ), 300);
            newX = snap.x;
            newY = snap.y;

            this.directionX = 0;
            this.directionY = 0;
            easing = this.options.bounceEasing;
        }

// INSERT POINT: _end

        if ( newX != this.x || newY != this.y ) {
            // change easing function when scroller goes out of the boundaries
            if ( newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY ) {
                easing = utils.ease.quadratic;
            }

            this.scrollTo(newX, newY, time, easing);
            return;
        }

        this._execEvent('scrollEnd');
    },

    _resize: function () {
        var that = this;

        clearTimeout(this.resizeTimeout);

        this.resizeTimeout = setTimeout(function () {
            that.refresh();
        }, this.options.resizePolling);
    },

    resetPosition: function (time) {
        var x = this.x,
            y = this.y;

        time = time || 0;

        if ( !this.hasHorizontalScroll || this.x > 0 ) {
            x = 0;
        } else if ( this.x < this.maxScrollX ) {
            x = this.maxScrollX;
        }

        if ( !this.hasVerticalScroll || this.y > 0 ) {
            y = 0;
        } else if ( this.y < this.maxScrollY ) {
            y = this.maxScrollY;
        }

        if ( x == this.x && y == this.y ) {
            return false;
        }

        this.scrollTo(x, y, time, this.options.bounceEasing);

        return true;
    },

    disable: function () {
        this.enabled = false;
    },

    enable: function () {
        this.enabled = true;
    },

    refresh: function () {
        var rf = this.wrapper.offsetHeight;     // Force reflow

        this.wrapperWidth   = this.wrapper.clientWidth;
        this.wrapperHeight  = this.wrapper.clientHeight;

/* REPLACE START: refresh */

        this.scrollerWidth  = this.scroller.offsetWidth;
        this.scrollerHeight = this.scroller.offsetHeight;

        this.maxScrollX     = this.wrapperWidth - this.scrollerWidth;
        this.maxScrollY     = this.wrapperHeight - this.scrollerHeight;

/* REPLACE END: refresh */

        this.hasHorizontalScroll    = this.options.scrollX && this.maxScrollX < 0;
        this.hasVerticalScroll      = this.options.scrollY && this.maxScrollY < 0;

        if ( !this.hasHorizontalScroll ) {
            this.maxScrollX = 0;
            this.scrollerWidth = this.wrapperWidth;
        }

        if ( !this.hasVerticalScroll ) {
            this.maxScrollY = 0;
            this.scrollerHeight = this.wrapperHeight;
        }

        this.endTime = 0;
        this.directionX = 0;
        this.directionY = 0;

        this.wrapperOffset = utils.offset(this.wrapper);

        this._execEvent('refresh');

        this.resetPosition();

// INSERT POINT: _refresh

    },

    on: function (type, fn) {
        if ( !this._events[type] ) {
            this._events[type] = [];
        }

        this._events[type].push(fn);
    },

    off: function (type, fn) {
        if ( !this._events[type] ) {
            return;
        }

        var index = this._events[type].indexOf(fn);

        if ( index > -1 ) {
            this._events[type].splice(index, 1);
        }
    },

    _execEvent: function (type) {
        if ( !this._events[type] ) {
            return;
        }

        var i = 0,
            l = this._events[type].length;

        if ( !l ) {
            return;
        }

        for ( ; i < l; i++ ) {
            this._events[type][i].apply(this, [].slice.call(arguments, 1));
        }
    },

    scrollBy: function (x, y, time, easing) {
        x = this.x + x;
        y = this.y + y;
        time = time || 0;

        this.scrollTo(x, y, time, easing);
    },

    scrollTo: function (x, y, time, easing) {
        easing = easing || utils.ease.circular;

        this.isInTransition = this.options.useTransition && time > 0;
        var transitionType = this.options.useTransition && easing.style;
        if ( !time || transitionType ) {
                if(transitionType) {
                    this._transitionTimingFunction(easing.style);
                    this._transitionTime(time);
                }
            this._translate(x, y);
        } else {
            this._animate(x, y, time, easing.fn);
        }
    },

    scrollToElement: function (el, time, offsetX, offsetY, easing) {
        el = el.nodeType ? el : this.scroller.querySelector(el);

        if ( !el ) {
            return;
        }

        var pos = utils.offset(el);

        pos.left -= this.wrapperOffset.left;
        pos.top  -= this.wrapperOffset.top;

        // if offsetX/Y are true we center the element to the screen
        if ( offsetX === true ) {
            offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);
        }
        if ( offsetY === true ) {
            offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);
        }

        pos.left -= offsetX || 0;
        pos.top  -= offsetY || 0;

        pos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;
        pos.top  = pos.top  > 0 ? 0 : pos.top  < this.maxScrollY ? this.maxScrollY : pos.top;

        time = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x-pos.left), Math.abs(this.y-pos.top)) : time;

        this.scrollTo(pos.left, pos.top, time, easing);
    },

    _transitionTime: function (time) {
        if (!this.options.useTransition) {
            return;
        }
        time = time || 0;
        var durationProp = utils.style.transitionDuration;
        if(!durationProp) {
            return;
        }

        this.scrollerStyle[durationProp] = time + 'ms';

        if ( !time && utils.isBadAndroid ) {
            this.scrollerStyle[durationProp] = '0.0001ms';
            // remove 0.0001ms
            var self = this;
            rAF(function() {
                if(self.scrollerStyle[durationProp] === '0.0001ms') {
                    self.scrollerStyle[durationProp] = '0s';
                }
            });
        }


        if ( this.indicators ) {
            for ( var i = this.indicators.length; i--; ) {
                this.indicators[i].transitionTime(time);
            }
        }


// INSERT POINT: _transitionTime

    },

    _transitionTimingFunction: function (easing) {
        this.scrollerStyle[utils.style.transitionTimingFunction] = easing;


        if ( this.indicators ) {
            for ( var i = this.indicators.length; i--; ) {
                this.indicators[i].transitionTimingFunction(easing);
            }
        }


// INSERT POINT: _transitionTimingFunction

    },

    _translate: function (x, y) {
        if ( this.options.useTransform ) {

/* REPLACE START: _translate */

            this.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;

/* REPLACE END: _translate */

        } else {
            x = Math.round(x);
            y = Math.round(y);
            this.scrollerStyle.left = x + 'px';
            this.scrollerStyle.top = y + 'px';
        }

        this.x = x;
        this.y = y;


    if ( this.indicators ) {
        for ( var i = this.indicators.length; i--; ) {
            this.indicators[i].updatePosition();
        }
    }


// INSERT POINT: _translate

    },

    _initEvents: function (remove) {
        var eventType = remove ? utils.removeEvent : utils.addEvent,
            target = this.options.bindToWrapper ? this.wrapper : window;

        eventType(window, 'orientationchange', this);
        eventType(window, 'resize', this);

        if ( this.options.click ) {
            eventType(this.wrapper, 'click', this, true);
        }

        if ( !this.options.disableMouse ) {
            eventType(this.wrapper, 'mousedown', this);
            eventType(target, 'mousemove', this);
            eventType(target, 'mousecancel', this);
            eventType(target, 'mouseup', this);
        }

        if ( utils.hasPointer && !this.options.disablePointer ) {
            eventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);
            eventType(target, utils.prefixPointerEvent('pointermove'), this);
            eventType(target, utils.prefixPointerEvent('pointercancel'), this);
            eventType(target, utils.prefixPointerEvent('pointerup'), this);
        }

        if ( utils.hasTouch && !this.options.disableTouch ) {
            eventType(this.wrapper, 'touchstart', this);
            eventType(target, 'touchmove', this);
            eventType(target, 'touchcancel', this);
            eventType(target, 'touchend', this);
        }

        eventType(this.scroller, 'transitionend', this);
        eventType(this.scroller, 'webkitTransitionEnd', this);
        eventType(this.scroller, 'oTransitionEnd', this);
        eventType(this.scroller, 'MSTransitionEnd', this);
    },

    getComputedPosition: function () {
        var matrix = window.getComputedStyle(this.scroller, null),
            x, y;

        if ( this.options.useTransform ) {
            matrix = matrix[utils.style.transform].split(')')[0].split(', ');
            x = +(matrix[12] || matrix[4]);
            y = +(matrix[13] || matrix[5]);
        } else {
            x = +matrix.left.replace(/[^-\d.]/g, '');
            y = +matrix.top.replace(/[^-\d.]/g, '');
        }

        return { x: x, y: y };
    },
    _initIndicators: function () {
        var interactive = this.options.interactiveScrollbars,
            customStyle = typeof this.options.scrollbars != 'string',
            indicators = [],
            indicator;

        var that = this;

        this.indicators = [];

        if ( this.options.scrollbars ) {
            // Vertical scrollbar
            if ( this.options.scrollY ) {
                indicator = {
                    el: createDefaultScrollbar('v', interactive, this.options.scrollbars),
                    interactive: interactive,
                    defaultScrollbars: true,
                    customStyle: customStyle,
                    resize: this.options.resizeScrollbars,
                    shrink: this.options.shrinkScrollbars,
                    fade: this.options.fadeScrollbars,
                    listenX: false
                };

                this.wrapper.appendChild(indicator.el);
                indicators.push(indicator);
            }

            // Horizontal scrollbar
            if ( this.options.scrollX ) {
                indicator = {
                    el: createDefaultScrollbar('h', interactive, this.options.scrollbars),
                    interactive: interactive,
                    defaultScrollbars: true,
                    customStyle: customStyle,
                    resize: this.options.resizeScrollbars,
                    shrink: this.options.shrinkScrollbars,
                    fade: this.options.fadeScrollbars,
                    listenY: false
                };

                this.wrapper.appendChild(indicator.el);
                indicators.push(indicator);
            }
        }

        if ( this.options.indicators ) {
            // TODO: check concat compatibility
            indicators = indicators.concat(this.options.indicators);
        }

        for ( var i = indicators.length; i--; ) {
            this.indicators.push( new Indicator(this, indicators[i]) );
        }

        // TODO: check if we can use array.map (wide compatibility and performance issues)
        function _indicatorsMap (fn) {
            if (that.indicators) {
                for ( var i = that.indicators.length; i--; ) {
                    fn.call(that.indicators[i]);
                }
            }
        }

        if ( this.options.fadeScrollbars ) {
            this.on('scrollEnd', function () {
                _indicatorsMap(function () {
                    this.fade();
                });
            });

            this.on('scrollCancel', function () {
                _indicatorsMap(function () {
                    this.fade();
                });
            });

            this.on('scrollStart', function () {
                _indicatorsMap(function () {
                    this.fade(1);
                });
            });

            this.on('beforeScrollStart', function () {
                _indicatorsMap(function () {
                    this.fade(1, true);
                });
            });
        }


        this.on('refresh', function () {
            _indicatorsMap(function () {
                this.refresh();
            });
        });

        this.on('destroy', function () {
            _indicatorsMap(function () {
                this.destroy();
            });

            delete this.indicators;
        });
    },

    _initWheel: function () {
        utils.addEvent(this.wrapper, 'wheel', this);
        utils.addEvent(this.wrapper, 'mousewheel', this);
        utils.addEvent(this.wrapper, 'DOMMouseScroll', this);

        this.on('destroy', function () {
            clearTimeout(this.wheelTimeout);
            this.wheelTimeout = null;
            utils.removeEvent(this.wrapper, 'wheel', this);
            utils.removeEvent(this.wrapper, 'mousewheel', this);
            utils.removeEvent(this.wrapper, 'DOMMouseScroll', this);
        });
    },

    _wheel: function (e) {
        if ( !this.enabled ) {
            return;
        }

        var wheelDeltaX, wheelDeltaY,
            newX, newY,
            that = this;

        if ( this.wheelTimeout === undefined ) {
            that._execEvent('scrollStart');
        }

        // Execute the scrollEnd event after 400ms the wheel stopped scrolling
        clearTimeout(this.wheelTimeout);
        this.wheelTimeout = setTimeout(function () {
            if(!that.options.snap) {
                that._execEvent('scrollEnd');
            }
            that.wheelTimeout = undefined;
        }, 400);

        if ( 'deltaX' in e ) {
            if (e.deltaMode === 1) {
                wheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;
                wheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;
            } else {
                wheelDeltaX = -e.deltaX;
                wheelDeltaY = -e.deltaY;
            }
        } else if ( 'wheelDeltaX' in e ) {
            wheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;
            wheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;
        } else if ( 'wheelDelta' in e ) {
            wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;
        } else if ( 'detail' in e ) {
            wheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;
        } else {
            return;
        }

        wheelDeltaX *= this.options.invertWheelDirection;
        wheelDeltaY *= this.options.invertWheelDirection;

        if ( !this.hasVerticalScroll ) {
            wheelDeltaX = wheelDeltaY;
            wheelDeltaY = 0;
        }

        if ( this.options.snap ) {
            newX = this.currentPage.pageX;
            newY = this.currentPage.pageY;

            if ( wheelDeltaX > 0 ) {
                newX--;
            } else if ( wheelDeltaX < 0 ) {
                newX++;
            }

            if ( wheelDeltaY > 0 ) {
                newY--;
            } else if ( wheelDeltaY < 0 ) {
                newY++;
            }

            this.goToPage(newX, newY);

            return;
        }

        newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);
        newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);

        this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;
        this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;

        if ( newX > 0 ) {
            newX = 0;
        } else if ( newX < this.maxScrollX ) {
            newX = this.maxScrollX;
        }

        if ( newY > 0 ) {
            newY = 0;
        } else if ( newY < this.maxScrollY ) {
            newY = this.maxScrollY;
        }

        this.scrollTo(newX, newY, 0);

// INSERT POINT: _wheel
    },

    _initSnap: function () {
        this.currentPage = {};

        if ( typeof this.options.snap == 'string' ) {
            this.options.snap = this.scroller.querySelectorAll(this.options.snap);
        }

        this.on('refresh', function () {
            var i = 0, l,
                m = 0, n,
                cx, cy,
                x = 0, y,
                stepX = this.options.snapStepX || this.wrapperWidth,
                stepY = this.options.snapStepY || this.wrapperHeight,
                el;

            this.pages = [];

            if ( !this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight ) {
                return;
            }

            if ( this.options.snap === true ) {
                cx = Math.round( stepX / 2 );
                cy = Math.round( stepY / 2 );

                while ( x > -this.scrollerWidth ) {
                    this.pages[i] = [];
                    l = 0;
                    y = 0;

                    while ( y > -this.scrollerHeight ) {
                        this.pages[i][l] = {
                            x: Math.max(x, this.maxScrollX),
                            y: Math.max(y, this.maxScrollY),
                            width: stepX,
                            height: stepY,
                            cx: x - cx,
                            cy: y - cy
                        };

                        y -= stepY;
                        l++;
                    }

                    x -= stepX;
                    i++;
                }
            } else {
                el = this.options.snap;
                l = el.length;
                n = -1;

                for ( ; i < l; i++ ) {
                    if ( i === 0 || el[i].offsetLeft <= el[i-1].offsetLeft ) {
                        m = 0;
                        n++;
                    }

                    if ( !this.pages[m] ) {
                        this.pages[m] = [];
                    }

                    x = Math.max(-el[i].offsetLeft, this.maxScrollX);
                    y = Math.max(-el[i].offsetTop, this.maxScrollY);
                    cx = x - Math.round(el[i].offsetWidth / 2);
                    cy = y - Math.round(el[i].offsetHeight / 2);

                    this.pages[m][n] = {
                        x: x,
                        y: y,
                        width: el[i].offsetWidth,
                        height: el[i].offsetHeight,
                        cx: cx,
                        cy: cy
                    };

                    if ( x > this.maxScrollX ) {
                        m++;
                    }
                }
            }

            this.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);

            // Update snap threshold if needed
            if ( this.options.snapThreshold % 1 === 0 ) {
                this.snapThresholdX = this.options.snapThreshold;
                this.snapThresholdY = this.options.snapThreshold;
            } else {
                this.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);
                this.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);
            }
        });

        this.on('flick', function () {
            var time = this.options.snapSpeed || Math.max(
                    Math.max(
                        Math.min(Math.abs(this.x - this.startX), 1000),
                        Math.min(Math.abs(this.y - this.startY), 1000)
                    ), 300);

            this.goToPage(
                this.currentPage.pageX + this.directionX,
                this.currentPage.pageY + this.directionY,
                time
            );
        });
    },

    _nearestSnap: function (x, y) {
        if ( !this.pages.length ) {
            return { x: 0, y: 0, pageX: 0, pageY: 0 };
        }

        var i = 0,
            l = this.pages.length,
            m = 0;

        // Check if we exceeded the snap threshold
        if ( Math.abs(x - this.absStartX) < this.snapThresholdX &&
            Math.abs(y - this.absStartY) < this.snapThresholdY ) {
            return this.currentPage;
        }

        if ( x > 0 ) {
            x = 0;
        } else if ( x < this.maxScrollX ) {
            x = this.maxScrollX;
        }

        if ( y > 0 ) {
            y = 0;
        } else if ( y < this.maxScrollY ) {
            y = this.maxScrollY;
        }

        for ( ; i < l; i++ ) {
            if ( x >= this.pages[i][0].cx ) {
                x = this.pages[i][0].x;
                break;
            }
        }

        l = this.pages[i].length;

        for ( ; m < l; m++ ) {
            if ( y >= this.pages[0][m].cy ) {
                y = this.pages[0][m].y;
                break;
            }
        }

        if ( i == this.currentPage.pageX ) {
            i += this.directionX;

            if ( i < 0 ) {
                i = 0;
            } else if ( i >= this.pages.length ) {
                i = this.pages.length - 1;
            }

            x = this.pages[i][0].x;
        }

        if ( m == this.currentPage.pageY ) {
            m += this.directionY;

            if ( m < 0 ) {
                m = 0;
            } else if ( m >= this.pages[0].length ) {
                m = this.pages[0].length - 1;
            }

            y = this.pages[0][m].y;
        }

        return {
            x: x,
            y: y,
            pageX: i,
            pageY: m
        };
    },

    goToPage: function (x, y, time, easing) {
        easing = easing || this.options.bounceEasing;

        if ( x >= this.pages.length ) {
            x = this.pages.length - 1;
        } else if ( x < 0 ) {
            x = 0;
        }

        if ( y >= this.pages[x].length ) {
            y = this.pages[x].length - 1;
        } else if ( y < 0 ) {
            y = 0;
        }

        var posX = this.pages[x][y].x,
            posY = this.pages[x][y].y;

        time = time === undefined ? this.options.snapSpeed || Math.max(
            Math.max(
                Math.min(Math.abs(posX - this.x), 1000),
                Math.min(Math.abs(posY - this.y), 1000)
            ), 300) : time;

        this.currentPage = {
            x: posX,
            y: posY,
            pageX: x,
            pageY: y
        };

        this.scrollTo(posX, posY, time, easing);
    },

    next: function (time, easing) {
        var x = this.currentPage.pageX,
            y = this.currentPage.pageY;

        x++;

        if ( x >= this.pages.length && this.hasVerticalScroll ) {
            x = 0;
            y++;
        }

        this.goToPage(x, y, time, easing);
    },

    prev: function (time, easing) {
        var x = this.currentPage.pageX,
            y = this.currentPage.pageY;

        x--;

        if ( x < 0 && this.hasVerticalScroll ) {
            x = 0;
            y--;
        }

        this.goToPage(x, y, time, easing);
    },

    _initKeys: function (e) {
        // default key bindings
        var keys = {
            pageUp: 33,
            pageDown: 34,
            end: 35,
            home: 36,
            left: 37,
            up: 38,
            right: 39,
            down: 40
        };
        var i;

        // if you give me characters I give you keycode
        if ( typeof this.options.keyBindings == 'object' ) {
            for ( i in this.options.keyBindings ) {
                if ( typeof this.options.keyBindings[i] == 'string' ) {
                    this.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);
                }
            }
        } else {
            this.options.keyBindings = {};
        }

        for ( i in keys ) {
            this.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];
        }

        utils.addEvent(window, 'keydown', this);

        this.on('destroy', function () {
            utils.removeEvent(window, 'keydown', this);
        });
    },

    _key: function (e) {
        if ( !this.enabled ) {
            return;
        }

        var snap = this.options.snap,   // we are using this alot, better to cache it
            newX = snap ? this.currentPage.pageX : this.x,
            newY = snap ? this.currentPage.pageY : this.y,
            now = utils.getTime(),
            prevTime = this.keyTime || 0,
            acceleration = 0.250,
            pos;

        if ( this.options.useTransition && this.isInTransition ) {
            pos = this.getComputedPosition();

            this._translate(Math.round(pos.x), Math.round(pos.y));
            this.isInTransition = false;
        }

        this.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;

        switch ( e.keyCode ) {
            case this.options.keyBindings.pageUp:
                if ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {
                    newX += snap ? 1 : this.wrapperWidth;
                } else {
                    newY += snap ? 1 : this.wrapperHeight;
                }
                break;
            case this.options.keyBindings.pageDown:
                if ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {
                    newX -= snap ? 1 : this.wrapperWidth;
                } else {
                    newY -= snap ? 1 : this.wrapperHeight;
                }
                break;
            case this.options.keyBindings.end:
                newX = snap ? this.pages.length-1 : this.maxScrollX;
                newY = snap ? this.pages[0].length-1 : this.maxScrollY;
                break;
            case this.options.keyBindings.home:
                newX = 0;
                newY = 0;
                break;
            case this.options.keyBindings.left:
                newX += snap ? -1 : 5 + this.keyAcceleration>>0;
                break;
            case this.options.keyBindings.up:
                newY += snap ? 1 : 5 + this.keyAcceleration>>0;
                break;
            case this.options.keyBindings.right:
                newX -= snap ? -1 : 5 + this.keyAcceleration>>0;
                break;
            case this.options.keyBindings.down:
                newY -= snap ? 1 : 5 + this.keyAcceleration>>0;
                break;
            default:
                return;
        }

        if ( snap ) {
            this.goToPage(newX, newY);
            return;
        }

        if ( newX > 0 ) {
            newX = 0;
            this.keyAcceleration = 0;
        } else if ( newX < this.maxScrollX ) {
            newX = this.maxScrollX;
            this.keyAcceleration = 0;
        }

        if ( newY > 0 ) {
            newY = 0;
            this.keyAcceleration = 0;
        } else if ( newY < this.maxScrollY ) {
            newY = this.maxScrollY;
            this.keyAcceleration = 0;
        }

        this.scrollTo(newX, newY, 0);

        this.keyTime = now;
    },

    _animate: function (destX, destY, duration, easingFn) {
        var that = this,
            startX = this.x,
            startY = this.y,
            startTime = utils.getTime(),
            destTime = startTime + duration;

        function step () {
            var now = utils.getTime(),
                newX, newY,
                easing;

            if ( now >= destTime ) {
                that.isAnimating = false;
                that._translate(destX, destY);

                if ( !that.resetPosition(that.options.bounceTime) ) {
                    that._execEvent('scrollEnd');
                }

                return;
            }

            now = ( now - startTime ) / duration;
            easing = easingFn(now);
            newX = ( destX - startX ) * easing + startX;
            newY = ( destY - startY ) * easing + startY;
            that._translate(newX, newY);

            if ( that.isAnimating ) {
                rAF(step);
            }
        }

        this.isAnimating = true;
        step();
    },
    handleEvent: function (e) {
        switch ( e.type ) {
            case 'touchstart':
            case 'pointerdown':
            case 'MSPointerDown':
            case 'mousedown':
                this._start(e);
                break;
            case 'touchmove':
            case 'pointermove':
            case 'MSPointerMove':
            case 'mousemove':
                this._move(e);
                break;
            case 'touchend':
            case 'pointerup':
            case 'MSPointerUp':
            case 'mouseup':
            case 'touchcancel':
            case 'pointercancel':
            case 'MSPointerCancel':
            case 'mousecancel':
                this._end(e);
                break;
            case 'orientationchange':
            case 'resize':
                this._resize();
                break;
            case 'transitionend':
            case 'webkitTransitionEnd':
            case 'oTransitionEnd':
            case 'MSTransitionEnd':
                this._transitionEnd(e);
                break;
            case 'wheel':
            case 'DOMMouseScroll':
            case 'mousewheel':
                this._wheel(e);
                break;
            case 'keydown':
                this._key(e);
                break;
            case 'click':
                if ( this.enabled && !e._constructed ) {
                    e.preventDefault();
                    e.stopPropagation();
                }
                break;
        }
    }
};
function createDefaultScrollbar (direction, interactive, type) {
    var scrollbar = document.createElement('div'),
        indicator = document.createElement('div');

    if ( type === true ) {
        scrollbar.style.cssText = 'position:absolute;z-index:9999';
        indicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';
    }

    indicator.className = 'iScrollIndicator';

    if ( direction == 'h' ) {
        if ( type === true ) {
            scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';
            indicator.style.height = '100%';
        }
        scrollbar.className = 'iScrollHorizontalScrollbar';
    } else {
        if ( type === true ) {
            scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';
            indicator.style.width = '100%';
        }
        scrollbar.className = 'iScrollVerticalScrollbar';
    }

    scrollbar.style.cssText += ';overflow:hidden';

    if ( !interactive ) {
        scrollbar.style.pointerEvents = 'none';
    }

    scrollbar.appendChild(indicator);

    return scrollbar;
}

function Indicator (scroller, options) {
    this.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;
    this.wrapperStyle = this.wrapper.style;
    this.indicator = this.wrapper.children[0];
    this.indicatorStyle = this.indicator.style;
    this.scroller = scroller;

    this.options = {
        listenX: true,
        listenY: true,
        interactive: false,
        resize: true,
        defaultScrollbars: false,
        shrink: false,
        fade: false,
        speedRatioX: 0,
        speedRatioY: 0
    };

    for ( var i in options ) {
        this.options[i] = options[i];
    }

    this.sizeRatioX = 1;
    this.sizeRatioY = 1;
    this.maxPosX = 0;
    this.maxPosY = 0;

    if ( this.options.interactive ) {
        if ( !this.options.disableTouch ) {
            utils.addEvent(this.indicator, 'touchstart', this);
            utils.addEvent(window, 'touchend', this);
        }
        if ( !this.options.disablePointer ) {
            utils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);
            utils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);
        }
        if ( !this.options.disableMouse ) {
            utils.addEvent(this.indicator, 'mousedown', this);
            utils.addEvent(window, 'mouseup', this);
        }
    }

    if ( this.options.fade ) {
        this.wrapperStyle[utils.style.transform] = this.scroller.translateZ;
        var durationProp = utils.style.transitionDuration;
        if(!durationProp) {
            return;
        }
        this.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms';
        // remove 0.0001ms
        var self = this;
        if(utils.isBadAndroid) {
            rAF(function() {
                if(self.wrapperStyle[durationProp] === '0.0001ms') {
                    self.wrapperStyle[durationProp] = '0s';
                }
            });
        }
        this.wrapperStyle.opacity = '0';
    }
}

Indicator.prototype = {
    handleEvent: function (e) {
        switch ( e.type ) {
            case 'touchstart':
            case 'pointerdown':
            case 'MSPointerDown':
            case 'mousedown':
                this._start(e);
                break;
            case 'touchmove':
            case 'pointermove':
            case 'MSPointerMove':
            case 'mousemove':
                this._move(e);
                break;
            case 'touchend':
            case 'pointerup':
            case 'MSPointerUp':
            case 'mouseup':
            case 'touchcancel':
            case 'pointercancel':
            case 'MSPointerCancel':
            case 'mousecancel':
                this._end(e);
                break;
        }
    },

    destroy: function () {
        if ( this.options.fadeScrollbars ) {
            clearTimeout(this.fadeTimeout);
            this.fadeTimeout = null;
        }
        if ( this.options.interactive ) {
            utils.removeEvent(this.indicator, 'touchstart', this);
            utils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);
            utils.removeEvent(this.indicator, 'mousedown', this);

            utils.removeEvent(window, 'touchmove', this);
            utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);
            utils.removeEvent(window, 'mousemove', this);

            utils.removeEvent(window, 'touchend', this);
            utils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);
            utils.removeEvent(window, 'mouseup', this);
        }

        if ( this.options.defaultScrollbars ) {
            this.wrapper.parentNode.removeChild(this.wrapper);
        }
    },

    _start: function (e) {
        var point = e.touches ? e.touches[0] : e;

        e.preventDefault();
        e.stopPropagation();

        this.transitionTime();

        this.initiated = true;
        this.moved = false;
        this.lastPointX = point.pageX;
        this.lastPointY = point.pageY;

        this.startTime  = utils.getTime();

        if ( !this.options.disableTouch ) {
            utils.addEvent(window, 'touchmove', this);
        }
        if ( !this.options.disablePointer ) {
            utils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);
        }
        if ( !this.options.disableMouse ) {
            utils.addEvent(window, 'mousemove', this);
        }

        this.scroller._execEvent('beforeScrollStart');
    },

    _move: function (e) {
        var point = e.touches ? e.touches[0] : e,
            deltaX, deltaY,
            newX, newY,
            timestamp = utils.getTime();

        if ( !this.moved ) {
            this.scroller._execEvent('scrollStart');
        }

        this.moved = true;

        deltaX = point.pageX - this.lastPointX;
        this.lastPointX = point.pageX;

        deltaY = point.pageY - this.lastPointY;
        this.lastPointY = point.pageY;

        newX = this.x + deltaX;
        newY = this.y + deltaY;

        this._pos(newX, newY);

// INSERT POINT: indicator._move

        e.preventDefault();
        e.stopPropagation();
    },

    _end: function (e) {
        if ( !this.initiated ) {
            return;
        }

        this.initiated = false;

        e.preventDefault();
        e.stopPropagation();

        utils.removeEvent(window, 'touchmove', this);
        utils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);
        utils.removeEvent(window, 'mousemove', this);

        if ( this.scroller.options.snap ) {
            var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);

            var time = this.options.snapSpeed || Math.max(
                    Math.max(
                        Math.min(Math.abs(this.scroller.x - snap.x), 1000),
                        Math.min(Math.abs(this.scroller.y - snap.y), 1000)
                    ), 300);

            if ( this.scroller.x != snap.x || this.scroller.y != snap.y ) {
                this.scroller.directionX = 0;
                this.scroller.directionY = 0;
                this.scroller.currentPage = snap;
                this.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);
            }
        }

        if ( this.moved ) {
            this.scroller._execEvent('scrollEnd');
        }
    },

    transitionTime: function (time) {
        time = time || 0;
        var durationProp = utils.style.transitionDuration;
        if(!durationProp) {
            return;
        }

        this.indicatorStyle[durationProp] = time + 'ms';

        if ( !time && utils.isBadAndroid ) {
            this.indicatorStyle[durationProp] = '0.0001ms';
            // remove 0.0001ms
            var self = this;
            rAF(function() {
                if(self.indicatorStyle[durationProp] === '0.0001ms') {
                    self.indicatorStyle[durationProp] = '0s';
                }
            });
        }
    },

    transitionTimingFunction: function (easing) {
        this.indicatorStyle[utils.style.transitionTimingFunction] = easing;
    },

    refresh: function () {
        this.transitionTime();

        if ( this.options.listenX && !this.options.listenY ) {
            this.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';
        } else if ( this.options.listenY && !this.options.listenX ) {
            this.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';
        } else {
            this.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';
        }

        if ( this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ) {
            utils.addClass(this.wrapper, 'iScrollBothScrollbars');
            utils.removeClass(this.wrapper, 'iScrollLoneScrollbar');

            if ( this.options.defaultScrollbars && this.options.customStyle ) {
                if ( this.options.listenX ) {
                    this.wrapper.style.right = '8px';
                } else {
                    this.wrapper.style.bottom = '8px';
                }
            }
        } else {
            utils.removeClass(this.wrapper, 'iScrollBothScrollbars');
            utils.addClass(this.wrapper, 'iScrollLoneScrollbar');

            if ( this.options.defaultScrollbars && this.options.customStyle ) {
                if ( this.options.listenX ) {
                    this.wrapper.style.right = '2px';
                } else {
                    this.wrapper.style.bottom = '2px';
                }
            }
        }

        var r = this.wrapper.offsetHeight;  // force refresh

        if ( this.options.listenX ) {
            this.wrapperWidth = this.wrapper.clientWidth;
            if ( this.options.resize ) {
                this.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);
                this.indicatorStyle.width = this.indicatorWidth + 'px';
            } else {
                this.indicatorWidth = this.indicator.clientWidth;
            }

            this.maxPosX = this.wrapperWidth - this.indicatorWidth;

            if ( this.options.shrink == 'clip' ) {
                this.minBoundaryX = -this.indicatorWidth + 8;
                this.maxBoundaryX = this.wrapperWidth - 8;
            } else {
                this.minBoundaryX = 0;
                this.maxBoundaryX = this.maxPosX;
            }

            this.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));
        }

        if ( this.options.listenY ) {
            this.wrapperHeight = this.wrapper.clientHeight;
            if ( this.options.resize ) {
                this.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);
                this.indicatorStyle.height = this.indicatorHeight + 'px';
            } else {
                this.indicatorHeight = this.indicator.clientHeight;
            }

            this.maxPosY = this.wrapperHeight - this.indicatorHeight;

            if ( this.options.shrink == 'clip' ) {
                this.minBoundaryY = -this.indicatorHeight + 8;
                this.maxBoundaryY = this.wrapperHeight - 8;
            } else {
                this.minBoundaryY = 0;
                this.maxBoundaryY = this.maxPosY;
            }

            this.maxPosY = this.wrapperHeight - this.indicatorHeight;
            this.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));
        }

        this.updatePosition();
    },

    updatePosition: function () {
        var x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,
            y = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;

        if ( !this.options.ignoreBoundaries ) {
            if ( x < this.minBoundaryX ) {
                if ( this.options.shrink == 'scale' ) {
                    this.width = Math.max(this.indicatorWidth + x, 8);
                    this.indicatorStyle.width = this.width + 'px';
                }
                x = this.minBoundaryX;
            } else if ( x > this.maxBoundaryX ) {
                if ( this.options.shrink == 'scale' ) {
                    this.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);
                    this.indicatorStyle.width = this.width + 'px';
                    x = this.maxPosX + this.indicatorWidth - this.width;
                } else {
                    x = this.maxBoundaryX;
                }
            } else if ( this.options.shrink == 'scale' && this.width != this.indicatorWidth ) {
                this.width = this.indicatorWidth;
                this.indicatorStyle.width = this.width + 'px';
            }

            if ( y < this.minBoundaryY ) {
                if ( this.options.shrink == 'scale' ) {
                    this.height = Math.max(this.indicatorHeight + y * 3, 8);
                    this.indicatorStyle.height = this.height + 'px';
                }
                y = this.minBoundaryY;
            } else if ( y > this.maxBoundaryY ) {
                if ( this.options.shrink == 'scale' ) {
                    this.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);
                    this.indicatorStyle.height = this.height + 'px';
                    y = this.maxPosY + this.indicatorHeight - this.height;
                } else {
                    y = this.maxBoundaryY;
                }
            } else if ( this.options.shrink == 'scale' && this.height != this.indicatorHeight ) {
                this.height = this.indicatorHeight;
                this.indicatorStyle.height = this.height + 'px';
            }
        }

        this.x = x;
        this.y = y;

        if ( this.scroller.options.useTransform ) {
            this.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;
        } else {
            this.indicatorStyle.left = x + 'px';
            this.indicatorStyle.top = y + 'px';
        }
    },

    _pos: function (x, y) {
        if ( x < 0 ) {
            x = 0;
        } else if ( x > this.maxPosX ) {
            x = this.maxPosX;
        }

        if ( y < 0 ) {
            y = 0;
        } else if ( y > this.maxPosY ) {
            y = this.maxPosY;
        }

        x = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;
        y = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;

        this.scroller.scrollTo(x, y);
    },

    fade: function (val, hold) {
        if ( hold && !this.visible ) {
            return;
        }

        clearTimeout(this.fadeTimeout);
        this.fadeTimeout = null;

        var time = val ? 250 : 500,
            delay = val ? 0 : 300;

        val = val ? '1' : '0';

        this.wrapperStyle[utils.style.transitionDuration] = time + 'ms';

        this.fadeTimeout = setTimeout((function (val) {
            this.wrapperStyle.opacity = val;
            this.visible = +val;
        }).bind(this, val), delay);
    }
};

IScroll.utils = utils;

if ( typeof module != 'undefined' && module.exports ) {
    module.exports = IScroll;
} else if ( typeof define == 'function' && define.amd ) {
        define( function () { return IScroll; } );
} else {
    window.IScroll = IScroll;
}

})(window, document, Math);


/*!
* Scrolloverflow 2.0.0 module for fullPage.js >= 3
* https://github.com/alvarotrigo/fullPage.js
* @license MIT licensed
*
* Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo
*/
(function (window, document) {
    window.fp_scrolloverflow = (function() {

        // keeping central set of classnames and selectors
        var SCROLLABLE =            'fp-scrollable';
        var SCROLLABLE_SEL =        '.' + SCROLLABLE;

        var ACTIVE =                'active';
        var ACTIVE_SEL =            '.' + ACTIVE;

        var SECTION =               'fp-section';
        var SECTION_SEL =           '.' + SECTION;
        var SECTION_ACTIVE_SEL =    SECTION_SEL + ACTIVE_SEL;

        var SLIDE =                 'fp-slide';
        var SLIDE_SEL =             '.' + SLIDE;
        var SLIDE_ACTIVE_SEL =      SLIDE_SEL + ACTIVE_SEL;

        var SLIDES_WRAPPER =        'fp-slides';
        var SLIDES_WRAPPER_SEL =    '.' + SLIDES_WRAPPER;

        var TABLE_CELL =            'fp-tableCell';
        var TABLE_CELL_SEL =        '.' + TABLE_CELL;

        var RESPONSIVE =            'fp-responsive';
        var AUTO_HEIGHT_RESPONSIVE= 'fp-auto-height-responsive';

        /*
        * Turns iScroll `mousewheel` option off dynamically
        * https://github.com/cubiq/iscroll/issues/1036
        */
        IScroll.prototype.wheelOn = function () {
            this.wrapper.addEventListener('wheel', this);
            this.wrapper.addEventListener('mousewheel', this);
            this.wrapper.addEventListener('DOMMouseScroll', this);
        };

        /*
        * Turns iScroll `mousewheel` option on dynamically
        * https://github.com/cubiq/iscroll/issues/1036
        */
        IScroll.prototype.wheelOff = function () {
            this.wrapper.removeEventListener('wheel', this);
            this.wrapper.removeEventListener('mousewheel', this);
            this.wrapper.removeEventListener('DOMMouseScroll', this);
        };

        /**
        * Returns an integer representing the padding dimensions in px.
        */
        function getPaddings(element){
            var section = fp_utils.closest(element, SECTION_SEL);
            if(section != null){
                return parseInt(getComputedStyle(section)['padding-bottom']) + parseInt(getComputedStyle(section)['padding-top']);
            }
            return 0;
        }

        function scrollBarHandler(){
            var self = this;
            self.options = null;

            self.init = function(options, iscrollOptions){
                self.options = options;
                self.iscrollOptions = iscrollOptions;

                if(document.readyState === 'complete'){
                    createScrollBarForAll();
                    fullpage_api.shared.afterRenderActions();
                }
                //after DOM and images are loaded
                window.addEventListener('load', function(){
                    createScrollBarForAll();
                    fullpage_api.shared.afterRenderActions();
                });

                return self;
            };

            /**
            * Creates the scrollbar for the sections and slides in the site
            */
            function createScrollBarForAll(){
                if(fp_utils.hasClass(document.body, RESPONSIVE)){
                    removeResponsiveScrollOverflows();
                }
                else{
                    forEachSectionAndSlide(createScrollBar);
                }
            }

            /**
            * Checks if the element needs scrollbar and if the user wants to apply it.
            * If so it creates it.
            *
            * @param {Object} element   jQuery object of the section or slide
            */
            function createScrollBar(element){
                //User doesn't want scrollbar here? Sayonara baby!
                if(fp_utils.hasClass(element, 'fp-noscroll')) return;

                //necessary to make `scrollHeight` work under Opera 12
                fp_utils.css(element, {'overflow': 'hidden'});

                var scrollOverflowHandler = self.options.scrollOverflowHandler;
                var wrap = scrollOverflowHandler.wrapContent();
                var section = fp_utils.closest(element, SECTION_SEL); //in case element is a slide
                var scrollable = scrollOverflowHandler.scrollable(element);
                var contentHeight;
                var paddings = getPaddings(section);

                //if there was scroll, the contentHeight will be the one in the scrollable section
                if(scrollable != null){
                    contentHeight = scrollOverflowHandler.scrollHeight(element);
                }
                else{
                    contentHeight = element.scrollHeight - paddings;
                    if(self.options.verticalCentered){
                        contentHeight = $(TABLE_CELL_SEL, element)[0].scrollHeight - paddings;
                    }
                }

                var scrollHeight = fp_utils.getWindowHeight() - paddings;

                //needs scroll?
                if ( contentHeight > scrollHeight) {
                    //did we already have an scrollbar ? Updating it
                    if(scrollable != null){
                        scrollOverflowHandler.update(element, scrollHeight);
                    }
                     //creating the scrolling
                    else{
                        if(self.options.verticalCentered){
                            fp_utils.wrapInner($(TABLE_CELL_SEL, element)[0], wrap.scroller);
                            fp_utils.wrapInner($(TABLE_CELL_SEL, element)[0], wrap.scrollable);
                        }else{
                            fp_utils.wrapInner(element, wrap.scroller);
                            fp_utils.wrapInner(element, wrap.scrollable);
                        }
                        scrollOverflowHandler.create(element, scrollHeight, self.iscrollOptions);
                    }
                }

                //removing the scrolling when it is not necessary anymore
                else{
                    scrollOverflowHandler.remove(element);
                }

                //undo
                fp_utils.css(element, {'overflow': ''});
            }

            /**
            * Applies a callback function to each section in the site
            * or the slides within them
            */
            function forEachSectionAndSlide(callback){
                $(SECTION_SEL).forEach(function(section){
                    var slides = $(SLIDE_SEL, section);

                    if(slides.length){
                        slides.forEach(function(slide){
                            callback(slide);
                        });
                    }else{
                        callback(section);
                    }
                });
            }

            /**
            * Removes scrollOverflow for sections using the class `fp-auto-height-responsive`
            */
            function removeResponsiveScrollOverflows(){
                var scrollOverflowHandler = self.options.scrollOverflowHandler;
                forEachSectionAndSlide(function(element){
                    if(fp_utils.hasClass( fp_utils.closest(element, SECTION_SEL), AUTO_HEIGHT_RESPONSIVE)){
                        scrollOverflowHandler.remove(element);
                    }
                });
            }

            //public functions
            self.createScrollBarForAll = createScrollBarForAll;
        }

        /**
         * An object to handle overflow scrolling.
         * This uses jquery.slimScroll to accomplish overflow scrolling.
         * It is possible to pass in an alternate scrollOverflowHandler
         * to the fullpage.js option that implements the same functions
         * as this handler.
         *
         * @type {Object}
         */
        var $ = null;
        var iscrollHandler = {
            refreshId: null,
            iScrollInstances: [],

            // Default options for iScroll.js used when using scrollOverflow
            iscrollOptions: {
                scrollbars: true,
                mouseWheel: true,
                hideScrollbars: false,
                fadeScrollbars: false,
                disableMouse: true,
                interactiveScrollbars: true
            },

            init: function(options){
                $ = fp_utils.$;

                var isTouch = (('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0) || (navigator.maxTouchPoints));

                //fixing bug in iScroll with links: https://github.com/cubiq/iscroll/issues/783
                iscrollHandler.iscrollOptions.click = isTouch; // see #2035

                //extending iScroll options with the user custom ones
                iscrollHandler.iscrollOptions = fp_utils.deepExtend(iscrollHandler.iscrollOptions, options.scrollOverflowOptions);

                return new scrollBarHandler().init(options, iscrollHandler.iscrollOptions);
            },

            // Enables or disables the mouse wheel for the active section or all slides in it
            toggleWheel: function(value){
                var scrollable = $(SCROLLABLE_SEL, $(SECTION_ACTIVE_SEL)[0]);
                scrollable.forEach(function(item){
                    var iScrollInstance = item.fp_iscrollInstance;
                    if(iScrollInstance != null){
                        if(value){
                            iScrollInstance.wheelOn();
                        }
                        else{
                            iScrollInstance.wheelOff();
                        }
                    }
                });
            },

            /**
            * Turns off iScroll for the destination section.
            * When scrolling very fast on some trackpads (and Apple laptops) the inertial scrolling would
            * scroll the destination section/slide before the sections animations ends.
            */
            onLeave: function(){
                iscrollHandler.toggleWheel(false);
            },

            // Turns off iScroll for the leaving section
            beforeLeave: function(){
                iscrollHandler.onLeave()
            },

            // Turns on iScroll on section load
            afterLoad: function(){
                iscrollHandler.toggleWheel(true);
            },

            /**
             * Called when overflow scrolling is needed for a section.
             *
             * @param  {Object} element      jQuery object containing current section
             * @param  {Number} scrollHeight Current window height in pixels
             */
            create: function(element, scrollHeight, iscrollOptions) {
                var scrollable = $(SCROLLABLE_SEL, element);

                scrollable.forEach(function(item) {
                    fp_utils.css(item, {'height': scrollHeight + 'px'});

                    var iScrollInstance = item.fp_iscrollInstance;
                    if (iScrollInstance != null) {
                        iscrollHandler.iScrollInstances.forEach(function(instance){
                            instance.destroy();
                        });
                    }

                    iScrollInstance = new IScroll(item, iscrollOptions);
                    iscrollHandler.iScrollInstances.push(iScrollInstance);

                    if(!fp_utils.hasClass(fp_utils.closest(element, SECTION_SEL), ACTIVE)){
                        //off by default until the section gets active
                        iScrollInstance.wheelOff();
                    }

                    item.fp_iscrollInstance = iScrollInstance;
                });
            },

            /**
             * Return a boolean depending on whether the scrollable element is a
             * the end or at the start of the scrolling depending on the given type.
             *
             * @param  {String}  type       Either 'top' or 'bottom'
             * @param  {Object}  scrollable jQuery object for the scrollable element
             * @return {Boolean}
             */
            isScrolled: function(type, scrollable) {
                var scroller = scrollable.fp_iscrollInstance;

                //no scroller?
                if (!scroller) {
                    return true;
                }

                if (type === 'top'){
                    return scroller.y >= 0 && !fp_utils.getScrollTop(scrollable);
                } else if (type === 'bottom') {
                    return (0 - scroller.y) + fp_utils.getScrollTop(scrollable) + 1 + scrollable.offsetHeight >= scrollable.scrollHeight;
                }
            },

            /**
             * Returns the scrollable element for the given section.
             * If there are landscape slides, will only return a scrollable element
             * if it is in the active slide.
             *
             * @param  {Object}  activeSection jQuery object containing current section
             * @return {Boolean}
             */
            scrollable: function(activeSection){
                // if there are landscape slides, we check if the scrolling bar is in the current one or not
                if ($(SLIDES_WRAPPER_SEL, activeSection).length) {
                    return $(SCROLLABLE_SEL, $(SLIDE_ACTIVE_SEL, activeSection)[0] )[0];
                }
                return $(SCROLLABLE_SEL, activeSection)[0];
            },

            /**
             * Returns the scroll height of the wrapped content.
             * If this is larger than the window height minus section padding,
             * overflow scrolling is needed.
             *
             * @param  {Object} element jQuery object containing current section
             * @return {Number}
             */
            scrollHeight: function(element) {
                return $('.fp-scroller', $(SCROLLABLE_SEL, element)[0] )[0].scrollHeight;
            },

            /**
             * Called when overflow scrolling is no longer needed for a section.
             *
             * @param  {Object} element      jQuery object containing current section
             */
            remove: function(element) {
                if(element == null) return;

                var scrollable = $(SCROLLABLE_SEL, element)[0];
                if (scrollable != null) {
                    var iScrollInstance = scrollable.fp_iscrollInstance;
                    if(iScrollInstance != null){
                        iScrollInstance.destroy();
                    }

                    scrollable.fp_iscrollInstance = null;

                    //unwrapping...
                    $('.fp-scroller', element)[0].outerHTML = $('.fp-scroller', element)[0].innerHTML;
                    $(SCROLLABLE_SEL, element)[0].outerHTML = $(SCROLLABLE_SEL, element)[0].innerHTML;
                }
            },

            /**
             * Called when overflow scrolling has already been setup but the
             * window height has potentially changed.
             *
             * @param  {Object} element      jQuery object containing current section
             * @param  {Number} scrollHeight Current window height in pixels
             */
            update: function(element, scrollHeight) {
                //using a timeout in order to execute the refresh function only once when `update` is called multiple times in a
                //short period of time.
                //it also comes on handy because iScroll requires the use of timeout when using `refresh`.
                clearTimeout(iscrollHandler.refreshId);
                iscrollHandler.refreshId = setTimeout(function(){
                    iscrollHandler.iScrollInstances.forEach(function(instance){
                        instance.refresh();

                        //ugly hack that we are forced to use due to the timeout delay
                        //otherwise done on the fullpage.js reBuild function
                        fullpage_api.silentMoveTo(fp_utils.index($(SECTION_ACTIVE_SEL)[0]) + 1);
                    });
                }, 150);

                //updating the wrappers height
                fp_utils.css($(SCROLLABLE_SEL, element)[0], {'height': scrollHeight + 'px'});
                fp_utils.css($(SCROLLABLE_SEL, element)[0].parentNode, {'height': scrollHeight + getPaddings(element) + 'px'});
            },

            /**
             * Called to get any additional elements needed to wrap the section
             * content in order to facilitate overflow scrolling.
             *
             * @return {String|Object} Can be a string containing HTML,
             *                         a DOM element, or jQuery object.
             */
            wrapContent: function() {
                var scrollable = document.createElement('div');
                scrollable.className = SCROLLABLE;

                var scroller = document.createElement('div');
                scroller.className = 'fp-scroller';

                return {
                    scrollable: scrollable,
                    scroller: scroller
                };
            }
        };

        return {
            iscrollHandler: iscrollHandler
        };
    })();
})(window, document);
$(document).ready(function() {


// 
    $('body').on("click", '.js-upload-file', UploadInvoice);
//      
    $('body').on("change", '.js-file-load', UploadScanSChange);
//  
    $('body').on("change keyup input click", '.js-image-gl .js-dell-image', DellImageBlock);

//      
    NumberBlockFile();

});



//  -	    
//  |
// \/
var UploadInvoice = function()
{
    var id_block=$(this).attr('type_block');   //   
    var id_type=$(this).attr('type_load');     //  1-   2-    
    var id_object=$(this).attr('id_object');

    var formaa=$('[name=myfile]').parents('form');
    formaa.attr('type_load',id_type);
    formaa.attr('type_block',id_block);
    formaa.attr('id_object',id_object);

    $('[name=myfile]').trigger('click');
}

//      
//  |
// \/
function NumberBlockFile() {
//   .                 
    var number_file=1;
    $('.js-upload-file').each(function (i, elem) {
        $(this).attr('type_block',number_file);
        number_file++;
    });


    //       input=file    
    //alert($('.form_up').length);
    if($('.form_up').length==0)
    {

        $('body').append('<form class="form_up"><input class="js-file-load" type="file" name="myfile"></form>');
    }



}




//  -	    
//  |
// \/
var UploadScanSChange = function()
{
    var type=$(this).parents('form').attr('type_load');
    var number_block=$(this).parents('form').attr('type_block');

    var id_object=$(this).parents('form').attr('id_object');


    //alert(id_object);
    var gll=$('div[type_block="'+number_block+'"]').parents('.js-image-gl');

    //      
    var number_li = (gll.find('.li-image').length+1);

    file = this.files[0];
    if (file) {
        gll.find('.list-image').append('<div number_li="'+number_li+'" class="li-image"><span class="name-img">'+this.files[0].name+'</span><span class="del-img js-dell-image"></span><span class="size-img">'+(this.files[0].size / 1024 / 1024).toFixed(2)+' </span><div class="progress-img"><div class="p-img" style="width: 0%;"></div></div></div>');

        gll.find('.list-image').show();

        gll.find('.js-upload-file').hide().addClass('eshe-load-file');  //     

        //    
        gll.find('[number_li='+number_li+'] .p-img').show();


        uploadS(file,type,id_object,number_li,number_block);
    }
    return false;
}

//  -	   
//  |
// \/
function DellImageBlock()
{
    var li=$(this).parents('.li-image');
    var list=$(this).parents('.list-image');
    DellFile($(this).attr('id'));
    //    input
    $(this).parents('.js-image-gl').find('input').val(DellValString('dell',',',$(this).parents('.js-image-gl').find('input').val(),$(this).attr('id')));


    li.slideUp("slow", function () {
        $(this).remove();
        if (list.find('.li-image').length == 0) {
            list.slideUp("slow");
            list.parents('.js-image-gl').find('.js-upload-file').removeClass('eshe-load-file');
        }

        var number_li = 1;
        list.find('.li-image').each(function (i, elem) {

            $(this).attr('number_li', number_li);
            number_li++;

        });


    });





}

//  -	    
//  |
// \/
function uploadS(file,type,id_object,number_li,number_block) {
    var gll=$('div[type_block='+number_block+']').parents('.js-image-gl');
    var xhr = new XMLHttpRequest();

    //     ,
    //  status == 200,   ,  
    xhr.onload = xhr.onerror = function() {
        //alert(this.status);
        if (this.status == 200) {


            gll.find('.js-upload-file').show();
            gll.find('[number_li='+number_li+'] .p-img').width(0).hide();
            gll.find('[number_li='+number_li+']').addClass('yes-load');
//alert("!!!");
            alert_message('ok',' ');
            //   input  id 


            var r=JSON.parse(this.responseText);

            gll.find('[number_li='+number_li+'] .del-img').attr('id',r.echo);

            name_sql_image=r.echo;  //id   

            var inpu=gll.find('input');
            //alert(inpu.val());
            if(inpu.val()=='')
            {
                inpu.val(name_sql_image);
            } else
            {
                inpu.val(inpu.val()+','+name_sql_image);
            }


            //UpdateImageSupply(id);
        }
        else {
            gll.find('.js-upload-file').show();
            gll.find('[number_li='+number_li+'] .p-img').width(0).hide();
            gll.find('[number_li='+number_li+']').addClass('no-load');
            alert_message('error','  .  ');
            setTimeout(function () {
                gll.find('[number_li=' + number_li + ']').slideUp("slow", function () {
                    var list=$(this).parents('.list-image');
                    $(this).remove();



                    if (list.find('.li-image').length == 0) {
                        list.slideUp("slow");
                        gll.find('.js-upload-file').removeClass('eshe-load-file');
                    }
                });
            }, 3000);
        }
    };

    //   
    xhr.upload.onprogress = function(event) {
        var widths=Math.round((event.loaded*100)/event.total);
        gll.find('[number_li='+number_li+'] .p-img').width(widths);
    }

    xhr.open("POST", "Ajax/file/upload.php", true);
    //xhr.send(file);

    var formData = new FormData();
    formData.append("thefile", file);
    formData.append("type",type);
    formData.append("object",id_object);
    xhr.send(formData);

}

//   
//  |
// \/
function DellFile(id)
{
    if(id!='')
    {
        var data ='id='+id;

        AjaxClient('file','dell','GET',data,'AfterZero',0,0);
    }
}
// 
//  |
// \/
function AfterZero(data,update){}
//        
//  |
// \/
//DellValString('dell',',','2,5,8',5) - >    2,8
function DellValString(command,separator,string,val)
{
//dell - add
    var text = '';
    if (command == 'dell') {

        var cc = string.split(separator);
        var lp = 0;
        for (var t = 0; t < cc.length; t++) {
            if (cc[t] != val) {
                if (cc[t] != '') {
                    if (lp == 0) {
                        text = cc[t];
                    } else {
                        text = text + separator + cc[t];
                    }
                    lp++;
                }
            }
        }


    } else {
        //
        if (jQuery.trim(string) != '') {
            text = string + separator + val;
        } else {
            text = val;
        }


    }
    return text;
}

// JavaScript Document
$(function (){

//     +	
$('body').on("change keyup input click",'.js-add-group',AddGroup);	
//     -	
$('body').on("change keyup input click",'.js-dell-group',DellGroup);	

});



//     -	
//  |
// \/
function DellGroup()
{
	var group=$(this).parents('.js-group');
	
	group.slideUp("slow",function () {group.remove();  });
	
}


//     +	
//  |
// \/
function AddGroup()
{
	//alert("!!");
	var group=$(this).parents('.js-group');
	var class_group='';
	if(group.is('.group-right'))
	{
			class_group='group-right';
	}
	
	var group_html=group.html();
	
	group.after('<div class="js-group '+class_group+' contact-group line-group">'+group_html+'</div>');
	
	var next_group=group.next();
	
	next_group.find('.active_in_2018').removeClass('active_in_2018');
	next_group.find('.required_in_2018').removeClass('required_in_2018');
	
	
	if(next_group.find('.js-dell-group').length==0)
		{
	next_group.find('.js-add-group').after('<div data-tooltip="" class="dell-group js-dell-group"><div></div></div>');
		}
	ToolTip();
	next_group.find('input').val('');
	next_group.find('textarea').val('');
	
	//   textarea  resize     
	next_group.find('.js-resize-block').each(function(i,elem) {
		
		if($(this).find('textarea').length==2)
			{
				$(this).find('textarea').first().remove();
				$(this).find('textarea').removeAttr('style');
				$(this).find('textarea').autoResize({extraSpace : 10});
			}
		
		
	});
	
	
	next_group.find('.list_2018').removeClass('active_in_2018').removeClass('active1_in_2018');
	next_group.find('.list_2018 input').val('');
	next_group.find('.list_2018 .sel_active').removeClass('sel_active');
	
	next_group.find('.slct').attr('data_src','').empty();
	
	//jQuery.scrollTo(next_group, 1000, {offset:-70});
	
	Zindex();
	SelectUpdate();
}// JavaScript Document

//    
//  |
// \/
function SelectUpdate()
{
	$(".slct").unbind('click.sys');
    $(".slct").bind('click.sys', slctclick);
	$(".drop").find("li").unbind('click');
	$(".drop").find("li").bind('click', dropli);
}

$(function (){

    // 
    $('body').on("change keyup input click",'.js-assess-edit',js_edit_assess);

    // 
    $('body').on("change keyup input click",'.js-assess-del',js_assess_del);

    //  
    $('body').on("change keyup input click",'.js-add-assess',js_add_assess);

    //    
    $('body').on("change keyup input click",".js-assess-add0", js_add_assess);

    //     
    $('.js-cloud-assess').on("click",".js-info-assess",doc_assess);
    //       
  //  $('body').on("change keyup input click",'.tabsss',tabs_assess);

});

/**    
 *
 */
function tabs_assess() {
    //alert("!");
    var uoo=$(this).attr("id");
    if ( $(this).is(".active") )
    {
        //  
    } else
    {
        $('.client_window .px_bg').empty().append('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        $('.js-tabs-menu').find('.tabsss').removeClass('active');
        $('.js-tabs-menu').find('.tabsss[id='+uoo+']').addClass('active');

        //var key_='002U';

        var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
            '&tk='+$('.h111').attr('mor')+
            '&id='+$('.h111').attr('for');
        //alert(data);
        AjaxClient('assess','tabs_info','GET',data,'AfterTabsInfo',$(this).attr("id"),0);
    }
}


/**   
 *
 */
function doc_assess(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-assess-del'))&&(!$target.hasClass('js-assess-edit'))) {


        var for_id = $(this).attr('op_rel');

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/assess/form_doc_assess.php?id=' + for_id + '&tabs=0',
            beforeOpen: function (data, el) {
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');

            },
            afterOpen: function (data, el) {
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
                ToolTip();
            },
            afterClose: function (data, el) { //    ArcticModal
                clearInterval(timerId);
            }

        });
    }
}


/**
   
 **/
function js_add_assess()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/access/form_add_assess.php',
        beforeOpen: function(data, el) {
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');

        },
        afterOpen: function(data, el) {
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
            ToolTip();
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });
}

/**
 *  
 */
function js_edit_assess(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.assess_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/access/form_edit_assess.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

}


/**
 *  
 */
function js_assess_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.assess_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/access/form_dell_assess.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

}
$(function (){

    //       
    $('body').on("change keyup input click",'.menu_jjs .js-menu-jjs-basket',menu_item_basket);
    $('body').on("change keyup input click", '.js-del-items-basket', js_del_items_basket);


    //   
    basket_init();

});



//     
function js_del_items_basket()
{
    var opp=$(this).parents('.items_block_pass_basket').attr('op_rel');

    $('.items_block_pass_basket[op_rel='+opp+']').slideUp("slow", function () {
        $('.items_block_pass_basket[op_rel='+opp+']').remove();
    });
    BasketItemsAdd(opp,$(this));




    var iu=$('.content').attr('iu');

    if(typeof(iu) === 'undefined')
    {
       iu=$('.users_rule').attr('ui');

    }
    //alert(iu);
    var cookie_new = $.cookie('basket_item_'+iu);

    if((cookie_new=='')||(cookie_new==null))
    {
        $( '.arcticmodal-close', $('.js-form2').closest( '.box-modal' )).click();
        var counts=0;
    } else
    {

        var cc = cookie_new.split('.');
        var counts=cc.length;
    }

    $('.count-basket-items').find('i').empty().append(counts);
}


// 
function erase_basket()
{
    var iu=$('.users_rule').attr('ui');
    $.cookie("basket_item_"+iu, null, {path:'/',domain: window.is_session,secure: false,samesite:'lax'});

    //  
    basket_init();

    //        
    $('.js-items-block .js-menu-root').removeClass('more-active-s1');

    alert_message('ok',' ');
}


//       
function menu_item_basket(event)
{
    event.stopPropagation();

    var rel=$(this).find('a').attr('rel');
//alert(rel);
    if(rel==1)
    {
        // 
        erase_basket();

    }
    if(rel==2)
    {
        //  
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }

        event.stopPropagation();


        $.arcticmodal({
            type: 'ajax',
            url: 'forms/items/form_basket.php',
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });

    }

}


//   
function basket_init()
{

    var iu=$('.users_rule').attr('ui');


    var cookie_new = $.cookie('basket_item_'+iu);
    if(cookie_new==null)
    {
       counts=0;
    } else
        {

            var cc = cookie_new.split('.');
            var counts=cc.length;

        }


    if(counts==0)
    {
        // 
        $('.js-basket').hide();
    } else
    {
        $('.js-basket .more_supply1').find('i').empty().append(counts);
        $('.js-basket').addClass('more-active-s');
        $('.js-basket').show();
    }


}

//     
function BasketItemsAdd(id,tt)
{
    //alert("!");
    var iu=$('.content').attr('iu');
    if(typeof(iu) === 'undefined')
    {
        iu=$('.users_rule').attr('ui');
    }

    var cookie_new = $.cookie('basket_item_'+iu);

    //alert_message('ok',cookie_new);

    if(cookie_new==null)
    {
        var basket_root=-1;
    } else {

        var basket_root = AddDellListSep(cookie_new, id, 'add', '.');
       // alert(basket_root);
    }
    if(basket_root!=0) {
       //       
        CookieList("basket_item_"+iu,id,'add');

       /* if($(tt).parents('.js-menu-root').length!=0)
        {
            //      
            //$(tt).parents('.js-menu-root').addClass('more-active-s1');

            $('.js-items-block[op_rel='+id+']').find('.js-menu-root').addClass('more-active-s1');

        }else
        {
            if($(tt).is('.js-items-block'))
            {
                $(tt).find('.js-menu-root').addClass('more-active-s1');
            }
        }
        */
        $('.js-items-block[op_rel='+id+']').find('.js-menu-root').addClass('more-active-s1');

        //alert_message('ok','   ');



    } else
    {
        //       - 
        CookieList("basket_item_"+iu,id,'del');
        /*
        if($(tt).parents('.js-menu-root').length!=0)
        {
            //      
            $(tt).parents('.js-menu-root').removeClass('more-active-s1');
        } else
        {
            if($(tt).is('.js-items-block'))
            {
                $(tt).find('.js-menu-root').removeClass('more-active-s1');
            }
        }

         */
        $('.js-items-block[op_rel='+id+']').find('.js-menu-root').removeClass('more-active-s1');
        //alert_message('ok','   ');

        //       



    }
    basket_init();

    //tr.removeClass("checher_supply");



    //CookieList(ssup+iu,id,'del');



    //    id  

    //    

    //  

    //        


}

$(function (){

    // 
    $('body').on("change keyup input click",'.js-business-edit',js_edit_business);

    // 
    $('body').on("change keyup input click",'.js-business-del',js_business_del);

    //  
    $('body').on("change keyup input click",'.js-add-business',js_add_business);

    //    
    $('.menu_x').on("change keyup input click",".js-business-add0", js_add_business);


});



/**
   
 **/
function js_add_business()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/business/form_add_business.php',
        beforeOpen: function(data, el) {
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');

        },
        afterOpen: function(data, el) {
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
            ToolTip();
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });
}

/**
 *  
 */
function js_edit_business(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.business_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/business/form_edit_business.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

}


/**
 *  
 */
function js_business_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.business_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/business/form_dell_business.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

}
$(function (){



    $('body').on("change keyup input click",'.js-add-devices-x',js_add_devices);
    $('body').on("keyup",'.js-input-inv',js_input_devices);
    //       
    $('body').on("change keyup input click",'.menu_jjs .js-menu-jjs-b-devices',menu_devices);

    $('body').on("change keyup input click",'.js-del-items-devives-x',js_dell_items_form);



    // 
    $('body').on("change keyup input click",'.js-devices-edit',js_edit_devices);

    //       
    $('body').on("change keyup input click",'.menu_jjs .js-menu-jjs-b',menubuttclick);


    $('body').on("change keyup input click",'.js-info-devices',doc_devices);
    //       
    $('body').on("change keyup input click",'.js-tabs-devices',tabs_devices);

    // 
    $('body').on("change keyup input click",'.js-devices-del',js_devices_del);



    //   
    $('body').on("change keyup input click",'.js-text-search-devices',changesort_stock2_devices);

    //     
    var changesort1devices = function() {
        var iu=$('.content').attr('iu');

        $.cookie("de_1c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("de_1c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_devices_1').bind('change', changesort1devices);





    //     
    var changesort2devices = function() {
        var iu=$('.content').attr('iu');

        $.cookie("de_2c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("de_2c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_devices_2').bind('change', changesort2devices);



    //     
    var changesort5devices = function() {
        var iu=$('.content').attr('iu');

        $.cookie("de_5c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("de_5c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_devices_5').bind('change', changesort5devices);



    //  
    var changesort7devices = function() {
        var iu=$('.content').attr('iu');
        $.cookie("de_7c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("de_7c"+iu,$(this).val(),'add');

        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };

    $('#name_stock_search_devices').bind('change keyup input click', changesort7devices);


    //      
    var changesort_stock2__devices= function() {
        var iu=$('.content').attr('iu');
        $(this).prev().val('');
        $.cookie("de_7c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

        $(this).hide();
    }

//     
    $('.dell_stock_search_devices').bind('change keyup input click', changesort_stock2__devices);



});


function js_dell_items_form()
{
    var idds=$(this).closest('.js-items-block').attr('op_rel');

    var innput=$(this).closest('.js-block-all-items-devices').find('[name=items-mass]');

    innput.val(AddDellList(innput.val(),idds,'dell'));




    $(this).closest('.js-items-block').slideUp("slow", function () {
        $(this).closest('.js-items-block').remove();
    });

}


function changesort_stock2_devices() {
    //alert("1");
    if($(this).val()!='')
    {
        $(this).next().show();
        //   
        $('.js--sort').addClass('greei_input');
        $('.js--sort').find('input').prop('readonly',true);

    }else
    {
        $(this).next().hide();
        //   
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

    }
}

function menu_devices(event)
{
    event.stopPropagation();

    var rel=$(this).find('a').attr('make');

    if(rel=='edit')
    {
        //
        /*
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        */
        //alert("!");

        if($(this).is('[op_rel]'))
        {
            var id_buy= $(this).attr('op_rel');
        } else {
            var id_buy = $(this).parents('.js-devices-block').attr('op_rel');
        }

        event.stopPropagation();

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/devices/form_edit_devices.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });



    }
    if(rel=='dell')
    {
        //
        /*
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        */

        if($(this).is('[op_rel]'))
        {
            var id_buy= $(this).attr('op_rel');
        } else {
            var id_buy = $(this).parents('.js-devices-block').attr('op_rel');
        }


        event.stopPropagation();
        $.arcticmodal({
            type: 'ajax',
            url: 'forms/devices/form_dell_devices.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });


    }

    if(rel=='add_person')
    {
        //
        /*
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        */

        if($(this).is('[op_rel]'))
        {
            var id_buy= $(this).attr('op_rel');
        } else {
            var id_buy = $(this).parents('.js-devices-block').attr('op_rel');
        }


        event.stopPropagation();

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/devices/form_add_person_device.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });


    }

    if(rel=='dell_person')
    {
        //
        /*
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        */

        if($(this).is('[op_rel]'))
        {
            var id_buy= $(this).attr('op_rel');
        } else {
            var id_buy = $(this).parents('.js-devices-block').attr('op_rel');
        }


        event.stopPropagation();

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/devices/form_dell_person_devices.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });


    }
    if(rel=='add_akt')
    {
        //
        /*
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        */

        if($(this).is('[op_rel]'))
        {
            var id_buy= $(this).attr('op_rel');
        } else {
            var id_buy = $(this).parents('.js-devices-block').attr('op_rel');
        }


        event.stopPropagation();

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/devices/form_akt_devices.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });


    }


}


function js_input_devices()
{
    var st_latin=$(this).val();

    var a = $('.js-input-inv1').val().split('-');
    if(a.length>1)
    {
        var st_end=jQuery.trim(a[0])+' - 0'+st_latin;
    }
    else
    {
        var st_end=$('.js-input-inv1').val();
    }
    $('.js-input-inv1').trigger('click');
    $('.js-input-inv1').val(st_end);
}







/*
 *        
 */

function menubuttclick(event)
{
    event.stopPropagation();


    var rel=$(this).find('a').attr('make');

    if(rel=='edit')
    {
        //
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {


            var id_buy = $(this).parents('.block_pass').attr('pass_rel');
        }

        event.stopPropagation();

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/devices/form_edit_devices.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });



    }
    if(rel=='dell')
    {
        //
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {


            var id_buy = $(this).parents('.block_pass').attr('pass_rel');
        }

        event.stopPropagation();


        $.arcticmodal({
            type: 'ajax',
            url: 'forms/devices/form_dell_devices.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });

    }

}


function changesort_stock2() {
    //alert("1");
    if($(this).val()!='')
    {
        $(this).next().show();
        //   
        $('.js--sort').addClass('greei_input');
        $('.js--sort').find('input').prop('readonly',true);

    }else
    {
        $(this).next().hide();
        //   
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

    }
}



/*    
 *
 */
function tabs_devices() {
    //alert("!");
    var uoo=$(this).attr("id");
    if ( $(this).is(".active") )
    {
        //  
    } else
    {
        $('.js-cloud-info-text').empty().append('<div class="b_loading_small" style="position:relative; margin-bottom: 30px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        $('.js-tabs-menu').find('.js-tabs-devices').removeClass('active');
        $('.js-tabs-menu').find('.js-tabs-devices[id='+uoo+']').addClass('active');

        //var key_='002U';



        var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
            '&tk='+$('.box-modal .gloab-cc').attr('mor')+
            '&id='+$('.box-modal .gloab-cc').attr('for');



        //alert(data);
        AjaxClient('devices','tabs_info','GET',data,'AfterTabsInfodevices',$(this).attr("id"),0);
    }
}
// 
function devices_adds()
{
    if(typeof timerId !== "undefined")
    {
        clearInterval(timerId);
        $.arcticmodal('close');
    }

    //var at= $(this).attr('tabs_g');


    $.arcticmodal({
        type: 'ajax',
        url: 'forms/devices/form_add_devices.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}





/**   
 *
 */
function doc_devices(event)
{
    /*
alert("!");
    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-info-devices'))&&(!$target.hasClass('more_supply1'))&&(!$target.hasClass('js-menu-jjs-b-item'))) {
*/

        var for_id = $(this).parents('.js-devices-block').attr('op_rel');


        $.arcticmodal({
            type: 'ajax',
            url: 'forms/devices/form_doc_devices.php?id=' + for_id + '&tabs=0',
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }
        });
/*
    }*/
}


/**
   
 **/
function js_add_devices()
{
    var err = 0;
//alert($('.js-form-register .gloab').length);
    // alert("!!");
    $('.js-form-gloab-device .gloab').each(function(i,elem) {
        if($(this).val() == '')  { $(this).parents('.input_2018').addClass('required_in_2018');
            $(this).parents('.list_2018').addClass('required_in_2018');
            err++;
            //alert($(this).attr('name'));
        } else {$(this).parents('.input_2018').removeClass('required_in_2018');$(this).parents('.list_2018').removeClass('required_in_2018');}
    });

//	if (!$(".js-role-x i").is( ".active_task_cb" ) ) { alert_message('error','   ');  err++; }

//	if (!$(".js-devices-x i").is( ".active_task_cb" ) ) { alert_message('error',' ');  err++; }

    //alert(err);

    if(err==0)
    {

        //clearInterval(timerId); //      
        //$.arcticmodal('close');

        AjaxClient('devices','add','POST',0,'after_add_devices',0,'vino_xd_add_device',1);


        $('.js-add-devices-x').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 17px;top: auto;right: auto;left: auto; display: inline-block;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');



    } else
    {
        //       
        //jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
        //ErrorBut('.js-form-tender-new .js-add-tender-form',' !');
        alert_message('error','   ');


    }
}

/**
 *  
 */
function js_edit_devices(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.devices_block_pass').attr('op_rel');
    }
    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/devices/form_edit_devices.php?id_buy='+id_buy,
        beforeOpen: function (data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function (data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function (data, el) { //    ArcticModal
            if (typeof timerId !== "undefined") {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });

}


/**
 *  
 */
function js_devices_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.devices_block_pass').attr('op_rel');
    }

    event.stopPropagation();




    $.arcticmodal({
        type: 'ajax',
        url: 'forms/devices/form_dell_devices.php?id_buy='+id_buy,
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}



/*
 *   
 */
function after_add_devices(data,update)
{
    if (data.status=='ok')
    {

        alert_message('ok',' ');

        var iu=$('.users_rule').attr('iu');
        $.cookie("basket_item_"+iu, null, {path:'/',domain: window.is_session,secure: false,samesite:'lax'});

        //  
        basket_init();

        $('.js-add-form-dev').slideUp("slow", function () {
            $('.js-add-form-dev').remove();
        });

        $('.js-new-dev').empty().append(data.blocks);
        $('.js-new-dev').slideDown("slow");


    } else
    {

        $('.js-add-devices-x').show();
        $('.js-add-devices-x').parents('.form-panel').find('.b_loading_small').remove();


        //alert_message('error','!   ');

        //$('.js-form-tender-new .message-form').empty().append('  ').show();

        //   
        $.each(data.error, function(index, value){


            var err = ['inv','name_devices','inv_busy'];

            var err_name = ['  -  ','  - ','  '];



            numbers=$.inArray(value, err);
            //alert(numbers);
            if(numbers!=-1)
            {
                /*
                var ins=number[numbers];
                $('.js-form-tender-new .js-in'+ins).parents('.input_2018').addClass('required_in_2018');
    $('.js-form-tender-new .js-in'+ins).parents('.input_2018').find('.div_new_2018').append('<div class="error-message">  </div>');
    */
                alert_message('error',err_name[numbers]);

                if(numbers==2)
                {
                    alert_message('error','    - '+data.nd);
                }
            } else
            {
                //$('.js-form-register .message-form').empty().append('! ');
                alert_message('error','!');
            }
            //jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
        });
    }
}
$(function (){

    // 
    //$('body').on("change keyup input click",'.js-pass-edit',js_edit_pass);

    // 
    $('body').on("change keyup input click",'.js-next-step-exam',js_next_step);


});
var timeouts = {};
var timeeven = {};

//    .
function TimerTenderS(id,action)
{
    //  ,         
    var speed = 1000,
        counter = 0,
        start = new Date().getTime();

    //var DateClient = Math.floor(start / 1000);
    var DateClient = $('[name=second]').val();

    //         
    var seconds = DateClient;	//



    //var seconds = (DateEnd-DateServer);
    //alert(seconds);
        var minutes = seconds/60; //     
        var hours = minutes/60; //     
        //alert(hours);
       // minutes = (hours - Math.floor(hours)) * 60; // -     
        hours = Math.floor(hours); //     
        //seconds = Math.floor((minutes - Math.floor(minutes)) * 60); // -     
    if(minutes>=60)
    {
        minutes = Math.floor(minutes%60); //   -     
    } else {
        minutes = Math.floor(minutes); //   -     
    }

    var secondss = seconds%60; // -     

        setTimeTender(hours,minutes,secondss,id,action); //    

        $('.js-status-auc').addClass('run-auc');
        $('.js-status-auc').find('span').empty().append('online');
        $('.js-step-menu').slideDown("slow");
        $('.clock-auc').slideDown("slow");


        // 
        function instance()
        {
            /*
            if(action=='end')
            {

                $('.up-t-tt-'+id).slideUp("slow");
                //TimesCorrect('end');
                window.clearTimeout(timeouts[action]);



                return;
            }
*/


            if (seconds == 0) { //    

                      //  ColorFlash($('.clock-auc'),'#fec048',1350);
                seconds++;
            }
            else {
                seconds++; //  - 
            }

            $('[name=second]').val(seconds);

            var minutes = seconds/60; //     
            var hours = minutes/60; //     
            hours = Math.floor(hours); //     
            //seconds = Math.floor((minutes - Math.floor(minutes)) * 60); // -     

            if(minutes>=60)
            {
                minutes = Math.floor(minutes%60); //   -     
            } else {
                minutes = Math.floor(minutes); //   -     
            }


            var secondss = seconds%60;

            setTimeTender(hours,minutes,secondss,id,action); //     

            //      
            //  ,  ,    ,      .
            var real = (counter * speed),
                ideal = (new Date().getTime() - start);

            // 
            counter++;
            //   
            var diff = (ideal - real);
            //  adjust == true,       (    )
            timeouts[action] = window.setTimeout(function() { instance(); }, (speed - diff));

        };

        //,        
        timeouts[action] = window.setTimeout(function() { instance(); }, speed);



}


function setTimeTender(h,m,s,id,action) { //     
//ColorFlash($('.up-t-s-'+id),'#fec048',1350);

    if(m<10){ m='0'+m;}
    if(s<10){ s='0'+s;}

    if(action=='start')
    {
        $('.up-t-tt-'+id).removeClass('none');
        h1=h;
        if(h<10){ h1='0'+h;}
        if(h!=0)
        {

            $('.up-t-tt-'+id).empty().append('('+h1+':'+m+':'+s+')');

        }
        else
        {
            $('.up-t-tt-'+id).empty().append('('+m+':'+s+')');
        }

    }
}







function after_next_step(data,update)
{
    if (data.status=='ok')
    {
        // $('.js-form-tender-new').remove();
        if($('[name=test]').val()==0) {
            alert_message('ok', ' ');
        }

        //UpdateFinance('1,0,1,1');
        //$('.js-next-step').submit();

        $('[name=test]').val(0);
        $('[name=my_yes]').val('');
        $('.js-count-xx-v').empty().append(data.title_vv);
        $('.js-info-hh').slideUp("slow");
        $('.place__title').slideUp("slow",function () {

            $('.place__title').empty().append(data.wop);
            $('.place__title').slideDown("slow");

            $('.js-otv-block').slideUp("slow",function () {

                $('.js-otv-block').empty().append(data.otv);
                $('.js-otv-block').slideDown("slow");
                $('.js-next-step-exam').show();
                $('#vino_xd_fiance_pay').find('.b_loading_small').remove();
                if(parseInt(data.starts)==2)
                {
                    $('.js-next-step-exam').hide();
                    $('.js-next-step-end').removeClass('none');
                    //TimerTenderS(update,'end');
                    window.clearTimeout(timeouts['start']);
                    $('.up-t-tt-'+update).slideUp("slow");
                }
            });

        });
        $('[name=question]').val(data.wop_id);


        if (parseInt(data.starts)==1)
        {
            // 
            TimerTenderS(update,'start');

        }

$('.teps').css("width", data.proc+"%");



    } else
    {
        $('.js-next-step-exam').show();
        $('#vino_xd_fiance_pay').find('.b_loading_small').remove();

        //alert_message('error','!   ');

        //$('.js-form-tender-new .message-form').empty().append('  ').show();

        //   
        $.each(data.error, function(index, value){


            var err = ['no_test','question'];

            var err_name = ['   -   ','   -   '];



            numbers=$.inArray(value, err);
            //alert(numbers);
            if(numbers!=-1)
            {
                /*
                var ins=number[numbers];
                $('.js-form-tender-new .js-in'+ins).parents('.input_2018').addClass('required_in_2018');
    $('.js-form-tender-new .js-in'+ins).parents('.input_2018').find('.div_new_2018').append('<div class="error-message">  </div>');
    */
                alert_message('error',err_name[numbers]);
            } else
            {
                //$('.js-form-register .message-form').empty().append('! ');
                alert_message('error','!');
            }
            //jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
        });
    }
}


function js_next_step()
{
    //alert("33");
    $(this).hide();
    $(this).before('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 27px;top: auto;left: 10px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

    var err = 0;
//     .       

    if($('[name=test]').val()==0)
    {
        if(($('[name=my_yes]').val()=='')||($('.answer_exam[key='+$('[name=my_yes]').val()+']').length==0))
        {
            err++;
            alert_message('error','   ');
        }
    }


    //if($("#name_b").val() == '')  {alert_message('error','  '); err++;	}


    if(err!=0)
    {
        $(this).show();
        $('#vino_xd_fiance_pay').find('.b_loading_small').remove();
        //alert_message('error','   ');
        /*
    $('.error_text_add-09').empty().append('   ').show();
    setTimeout ( function () { $('.error_text_add-09').hide(); }, 7000 );
        */

    } else
    {
        //$('#lalala_save_form').submit();
        AjaxClient('exam','next','POST',0,'after_next_step',$('[name=id]').val(),'vino_xd_fiance_pay',1);

    }
}
$(document).ready(function(){	
	//      
	$('.js-form-add-tours').on("change keyup input click",'.xexchange_rates',xexchange_rates1);
	$('.js-form-add-tours').on("change keyup input click",'.xcost_to_1',xexchange_rates2);
	$('.js-form-add-tours').on("change",'[name=id_exchange]',exchange_eico);

	$('body').on("change keyup input click",'.js-test',test_a);
$('body').on("change keyup input click",'.js-edit-2020-user',no_rds_user);

	$('body').on("change keyup input click",'.js-edit-org-2020',no_rds_org);


	$('.js-call-no-v').find('.drop').on("change keyup input click","li",list_number);

	//    
	$('.winner_2020').on("change keyup input click",".js-all-rating div",rating_list);


	//     
	$('.js-form-add-tours').on("change keyup input click",'.js-xx_end_date',xx_end_date);

    //   
	$('body').on("change keyup input click",'.js-text-search-x',changesort_stock2);

	// -   
	$('.trips_block_global').on("change keyup input click",'.js-exc-cost',exc_cost);

// -   
	$('.trips_block_global').on("change keyup input click",'.js-chat-tours',chat_tours);

	// -    
	$('.trips_block_global').on("change keyup input click",'.js-form-cost',form_cost);

//    
	$('.trips_block_global').on("change keyup input click",'.js-issue-doc',form_doc);

	//  
	$('.trips_block_global').on("change keyup input click",'.js-chat-tours-add',form_doc_chat);

	// -     
	$('.trips_block_global').on("change keyup input click",'.js-ok-rate',ok_rate_form);

	// -       
	$('.trips_block_global').on("change keyup input click",'.js-ok-rate-doc',ok_rate_form_doc);

	// -    
	$('.trips_block_global').on("change keyup input click",'.js-ok-rate-chat',ok_rate_form_chat);

    //    
	$('.trips_block_global').on("change keyup input click",'.js-rrate',js_rrate);

	// 
	$('.trips_block_global').on("change keyup input click",'.js-srok-my',srok_my);

	//   
	$('.trips_block_global').on("change keyup input click",'.js-all-price-trips',all_price_trips);

	//     
	$('.trips_block_global').on("change keyup input click",'.js-menu-buybuy',js_menu_buybuy);

	//     
	$('.trips_block_global').on("change keyup input click",'.js-new-doc-trips',js_new_doc);

    //   
	$('.trips_block_global').on("change keyup input click",'.js-buy-del',js_buy_del);

    //   
	$('.trips_block_global').on("change keyup input click",'.js-buy-edit',js_buy_edit);

	$('body').on("click",".js-touroper-eye,.js-commi-eye",js_touroper_eye);

//    -   
	$('.form_54_booking').on("change keyup input click","#name_b,#name_b1,#name_b1x,#password_b,#login_b,.radio_1,.js-checkbox-group",function(){   $('.js-save-setting').show();    });


//    -    
	$('.form_531_set').on("change keyup input click","#name_b,.js-status-trips-more",function(){   $('.js-save-set').show();    });

    //    -     
    $('.form_532_booking').on("change keyup input click","#name_b,#name_b1,#name_b12,#name_b1x,#password_b,#login_b,.radio_1,.js-checkbox-group",function(){   $('.js-add-users').show();});

	$('.form_531_booking').on("change keyup input click","#name_b,#name_b1,#name_b12,#name_b1x,#password_b,#login_b,.radio_1,.js-checkbox-group",function(){   $('.js-save-users').show();});

	$('.form_532_set').on("change keyup input click","#name_b,.js-status-trips-more",function(){   $('.js-add-set').show();});

    //   chtckbox    
	$('body').on("change keyup input click",'.js-checkbox-group',CheckboxGroup);

    //    
	$('body').on("change keyup input click",".js-save-setting", save_setting);

    //      
	$('.js-form-gloab').on("change keyup input click",".js-save-users", save_users_2020);

    //       /  
    $('.js-form-gloab').on("change keyup input click",".js-add-users", add_users_2020);

	//       /  
	$('.menu-09').on("change keyup input click",".js-add-set", add_set_2020);

	$('.menu-09').on("change keyup input click",".js-save-set", save_set_2020);




// 
$('body').on("change keyup input click",'.js-users-block',UsersBlock);

//     
$('.trips_block_global').on("change keyup input click",'.js-status-trips',StatusTrips);

//      
$('body').on("change keyup input click",'.js-status-trips-more',st_div);

	$('body').on("change keyup input click",'.js-exam-more',st_div_exam);

//   
$('body').on("change keyup input click",'.menu_jjs .menu_click',menuclick);


//           
$('body').on("change keyup input click",'.js-checkbox-role',RoleNotif);


//  2018
	input_2018();

//   
	$('body').on("click",'.ais',Eye);
	ToolTipInput();
AutoResizeT();


});


//   js forms //      
//  |
// \/
function initializeFormsJs()
{
	try {
		forms_js_load();
	} catch (error) {
		//  ,  ,     
		$.getScript( window.src_forms, function( data, textStatus, jqxhr ) {
			console.log("yes load script");
		});
	}
}

function LoadFFo()
{
	console.log("  ");
	if(window.yesform==1) {
		clearInterval(TimerScript);
		ScriptForms();
	}
}



//          
//  |
// \/
function BodyScrool()
{

	if($('.arcticmodal-container').length==1)
	{
		$('body').css( "margin-right", "0px" );
		$('body').css( "overflow", "auto" );
	}
}


//   
//  |
// \/
function Eye()
{
	if($(this).is('.ais-open'))
	{
		$(this).removeClass('ais-open');
		$(this).parents('.input_2018').find('.input_new_2018').attr('type','password');
	} else
	{
		$(this).addClass('ais-open');
		$(this).parents('.input_2018').find('.input_new_2018').attr('type','text');
	}
}

//   
$('body').on("click",'.ais',Eye);
//   textarea resize   
//  |
// \/
function AutoResizeT()
{
	//$(this).autoResize({extraSpace : 10});

	$('.js-autoResize').each(function(i,elem) {
		$(this).autoResize({extraSpace : 10});
	});

}


//   
//  |
// \/
function ToolTipInput(){



	$(".help-icon").mousemove(function (eventObject) {

		var inputx=$(this).parents('.input_2018');

		if(inputx.length==0)
		{
			var inputx=$(this).parents('.js-helps');
		}

		if(inputx.find('.toolhelp').length==0)
		{
			inputx.prepend('<div class="toolhelp"><span></span></div>');
		}

		var toolh=inputx.find(".toolhelp");
		var toolhs=inputx.find(".toolhelp span");
		$data_tooltip = $(this).attr("help");
		toolhs.text($data_tooltip);
		var offset = $(this).offset();


		if((eventObject.pageX-250)<=($(window).width()/2))
		{
			toolh.css({
				"top" : '0px',
				"right" : - (toolh.outerWidth() + 40)

			});


			setTimeout ( function () { toolh.fadeIn(500); }, 	400 );


		}else
		{

			toolh.hide();


		}
	}).mouseout(function () { var toolh=$(this).parents('.input_2018').find(".toolhelp");


		if(toolh.length==0)
		{
			var toolh=$(this).parents('.js-helps').find(".toolhelp");
		}


		toolh.remove(); });


}



//           
function RoleNotif()
{
	var i= $(this).find('i');
	if(i.is('.active_task_cb'))
	{
		$('.js-panel-notif').hide().before('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

		var id_role=i.next().val();
		var id_u=$('.js-panel-notif').attr('ipo');
		var data ='url='+window.location.href+'&id='+id_role+'&id_u='+id_u;
		AjaxClient('users','role_notif','GET',data,'AfterRoleNotif',id_role,0,1);

	} else
	{
$('.js-panel-notif').hide();
	}
}

//   textarea resize      
//  |
// \/
function AutoResizeTF()
{
    //$(this).autoResize({extraSpace : 10});

    $('.box-modal .js-autoResize-form').each(function(i,elem) {
        $(this).autoResize({extraSpace : 10});
    });

}


function AfterRoleNotif(data,update) {
	$('.js-panel-notif').prev().remove();

	if (data.status == 'ok') {
$('.js-panel-notif').empty().append(data.echo);
		$('.js-panel-notif').slideDown("slow");
	}

}

//   url
//var url = "http://someUrl.ru?param1=123&param2=234&param3=435";
//var url1 = removeParam("param1", url);
function removeParam(key, sourceURL) {
	var splitUrl = sourceURL.split('?'),
		rtn = splitUrl[0],
		param,
		params_arr = [],
		queryString = (sourceURL.indexOf("?") !== -1) ? splitUrl[1] : '';

	if (queryString !== '') {
		params_arr = queryString.split('&');
		for (var i = params_arr.length - 1; i >= 0; i -= 1) {
			param = params_arr[i].split('=')[0];
			if (param === key) {
				params_arr.splice(i, 1);
			}
		}
		rtn = rtn + '?' + params_arr.join('&');
	}

	if(rtn.toString().slice(-1)=='?')
	{
		rtn=rtn.slice(0, -1);
	}

	return rtn;
}





function AfterMoreStatus(data,update)
{
	$('.menu_jjs .more_supply1').show();
	$('.menu_jjs').find('.b_loading_small').remove();

	var status_class=parseInt(data.rel)-3;

	if (data.status=='ok')
	{
		var aw = update.split('.');

		$.each(aw, function(index, value){
		var  butt=$('.trips_block_global[id_trips='+value+']');
			butt.find('.js-status-trips').removeClass('s_a_0 s_a_1 s_a_2');
			butt.find('.js-status-trips').addClass('s_a_'+status_class).empty().append(data.echo);
		});

		//   
		$('.trips_block_global .trips-b-number .choice-radio').find('i').removeClass('active_task_cb');
		basket_trips();
		alert_message('ok',' ');
	}
}

//   
var menuclick = function() {
	var tr_s=$(this).next(".menu_supply").find('.drops');
	if(tr_s.is(".active_menu_s"))
	{
		tr_s.removeClass("active_menu_s");
		tr_s.css("transform", "scaleY(0)");
	} else
	{
		tr_s.addClass("active_menu_s");
		tr_s.css("transform", "scaleY(1)");
	}
}


function st_div_exam() {



	//alert(ssup);
	if($(this).find('.js-status-trips-more1 i').is(".active_task_cb"))
	{
		//tr.removeClass("checher_supply");
		$(this).find('.js-status-trips-more1 i').removeClass('active_task_cb');
		//CookieList(ssup+iu,tr.attr('id_trips'),'del');
		// alert($(this).parents('[rel_id]').attr('rel_id'));
		//basket_trips();
		$(this).removeClass('active_exam');
		$('[name=my_yes]').val('');
		//ToolTip();
	} else
	{
		//tr.addClass("checher_supply");
		$('.answer_exam').find('.js-status-trips-more1 i').removeClass('active_task_cb');

		$('.answer_exam').removeClass('active_exam');
		$(this).addClass('active_exam');
		$(this).find('.js-status-trips-more1 i').addClass('active_task_cb');
		//CookieList(ssup+iu,tr.attr('id_trips'),'add');
		//basket_trips();
		//ToolTip();
		$('[name=my_yes]').val($(this).attr('key'));
	}


}

//        /
function st_div() {



	//alert(ssup);
	if($(this).find('.js-status-trips-more1 i').is(".active_task_cb"))
	{
		//tr.removeClass("checher_supply");
		$(this).find('.js-status-trips-more1 i').removeClass('active_task_cb');
		//CookieList(ssup+iu,tr.attr('id_trips'),'del');
		// alert($(this).parents('[rel_id]').attr('rel_id'));
		basket_trips();
		//ToolTip();
	} else
	{
		//tr.addClass("checher_supply");
		$(this).find('.js-status-trips-more1 i').addClass('active_task_cb');
		//CookieList(ssup+iu,tr.attr('id_trips'),'add');
		basket_trips();
		//ToolTip();
	}


}

//  /
function basket_trips()
{

	var count_trips_select=$('.question_block_pass .users-b-number').find('.active_task_cb');
if(count_trips_select.length!=0)
{

	var select_li = '';
	count_trips_select.parents('.question_block_pass').each(function (i, elem) {

			if (select_li == '') {
				select_li = $(this).attr('op_rel');
			} else {
				select_li = select_li + ',' + $(this).attr('op_rel');
			}

	});
	$('[name=set]').val(select_li);


} else
{
	$('[name=set]').val('');

}



}




//     
function StatusTrips()
{
	var id_task= $(this).parents('.trips_block_global').attr('id_trips');

	$(this).hide().before('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 0px;left:0px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

	var data ='url='+window.location.href+'&id='+id_task;
	AjaxClient('tours','status','GET',data,'AfterStatusTrips',id_task,0,1);
}

function AfterStatusTrips(data,update)
{
	var butt=$('.trips_block_global[id_trips='+update+']');
	butt.find('.js-status-trips').show();
	butt.find('.b_loading_small').remove();

	if (data.status=='ok')
	{
		butt.find('.js-status-trips').removeClass('s_a_0 s_a_1 s_a_2');
		butt.find('.js-status-trips').addClass('s_a_'+data.status_admin).empty().append(data.echo);
		alert_message('ok',' ');
	}
}

// 
function UsersBlock()
{

    var id= $(this).attr('id-bdata');


    $(this).hide().before('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');


    var data ='url='+window.location.href+'&id='+id;
    AjaxClient('users','ban','GET',data,'AfterUsersBlock',id,0,1);

}


function AfterUsersBlock(data,update)
{
    var butt=$('.js-users-block[id-bdata='+update+']');
    butt.parents('.users_block_2020').find('.b_loading_small').remove();
	butt.parents('.users_block_2021').find('.b_loading_small').remove();
    butt.show();


    if (data.status=='ok')
    {


        if((butt.parents('.users_block_2020').length!=0)||(butt.parents('.users_block_2021').length!=0))
        {

            //butt.parents('.users_block_2020').find('.js-party-status').empty().append(data.st);
            if(data.party=='1')
            {

                butt.parents('.users_block_2020').removeClass('red-party');
				butt.parents('.users_block_2021').removeClass('red-party');
                butt.removeClass('block-party');
                alert_message('ok',' ');
            } else
            {
                butt.parents('.users_block_2020').addClass('red-party');
				butt.parents('.users_block_2021').addClass('red-party');
                butt.addClass('block-party');
                alert_message('ok',' ');
            }
        } else
        {
            autoReloadHak();
        }

    } else
    {
        alert_message('error','!');
    }
}

//     
function add_set_2020()
{

	$(this).find('span').hide();
	$(this).find('span').before('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

	var err = 0;
	$("#name_b,#name_b1,#login_b,#password_b").removeClass('error_formi');
	$("#name_b").parents('.ok-input-title-2019').removeClass('error_formi_2019');


	if($("#name_b").val() == '')  {alert_message('error','  '); err++;	}


	if(err!=0)
	{
		$(this).find('span').show();
		$(this).find('.b_loading_small').remove();
		//alert_message('error','   ');
		/*
    $('.error_text_add-09').empty().append('   ').show();
    setTimeout ( function () { $('.error_text_add-09').hide(); }, 7000 );
        */

	} else
	{
		$('#lalala_add_form').submit();
	}
}


//     
function save_set_2020()
{

	$(this).find('span').hide();
	$(this).find('span').before('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

	var err = 0;
	$("#name_b,#name_b1,#login_b,#password_b").removeClass('error_formi');
	$("#name_b").parents('.ok-input-title-2019').removeClass('error_formi_2019');


	if($("#name_b").val() == '')  {alert_message('error','  '); err++;	}


	if(err!=0)
	{
		$(this).find('span').show();
		$(this).find('.b_loading_small').remove();
		//alert_message('error','   ');
		/*
    $('.error_text_add-09').empty().append('   ').show();
    setTimeout ( function () { $('.error_text_add-09').hide(); }, 7000 );
        */

	} else
	{
		$('#lalala_save_form').submit();
	}
}


//     
function add_users_2020()
{



	var err = 0;
//alert($('.js-form-register .gloab').length);
	$('.js-form-gloab .gloab').each(function(i,elem) {
		if($(this).val() == '')  { $(this).parents('.input_2018').addClass('required_in_2018');
			$(this).parents('.list_2018').addClass('required_in_2018');
			err++;
			//alert($(this).attr('name'));
		} else {$(this).parents('.input_2018').removeClass('required_in_2018');$(this).parents('.list_2018').removeClass('required_in_2018');}
	});

	if (!$(".js-role-x i").is( ".active_task_cb" ) ) { alert_message('error','   ');  err++; }

	if (!$(".js-office-x i").is( ".active_task_cb" ) ) { alert_message('error',' ');  err++; }

	//alert(err);

	if(err==0)
	{
		$('.js-form-add-office  .js-add-users').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

		//AjaxClient('notification','even','GET',data,'AfterNofi',1,0,1);
		//AjaxClient('tedner','add','POST',0,'AfterAddFormTender',0,'js-form-tender-new',1);
		$('#lalala_add_form').submit();

	} else
	{
		//       
		jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
		//ErrorBut('.js-form-tender-new .js-add-tender-form',' !');
		alert_message('error','   ');


	}


}

function save_users_2020() {


	var err = 0;
//alert($('.js-form-register .gloab').length);
	$('.js-form-gloab .gloab').each(function(i,elem) {
		if($(this).val() == '')  { $(this).parents('.input_2018').addClass('required_in_2018');
			$(this).parents('.list_2018').addClass('required_in_2018');
			err++;
			//alert($(this).attr('name'));
		} else {$(this).parents('.input_2018').removeClass('required_in_2018');$(this).parents('.list_2018').removeClass('required_in_2018');}
	});

	if (!$(".js-role-x i").is( ".active_task_cb" ) ) { alert_message('error','   ');  err++; }

	if (!$(".js-office-x i").is( ".active_task_cb" ) ) { alert_message('error',' ');  err++; }

	//alert(err);

	if(err==0)
	{
		$('.js-form-gloab  .js-save-users').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

		//AjaxClient('notification','even','GET',data,'AfterNofi',1,0,1);
		//AjaxClient('tedner','add','POST',0,'AfterAddFormTender',0,'js-form-tender-new',1);
		$('#lalala_add_form').submit();

	} else
	{
		//       
		jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
		//ErrorBut('.js-form-tender-new .js-add-tender-form',' !');
		alert_message('error','   ');


	}


}


//    


//    
function save_setting()
{


	var err = 0;
//alert($('.js-form-register .gloab').length);
	$('.js-form-gloab .gloab').each(function(i,elem) {
		if($(this).val() == '')  { $(this).parents('.input_2018').addClass('required_in_2018');
			$(this).parents('.list_2018').addClass('required_in_2018');
			err++;
			//alert($(this).attr('name'));
		} else {$(this).parents('.input_2018').removeClass('required_in_2018');$(this).parents('.list_2018').removeClass('required_in_2018');}
	});

	//alert(err);

	if(err==0)
	{
		$('.js-form-gloab  .js-save-setting').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

		//AjaxClient('notification','even','GET',data,'AfterNofi',1,0,1);
		//AjaxClient('tedner','add','POST',0,'AfterAddFormTender',0,'js-form-tender-new',1);
		$('#lalala_add_form').submit();

	} else
	{
		//       
		//jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
		//ErrorBut('.js-form-tender-new .js-add-tender-form',' !');
		alert_message('error','   ');
	}


}

//   chtckbox    
//  |
// \/
function CheckboxGroup()
{
	/*
    var active_old = $(this).parent().parent().find(".slct").attr("data_src");
    var active_new = $(this).find("a").attr("rel");
    */
//var f = $(this).find("a").text();
	var e = $(this).find("input").first().val();
	var drop_object = $(this).parents('.js-group-c');

	var active_jj=0;

	if ($(this).find('i').is(".active_task_cb")) {

		$(this).find('i').removeClass("active_task_cb");
		$(this).find('input').last().val(0);
		active_jj=1;
	} else {

		$(this).find('i').addClass("active_task_cb");
		$(this).find('input').last().val(1);

	}


	//    
	var select_li = '';
	drop_object.find('.js-checkbox-group').each(function (i, elem) {
		if ($(this).find('i').is(".active_task_cb")) {
			if (select_li == '') {
				select_li = $(this).find("input").first().val();
			} else {
				select_li = select_li + ',' + $(this).find("input").first().val();
			}
		}
	});


	//       
	if (drop_object.is('.js-tolko-one')) {


		//select_li = one_li.find("a").attr("rel");
		drop_object.find('i').removeClass("active_task_cb");

		drop_object.find('.js-checkbox-group').each(function (i, elem) {
			$(this).find('input').last().val(0);
		});
		//alert(active_jj);
		if(active_jj==0)
		{
			$(this).find('i').addClass("active_task_cb");
			$(this).find('input').last().val(1);
		}

	}


	//               
	//  -       
	//       

	if (drop_object.is('.js-one-all-select')) {

		var one_li=drop_object.find('.js-checkbox-group').first();


		//        
		if (select_li == '') {

			one_li.trigger('click');
			return;

		}

		//            
		if (($(this).find('i').is(".active_task_cb")) && (e == 0) && ((select_li != '') && (select_li != '0'))) {

			select_li = one_li.find("a").attr("rel");
			drop_object.find('i').removeClass("active_task_cb");

			drop_object.find('.js-checkbox-group').each(function (i, elem) {
				$(this).find('input').last().val(0);
			});


			one_li.find('i').addClass("active_task_cb");
			one_li.find('input').last().val(1);

		}


		//            
		if(e != 0)
		{
			var count_all_li=drop_object.find('.js-checkbox-group').length;
			var count_active_li=drop_object.find('.active_task_cb').length;
			//alert(count_all_li);
			if (parseInt(count_active_li + 1) == count_all_li) {
				drop_object.find('i').removeClass("active_task_cb");

				drop_object.find('.js-checkbox-group').each(function (i, elem) {
					$(this).find('input').last().val(0);
				});


				one_li.find('i').addClass("active_task_cb");
				one_li.find('input').last().val(1);
			}
		}


		//alert(select_li_text);
		// -          
		if ((select_li != '')&&(select_li != '0'))
		{
			if(one_li.find('i').is('.active_task_cb'))
			{
				one_li.trigger('click');
				return;
			}
		}

	}
}


function rating_list()
{

	var id=$(this).attr('id_r');
	var rat=$(this).parents('.winner_2020');
	rat.find('.js-rating').slideUp("slow");
	rat.find('.js-rating[idrr='+id+']').slideDown("slow");
	//setTimeout ( function () { rat.find('.js-rating[idrr='+id+']').slideDown("slow"); }, 500 );


}


/**
 *           
 */
function sroki_yes()
{
	var id_task= $('.js-form-srok-trips').find('[name=id]').val();
	var my= $('.js-form-srok-trips').find('[name=my]').val();

	if(my==0)
	{
		//
		var proce=$('.trips_block_global[id_trips='+id_task+']').find('.trips-b-user .gr-50').attr('proccs');

		$('.js-form-srok-trips .sroki-tabl').each(function (index, value) {
//alert($(this).find('.js-proc-form-x').val());
			if(parseFloat($(this).find('.js-proc-form-x').val())<=parseFloat(proce))
			{
				$(this).addClass('yes-buy-y');
			} else
			{
				$(this).removeClass('yes-buy-y');
			}

		});

	}
	if(my==1)
	{
		//
		var proce=$('.trips_block_global[id_trips='+id_task+']').find('.trips-b-operator .gr-50').attr('proccs');

		$('.js-form-srok-trips .sroki-tabl').each(function (index, value) {
//alert($(this).find('.js-proc-form-x').val());
			if(parseFloat($(this).find('.js-proc-form-x').val())<=parseFloat(proce))
			{
				$(this).addClass('yes-buy-y');
			} else
			{
				$(this).removeClass('yes-buy-y');
			}

		});

	}

}

function all_price_trips()
{
	var id_task= $(this).parents('.trips_block_global').attr('id_trips');

	$.arcticmodal({
		type: 'ajax',
		url: 'forms/form_edit_price.php?id='+id_task,
		beforeOpen: function(data, el) {
			$('.loader_ada_forms').show();
			$('.loader_ada1_forms').addClass('select_ada');

		},
		afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
			ToolTip();
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});
}


/**
 *     
 */
function plane_edit()
{
	//window.chart1.data = window.dataxx;
	/*
	window.pieSeries1.dataItems.each(function(row, i) {
		alert("22");
	});
	*/


	$.arcticmodal({
		type: 'ajax',
		url: 'forms/form_edit_plane.php',
		beforeOpen: function(data, el) {
			$('.loader_ada_forms').show();
			$('.loader_ada1_forms').addClass('select_ada');

		},
		afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
			ToolTip();
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});


}

/**
 *    
 */
function srok_my()
{
	var id_task= $(this).parents('.trips_block_global').attr('id_trips');
    var my=$(this).attr('my');

	$.arcticmodal({
		type: 'ajax',
		url: 'forms/form_edit_srok.php?id='+id_task+'&my='+my,
		beforeOpen: function(data, el) {
			$('.loader_ada_forms').show();
			$('.loader_ada1_forms').addClass('select_ada');

		},
		afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
			ToolTip();
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});
}








/**
 *  
 */
function AfterZero(data,update) {


}




function test_a()
{
alert("!");
	var data ='url='+window.location.href+
		'&id=34&text='+ec('');



	AjaxClient('test','test','GET',data,'AfterTest',3,0,1);
}










/**
 *    
 */
function js_buy_edit()
{
	var id_trips= $(this).parents('.trips_block_global').attr('id_trips');
	var id_buy= $(this).parents('.buy_block_global').attr('id_buy');

	$.arcticmodal({
		type: 'ajax',
		url: 'forms/form_edit_buy.php?id='+id_trips+'&id_buy='+id_buy,
		afterLoading: function(data, el) {
			//alert('afterLoading');
		},
		afterLoadingOnShow: function(data, el) {
			//alert('afterLoadingOnShow');
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});
}



/**
 *    
 */
function js_buy_del()
{
	var id_trips= $(this).parents('.trips_block_global').attr('id_trips');
	var id_buy= $(this).parents('.buy_block_global').attr('id_buy');

	$.arcticmodal({
		type: 'ajax',
		url: 'forms/form_dell_buy.php?id='+id_trips+'&id_buy='+id_buy,
		afterLoading: function(data, el) {
			//alert('afterLoading');
		},
		afterLoadingOnShow: function(data, el) {
			//alert('afterLoadingOnShow');
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});

}



/**
 *       
 */
function js_new_doc()
{
	var id_trips= $(this).parents('.trips_block_global').attr('id_trips');

	$(this).hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');


	var data ='url='+window.location.href+'&id='+id_trips;
	AjaxClient('tours','new_doc','GET',data,'Afterjs_new_doc',id_trips,0,1);




}



function changesort_stock2() {
	//alert("1");
	if($(this).val()!='')
	{
		$(this).next().show();
		//   
		$('.js--sort').addClass('greei_input');
		$('.js--sort').find('input').prop('readonly',true);

	}else
	{
		$(this).next().hide();
		//   
		$('.js--sort').removeClass('greei_input');
		$('.js--sort').find('input').removeAttr('readonly');

	}
}



/**
     
 **/
function js_menu_buybuy()
{
	var id_task= $(this).parents('.trips_block_global').attr('id_trips');

	$.arcticmodal({
		type: 'ajax',
		url: 'forms/form_add_buy.php?id='+id_task,
		beforeOpen: function(data, el) {
			$('.loader_ada_forms').show();
			$('.loader_ada1_forms').addClass('select_ada');

		},
		afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
			ToolTip();
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});
}


/**
      
 **/
function js_rrate()
{
   // 
	$(this).parents('.js-trips-comm').find('.form-rate-ok').addClass('show-form-rate');
}



/**
 *  -       
 *
 */
function ok_rate_form_doc(event)
{

	//   
	var rate_b= $(this).parents('.form-rate-ok').find('[name=doc_date]').val();
	if((rate_b!='00.00.0000')&&(jQuery.trim(rate_b)!=''))
	{
		//      
		$(this).parents('.issue-block').find('.js-issue-doc').removeClass('red-jj');
		$(this).parents('.issue-block').find('.js-issue-doc').addClass('green-jj');
		$(this).parents('.issue-block').find('.js-issue-doc').empty().append(' '+rate_b);
		$(this).parents('.form-rate-ok').removeClass('show-form-rate');
		//console.log(" .");
		event.stopPropagation();
	} else {
		$(this).parents('.issue-block').find('.js-issue-doc').addClass('red-jj');
		$(this).parents('.issue-block').find('.js-issue-doc').removeClass('green-jj');
		$(this).parents('.issue-block').find('.js-issue-doc').empty().append(' ');
		$(this).parents('.form-rate-ok').removeClass('show-form-rate');
		event.stopPropagation();
	}


	var id_trips= $(this).parents('.trips_block_global').attr('id_trips');



	var data ='url='+window.location.href+'&id='+id_trips+'&date='+rate_b;
	AjaxClient('tours','issue_doc','GET',data,'After_ok_rate_form_doc',id_trips,0,1);


}

/**
 *  -      
 *
 */
function ok_rate_form_chat(event)
{

	//   
	var rate_b= $(this).parents('.form-rate-ok').find('[name=chat_text]').val();
	if(jQuery.trim(rate_b)!='')
	{
		//      
		$(this).parents('.form-rate-ok').removeClass('show-form-rate');
		//console.log(" .");
		$(this).parents('.trips_block_global').find('.js-chat-tours-add').hide();
		var id_trips= $(this).parents('.trips_block_global').attr('id_trips');


		// post formu



		$(this).parents('.form-rate-ok').find('.js-prs').removeClass('error_textarea_2018');



		var data ='url='+window.location.href+'&id='+id_trips+'&.chat='+rate_b;

		create_post_form(data,'form_body_action');
		AjaxClient('tours','add_chat','POST',0,'After_ok_rate_form_chat',id_trips,'form_body_action',1);

		$('#form_body_action').remove();

	//	AjaxClient('tours','add_chat','GET',data,'After_ok_rate_form_chat',id_trips,0,1);


		event.stopPropagation();
	} else {
		//$(this).parents('.form-rate-ok').removeClass('show-form-rate');
		$(this).parents('.form-rate-ok').find('.js-prs').addClass('error_textarea_2018');
		alert_message('error','   ');
		event.stopPropagation();
	}




}

/**
 *  -     
 *
 */
function ok_rate_form(event)
{

	//   
	var rate_b= $(this).parents('.form-rate-ok').find('[name=exchange_rates]').val();
	if((rate_b!=0)&&(rate_b!=''))
	{
		//      
		$(this).parents('.form-rate-ok').find('.input_2018').removeClass('error_2018');

		$(this).parents('.js-form-cost').attr('rate',rate_b);

		//var code_rate=$(this).parents('.trips-b-user').find('.eye-my').attr('code');
		var code_rate='yyy';
		//alert($(this).parents('.trips-b-user').find('.eye-wall-trips').is('.eye-my'));


		$(this).parents('.js-trips-comm').find('.eye-wall-trips').addClass('eye-my');
		$(this).parents('.js-trips-comm').find('.calculate-balance').removeClass('eye-my');

		var div_mama=$(this).parents('.js-trips-comm');
        var ostat= $(this).parents('.form-rate-ok').attr('balance');

        var hii=parseFloat(rate_b);
		div_mama.find('.cacl-rrate').empty().append($.number(hii.toFixed(2), 2, '.', ' ')).show();

		var curs=(parseFloat(ctrim(ostat))*parseFloat(ctrim(rate_b)));
		var curs=$.number(curs.toFixed(2), 2, '.', ' ');

		div_mama.find('.js-all-cost').addClass('hide-cost');
		div_mama.find('.js-all-cost.rate_'+code_rate).empty().append(curs);
		div_mama.find('.js-all-cost.rate_'+code_rate).removeClass('hide-cost');

		div_mama.find('.cost_all_trips').addClass('hide-cost');
		div_mama.find('.cost_all_trips .rate_'+code_rate).parents('.cost_all_trips').removeClass('hide-cost');



		//$(this).parents('.form-rate-ok').removeClass('show-form-rate');
		//setTimeout ( function () { $(this).parents('.form-rate-ok').removeClass('show-form-rate'); }, 1000 );
		$(this).parents('.form-rate-ok').removeClass('show-form-rate');

		//console.log(" .");
		event.stopPropagation();
	} else {
		// 
		$(this).parents('.form-rate-ok').find('.input_2018').addClass('error_2018');
	}
}


/**
  
 **/
function form_doc() {


	if (!$(this).parents('.issue-block').find('.form-rate-ok').is(".show-form-rate")) {
		//alert("!!");


		var rate = $(this).parents('.issue-block').attr('doc');

		if ((rate == '') && (rate == 0)) {
			if ($(this).parents('.issue-block').find('.form-rate-ok').length != 0) {
				$('.form-rate-ok').removeClass('show-form-rate');
				$(this).parents('.issue-block').find('.form-rate-ok').addClass('show-form-rate');

			}
		} else
		{
			$(this).parents('.issue-block').find('.form-rate-ok .js-docc').val(rate);
			if ($(this).parents('.issue-block').find('.form-rate-ok').length != 0) {
				$('.form-rate-ok').removeClass('show-form-rate');
				$(this).parents('.issue-block').find('.form-rate-ok').addClass('show-form-rate');
			}
		}
		input_2018();

	}
}

/**
 *    
 */
function form_doc_chat() {


	if (!$(this).parents('.trips-b-number').find('.form-rate-ok').is(".show-form-rate")) {
		//alert("!!");


			if ($(this).parents('.trips-b-number').find('.form-rate-ok').length != 0) {
				$('.form-rate-ok').removeClass('show-form-rate');
				$(this).parents('.trips-b-number').find('.form-rate-ok').addClass('show-form-rate');

			}

		input_2018();

	}
}

/**
 *  post       ajax.  GET   -  url
 *
 */

function create_post_form(data,id_form)
{
	//var data ='url='+window.location.href+'&id='+id_trips+'&chat='+encodeURIComponent(rate_b);
	var data_forms=data.split('&');

	var form = document.createElement('form');
	form.setAttribute('action', '/');
	form.setAttribute('method', 'POST');
	form.setAttribute('id', id_form);
	form.setAttribute('class', 'none');

	$.each(data_forms, function(index, value){

		var data_forms=value.split('=');

if(data_forms[0][0]=='.') {

	var input1 = document.createElement('textarea');
	input1.setAttribute('name', data_forms[0].slice(1));
	input1.value=data_forms[1];
	form.appendChild(input1);
} else {
	var input1 = document.createElement('input');
	input1.setAttribute('type', 'text');
	input1.setAttribute('name', data_forms[0]);
	input1.setAttribute('value', data_forms[1]);
	form.appendChild(input1);
}


	});
	$('body').append(form);


}

//  
function no_rds_user()
{
	$('.js-tabs_0').hide();
	$('.jipp_fll').slideDown( "slow" );
	$('.jipp_fll_start').slideUp( "slow" );

	ToolTip();

	$(".slct").unbind('click.sys');
	$(".slct").bind('click.sys', slctclick);
	$(".drop").find("li").unbind('click');
	$(".drop").find("li").bind('click', dropli);
	$('#typesay').unbind('change', changesay);
	$('#typesay').bind('change', changesay);
	input_2018();

	$('.date_picker_x').inputmask("datetime",{
		mask: "1.2.y",
		placeholder: "dd.mm.yyyy",
		separator: ".",
		alias: "dd.mm.yyyy"
	});
}

//  
/*
$('#no_rdx').on( "click", function() {
	$('.js-tabs_0').hide();
	$('.jipp_fll').slideDown( "slow" );
	$('.jipp_fll_start').slideUp( "slow" );

	ToolTip();

	$(".slct").unbind('click.sys');
	$(".slct").bind('click.sys', slctclick);
	$(".drop").find("li").unbind('click');
	$(".drop").find("li").bind('click', dropli);
	$('#typesay').unbind('change', changesay);
	$('#typesay').bind('change', changesay);
	input_2018();

	$('.date_picker_x').inputmask("datetime",{
		mask: "1.2.y",
		placeholder: "dd.mm.yyyy",
		separator: ".",
		alias: "dd.mm.yyyy"
	});

});
*/
//  
function no_rds_org() {
	$('.js-tabs_0').hide();
	$('.jipp_fll').slideDown( "slow" );
	$('.jipp_fll_start').slideUp( "slow" );

	ToolTip();
	$('.reda_org_comment').autoResize({extraSpace : 10}).trigger('keyup');
	$('.js-padej_woo_end').autoResize({extraSpace : 10}).trigger('keyup');

	$(".slct").unbind('click.sys');
	$(".slct").bind('click.sys', slctclick);
	$(".drop").find("li").unbind('click');
	$(".drop").find("li").bind('click', dropli);
	$('#typesay').unbind('change', changesay);
	$('#typesay').bind('change', changesay);
	input_2018();

	$('.date_picker_x').inputmask("datetime",{
		mask: "1.2.y",
		placeholder: "dd.mm.yyyy",
		separator: ".",
		alias: "dd.mm.yyyy"
	});

}
/*
$('#no_rdx_org').on( "click", function() {
	$('.js-tabs_0').hide();
	$('.jipp_fll').slideDown( "slow" );
	$('.jipp_fll_start').slideUp( "slow" );

	ToolTip();
	$('.reda_org_comment').autoResize({extraSpace : 10}).trigger('keyup');
	$('.js-padej_woo_end').autoResize({extraSpace : 10}).trigger('keyup');

	$(".slct").unbind('click.sys');
	$(".slct").bind('click.sys', slctclick);
	$(".drop").find("li").unbind('click');
	$(".drop").find("li").bind('click', dropli);
	$('#typesay').unbind('change', changesay);
	$('#typesay').bind('change', changesay);
	input_2018();

	$('.date_picker_x').inputmask("datetime",{
		mask: "1.2.y",
		placeholder: "dd.mm.yyyy",
		separator: ".",
		alias: "dd.mm.yyyy"
	});

});

*/

//   
$('#no_rd').on( "click", function() {
	clearInterval(timerId);
	$.arcticmodal('close');
});


/**
    
 **/
function form_cost() {


	if (!$(this).find('.form-rate-ok').is(".show-form-rate")) {
	//alert("!!");

	var code_rate = $(this).find('.eye-my').attr('code');
		var div_mama=$(this).parents('.js-trips-comm');
//alert(code_rate);
	if (!$(this).find('.eye-my').is(".calculate-balance")) {
//       
		$(this).find('.eye-wall-trips').addClass('eye-my');
		$(this).find('[code=' + code_rate + ']').removeClass('eye-my');



		div_mama.find('.js-all-cost').addClass('hide-cost');
		div_mama.find('.js-all-cost.rate_'+code_rate).removeClass('hide-cost');

		div_mama.find('.cost_all_trips').addClass('hide-cost');
		div_mama.find('.cost_all_trips .rate_'+code_rate).parents('.cost_all_trips').removeClass('hide-cost');
		return false;

	}
	var rate = $(this).attr('rate');

	if ((rate == '') && (rate == 0)) {
		if ($(this).find('.form-rate-ok').length != 0) {
			$('.form-rate-ok').removeClass('show-form-rate');
			$(this).find('.form-rate-ok').addClass('show-form-rate');
		}
		} else
		{
			//  .        
			div_mama.find('.js-all-cost').addClass('hide-cost');
			div_mama.find('.js-all-cost.rate_'+code_rate).removeClass('hide-cost');

			div_mama.find('.cost_all_trips').addClass('hide-cost');
			div_mama.find('.cost_all_trips .rate_'+code_rate).parents('.cost_all_trips').removeClass('hide-cost');

			$(this).find('.eye-wall-trips').addClass('eye-my');
			$(this).find('[code=' + code_rate + ']').removeClass('eye-my');

		}

}
}

/**
 *     
 */
function chat_tours()
{
var chat=$(this).parents('.trips_block_global').find('.chat-tours');
	if( chat.is(':visible') ) { chat.hide("slow");

	} else
	{
		chat.show("slow");
		jQuery.scrollTo(chat, 1000, {offset:-120});
	}

}



/**
 *         
 *
 **/
function exc_cost()
{
    var code_rate=$(this).find('.eye-my').attr('code');
	$(this).find('.eye-wall-trips').addClass('eye-my');
	$(this).find('[code='+code_rate+']').removeClass('eye-my');

    var div_mama=$(this).parents('.js-trips-comm');

	div_mama.find('.js-all-cost').addClass('hide-cost');
	div_mama.find('.js-all-cost.rate_'+code_rate).removeClass('hide-cost');

	div_mama.find('.cost_all_trips').addClass('hide-cost');
	div_mama.find('.cost_all_trips').find('.rate_'+code_rate).parents('.cost_all_trips').removeClass('hide-cost');
}


function AddFormTender()
{
	
	var err = 0;
	var err1 = 0;
//alert($('.js-form-register .gloab').length);
	$('.js-form-tender-new .gloab').each(function(i,elem) {
	if($(this).val() == '')  {$(this).parents('.input_2018').find('.error-message').empty().append('  ');	 $(this).parents('.input_2018').addClass('required_in_2018');  
	$(this).parents('.list_2018').addClass('required_in_2018');						  
	err++;	
							  
							  
							  
	//alert($(this).attr('name'));					 
} else {$(this).parents('.input_2018').removeClass('required_in_2018');$(this).parents('.list_2018').removeClass('required_in_2018');}		
});
	if(err==0)
		{
	if($('.tot_buy_id').val()== '') { err1++;   alert_message('error','  '); jQuery.scrollTo('.js-buy-turs-client', 1000, {offset:-120});  } else
		{
			
				if($('.tot_fly_id').val()== '') { err1++;   alert_message('error',' '); jQuery.scrollTo('.js-fly-turs-client', 1000, {offset:-120});  }
			
		}
		}
	
	
	//alert(err);
	
	if((err==0)&&(err1==0))
		{
			$('.js-form-tender-new  .js-add-tender-form').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
			
			$('.js-form-tender-new .message-form').hide();
		    //AjaxClient('notification','even','GET',data,'AfterNofi',1,0,1);		
		AjaxClient('tours','add','POST',0,'AfterAddFormTender',0,'js-form-tender-new',0);
			
		} else
			{   
				if(err!=0)
					{
				//       
				jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
				//ErrorBut('.js-form-tender-new .js-add-tender-form',' !');
				alert_message('error','   ');
					}
				
			}	
	
}

function EditFormTender()
{

	var err = 0;
	var err1 = 0;
//alert($('.js-form-register .gloab').length);
	$('.js-form-tender-edit .gloab').each(function(i,elem) {
		if($(this).val() == '')  {$(this).parents('.input_2018').find('.error-message').empty().append('  ');	 $(this).parents('.input_2018').addClass('required_in_2018');
			$(this).parents('.list_2018').addClass('required_in_2018');
			err++;



			//alert($(this).attr('name'));
		} else {$(this).parents('.input_2018').removeClass('required_in_2018');$(this).parents('.list_2018').removeClass('required_in_2018');}
	});
	if(err==0)
	{
		if($('.tot_buy_id').val()== '') { err1++;   alert_message('error','  '); jQuery.scrollTo('.js-buy-turs-client', 1000, {offset:-120});  } else
		{

			if($('.tot_fly_id').val()== '') { err1++;   alert_message('error',' '); jQuery.scrollTo('.js-fly-turs-client', 1000, {offset:-120});  }

		}
	}


	//alert(err);

	if((err==0)&&(err1==0))
	{
		$('.js-form-tender-edit  .js-edit-tender-form').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: calc(50% - 20px);"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

		$('.js-form-tender-edit .message-form').hide();
		//AjaxClient('notification','even','GET',data,'AfterNofi',1,0,1);
		AjaxClient('tours','edit','POST',0,'AfterEditFormTender',0,'js-form-tender-edit',1);

	} else
	{
		if(err!=0)
		{
			//       
			jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
			//ErrorBut('.js-form-tender-new .js-add-tender-form',' !');
			alert_message('error','   ');
		}

	}

}

function After_ok_rate_form_chat(data,update)
{
	if (data.status=='ok')
	{
		alert_message('ok','   ');
		UpdateTripsA(update,'buy',1);

	} else
	{
		$('.trips_block_global[id_trips='+update+']').find('.js-chat-tours-add').show();
		alert_message('error',' ');
	}
}

function After_ok_rate_form_doc(data,update)
{
	if (data.status!='ok')
	{

		var ddoc=$('.trips_block_global[id_trips='+update+']').find('.issue-block').attr('doc');
		var issoe=$('.trips_block_global[id_trips='+update+']').find('.issue-block .js-issue-doc');
		if(ddoc!='')
		{

			issoe.empty().append(' '+ddoc);
			issoe.removeClass('red-jj');
			issoe.addClass('green-jj');
		} else
		{

			issoe.empty().append(' ');
			issoe.addClass('red-jj');
			issoe.removeClass('green-jj');
		}


	} else
	{
		$('.trips_block_global[id_trips='+update+']').find('.issue-block').attr('doc',data.download);
	}
}

function AfterUpdateTripsA(data,update)
{
	if (data.status=='ok')
	{
		//  
		$('.trips_block_global[id_trips='+update+']').find('.js-update-block-trips').empty().append(data.query);

        //       
		$('.trips_block_global[id_trips='+update+']').find('.js-tabs-menu').empty().append(data.echo);

		if(data.upload_mm==1) {
			//       
			$('.trips_block_global[id_trips=' + update + ']').find('.px_bg_trips').empty().append(data.echo_more);
		}

		$('.trips_block_global[id_trips='+update+']').find('.circlestat').circliful();
		$('.date_picker_xe').inputmask("datetime",{
			mask: "1.2.y",
			placeholder: "dd.mm.yyyy",
			separator: ".",
			alias: "dd.mm.yyyy"
		});
	}
}

//     
function Afterjs_new_doc(data,update)
{
	if (data.status=='ok')
	{
		$('.trips_block_global[id_trips='+update+']').find('.px_bg_trips').prepend(data.download);


        var count_v=$('.trips_block_global[id_trips='+update+'] .vers-doc-color').length;
		var i_v=count_v;

		$('.trips_block_global[id_trips='+update+'] .vers-doc-color').empty().removeClass('green-trips red-trips');

		setTimeout ( function () { $( '.new-say-doc ' ).removeClass('new-say-doc'); }, 4000 );



		$('.trips_block_global[id_trips='+update+'] .vers-doc-color').each(function(i,elem) {

			$(this).append('( '+i_v+')');
			if(i_v==count_v)
			{
				$(this).addClass('green-trips');
			} else
			{
				$(this).addClass('red-trips');
			}
			i_v--;

		});
		$('.trips_block_global[id_trips='+update+']').find('.px_bg_trips .b_loading_small').remove();
		$('.trips_block_global[id_trips='+update+']').find('.js-new-doc-trips').show();

	} else
	{
	    $('.trips_block_global[id_trips='+update+']').find('.px_bg_trips .b_loading_small').remove();
		$('.trips_block_global[id_trips='+update+']').find('.js-new-doc-trips').show();

		//   
		$.each(data.error, function(index, value){


			var err = ['no_all_password_buy','no_all_password_fly','no_phone_tell_buy','no_all_password_x','no_all_info_org','no_all_info_rf_org','number_contract_busy'];

			var err_name = ['  ','  ',',  ','  ','  ','  ',''];

			numbers=$.inArray(value, err);
			//alert(numbers);
			if(numbers!=-1)
			{
				if(value=='number_contract_busy')
				{
					alert_message('error', '  .   - ' + data.number);
				} else {
					alert_message('error', '  - ' + err_name[numbers]);
				}
			} else
			{
				alert_message('error','!');
			}
		});
	}
}

function AfterAddFormTender(data,update)
{
	if (data.status=='ok')
    {
	   // $('.js-form-tender-new').remove();
		
		alert_message('ok','  ');
		//$('.js-next-step').submit();

		//$('.js-form-tender-new .js-alert-doc').empty().append(data.download);
		//$('.js-form-tender-new .js-doc-create').slideDown( "slow" );
        //$('.js-form-tender-new  .js-doc-yes-hide').slideUp( "slow" );

		$('#js-form-edit-edit-a').attr('action','tours/.id-'+data.for_id);
		setTimeout ( function () { $('#js-form-edit-edit-a').submit(); }, 1000 );

	} else
		{
	 	  $('.js-form-tender-new .js-add-tender-form').show();
		  $('.js-form-tender-new .b_loading_small').remove();
			
		 //alert_message('error','!   ');
	
		  //$('.js-form-tender-new .message-form').empty().append('  ').show();	
			
		//   
		$.each(data.error, function(index, value){	
			
			
	var err = ['number_contract','id_operator','id_exchange','date_sele_doc','buy_id','count_clients','id_country','date_start','date_end','count_day','hotel','flight_there_route','flight_there_class','flight_there_number','flight_back_route','flight_back_class','flight_back_number','transfer_route','transfer_type','cost_client','no_all_password_buy','no_all_password_fly','no_phone_tell_buy','no_all_password_x','no_all_info_org','no_all_info_rf_org','number_contract_busy','exchange_rates','number_contract_format'];
	
	var err_name = [' ','','',' ',' ','- ','','  ','  ','- ','',' ',' ','  ',' ',' ','  ',' ',' ',' ','  ','  ',',  ','  ','  ','  ','','  ()',' '];
			
	//var number = [2,1,4,5,3,6,7,8,11,12,13,22,14,15,18,19,16,17,20,21];			
					
				
				numbers=$.inArray(value, err);
				//alert(numbers);
				if(numbers!=-1)
					{
						/*
						var ins=number[numbers];
						$('.js-form-tender-new .js-in'+ins).parents('.input_2018').addClass('required_in_2018');
			$('.js-form-tender-new .js-in'+ins).parents('.input_2018').find('.div_new_2018').append('<div class="error-message">  </div>');
			*/
						if(value=='number_contract_busy')
						{
							alert_message('error', '  .   - ' + data.number);
							jQuery.scrollTo('[name=number_contract]', 1000, {offset:-180});


							$('[name=number_contract]').parents('.input_2018').find('.error-message').empty().append('  ');	 $('[name=number_contract]').parents('.input_2018').addClass('required_in_2018');
							$('[name=number_contract]').parents('.list_2018').addClass('required_in_2018');
						} else {
							alert_message('error', '  - ' + err_name[numbers]);
						}
					} else
					{
							//$('.js-form-register .message-form').empty().append('! ');
						alert_message('error','!');
					}						
	        //jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});		
		});
		}
}

function AfterEditFormTender(data,update)
{
	if (data.status=='ok')
	{
		// $('.js-form-tender-new').remove();

		alert_message('ok','   ');
		//$('.js-next-step').submit();

		//$('.js-form-tender-edit .js-alert-doc').empty().append(data.download);
		//$('.js-form-tender-edit .js-doc-create').slideDown( "slow" );
		//$('.js-form-tender-edit  .js-doc-yes-hide').slideUp( "slow" );

		$('.js-form-tender-edit .js-edit-tender-form').show();
		$('.js-form-tender-edit .b_loading_small').remove();

		//

		setTimeout ( function () { $('#js-form-edit-edit').submit(); }, 1000 );
	} else
	{
		$('.js-form-tender-edit .js-edit-tender-form').show();
		$('.js-form-tender-edit .b_loading_small').remove();

		//alert_message('error','!   ');

		//$('.js-form-tender-new .message-form').empty().append('  ').show();

		//   
		$.each(data.error, function(index, value){


			var err = ['number_contract','id_operator','id_exchange','date_sele_doc','buy_id','count_clients','id_country','date_start','date_end','count_day','hotel','flight_there_route','flight_there_class','flight_there_number','flight_back_route','flight_back_class','flight_back_number','transfer_route','transfer_type','cost_client','no_all_password_buy','no_all_password_fly','no_phone_tell_buy','no_all_password_x','no_all_info_org','no_all_info_rf_org','number_contract_busy'];

			var err_name = [' ','','',' ',' ','- ','','  ','  ','- ','',' ',' ','  ',' ',' ','  ',' ',' ',' ','  ','  ',',  ','  ','  ','  ',''];

			//var number = [2,1,4,5,3,6,7,8,11,12,13,22,14,15,18,19,16,17,20,21];


			numbers=$.inArray(value, err);
			//alert(numbers);
			if(numbers!=-1)
			{
				/*
                var ins=number[numbers];
                $('.js-form-tender-new .js-in'+ins).parents('.input_2018').addClass('required_in_2018');
    $('.js-form-tender-new .js-in'+ins).parents('.input_2018').find('.div_new_2018').append('<div class="error-message">  </div>');
    */if(value=='number_contract_busy')
			{
				alert_message('error', '  .   - ' + data.number);
				jQuery.scrollTo('[name=number_contract]', 1000, {offset:-180});


				$('[name=number_contract]').parents('.input_2018').find('.error-message').empty().append('  ');	 $('[name=number_contract]').parents('.input_2018').addClass('required_in_2018');
				$('[name=number_contract]').parents('.list_2018').addClass('required_in_2018');
				err++;





			} else {
				alert_message('error', '  - ' + err_name[numbers]);
			}
			} else
			{
				//$('.js-form-register .message-form').empty().append('! ');
				alert_message('error','!');
			}
			//jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
		});
	}
}



//  
function open_task()
{
	var id_task= $(this).parents('.task_clock_selection').attr('id_task');

	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_doc_task.php?id='+id_task+'&tabs=0',
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
		
		
    },
    afterOpen: function(data, el) {
		
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }
  });		
	
	
	
}

	
/*
window.search_min2 = 0;  //     
window.search_deley2=700;	//    -  
*/

//window.search_input2=$('.js-keyup-search');			

/*
//         .   
 */


function nall_buy_tips(load) {
	//alert("!");
	load = load || 0;
	//lert($('.trips_payment_method').attr('nall'));
	if ($('.komy_trips').val() == 1) {
		if ($('.js_trips_payment_method').attr('nall') == 1) {

			$('.js-visible-mt').find('[nall=1]').parents('li').addClass('hide-mt');
			// -        
			var zna = $('.js-visible-mt').find('[nall=0]').attr('rel');
			if(load==0) {
				$('.js_trips_payment_method').val(zna);
				$('.js-visible-mt').find('[nall=0]').trigger('click');
			}
		}
	}else {
			//   -  
			$('.js-visible-mt').find('li').removeClass('hide-mt');
		}

}



function open_task_new()
{
	var id_task= $(this).attr('id_task');

	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_doc_task.php?id='+id_task+'&tabs=0',
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });		
	
	
}



function hide_finance_pass()
{
	//alert("!");
	$('.js-vid-oper').slideUp("slow");
	$('.js-form-pay-finance-edit .password_turs').slideUp("slow");
}


// 
//  |
// \/
function exchange_eico()
{
	//alert_message('error',$(this).val());
	var char=$(this).val();
	if($('.val_rate').find('[rel='+char+']').attr('char')=='')
	{
		$('.rates_visible').slideUp("slow");
		$('.xexchange_rates').val('').trigger('click');
	} else
		{
			$('.rates_visible').slideDown("slow");
			$('.xexchange_rates').trigger('click');
		}
	
}


//     
//  |
// \/
function xx_end_date()
{
	var uyy=0;
	var dp  = new Array();
	//alert($('.xcost_to_1').length);
	$('.xcost_to_1').each(function(i,elem) {		
		if(($(this).val()!=0)&&($(this).val()!=''))
		{
			//alert($(this).val());
		   uyy++;
			//alert(i);
		   dp[i]=$(this).val();
		}
	});	
	if((dp[0]==dp[1])&&(uyy==2))			
	{
		//
		$('.js-date_polnay').slideUp("slow");		
	} else
	{
		if(uyy==2) {
			$('.js-date_polnay').slideDown("slow");
		} else
		{
			$('.js-date_polnay').slideUp("slow");
		}
	}
}


//          
//  |
// \/
function xexchange_rates2()
{
	var curss=$('.xexchange_rates').val();
	var js_200=$(this).parents('.jj-l').find('.oper_name');
		
	//alert_message('error',curss);
	
	   if((curss!='')&&(curss!=0)&&($(this).val()!='')&&($(this).val()!=0))
		{
				var char=$('.val_rate').find('[rel='+$('#exchange_rates').val()+']').attr('char');
				var curs=(parseFloat(ctrim($(this).val()))/parseFloat(curss));
				js_200.empty().append(char+' '+$.number(curs.toFixed(2), 2, '.', ' '));
		} else
		{
			 
			    var joi=js_200.attr('joi');
			    js_200.empty().append(joi);
		}
		
}
//        
//  |
// \/
function xexchange_rates1()
{
	if($(this).val()!='')
		{
	var wxxx=$(this).val();
	var char=$('.val_rate').find('[rel='+$('#exchange_rates').val()+']').attr('char');
			
	$('.jj-l').each(function(i,elem) {
	if(($(this).find('.gloab').val() != '')&&($(this).find('.gloab').val() != 0))  { 
	var curs=(parseFloat(ctrim($(this).find('.gloab').val()))/parseFloat(wxxx));
		//alert($(this).find('.gloab').val());
					$(this).find('.oper_name').empty().append(char+' '+$.number(curs.toFixed(2), 2, '.', ' '));
	
	} else {var joi=$(this).find('.oper_name').attr('joi');
					$(this).find('.oper_name').empty().append(joi);}		
});		
		} else
			{
				$('.jj-l').each(function(i,elem) {
					var joi=$(this).find('.oper_name').attr('joi');
					$(this).find('.oper_name').empty().append(joi);
				});	
			}
			
}



//    
//  |
// \/
//ErrorBut('.form-open .js-log',' !');
function YesBut(but,text)
{
	var element=$(but);
	var text_bb22 = element.html();
				element.empty().append(text);
				element.addClass('new-say-yes');
				setTimeout ( function () { element.removeClass('new-say-yes'); element.empty().append(text_bb22);  }, 4000 );
}

//     
//  |
// \/
//ErrorBut('.js-form-open .js-log',' !');
function ErrorBut(but,text)
{
	var element=$(but);
	var text_bb22 = element.html();
				element.empty().append(text);
				element.addClass('new-say1');
				setTimeout ( function () { element.removeClass('new-say1'); element.empty().append(text_bb22);  }, 4000 );
}


function validDate(date){ // date   31.12.2014
  var d_arr = date.split('.');
  var d = new Date(d_arr[2]+'/'+d_arr[1]+'/'+d_arr[0]+''); //    2014/12/31
  if (d_arr[2]!=d.getFullYear() || d_arr[1]!=(d.getMonth() + 1) || d_arr[0]!=d.getDate()) {
    return false; //  
  };
  return true;
}


//      - 
function date_nait()
{
	var date2 = $('.js-date-nait2').val();
    var date1 =  $('.js-date-nait1').val();
	
	if ((validDate(date1))&&(validDate(date2))) {
		//alert("!1");
		
	var d_arr1 = date1.split('.');
  var d1 = new Date(d_arr1[2]+'/'+d_arr1[1]+'/'+d_arr1[0]+'');
		
	var d_arr2 = date2.split('.');
  var d2 = new Date(d_arr2[2]+'/'+d_arr2[1]+'/'+d_arr2[0]+'');
	
    var daysLag = Math.ceil(Math.abs(d2.getTime() - d1.getTime()) / (1000 * 3600 * 24));
	if(($.isNumeric(daysLag))&&(daysLag>=0))
	{
       $('.js-date-nait-itog').val(daysLag);
		input_2018();
	}
  }
}

//   

function UpdateTripsA(id,operation,upload_mm)
{
	if (upload_mm == undefined) upload_mm = 0;
	//   ,    
var active_menu_id=$('.trips_block_global[id_trips='+id+']').find('.js-tabs-menu .active').attr('id');
	//alert(active_menu_id);


	var data ='url='+window.location.href+'&id='+id+'&menu_id='+active_menu_id+'&op='+operation+'&mm='+upload_mm;
	AjaxClient('tours','update_trips','GET',data,'AfterUpdateTripsA',id,0,1);
}



//   
function UpdateTaskBi(id)
{
	var data ='url='+window.location.href+'&id='+id;
				
	AjaxClient('task','task_update','GET',data,'AfterUpdateTaskBi',id,0,1);
}
function UpdateTaskBiAdd(id)
{
	var data ='url='+window.location.href+'&id='+id;
				
	AjaxClient('task','task_update','GET',data,'AfterUpdateTaskBiAdd',id,0,1);
}

function count_task()
{
	$('.hidden-count-task')
	
	$('.search-count-task').empty().append($('.hidden-count-task').text());
	//$('.search-count-task').slideDown( "slow" );
}

function open_task1()
{
	var id_task= $(this).parents('.task_block_global').attr('id_task');

	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_doc_task.php?id='+id_task+'&tabs=0',
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });		
	
	
}


function animation_teps()
{
	$('.teps').each(function(i,elem) {
	$(this).animate({width: $(this).attr('rel_w')+"%"}, 2000, function() {  });
});
}
function animation_graf()
{
	$('.line-fin').each(function(i,elem) {
		$(this).animate({width: $(this).attr('rel_w')+"%"}, 2000, function() {  });
	});
}

/**
 *  -     
 * @param e
 **/
function filter_active_a_t(e)
{
	var iu=$('.content').attr('iu');
	e.preventDefault();
	var id_f=$(this).parents('.fi-at').attr('id');

	$.cookie("su_7ftu"+iu, null, {path:'/',domain: window.is_session,secure: false});
	CookieList("su_7ftu"+iu, id_f,'add');
	location.href=$(this).attr('href');
}


function list_number() {
	//alert("!");
//.next().find('li')
	var active_new=$(this).find('a').attr("rel");
	//alert(active_new);
	if(active_new==2)
	{
		$("#date_table").show();
		//$("#date_table").focus();
		$('.bookingBox_range').css({
			display:'block'
		});
	}
}



function filter_active_a(e)
{
	var iu=$('.content').attr('iu');
	e.preventDefault();
	var id_f=$(this).parents('.fi-a').attr('id');
	
	$.cookie("su_7fta"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
    CookieList("su_7fta"+iu, id_f,'add');	
	location.href=$(this).attr('href');
}
/**
    
 **/
function filter_active()
	{
		var active_new=$(this).find('.choice-radio i');
		var iu=$('.content').attr('iu');
		
		if(!active_new.is('.active_task_cb'))
		{
			//  
			$('.js-h1-filter').find('.choice-radio i').removeClass('active_task_cb');
			active_new.addClass('active_task_cb');
			//  cookie
			$.cookie("su_7ta"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
            CookieList("su_7ta"+iu,$(this).find('.choice-radio input').val(),'add');
			
			if($(this).find('.choice-radio input').val()==2)
				{
					
					$('.filter-wois').addClass("active-filter-s"); 
					 $('.js-plus-filter').removeClass("active-filter-s"); $('.js-plus-filter').addClass("no-active"); 
				} else
					{
					
					    $('.filter-wois').removeClass("active-filter-s"); 
					    $('.js-plus-filter').addClass("active-filter-s"); $('.js-plus-filter').removeClass("no-active"); 
						$('.js-reload-top').addClass('active-r');
					}
			
			
		}
	}

/**
     
 **/
function filter_active_turs()
{
	var active_new=$(this).find('.choice-radio i');
	var iu=$('.content').attr('iu');

	if(!active_new.is('.active_task_cb'))
	{
		//  
		$('.js-h1-filter-turs').find('.choice-radio i').removeClass('active_task_cb');
		active_new.addClass('active_task_cb');
		//  cookie
		$.cookie("su_7tu"+iu, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("su_7tu"+iu,$(this).find('.choice-radio input').val(),'add');

		if($(this).find('.choice-radio input').val()==2)
		{

			$('.filter-wois').addClass("active-filter-s");
			$('.js-plus-filter').removeClass("active-filter-s"); $('.js-plus-filter').addClass("no-active");
		} else
		{

			$('.filter-wois').removeClass("active-filter-s");
			$('.js-plus-filter').addClass("active-filter-s"); $('.js-plus-filter').removeClass("no-active");
			$('.js-reload-top').addClass('active-r');
		}


	}
}


//      
function choice_user_task1_uma(tabs,id_list)
{
		clearInterval(timerId); //      
	$.arcticmodal('close');
	if(tabs==2)
	   {
	   	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_doc_org.php?id='+id_list+'&tabs=0',
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
	   } else
		   {
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_doc_user.php?id='+id_list+'&tabs=0',
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });		   
		   }
}



/*	

var search_input2_search_c=$('.js-choice-keyup');
	
	
search_input2_search_c.keyup(function() {
	// 
				
    delays(function(){
		
		if((jQuery.trim(search_input2_search_c.val().length) >= search_min2_search_c)||(jQuery.trim(search_input2_search_c.val().length)==0))
		{
			
			var val1= $('.js-tabs-menu-choiche').find('.active').attr('id');
			
                var data ='url='+window.location.href+
					'&all='+$('.js-eshe-client-x').attr("all")+
					'&search='+encodeURIComponent(search_input2_search_c.val())+
				'&tabs='+val1;	
			$('.js-icon-load').hide().after('<div class="b_loading_small" style="margin-right:-20px; position:relative; top: 0px; right: 0px; padding-top:0px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
                AjaxClient('clients','search_client_tours','GET',data,'AfterSearchClientT',1,0);		
		}
		
		
    }, search_deley2_search_c);
});		
	*/

//       
function update_edit_input_eico()
{
	var te=$(this).parents('.select').find('a.slct').text();
	//alert(te);
	$(this).parents('.js-edit-input-list').find('.edit-pole-eico input').val(te);
}


//   
function edit_eico_list()
{
	$(this).parents('.js-edit-input-list').removeClass('no-active-edit-20');
	var tye=$(this).parents('.js-edit-input-list').find('.edit-pole-eico input').val();
	$(this).parents('.js-edit-input-list').find('.edit-pole-eico input').val('').focus().val(tye);
	
}


//      
function choice_task_you()
{

	var i_c=$(this).find('i');
	var cb_h=$(this).find('input').val();
	
	if($(this).parents('.task_clock_selection').length > 0)
		{
	
	var id_task=$(this).parents('.task_clock_selection').attr('id_task');
		} else
			{
		var id_task=$(this).parents('.task_block_global').attr('id_task');			
			}
	
	if(i_c.is(':visible')) 
	   {
	
	if((cb_h==0)&&(!i_c.is('.active_task_cb')))
		{
			  $(this).find('input').val(1);
			  $(this).find('.choice-radio i').addClass('active_task_cb');
			  $(this).find('.choice-head').empty().append('   ');
			 
			
			//  
			var data ='url='+window.location.href+'&id='+id_task+'&choice=1';			
	        AjaxClient('task','task_my_task','GET',data,'AfterMyTask',id_task,0);
			
			
			
		} else
			{
			  $(this).find('input').val(0);
			  $(this).find('.choice-radio i').removeClass('active_task_cb');
				
			  			//  
			var data ='url='+window.location.href+'&id='+id_task+'&choice=0';			
	        AjaxClient('task','task_my_task','GET',data,'AfterMyTask',id_task,0);
				$(this).find('.choice-head').empty().append('   ');
				
			  
			}
}
}

// 
function choice_buy_you()
{

	var i_c=$(this).find('i');
	var cb_h=$(this).find('input').val();


		var id_task=$(this).parents('.buy_block_global').attr('id_buy');


	if(i_c.is(':visible'))
	{

		if((cb_h==0)&&(!i_c.is('.active_task_cb')))
		{
			$(this).find('input').val(1);
			$(this).find('.choice-radio i').addClass('active_task_cb');
			//$(this).find('.choice-head').empty().append('   ');


			//  
			var data ='url='+window.location.href+'&id='+id_task+'&choice=1';
			AjaxClient('finance','constant','GET',data,'AfterConstBuy',id_task,0,1);



		} else
		{
			$(this).find('input').val(0);
			$(this).find('.choice-radio i').removeClass('active_task_cb');

			//  
			var data ='url='+window.location.href+'&id='+id_task+'&choice=0';
			AjaxClient('finance','constant','GET',data,'AfterConstBuy',id_task,0,1);
			//$(this).find('.choice-head').empty().append('   ');


		}
	}
}


//    
function choice_user_task_uma(tabs,id_list)
{
	
	
	$('.js-id-client-task').val(id_list);
	$('.js-client-type-task').val(tabs);
	$('.js-sv-user-task span').empty().append($('.nname_choice[id_ch='+id_list+']').find('.tit').text());
	
	$('.js-sv-user-task').show();	
	
	$( '.arcticmodal-close', $('.js-s_form_xx').closest( '.box-modal' )).click();
}


//      
function choice_after_end_uma(tabs,id_list)
{
	clearInterval(timerId); //      
	$.arcticmodal('close');
	
	
	$('.js-buy-turs-client').parents('.buy_turs').hide();
	
	$('.js-buy-turs-client').parents('.buy_turs').before('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
	
	var data ='url='+window.location.href+'&type=1'+'&tabs='+tabs+'&id_tabs='+id_list+'&tk='+$('.h111').attr('mor')+'&id='+$('.h111').attr('for');
    
	AjaxClient('tours','card_client','GET',data,'AfterCardClient',1,0);		
	
	
}

function choice_after_end_fly_uma(tabs,id_list)
{
	clearInterval(timerId); //      
	$.arcticmodal('close');
	
	//alert(id_list);
	
	$('.js-fly-turs-client').parents('.buy_turs').hide();
	
	$('.js-fly-turs-client').parents('.buy_turs').before('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
	
	var data ='url='+window.location.href+'&type=2'+'&tabs='+tabs+'&id_tabs='+id_list+'&tk='+$('.h111').attr('mor')+'&id='+$('.h111').attr('for');
    
	AjaxClient('tours','card_client','GET',data,'AfterCardClient',2,0);		
	
	
}





//       
function choice_client_end()
{
	var choice_id=$(this).attr('id_rel');
	var choice_tabs=$(this).attr('tabs');
	if(choice_id==0)
	{
			var text_bb22 = $('.js-choice-yyy').find('i').text();
			$('.js-choice-yyy').find('i').empty().append('!');
			$('.js-choice-yyy').addClass('new-znay1');
			setTimeout ( function () { $('.js-choice-yyy').removeClass('new-znay1'); $('.js-choice-yyy').find('i').empty().append(text_bb22);  }, 4000 );
	} else
	{
		var fun= $('[name=posta]').val();
        $.globalEval(fun+'_uma('+choice_tabs+',\''+choice_id+'\')');	
	}
}




//       
function rrube_choice()
{
	var del_rel=$(this).parents('.nname_choice').attr('id_ch');
	$(this).parents('.nname_choice').remove();
	$('.list_client_choice[rel_notib='+del_rel+']').removeClass('yesss-ch');
	
					var new_choice='';
				var no_choice=del_rel;
				var aaaa = $('.js-choice-yyy').attr('id_rel').split(',');

				var is_c=0;
		        for (var t = 0; t < aaaa.length; t++) 
		        { 
					if(aaaa[t]!=no_choice)
					{
						if(is_c==0) { new_choice=aaaa[t];  } else { new_choice=new_choice+','+aaaa[t]; }
						is_c++;	
					}
				}
				
				if(new_choice=='')
				{
					$('.js-choice-yyy').removeClass('yes_choice_client');
	                $('.js-choice-yyy').attr('id_rel',0);	
				} else
				{
					$('.js-choice-yyy').attr('id_rel',new_choice);	
				}
	
}


//       
function click_client_choice()
{
	var several = $('[name=several_choice]').val();
	if($(this).is('.yesss-ch'))
		{
			// 
			// 
			if(several==0)
		{
			//   
	$(this).removeClass('yesss-ch');
	$('.js-choice-yyy').removeClass('yes_choice_client');
	$('.js-choice-yyy').attr('id_rel',0);
			
	$('.list_choice_yes').empty();		
			
			
		} else
			{
				
				$(this).removeClass('yesss-ch');
				var new_choice='';
				var no_choice=$(this).attr('rel_notib');
				var aaaa = $('.js-choice-yyy').attr('id_rel').split(',');

				var is_c=0;
		        for (var t = 0; t < aaaa.length; t++) 
		        { 
					if(aaaa[t]!=no_choice)
					{
						if(is_c==0) { new_choice=aaaa[t];  } else { new_choice=new_choice+','+aaaa[t]; }
						is_c++;	
					} else
					{
						$('.list_choice_yes').find('[id_ch='+no_choice+']').remove();	
					}
				}
				
				if(new_choice=='')
				{
					$('.js-choice-yyy').removeClass('yes_choice_client');
	                $('.js-choice-yyy').attr('id_rel',0);	
				} else
				{
					$('.js-choice-yyy').attr('id_rel',new_choice);	
				}
				
				
			}
			
		} else
			{
	if(several==0)
		{
			//   
	$('.yesss-ch').removeClass('yesss-ch');
	var val=$(this).attr('rel_notib');
	var val1= $('.js-tabs-menu-choiche').find('.active').attr('id');
	$(this).addClass('yesss-ch');
	$('.js-choice-yyy').addClass('yes_choice_client');
	$('.js-choice-yyy').attr('id_rel',val);
	$('.js-choice-yyy').attr('tabs',val1);
			
	$('.list_choice_yes').empty().append('<div class="nname_choice" id_ch="'+val+'"><span class="tit">'+$(this).find('.h_cb span').text()+'</span><span class="rrube_choice"></span></div>');		
			
			
		} else
		{
			//   	
	var val=$(this).attr('rel_notib');
	var val1= $('.js-tabs-menu-choiche').find('.active').attr('id');
	$(this).addClass('yesss-ch');
	$('.js-choice-yyy').removeClass('yes_choice_client').addClass('yes_choice_client');
	$('.js-choice-yyy').attr('tabs',val1);
			
	var id_rr=$('.js-choice-yyy').attr('id_rel');
		if(id_rr==0)
			{
				// 
	$('.js-choice-yyy').attr('id_rel',val);
		$('.list_choice_yes').empty().append('<div class="nname_choice" id_ch="'+val+'"><span class="tit">'+$(this).find('.h_cb span').text()+'</span><span class="rrube_choice"></span></div>');		
			} else
				{
					//   
					$('.js-choice-yyy').attr('id_rel',id_rr+','+val);
					$('.list_choice_yes').append('<div class="nname_choice" id_ch="'+val+'"><span class="tit">'+$(this).find('.h_cb span').text()+'</span><span class="rrube_choice"></span></div>');		
				}
	
			
			
			
			
		}
			}
}


//  
function js_buy_turs_client()
{	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_choice_client.php?tabs=1&several=0&posta=choice_after_end',
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');						
    },
    afterOpen: function(data, el) {
		$('.loader_ada_forms').hide();
		$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }
  });		
}


//   
function js_fly_turs_client()
{	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_choice_client.php?tabs=4&tabss=0&several=1&posta=choice_after_end_fly',
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');						
    },
    afterOpen: function(data, el) {
		$('.loader_ada_forms').hide();
		$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }
  });		
}




//      
function UpdateNumberTuris()
{
	var number_ssr=1;
	$('.active-turist-turs').each(function(i,elem) {
	$(this).find('.span-44').empty().append(number_ssr);
	number_ssr++;
});
}


//   
function loli_butt()
{
	var cb_h=$(this).parents('.loli_turs').find('input');
	//var bloo=$(this).parents('.info-client-ruler');
	if(cb_h.val()==0)
		{
			  cb_h.val(1);
			
			  $(this).find('.choice-radio i').addClass('active_task_cb');
			  $(this).addClass('active_pass');
			
			//  id 
			var id_deli = $(this).parents('.info-client-ruler').attr('id_rules');
			
			//  
			$('.tot_fly_id').val(AddDellList($('.tot_fly_id').val(),id_deli,'dell'));
			//  
			var count_turi=parseFloat($('.tot_fly_count').val());
			if(count_turi!=0)
				{
			$('.tot_fly_count').val(count_turi-1);
				}
			
			
			$('.info-client-ruler[id_rules='+id_deli+']').removeClass('active-turist-turs');
			
			
			UpdateNumberTuris();
	
			
			
			
		}  else
			{
			  cb_h.val(0);
			
			  $(this).find('.choice-radio i').removeClass('active_task_cb');
			  $(this).removeClass('active_pass');	
			
				
	
			//  id   
			var id_deli = $(this).parents('.info-client-ruler').attr('id_rules');
			
			//  
				var add_200=AddDellList($('.tot_fly_id').val(),id_deli,'add');
				if(add_200!=0)
					{
						$('.tot_fly_id').val(AddDellList($('.tot_fly_id').val(),id_deli,'add'));
						
							//  
			var count_turi=parseFloat($('.tot_fly_count').val());
			/*
						if(count_turi!=0)
				{*/
			$('.tot_fly_count').val(count_turi+1);
			//	}
						
					//     
					//*************************
					$('.info-client-ruler[id_rules='+id_deli+']').addClass('active-turist-turs');
						
					UpdateNumberTuris();	
						
						
					}
			
		
			
			
				
				
				
			}
}


//  
function password_butt()
{
	var cb_h=$(this).parents('.password_turs').find('input');
	if(cb_h.val()!=$(this).attr('id'))
		{
			  cb_h.val($(this).attr('id'));
			  
			  $(this).parents('.password_turs').find('.choice-radio i').removeClass('active_task_cb');
			  $(this).parents('.password_turs').find('.input-choice-click-pass').removeClass('active_pass');
			
			  $(this).find('.choice-radio i').addClass('active_task_cb');
			  $(this).addClass('active_pass');
		} 
}


//
// 
// 
//
//
//

//
//

// 
// 
// 
//  
//  

// 
// 
// 
//  

//      1  0
//     
function UpdateGlobal(id_user,arr)
{	
	var data ='url='+window.location.href+'&tk='+$('.h111').attr('mor')+'&id='+id_user+'&arr='+arr;
				
	AjaxClient('clients','update_user_global','GET',data,'AfterUpdateUser',id_user,0,1);
}

function UpdateFinance(arr)
{
	var data ='url='+window.location.href+'&arr='+arr;
	AjaxClient('finance','update','GET',data,'AfterUpdateFinance',arr,0,1);
}



// 
//
// 

//      1  0
//     
function UpdateGlobalO(id_org,arr)
{	
	var data ='url='+window.location.href+'&tk='+$('.h111').attr('mor')+'&id='+id_org+'&arr='+arr;
				
	AjaxClient('clients','update_org_global','GET',data,'AfterUpdateOrg',id_org,0,1);
}


/**
 *     
 *
 * var rn = new RussianName('  ');
 * rn.fullName(rn.gcaseRod); //   
 *
 *     .   .
 *
 * ,      . .
 *
 * @version  0.1.4
 * @author   Johnny Woo <agalkin@agalkin.ru>
 */

var RussianNameProcessor = {
	sexM: 'm',
	sexF: 'f',
	gcaseIm:   'nominative',      gcaseNom: 'nominative',      // 
	gcaseRod:  'genitive',        gcaseGen: 'genitive',        // 
	gcaseDat:  'dative',                                       // 
	gcaseVin:  'accusative',      gcaseAcc: 'accusative',      // 
	gcaseTvor: 'instrumentative', gcaseIns: 'instrumentative', // 
	gcasePred: 'prepositional',   gcasePos: 'prepositional',   // 
	
	rules: {
		lastName: {
			exceptions: [
				'	,,,,,,, . . . . .',
				'	,,,,,,,,, . . . . .',
				'	,,, - - - - -'
			],
			suffixes: [
				'f	,,,,,,,,,,,,,,,,,,,,,, . . . . .',
				'f	,  - - - - -',
				'f	       -- -- -- -- --',
				'	     -- -- -- -- --',
				'f	       - - - - -',
				
				'	 - - - - -',
				'	   - - - - -',
				'	   - - - - -',
					
				'	      ',
		
				'	                      . . . . .',
				'	,,,,,,, . . . . .',
				'	,                   . . . . .',
				'	,,,,,,           . . . . .',
		
				'	,            - - - - -',
				'	,,,,,  - - - - -',
				'	  - - - - -',
				'	   - - - - -',
		
				'	   - - - - -',
		
				'	  - - - - -',
				'	   - - - - -',
				'	  - - - - -',
		
				'	,,       ',
		
				'	,  -- -- -- -- --',
				'	,  -- -- -- -- --',
		
				'	,,,       ',
		
				'	  - - - - -',
				'	,  - - - -- -',
				'	  - - - -- -',
				'	,       ',
		
				'	,,,  -- -- -- - --',
				'	,   -- -- -- - --',
				'	       - - - - -',
					
				'	  -- -- -- -- --',
				'	  -- -- -- -- --',
					
				'	,       ',
				'	,,,,,,,,,,,,,       '
			]
		},
		firstName: {
			exceptions: [
				'	    -- -- -- -- --',
				'	  --  --  --  --  --',
				'm	   . . . . .',
				'f	,,,,   . . . . .'
			],
			suffixes: [
				'	,,,,,,,   . . . . .',
				'f	,,,,,,,,,,,,,,,,,,,,,   . . . . .',

				'f	   - - .  -',
				'm	   - - - - -',

				'	,,,,,  - - - - -',
				'	   - - - - -',
				'	  - - - - -',
				'	   - - - - -',
				'	  - - - - -',
				'	  - - - - -',
				'	   - - - - -',
				'	,,,,,,,,,,,,,,,,,	     '
			]
		},
		middleName: {
			suffixes: [
				'	           ',
				'	  - - - - -'
			]
		}
	},

	initialized: false,
	init: function() {
		if(this.initialized) return;
		this.prepareRules();
		this.initialized = true;
	},

	prepareRules: function() {
		for(var type in this.rules) {
			for(var key in this.rules[type]) {
				for(var i = 0, n = this.rules[type][key].length; i < n; i++) {
					this.rules[type][key][i] = this.rule(this.rules[type][key][i]);
				}
			}
		}
	},

	rule: function(rule) {
		var m = rule.match(/^\s*([fm]?)\s*(\S+)\s+(\S+)\s+(\S+)\s+(\S+)\s+(\S+)\s+(\S+)\s*$/);
		if(m) return {
			sex: m[1],
			test: m[2].split(','),
			mods: [m[3], m[4], m[5], m[6], m[7]]
		}
		return false;
	},
	
	//        
	word: function(word, sex, wordType, gcase) {
		//      
		if(gcase == this.gcaseNom) return word;
		
		//  
		if(word.match(/[-]/)) {
			var list = word.split('-');
			for(var i = 0, n = list.length; i < n; i++) {
				list[i] = this.word(list[i], sex, wordType, gcase);
			}
			return list.join('-');
		}
		
		//  . .
		if(word.match(/^[-]\.?$/i)) return word;
		
		this.init();
		var rules = this.rules[wordType];

		if(rules.exceptions) {
			var pick = this.pick(word, sex, gcase, rules.exceptions, true);
			if(pick) return pick;
		}
		var pick = this.pick(word, sex, gcase, rules.suffixes, false);
		return pick || word;
	},
	
	//         
	pick: function(word, sex, gcase, rules, matchWholeWord) {
		wordLower = word.toLowerCase();
		for(var i = 0, n = rules.length; i < n; i++) {
			if(this.ruleMatch(wordLower, sex, rules[i], matchWholeWord)) {
				return this.applyMod(word, gcase, rules[i]);
			}
		}
		return false;
	},
	
	// ,     
	ruleMatch: function(word, sex, rule, matchWholeWord) {
		if(rule.sex == this.sexM && sex == this.sexF) return false; // male by default
		if(rule.sex == this.sexF && sex != this.sexF) return false;
		for(var i = 0, n = rule.test.length; i < n; i++) {
			var test = matchWholeWord ? word : word.substr(Math.max(word.length - rule.test[i].length, 0));
			if(test == rule.test[i]) return true;
		}
		return false;
	},
	
	//   ( )
	applyMod: function(word, gcase, rule) {
		switch(gcase) {
			case this.gcaseNom: var mod = '.'; break;
			case this.gcaseGen: var mod = rule.mods[0]; break;
			case this.gcaseDat: var mod = rule.mods[1]; break;
			case this.gcaseAcc: var mod = rule.mods[2]; break;
			case this.gcaseIns: var mod = rule.mods[3]; break;
			case this.gcasePos: var mod = rule.mods[4]; break;
			default: throw "Unknown grammatic case: "+gcase;
		}
		for(var i = 0, n = mod.length; i < n; i++) {
			var c = mod.substr(i, 1);
			switch(c) {
				case '.': break;
				case '-': word = word.substr(0, word.length - 1); break;
				default: word += c;
			}
		}
		return word;
	}
}

// new RussianName('  ')      //   
// new RussianName('  ')      //    
// new RussianName('', '')        //    
// new RussianName('', '', '', 'f') //     ('m'  'f')
var RussianName = function(lastName, firstName, middleName, sex) {
	if(typeof firstName == 'undefined') {
		var m = lastName.match(/^\s*(\S+)(\s+(\S+)(\s+(\S+))?)?\s*$/);
		if(!m) throw "Cannot parse supplied name";
		if(m[5] && m[3].match(/(|)$/) && !m[5].match(/(|)$/)) {
			//   
			lastName = m[5];
			firstName = m[1];
			middleName = m[3];
			this.fullNameSurnameLast = true;
		} else {
			//   
			lastName = m[1];
			firstName = m[3];
			middleName = m[5];
		}
	}
	this.ln = lastName;
	this.fn = firstName || '';
	this.mn = middleName || '';
	this.sex = sex || this.getSex();
}
RussianName.prototype = {
	// constants
	sexM: RussianNameProcessor.sexM,
	sexF: RussianNameProcessor.sexF,
	gcaseIm:   RussianNameProcessor.gcaseIm,   gcaseNom: RussianNameProcessor.gcaseNom, // 
	gcaseRod:  RussianNameProcessor.gcaseRod,  gcaseGen: RussianNameProcessor.gcaseGen, // 
	gcaseDat:  RussianNameProcessor.gcaseDat,                                           // 
	gcaseVin:  RussianNameProcessor.gcaseVin,  gcaseAcc: RussianNameProcessor.gcaseAcc, // 
	gcaseTvor: RussianNameProcessor.gcaseTvor, gcaseIns: RussianNameProcessor.gcaseIns, // 
	gcasePred: RussianNameProcessor.gcasePred, gcasePos: RussianNameProcessor.gcasePos, // 
	
	fullNameSurnameLast: false,
	
	ln: '', fn: '', mn: '', sex: '',
	//     ,      
	getSex: function() {
		if(this.mn.length > 2) {
			switch(this.mn.substr(this.mn.length - 2)) {
				case '': return this.sexM;
				case '': return this.sexF;
			}
		}
		return '';
	},
	
	fullName: function(gcase) {
		return (
			(this.fullNameSurnameLast ? '' : this.lastName(gcase) + ' ')
			+ this.firstName(gcase) + ' ' + this.middleName(gcase) +
			(this.fullNameSurnameLast ? ' ' + this.lastName(gcase) : '')
		).replace(/^ +| +$/g, '');
	},
	lastName: function(gcase) {
		return RussianNameProcessor.word(this.ln, this.sex, 'lastName', gcase);
	},
	firstName: function(gcase) {
		return RussianNameProcessor.word(this.fn, this.sex, 'firstName', gcase);
	},
	middleName: function(gcase) {
		return RussianNameProcessor.word(this.mn, this.sex, 'middleName', gcase);
	}
}


//     ajax get 
function ec(vv)
{
	return encodeURIComponent(vv);
}

//      
function padej_woo()
{
	var name_woo=$('.woo1').val();
	var head_woo=$('.woo2').val();
	if(name_woo=='')
	{
		name_woo='________';
	} else
		{
			var rn = new RussianName(name_woo);
	   name_woo=rn.fullName(rn.gcaseRod);
		}
	if(head_woo=='')
	{
		head_woo='________';
	}	else
		{
			var rn1 = new RussianName(head_woo);
	   head_woo=rn1.fullName(rn1.gcaseRod)
		}
	
	
	$('.js-padej_woo_end').empty().append(head_woo+' '+name_woo+',       ');
	$('.js-padej_woo_end').val(head_woo+' '+name_woo+',       ');
	$('.js-padej_woo_end').trigger('keyup');
	
	
}

//  
function TextToLat(inp)
{
	var ru2en = {
	ru_str : " Ii",
  	en_str : [' ',
            'A','B','V','G','D','E','E','ZH','Z','I','I','K','L','M','N','O','P','R','S','T',
            'U','F','KH','TS','CH','SH','SHCH','IE','Y','','E','IU','IA','I',
            'A','B','V','G','D','E','E','ZH','Z','I','I','K','L','M','N','O','P','R','S','T',
            'U','F','KH','TS','CH','SH','SHCH','IE','Y','','E','IU','IA','I'
        ]
    }

    ru2en.ru2en = {};
  	for(var i = 0, l = ru2en.ru_str.length; i < l; i++)
    	ru2en.ru2en[ru2en.ru_str.charAt(i)] = ru2en.en_str[i];

	var re = /\S+\s\S+\s/i;
	var temp = inp.match(re);
	var a = inp.split("");

	if(temp!=null)
    	a = String(temp).split("");

    for (var i=0,aL=a.length;i<aL;i++) {a[i] = ru2en.ru2en[a[i]]}
    return a.join("");
}



function toTranslit(text) {
    return text.replace(/([-])|([\s_-])|([^a-z\d])/gi,
    function (all, ch, space, words, i) {
        if (space || words) {
            return space ? ' ' : '';
        }
        var code = ch.charCodeAt(0),
            index = code == 1025 || code == 1105 ? 0 :
                code > 1071 ? code - 1071 : code - 1039,
            t = ['yo', 'a', 'b', 'v', 'g', 'd', 'e', 'zh',
                'z', 'i', 'y', 'k', 'l', 'm', 'n', 'o', 'p',
                'r', 's', 't', 'u', 'f', 'h', 'c', 'ch', 'sh',
                'shch', '', 'y', '', 'e', 'yu', 'ya'
            ]; 
        return t[index];
    });
}

function close_close_window()
{
	clearInterval(timerId); 
	$.arcticmodal('close');
}

//   
function ctrim(str)
{
	str = str.replace(/\s/g, '');
	return str;
}

//   
function string_res1()
{
	var pp=$(this).attr('id');
	
	$('.fox_search_result1').hide();
	$('[name=id_search_client1]').val(pp).trigger('click');
	
	$('.end_search1').find('.end_one1').empty().append($(this).find(".name_search_x").html());
	$('.end_search1').find('.end_two1').empty().append($(this).find(".phone_search_x").html());
	$('.end_search1').show();
	
}


//  
function ToolTip()
{
	
$("[data-tooltip]").mousemove(function (eventObject) {
		
		if(!$("div").is("#tooltip"))
		{
		  $("body").append('<div id="tooltip"></div>');
		}

        $data_tooltip = $(this).attr("data-tooltip");
     $("#tooltip").text($data_tooltip);     
	var offset = $(this).offset();
	
	    
	//$('.debug').empty().append(offset.left+'-'+$(window).width()+'-'+$('#tooltip').width()+'-'+eventObject.pageX);
	//var razn=offset.left+$('#tooltip').width();

	if(eventObject.pageX>=($(window).width()/2))
		{
        $("#tooltip").css({ 
                         "top" : eventObject.pageY + 5,
                        "left" : eventObject.pageX - $('#tooltip').outerWidth() - 5
		
                     });
                     
			
			setTimeout ( function () { $("#tooltip").fadeIn(500); }, 	400 );
			
			
		}else
	{
        $("#tooltip").css({ 
                         "top" : eventObject.pageY + 5,
                        "left" : eventObject.pageX + 5
                     });
		setTimeout ( function () { $("#tooltip").fadeIn(500); }, 400 );
                     
	}
    }).mouseout(function () { $("#tooltip").remove(); });

}

$(document).ready(function(){	
animation_teps();
animation_graf();
//  	
$('body').on("click",'.burger_ok',SliceMM);	
$('.menu_x').clone().appendTo(".mobile-nav span");
	

	
//    	
$('body').on("click",".js-org",doc_org);		
	
//        	
$('body').on("click",".js-client-dop",doc_user1);		
$('body').on("click",".js-org-dop",doc_org1)	

	
//$('body').on("keyup",".js-keyup-search",KeyUpS);

//   
$('body').on("change keyup input click",".js-h1-filter",filter_active);
$('body').on("change keyup input click",".fi-a a",filter_active_a);

//   
$('body').on("change keyup input click",".js-h1-filter-turs",filter_active_turs);
	$('body').on("change keyup input click",".fi-at a",filter_active_a_t);
	
$('.index_booking').on("change keyup input click",".save_users", save_users);	
$('.index_booking').on("change keyup input click",".save_reports", save_reports);	
$('.index_booking').on("change keyup input click",".save_booking", save_booking);
$('.index_booking').on("change keyup input click",".yess_booking", yess_booking);

//  	
$('.js-form-add-tours').on("change keyup input click",".js-buy-turs-client",js_buy_turs_client);

//   	
$('.js-form-add-tours').on("change keyup input click",".js-fly-turs-client",js_fly_turs_client);	
	

$('.dell_stock_searcho').bind('change keyup input click', changesort_stock2__o);
$('.dell_stock_search_tours').bind('change keyup input click', changesort_stock2_tours);



$('.menu-09').on("change keyup input click",".js-add_new_client", clients_adds);	
	
//$('.menu-09').on("change keyup input click",".js-add_new_task", task_adds);
	
$('.js-mobile-bottom-z').on("change keyup input click",".js-add_new_client", clients_adds);	
	
$('.mobile-bottom-z').on("change keyup input click",".js-add_new_client", clients_adds);	
//$('.mobile-bottom-z').on("change keyup input click",".js-add_new_task", task_adds);
$('.form_1_booking').on("change",'[name=client_new1_search]',radio_client_svv);
$('.form_2_booking').on("change",'[name=client_new1_search]',radio_client_svv);
	
$('.index_booking').on("change keyup input click",".win_pribl", win_pribl);	
$('.index_booking').on("change keyup input click",".noo_booking", noo_booking);
$('.index_booking').on("change keyup input click",".think_booking", think_booking);
$('.index_booking').on("change keyup input click",".call_booking", call_booking);
	
$('.index_booking').on("change keyup input click",".dis_bron", dis_bron);

$('.clients_block').on("change keyup input click",".open_operator", copyy_clients);	


$('.booking_sourse').on("change keyup input click",".mi_m", fly_edit);
	

$('.booking_sourse').on("change keyup input click",".js--edit--ccomment", add_edit_comment);
		
	
$('.clients_block').on("change keyup input click",".clients_fly_date", fly_edit1);	
	
$('.clients_block').on("change keyup input click",".add_cff",  add_edit_comment1);
	
$('.booking_sourse').on("change keyup input click",".mi_history", fly_history);

$('.trips_block_global').on("change keyup input click",".mi_history_trips", fly_history_trips);
$('.trips_block_global').on("change keyup input click",".mi_m", fly_edit_trips);


	// 
	$('body').on("change keyup input click",'.js-users-del',js_users_del);

	$('body').on("change keyup input click",".js_open_block", copyy);
$('.answer_block').on("change keyup input click",".open_operator,.h57", copyy1);	
	
	$('.operator_block').on("change keyup input click",".del_operator_", dell_operator);
	$('.users_block').on("change keyup input click",".del_users_", dell_users);	
	$('.reports_block').on("change keyup input click",".del_reports_", dell_reports);		
	
$('.form_1_booking').on("change keyup input click",".wallet_checkbox,#name_b,#radio_bk,#phone_b,#name_client_b,#date_hidden_table_gr2,[name=client_new1_search],[name=id_search_client1]", next_step_booking);
	
$('.form_20_booking').on("change keyup input click","#name_b,#phone_b,#day_b", next_step_clients);	
	
$('.form_5_booking').on("change keyup input click",".wallet_checkbox,.radio_checkbox,#name_b,#name_b1,#name_b12,#password_b,#login_b", next_step_users);
	
$('.form_30_booking').on("change keyup input click","#name_b,#phone_b", next_step_reports);	
	
$('.form_3_booking').on("change keyup input click","#name_b", next_step_operator);	
	
$('.form_2_booking').on("change keyup input click",".span-44", bron_offers_select);	
	
$('.form_2_booking').on("change keyup input click",".click_history_avans", click_history_avans);	
	
	
$('.form_4_booking').on("change keyup input click",".add_sourse_reports", add_answer);
	
$('.sourse_b').on("change keyup input click",".del_booking_sourse", dell_offers);

$('.form_4_booking').on("change keyup input click",".del_answer_", dell_answer);	
$('.form_4_booking').on("change keyup input click",".edit_answer_", edit_answer);
$('.form_4_booking').on("change keyup input click",".save_anna", save_anna);

$('.sourse_b').on("change keyup input click",".add_sourse_booking", add_offers);
	
$('.phone_us1').mask('+7 (000) 000-00-00');
	

	
$('.form_2_booking').on("change keyup input click",".count_mask", validate11);	
	
/*	
$('.form_1_booking').on("change keyup input click",".wallet_checkbox,#name_b,#phone_b,#name_client_b,#date_hidden_table_gr2,#otziv_area_adaxx,.form_offers_",function(){  $('.button_yes_no').hide(); $('.save_booking').show(); alert("!");   });	
*/
	
$('.form_2_booking').on("change keyup input click",".wallet_checkbox,#name_b,#phone_b,#name_client_b,.form_offers_,#otziv_area_adaxx,.fox_dell1,#radio_bk66",function(){  $('.button_yes_no').hide(); $('.save_booking').show();    });		

$('.form_4_booking').on("change keyup input click","#name_b,#phone_b,.form_offers_,#otziv_area_adaxx",function(){  $('.button_yes_no').hide(); $('.save_reports').show();    });
	
	
$('.form_4_booking').on("change keyup input click",".ann_b",function(){   $(this).parents('.answer_block').find('.save_anna').show();    });	

setTimeout (function(){ $('.save_anna').hide(); }, 500); // 1000 .
	
	
//$('.time_input').mask('00:00');
	
	
//   	
$('.money_mask').inputmask("numeric", {
    radixPoint: ".",
    groupSeparator: " ",
    digits: 2,
    autoGroup: true,
    prefix: '', //No Space, this will truncate the first character
    rightAlign: false,
    oncleared: function () { self.Value(''); }
});
	

	$('.date_time_picker').inputmask("datetime",{
    mask: "1.2.y h:s", 
    placeholder: "dd.mm.yyyy hh:mm",  
    separator: ".", 
    alias: "dd.mm.yyyy"
  });	
	
	
	
});

//      
var changesort_stock2_tours= function() {
	var iu=$('.content').attr('iu');
	$(this).prev().val('');
	$.cookie("su_7cu"+iu, null, {path:'/',domain: window.is_session,secure: false});
	$('.js--sort').removeClass('greei_input');
	$('.js--sort').find('input').removeAttr('readonly');

	$('.js-reload-top').removeClass('active-r');
	$('.js-reload-top').addClass('active-r');

	$(this).hide();
}


//     
var changesort_stock2__o= function() {  
	var iu=$('.content').attr('iu');
	$(this).prev().val('');
    $.cookie("su_7co"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
	$('.js--sort').removeClass('greei_input');
	$('.js--sort').find('input').removeAttr('readonly');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');
	
	$(this).hide();	
}








//      

window.search_min = 1;  //     
window.search_deley=800;	//    -  
window.search_class='.loll_soply';	//    -  



// 
function NumToIndexPadej(num)
{
 if (num>=5 || num==0) { ind=2 }
 else    //1 2-4
 {
   var octatok=num%10;
   if (octatok>1) { ind=1; } else { ind=0; } 
 }
 return ind;
}
/*
         1    3    10
$skl=',,';
 PadejNumber($count_otziv,$skl)
*/
//
function PadejNumber(Age,type)
{
  var SKL=type.split(',');
  var ind=NumToIndexPadej(Age);
	

  return SKL[ind];	
}

//  	
//  |
// \/	

window.SliceMM = function() { 
	var tr_s=$('.burger_ok');
	var mobile=$('.mobile-nav');
	if(tr_s.is(".active")) 
	  {
		  tr_s.removeClass("active");
		  mobile.removeClass("act");
		  $('body').removeClass("menu-open");
		  
	  } else
	  {
		  tr_s.addClass("active");
		  mobile.addClass("act");
		  $('body').addClass("menu-open");
	  }
	
	
}


function InputFocusNew1()
{
	//alert("!");
	var val_input=$(this).val();
	var label=$(this).parents('.ok-input-title-2019').find('label');
	var input_div=$(this).parents('.ok-input-title-2019');
	
	if(!input_div.is('.active_in_2019'))
	{
		input_div.addClass('active_in_2019');	
	}
	
	if(!input_div.is('.active1_in_2019'))
	{
		input_div.addClass('active1_in_2019');	
	}
	
	//   
	var calendar=input_div.find('.cal_2019');
	if(calendar.length!=0)
	{
			$(".date___2019").show();	
	}
	
	 
	
}


/**
 *  
 */
function js_users_del(event)
{
	if (typeof timerId != 'undefined') {

		clearInterval(timerId);
		$.arcticmodal('close');

	}

	if($(this).is('[id_rel]'))
	{
		var id_buy= $(this).attr('id_rel');
	} else {
		var id_buy = $(this).parents('.users_block').attr('op_rel');
	}

	event.stopPropagation();
/*
	$.arcticmodal({
		type: 'ajax',
		url: 'forms/users/form_dell_users.php?id_buy='+id_buy,
		afterLoading: function(data, el) {
			//alert('afterLoading');
		},
		afterLoadingOnShow: function(data, el) {
			//alert('afterLoadingOnShow');
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});
*/
	$.arcticmodal({
		type: 'ajax',
		url: 'forms/users/form_dell_users.php?id_buy='+id_buy,
		beforeOpen: function(data, el) {
			//     ajax 
			$('.loader_ada_forms').show();
			$('.loader_ada1_forms').addClass('select_ada');
		},
		afterLoading: function(data, el) {
			//    ajax
			data.body.parents('.arcticmodal-container').addClass('yoi');
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		},
		beforeClose: function(data, el) { //    ArcticModal
			if(typeof timerId !== "undefined")
			{
				clearInterval(timerId);
			}
			BodyScrool();
		}

	});



}

function InputBlurNew1()
{
	//alert($(this).val());
	var val_input=$(this).val();
	var label=$(this).parents('.ok-input-title-2019').find('label');
	var input_div=$(this).parents('.ok-input-title-2019');
	
	input_div.removeClass('active1_in_2019');
	
	if(val_input=='')
	{
		input_div.removeClass('active_in_2019');	
	} else
	{
		input_div.removeClass('error_formi_2019');		
	}
}

//  2019
function input_2019()
{
	//alert("!");
	//        
	$(".input_new_2019").each(function (index, value) { 

   var input=$.trim($(this).val());
   if(input!='')
	   {
		   $(this).parents('.ok-input-title-2019').addClass('active_in_2019');
	   }
}); 
	
}
//  2018
function input_2018()
{
	//        
	$(".input_new_2018").each(function (index, value) { 

   var input=$.trim($(this).val());
   if(input!='')
	   {
		   $(this).parents('.input_2018').addClass('active_in_2018');
	   }
}); 
	
}


function copyy()
{
	var block = $(this);
		if ( block.is(".active_operator_x") )
    {
		
		block.removeClass('active_operator_x');
		
	} else
		{
			block.addClass('active_operator_x');
		}
}

function copyy_clients()
{
	var block=$(this).parents('.clients_block');
		if ( block.is(".active_operator_x") )
    {
		
		block.removeClass('active_operator_x');
		
	} else
		{
			block.addClass('active_operator_x');
		}
}


function copyy1()
{
	var block=$(this).parents('.answer_block');
		if ( block.is(".active_operator_x") )
    {
		
		block.removeClass('active_operator_x');
		
	} else
		{
			block.addClass('active_operator_x');
		}
}

function click_history_avans()
{
	var id= $(this).attr('op_uo');
	    $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_history_prepaid.php?id='+id,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}


function radio_client_svv()
{
	var val=$(this).val();
	if(val==0)
	{
		$('.two_client_box_add').slideUp("slow", function() {$('.one_client_box_add').slideDown(); });
	} else
		{
		$('.one_client_box_add').slideUp("slow", function() {$('.two_client_box_add').slideDown(); });	
		}
}

//      
function fly_edit1()
{
		var id= $(this).attr('id_fly');
	    $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_fly_edit1.php?id='+id,
   	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}

//     
function fly_history()
{
	var id= $(this).parents('.booking_sourse').attr('id_offers');
	$.arcticmodal({
		type: 'ajax',
		url: 'forms/form_fly_history.php?id='+id,
		beforeOpen: function(data, el) {
			$('.loader_ada_forms').show();
			$('.loader_ada1_forms').addClass('select_ada');

		},
		afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});
}


//       
function fly_history_trips()
{
		var id= $(this).parents('.trips_block_global').attr('id_trips');
	    $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_fly_history_trips.php?id='+id,
   	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}

//    
function add_edit_comment()
{
		var id= $(this).parents('.booking_sourse').attr('id_offers');
	    $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_add_edit_comment.php?id='+id,
   	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}

//    
function add_edit_comment1()
{
		var id= $(this).parents('.clients_comment').attr('id_offers');
	    $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_add_edit_comment.php?id='+id,
   	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}

//     
function fly_edit()
{
		var id= $(this).parents('.booking_sourse').attr('id_offers');
	    $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_fly_edit.php?id='+id,
   	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}


//     
function fly_edit_trips()
{
	var id= $(this).parents('.trips_block_global').attr('id_trips');
	$.arcticmodal({
		type: 'ajax',
		url: 'forms/form_fly_edit_trips.php?id='+id,
		beforeOpen: function(data, el) {
			$('.loader_ada_forms').show();
			$('.loader_ada1_forms').addClass('select_ada');

		},
		afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		},
		afterClose: function(data, el) { //    ArcticModal
			clearInterval(timerId);
		}

	});
}

//  
function win_pribl()
{
	var id= $(this).attr('for');
	    $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_history_payment.php?id='+id,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}


// 
function yess_booking()
{
	var id= $(this).parents('.button_yes_no').attr('for');


    var data ='url='+window.location.href+'&id='+id;
    AjaxClient('booking','bron_booking','GET',data,'Afterbron_booking',id,0);
}

// 
function save_booking()
{
	 var err = 0;		
	 $(".sourse_error,.sourse_error1,#name_b,#phone_b,#otziv_area_adaxx,#name_client_b,#date_hidden_table_gr2").removeClass('error_formi');
	
	 $('.new_search_add_book').removeClass('error_2019_in');
	
     if($("#sourse_b").val() == '') { $(".sourse_error").addClass('error_formi'); err++;	}
	 if($("#radio_bk").val() == '') { $(".sourse_error1").addClass('error_formi'); err++;	}
	
	
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	//if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}	
	
	//if($("#name_client_b").val() == '')  { $("#name_client_b").addClass('error_formi'); err++;	}	
	
	
	if($('[name=client_new1_search]').val()==0)
	{
	       if($("#name_client_b").val() == '')  { $("#name_client_b").addClass('error_formi'); err++;	}	
		
			      // if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}
		
	} else
	{
			if(($("[name=id_search_client1]").val() == '0')||($("[name=id_search_client1]").val() == ''))  { $(".new_search_add_book").addClass('error_2019_in'); err++;	}	
	}
	
	
	if($("#date_hidden_table_gr2").val() == '')  { $("#date_hidden_table_gr1").addClass('error_formi'); err++;	}
	if(err!=0)
	{
	$('.error_text_add').empty().append('     ').show();
	setTimeout ( function () { $('.error_text_add').hide(); }, 7000 );
	} else
	{
		$('#lalala_add_form').submit();	
	}
}

function save_reports()
{
	//alert("!");
		 var err = 0;		
	 $("#name_b,#phone_b").removeClass('error_formi');
     
	
	
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}
	if(err!=0)
	{
	$('.error_text_add').empty().append('     ').show();
	setTimeout ( function () { $('.error_text_add').hide(); }, 7000 );
	} else
	{
		$('#lalala_add_form').submit();	
	}
}

function save_users()
{
	//alert("!");
		 var err = 0;		
	 $(".sourse_error,.sourse_error1,#name_b,#name_b1,#login_b,#password_b").removeClass('error_formi');
     if($("#sourse_b").val() == '') { $(".sourse_error").addClass('error_formi'); err++;	}
	 if($("#radio_bk").val() == '') { $(".sourse_error1").addClass('error_formi'); err++;	}
	
	
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	if($("#name_b1").val() == '')  { $("#name_b1").addClass('error_formi'); err++;	}
	
	if($("#login_b").val() == '')  { $("#login_b").addClass('error_formi'); err++;	}
	if(err!=0)
	{
	$('.error_text_add').empty().append('     ').show();
	setTimeout ( function () { $('.error_text_add').hide(); }, 7000 );
	} else
	{
		$('#lalala_add_form').submit();	
	}
}

function next_step_reports()
{
   var err = 0;		
	$("#name_b,#phone_b").removeClass('error_formi');
 

	if($("#name_b").val() == '')  {  err++;	}
	if($("#phone_b").val() == '')  {  err++;	}
	

	//alert("!");
	var step=$('.send_form_reports');
	if(err!=0)
	{
		step.removeClass("greeen");
	} else
	{
		var step=$('.send_form_reports');
if(!step.is('.greeen'))
	{
		step.addClass("greeen");
	}
		//   
		
	}	
}

function next_step_users()
{
    var err = 0;		
	$(".sourse_error,.sourse_error1,#name_b,#name_b1,#login_b,#password_b").removeClass('error_formi');
 
     if($("#sourse_b").val() == '') {  err++;	}
	 if($("#radio_bk").val() == '') {  err++;	}
	
	
	if($("#name_b").val() == '')  {  err++;	}
	if($("#name_b1").val() == '')  {  err++;	}
	
	if($("#login_b").val() == '')  {  err++;	}
	if($("#password_b").val() == '')  {  err++;	}
	
	var step=$('.send_form_users');
	if(err!=0)
	{
		step.removeClass("greeen");
	} else
	{
		var step=$('.send_form_users');
if(!step.is('.greeen'))
	{
		step.addClass("greeen");
	}
		//   
		
	}	
}

function next_step_operator()
{
    var err = 0;		
	$("#name_b").removeClass('error_formi');
 
  /*
    if($("#sourse_b").val() == '') { $(".sourse_error").addClass('error_formi'); err++;	}
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}	
	if($("#name_client_b").val() == '')  { $("#name_client_b").addClass('error_formi'); err++;	}	
	if($("#date_hidden_table_gr2").val() == '')  { $("#date_hidden_table_gr1").addClass('error_formi'); err++;	}	
*/
   
	if($("#name_b").val() == '')  {  err++;	}
	//if($("#phone_b").val() == '')  {  err++;	}	
	
	var step=$('.add_invoice_booking');
	if(err!=0)
	{
		step.removeClass("greeen");
	} else
	{
		var step=$('.add_invoice_booking');
if(!step.is('.greeen'))
	{
		step.addClass("greeen");
	}
		//   
		
	}

}

function next_step_booking()
{
	//alert("!");
    var err = 0;		
	$(".sourse_error,.sourse_error1,#name_b,#otziv_area_adaxx,#phone_b,#name_client_b,#date_hidden_table_gr2").removeClass('error_formi');
 
	$('.new_search_add_book').removeClass('error_2019_in');
	
	
  /*
    if($("#sourse_b").val() == '') { $(".sourse_error").addClass('error_formi'); err++;	}
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}	
	if($("#name_client_b").val() == '')  { $("#name_client_b").addClass('error_formi'); err++;	}	
	if($("#date_hidden_table_gr2").val() == '')  { $("#date_hidden_table_gr1").addClass('error_formi'); err++;	}	
*/
    if($("#sourse_b").val() == '') {  err++;	}
	
	if($("#radio_bk").length!=0)
	{
		if($("#radio_bk").val() == '') {  err++;	}	
	}
	if($("#name_b").val() == '')  {  err++;	}
	
	if($('[name=client_new1_search]').val()==0)
	{
	  	if($("#name_client_b").val() == '')  {  err++;	}
	} else
	{
	if($('[name=id_search_client1]').val()==0)
	        {  err++;	}
	}
	//if($("#phone_b").val() == '')  {  err++;	}
	
	
	
	
	
	
	
	
	
	if($("#date_hidden_table_gr2").val() == '')  { err++; }		
	
	var step=$('.add_invoice_booking');
	if(err!=0)
	{
		step.removeClass("greeen");
	} else
	{
		var step=$('.add_invoice_booking');
if(!step.is('.greeen'))
	{
		step.addClass("greeen");
	}
		//   
		
	}

}

function next_step_clients()
{
	//alert("!");
    var err = 0;		
	$("#name_b,#phone_b,#day_b").removeClass('error_formi');
 
	$('.new_search_add_book').removeClass('error_2019_in');
	
	
  /*
    if($("#sourse_b").val() == '') { $(".sourse_error").addClass('error_formi'); err++;	}
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}	
	if($("#name_client_b").val() == '')  { $("#name_client_b").addClass('error_formi'); err++;	}	
	if($("#date_hidden_table_gr2").val() == '')  { $("#date_hidden_table_gr1").addClass('error_formi'); err++;	}	
*/
    
	if($("#name_b").val() == '')  {  err++;	}
	if($("#day_b").val() == '')  {  err++;	}
		if($("#phone_b").val() == '')  {  err++;	}
	

	//if($("#phone_b").val() == '')  {  err++;	}
	
	
	
	
	
	
		
	
	var step=$('.add_invoice_booking');
	if(err!=0)
	{
		step.removeClass("greeen");
	} else
	{
		var step=$('.add_invoice_booking');
if(!step.is('.greeen'))
	{
		step.addClass("greeen");
	}
		//   
		
	}

}


var delay1 = (function(th){ 
  var timer = 0;
  return function(callback, ms){
    clearTimeout (timer);
    timer = setTimeout(callback, ms);
  };
})();

var delays = (function(){
  var timer = 0;
  return function(callback, ms){
    clearTimeout (timer);
    timer = setTimeout(callback, ms);
  };
})();

//       
var validate11 = function() {
  $(this).val($(this).val().replace(/[^\d.]*/g, '').replace(/([.])[.]+/g, '$1').replace(/^[^\d]*(\d+([.]\d{0,5})?).*$/g, '$1'));
}
//     
var validate12 = function() {
  	$(this).val($(this).val().replace(/[^\d]*/g, '').replace(/([])[]+/g, '$1').replace(/^[^\d]*(\d+([]\d{0,5})?).*$/g, '$1'));
}

function animation_teps_supply()
{
	$('.teps_supply').each(function(i,elem) {
	$(this).animate({width: $(this).attr('rel_w')+"%"}, 2000, function() {  });
});
}


//  
function think_booking()
{
	 var id= $(this).parents('.button_yes_no').attr('for');	
	 var data ='url='+window.location.href+'&id='+id;
    AjaxClient('booking','think_booking','GET',data,'After_think_booking',id,0);
	
}

// 
function dis_bron()
{
	var id= $(this).attr('dis');
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_disable_booking.php?id='+id,
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
}


//  
function call_booking()
{
var id= $(this).parents('.button_yes_no').attr('for');																

					
				   			$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_call_booking.php?id='+id,
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });		
}


//  
function noo_booking()
{
	var id= $(this).parents('.button_yes_no').attr('for');				
					
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_no_booking.php?id='+id,
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
						$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
}




//  
function clients_adds()
{
	if(typeof timerId !== "undefined")
		{
	clearInterval(timerId); 
	$.arcticmodal('close');
		}
	var at= $(this).attr('tabs_g');
	
	var ppor='?tabs='+at;
	if ($('.box-modal [name=posta]').length > 0) { 
		ppor=ppor+'&posta='+$('.box-modal [name=posta]').val();
	}
	
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_add_user.php'+ppor,
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
	
}


//   
function doc_org()
{
	var for_id=$(this).attr('iod');
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_doc_org.php?id='+for_id+'&tabs=0',
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
		ToolTip();
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
	
}

//      
function doc_org1()
{
	var for_id=$(this).attr('iod');
	var tabs=$(this).attr('tabs');
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_doc_org.php?id='+for_id+'&tabs='+tabs,
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
	
}



//      
function doc_user1()
{
	var for_id=$(this).attr('iod');
	var tabs=$(this).attr('tabs');
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_doc_user.php?id='+for_id+'&tabs='+tabs,
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
	
}

//   
function add_answer()
{
	var for_id=$(this).attr('for');

				   			$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_add_answer.php?id='+for_id,
	beforeOpen: function(data, el) {
        $('.loader_ada_forms').show();
		$('.loader_ada1_forms').addClass('select_ada');
						
    },
    afterOpen: function(data, el) {
			$('.loader_ada_forms').hide();
			$('.loader_ada1_forms').removeClass('select_ada');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
}


//   
function add_offers()
{

	var for_id=$('.add_sourse_booking').attr('for');


    var data ='url='+window.location.href+'&id='+for_id;
    AjaxClient('booking','add_offers','GET',data,'AfterAdd_offers',for_id,0);
	
	
	$('.button_yes_no').hide(); $('.save_booking').show();
	
}


//  
function AfterSearchClient1(d,c){
	
$('.b_loading_small').remove();
$('.fox_dell1').show();	
	
	if(d.status=="ok"){
	

	
if($(".fox_search_result1").css("display")!="block"){$(".fox_search_result1").show();var a=false;
																								 
$(document).bind("click.myEvent",function(f){if(!a&&$(f.target).closest(".fox_search_result1").length==0){$(".fox_search_result1").hide();

$(document).unbind("click.myEvent")}a=false})}
												   
$(".fox_search_result1").empty().append(d.query);$(".fox_search_result1").show()}else{$(".fox_search_result1").hide()}}

//      
function AfterTruePhone(d,c){
	
//$('.b_loading_small').remove();
//$('.fox_dell1').show();	
	
	if(d.status=="ok")
	{
	  if(d.echo=="1")
		 
	  {
		  if($('.js-true-phone').is('[old_value]'))
		  {
			
			  if($('.js-true-phone').val()!=$('.js-true-phone').attr('old_value'))
				  {
					  $(".js-open-phone").show(); $('.js-true-phone').parents('.input_2018').addClass('error_2018');
		  $('.js-true-search-phone').val(1);
				  } else
					  {
						   $(".js-open-phone").hide(); $('.js-true-phone').parents('.input_2018').removeClass('error_2018');
			   $('.js-true-search-phone').val(0);
					  }
		  } else
			  {
		  
		  
		  $(".js-open-phone").show(); $('.js-true-phone').parents('.input_2018').addClass('error_2018');
		  $('.js-true-search-phone').val(1);
			  }
		  
	  } else
		  {
			  $(".js-open-phone").hide(); $('.js-true-phone').parents('.input_2018').removeClass('error_2018');
			   $('.js-true-search-phone').val(0);
			  
		  }
		
	
	}else{   $(".js-open-phone").hide(); $('.js-true-phone').parents('.input_2018').removeClass('error_2018'); $('.js-true-search-phone').val(0);  }

}




//     
function Afterbron_booking(data,update)
{
		if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {	
			if ( data.count==1 )
				{
					//  
				   			$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_bron_booking_end.php?id='+update,
    afterLoading: function(data, el) {
        //alert('afterLoading');

    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
					$(".slct").unbind('click.sys');
    $(".slct").bind('click.sys', slctclick);
	$(".drop").find("li").unbind('click');
	$(".drop").find("li").bind('click', dropli);
				ToolTip();	
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });						
					
				} else
				{
					      var count_offers= $("[id_offers]").length;																

					
				   			$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_bron_booking.php?id='+update+'&number='+(count_offers-1),
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
				}
    
}
}

//   
function After_think_booking(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {		
	    autoReloadHak();	
	}
}

//     
function AfterAdd_answer(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {		
		//
			
	var count_offers= $("[op_rel]").length;																
	  $('.count_offers_ajax').empty().append(count_offers-1);
	  
      var tytt=PadejNumber((count_offers-1),'  ,  ,  ');													
	  $('.padej_offers').empty().append(tytt);			
		
		
	  $('.add_sourse_reports').before(data.echo);		
	
		

		
		
	}
}

//   
function AfterAdd_offers(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {		
		//
var count__=$('#count_sourse').val();	
	var dee=parseInt(count__)+1;	
	
		
	var count_offers= $("[id_offers]").length;																
	  $('.count_offers_ajax').empty().append(count_offers-1);
	  
      var tytt=PadejNumber((count_offers-1),',,');													
	  $('.padej_offers').empty().append(tytt);			
		
		
	$('#count_sourse').val(dee);
	$('#count_sourse1').val(count__);	
		
		
		
		

    var html = $( '.replace_mm' ).html ();     
    html = html.replace ( /IDMIDD/g, dee); 
	html = html.replace ( /SIDMIDS/g, count__);		
	html = html.replace ( /IDMID/g, data.id);
	
    $('.replace_mm').before(html);	
	
	$(".slct").unbind('click.sys');
    $(".slct").bind('click.sys', slctclick);
	$(".drop").find("li").unbind('click');
	$(".drop").find("li").bind('click', dropli);
	
	$('.money_mask').inputmask('remove');
	$('.money_mask').inputmask("numeric", {
    radixPoint: ".",
    groupSeparator: " ",
    digits: 2,
    autoGroup: true,
    prefix: '', //No Space, this will truncate the first character
    rightAlign: false,
    oncleared: function () { self.Value(''); }
    });
	$('.date_time_picker').inputmask('remove');	
	$('.date_time_picker').inputmask("datetime",{
    mask: "1.2.y h:s", 
    placeholder: "dd.mm.yyyy hh:mm",  
    separator: ".", 
    alias: "dd.mm.yyyy"
  });	
		
	}
}

//    
function bron_offers_select()
{
	var for_id1=$(this).parents('.booking_sourse').attr('number_sourse');
	var attr=$(this).parents('.booking_sourse').attr('id_offers');
		$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_select_offers.php?id='+attr+'&number='+for_id1,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}

function js_dell_form_no(event)
{
	var form_move=$('.form'+event.data.key);

	
	clearInterval(timerId); //      
	$.arcticmodal('close');
	
	var data ='url='+window.location.href+'&tk='+form_move.find('.h111').attr('mor')+
					'&id='+form_move.find('.h111').attr('for');


		
AjaxClient('task','dell_task','GET',data,'AfterDellTask',form_move.find('.h111').attr('for')+','+event.data.key,0);		
	
	
}

function exit_form_active(event)
{
	$('.arcticmodal-close','.form'+event.data.key).click();	
}


// 
function dell_reports()
{
	var attr=$(this).attr('id_rel');
		$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_reports.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
}

//  
function dell_users()
{
	var attr=$(this).attr('id_rel');
		$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_users.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
}

// 
function dell_operator()
{
	var attr=$(this).attr('id_rel');
		$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_operator.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
}


//   
function edit_answer()
{
	var attr=$(this).attr('id_rel');
	//$('[id_offers='+attr+']').slideUp("slow");
	
	
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_edit_answer.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
	
}

//   
function dell_answer()
{
	var attr=$(this).attr('id_rel');
	//$('[id_offers='+attr+']').slideUp("slow");
	
	
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_answer.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
	
}

// 
function dell_offers()
{
	var attr=$(this).attr('id_rel');
	//$('[id_offers='+attr+']').slideUp("slow");
	var for_id1=$(this).parents('.booking_sourse').attr('number_sourse');
	
	
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_offers.php?id='+attr+'&number='+for_id1,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
	
}



//   
function save_anna()
{
	var attr=$(this).parents('.answer_block').attr('op_rel');
	var anna=$(this).parents('.answer_block').find('#otziv_area_adaxx_'+attr).val();
	$(this).hide();
	
	var data ='url='+window.location.href+'&id='+attr+'&text='+encodeURIComponent(anna);
    AjaxClient('reports','save_answer','GET',data,'AfterSaveAnswer',attr,0);	
}




//         
function InputFocusNewTours()
{
	var input_div=$(this).parents('.choice-client-2019');
	
	if(!input_div.is('.active_tours_focus'))
	{
		input_div.addClass('active_tours_focus');	
	}
}
//         
function InputBlurNewTours()
{
	var input_div=$(this).parents('.choice-client-2019');
    input_div.removeClass('active_tours_focus');	
}


//    
function InputFocusNew()
{
	var val_input=$(this).val();
	var label=$(this).prev('label');
	var input_div=$(this).parents('.input_2018');
	
	if(!input_div.is('.active_in_2018'))
	{
		input_div.addClass('active_in_2018');	
	}
	
	if(!input_div.is('.active1_in_2018'))
	{
		input_div.addClass('active1_in_2018');	
	}
	
	//   
	var calendar=input_div.find('.cal_2018');
	if(calendar.length!=0)
	{
			$(".date___2019").show();	
	}
	
	 
	
}



//         
//  |
// \/
function KeyUpInput()
{
	if($(this).is('.gloab'))
		{
			if(($(this).val()!='')&&($(this).val()!=0))
			$(this).parents('.input_2018').removeClass('required_in_2018');
			$(this).parents('.input_2018').removeClass('error_2018');
		}
}
//    
function InputBlurNew()
{
	//alert($(this).val());
	var val_input=$(this).val();
	var label=$(this).prev('label');
	var input_div=$(this).parents('.input_2018');
	
	input_div.removeClass('active1_in_2018');
	
	if(val_input=='')
	{
		input_div.removeClass('active_in_2018');	
				if($(this).is('.gloab'))
		{
			input_div.addClass('required_in_2018');	
		}else
			{
				input_div.removeClass('required_in_2018');
			}
	}
	
	
	
	/*
	if(!$(this).is('.date2018_mask'))
	{
	  //      
	  if(($(this).is('.required'))&&(val_input=='')&&(!input_div.is('.required_in_2018')))
	  {
		input_div.addClass('required_in_2018');	
	  } else
	  {
		if(($(this).is('.required'))&&(val_input!=''))
		{
		  input_div.removeClass('required_in_2018');
		}
	  }
	} else
	{
	  if(($(this).is('.required'))&&((val_input=='')||(val_input=='..'))&&(!input_div.is('.required_in_2018')))
	  {
		input_div.addClass('required_in_2018');	
	  } else
	  {
		if(($(this).is('.required'))&&(val_input!='')&&(val_input!='..'))
		{
		  input_div.removeClass('required_in_2018');
		}
	  }
		
		
	}
	*/
		
	
}


//    
function js_eshe_ring()
{
	var block_gg=$(this);
		if(block_gg.is('.active-ring'))
	{
		 block_gg.removeClass('active-ring');
		block_gg.parents('.ring_block').find('.max-day-ring').slideUp("slow");
		
	} else
		{
		 block_gg.addClass('active-ring');
			block_gg.parents('.ring_block').find('.max-day-ring').slideDown("slow");
		}
}


//   
function js_dell_buy_tours()
{
	var for_id=$(this).attr('id_rel');
	var block_gg=$(this).parents('.info-client-ruler');
	
	$('.tot_buy_id').val('');
	$('.tot_buy_type').val('');
	
	//          
	if(block_gg.is('.active-turist-turs'))
	{
	   //  
			$('.tot_fly_id').val(AddDellList($('.tot_fly_id').val(),for_id,'dell'));
			//  
			var count_turi=parseFloat($('.tot_fly_count').val());
			if(count_turi!=0)
				{
			$('.tot_fly_count').val(count_turi-1);
				}
		block_gg.remove();
		UpdateNumberTuris();
	
	} else
		{
			block_gg.remove();
		}
	
	$('.js-buy-my-tours').find('.buy_turs').show();
	
	
}
//   
function js_dell_fly_tours()
{
		var for_id=$(this).attr('id_rel');
	    var block_gg=$(this).parents('.info-client-ruler');
	    
	$('.tot_fly_id').val(AddDellList($('.tot_fly_id').val(),for_id,'dell'));
			//  
			var count_turi=parseFloat($('.tot_fly_count').val());
			if(count_turi!=0)
				{
			$('.tot_fly_count').val(count_turi-1);
				}
	
	    block_gg.remove();
	    UpdateNumberTuris();
}


//     
function DellImageInvoice()
{
	var for_id=$(this).attr('for');
	var data ='url='+window.location.href+'&id='+for_id;
    AjaxClient('booking','del_img','GET',data,'AfterDellImageInvoice',for_id,0);	
}

//   
function DellImageReports()
{
	var for_id=$(this).attr('for');
	var data ='url='+window.location.href+'&id='+for_id;
    AjaxClient('reports','del_img','GET',data,'AfterDellImageReports',for_id,0);	
}



//   
function UpdateImageInvoice(id)
{
	var data ='url='+window.location.href+'&id='+id;
    AjaxClient('booking','update_img','GET',data,'AfterUpdateImageInvoice',id,0);	
}

//   
function UpdateImageReports(id)
{
	var data ='url='+window.location.href+'&id='+id;
    AjaxClient('reports','update_img','GET',data,'AfterUpdateImageReports',id,0);	
}


function message_load()
{
	if( $('.history_message').is(':visible') ) { 
	$('.history_message').hide();
	
	var for_id=$('.content_block').attr('id_content');	
    var data ='url='+window.location.href+'&id='+for_id+'&n_st='+$('.content_block').attr('n')+'&s='+$('.history_message').attr('s_m');
    AjaxClient('message','load_message','GET',data,'AfterMESS',for_id,0);	
	}
}



//  
function scroll_to_bottom(speed) {
	var height= $("body").height(); 
	$("html,body").animate({"scrollTop":height},speed); 
}

 function inWindow(s){
  var scrollTop = $(window).scrollTop();
  var windowHeight = $(window).height();
  var currentEls = $(s);
  var result = [];
  currentEls.each(function(){
    var el = $(this);
    var offset = el.offset();
    if(scrollTop <= offset.top && (el.height() + offset.top) < (scrollTop + windowHeight))
      result.push(this);
  });
  return $(result);
  

}
//  
function windowSize()
{
 // sl_message_width();	
}

function trim_number($number)
{
	$number=$number.replace(/\s+/g,'');
	return $number;
}

//    
function Dialog(e)
{
  if($(e.target).closest(".del_dialog").length==0)
  {
	var dialog_id=$(this).attr('rel_diagol');
	$(this).attr('href','/message/dialog/'+dialog_id+'/');
	$(this).trigger('Click');

  }
}
//    
function animation_teps()
{
	$('.teps').each(function(i,elem) {
	$(this).animate({width: $(this).attr('rel_w')+"%"}, 2000, function() {  });
});

	
}


//     float
function maskk(thiss)
{
	thiss.val(thiss.val().replace(/[^\d.]*/g, '').replace(/([.])[.]+/g, '$1').replace(/^[^\d]*(\d+([.]\d{0,5})?).*$/g, '$1'));
	//alert("!!");
	if($('[name=save_zayy]').length > 0)
		{
	savedefault_zay(thiss);
		} else
			{
    savedefault(thiss);
			}
	
}




//   
function maskk1(thiss)
{
	thiss.val(thiss.val().replace(/[^\d]*/g, '').replace(/([])[]+/g, '$1').replace(/^[^\d]*(\d+([]\d{0,5})?).*$/g, '$1'));
		if($('[name=save_zayy]').length > 0)
		{
	savedefault_zay(thiss);
		} else
			{
	savedefault(thiss);				
			}
}





//        
var label_show_load = function() {
	
	$('.label_s').each(function(i,elem) {
	if($(this).prev('label').length)
	{
	   if($(this).val()=='')
		   {
			   $(this).prev('label').hide();
			   
		   } else
			   {
				   
				   $(this).prev('label').show();
			   }
	
	}
	
	});
	
}


//   
var label_show = function() {
	
	
	if($(this).prev('label').length)
	{
	   if($(this).val()=='')
		   {
			   $(this).prev('label').hide();
			   
		   } else
			   {
				   
				   $(this).prev('label').show();
			   }
	
	}
	
	
	
}


// 
function del_dialog()
{
	if ( $(this).is("[for]") )
{
	if($.isNumeric($(this).attr("for")))
	{
  $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_dialog.php?id='+$(this).attr("for"),
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}
}
  
return false;
}


//     ajax
function initializeTimer() {
	
	var endDate = new Date(); //    
	var endDate =((endDate/1000)+1800)*1000; //30 
	var currentDate = new Date(); //   
	var seconds = (endDate-currentDate) / 1000; //      
	if (seconds > 0) { //  -     
		var minutes = seconds/60; //      
		var hours = minutes/60; //      
		minutes = (hours - Math.floor(hours)) * 60; //  -     
		hours = Math.floor(hours); //      
		seconds = Math.floor((minutes - Math.floor(minutes)) * 60); //  -     
		minutes = Math.floor(minutes); //    -     
		
		setTimePage(hours,minutes,seconds); //    
		
		function secOut() {
		  if (seconds == 0) { //    
			  if (minutes == 0) { //    
				  if (hours == 0) { //    
					  showMessage(timerId); //     
				  }
				  else {
					  hours--; //  - 
					  minutes = 59; //   
					  seconds = 59; //  
				  }
			  }
			  else {
				  minutes--; //  - 
				  seconds = 59; //  
			  }
		  }
		  else {
			  seconds--; //  - 
		  }
		  setTimePage(hours,minutes,seconds); //     
		}
		timerId = setInterval(secOut, 1000) //      
	}
	else {
		//alert("   ");
	}
}

//    
function setTimePage(h,m,s) { //     

    if(m<10){ m='0'+m;}
	if(s<10){ s='0'+s;}
	
    $('.clock_table').empty().append(m+':'+s);
	
	if(m<5)
	{
		$('.clock_table').show();
	}
}

// ,    
function showMessage(timerId) { 
	clearInterval(timerId); 
	$.arcticmodal('close');	
}

//    
function WindowLogin()
{
	  $(document).unbind('mousemove.time keydown.time scroll.time');
	  //  
	  //$.cookie('user_id', null, {path:'/'});  
	  //$.cookie('da', null, {path:'/'}); 
	  
	  //   
	  $.arcticmodal({
    type: 'ajax',
    url: 'forms/login.php?url='+window.location.href,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	 
    }

  });
	  
	  
	  
      idleState = true; 	
}

// 
function autoReloadHak(){
  var goal = self.location;
  location.href = goal;
}

function TimeHak()
{

	var tsl = $.cookie('tsl');
	//alert(tsl);
	//alert(cookie_new);
	if((tsl!=null)&&(tsl==1) )
	{
	  autoReloadHak();
	}
}


//         
function TimeSystem()
{ 
  //$('.debug').empty().append($.cookie("tss"));	
	
  if((!isNaN(localStorage.getItem('tss')))) 
  { 
	//$('.debug').empty().append('!1');
	if(idTimeStampe!=localStorage.getItem('tss'))
   {
	   // $('.debug').empty().append(localStorage.getItem('tss'));
		idTimeStampe=localStorage.getItem('tss');   
	    clearTimeout(idleTimer); //    
	    idleState = false;
        idleTimer = setTimeout(timesss, idleWait);	   
	   }
   }
}
function js_touroper_eye()
{
	var iu=$('.content').attr('iu');
	var spp=$(this).attr('spp');

	if(!$(this).is('.tours-eas-open') )
	{
		$(this).addClass('tours-eas-open');

		$.cookie("eye_t_"+iu+'_'+spp, null, {path:'/',domain: window.is_session,secure: false});
		if(spp==1)
		{
			$('.trips-b-operator').show();
		} else
		{
			$('.trips-b-comission').show();
		}
	} else
	{
		$(this).removeClass('tours-eas-open');
		$.cookie("eye_t_"+iu+'_'+spp, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("eye_t_"+iu+'_'+spp,"1",'add');

		if(spp==1)
		{
			$('.trips-b-operator').hide();
		} else
		{
			$('.trips-b-comission').hide();
		}
	}

	classblockTrips();
}
//            
function classblockTrips()
{
	var tor=1;
	var coms=1;
	//        

	if($('.trips_block_global:first .trips-b-operator').is(':visible') ) { } else {  tor=0; }
	if($('.trips_block_global:first .trips-b-comission').is(':visible') ) { } else {  coms=0; }

	$('.trips_block_global').removeClass('block_t00');
	$('.trips_block_global').removeClass('block_t10');
	$('.trips_block_global').removeClass('block_t01');

	if((tor==0)&&(coms==0))
{
	$('.trips_block_global').addClass('block_t00');
}
if((tor==1)&&(coms==0))
{
	$('.trips_block_global').addClass('block_t10');
}
if((tor==0)&&(coms==1))
{
	$('.trips_block_global').addClass('block_t01');
}

}

//  
function NotificationSystem()
{ 
  //
  if($('.users_rule').is('[not]')) 
  {  	
	
	  //           
	  var task_cloud=0;
	  if ($('.js-task-cloud').length > 0) { task_cloud=1; }
	  
    var data='tk='+$('.users_rule').attr('not');

    nprogress=1;	  
    AjaxClient('notification','even','GET',data,'AfterNofi',1,0,1);
  }
}


// 
function NotifSystem()
{
//        	
 if(typeof NotifVar == "undefined")	
 { 
  //timerS = setInterval(TimeSystem, 1000);	 
  $(document).bind('mousemove.notif keydown.notif scroll.notif', function(){
    clearTimeout(idleTimerx); //    
	 
     // $.cookie('tss', $.now(), {expires: 1,path: '/'});
	  
	  //$('.debug').empty().append($.cookie('tss'));	  
	  
    if(idleStatex == true){ 
      //    
      idleWait_yes=idleWait_start;
	  clearInterval(timerSx);
	  timerSx = setInterval(NotificationSystem, idleWait_yes); 
	  NotificationSystem();	
    }
 
    idleStatex = false;
	idleWait_yes=idleWait_start; 
	//clearInterval(timerSx);
	//timerSx = setInterval(NotificationSystem, idleWait_yes);   
	  
    idleTimerx = setTimeout(timesssx, idleWait_stop);
	 
  });
  timerSx = setInterval(NotificationSystem, idleWait_yes); 
  $("body").trigger("mousemove"); //   ,   	
 }
}

//     10 
function timesssx() { 
	  
	  //       
      //    
	  //alert('  ');
	  //$(document).unbind('mousemove.time keydown.time scroll.time');
	  //  
	  //$.cookie('user_id', null, {path:'/'});  
	  //$.cookie('da', null, {path:'/'}); 
	  
	  //   
	  idleWait_yes=idleWait_end;
      idleStatex = true; 
	  clearInterval(timerSx);
	  timerSx = setInterval(NotificationSystem, idleWait_yes); 
    }


//                
function updateloginhak()
{
	timerH = setInterval(TimeHak, 15000);	
}

//         
function ExitSystem()
{
 if(typeof LoginVar == "undefined")	
 { 
  timerS = setInterval(TimeSystem, 1000);	 
  $(document).bind('mousemove.time keydown.time scroll.time', function(){
    clearTimeout(idleTimer); //    
	 
      //$.cookie('tss', $.now(), {expires: 100,path: '/'});
	  localStorage.setItem('tss', $.now());
	 // $.cookie('tss', $.now());
	  //$('.debug').empty().append($.cookie("tss"));
	  //$.cookie('tss', $.now(), {expires: 60,path: '/',domain: window.is_session,secure: false};
	  //$.cookie('iss', 's', {expires: 60,path: '/'});
	  
	    
	  
    if(idleState == true){ 
      //    
    }
 
    idleState = false;
    idleTimer = setTimeout(timesss, idleWait);
  });
 
  $("body").trigger("mousemove"); //   ,   	
 }
}
//    
function timesss() { 
	  clearInterval(timerS);
	  //       
	  setTimeout ( function () { autoReload(); }, 60000 );
      //    
	  //alert('  ');
	  $(document).unbind('mousemove.time keydown.time scroll.time');
	  //  
	  //$.cookie('user_id', null, {path:'/'});  
	  //$.cookie('da', null, {path:'/'}); 
	  $.cookie("tsl", null, {path:'/',domain: window.is_session,secure: false});
	  //   
	  $.arcticmodal({
    type: 'ajax',
    url: 'forms/login.php?url='+window.location.href,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	 
    }

  });
	  
	  
	  
      idleState = true; 
    }





function compareNumbers(a, b) {
  return a - b;
}

//     
function CookieList(name,id,command,sort)
{
//del - add
//alert($.cookie(name));
var cookie = $.cookie(name);
	//alert(cookie);
if(cookie==null) {  $.cookie(name, id, {expires: 60,path: '/',domain: window.is_session,secure: false,samesite:'lax'});
 } else
{
	if(command=='del')
	{
		
	var cc = cookie.split('.');
	var text='';
	var lp=0;
	for ( var t = 0; t < cc.length; t++ ) 
	{ 
	  if(cc[t]!=id)
	  {
		  if(cc[t]!='')
		  {	  
		    if(lp==0)
		    {
			  text=cc[t];
		    } else
		    {
			  text=text+'.'+cc[t];
		    }
		    lp++;
		  }
	  }
	}
	if(text=='')
	{
		$.cookie(name, null, {path:'/',domain: window.is_session,secure: false,samesite:'lax'});
	} else
	{
	    $.cookie(name, text, {path: '/',domain: window.is_session,secure: false,samesite:'lax'});  //60 
	}
	
	} else
	{
		//alert(sort);
		  if (sort === undefined) {
               $.cookie(name, cookie+'.'+id, {path: '/',domain: window.is_session,secure: false,samesite:'lax'}); //60 
          } else
	      {
				  if(sort=='sort')
				  {
						var jon_cookie=cookie+'.'+id;
					    var jon_cc = jon_cookie.split('.'); 
					  
					   jon_cc= jon_cc.sort(compareNumbers);
					   //alert(jon_cc.join("."));
					   $.cookie(name, jon_cc.join("."), {path: '/',domain: window.is_session,secure: false,samesite:'lax'}); //60 
					    
				  }
				  
		  }
		
		
		
	}
}
	//alert(cookie);
}


//      4,3,5  
// 0       
function AddDellListSep(string,id,command,separator)
{
//del - add

	//alert(cookie);
	if((string=='')&&(command=='add')) { return id;
	} else
	{
		if(command=='dell')
		{

			var cc = string.split(separator);
			var text='';
			var lp=0;
			for ( var t = 0; t < cc.length; t++ )
			{
				if(cc[t]!=id)
				{
					if(cc[t]!='')
					{
						if(lp==0)
						{
							text=cc[t];
						} else
						{
							text=text+separator+cc[t];
						}
						lp++;
					}
				}
			}
			if(text=='')
			{
				return '';
			} else
			{
				return text;
			}

		} else
		{
			//alert(sort);
			//       0
			var cc = string.split(separator);
			var text='';
			var lp=0;
			for ( var t = 0; t < cc.length; t++ )
			{
				if(cc[t]==id)
				{

					lp++;

				}
			}
			if(lp!=0) {  return 0;} else {return (string+separator+id);}


		}
	}
	//alert(cookie);
}


//      4,3,5  
// 0       
function AddDellList(string,id,command)
{
//del - add

	//alert(cookie);
if((string=='')&&(command=='add')) { return id;
 } else
{
	if(command=='dell')
	{
		
	var cc = string.split(',');
	var text='';
	var lp=0;
	for ( var t = 0; t < cc.length; t++ ) 
	{ 
	  if(cc[t]!=id)
	  {
		  if(cc[t]!='')
		  {	  
		    if(lp==0)
		    {
			  text=cc[t];
		    } else
		    {
			  text=text+','+cc[t];
		    }
		    lp++;
		  }
	  }
	}
	if(text=='')
	{
		return '';
	} else
	{
	    return text;
	}
	
	} else
	{
		//alert(sort);
	    //       0
		var cc = string.split(',');
	var text='';
	var lp=0;
	for ( var t = 0; t < cc.length; t++ ) 
	{ 
	  if(cc[t]==id)
	  {
		  
		    lp++;
		  
	  }
	}
	if(lp!=0) {  return 0;} else {return (string+','+id);}
		
		
	}
}
	//alert(cookie);
}



// 
var send_meee= function()
{

	var tt=$('#otziv_area').val();
	
	var err = [0];
		
	$(".otziv_mess").removeClass('error_formi');
	//$("#number_r").removeClass('error_formi');
 
  
    if($("#otziv_area").val() == '')
	{
		$(".otziv_mess").addClass('error_formi');
		err[0]=1;		
	} else
		{
	
var for_id=$('.content_block').attr('id_content');	
var data ='url='+window.location.href+'&id='+for_id+'&text='+$('#otziv_area').val();	
AjaxClient('message','send_message_global','GET',data,'AfterSendMM',for_id,0);	
$("#otziv_area").val('');			

		}
	
}

//  
var SendMessage= function()
{
	var id_user=$(this).attr('sm');
	//   
	var you_id_user=$('[iu]').attr('iu');
	
	if(you_id_user!=id_user)
		{
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_message.php?id='+id_user,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	 
    }

  });
		}
}



//   
var UploadScan = function()
{
	var id_upload=$(this).attr('id_upload');
	$('[name=myfile'+id_upload+']').trigger('click');
}


  function log(html) {
      $('#log').empty().append(html);
    }

function upload(file,id) {

      var xhr = new XMLHttpRequest();

      //     ,
      //  status == 200,   ,  
      xhr.onload = xhr.onerror = function() {
        if (this.status == 200) {
          
		  $('[id_upload='+id+']').remove();
		  $('.scap_load_'+id).remove(); 
		  updatecash(id);
        } else {
          $('[id_upload='+id+']').show();
		  $('.scap_load_'+id).find('.scap_load__').width(0); 
		  $('.scap_load_'+id).hide();
        }
      };

      //   
      xhr.upload.onprogress = function(event) {
		$('[id_upload='+id+']').hide();  
		$('.scap_load_'+id).show();  
		var widths=Math.round((event.loaded*100)/event.total);
		$('.scap_load_'+id).find('.scap_load__').width(widths);  
      }

      xhr.open("POST", "implementer/upload.php", true);
      //xhr.send(file);
	
	 var formData = new FormData();
     formData.append("thefile", file);
	 formData.append("id",id);
     xhr.send(formData);

    }




var UploadScanChange = function()
{
	var id=$(this).parents('form').attr('id_sc');
	file = this.files[0];
	      if (file) {
        upload(file,id);
      } 
      return false;	
}

// 
var view_notification = function()
{
	if( $('.noti_block').is(':visible') ) {   $('.noti_block').remove(); $('.view__not').hide(); $('.not_li').find('i').hide();  } else 
	{ 	 
	  $('.view__not').append('<div class="noti_block"><div class="title_noti"><ul class="t_ul"><li></li><li><i class="noti_co" style="display:none;"><span class="noti_coc"></span></i></li></ul></div><div class="scro"></div></div>');
	  //     
	  $('.noti_block').find('.scro').empty().append('<div class="loader_inter"><div></div><div></div><div></div><div></div></div>');
	  var data ='';

      AjaxClient('notification','view_notification','GET',data,'AfterVVN',1,0,1);
	}
}



//        
var YesTask1 = function() {
if ( $(this).is("[rel_taskk]") )
{
	if($.isNumeric($(this).attr("rel_taskk")))
	{
       var attr=$(this).attr('rel_taskk');
	//$('[id_offers='+attr+']').slideUp("slow");
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_yes_task.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
	
}
}
return false;
	
}

//    
var YesTask = function() {
if ( $(this).is("[rel_taskk]") )
{
	if($.isNumeric($(this).attr("rel_taskk")))
	{
       var attr=$(this).attr('rel_taskk');
	//$('[id_offers='+attr+']').slideUp("slow");
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_yes_task.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
	
}
}
return false;
	
}


// 
var DellOrg = function() {
if ( $(this).is("[id_rel]") )
{
	if($.isNumeric($(this).attr("id_rel")))
	{
       var attr=$(this).attr('id_rel');
	//$('[id_offers='+attr+']').slideUp("slow");
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_org.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
	
}
}
  
return false;
	
}

// 
var DellTask = function() {
	
if ($(this).is("[id_rel]"))
{
	if($.isNumeric($(this).attr("id_rel")))
	{
    
	var attr=$(this).attr('id_rel');
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_task.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }
    });	
	
    }
}
  
return false;
	
}


// 
var DellClients = function() {
if ( $(this).is("[id_rel]") )
{
	if($.isNumeric($(this).attr("id_rel")))
	{
       var attr=$(this).attr('id_rel');
	//$('[id_offers='+attr+']').slideUp("slow");
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_clients.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
	
}
}
  
return false;
	
}

// 
var DellBooking = function() {
if ( $(this).is("[id_rel]") )
{
	if($.isNumeric($(this).attr("id_rel")))
	{
       var attr=$(this).attr('id_rel');
	//$('[id_offers='+attr+']').slideUp("slow");
	
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_dell_booking.php?id='+attr,
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });	
	
}
}
  
return false;
	
}


// 
var DellNotif = function() {
if ( $(this).is("[id_rel]") )
{
	if($.isNumeric($(this).attr("id_rel")))
	{
       var data ='url='+window.location.href+'&id='+$(this).attr("id_rel");
       AjaxClient('notification','del_notif','GET',data,'AfterDellNot',$(this).attr("id_rel"),0);
	   $('[rel_noti='+$(this).is("[id_rel]")+']').hide();	
}
}
  
return false;
	
}





//     
var tabs_client_add  = function() {
	//alert("!");
	var uoo=$(this).attr("id");
	if ( $(this).is(".active") )
    {
		//  
	} else
	{
		$('.client_window .px_bg').empty().append('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
		
		$('.js-tabs-menu').find('.tabsss1').removeClass('active');
		$('.js-tabs-menu').find('.tabsss1[id='+uoo+']').addClass('active');
		
		var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
					'&tk='+$('.h111').attr('mor')+
					'&id='+$('.h111').attr('for');
        AjaxClient('clients','tabs_organ','GET',data,'AfterTabsInfoAdd',$(this).attr("id"),0);	
	}
}

//   
var tabs_org  = function() {
	//alert("!");
	var uoo=$(this).attr("id");
	if ( $(this).is(".active") )
    {
		//  
	} else
	{
		$('.client_window .px_bg').empty().append('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
		
		$('.js-tabs-menu_org').find('.tabsss_org').removeClass('active');
		$('.js-tabs-menu_org').find('.tabsss_org[id='+uoo+']').addClass('active');
		
		var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
					'&tk='+$('.h111').attr('mor')+
					'&id='+$('.h111').attr('for');
        AjaxClient('clients','tabs_info_org','GET',data,'AfterTabsInfoOrg',$(this).attr("id"),0);	
	}
}

//     
var tabs_client_choice  = function() {
	var uoo=$(this).attr("id");
	if ( $(this).is(".active") )
    {
		//  
	} else
	{		
		$('.js-tabs-menu-choiche').find('.tabsss_choice').removeClass('active');
		$('.js-tabs-menu-choiche').find('.tabsss_choice[id='+uoo+']').addClass('active');
		
		$('.js-choice-keyup').val('');
		$('.js-choice-yyy').attr('id_rel',0);
		$('.js-choice-yyy').attr('tabs',uoo);
		$('.js-choice-yyy').removeClass('yes_choice_client');
		
		$('.list_choice_yes').empty();
		
		if(uoo==2)
			{
				// 
				$('.js-new_open_client').find('i').empty().append(' ');
				$('.js-new_open_client').attr('tabs_g',1);
				$('.js-choice-keyup').attr('placeholder',' , ');
			}
		
				if(uoo==1)
			{
				//  
				$('.js-new_open_client').find('i').empty().append(' ');
				$('.js-new_open_client').attr('tabs_g',0);
				$('.js-choice-keyup').attr('placeholder',',    ');
			}
				if(uoo==3)
			{
				//  
				$('.js-new_open_client').find('i').empty().append(' ');
				$('.js-new_open_client').attr('tabs_g',2);
				$('.js-choice-keyup').attr('placeholder',',    ');
			}		
		
		var data ='url='+window.location.href+
					'&all='+$('.js-eshe-client-x').attr("all")+
			        '&tk='+$('.js-s_form_xx').attr('mor')+
					'&id='+$('.js-s_form_xx').attr('for')+
					'&search='+encodeURIComponent($('.js-choice-keyup').val())+
			'&tabs='+uoo;
		
			$('.js-icon-load').hide().after('<div class="b_loading_small" style="margin-right:-20px; position:relative; top: 0px; right: 0px; padding-top:0px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
                AjaxClient('clients','search_client_tours','GET',data,'AfterSearchClientT',1,0);
		
	}
}




//  
var tabs_trips = function(event) {
	//event.data.key

	var uoo=$(this).attr("id");

   if(uoo!=0) {
	   $(this).parents('.mm_w-trips').addClass('active-trips-menu');
   } else
   {
	   $(this).parents('.mm_w-trips').removeClass('active-trips-menu');
	  $(this).parents('.mm_w-trips').next().empty().hide();
	   $(this).parents('.js-tabs-menu').find('.tabs_' + event.data.key).removeClass('active');
   }

	if ( $(this).is(".active") )
	{
		//  
		$(this).parents('.mm_w-trips').removeClass('active-trips-menu');
		$(this).parents('.mm_w-trips').next().empty().hide();
		$(this).parents('.js-tabs-menu').find('.tabs_' + event.data.key).removeClass('active');



	} else
	{
		//alert(event.data.key);
		if(uoo!=0) {
			$(this).parents('.mm_w-trips').next().empty().append('<div class="b_loading_small" style="position:relative; left: calc(50% - 30px); "><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
			$(this).parents('.mm_w-trips').next().slideDown("slow");

			/*
                    $('.form'+event.data.key+' .px_bg').empty().append('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
            */
			$(this).parents('.js-tabs-menu').find('.tabs_' + event.data.key).removeClass('active');
			$(this).parents('.js-tabs-menu').find('.tabs_' + event.data.key + '[id=' + uoo + ']').addClass('active');

			//var key_='002U';

			var data = 'url=' + window.location.href + '&id_tabs=' + $(this).attr("id") +
				'&id=' + $(this).parents('.trips_block_global').attr('id_trips');
			//alert(data);
			AjaxClient('tours','tabs_info','GET',data,'AfterTabsInfoTrips',$(this).attr("id")+','+$(this).parents('.trips_block_global').attr('id_trips'),0,1);
		}
	}
}


//   
var tabs_task  = function(event) {
	//event.data.key
	
	
	var uoo=$(this).attr("id");
	if ( $(this).is(".active") )
    {
		//  
	} else
	{
		//alert(event.data.key);
		$('.form'+event.data.key+' .px_bg').empty().append('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
		
		$('.form'+event.data.key+' .js-tabs-menu').find('.tabs_'+event.data.key).removeClass('active');
		$('.form'+event.data.key+' .js-tabs-menu').find('.tabs_'+event.data.key+'[id='+uoo+']').addClass('active');
		
		//var key_='002U';
		
		var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
					'&tk='+$('.form'+event.data.key+' .h111').attr('mor')+
					'&id='+$('.form'+event.data.key+' .h111').attr('for');
		//alert(data);
        AjaxClient('task','tabs_info','GET',data,'AfterTabsInfoTask',$(this).attr("id")+','+event.data.key,0);	
	}
}


var savedefault = function (thiss)
{
	if($('#save').length)
	{
	var wdefault=thiss.attr('defaultv');
	if(thiss.val()!=wdefault)
	{
	   $('#save').attr('save','1');
    } 
	
	var atrr=$('#save').attr('save');
	if(atrr==1)
		{
			$('.add_nar').show();
			$('.pod_nar').hide();
		}
	}
}

//      
function send_form_users()
{
	   var err = 0;	
	$(".sourse_error,.sourse_error1,#name_b,#name_b1,#login_b,#password_b").removeClass('error_formi');
     if($("#sourse_b").val() == '') { $(".sourse_error").addClass('error_formi'); err++;	}
	 if($("#radio_bk").val() == '') { $(".sourse_error1").addClass('error_formi'); err++;	}
	
	
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	if($("#name_b1").val() == '')  { $("#name_b1").addClass('error_formi'); err++;	}
	
	if($("#login_b").val() == '')  { $("#login_b").addClass('error_formi'); err++;	}
	if($("#password_b").val() == '')  { $("#password_b").addClass('error_formi'); err++;	}
	
	
	if((err==0)&&($(this).is('.greeen')) )	
		{
			$('#lalala_add_form').submit();	
		}
}

//      
function send_form_reports()
{
	   var err = 0;	
	$("#name_b,#phone_b").removeClass('error_formi');
     
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}
	
	
	if((err==0)&&($(this).is('.greeen')) )	
		{
			$('#lalala_add_form').submit();	
		}
}

//      
function send_form_operator()
{
	
		    var err = 0;		
	$("#name_b").removeClass('error_formi');
 
  
  
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	
	//if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}
	
		
	if((err==0)&&($(this).is('.greeen')) )	
		{
			$('#lalala_add_form').submit();	
		}
		
		
	
	
}

//      
function send_form_clients()
{
	
	var err = 0;		
	$(".sourse_error,#name_b,#otziv_area_adaxx,#phone_b,#day_b,#email_b,#company_b").removeClass('error_formi');
	
	$('.new_search_add_book').removeClass('error_2019_in');
 

	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}
	if($("#day_b").val() == '')  { $("#day_b").addClass('error_formi'); err++;	}
	//if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}
	
	

	if((err==0)&&($(this).is('.greeen')) )	
		{
			$('#lalala_add_form').submit();	
		}
		
		
	
	
}

////      
function send_form_booking()
{
	
	var err = 0;		
	$(".sourse_error,.sourse_error1,#name_b,#otziv_area_adaxx,#phone_b,#name_client_b,#date_hidden_table_gr2").removeClass('error_formi');
	
	$('.new_search_add_book').removeClass('error_2019_in');
 
	if($("#radio_bk").length!=0)
	{
		if($("#radio_bk").val() == '') {  $(".sourse_error1").addClass('error_formi'); err++;	}	
	}
  
    if($("#sourse_b").val() == '') { $(".sourse_error").addClass('error_formi'); err++;	}
	if($("#name_b").val() == '')  { $("#name_b").addClass('error_formi'); err++;	}
	
	//if($("#phone_b").val() == '')  { $("#phone_b").addClass('error_formi'); err++;	}
	
	
	if($('[name=client_new1_search]').val()==0)
		{
	       if($("#name_client_b").val() == '')  { $("#name_client_b").addClass('error_formi'); err++;	}	
		} else
		{
			if(($("[name=id_search_client1]").val() == '0')||($("[name=id_search_client1]").val() == ''))  { $(".new_search_add_book").addClass('error_2019_in'); err++;	}	
		}
	
	
	if($("#date_hidden_table_gr2").val() == '')  { $("#date_hidden_table_gr1").addClass('error_formi'); err++;	}	
		
	if((err==0)&&($(this).is('.greeen')) )	
		{
			$('#lalala_add_form').submit();	
		}
		
		
	
	
}


//   input
function radio_checkbox_no_yes()
{
		
if($(this).parents('.radioselect').find('.radio_b').attr('readonly')==undefined) { 	
	
	//alert("!");
	var pp=$(this).parents('.radio_material');
	var id=pp.attr('radio_id');
	
	if(!pp.is('.active_radio')) 
	{
		var numOpt=$(this).parents('.radioselect').find('.radio_material');    
			  var input='';
			  var i=0;
			 
			  numOpt.each(function (index, value) { 
				  $(this).removeClass('active_radio');
				  var ids=$(this).attr('radio_id');
				  $(this).find('.radio_'+ids).val(0).change(); 
			  });

		pp.addClass('active_radio');
		pp.find('.radio_'+id).val(1).change();
		$(this).parents('.radioselect').find('.radio_b').val(id).change();
		
	} else
	{
			pp.removeClass('active_radio');
		pp.find('.radio_'+id).val(0).change();
		$(this).parents('.radioselect').find('.radio_b').val('').change();
	}
	
  }
	
	
}


//     
function wallet_checkbox()
{
	
if($(this).parents('.cha_1').find('.sourse_b').attr('readonly')==undefined) { 	
	
	//alert("!");
	var pp=$(this).parents('.wallet_material');
	var id=pp.attr('wall_id');
	
	if(pp.is('.active_wall')) 
	{ 
	   
		pp.removeClass('active_wall');
		pp.find('.yop_'+id).val(0);
		


		
	} else
	{
		pp.addClass('active_wall');
		pp.find('.yop_'+id).val(1);			
	}
			var numOpt=$(this).parents('.cha_77').find('.wallet_material');    
			  var input='';
			  var i=0;
			 
			  numOpt.each(function (index, value) { 
			  
			  if ( $(this).hasClass("active_wall") ) 
			   {
				  if(i==0)
				  { 
                    input=$(this).attr('wall_id');
					i++;
				  } else
				  {
					input=input+','+$(this).attr('wall_id');
					i++; 
				  }
			   }
			   
              });
				 
		//alert(input);
		$(this).parents('.cha_77').find('.sourse_b').val(input);
	
  }
}

//   input
function radio_checkbox()
{
		
if($(this).parents('.radioselect').find('.radio_b').attr('readonly')==undefined) { 	
	
	//alert("!");
	var pp=$(this).parents('.radio_material');
	var id=pp.attr('radio_id');
	
	if(!pp.is('.active_radio')) 
	{
		var numOpt=$(this).parents('.radioselect').find('.radio_material');    
			  var input='';
			  var i=0;
			 
			  numOpt.each(function (index, value) { 
				  $(this).removeClass('active_radio');
				  var ids=$(this).attr('radio_id');
				  $(this).find('.radio_'+ids).val(0).change(); 
			  });

		pp.addClass('active_radio');
		pp.find('.radio_'+id).val(1).change();
		$(this).parents('.radioselect').find('.radio_b').val(id).change();
		
	}
	
  }
	
	
}

function UploadInvoice_old()
{
	var id_upload=$(this).attr('id_upload');
	$('[name=myfiles'+id_upload+']').trigger('click');
}




$(function (){
//  	
$(window).on('resize',windowSize);	

// 	
$('.loader_ada').remove();
$('.loader_ada1').remove();

$('.date_picker_xe').inputmask("datetime",{
    mask: "1.2.y", 
    placeholder: "dd.mm.yyyy",  
    separator: ".", 
    alias: "dd.mm.yyyy"
  });	

//    	
$('body').on("change keyup input click",'.js-date-nait2,.js-date-nait1',date_nait);
	
//  	
$('body').on("change keyup input click",'.js-add-tender-form',AddFormTender);

// 
	$('body').on("change keyup input click",'.js-edit-tender-form',EditFormTender);


//    	
$('body').on("change keyup input click",'.js-edit-eico',edit_eico_list);	
$('body').on("change",'.js-list-vibor',update_edit_input_eico);	
	
//    
$('body').on("change keyup input click",'.js-choice-task-y',choice_task_you);
//   
$('body').on("change keyup input click",'.task__click1',YesTask1);	
	
//   -   	
$('body').on("change keyup input click",'.js-password-butt',password_butt);

//      -
$('body').on("change keyup input click",'.js-click-mmmt',click_mmmt);


//   -     	
$('body').on("change keyup input click",'.js-loli-butt',loli_butt);	
	

	
$('body').on("change keyup input click",'.js-exit-win',close_close_window);	
	
	
//      	
$('body').on("change keyup input click",'.tabsss_org',tabs_org);
//      


$('body').on("change keyup input click",'.tabs_003U',{key: "003U"},tabs_task);

	$('body').on("change keyup input click",'.tabs_004U',{key: "004U"},tabs_trips);

// -  	
$('body').on("change keyup input click",'.js-eshe-ring',js_eshe_ring);	
	
	
//      form_choice_client	
$('body').on("change keyup input click",'.tabsss_choice',tabs_client_choice);
	

	
//     
$('body').on("change keyup input click",'.list_client_choice',click_client_choice);

	
$('body').on("change keyup input click",'.js-new_open_client',clients_adds);

//       	
$('body').on("change keyup input click",'.rrube_choice',rrube_choice);	

//       	
$('body').on("change keyup input click",'.js-choice-yyy',choice_client_end);


/*	
var search_min2_search_c = 2;  //     
var search_deley2_search_c=800;	//    -     
var search_input2_search_c=$('.js-choice-keyup');
	
	
search_input2_search_c.keyup(function() {
	// 
				
    delays(function(){
		
		if((jQuery.trim(search_input2_search_c.val().length) >= search_min2_search_c)||(jQuery.trim(search_input2_search_c.val().length)==0))
		{
			
			var val1= $('.js-tabs-menu-choiche').find('.active').attr('id');
			
                var data ='url='+window.location.href+
					'&all='+$('.js-eshe-client-x').attr("all")+
					'&search='+encodeURIComponent(search_input2_search_c.val())+
				'&tabs='+val1;	
			$('.js-icon-load').hide().after('<div class="b_loading_small" style="margin-right:-20px; position:relative; top: 0px; right: 0px; padding-top:0px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
                AjaxClient('clients','search_client_tours','GET',data,'AfterSearchClientT',1,0);		
		}
		
		
    }, search_deley2_search_c);
});		
	*/
	
//      
$('.oka_block').on("change keyup input click",'.task_clock_selection i',open_task);	

$('body').on("change keyup input click",'.task_block_global .ggh-e',open_task1);	
	
$('body').on("change keyup input click",'.js-taa',open_task_new);	
	
$('body').on("change keyup input click",'.task_block_global .task-b-number',open_task1);
	
//      	
$('body').on("change keyup input click",'.tabsss1',tabs_client_add);
	

//    	
$('.cha_1').on("change keyup input click",'.wallet_checkbox',wallet_checkbox);

//   
$('.l_photo').on("change keyup input click",'.invoice_upload',UploadInvoice_old);
//$('.content').on("change",'.sc_sc_loos2',UploadReportsChange_old);

$('.content').on("change",'.sc_sc_loos2',UploadReportsChange_old);


//  	
$('body').on("focus click",'.input_new_2019',InputFocusNew1);
$('body').on("blur",'.input_new_2019',InputBlurNew1);
$('body').on("change keyup input click",'.radio_checkbox',radio_checkbox);
$('body').on("change keyup input click",'.radio_checkbox_no_yes',radio_checkbox_no_yes);



// 
	$('.js-finance-operation').on("change keyup input click",'.js-choice-buy-y',choice_buy_you);





$('body').on("change keyup input click",'.js-place-finance',plane_edit);
	
//      
$('.index_booking').on("change keyup input click",'.send_form_clients',send_form_clients);	 //
$('.index_booking').on("change keyup input click",'.send_form_booking',send_form_booking);   //
$('.index_booking').on("change keyup input click",'.send_form_operator',send_form_operator); //	 
$('.index_booking').on("change keyup input click",'.send_form_users',send_form_users);	//	
$('.index_booking').on("change keyup input click",'.send_form_reports',send_form_reports); //		


jQuery('.scrollbar-inner').scrollbar(); //    
ToolTip();  //  
$('.label_s').bind("change keyup input click", label_show);

$('.save_button2').bind("change keyup input click", send_meee);
	
$('.content').on("click",'.send_mess',SendMessage);	
$('.help_user').on("click",'.send_mess',SendMessage);

//$('.menu_jjs').on("change keyup input click",'.menu_click',menuclick);
//$('.menu_click').bind("change keyup input click", menuclick);
	

$('.div_dialog').on("click",'.dialog_a',function(e) {  if($(e.target).closest(".del_dialog").length==0)
  {
	var dialog_id=$(this).attr('rel_diagol');
	$(this).attr('href','/message/dialog/'+dialog_id+'/');
	$(this).trigger('Click');

  } });


function UploadReportsChange_old()
{
		var id=$(this).parents('form').attr('id_sc');
		file = this.files[0];
		if (file) {
			uploadRR_old(file,id);
		}
		return false;
	}

	
var UploadScanS = function()
{
	var id_upload=$(this).attr('id_upload');
	$('[name=myfile'+id_upload+']').trigger('click');
}


var UploadInvoiceAkt = function()
{
	var id_upload_a=$(this).attr('id_upload_a');
	$('[name=myfileakt'+id_upload_a+']').trigger('click');
}
var UploadInvoicePhoto = function()
{
	var id_upload_a1=$(this).attr('id_upload_a1');
	$('[name=myfilephoto'+id_upload_a1+']').trigger('click');
}

	
var UploadInvoice = function()
{
	var id_upload=$(this).attr('id_upload');
	$('[name=myfile'+id_upload+']').trigger('click');
}


function uploadS(file,id) {

      var xhr = new XMLHttpRequest();

      //     ,
      //  status == 200,   ,  
      xhr.onload = xhr.onerror = function() {
        if (this.status == 200) {
          
		  $('[id_upload='+id+']').show(); //
		  $('.scap_load_'+id).find('.scap_load__').width(0); 
		  $('.scap_load_'+id).hide();
		  UpdateImageSupply(id);
        } else {
          $('[id_upload='+id+']').show();
		  $('.scap_load_'+id).find('.scap_load__').width(0); 
		  $('.scap_load_'+id).hide();
        }
      };

      //   
      xhr.upload.onprogress = function(event) {
		$('[id_upload='+id+']').hide();  
		$('.scap_load_'+id).show();  
		var widths=Math.round((event.loaded*100)/event.total);
		$('.scap_load_'+id).find('.scap_load__').width(widths);  
      }

      xhr.open("POST", "supply/upload.php", true);
      //xhr.send(file);
	
	 var formData = new FormData();
     formData.append("thefile", file);
	 formData.append("id",id);
     xhr.send(formData);

    }
//   
function uploadIA(file,id) {

      var xhr = new XMLHttpRequest();

      //     ,
      //  status == 200,   ,  
      xhr.onload = xhr.onerror = function() {
        if (this.status == 200) {
          
		$('[id_upload_a='+id+']').next().find('.b_loading_circle_wrapper_small').hide();
			$('[id_upload_a='+id+']').show();  
			
		  UpdateImageInvoiceAkt(id,0);
        } else {
		$('[id_upload_a='+id+']').next().find('.b_loading_circle_wrapper_small').hide();
			$('[id_upload_a='+id+']').show();  
		
        }
      };

      //   
      xhr.upload.onprogress = function(event) {
		 //    
		$('[id_upload_a='+id+']').hide();  
		$('[id_upload_a='+id+']').next().find('.b_loading_circle_wrapper_small').show();
      }

      xhr.open("POST", "invoices/upload_akt.php", true);
      //xhr.send(file);
	
	 var formData = new FormData();
     formData.append("thefile", file);
	 formData.append("id",id);
     xhr.send(formData);

    }

//  	
function uploadIP(file,id) {

      var xhr = new XMLHttpRequest();

      //     ,
      //  status == 200,   ,  
      xhr.onload = xhr.onerror = function() {
        if (this.status == 200) {
          
		$('[id_upload_a1='+id+']').next().find('.b_loading_circle_wrapper_small').hide();
			$('[id_upload_a1='+id+']').show();  
		  UpdateImageInvoiceAkt(id,1);
        } else {
		$('[id_upload_a1='+id+']').next().find('.b_loading_circle_wrapper_small').hide();
			$('[id_upload_a1='+id+']').show();  
		
        }
      };

      //   
      xhr.upload.onprogress = function(event) {
		 //    
		$('[id_upload_a1='+id+']').hide();  
		$('[id_upload_a1='+id+']').next().find('.b_loading_circle_wrapper_small').show();
      }

      xhr.open("POST", "invoices/upload_photo.php", true);
      //xhr.send(file);
	
	 var formData = new FormData();
     formData.append("thefile", file);
	 formData.append("id",id);
     xhr.send(formData);

    }	
	
function uploadI(file,id) {

      var xhr = new XMLHttpRequest();

      //     ,
      //  status == 200,   ,  
      xhr.onload = xhr.onerror = function() {
        if (this.status == 200) {
          
		  $('[id_upload='+id+']').show(); //
		  $('.scap_load_'+id).find('.scap_load__').width(0); 
		  $('.scap_load_'+id).hide();
		  UpdateImageInvoice(id);
        } else {
          $('[id_upload='+id+']').show();
		  $('.scap_load_'+id).find('.scap_load__').width(0); 
		  $('.scap_load_'+id).hide();
        }
      };

      //   
      xhr.upload.onprogress = function(event) {
		$('[id_upload='+id+']').hide();  
		$('.scap_load_'+id).show();  
		var widths=Math.round((event.loaded*100)/event.total);
		$('.scap_load_'+id).find('.scap_load__').width(widths);  
      }

      xhr.open("POST", "booking/upload.php", true);
      //xhr.send(file);
	
	 var formData = new FormData();
     formData.append("thefile", file);
	 formData.append("id",id);
     xhr.send(formData);

    }
/*
function uploadRR(file,id) {

      var xhr = new XMLHttpRequest();

      //     ,
      //  status == 200,   ,  
      xhr.onload = xhr.onerror = function() {
        if (this.status == 200) {
          
		  $('[id_upload='+id+']').show(); //
		  $('.scap_load_'+id).find('.scap_load__').width(0); 
		  $('.scap_load_'+id).hide();
		  UpdateImageReports(id);
			alert_message('ok','  ');
			autoReloadHak();
        } else {
          $('[id_upload='+id+']').show();
		  $('.scap_load_'+id).find('.scap_load__').width(0); 
		  $('.scap_load_'+id).hide();
        }
      };

      //   
      xhr.upload.onprogress = function(event) {
		$('[id_upload='+id+']').hide();  
		$('.scap_load_'+id).show();  
		var widths=Math.round((event.loaded*100)/event.total);
		$('.scap_load_'+id).find('.scap_load__').width(widths);  
      }

      xhr.open("POST", "reports/upload.php", true);
      //xhr.send(file);
	
	 var formData = new FormData();
     formData.append("thefile", file);
	 formData.append("id",id);
     xhr.send(formData);

    }	
*/
	/*
	function uploadRR_old(file,id) {

		var xhr = new XMLHttpRequest();

		//     ,
		//  status == 200,   ,  
		xhr.onload = xhr.onerror = function() {
			// alert(this.status);
			if (this.status == 200) {

				$('[id_upload='+id+']').show(); //
				$('.scap_load_'+id).find('.scap_load__').width(0);
				$('.scap_load_'+id).hide();
				$('.scap_load_'+id).after();
				//UpdateImageReports(id);
				alert_message('ok','  ');
				autoReloadHak();
			} else {

				$('[id_upload='+id+']').show();
				$('.scap_load_'+id).find('.scap_load__').width(0);
				$('.scap_load_'+id).hide();
			}
		};

		//   
		xhr.upload.onprogress = function(event) {
			$('[id_upload='+id+']').hide();
			$('.scap_load_'+id).show();
			var widths=Math.round((event.loaded*100)/event.total);
			$('.scap_load_'+id).find('.scap_load__').width(widths+'%');
		}

		xhr.open("POST", "users/upload.php", true);
		//xhr.send(file);

		var formData = new FormData();
		formData.append("thefile", file);
		formData.append("id",id);
		xhr.send(formData);

	}
*/


	var UploadInvoicePhotoChange = function()
{
	var id=$(this).parents('form').attr('id_a');
	file = this.files[0];
	      if (file) {
        uploadIP(file,id);
      } 
      return false;	
}		

var UploadInvoiceAktChange = function()
{
	
	var id=$(this).parents('form').attr('id_a');
	file = this.files[0];
	      if (file) {
        uploadIA(file,id);
      } 
      return false;	
}	

/*
var UploadReportsChange = function()
{
	var id=$(this).parents('form').attr('id_sc');
	file = this.files[0];
	      if (file) {
        uploadRR(file,id);
      } 
      return false;	
}
*/

var UploadInvoiceChange = function()
{
	var id=$(this).parents('form').attr('id_sc');
	file = this.files[0];
	      if (file) {
        uploadI(file,id);
      } 
      return false;	
}

var UploadScanSChange = function()
{
	var id=$(this).parents('form').attr('id_sc');
	file = this.files[0];
	      if (file) {
        uploadS(file,id);
      } 
      return false;	
}

	//        	
$('.count_mask').bind("change keyup input click", validate11);
$('.count_mask1').bind("change keyup input click", validate12);
	

	
	
	$('.messa_form_a').on("change",'.invoice_file_photo',UploadInvoicePhotoChange);
	$('.messa_form_a').on("change",'.invoice_file_akt',UploadInvoiceAktChange);	
	
	$('.invoice_block').on("click",".add_akt_defect", UploadInvoiceAkt);	
	$('.invoice_block').on("click",".add_akt_defect1", UploadInvoicePhoto);
	


	

	

	
	
	


$('.img_invoice_div').on("click",'.del_image_invoice',DellImageInvoice);	

$('.img_invoice_div').on("click",'.del_image_reports',DellImageReports);	
	
$('.img_invoice_div').on("click",'.invoice_upload',UploadInvoice);
$('.content').on("change",'.sc_sc_loo12',UploadInvoiceChange);
//$('.content').on("change",'.sc_sc_loos2',UploadReportsChange);
	
$('body').on("click",'.soply_upload',UploadScanS);
$('body').on("change",'.sc_sc_loo11',UploadScanSChange);
		

//$('.booker_table').on("change keyup input click",'.booker_yes',booker_yes);	
	
$('.pay_imp').on("click",'.naryd_upload',UploadScan);
$('.pay_imp').on("change",'.sc_sc_loo',UploadScanChange);


jQuery(document).on("focus click",'.input_new_2018',InputFocusNew);	
jQuery(document).on("blur",'.input_new_2018',InputBlurNew);
jQuery(document).on("keyup",'.input_new_2018',KeyUpInput);	

//         	
jQuery(document).on("focus click",'.js-choice-keyup',InputFocusNewTours);	
jQuery(document).on("blur",'.js-choice-keyup',InputBlurNewTours);		


$('.notif_imp').on("click",'.del_notif',DellNotif);	
$('.notif_div_2018').on("click",'.del_notif',DellNotif);
	$('.booking_div').on("click",'.del_booking_',DellBooking);

	$('.clients_block').on("click",'.del_clients_',DellClients);
	
	
		$('.clients_org').on("click",'.del_org_',DellOrg);
	
$('.place-wrapper').on("click",'.task__click',YesTask);	
	
	


$('.fox_search_result1').on("change keyup input click",'.string_res',string_res1);
	

//   
$('.js-buy-my-tours').on("change keyup input click",'.js-dell-buy-tours',js_dell_buy_tours);
//   
$('.js-fly-my-tours').on("change keyup input click",'.js-dell-fly-tours',js_dell_fly_tours);



	
//    
idleTimer = null;
timerS = null;	
timerH=null;	
idleState = false; //  
idleWait = 30*60*1000; //    . (1/1000 ) - 30 
idTimeStampe=0;	
ExitSystem();
//    
	

window.is_session='umatravel.club';
	

// 	
idleTimerx = null;
timerSx = null;	
idleStatex = false; //  
idleWait_start = 10*1000; //   notification -  30  
idleWait_stop = 5*60*1000; //           - 5 	
idleWait_end = 2*60*1000; //   notification      5  -  2 
idleWait_yes=idleWait_start;	
idTimeStampex=0;	
NotifSystem();
$('<audio id="chatAudio"><source src="notify.ogg" type="audio/ogg"><source src="notify.mp3" type="audio/mpeg"><source src="notify.wav" type="audio/wav"></audio>').appendTo('body');	
// 	
	
nprogress=0; //    ajax 	

	
setInterval(function(){ $this=inWindow(".Effectbbo");  if(inWindow(".Effectbbo").length!=0) {   setTimeout ( function () {  $this.removeClass('yes_bbs1'); }, 5000 );  }  }, 1000); // 1000 .	
 
	



	
	

//$('.mkr_,.smeta2').on("change",'.option_mat',option_mat);	

	
	
//$(".drops").find("li").bind('click', droplis);
	
$('.menu_top,.smeta2').on("click",'.drops li',droplis);	
// 
animation_teps();


	

	

// 
$(".del_dialog").bind('click', del_dialog);	
	
// 
//$(".view__not i").bind('click', view_notification);
	

	
$('#lalala_add_form').on("change keyup input click",'.error_formi', function(){ $this = $(this); setTimeout ( function () {$this.removeClass('error_formi');  }, 2000 ); });	
	


//      	
window.show_search=0;	
//$("body").click(function(e) {
$(document).mouseup(function (e) {
    
    if(($(e.target).closest(".search_seb").length==0)&&($(e.target).closest(".icon3").length==0) ){
		//alert(window.show_search);
		//          
		if(window.show_search==1)
			{
				//alert("!");
				//$('.debug').empty().append($(e.target).attr("class"));
	$('.icon1').show();
	$('.search_seb').hide();
	$('.search_seb').width('60px');
				window.show_search=0;
				 $('var.highlight').each(function(){ $(this).after($(this).html()).remove(); });
			}
	}
	
	/*
	if(($(e.target).closest(".loll_drop").length==0)  ){
	       $('.loll_drop').hide();		
	}	
	*/
	
	var container = $(".noti_block");
	var container1x = $(".box-modal");
	
	if ((container.has(e.target).length === 0)&&(container1x.has(e.target).length === 0)){
	 		if( $('.noti_block').is(':visible') ) {
	       $('.noti_block').remove();
	       $('.view__not').hide(); $('.not_li').find('i').hide();	
		}
	}
	
	/*
	if(($(e.target).closest(".noti_block").length==0)&&($(e.target).closest(".view__not").length==0)  ){
		if( $('.noti_block').is(':visible') ) {
	       $('.noti_block').remove();
	       $('.view__not').hide(); $('.not_li').find('i').hide();	
		}
		}
	*/
});


	
//        	
//$('.search_seb').find('i').bind('click', search_p);

//  enter  
$("#search_text").keypress(function(e){
	     	   if(e.keyCode==13){
	     	   dosearch();
	     	   }
	     	 });
	

$("#otziv_area").keypress(function(e){
	     	   if(e.keyCode==13){
	     	   send_meee();
	     	   }
	     	 });	
	

//      	
$('#search_text').keyup(function(){
  var d1 = new Date();
  time_keyup = d1.getTime();
  if ($('#search_text').val()!=term) // ,   
   if ($('#search_text').val().length>=minlen) { //   
    setTimeout(function(){ //   
     var d2 = new Date();
     time_search = d2.getTime();
     if (time_search-time_keyup>=keyint) //    
      dosearch(); //    ,   
    }, keyint); 
   }
   else
    $('.result_s').hide(); //   ,    DIV   
 });		




	//      
$(".cal_223").bind('click', function() {  $(this).prev('.calendar_t').trigger('focus');});

//
//
//
	$("#email_formi").keyup(function(){

		var email = $("#email_formi").val();

		if(email != '')
		{

		} else
		{
			$("#email_formi").addClass('error_formi');

		}


	});

	$("#password_formi,#email_formi").keypress(function(e){
		if(e.keyCode==13){
			$('#yes1').trigger('click');
		}
	});

	$("#password_formi").keyup(function(){

		if(($("#password_formi").val()=='')||($("#password_formi").val()==0))
		{
			//$("#password_formi").addClass('error_formi');

		} else
		{
			$("#password_formi").removeClass('error_formi');
		}

	});
	$("#email_formi").keyup(function(){

		if(($("#email_formi").val()=='')||($("#email_formi").val()==0))
		{

			$(".width-setter-yes").removeClass('yes_da');

		} else
		{
			$("#email_formi").removeClass('error_formi');
			$(".width-setter-yes").addClass('yes_da');
		}

	});

	$('#yes1').on( "click", function() {


		//    
		var email = $("#email_formi").val();
		var err = [0,0];

		$("#email_formi").removeClass('error_formi');
		$("#password_formi").removeClass('error_formi');

		if(email != '')
		{
			/*
        if(isValidEmailAddress(email))
        {


        } else
        {
            $("#email_formi").addClass('error_formi');
            err[0]=1;
        }
        */
		} else
		{
			$("#email_formi").addClass('error_formi');
			err[0]=1;
		}
		if(($("#password_formi").val()=='')||($("#password_formi").val()==0))
		{
			$("#password_formi").addClass('error_formi');
			err[1]=1;
		}

		if((err[0]==0)&&(err[1]==0))
		{
			$('#pod_form').submit();
		}



	});
//
//
//
	


	
//,     	
$('.fox_dell1').on('click',function(){
	search_input1.val('');
	$('.fox_dell1').hide();
	$('.div_result1').hide();
	$('.end_search1').hide();
	$('[name=id_search_client1]').val(0).trigger('click');
});


var search_min1 = 3;  //     
var search_deley1=800;	//    -  
var search_input1=$('#fox_search_client_i1');	
	
//    	
search_input1.keyup(function() {
	if(jQuery.trim(search_input1.val().length) >= 1)
		{
		  $('.fox_dell1').show();	
		} else
		{
			$('.fox_dell1').hide();
		}
    delays(function(){
		
		if(jQuery.trim(search_input1.val().length) >= search_min1)
		{
                var data ='url='+window.location.href+
					'&search='+encodeURIComponent(search_input1.val());	
			$('.fox_dell1').hide().after('<div class="b_loading_small"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
                AjaxClient('booking','search_client','GET',data,'AfterSearchClient1',1,0);		
		}
    }, search_deley1);
});




	
	
/*	
var search_min2 = 0;  //     
var search_deley2=500;	//    -  
var search_input2=$('.js-keyup-search');			
search_input2.keyup(function() {
	
	// 
	search_input2.parents('.input_2018').find('.js-hidden-search').val(0);
	
	if(jQuery.trim(search_input2.val().length) >= 1)
		{
		  $('.fox_dell1').show();	
		} else
		{
			$('.fox_dell1').hide();
		}
    delays(function(){
		
		if(jQuery.trim(search_input2.val().length) >= search_min2)
		{
                var data ='url='+window.location.href+
					'&search='+encodeURIComponent(search_input2.val());	
			//$('.fox_dell1').hide().after('<div class="b_loading_small"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
                AjaxClient('tours','search_turoper','GET',data,'AfterSearchTuroper',1,0);		
		}
    }, search_deley2);
});	
*/	

	//           
$('.menu1').on('click','.menu3_prime li',  function(){ $(this).children('a')[0].click(); });
	
//    
$('.hide_left,.mobile').on( "click", function() {
	var est=0;
	if($(".iss").is(".big,.small")) 
	{
	   est=1;	
	}
	if(est==0)
	{
		if( $('.left_menu').is(':visible') ) 
		{
			$(".iss").addClass('small');
			$.cookie('iss', 's', {expires: 60,path: '/'});
			
		} else
		{
			//$(".iss").removeClass('small');
			$(".iss").addClass('big');
			$.cookie('iss', 'b', {expires: 60,path: '/'});
		}
				
	} else
	{
	  if($(".iss").is(".big")) 
	  {
		 $(".iss").removeClass('big');
		 $(".iss").addClass('small');
		 $.cookie('iss', 's', {expires: 60,path: '/'});
	  } else
	  {
		 $(".iss").removeClass('small');
		 $(".iss").addClass('big');  
		 $.cookie('iss', 'b', {expires: 60,path: '/'});
	  }
	  
	}

sl_message_width();
});


	
	
/*    */
$(document).mouseup(function (e) {
    var container = $(".select_box");
    if (container.has(e.target).length === 0){
        //       
	    //$(".drop_box").hide();
		$(".drop_box").css("transform", "scaleY(0)");
		$(".slct_box").removeClass("active");
		
		
		
		
    }


//     
	var to_k = $(".form-rate-ok");
	if (to_k.has(e.target).length === 0){
		//       
		//to_k.find(".drops").css("transform", "scaleY(0)");
		to_k.removeClass('show-form-rate');
	}


	
	var container1 = $(".menu_supply");
    if (container.has(e.target).length === 0){
        //       
	   	container1.find(".drops").css("transform", "scaleY(0)");
		container1.find(".drops").removeClass('active_menu_s');
    }




	var container22 = $(".loll_drop");
    if (container22.has(e.target).length === 0){
        //       
	   	container22.css("transform", "scaleY(0)");
		
		if($('.post_p').val()=='')
		{
		   $('.loll_div').addClass('required_in_2018');
		   $('.b-loading-message').empty().append('   ').show();
		} else
		{
		  $('[name=number_soply]').val($('[name=number_soply]').attr('val_old'));
			$(".loll_drop").empty();
			$('.b-loading-message').hide();
		}
		
		
    }	
	
	
});
window.slctclick_box1 = function() { 


if($(this).parents('.select_box').find('input').attr('readonly')==undefined) {  
	
	  if($(this).is(".active")) 
	  {
		  $(this).removeClass("active");
		 // $(this).next().hide();
		  $(this).next().css("transform", "scaleY(0)");
	  } else
	  {
		  $(this).addClass("active");
		 // $(this).next().show();
		  $(this).next().css("transform", "scaleY(1)");
	  }




var elemss_box=$(this).attr('data_src');	


$('.slct_box').each(function(i,elem) 
{
    var att=$(this).attr('data_src');
	if ($(this).attr('data_src')!=elemss_box) {  	
			$(this).removeClass("active");
			//$(this).next().hide();
		$(this).next().css("transform", "scaleY(0)");
	} 
});	
	
}
	 
		  
//return false;

}


$(".slct_box").bind('click', slctclick_box1);



	
	
window.dropli_box1 = function() { 

var active_old=$(this).parent().parent().find(".slct_box").attr("data_src");
var active_new=$(this).find("a").attr("rel");

			  var f=$(this).find("a").text();
			  var e=$(this).find("a").attr("rel");
			  
			  if(active_old!=active_new)
			  {
			    $(this).parent().find("li").removeClass("sel_active");
			    $(this).addClass("sel_active");
			  
			
			  
			 // $(this).parent().parent().find(".slct").removeClass("active").html(f);
			   $(this).parent().parent().find(".slct_box").removeClass("active").empty().append(f);
			   $(this).parent().parent().find(".slct_box").attr("data_src",e);
			  
			  // $(this).parent().parent().find(".drop_box").hide();
			   $(this).parent().parent().find(".drop_box").css("transform", "scaleY(0)"); 
				  
			   $(this).parent().parent().find("input").val(e).change();
			   savedefault($(this).parent().parent().find("input"));	  
			  } else
			  {
				 //$(this).parent().parent().find(".drop_box").hide();
				  $(this).parent().parent().find(".drop_box").css("transform", "scaleY(0)");
				 $(this).parent().parent().find(".slct_box").removeClass("active"); 
			  }
		  

}
$(".drop_box").find("li").bind('click', dropli_box1);
		
	

//  -    	
//  -    
//  -    	

	
	
/*    */
$(document).mouseup(function (e) {
    var container = $(".select");
	var open_cont_list = $(".js-drop-search");
	var open_cont_list1 = $(".js-open-search");
	/*
    if ((container.has(e.target).length === 0)&&(!open_cont_list.is(e.target))&&(!open_cont_list1.is(e.target)))
	{
        //       
	    //$(".drop").hide();
		//alert("!");
		$(".drop").css("transform", "scaleY(0)");
		$(".slct").removeClass("active");
		$(".drop").parents('.input-search-list').find('i').removeClass('open-search-active');
    }
	*/
	//alert(container.has(e.target).length);
	if ((container.has(e.target).length === 0)&&(!open_cont_list.is(e.target))&&(!open_cont_list1.is(e.target)))
	{
        //       
	    //$(".drop").hide();
		//alert("!");
		$(".drop").css("transform", "scaleY(0)");
		$(".drop-radio").css("transform", "scaleY(0)");
		$(".slct").removeClass("active");
		$(".drop").parents('.input-search-list').find('i').removeClass('open-search-active');
		$(".drop-radio").parents('.input-search-list').find('i').removeClass('open-search-active');
    }
	
	
});
window.slctclick = function() { 

if($(this).parents('.select').find('input').attr('readonly')==undefined) {

	if($(this).is(".active"))
	{
		$(this).removeClass("active");
		//$(this).next().hide();
		$(this).next().css("transform", "scaleY(0)");
		$(this).parents('.list_2018').removeClass('active1_in_2018x');
	} else
	{
		$(this).addClass("active");
		//$(this).next().show();
		$(this).next().css("transform", "scaleY(1)");

		$(this).parents('.list_2018').addClass('active1_in_2018x');
	}




	var elemss=$(this).attr('list_number');
//var elemss1=$(this);

	$('.slct').not(this).each(function(i,elem)
	{
		var att=$(this).attr('data_src');
		//   
		//if($(this).not(elemss1))
		//	{

		//if ($(this).attr('list_number')!=elemss) {
		$(this).removeClass("active");
		//$(this).next().hide();
		$(this).next().css("transform", "scaleY(0)");
		$(this).parents('.list_2018').removeClass('active1_in_2018x');
		//}
	});

//    
$('.drop-search').each(function(i,elem) 
{  	
	    $(this).parents('.input-search-list').find('i').removeClass('open-search-active');
		$(this).css("transform", "scaleY(0)");
	
});	
		
	 
		  
return false;
}

}

$(".slct").bind('click.sys', slctclick);


function droplis() { 
//alert("!");
var active_old=$(this).parent().attr("data_src");
var active_new=$(this).find("a").attr("rel");
		

			 // var f=$(this).find("a").text();
			 var e=$(this).find("a").attr("rel");
			  
	if(!$(this).parent().is(".no_active"))
		{
	
	
			  if(active_old!=active_new)
			  {
			    $(this).parent().find("li").removeClass("sel_active_sss");
			    $(this).addClass("sel_active_sss");
				$(this).parent().attr("data_src",e);  
			  
			
			  
			   // $(this).parent().parent().find(".slct").removeClass("active").html(f);
			   //$(this).parent().parent().find(".slct").removeClass("active").empty().append(f);
			   // $(this).parent().parent().find(".slct").attr("data_src",e);
			  
			   //$(this).parent().parent().find(".drop").hide();
			   //$(this).parent().parent().find(".drop").css("transform", "scaleY(0)");
			  
			   $(this).parent().parent().find("input").val(e).change();
			  } else
			  {
				 //$(this).parent().parent().find(".drop").hide();
				 //$(this).parent().parent().find(".drop").css("transform", "scaleY(0)");
				  
				 //$(this).parent().parent().find(".slct").removeClass("active"); 
			  }
		} else
			{
				$(this).parent().parent().find("input").val(e).change();
				
			}

}	


	
	
window.dropli = function() { 

var active_old=$(this).parent().parent().find(".slct").attr("data_src");
var active_new=$(this).find("a").attr("rel");

			  var f=$(this).find("a").text();
			  var e=$(this).find("a").attr("rel");
			  
			  if(active_old!=active_new)
			  {
				if(e!=0)
				{
					$(this).parents('.left_drop').find('label').addClass('active_label');	
				} else
					{
$(this).parents('.left_drop').find('label').removeClass('active_label');
					}
				  
				  
			    $(this).parent().find("li").removeClass("sel_active");
			    $(this).addClass("sel_active");
			  
			$(this).parents('.left_drop').removeClass('required_in_2018');
			  
			 // $(this).parent().parent().find(".slct").removeClass("active").html(f);
			   $(this).parent().parent().find(".slct").removeClass("active").empty().append(f);
			   $(this).parent().parent().find(".slct").attr("data_src",e);
				  $(this).parents('.list_2018').addClass('active_in_2018x');

				  //$(this).parent().parent().find(".drop").hide();
				  $(this).parent().parent().find(".drop").css("transform", "scaleY(0)");
			  
			   $(this).parent().parent().find("input").val(e).change();
			  } else
			  {
				 //$(this).parent().parent().find(".drop").hide();
				  $(this).parent().parent().find(".drop").css("transform", "scaleY(0)");
				  
				 $(this).parent().parent().find(".slct").removeClass("active"); 
			  }
		  

}
$(".drop").find("li").bind('click', dropli);

window.dropliradio = function() { 

var active_old=$(this).parent().parent().find(".slct").attr("data_src");
var active_new=$(this).find("a").attr("rel");

			  var f=$(this).find("a").text();
			  var e=$(this).find("a").attr("rel");
	var drop_object=$(this).parents('.drop-radio');
			  
	if ($(this).find('i').is(".active_task_cb")) 
		{
			$(this).find('i').removeClass("active_task_cb");
		} else
			{
				$(this).find('i').addClass("active_task_cb");
			}
	
	
	          //    
	 var select_li='';   
	var select_li_text=''; 
	drop_object.find('li').each(function(i,elem) {
	if ($(this).find('i').is(".active_task_cb")) {  if(select_li==''){select_li=$(this).find("a").attr("rel");
																	 select_li_text=$(this).find("a").text();
																	 } else {select_li=select_li+','+$(this).find("a").attr("rel");
																			select_li_text=select_li_text+', '+$(this).find("a").text();
																			}}
});
	
	
	if(drop_object.is('.js-no-nul-select'))
	{
		//             
		if(select_li=='')
			{
					drop_object.find('li').each(function(i,elem) {
	  if(select_li==''){select_li=$(this).find("a").attr("rel");
																	 select_li_text=$(this).find("a").text();
																	 } else {select_li=select_li+','+$(this).find("a").attr("rel");
																			select_li_text=select_li_text+', '+$(this).find("a").text();
																			}
});
				drop_object.find('i').addClass("active_task_cb");
			}
		
		
	}
	
	/*
				if(e!=0)
				{
					$(this).parents('.left_drop').find('label').addClass('active_label');	
				} else
					{
$(this).parents('.left_drop').find('label').removeClass('active_label');
					}
	*/			  
				  /*
			    $(this).parent().find("li").removeClass("sel_active");
			    $(this).addClass("sel_active");
			  */
			
			  
			 // $(this).parent().parent().find(".slct").removeClass("active").html(f);
			   $(this).parent().parent().find(".slct").empty().append(select_li_text);
			   $(this).parent().parent().find(".slct").attr("data_src",select_li);
			  
			   //$(this).parent().parent().find(".drop").hide();
				 // $(this).parent().parent().find(".drop").css("transform", "scaleY(0)");
			  
			   $(this).parent().parent().find("input").val(select_li).change();
			  
		  

}	
	
$(".drop-radio").find("li").bind('click', dropliradio);

	
//$('#save').bind('change', changesave);	

	function uploadRR_old(file,id) {

		var xhr = new XMLHttpRequest();

		//     ,
		//  status == 200,   ,  
		xhr.onload = xhr.onerror = function() {
			// alert(this.status);
			if (this.status == 200) {

				$('[id_upload='+id+']').show(); //
				$('.scap_load_'+id).find('.scap_load__').width(0);
				$('.scap_load_'+id).hide();
				$('.scap_load_'+id).after();
				//UpdateImageReports(id);
				alert_message('ok','  ');
				autoReloadHak();
			} else {

				$('[id_upload='+id+']').show();
				$('.scap_load_'+id).find('.scap_load__').width(0);
				$('.scap_load_'+id).hide();
			}
		};

		//   
		xhr.upload.onprogress = function(event) {
			$('[id_upload='+id+']').hide();
			$('.scap_load_'+id).show();
			var widths=Math.round((event.loaded*100)/event.total);
			$('.scap_load_'+id).find('.scap_load__').width(widths+'%');
		}

		xhr.open("POST", "users/upload.php", true);
		//xhr.send(file);

		var formData = new FormData();
		formData.append("thefile", file);
		formData.append("id",id);
		xhr.send(formData);

	}







/*     */



/*     */
var changesort2 = function() {  
$.cookie("su_2", null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_2",$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');
if($(this).val()==2)
{
	//   
	/*
	$.arcticmodal({
    type: 'ajax',
    url: 'forms/form_calendar.php',
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
  */
	$("#date_table").show(); 
	//$("#date_table").focus();
	//alert("!");
	//$('.bookingBox_range').show();
}

};
$('#sort2').bind('change', changesort2);	
	
	
//$('[list_number=t2]').next().find('li').bind('click', list_number);



var changesort1 = function() { 
	//alert("1");
$.cookie("su_1", null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_1",$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	

};
$('#sort1').bind('change', changesort1);	


	
var changesort_stock3 = function() {  
$.cookie("su_st_3", null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_st_3",$(this).val(),'add');
$('.show_sort_stock').removeClass('active_supply');
$('.show_sort_stock').addClass('active_supply');	

};
$('#sort_stock3').bind('change', changesort_stock3);		
	

var changesort_stock1 = function() {  
$.cookie("su_st_1", null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_st_1",$(this).val(),'add');
$('.show_sort_stock').removeClass('active_supply');
$('.show_sort_stock').addClass('active_supply');	

};
$('#sort_stock1').bind('change', changesort_stock1);	
	
var changesort_stock2__= function() {  
	var iu=$('.content').attr('iu');
	$(this).prev().val('');
    $.cookie("su_7c"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
	$('.js--sort').removeClass('greei_input');
	$('.js--sort').find('input').removeAttr('readonly');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');
	
	$(this).hide();	
}

var changesort_stock2__o= function() {  
	var iu=$('.content').attr('iu');
	$(this).prev().val('');
    $.cookie("su_7co"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
	$('.js--sort').removeClass('greei_input');
	$('.js--sort').find('input').removeAttr('readonly');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');
	
	$(this).hide();	
}
	
	








	


	
var changesort3 = function() {  
$.cookie("su_3", null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_3",$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	

};
$('#sort3').bind('change', changesort3);	
	
	
var changesort4 = function() {  
$.cookie("su_4", null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_4",$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	

};
$('#sort4').bind('change', changesort4);	
	
var changesort5 = function() {  
$.cookie("su_5", null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_5",$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');

};
$('#sort5').bind('change', changesort5);	
	
	
var changesort6 = function() {  
$.cookie("su_6", null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_6",$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	

};
$('#sort6').bind('change', changesort6);	


//***************************************************************************************
//***************************************************************************************
//***************************************************************************************		





$('#sort2c').bind('change', changesort2c);		

var changesort3c = function() {
var iu=$('.content').attr('iu');	
$.cookie("su_3c"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_3c"+iu,$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	

};
$('#sort3c').bind('change', changesort3c);	
	
	
var changesort4c = function() {  
var iu=$('.content').attr('iu');	
$.cookie("su_4c"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_4c"+iu,$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	

};
$('#sort4c').bind('change', changesort4c);	
	

$('#sort5c').bind('change', changesort5c);		


	var changesort7ct = function() {
		var iu=$('.content').attr('iu');
		$.cookie("su_7cu"+iu, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("su_7cu"+iu,$(this).val(),'add');

		$('.js-reload-top').removeClass('active-r');
		$('.js-reload-top').addClass('active-r');

	};


$('#name_stock_search_tours').bind('change keyup input click', changesort7ct);

	
//***************************************************************************************
//***************************************************************************************
//***************************************************************************************		
	





var changesort1co = function() {
var iu=$('.content').attr('iu');	
	
$.cookie("su_1co"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_1co"+iu,$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');		

};
$('#sort1co').bind('change', changesort1co);		


var changesort5co = function() {  
var iu=$('.content').attr('iu');	
$.cookie("su_5co"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_5co"+iu,$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	
};
$('#sort5co').bind('change', changesort5co);		
		
var changesort7co = function() {  
var iu=$('.content').attr('iu');	
$.cookie("su_7co"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_7co"+iu,$(this).val(),'add');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	
	
};	
$('#name_stock_searcho').bind('change keyup input click', changesort7co);	
	
//***************************************************************************************
//***************************************************************************************
	var changesort5tu = function() {
		var iu=$('.content').attr('iu');

		$.cookie("su_5tu"+iu, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("su_5tu"+iu,$(this).val(),'add');

		$('.js-reload-top').removeClass('active-r');
		$('.js-reload-top').addClass('active-r');
	};
	$('#sort5tu').bind('change', changesort5tu);
//***************************************************************************************
	//***************************************************************************************
	var changesort4tu = function() {
		var iu=$('.content').attr('iu');

		$.cookie("su_4tu"+iu, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("su_4tu"+iu,$(this).val(),'add');

		$('.js-reload-top').removeClass('active-r');
		$('.js-reload-top').addClass('active-r');
	};
	$('#sort4tu').bind('change', changesort4tu);
//***************************************************************************************
	var changesort3tu = function() {
		var iu=$('.content').attr('iu');

		$.cookie("su_3tu"+iu, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("su_3tu"+iu,$(this).val(),'add');

		$('.js-reload-top').removeClass('active-r');
		$('.js-reload-top').addClass('active-r');
	};
	$('#sort3tu').bind('change', changesort3tu);
//***************************************************************************************	
	var changesort2tu = function() {
		var iu=$('.content').attr('iu');

		$.cookie("su_2tu"+iu, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("su_2tu"+iu,$(this).val(),'add');

		$('.js-reload-top').removeClass('active-r');
		$('.js-reload-top').addClass('active-r');
	};
	$('#sort2tu').bind('change', changesort2tu);
//***************************************************************************************
	var changesort1tu = function() {
		var iu=$('.content').attr('iu');

		$.cookie("su_1tu"+iu, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("su_1tu"+iu,$(this).val(),'add');

		$('.js-reload-top').removeClass('active-r');
		$('.js-reload-top').addClass('active-r');
	};
	$('#sort1tu').bind('change', changesort1tu);








var changesort2ta = function() {  
var iu=$('.content').attr('iu');
	
$.cookie("su_2ta"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_2ta"+iu,$(this).val(),'add');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');		
};
$('#sort2ta').bind('change', changesort2ta);		

	
var changesort1ta = function() {  
var iu=$('.content').attr('iu');
	
$.cookie("su_1ta"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_1ta"+iu,$(this).val(),'add');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');		
};
$('#sort1ta').bind('change', changesort1ta);	


var changesort4ta = function() {  
var iu=$('.content').attr('iu');
	
$.cookie("su_4ta"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_4ta"+iu,$(this).val(),'add');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');		
};
$('#sort4ta').bind('change', changesort4ta);	
	
var changesort3ta = function() {  
var iu=$('.content').attr('iu');
	
$.cookie("su_3ta"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_3ta"+iu,$(this).val(),'add');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');		
};
$('#sort3ta').bind('change', changesort3ta);
	
	
var changesort5ta = function() {  
var iu=$('.content').attr('iu');
	
$.cookie("su_5ta"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_5ta"+iu,$(this).val(),'add');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');		
};
$('#sort5ta').bind('change', changesort5ta);	
	
var changesort2s = function() {  
var iu=$('.content').attr('iu');
	
$.cookie("su_2s"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_2s"+iu,$(this).val(),'add');
	
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');		
};
$('#sort2s').bind('change', changesort2s);



	var changesort2f = function() {
		var iu=$('.content').attr('iu');

		$.cookie("su_2f"+iu, null, {path:'/',domain: window.is_session,secure: false});
		CookieList("su_2f"+iu,$(this).val(),'add');

		$('.js-reload-top').removeClass('active-r');
		$('.js-reload-top').addClass('active-r');
	};
	$('#sort2f').bind('change', changesort2f);


	var changesort5s = function() {

var iu=$('.content').attr('iu');
	
$.cookie("su_5s"+iu, null, {path:'/',domain: window.is_session,secure: false}); 	
CookieList("su_5s"+iu,$(this).val(),'add');
$('.js-reload-top').removeClass('active-r');
$('.js-reload-top').addClass('active-r');	

};
$('#sort5s').bind('change', changesort5s);		

	
	


});
 


//  
function AfterSendMM(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {
		//   
		if($('.sego_mess').length==0)
		{
			$('.padding_mess').append('<div class="dialog_clear"></div><div class="message_date"><div><span class="sego_mess"></span></div></div>');	
		}
		$('.padding_mess').append('<div class="dialog_clear"></div>'+data.echo);
		scroll_to_bottom(2000);
		$('#otziv_area').val('');
	}
}

function changesort2c() {
	var iu=$('.content').attr('iu');

	$.cookie("su_2c"+iu, null, {path:'/',domain: window.is_session,secure: false});
	CookieList("su_2c"+iu,$(this).val(),'add');
	$('.js-reload-top').removeClass('active-r');
	$('.js-reload-top').addClass('active-r');
};

function changesort5c() {
	var iu=$('.content').attr('iu');
	$.cookie("su_5c"+iu, null, {path:'/',domain: window.is_session,secure: false});
	CookieList("su_5c"+iu,$(this).val(),'add');
	$('.js-reload-top').removeClass('active-r');
	$('.js-reload-top').addClass('active-r');
}

//       
function AfterCardClient(d,u)
{
	if ( d.status=='reg' )
    {
		WindowLogin();
	}	
	if ( d.status=='ok' )
    {
		if(u==1)
			{
				// 
				//
				$('.js-buy-turs-client').parents('.block-add-tours').find('.b_loading_small').remove();
				$('.js-buy-turs-client').parents('.block-add-tours').append(d.echo);
				
				$('.tot_buy_id').val(d.id_tabs);
				$('.tot_buy_type').val(d.tabs);
				
				if(d.tabs==1)
					{
						//     
				var fly_list_new=AddDellList($('.tot_fly_id').val(),d.id_tabs,'add');
				if(fly_list_new!=0)
					{
				$('.tot_fly_id').val(fly_list_new);
					}
						
					//        
					//
						//    
						//          
					if($('.js-fly-my-tours').find('.info-client-ruler[id_rules='+d.id_tabs+']').length > 0) {
						$('.js-fly-my-tours').find('.info-client-ruler[id_rules='+d.id_tabs+']').remove();
					} else
						{
							  var count_turi=parseFloat($('.tot_fly_count').val());		
			    $('.tot_fly_count').val(count_turi+1);
						}
						
					
						
						UpdateNumberTuris();
					}
				
				
				//    
				$('.js-fly-my-tours').show();
				//       
				//$('.js-fly-my-tours').find('.buy_turs').before(d.echo1);
			}
		if(u==2)
			{
				//   / 
			
				$('.js-fly-turs-client').parents('.block-add-tours').find('.b_loading_small').remove();
				
				
				//   
				$('.js-fly-turs-client').parents('.buy_turs').show();
				
				//   
				//UpdateNumberTuris();
				
				
				//  hidden     
				//    
				
				var cc = d.id_tabs.split(',');
	            
				if(cc.length==1)
				{
						
					var fly_list_new=AddDellList($('.tot_fly_id').val(),d.id_tabs,'add');
				if(fly_list_new!=0)
					{
				$('.tot_fly_id').val(fly_list_new);
				
                var count_turi=parseFloat($('.tot_fly_count').val());		
			    $('.tot_fly_count').val(count_turi+1);	
					
					//       
						
					
					if($('.js-buy-my-tours').find('[id_rules='+d.id_tabs+']').length>0)
					{
						var new_sloja=$('.js-buy-my-tours').find('[id_rules='+d.id_tabs+']');
					   if(new_sloja.is('[type_co=1]')) {
							
						 new_sloja.find('.choice-radio i').removeClass('active_task_cb');
						 new_sloja.find('.js-loli-butt').removeClass('active_pass'); 
						 new_sloja.find('.loli_turs input').val(0);
						 new_sloja.addClass('active-turist-turs');
					     UpdateNumberTuris();	  						 						      
						   
					   } else
						   {
							   
							   
							   $('.js-fly-turs-client').parents('.buy_turs').before(d.echo1);
							   UpdateNumberTuris();
						   }
					} else
						   {
							   
							   
							   $('.js-fly-turs-client').parents('.buy_turs').before(d.echo1);
							   UpdateNumberTuris();
						   }
						
						
						
						
					}
					
				
					
				} else
					{
				
				var cc_pppe = d.echo1.split('/2/');		
						
	            for ( var t = 0; t < cc.length; t++ ) 
	            { 
		
					
					var fly_list_new=AddDellList($('.tot_fly_id').val(),cc[t],'add');
				if(fly_list_new!=0)
					{
				$('.tot_fly_id').val(fly_list_new);
				
                var count_turi=parseFloat($('.tot_fly_count').val());		
			    $('.tot_fly_count').val(count_turi+1);	
					
					if($('.js-buy-my-tours').find('[id_rules='+cc[t]+']').length>0)
					{
						
						var new_sloja=$('.js-buy-my-tours').find('[id_rules='+cc[t]+']');
					   if(new_sloja.is('[type_co=1]')) {
							
						 new_sloja.find('.choice-radio i').removeClass('active_task_cb');
						 new_sloja.find('.js-loli-butt').removeClass('active_pass'); 
						 new_sloja.find('.loli_turs input').val(0);
						 new_sloja.addClass('active-turist-turs');
					     UpdateNumberTuris();	  						 						      
						   
					   } else
						   {
							   
							   
							   $('.js-fly-turs-client').parents('.buy_turs').before(cc_pppe[t]);
							   UpdateNumberTuris();
						   }
					} else
						   {
							   
							   
							   $('.js-fly-turs-client').parents('.buy_turs').before(cc_pppe[t]);
							   UpdateNumberTuris();
						   }						
						
						
					}
					
					
	            }
					}
				
				
			}
		ToolTip();
	}
}


//       
function AfterNofi(data,update)
{
	nprogress=0;
	if ( data.status=='update' )
	{
		//         
		var dialog=0;
		var date='';

		var data ='tk='+data.token;
		AjaxClient('notification','notification','GET',data,'AfterNotification','1',0,1);
	}
}



function AfterDellTask(data,update)
{
		if(update!=null){ if (typeof(update) == "string") { update = update.split(','); } else { update[0]=update; } }	
	
	if ( data.status=='reg' )
    {
		WindowLogin();
	} 
	if ( data.status=='ok' )
    {
			if($('.js-global-task-link').length>0)
			{
				
			  	$('.task_block_global[id_task="'+update[0]+'"]').slideUp("slow", function() {$('.task_block_global[id_task="'+update[0]+'"]').remove();});
			}
	}
}


//    (jpg)
function AfterDellImageInvoice(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	} 
	if ( data.status=='ok' )
    {
		$('.img_invoice').find('[sop='+update+']').remove();
		//  li 0      
		if($('.img_invoice').find('li').length==0)
		{
				$('.img_invoice').hide();
			
			   $('.dollor_yes').before('<div class="attach_no">  </div>');
			 
			
		}
		
		
		
		
	}
}


//    (jpg)
function AfterDellImageReports(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	} 
	if ( data.status=='ok' )
    {
		$('.img_invoice').find('[sop='+update+']').remove();
		//  li 0      
		if($('.img_invoice').find('li').length==0)
		{
				$('.img_invoice').hide();
			
			   //$('.dollor_yes').before('<div class="attach_no">  </div>');
			 
			
		}
		
		
		
		
	}
}



//    (jpg)  
function AfterDellImageSupply(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	} 
	if ( data.status=='ok' )
    {
		$('.img_ssoply').find('[sop='+update+']').remove();
		//  li 0      
		if($('.img_ssoply').find('li').length==0)
		{
				$('.img_ssoply').hide();
		}
	}
}


//   
function AfterTabsInfoTrips(data,update)
{
	if(update!=null){ if (typeof(update) == "string") { update = update.split(','); } else { update[0]=update; } }

	if ( data.status=='reg' )
	{
		WindowLogin();
	}

	if ( data.status=='ok' )
	{
$('.trips_block_global[id_trips='+update[1]+']').find('.px_bg_trips').empty().append(data.query);
		//$('.form'+update[1]+' .px_bg').empty().append(data.query);

		//$('.cha_1').on("change keyup input click",'.wallet_checkbox',wallet_checkbox);

		//$('.form'+update[1]+' .js-tabs_docc').hide();
		//$('.form'+update[1]+' .js-tabs_'+update[0]).show();

		NumberBlockFile();
		ToolTip();
		if((update[0]==3)||(update[0]==4))
		{
			$(".slct").unbind('click.sys');
			$(".slct").bind('click.sys', slctclick);
			$(".drop").find("li").unbind('click');
			$(".drop").find("li").bind('click', dropli);
			//$('#typesay').unbind('change', changesay);
			//$('#typesay').bind('change', changesay);
			//alert("!");
		}

	}
}


//     
function AfterUpdateOrg(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {	
//
//
// 
		
//  
//email

//		
//
//
//
		
// 
//
//
//. 		

		var class_glu = ["js-glo-n-", "js-glo-d-","js-glo-a-",
						
						 "js-glo-t-",
						 "js-glo-e-",
						 
						 "js-glo-in-",
						 "js-glo-kp-",
						 "js-glo-og-",
						 "js-glo-ok-",
						 
						 "js-glo-rs-",
						 "js-glo-bi-",
						 "js-glo-ba-",
						 "js-glo-ko-",
						
						
						];
		
		var aaaa = data.echo.split('/-');
		
		var int_pass=0;
		var inn_pass=0;
		
		for (var t = 0; t < aaaa.length; t++) 
		{ 
		    if((aaaa[t]!='0')&&(aaaa[t]!='dell'))
			{
				$('.'+class_glu[t]+update).empty().show().append(aaaa[t]);	
				
				if($('.js-buy-my-tours').length > 0) {
					//         
					if(t<5)
						{
							
							$('.'+class_glu[t]+update).empty().show().append(aaaa[t]);
									
						} else
						{
							//     
							$('.'+class_glu[t]+update).empty().show().append(aaaa[t]);
							
							
							//
							if((t>=5)&&(t<9))
							{
								if((aaaa[t]!='')&&(aaaa[t]!='0'))
								{int_pass++;}
							}
							
							if(int_pass!=0)
							{
									$('.label-empty-code-'+update).hide();
								    $('.label-filled-code-'+update).show();
							} else
								{
									$('.label-empty-code-'+update).show();
								    $('.label-filled-code-'+update).hide();								
								}
							
							// 
							if((t>=9)&&(t<13))
							{
								if((aaaa[t]!='')&&(aaaa[t]!='0'))
								{inn_pass++;}
							}
							
							if(inn_pass!=0)
							{
									$('.label-empty-rek-'+update).hide();
								    $('.label-filled-rek-'+update).show();
							} else
								{
									$('.label-empty-rek-'+update).show();
								    $('.label-filled-rek-'+update).hide();								
								}
							
						}
					
					
				} else{
					$('.'+class_glu[t]+update).empty().show().append(aaaa[t]);
				}
				
			}
		    if(aaaa[t]=='dell')
			{
				if(t==1)
					{
				$('.'+class_glu[t]+update).hide();	
					}
				
			}			
		}
		
	}
}



function click_mmmt ()
{
	nall_buy_tips();
}

//     
function AfterUpdateFinance(data,update)
{
	if ( data.status=='reg' )
	{
		WindowLogin();
	}

	if ( data.status=='ok' )
	{
//  
// 
// 
// 


		var class_glu = ["js-fin-0", "js-fin-1", "js-fin-2","js-fin-3"];




		var int_pass=0;
		var inn_pass=0;
		var aaaa = update.split(',');
		for (var t = 0; t < 4; t++)
		{
			if(aaaa[t]!='0')
			{
				if(t==0) {
					$('.' + class_glu[t]).empty().show().append(data.echo);
					animation_graf();
				}
				if(t==1) {
					window.chart2.data=data.chart2;
				}
				if(t==2) {
					window.chart.data=data.chart;
					setTimeout ( function () { legendCreate(); }, 1000 );
				}
				if(t==3) {

					window.chart1.data=data.chart1;
					setTimeout ( function () { legendCreate1(); }, 1000 );

				}

			}
		}

	}
}


//     
function AfterUpdateUser(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {	
		//
// 
// 
//
//
//
		
//
//

// 
// 
// 
//  
//  

// 
// 
// 
//  		
		
		var class_glu = ["js-glu-f-", "js-glu-d-", "js-glu-s-","js-glu-fs-","js-glu-fe-","js-glu-t-",
						"js-glu-pol-",
						"js-glu-latin-",
						
						"js-glu-ints-",
						 "js-glu-intn-",
						 "js-glu-intk-",
						 "js-glu-intko-",
						 "js-glu-intd-",
						 
						 "js-glu-ines-",
						 "js-glu-inen-",
						 "js-glu-inek-",
						 "js-glu-ineko-"
						
						];
		
		var aaaa = data.echo.split('/-');

		
		var int_pass=0;
		var inn_pass=0;
		for (var t = 0; t < aaaa.length; t++) 
		{ 
		    if((aaaa[t]!='0')&&(aaaa[t]!='dell'))
			{
				$('.'+class_glu[t]+update).empty().show().append(aaaa[t]);	
				
				if($('.js-buy-my-tours').length > 0) {
					//         
					if(t<8)
						{
							if(t==6)
								{
									//
									if(aaaa[t]==1)
										{
											$('.'+class_glu[t]+update).empty().show().append('(MR)');
											$('.'+class_glu[t]+update).attr('data-tooltip','');
										}
									if(aaaa[t]==2)
										{
											$('.'+class_glu[t]+update).empty().show().append('(MRS)');
											$('.'+class_glu[t]+update).attr('data-tooltip','');
										}
								} else
									{
							$('.'+class_glu[t]+update).empty().show().append(aaaa[t]);
									}
						} else
						{
							//     
							$('.'+class_glu[t]+update).empty().show().append(aaaa[t]);
							
							
							// 
							if((t>=8)&&(t<13))
							{
								if((aaaa[t]!='')&&(aaaa[t]!='0'))
								{int_pass++;}
							}
							
							if(int_pass!=0)
							{
									$('.label-empty-int-'+update).hide();
								    $('.label-filled-int-'+update).show();
							} else
								{
									$('.label-empty-int-'+update).show();
								    $('.label-filled-int-'+update).hide();								
								}
							
							// 
							if((t>=13)&&(t<17))
							{
								if((aaaa[t]!='')&&(aaaa[t]!='0'))
								{inn_pass++;}
							}
							
							if(inn_pass!=0)
							{
									$('.label-empty-inn-'+update).hide();
								    $('.label-filled-inn-'+update).show();
							} else
								{
									$('.label-empty-inn-'+update).show();
								    $('.label-filled-inn-'+update).hide();								
								}
							
						}
					
					
				} else{
					$('.'+class_glu[t]+update).empty().show().append(aaaa[t]);
				}
				
				
			}
		    if(aaaa[t]=='dell')
			{
				if(t==2)
					{
				$('.'+class_glu[t]+update).hide();	
					}
				
			}			
		}
		
	}
}

//       
function AfterMyTask(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='error' )
    {	
		//    
	var taski=$('.task_clock_selection[id_task="'+update+'"]').find('.js-choice-task-y');
	var i_c=taski.find('i')
	var cb_h=taski.find('input').val();
	
	if(i_c.is(':visible')) 
	   {
	
	if((cb_h==0)&&(!i_c.is('.active_task_cb')))
		{
			  taski.find('input').val(1);
			  taski.find('.choice-radio i').addClass('active_task_cb');
			  taski.find('.choice-head').empty().append('   ');
		} else
			{
			  taski.find('input').val(0);
			  taski.find('.choice-radio i').removeClass('active_task_cb');
			}
}
	}
}

//   
function AfterConstBuy(data,update)
{
	if ( data.status=='reg' )
	{
		WindowLogin();
	}

	if ( data.status=='error' )
	{
		//    
		var taski=$('.buy_block_global[id_buy="'+update+'"]').find('.js-choice-buy-y');
		var i_c=taski.find('i')
		var cb_h=taski.find('input').val();

		if(i_c.is(':visible'))
		{

			if((cb_h==0)&&(!i_c.is('.active_task_cb')))
			{
				taski.find('input').val(1);
				taski.find('.choice-radio i').addClass('active_task_cb');
				//taski.find('.choice-head').empty().append('   ');
			} else
			{
				taski.find('input').val(0);
				taski.find('.choice-radio i').removeClass('active_task_cb');
			}
		}
	}
}


//    
function AfterUpdateImageReports(data,update)
{
	nprogress=0;
	if ( data.status=='reg' )
    {
		WindowLogin();
	} else
		{
	if ( data.status=='ok' )
    {
		$('.img_invoice').find('ul').empty().append(data.echo);
		$('.img_invoice').show();
		ToolTip();
		
		if($('.img_invoice').find('li').length!=0)
		{				
			   $('.attach_no').remove();	
		}
		
		
	}
		}
}

//    
function AfterUpdateImageInvoice(data,update)
{
	nprogress=0;
	if ( data.status=='reg' )
    {
		WindowLogin();
	} else
		{
	if ( data.status=='ok' )
    {
		$('.img_invoice').find('ul').empty().append(data.echo);
		$('.img_invoice').show();
		ToolTip();
		
		if($('.img_invoice').find('li').length!=0)
		{				
			   $('.attach_no').remove();	
		}
		
		
	}
		}
}

//    
function AfterUpdateImageSupply(data,update)
{
	nprogress=0;
	if ( data.status=='reg' )
    {
		WindowLogin();
	} else
		{
	if ( data.status=='ok' )
    {
		$('.img_ssoply').find('ul').empty().append(data.echo);
		$('.img_ssoply').show();
		ToolTip();
	}
		}
}

//  
function AfterDellBoo(data,update)
{
	nprogress=0;
	if ( data.status=='reg' )
    {
		WindowLogin();
	} else
		{
	if ( data.status=='ok' )
    {
		//         
		$('[rel_notib='+update+']').remove();	
		
	} else
			{
				$('[rel_notib='+update+']').show();
				
			}
		}
}



function AfterUpdateTaskBiAdd(data,update)
{
		if ( data.status=='reg' )
    {
		WindowLogin();
	} else
		{
	if ( data.status=='ok' )
    {
		$('.js-message-task-search').slideUp("slow");
		$('.js-global-task-link').prepend(data.echo);
		setTimeout ( function () { $( '.new-say ' ).removeClass('new-say'); }, 4000 );
		
	}
}
}

function AfterUpdateTaskBi(data,update)
{
		if ( data.status=='reg' )
    {
		WindowLogin();
	} else
		{
	if ( data.status=='ok' )
    {
		
		$('.task_block_global[id_task='+update+']').after(data.echo);
		$('.new-say').prev('.task_block_global').remove();		
		setTimeout ( function () { $( '.new-say ' ).removeClass('new-say'); }, 4000 );
		
	}
}
}
//  
function AfterDellNot(data,update)
{
	nprogress=0;
	if ( data.status=='reg' )
    {
		WindowLogin();
	} else
		{
	if ( data.status=='ok' )
    {
		//         
		$('[rel_noti='+update+']').remove();	
		if( $('.noti_block').is(':visible') ) {
		var tips=parseInt(trim_number($('.noti_block').find('.noti_coc').text()));
		 if ((tips!='')&&(tips!=0))
			 {
				 tips=tips-1;
				 if(tips==0)
				 {
						$('.noti_block').remove();
					    $('.view__not').hide();
					    $('.not_li').find('i').hide();
				 }
				 {
					 $('.noti_block').find('.noti_coc').empty().append(tips);
					  $('.not_li').find('i').empty().append(tips);
					 
				 }
			 }
		}
		
	} else
			{
				$('[rel_noti='+update+']').show();
				
			}
		}
}

//   
function AfterVVN(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {

		$('.noti_block').find('.scro').empty().append(data.echo);
		$('.noti_block').find('.noti_coc').empty().append(data.not);
		$('.noti_block').find('.noti_co').show();
		$('.notif_div_2018').on("click",'.del_notif',DellNotif);	
	}
}

//   
function AfterCloudTask(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {
		
		$('.users_rule').attr('tas',data.key);
		
		//  
		for ( var t = 0; t < 4; t++ ) { 
		   //$('.js-ring-'+t).
		   $('.js-ring-'+t).find('.task_clock_selection').each(function(i,elem) {
	            var id_old=$(this).attr('id_task');
			   //        
			   if( data.cloud_day[t].indexOf( id_old ) == -1 )
				   {
					   /*$('.js-ring-'+t).find('[id_task='+id_old+']').slideUp("slow",function() {$(this).remove();});
					   */
					   $('.js-ring-'+t).find('[id_task='+id_old+']').remove();
				   }
           });  
		}
		//         
		
		var count_fa=0;
		for ( var t = 0; t < 4; t++ ) { 
			if(data.cloud_day[t].length==0)
			{
				$('.js-ring-'+t).hide();
				if(t!=3)
				{
				   count_fa++;	
				}
			}
		}

		//   
		$.each(data.cloud, function(index, value){
			//value[0]
			//    
			//alert($('.js-ring-'+value[0]).find('.task_clock_selection[id_task="'+value[2]+'"]').length);
			if($('.js-ring-'+value[0]).find('.task_clock_selection[id_task="'+value[2]+'"]').length>0)
				{
					//     
					var ko_block=$('.task_clock_selection[id_task="'+value[2]+'"]');
					
					if(index!=3)
					{
						if((value[1]==1)||(value[1]==2))
							{
								ko_block.find('.ring-comm').empty().append(value[5]);  //
							}
					} else
						{
					ko_block.find('.ring-comm').empty().append(value[5]);  //
						}
					
					if(index!=3)
					{
					   ko_block.find('.task__time1').empty().append(value[6]);  //
					} else
					{
					   ko_block.find('.red__task').empty().append(value[6]);  //			
					}
					
					if(value[1]==2)
						{
							//      
						if(value[7]==0)
							{
								//     
								ko_block.find('.choice-head').empty().append('   ');
								ko_block.find('.choice-radio i').removeClass('active_task_cb').show();
								ko_block.find('.choice-radio input').val(0);
								
							} else
								{
									if(value[8]==1)
							        {
										ko_block.find('.choice-head').empty().append('   ');
										
										ko_block.find('.choice-radio i').show().addClass('active_task_cb');
										ko_block.find('.choice-radio input').val(1);
										
									} else
									{
										ko_block.find('.choice-head').empty().append('   <strong>'+value[7]+'</strong>');
										ko_block.find('.choice-radio input').val(0);
										ko_block.find('.choice-radio i').removeClass('active_task_cb').hide();
									}
									
								}
							
						//ko_block.('.choice-head').empty().append(value[5]);
						}
				}
			else
				{
					//  
					
					//    . ,     
					var bbg=$('.js-ring-'+value[0]);
					//alert(value[0]);
					bbg.show();
					var temp_task='';
					var red_a='';
					var class_bb='';
					if(value[0]==3)
						{
					red_a='red_all';
					class_bb='task-ring';		
						}
					if(value[1]==3)
						{
							//  1,2,3,4 
							if(value[0]!=3) { class_bb='birthday-ring';	}	
							
							temp_task='<div id_task="'+value[2]+'" class="new-task task_clock_selection '+class_bb+' '+red_a+'"><div class="task_clock_selection1"><div class="clock_cbb"><i></i></div><div class="why_task_cbb">';
							if(value[0]!=3) {
								//1,2,3 
							    temp_task=temp_task+'<span> </span>';
							} else
							{
								//4 	
								temp_task=temp_task+'<span> '+value[2]+'</span>';	
							}
							temp_task=temp_task+', <span class="js-client ring-user js-glu-f-'+value[11]+'" iod="'+value[11]+'">'+value[4]+'</span>';
							
								if(value[0]==3)
								{
							temp_task=temp_task+'<div class="ring-comm">'+value[5]+'</div>';		
								} else
								{
							temp_task=temp_task+'<div class="ring-comm"></div>';
								}
							
							
							temp_task=temp_task+'</div><div class="ring-time">';
							if(value[0]==3)
								{
							temp_task=temp_task+'<span class="red__task">'+value[6]+'</span>';
								}
							
							temp_task=temp_task+'<div rel_taskk="'+value[2]+'" data-tooltip="  " class="task__click1"></div></div></div></div>';
						}
			
					if((value[1]==5)||(value[1]==4))
					{
							/// 1,2,3 
							if(value[1]==5)
								{
									var flt='flyend-ring';
									var flt1='fly-ring-end';
								} else
								{
									var flt='flystart-ring';	
									var flt1='fly-ring-start';
								}
						if(value[0]==3)
								{
									//4 
									var flt='task-ring';
									var flt1='';
								}
													
							
							temp_task='<div id_task="'+value[2]+'" class="new-task task_clock_selection '+flt+' '+red_a+'"><div class="task_clock_selection1"><div class="clock_cbb"><i></i></div><div class="why_task_cbb">';
							if(value[0]!=3)
								{
							temp_task=temp_task+'<a href="booking/'+value[9]+'/"><strong>'+value[10]+'</strong></a>';
								} else
									{
										//4 	
								temp_task=temp_task+'<span> '+value[2]+'</span>';
									}
								
								
								temp_task=temp_task+', <span class="js-client ring-user js-glu-f-'+value[11]+'" iod="'+value[11]+'">'+value[4]+'</span>';
							
							if(value[0]==3)
								{
							temp_task=temp_task+'<div><a href="booking/'+value[9]+'/"><strong>'+value[10]+'</strong></a></div>';
								}
							if(value[0]==3)
								{
							temp_task=temp_task+'<div class="ring-comm">'+value[5]+'</div>';		
								} else
								{
							temp_task=temp_task+'<div class="ring-comm"></div>';
								}
							temp_task=temp_task+'</div><div class="ring-time">';
							if(value[0]!=3)
								{
							temp_task=temp_task+'<div class="task__time1 '+flt1+'">'+value[6]+'</div>';
								} else
									{
										temp_task=temp_task+'<span class="red__task">'+value[6]+'</span>';
									}
							temp_task=temp_task+'<div rel_taskk="'+value[2]+'" data-tooltip="  " class="task__click1"></div></div></div></div>';
						}


					if((value[1]==6)||(value[1]==7))
					{
						///
						if(value[1]==7)
						{
							var flt='flyend-ring';
							var flt1='fly-ring-end';
						} else
						{
							var flt='flystart-ring';
							var flt1='fly-ring-start';
						}
						if(value[0]==3)
						{
							//4 
							var flt='task-ring';
							var flt1='';
						}


						temp_task='<div id_task="'+value[2]+'" class="new-task task_clock_selection '+flt+' '+red_a+'"><div class="task_clock_selection1"><div class="clock_cbb"><i></i></div><div class="why_task_cbb">';
						if(value[0]!=3)
						{
							temp_task=temp_task+'<a href="tours/.id-'+value[9]+'"><strong>'+value[10]+'</strong></a>';
						} else
						{
							//4 
							temp_task=temp_task+'<span> '+value[2]+'</span>';
						}


						var as = value[11].split('-');

						if(as[0]==1) {
							// 
							temp_task = temp_task + ', <span class="js-client ring-user js-glu-f-' + as[1] + '" iod="' + as[1] + '">' + value[4] + '</span>';
						} else
						{
							//
							temp_task = temp_task + ', <span class="js-org ring-user js-glo-f-' + as[1] + '" iod="' + as[1] + '">' + value[4] + '</span>';
						}


						if(value[0]==3)
						{
							temp_task=temp_task+'<div><a href="tours/.id-'+value[9]+'"><strong>'+value[10]+'</strong></a></div>';
						}
						if(value[0]==3)
						{
							temp_task=temp_task+'<div class="ring-comm">'+value[5]+'</div>';
						} else
						{
							temp_task=temp_task+'<div class="ring-comm"></div>';
						}
						temp_task=temp_task+'</div><div class="ring-time">';
						if(value[0]!=3)
						{
							temp_task=temp_task+'<div class="task__time1 '+flt1+'">'+value[6]+'</div>';
						} else
						{
							temp_task=temp_task+'<span class="red__task">'+value[6]+'</span>';
						}
						temp_task=temp_task+'</div></div></div>';
					}



					if((value[1]==9))
					{
						// 

							var flt='flychat-ring';
							var flt1='';

						if(value[0]==3)
						{
							//4 
							var flt='task-ring';
							var flt1='';
						}


						temp_task='<div id_task="'+value[2]+'" class="new-task task_clock_selection '+flt+' '+red_a+'"><div class="task_clock_selection1"><div class="clock_cbb"><i></i></div><div class="why_task_cbb">';
						if(value[0]!=3)
						{
							temp_task=temp_task+'<a href="tours/.id-'+value[9]+'"><strong>'+value[10]+'</strong></a>';
						} else
						{
							//4 
							temp_task=temp_task+'<span> '+value[2]+'</span>';
						}


						if(value[0]!=3) {
							temp_task = temp_task + ', <span class="ring-user">   </span>';
						}



						if(value[0]==3)
						{
							temp_task=temp_task+'<div><a href="tours/.id-'+value[9]+'"><strong>'+value[10]+'</strong></a></div>';
						}
						if(value[0]==3)
						{
							temp_task=temp_task+'<div class="ring-comm">'+value[5]+'</div>';
						} else
						{
							temp_task=temp_task+'<div class="ring-comm"></div>';
						}
						temp_task=temp_task+'</div><div class="ring-time">';
						if(value[0]!=3)
						{
							temp_task=temp_task+'<div class="task__time1 '+flt1+'"></div>';
						} else
						{
							temp_task=temp_task+'<span class="red__task">'+value[6]+'</span>';
						}
						temp_task=temp_task+'<div rel_taskk="'+value[2]+'" data-tooltip="  " class="task__click1"></div></div></div></div>';
					}


					if((value[1]==8))
					{
						//   

						var flt='flymoney-ring';
						var flt1='';

						if(value[0]==3)
						{
							//4 
							var flt='task-ring';
							var flt1='';
						}


						temp_task='<div id_task="'+value[2]+'" class="new-task task_clock_selection '+flt+' '+red_a+'"><div class="task_clock_selection1"><div class="clock_cbb"><i></i></div><div class="why_task_cbb">';
						if(value[0]!=3)
						{
							temp_task=temp_task+'<a href="tours/.id-'+value[9]+'"><strong>'+value[10]+'</strong></a>';
						} else
						{
							//4 
							temp_task=temp_task+'<span> '+value[2]+'</span>';
						}


						if(value[0]!=3) {
							temp_task = temp_task + ', <span class="ring-user">   </span>';
						}



						if(value[0]==3)
						{
							temp_task=temp_task+'<div><a href="tours/.id-'+value[9]+'"><strong>'+value[10]+'</strong></a></div>';
						}
						if(value[0]==3)
						{
							temp_task=temp_task+'<div class="ring-comm">'+value[5]+'</div>';
						} else
						{
							temp_task=temp_task+'<div class="ring-comm"></div>';
						}
						temp_task=temp_task+'</div><div class="ring-time">';
						if(value[0]!=3)
						{
							temp_task=temp_task+'<div class="task__time1 '+flt1+'"></div>';
						} else
						{
							temp_task=temp_task+'<span class="red__task">'+value[6]+'</span>';
						}
						temp_task=temp_task+'</div></div></div>';
					}

					if((value[1]==10))
					{
						//  

						var flt='flymoney-ring';
						var flt1='';

						if(value[0]==3)
						{
							//4 
							var flt='task-ring';
							var flt1='';
						}


						temp_task='<div id_task="'+value[2]+'" class="new-task task_clock_selection '+flt+' '+red_a+'"><div class="task_clock_selection1"><div class="clock_cbb"><i></i></div><div class="why_task_cbb">';
						if(value[0]!=3)
						{
							temp_task=temp_task+'<a href="tours/.id-'+value[9]+'"><strong>'+value[10]+'</strong></a>';
						} else
						{
							//4 
							temp_task=temp_task+'<span> '+value[2]+'</span>';
						}


						if(value[0]!=3) {
							temp_task = temp_task + ', <span class="ring-user">  </span>';
						}



						if(value[0]==3)
						{
							temp_task=temp_task+'<div><a href="tours/.id-'+value[9]+'"><strong>'+value[10]+'</strong></a></div>';
						}
						if(value[0]==3)
						{
							temp_task=temp_task+'<div class="ring-comm">'+value[5]+'</div>';
						} else
						{
							temp_task=temp_task+'<div class="ring-comm"></div>';
						}
						temp_task=temp_task+'</div><div class="ring-time">';
						if(value[0]!=3)
						{
							temp_task=temp_task+'<div class="task__time1 '+flt1+'"></div>';
						} else
						{
							temp_task=temp_task+'<span class="red__task">'+value[6]+'</span>';
						}
						temp_task=temp_task+'</div></div></div>';
					}

					if(((value[1]==1)||(value[1]==2)))
						{
							//    1,2,3,4 
							
							if(value[1]==1)
								{
									//
									var prs='task-ring';
									var prs1='';
									var prs2='';
								} else
								{
									//
									var prs='task-ring-all';	
									var prs1=' ';
				
							if(value[7]==0)
							{
								var prs2='<div class="ring-comm-option"><div class="input-choice-click-task"><div class="choice-head">   </div><div class="choice-radio"><div class="center_vert1"><i class=""></i><input name="" id="" value="0" type="hidden"></div></div></div></div>';
								
							} else
								{
									if(value[8]==1)
							        {
											var prs2='<div class="ring-comm-option"><div class="input-choice-click-task js-choice-task-y"><div class="choice-head">   </div><div class="choice-radio"><div class="center_vert1"><i class="active_task_cb"></i><input name="" id="" value="1" type="hidden"></div></div></div></div>';
										
									} else
									{
										
											var prs2='<div class="ring-comm-option"><div class="input-choice-click-task"><div class="choice-head">   <strong>'+value[7]+'</strong></div><div class="choice-radio"><div class="center_vert1"><i style="display:none;" class="active_task_cb"></i><input name="" id="" value="0" type="hidden"></div></div></div></div>';
									}
									
								}
									
									
									
								}
							
							temp_task='<div id_task="'+value[2]+'" class="new-task task_clock_selection '+prs+'  '+red_a+'"><div class="task_clock_selection1"><div class="clock_cbb"><i></i></div><div class="why_task_cbb"><span>'+prs1+' '+value[2]+'</span>';
							
							if(value[3]!=0)
								{
							//   
									if(value[3]==1)
										{
											///
							temp_task=temp_task+', <span class="js-client ring-user js-glu-f-'+value[11]+'" iod="'+value[11]+'">'+value[4]+'</span>';
										}
								if(value[3]==2)
										{
											//
							temp_task=temp_task+', <span class="js-org ring-user js-glo-n-'+value[11]+'" iod="'+value[11]+'">'+value[4]+'</span>';
										}									
								}
									
							temp_task=temp_task+'<div class="ring-comm">'+value[5]+'</div>'+prs2+'</div><div class="ring-time">';
							
														if(value[0]==3)
								{
									temp_task=temp_task+'<span class="red__task">'+value[6]+'</span>';
								} else
									{
										temp_task=temp_task+'<div class="task__time1">'+value[6]+'</div>';
									}
							
							
							
							temp_task=temp_task+'<div rel_taskk="'+value[2]+'" data-tooltip="  " class="task__click1"></div></div></div></div>';
						}
					
					bbg.find('.block-ring-x').prepend(temp_task);
					
			
					setTimeout ( function () { $('.task_clock_selection[id_task="'+value[2]+'"]').removeClass('new-task'); }, 4000 );
					
					

					

					
				}

        });	
		
		
		
							//      , , , 
			for ( var t = 0; t < 4; t++ ) { 
					var eshe_jv=$('.js-ring-'+t).find('.eshe-ring');
					var max=eshe_jv.attr('max');
					var all_block=$('.js-ring-'+t).find('.task_clock_selection').length;
					var no_visible=parseInt(all_block)-parseInt(max);
				//alert(no_visible);
					
					var eshe_v=0;
					var eshe_o=0;
					if(eshe_jv.is(':visible'))
						{
							//  
							var eshe_v=1;
						}
					if(eshe_jv.is('.active-ring'))
						{
							// 
							var eshe_o=1;
						}
					
					if(eshe_v==0)
					{
						//         
						if(all_block>max)
						{
 						   eshe_jv.show();
						   eshe_jv.find('.ring-x1').empty().append(' '+no_visible);

						   //     
						   $('.js-ring-'+t).find('.task_clock_selection').removeClass('max-day-ring');
							
						   $('.js-ring-'+t).find('.task_clock_selection').each(function(i,elem) {
							   
							   if(i>=max)
								   {
									   $(this).addClass('max-day-ring').hide();
								   }
							   
						   });
							
							
						}
					}
					if(((eshe_v==1)&&(eshe_o==0)))
					{
						//          
                        eshe_jv.find('.ring-x1').empty().append(' '+no_visible);
						$('.js-ring-'+t).find('.task_clock_selection').removeClass('max-day-ring');
						$('.js-ring-'+t).find('.task_clock_selection').each(function(i,elem) {
							   
							   if(i>=max)
								   {
									   $(this).addClass('max-day-ring').hide();
								   }
							   
						   });
					}
					if(((eshe_v==1)&&(eshe_o==1)))
					{
						//         
						 eshe_jv.find('.ring-x1').empty().append(' '+no_visible);
						 $('.js-ring-'+t).find('.task_clock_selection').removeClass('max-day-ring');
							
						   $('.js-ring-'+t).find('.task_clock_selection').each(function(i,elem) {
							   
							   if(i>=max)
								   {
									   $(this).addClass('max-day-ring');
								   }
							   
						   });
					}	
					
					
					if(all_block<=max)
					{
						//alert("!");
						eshe_jv.hide();
					}
			}
		
		
		
					//      .   
					
					if(count_fa==3)
					{
							//   
						    $('.task-left').css("width", "100%");
						    $('.task-right').hide();
					} else
					{
						    $('.task-left').css("width", "50%");
						    $('.task-right').show();							
					}	
		
		
	}
}


//   
function AfterNotification(data,update)
{
	if ( data.status=='reg' )
	{
		WindowLogin();
	}

	if ( data.status=='ok' )
	{
		$('.users_rule').attr('not',data.tk);
		if(data.not==0)
		{
			//     0	
			$('.not_li').find('i').empty();
			$('.not_li').find('i').hide();
			$('.view__not').hide();
		} else
		{
			$('.not_li').find('i').empty().append(data.not);
			$('.not_li').find('i').show();
			$('.view__not').css( "display", "inline-block" );
			$('#chatAudio')[0].play();

			alert_message('ok','   ');


		}

	}
}
	
	
function AfterMESS(data,update)
{
		if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='ok' )
    {
		$('.content_block').attr('n',data.n_st);
		$('.history_message').attr('s_m',data.poo);
		var B = document.body;
		var sc=B.scrollHeight;
		
		$('.padding_mess').prepend(data.echo);
	
		
		window.scrollTo(0,(B.scrollHeight - sc  + B.scrollTop));
		if( data.eshe==1 )
			{
		$('.padding_mess').prepend($('.history_message'));
		$('.history_message').show();
			} else
				{
					$('.history_message').remove();
				}
	}
		if ( data.status=='error' )
    {
		$('.history_message').remove();
	}
	
}




function AfterTest(data,update)
{
	$('.js-cloud').empty().append(data.test);
}


function AfterSaveAnswer(data,update)
{
	if ( data.status=='reg' )
    {
		WindowLogin();
	}
	
	if ( data.status=='error' )
    {
		$('[op_rel='+update+']').find('.save_anna').show();
	}
}



//  -    
//  -    
//  -    


/* Modernizr 2.5.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-csstransforms3d-csstransitions-shiv-cssclasses-teststyles-testprop-testallprops-prefixes-domprefixes-load
 */
;window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a)if(j[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.5.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k=b.createElement("div"),l=b.body,m=l?l:b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),k.appendChild(j);return f=["","<style>",a,"</style>"].join(""),k.id=h,(l?k:m).innerHTML+=f,m.appendChild(k),l||(m.style.background="",g.appendChild(m)),i=c(k,a),l?k.parentNode.removeChild(k):m.parentNode.removeChild(m),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e});var G=function(a,c){var d=a.join(""),f=c.length;w(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],g=d?d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"":"",h=a.childNodes,i={};while(f--)i[h[f].id]=h[f];e.csstransforms3d=(i.csstransforms3d&&i.csstransforms3d.offsetLeft)===9&&i.csstransforms3d.offsetHeight===3},f,c)}([,["@media (",m.join("transform-3d),("),h,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join("")],[,"csstransforms3d"]);q.csstransforms3d=function(){var a=!!F("perspective");return a&&"webkitPerspective"in g.style&&(a=e.csstransforms3d),a},q.csstransitions=function(){return F("transition")};for(var H in q)y(q,H)&&(v=H.toLowerCase(),e[v]=q[H](),t.push((e[v]?"":"no-")+v));return z(""),i=k=null,function(a,b){function g(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function h(){var a=k.elements;return typeof a=="string"?a.split(" "):a}function i(a){var b={},c=a.createElement,e=a.createDocumentFragment,f=e();a.createElement=function(a){var e=(b[a]||(b[a]=c(a))).cloneNode();return k.shivMethods&&e.canHaveChildren&&!d.test(a)?f.appendChild(e):e},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+h().join().replace(/\w+/g,function(a){return b[a]=c(a),f.createElement(a),'c("'+a+'")'})+");return n}")(k,f)}function j(a){var b;return a.documentShived?a:(k.shivCSS&&!e&&(b=!!g(a,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),f||(b=!i(a)),b&&(a.documentShived=b),a)}var c=a.html5||{},d=/^<|^(?:button|form|map|select|textarea)$/i,e,f;(function(){var a=b.createElement("a");a.innerHTML="<xyz></xyz>",e="hidden"in a,f=a.childNodes.length==1||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()})();var k={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:j};a.html5=k,j(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return o.call(a)=="[object Function]"}function e(a){return typeof a=="string"}function f(){}function g(a){return!a||a=="loaded"||a=="complete"||a=="uninitialized"}function h(){var a=p.shift();q=1,a?a.t?m(function(){(a.t=="c"?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){a!="img"&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l={},o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};y[c]===1&&(r=1,y[c]=[],l=b.createElement(a)),a=="object"?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),a!="img"&&(r||y[c]===2?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i(b=="c"?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),p.length==1&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&o.call(a.opera)=="[object Opera]",l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return o.call(a)=="[object Array]"},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,i){var j=b(a),l=j.autoCallback;j.url.split(".").pop().split("?").shift(),j.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]||h),j.instead?j.instead(a,e,f,g,i):(y[j.url]?j.noexec=!0:y[j.url]=1,f.load(j.url,j.forceCSS||!j.forceJS&&"css"==j.url.split(".").pop().split("?").shift()?"c":c,j.noexec,j.attrs,j.timeout),(d(e)||d(l))&&f.load(function(){k(),e&&e(j.origUrl,i,g),l&&l(j.origUrl,i,g),y[j.url]=2})))}function i(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var j,l,m=this.yepnope.loader;if(e(a))g(a,0,m,0);else if(w(a))for(j=0;j<a.length;j++)l=a[j],e(l)?g(l,0,m,0):w(l)?B(l):Object(l)===l&&i(l,m);else Object(a)===a&&i(a,m)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};



<!--
//v1.7
// Flash Player Version Detection
// Detect Client Browser type
// Copyright 2005-2008 Adobe Systems Incorporated.  All rights reserved.
var isIE  = (navigator.appVersion.indexOf("MSIE") != -1) ? true : false;
var isWin = (navigator.appVersion.toLowerCase().indexOf("win") != -1) ? true : false;
var isOpera = (navigator.userAgent.indexOf("Opera") != -1) ? true : false;
function ControlVersion()
{
	var version;
	var axo;
	var e;
	// NOTE : new ActiveXObject(strFoo) throws an exception if strFoo isn't in the registry
	try {
		// version will be set for 7.X or greater players
		axo = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");
		version = axo.GetVariable("$version");
	} catch (e) {
	}
	if (!version)
	{
		try {
			// version will be set for 6.X players only
			axo = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");
			
			// installed player is some revision of 6.0
			// GetVariable("$version") crashes for versions 6.0.22 through 6.0.29,
			// so we have to be careful. 
			
			// default to the first public version
			version = "WIN 6,0,21,0";
			// throws if AllowScripAccess does not exist (introduced in 6.0r47)		
			axo.AllowScriptAccess = "always";
			// safe to call for 6.0r47 or greater
			version = axo.GetVariable("$version");
		} catch (e) {
		}
	}
	if (!version)
	{
		try {
			// version will be set for 4.X or 5.X player
			axo = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");
			version = axo.GetVariable("$version");
		} catch (e) {
		}
	}
	if (!version)
	{
		try {
			// version will be set for 3.X player
			axo = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");
			version = "WIN 3,0,18,0";
		} catch (e) {
		}
	}
	if (!version)
	{
		try {
			// version will be set for 2.X player
			axo = new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
			version = "WIN 2,0,0,11";
		} catch (e) {
			version = -1;
		}
	}
	
	return version;
}
// JavaScript helper required to detect Flash Player PlugIn version information
function GetSwfVer(){
	// NS/Opera version >= 3 check for Flash plugin in plugin array
	var flashVer = -1;
	
	if (navigator.plugins != null && navigator.plugins.length > 0) {
		if (navigator.plugins["Shockwave Flash 2.0"] || navigator.plugins["Shockwave Flash"]) {
			var swVer2 = navigator.plugins["Shockwave Flash 2.0"] ? " 2.0" : "";
			var flashDescription = navigator.plugins["Shockwave Flash" + swVer2].description;
			var descArray = flashDescription.split(" ");
			var tempArrayMajor = descArray[2].split(".");			
			var versionMajor = tempArrayMajor[0];
			var versionMinor = tempArrayMajor[1];
			var versionRevision = descArray[3];
			if (versionRevision == "") {
				versionRevision = descArray[4];
			}
			if (versionRevision[0] == "d") {
				versionRevision = versionRevision.substring(1);
			} else if (versionRevision[0] == "r") {
				versionRevision = versionRevision.substring(1);
				if (versionRevision.indexOf("d") > 0) {
					versionRevision = versionRevision.substring(0, versionRevision.indexOf("d"));
				}
			}
			var flashVer = versionMajor + "." + versionMinor + "." + versionRevision;
		}
	}
	// MSN/WebTV 2.6 supports Flash 4
	else if (navigator.userAgent.toLowerCase().indexOf("webtv/2.6") != -1) flashVer = 4;
	// WebTV 2.5 supports Flash 3
	else if (navigator.userAgent.toLowerCase().indexOf("webtv/2.5") != -1) flashVer = 3;
	// older WebTV supports Flash 2
	else if (navigator.userAgent.toLowerCase().indexOf("webtv") != -1) flashVer = 2;
	else if ( isIE && isWin && !isOpera ) {
		flashVer = ControlVersion();
	}	
	return flashVer;
}
// When called with reqMajorVer, reqMinorVer, reqRevision returns true if that version or greater is available
function DetectFlashVer(reqMajorVer, reqMinorVer, reqRevision)
{
	versionStr = GetSwfVer();
	if (versionStr == -1 ) {
		return false;
	} else if (versionStr != 0) {
		if(isIE && isWin && !isOpera) {
			// Given "WIN 2,0,0,11"
			tempArray         = versionStr.split(" "); 	// ["WIN", "2,0,0,11"]
			tempString        = tempArray[1];			// "2,0,0,11"
			versionArray      = tempString.split(",");	// ['2', '0', '0', '11']
		} else {
			versionArray      = versionStr.split(".");
		}
		var versionMajor      = versionArray[0];
		var versionMinor      = versionArray[1];
		var versionRevision   = versionArray[2];
        	// is the major.revision >= requested major.revision AND the minor version >= requested minor
		if (versionMajor > parseFloat(reqMajorVer)) {
			return true;
		} else if (versionMajor == parseFloat(reqMajorVer)) {
			if (versionMinor > parseFloat(reqMinorVer))
				return true;
			else if (versionMinor == parseFloat(reqMinorVer)) {
				if (versionRevision >= parseFloat(reqRevision))
					return true;
			}
		}
		return false;
	}
}
function AC_AddExtension(src, ext)
{
  if (src.indexOf('?') != -1)
    return src.replace(/\?/, ext+'?'); 
  else
    return src + ext;
}
function AC_Generateobj(objAttrs, params, embedAttrs) 
{ 
  var str = '';
  if (isIE && isWin && !isOpera)
  {
    str += '<object ';
    for (var i in objAttrs)
    {
      str += i + '="' + objAttrs[i] + '" ';
    }
    str += '>';
    for (var i in params)
    {
      str += '<param name="' + i + '" value="' + params[i] + '" /> ';
    }
    str += '</object>';
  }
  else
  {
    str += '<embed ';
    for (var i in embedAttrs)
    {
      str += i + '="' + embedAttrs[i] + '" ';
    }
    str += '> </embed>';
  }
  document.write(str);
}
function AC_FL_RunContent(){
  var ret = 
    AC_GetArgs
    (  arguments, ".swf", "movie", "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
     , "application/x-shockwave-flash"
    );
  AC_Generateobj(ret.objAttrs, ret.params, ret.embedAttrs);
}
function AC_SW_RunContent(){
  var ret = 
    AC_GetArgs
    (  arguments, ".dcr", "src", "clsid:166B1BCA-3F9C-11CF-8075-444553540000"
     , null
    );
  AC_Generateobj(ret.objAttrs, ret.params, ret.embedAttrs);
}
function AC_GetArgs(args, ext, srcParamName, classid, mimeType){
  var ret = new Object();
  ret.embedAttrs = new Object();
  ret.params = new Object();
  ret.objAttrs = new Object();
  for (var i=0; i < args.length; i=i+2){
    var currArg = args[i].toLowerCase();    
    switch (currArg){	
      case "classid":
        break;
      case "pluginspage":
        ret.embedAttrs[args[i]] = args[i+1];
        break;
      case "src":
      case "movie":	
        args[i+1] = AC_AddExtension(args[i+1], ext);
        ret.embedAttrs["src"] = args[i+1];
        ret.params[srcParamName] = args[i+1];
        break;
      case "onafterupdate":
      case "onbeforeupdate":
      case "onblur":
      case "oncellchange":
      case "onclick":
      case "ondblclick":
      case "ondrag":
      case "ondragend":
      case "ondragenter":
      case "ondragleave":
      case "ondragover":
      case "ondrop":
      case "onfinish":
      case "onfocus":
      case "onhelp":
      case "onmousedown":
      case "onmouseup":
      case "onmouseover":
      case "onmousemove":
      case "onmouseout":
      case "onkeypress":
      case "onkeydown":
      case "onkeyup":
      case "onload":
      case "onlosecapture":
      case "onpropertychange":
      case "onreadystatechange":
      case "onrowsdelete":
      case "onrowenter":
      case "onrowexit":
      case "onrowsinserted":
      case "onstart":
      case "onscroll":
      case "onbeforeeditfocus":
      case "onactivate":
      case "onbeforedeactivate":
      case "ondeactivate":
      case "type":
      case "codebase":
      case "id":
        ret.objAttrs[args[i]] = args[i+1];
        break;
      case "width":
      case "height":
      case "align":
      case "vspace": 
      case "hspace":
      case "class":
      case "title":
      case "accesskey":
      case "name":
      case "tabindex":
        ret.embedAttrs[args[i]] = ret.objAttrs[args[i]] = args[i+1];
        break;
      default:
        ret.embedAttrs[args[i]] = ret.params[args[i]] = args[i+1];
    }
  }
  ret.objAttrs["classid"] = classid;
  if (mimeType) ret.embedAttrs["type"] = mimeType;
  return ret;
}


(function($) {

// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //
// ----------------------------------------- DATA ----------------------------------------- //
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //

	var Data = {

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ defaults

		//default settings values
		defaults: {
			//style
			width: '100%', 
			size: 'medium', 
			themes: [], 
			//texts
			placeholder: 'Select an item', 
			//controls
			removable: false, 
			empty: false, 
			search: false, 
			//ajax
			ajax: false, 
			data: {}, 
			//positionning
			scrollContainer: null, 
			zIndex: null
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ setDefaults

		//set default settings values
		setup: function(opts) {
			//controls provided settings keys
			var defKeys = Object.keys(this.defaults);
			var optKeys = Object.keys(opts);
			var isOk = true;
			optKeys.forEach(function(k) {
				if($.inArray(k, defKeys) === -1) {
					console.error('selectMania | wrong setup settings');
					isOk = false;
				}
			});
			//if provided settings are ok
			if(isOk) {
				this.defaults = $.extend(true, {}, Data.defaults, opts);
			}
		}

	};

// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //
// ---------------------------------------- ENGINE ---------------------------------------- //
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //

	var Engine = {

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ internalSettings

		//insert internal data into settings object
		internalSettings: function($originalSelect, settings) {
			var thisEngine = this;
			//initialize interal data
			settings.multiple = false;
			settings.values = [];
			//if select is multiple
			settings.multiple = $originalSelect.is('[multiple]');
			//if select is disabled
			settings.disabled = $originalSelect.is('[disabled]');
			//loop through selected options
			$originalSelect.find('option:selected').each(function() {
				//insert selected value data
				settings.values.push({
					value: this.value, 
					text: this.text
				});
			});
			//send back settings
			return settings;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ getAttrSettings

		//get selectMania settings stored as attributes
		getAttrSettings: function($originalSelect) {
			var attrData = {};
			//available attributes
			var attrs = ['width','size','placeholder','removable','empty','search','scrollContainer','zIndex'];
			//loop through attributes
			attrs.forEach(function(attr) {
				//if attribute is set on select
				if($originalSelect.is('[data-'+attr+']')) {
					//insert data
					var elAttr = $originalSelect.attr('data-'+attr);
					if(elAttr === 'true' || elAttr === 'false') {
						elAttr = elAttr === 'true';
					}
					attrData[attr] = elAttr;
				}
			});
			//send back select attributes data
			return attrData;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ initialize

		//initialize selectMania on original select
		initialize: function($originalSelect, userSettings) {
			var thisEngine = this;
			//clone settings before starting work
			var settings = $.extend(true, {}, userSettings);
			//get select settings stored as attributes
			var attrSettings = thisEngine.getAttrSettings($originalSelect);
			//merge settings with attributes
			settings = $.extend(settings, attrSettings);
			//set selected value as empty if explicitly asked
			if(settings.empty) {
				$originalSelect.val('');
			}
			//insert internal data into settings
			settings = thisEngine.internalSettings($originalSelect, settings);
			//control ajax function type and size
			if(thisEngine.controlSettings($originalSelect, settings)) {
				//build selectMania elements
				var $builtSelect = Build.build($originalSelect, settings);
				//attach original select element to selectMania element
				$builtSelect.data('selectMania-originalSelect', $originalSelect);
				//attach selectMania element to original select element
				$originalSelect.data('selectMania-element', $builtSelect);
				//if ajax is activated
				if(settings.ajax !== false) {
					//initialize ajax data
					thisEngine.initAjax($builtSelect, settings);
				}
				//update clean values icon display
				thisEngine.updateClean($builtSelect);
				//add witness / hding class original select element
				$originalSelect.addClass('select-mania-original');
				//insert selectMania element before original select
				$builtSelect.insertBefore($originalSelect);
				//move original select into selectMania element
				$originalSelect.appendTo($builtSelect);
				//bind selectMania element
				Binds.bind($builtSelect);
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ update

		//update selectMania element according to original select element
		update: function($originalSelect) {
			var thisEngine = this;
			//selectMania elements
			var $selectManiaEl = $originalSelect.data('selectMania-element');
			var $valueList = $selectManiaEl.find('.select-mania-values').first();
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			var $itemList = $dropdown.find('.select-mania-items').first();
			//update disabled status
			if($originalSelect.is('[disabled]')) {
				$selectManiaEl.addClass('select-mania-disabled');
			}
			else {
				$selectManiaEl.removeClass('select-mania-disabled');
			}
			//remove selectMania values and items
			$selectManiaEl.find('.select-mania-value').remove();
			$itemList.empty();
			//build and insert selected values
			$originalSelect.find('option:selected').each(function() {
				if($(this).is(':selected')) {
					$valueList.append(Build.buildValue({
						value: this.value, 
						text: this.text
					}));
				}
			});
			//build and insert items
			$itemList.append(Build.buildItemList($originalSelect.children()));
			//update clean values icon display
			thisEngine.updateClean($selectManiaEl);
			//rebind selectMania element
			Binds.bind($selectManiaEl);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ destroy

		//destroy selectMania on targeted original select
		destroy: function($originalSelect) {
			//selectMania element
			var $selectManiaEl = $originalSelect.data('selectMania-element');
			//move original select out of the selectMania element
			$originalSelect.insertAfter($selectManiaEl);
			//remove selectMania element
			$selectManiaEl.remove();
			//remove class from original select
			$originalSelect.removeClass('select-mania-original');
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ openDropdown / closeDropdown

		//open items dropdown
		openDropdown: function($dropdown) {
			var thisEngine = this;
			//select-mania element
			var $selectManiaEl = $dropdown.closest('.select-mania');
			//if scroll container option is set
			if($selectManiaEl.is('[data-selectMania-scrollContainer]')) {
				//scroll container element
				var $scrollContainer = $($selectManiaEl.attr('data-selectMania-scrollContainer'));
				//position absolute dropdown
				Engine.positionDropdown($dropdown);
				//apply positionning class
				$dropdown.addClass('select-mania-absolute');
				//bind scroll container to close dropdown on scroll
				$scrollContainer.off('scroll.selectMania').on('scroll.selectMania', function() {
					//unbind close dropdown on scrolling
					$scrollContainer.off('scroll.selectMania');
					//close open dropdown
					Engine.closeDropdown($('.select-mania-dropdown.open'));
				});
				//reposition dropdown when window is resized
				$(window).off('resize.selectMania').on('resize.selectMania', function() {
					//position absolute dropdown
					Engine.positionDropdown($dropdown);
				});
			}
			//open dropdown
			$dropdown.stop().addClass('open').slideDown(100);
			//scroll dropdown to top
			$dropdown.find('.select-mania-items').scrollTop(0);
			//focus search input
			thisEngine.focusSearch($dropdown);
			//bind keyboard control
			$(document).off('keydown.selectMania').on('keydown.selectMania', Binds.keyboardControl);
		}, 

		//close items dropdown
		closeDropdown: function($dropdown) {
			var $selectManiaEl = $dropdown.data('selectMania-element');
			//unbind keyboard control
			$(document).off('keydown.selectMania');
			//remove every hover class from items
			$dropdown.find('.select-mania-item').removeClass('select-mania-hover');
			//if dropdown has aboslute positionning
			if($dropdown.hasClass('select-mania-absolute')) {
				//select-mania inner element
				var $selectManiaInner = $dropdown
					.data('selectMania-element')
					.find('.select-mania-inner')
					.first();
				//move back the dropdown inside select-mania element
				$dropdown
					.removeClass('open')
					.hide()
					.insertAfter(
						$selectManiaInner
					);
				//unbind repositioning on resize
				$(window).off('resize.selectMania');
				//unbind close dropdown on scrolling
				var $scrollContainer = $($selectManiaEl.attr('data-selectMania-scrollContainer'));
				if($scrollContainer.length > 0) {
					$scrollContainer.off('scroll.selectMania');
				}
			}
			//if dropdown has standard positionning
			else {
				//close dropdown
				$dropdown.stop().removeClass('open').slideUp(100);
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ positionDropdown

		//position dropdown relative to its select-mania element
		positionDropdown: function($dropdown) {
			var $selectManiaEl = $dropdown.data('selectMania-element');
			//item list scroll data
			var $itemList = $dropdown.find('.select-mania-items');
			var itemListScroll = $itemList.scrollTop();
			//data for calculating dropdown absolute position
			var selectManiaElPos = $selectManiaEl.offset();
			var selectManiaElWidth = $selectManiaEl.outerWidth();
			var selectManiaElHeight = $selectManiaEl.outerHeight();
			//append dropdown to body in absolute position
			$dropdown.appendTo('body').css({
				position: 'absolute', 
				top: selectManiaElPos.top + selectManiaElHeight, 
				left: selectManiaElPos.left, 
				width: selectManiaElWidth
			});
			//force item list scroll to its initial state
			$itemList.scrollTop(itemListScroll);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ selectItem

		//perform item selection in dropdown
		selectItem: function($item) {
			//dropdown element
			var $dropdown = $item.closest('.select-mania-dropdown');
			//selectMania element
			var $selectManiaEl = $dropdown.data('selectMania-element');
			//select original element
			var $originalSelect = $selectManiaEl.data('selectMania-originalSelect');
			//if item not already selected
			if(!$item.is('.select-mania-selected')) {
				//clicked item value
				var itemVal = $item.attr('data-value');
				
				//build value element
				var $value = Build.buildValue({
					
					value: itemVal, 
					text: $item.text()
				});
				//if select multiple
				if($selectManiaEl.is('.select-mania-multiple')) {
					//insert value element in selectMania values
					$selectManiaEl.find('.select-mania-values').append($value);
					//add value in original select element
					Engine.addMultipleVal($originalSelect, itemVal);
				}
				//if select not multiple
				else {
					//unselect every other items
					$dropdown.find('.select-mania-item').removeClass('select-mania-selected');
					//insert value element in selectMania values
					$selectManiaEl.find('.select-mania-values .select-mania-value').remove();
					$selectManiaEl.find('.select-mania-values').append($value);
					//change value in original select element
					$originalSelect.val(itemVal);
				}
				//set clicked item as selected
				$item.addClass('select-mania-selected');
				//trigger original select change event
				$originalSelect.trigger('change');
			}
			//if absolute position dropdown
			if($dropdown.is('.select-mania-absolute')) {
				//position absolute dropdown
				Engine.positionDropdown($dropdown);
			}
			//if select not multiple
			if(!$selectManiaEl.is('.select-mania-multiple')) {
				//close dropdown
				Engine.closeDropdown($dropdown);
			}
			//update clear values icon display
			Engine.updateClean($selectManiaEl);
			//rebind selectMania element
			Binds.bind($selectManiaEl);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ focusSearch

		//focus search input in dropdown
		focusSearch: function($dropdown) {
			$dropdown.find('.select-mania-search-input').focus();
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ addMultipleVal

		//add value to multiple original select
		addMultipleVal: function($originalSelect, val) {
			var originalVals = $originalSelect.val();
			if(!(originalVals instanceof Array)) {
				originalVals = [];
			}
			originalVals.push(val);
			$originalSelect.val(originalVals);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ removeMultipleVal

		//remove value from multiple original select
		removeMultipleVal: function($originalSelect, val) {
			var originalVals = $originalSelect.val();
			if(!(originalVals instanceof Array)) {
				originalVals = [];
			}
			originalVals.splice($.inArray(val, originalVals), 1);
			$originalSelect.val(originalVals);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ updateClean

		//display / hide clean values icon according to current values
		updateClean: function($selectManiaEl) {
			//original select element
			var $originalSelect = $selectManiaEl.data('selectMania-originalSelect');
			//if value is not empty
			if($originalSelect.val() !== null && $originalSelect.val().length > 0) {
				//display clean values icon
				$selectManiaEl.find('.select-mania-clear-icon').show();
			}
			//if empty value
			else {
				//hide clean values icon
				$selectManiaEl.find('.select-mania-clear-icon').hide();
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ doSearch

		//do search in items dropdown
		doSearch: function($selectManiaEl) {
			//dropdown
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//search value
			var searchVal = $dropdown.find('.select-mania-search-input').first().val().toLowerCase().trim();
			//if empty search value
			if(searchVal === '') {
				//display all items
				$dropdown.find('.select-mania-group, .select-mania-item').removeClass('select-mania-hidden');
				//stop function
				return;
			}
			//loop through dropdown items
			$dropdown.find('.select-mania-item').each(function() {
				//if item text matches search value
				if($(this).text().toLowerCase().indexOf(searchVal) !== -1) {
					//display item
					$(this).removeClass('select-mania-hidden');
				}
				//if item text don't match search value
				else {
					//hide item
					$(this).addClass('select-mania-hidden');
				}
			});
			//show / hide optgroups if contain results / empty
			$dropdown.find('.select-mania-group').each(function() {
				if($(this).find('.select-mania-item:not(.select-mania-hidden)').length > 0) {
					$(this).removeClass('select-mania-hidden');
				}
				else {
					$(this).addClass('select-mania-hidden');
				}
			});
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ doSearchAjax

		//do ajax search in items dropdown
		doSearchAjax: function($selectManiaEl) {
			var thisEngine = this;
			//dropdown
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//search value
			var thisSearch = $dropdown.find('.select-mania-search-input').first().val();
			//pause ajax scroll
			$selectManiaEl.data('selectMania-ajaxReady', false);
			//reset current page number
			$selectManiaEl.data('selectMania-ajaxPage', 1);
			//loading icon
			thisEngine.dropdownLoading($selectManiaEl);
			//call ajax function
			var thisAjaxFunction = $selectManiaEl.data('selectMania-ajaxFunction');
			var thisAjaxData = $selectManiaEl.data('selectMania-ajaxData');
			thisAjaxFunction(thisSearch, 1, thisAjaxData, function(optHTML) {
				//remove loading icon
				thisEngine.dropdownLoading($selectManiaEl, true);
				//replace current items with sent options
				Engine.replaceItems($selectManiaEl, optHTML);
				//rebind select
				Binds.bind($selectManiaEl);
				//reset ajax scroll data
				thisEngine.initAjax($selectManiaEl);
			});
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ addItems / replaceItems

		//add items to dropdown
		addItems: function($selectManiaEl, optionsHTML) {
			var thisEngine = this;
			thisEngine.addOrReplaceItems($selectManiaEl, optionsHTML, false);
		}, 

		//replace dropdown items
		replaceItems: function($selectManiaEl, optionsHTML) {
			var thisEngine = this;
			thisEngine.addOrReplaceItems($selectManiaEl, optionsHTML, true);
		}, 

		//add / replace dropdown items
		addOrReplaceItems: function($selectManiaEl, optionsHTML, replace) {
			var thisEngine = this;
			//dropdown
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//original select element
			var $originalSelect = $selectManiaEl.data('selectMania-originalSelect');
			//items dropdown
			var $itemsContainer = $dropdown.find('.select-mania-items');
			//options jquery parsing
			var $options = $(optionsHTML);
			//get selectMania element values
			var selectedVals = thisEngine.getVal($selectManiaEl);
			//loop through selected values
			selectedVals.forEach(function(val) {
				$options
					//search for options matching selected value
					.filter(function() {
						return $(this).attr('value') === val.value && $(this).text() === val.text;
					})
					//set matching options as selected
					.prop('selected', true);
			});
			//build items list
			$builtItems = Build.buildItemList($options);
			//if items are meant to be replaced
			if(replace === true) {
				//empty old options except selected ones
				$originalSelect.find('option').remove(':not(:checked)');
				//empty items dropdown
				$itemsContainer.empty();
			}
			//add items to selectMania dropdown
			$itemsContainer.append($builtItems);
			//add options to original select element
			$originalSelect.append($options);
			//rebind selectMania element
			Binds.bind($selectManiaEl);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ initAjax

		//reset selectMania element ajax data and attach ajax function
		initAjax: function($selectManiaEl, settings) {
			//if ajax settings are provided to be attached
			if(typeof settings === 'object') {
				//attach ajax function
				if(settings.hasOwnProperty('ajax') && typeof settings.ajax === 'function') {
					$selectManiaEl.data('selectMania-ajaxFunction', settings.ajax);
				}
				//attach ajax data
				if(settings.hasOwnProperty('data') && typeof settings.data === 'object') {
					$selectManiaEl.data('selectMania-ajaxData', settings.data);
				}
			}
			//reset ajax data
			$selectManiaEl.data('selectMania-ajaxPage', 1);
			$selectManiaEl.data('selectMania-ajaxReady', true);
			$selectManiaEl.data('selectMania-ajaxScrollDone', false);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ dropdownLoading

		//display / hide loading icon inside items dropdown
		dropdownLoading: function($selectManiaEl, hide) {
			//if hide icon requested
			var isHide = false;
			if(typeof hide !== 'undefined' && hide === true) {
				isHide = true;
			}
			//dropdown inner list element
			var $dropdownContainer = $selectManiaEl.find('.select-mania-items-container').first();
			//remove loading icon if exists
			$dropdownContainer.find('.icon-loading-container').remove();
			//if show icon requested
			if(isHide !== true) {
				//build loading icon
				var $loadingIcon = $('<div class="icon-loading-container"></div>');
				$loadingIcon.append('<i class="icon-loading"></i>');
				//insert loading icon
				$dropdownContainer.append($loadingIcon);
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ getVal

		//get parsed selected values
		getVal: function($selectManiaEl) {
			var valObjs = [];
			//loop though values elements
			$selectManiaEl.find('.select-mania-value').each(function() {
				//selected value text
				var thisText = $(this).find('.select-mania-value-text').first().text();
				//insert selected value object
				valObjs.push({
					 
					value: $(this).attr('data-value'), 
					text: thisText
				});
			});
			//send back parsed selected values
			return valObjs;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ clear

		//clear select values
		clear: function($selectManiaEl) {
			//dropdown
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//empty selectMania values
			$selectManiaEl.find('.select-mania-value').remove();
			//unselect items in dropdown
			$dropdown.find('.select-mania-item').removeClass('select-mania-selected');
			//empty values in original select element
			var $originalSelect = $selectManiaEl.data('selectMania-originalSelect');
			if($selectManiaEl.is('.select-mania-multiple')) {
				$originalSelect.val([]);
			}
			else {
				$originalSelect.val('');
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ setVal

		//set parsed values as selected values
		setVal: function($selectManiaEl, valObjs) {
			var thisEngine = this;
			//original select element
			var $originalSelect = $selectManiaEl.data('selectMania-originalSelect');
			//clear select values before setting provided values
			thisEngine.clear($selectManiaEl);
			//if there's more than one value in the values and select is not multiple
			if(valObjs.length > 1 && !$selectManiaEl.is('.select-mania-multiple')) {
				//keep only first value
				valObjs = valObjs.slice(0, 1);
			}
			//loop through values
			valObjs.forEach(function(val) {
				//parse value object
				var valObj = $.extend({
					value: '', 
					text: '', 
					selected: true
				}, val);
				//set value in selectMania element
				thisEngine.setOneValSelectMania($selectManiaEl, valObj);
				//set value in original select
				thisEngine.setOneValOriginal($originalSelect, valObj);
			});
			//update clean values icon display
			thisEngine.updateClean($selectManiaEl);
			//rebind selectMania element
			Binds.bind($selectManiaEl);
		}, 

		//set one value on selectMania element
		setOneValSelectMania: function($selectMania, valObj) {
			//build value element for selectMania element
			var $value = Build.buildValue(valObj);
			//insert built value element in selectMania element
			$selectMania.find('.select-mania-values').append($value);
			//check if corresponding item exists in dropdown
			var $searchItem = $selectMania.find('.select-mania-item[data-value="'+valObj.value+'"]').filter(function() {
				return $(this).text() === valObj.text;
			});
			//if item exists in dropdown
			if($searchItem.length > 0) {
				//set item as selected
				$searchItem.first().addClass('select-mania-selected');
			}
		}, 

		//set one value on original select element
		setOneValOriginal: function($originalSelect, valObj) {
			//check if corresponding option exists in original select
			var $searchOpt = $originalSelect.find('option[value="'+valObj.value+'"]').filter(function() {
				return $(this).text() === valObj.text;
			});
			//if option doesn't exist in original select
			if($searchOpt.length < 1) {
				//build option for original select
				var $option = Build.buildOption(valObj);
				//insert built option in original select
				$originalSelect.append($option);
			}
			//if option already exists in original select
			else {
				//fond option element
				var $foundOption = $searchOpt.first();
				//set option as selected
				$foundOption[0].selected = true;
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ controls

		//control target element
		controlTarget: function($target, controls) {
			//error if element is not a select
			if($.inArray('isSelect', controls) !== -1 && !$target.is('select')) {
				console.error('selectMania | invalid select element');
				console.log($target[0]);
				return false;
			}
			//error if plugin not initialized
			if($.inArray('isInitialized', controls) !== -1 && !$target.hasClass('select-mania-original')) {
				console.error('selectMania | select is not initialized');
				console.log($target[0]);
				return false;
			}
			//error if plugin already initialized
			if($.inArray('notInitialized', controls) !== -1 && $target.hasClass('select-mania-original')) {
				console.error('selectMania | ignore because already initialized');
				console.log($target[0]);
				return false;
			}
			//control method was called on single element
			if($.inArray('isSingle', controls) !== -1 && $target.length > 1) {
				console.error('selectMania | check method can be called on single element only');
				console.log($target[0]);
				return false;
			}
			//if control ok
			return true;
		}, 

		//control selectMania settings
		controlSettings: function($target, settings) {
			//control ajax function type
			if(settings.ajax !== false && typeof settings.ajax !== 'function') {
				settings.ajax = false;
				console.error('selectMania | invalid ajax function');
				console.log($target[0]);
				console.log(settings);
				return false;
			}
			//error if invalid size provided
			if($.inArray(settings.size, ['tiny','small','medium','large']) === -1) {
				settings.size = 'medium';
				console.error('selectMania | invalid size');
				console.log($target[0]);
				console.log(settings);
				return false;
			}
			//error if invalid sroll container provided
			if(settings.scrollContainer !== null && $(settings.scrollContainer).length < 1) {
				settings.scrollContainer = null;
				console.error('selectMania | invalid scroll container');
				console.log($target[0]);
				console.log(settings);
				return false;
			}
			//error if invalid sroll container provided
			if(settings.zIndex !== null && (isNaN(parseInt(settings.zIndex)) || !isFinite(settings.zIndex))) {
				settings.zIndex = null;
				console.error('selectMania | invalid z-index');
				console.log($target[0]);
				console.log(settings);
				return false;
			}
			//if control ok
			return true;
		}, 

		//control selectMania values
		controlValues: function($target, values) {
			//error if values is not an array
			if(!(values instanceof Array)) {
				console.error('selectMania | values parameter is not a valid array');
				console.log($target[0]);
				console.log(values);
				return false;
			}
			//if control ok
			return true;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ navigateItem

		//navigate hover to next or previous item in dropdown
		navigateItem: function($dropdown, nextOrPrevious) {
			//selectMania element
			var $selectManiaEl = $dropdown.closest('.select-mania');
			//item scrollable list
			var $itemList = $dropdown.find('.select-mania-items');
			//active enabled items
			var validItemSelector = '.select-mania-item:not(.select-mania-disabled):not(.select-mania-hidden)';
			if($selectManiaEl.hasClass('select-mania-multiple')) {
				validItemSelector += ':not(.select-mania-selected)';
			}
			var $validItems = $dropdown.find(validItemSelector);
			//current hovered item
			var $hoveredItem = $dropdown.find(validItemSelector+'.select-mania-hover');
			//item to target
			var $targetItem = $();
			//if there is currently a hovered item
			if($hoveredItem.length > 0) {
				//if arrow up get previous item
				if(nextOrPrevious === 'next') {
					$targetItem = $validItems.slice($validItems.index($hoveredItem) + 1).first();
				}
				//if arrow down get next item
				else if(nextOrPrevious === 'previous') {
					$targetItem = $validItems.slice(0, $validItems.index($hoveredItem)).last();
				}
			}
			//no current hovered item
			else {
				//hovers first item
				$targetItem = $validItems.first();
			}
			//if target item exists hover this item
			if($targetItem.length > 0) {
				//remove hover from every item
				$dropdown.find('.select-mania-item').removeClass('select-mania-hover');
				//add hover class to target item
				$targetItem.addClass('select-mania-hover');
				//data for item visibility calculation
				var $targetItemPosition = $targetItem.position();
				var $targetItemHeight = $targetItem.outerHeight(true);
				var $itemListHeight = $itemList.height();
				var $itemListScrollTop = $itemList.scrollTop();
				//if target item not visible in item list (above)
				if($targetItemPosition.top < 0) {
					//scroll to see item
					$itemList.scrollTop($itemListScrollTop + $targetItemPosition.top);
				}
				//if target item not visible in item list (below)
				else if($targetItemPosition.top + $targetItemHeight > $itemListHeight) {
					//scroll to see item
					$itemList.scrollTop($itemListScrollTop + $targetItemPosition.top + $targetItemHeight - $itemListHeight);
				}
			}
		}

	};

// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //
// ---------------------------------------- BUILD ----------------------------------------- //
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //

var Build = {

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ build

		//build selectMania element
		build: function($originalSelect, settings) {
			var thisBuild = this;
			//class for selectMania size
			var sizeClass = 'select-mania-'+settings.size;
			//explicit selectMania width style
			var widthStyle = 'style="width:'+settings.width+';"';
			//general selectMania div
			var $selectManiaEl = $('<div class="select-mania '+sizeClass+'" '+widthStyle+'></div>');
			//class for multiple
			if(settings.multiple) {
				$selectManiaEl.addClass('select-mania-multiple');
			}
			//class for disabled
			if(settings.disabled) {
				$selectManiaEl.addClass('select-mania-disabled');
			}
			//classes for themes
			if(settings.themes instanceof Array && settings.themes.length > 0) {
				//loop through themes
				settings.themes.forEach(function(theme) {
					//applies theme class
					$selectManiaEl.addClass('select-mania-theme-'+theme);
				});
			}
			//class for activated ajax
			if(settings.ajax !== false) {
				$selectManiaEl.addClass('select-mania-ajax');
			}
			//attribute for scroll container
			if(settings.scrollContainer !== null) {
				$selectManiaEl.attr('data-selectMania-scrollContainer', settings.scrollContainer);
			}
			//build inner elements
			var $innerElements = thisBuild.buildInner(settings);
			//build dropdown
			var $dropdown = thisBuild.buildDropdown($originalSelect, settings);
			//insert elements
			$selectManiaEl.append($innerElements).append($dropdown);
			//attach dropdown to select-mania element
			$selectManiaEl.data('selectMania-dropdown', $dropdown);
			//attach select-mania element to dropdown
			$dropdown.data('selectMania-element', $selectManiaEl);
			//send back selectMania element
			return $selectManiaEl;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ buildInner

		//build inner elements
		buildInner: function(settings) {
			var thisBuild = this;
			//inner div
			var $inner = $('<div class="select-mania-inner"></div>');
			//values div
			var $values = $('<div class="select-mania-values"></div>');
			//insert placeholder
			var $placeholder = $('<div class="select-mania-placeholder">'+settings.placeholder+'</div>');
			$values.append($placeholder);
			//insert selected values
			settings.values.forEach(function(val) {
				$values.append(thisBuild.buildValue(val));
			});
			$inner.append($values);
			//insert clean values icon
			var $clean = $('<div class="select-mania-clear"></div>');
			if(settings.removable || settings.multiple) {
				$clean.append('<i class="select-mania-clear-icon icon-cross">');
			}
			$inner.append($clean);
			$inner.append('<div class="select-mania-add"><i class="select-mania-add-icon icon-add"></div>');
			//insert dropdown arrow icon
			$inner.append($('<div class="select-mania-arrow"><i class="select-mania-arrow-icon icon-arrow-down"></i></div>'));
			//send back inner elements
			return $inner;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ buildValue

		//build selected value
		buildValue: function(valObj) {
			//selected value element html
			var valHtml = '<div class="select-mania-value"  data-value="'+valObj.value+'">'+
				'<div class="select-mania-value-text">'+valObj.text+'</div>'+
				'<div class="select-mania-value-clear">'+
					'<i class="select-mania-value-clear-icon icon-cross"></i>'+
				'</div>'+
			'</div>';
			//send back selected value element
			return $(valHtml);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ buildOption

		//build option for original select
		buildOption: function(valObj) {
			//build option
			var $opt = $('<option value="'+valObj.value+'">'+valObj.text+'</option>');
			//set option selected status
			$opt[0].selected = valObj.selected;
			//send back option element
			return $opt;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ buildDropdown

		//build items dropdown
		buildDropdown: function($originalSelect, settings) {
			var thisBuild = this;
			//class for sizing
			var sizeClass = 'select-mania-'+settings.size;
			//dropdown element
			var $dropdown = $('<div class="select-mania-dropdown '+sizeClass+'"></div>');
			//classe si select multiple
			if(settings.multiple) {
				$dropdown.addClass('select-mania-multiple');
			}
			//insert search input in dropdown if activated
			if(settings.search) {
				var $dropdownSearch = $('<div class="select-mania-dropdown-search"></div>');
				$dropdownSearch.append('<input class="select-mania-search-input" />');
				$dropdown.append($dropdownSearch);
			}
			//build items container
			var $itemListContainer = $('<div class="select-mania-items-container"></div>');
			var $itemList = $('<div class="select-mania-items"></div>');
			//build and insert items list
			$itemList.append(thisBuild.buildItemList($originalSelect.children()));
			//insert items list into dropdown
			$itemListContainer.append($itemList);
			$dropdown.append($itemListContainer);
			//classes for themes
			if(settings.themes instanceof Array && settings.themes.length > 0) {
				//loop through themes
				settings.themes.forEach(function(theme) {
					//applies theme class
					$dropdown.addClass('select-mania-theme-'+theme);
				});
			}
			//if zIndex setting is set
			if(settings.zIndex !== null) {
				$dropdown.css('z-index', settings.zIndex);
			}
			//send back items dropdown
			return $dropdown;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ buildItemGroup

		//build items list
		buildItemList: function($optList) {
			var thisBuild = this;
			//empty item list
			var $itemList = $();
			//loop through original select children
			$optList.each(function() {
				//if optgroup
				if($(this).is('optgroup')) {
					//build and insert item group
					$itemList = $itemList.add(thisBuild.buildItemGroup($(this)));
				}
				//if option
				else if($(this).is('option')) {
					//build and insert item
					$itemList = $itemList.add(thisBuild.buildItem($(this)));
				}
			});
			//send back build items list
			return $itemList;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ buildItemGroup

		//build dropdown items group
		buildItemGroup: function($optgroupEl) {
			var thisBuild = this;
			//build group element
			var $group = $('<div class="select-mania-group"></div>');
			var $groupInner = $('<div class="select-mania-group-inner"></div>');
			//build group title element
			var $groupTitle = $('<div class="select-mania-group-title"></div>');
			//if group icon is set
			if($optgroupEl.is('[data-icon]')) {
				//insert group title icon
				$groupTitle.append('<div class="select-mania-group-icon"><i class="'+$optgroupEl.attr('data-icon')+'"></i></div>');
			}
			//insert group title text
			$groupTitle.append('<div class="select-mania-group-text">'+$optgroupEl.attr('label')+'</div>');
			//insert group title in group element
			$group.append($groupTitle);
			//if group is disabled set class
			var groupIsDisabled = $optgroupEl.is(':disabled');
			if(groupIsDisabled) {
				$group.addClass('select-mania-disabled');
			}
			//build and insert items
			$optgroupEl.find('option').each(function() {
				$groupInner.append(thisBuild.buildItem($(this), groupIsDisabled));
			});
			$group.append($groupInner);
			//send back items group
			return $group;
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ buildItem

		//build dropdown item
		buildItem: function($optionEl, forceDisabled) {
			var optionEl = $optionEl[0];
			
			//build item html
			var $item = $('<div class="select-mania-item" data-value="'+optionEl.value+'"></div>');
			//if option icon is set
			
			if($optionEl.is('[class]')) {
				//insert item icon
				$item.addClass($optionEl.attr('class'));
			}
			
			
			if($optionEl.is('[data-icon]')) {
				//insert item icon
				$item.append('<div class="select-mania-item-icon"><i class="'+$optionEl.attr('data-icon')+'"></i></div>');
			}
			//insert item text
			$item.append('<div class="select-mania-item-text">'+optionEl.text+'</div>');
			//if item is disabled set class
			if($optionEl.is(':disabled') || Tools.def(forceDisabled) === true) {
				$item.addClass('select-mania-disabled');
			}
			//if item is selected add class
			if($optionEl.is(':selected')) {
				$item.addClass('select-mania-selected');
			}
			//send back item
			return $item;
		}

	};

// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //
// ---------------------------------------- BINDS ----------------------------------------- //
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //

	var Binds = {

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ bind

		//bind all selectMania controls
		bind: function($selectManiaEl) {
			var thisBinds = this;
			//original select element
			var $originalSelect = $selectManiaEl.data('selectMania-originalSelect');
			//dropdown
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//if select is not disabled
			if(!$selectManiaEl.is('.select-mania-disabled')) {
				//click outside select
				$(document).off('click.selectMania').on('click.selectMania', thisBinds.documentClick);
				//focus / blur original select element
				$originalSelect.off('focus.selectMania').on('focus.selectMania', thisBinds.focus);
				$originalSelect.off('blur.selectMania').on('blur.selectMania', thisBinds.blur);
				//clear values
				$selectManiaEl.find('.select-mania-clear-icon').off('click.selectMania').on('click.selectMania', thisBinds.clearValues);
				
				// 
				//$selectManiaEl.find('.select-mania-add-icon').off('click.selectMania').on('click.selectMania', thisBinds.add_mania);
				
				
				//clear select multiple individual value
				$selectManiaEl.find('.select-mania-value-clear-icon').off('click.selectMania').on('click.selectMania', thisBinds.clearValue);
				//open / close dropdown
				$selectManiaEl.find('.select-mania-inner').off('click.selectMania').on('click.selectMania', thisBinds.dropdownToggle);
				//item hover in dropdown
				$dropdown.find('.select-mania-item:not(.select-mania-disabled)').off('mouseenter.selectMania').on('mouseenter.selectMania', thisBinds.hoverItem);
				//item selection in dropdown
				$dropdown.find('.select-mania-item:not(.select-mania-disabled)').off('click.selectMania').on('click.selectMania', thisBinds.itemSelection);
				//search input in dropdown
				$dropdown.find('.select-mania-search-input').off('input.selectMania').on('input.selectMania', thisBinds.inputSearch);
				//prevents body scroll when reached dropdown top or bottom
				$dropdown.find('.select-mania-items').off('wheel.selectMania').on('wheel.selectMania', thisBinds.scrollControl);
				//ajax scroll
				if($selectManiaEl.is('.select-mania-ajax')) {
					$dropdown.find('.select-mania-items').off('scroll.selectMania').on('scroll.selectMania', thisBinds.scrollAjax);
				}
			}
			//if select is disabled unbind controls
			else {
				//focus / blur original select element
				$originalSelect.off('focus.selectMania');
				$originalSelect.off('blur.selectMania');
				//clear values
				$selectManiaEl.find('.select-mania-clear-icon').off('click.selectMania');
				//clear select multiple individual value
				$selectManiaEl.find('.select-mania-value-clear-icon').off('click.selectMania');
				//open / close dropdown
				$selectManiaEl.find('.select-mania-inner').off('click.selectMania');
				//item hover in dropdown
				$dropdown.find('.select-mania-item:not(.select-mania-disabled)').off('mouseenter.selectMania');
				//item selection in dropdown
				$dropdown.find('.select-mania-item:not(.select-mania-disabled)').off('click.selectMania');
				//search input in dropdown
				$dropdown.find('.select-mania-search-input').off('input.selectMania');
				//prevents body scroll when reached dropdown top or bottom
				$dropdown.find('.select-mania-items').off('wheel.selectMania');
				//ajax scroll
				$dropdown.find('.select-mania-items').off('scroll.selectMania');
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ dropdownToggle

		//BIND ONLY - open / close dropdown
		dropdownToggle: function(e) {
			e.stopPropagation();
			//select-mania element
			var $selectManiaEl = $(this).closest('.select-mania');
			//dropdown element
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//if dropdown open
			if($dropdown.is('.open')) {
				//close dropdown
				Engine.closeDropdown($dropdown);
			}
			//if dropdown closed
			else {
				//close every open dropdown
				Engine.closeDropdown($('.select-mania-dropdown.open'));
				//open target dropdown
				Engine.openDropdown($dropdown);
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ documentClick

		//BIND ONLY - click outside select
		documentClick: function(e) {
			//if click not in open dropdown
			if($(e.target).closest('.select-mania-dropdown').length < 1) {
				//close every open dropdown
				Engine.closeDropdown($('.select-mania-dropdown.open'));
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ clearValues

		//BIND ONLY - clear values
		clearValues: function(e) {
			e.stopPropagation();
			//selectMania element
			var $selectManiaEl = $(this).closest('.select-mania');
			//dropdown
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//original select element
			var $originalSelect = $selectManiaEl.data('selectMania-originalSelect');
			//clear values
			Engine.clear($selectManiaEl);
			//if absolute position dropdown
			if($dropdown.is('.select-mania-absolute')) {
				//position absolute dropdown
				Engine.positionDropdown($dropdown);
			}
			//trigger original select change event
			$originalSelect.trigger('change');
			//update clear values icon display
			Engine.updateClean($selectManiaEl);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ clearValue
     /*
		add_mania: function(e) {
			e.stopPropagation();
			$('.select-mania').hide();	
			$('.add_sklad_pl').show();
			$('.new_sklad_name').val(1);
		},
	*/	
		//BIND ONLY - clear select multiple individual value
		clearValue: function(e) {
			e.stopPropagation();
			//selectMania element
			var $selectManiaEl = $(this).closest('.select-mania');
			//dropdown
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//value to delete
			var $value = $(this).closest('.select-mania-value');
			//unselect item in dropdown
			$dropdown
				.find('.select-mania-item[data-value="'+$value.attr('data-value')+'"]')
				.removeClass('select-mania-selected');
			//remove value from selectMania element
			$value.remove();
			//remove value from original select element
			var $originalSelect = $selectManiaEl.data('selectMania-originalSelect');
			Engine.removeMultipleVal($originalSelect, $value.attr('data-value'));
			//if absolute position dropdown
			if($dropdown.is('.select-mania-absolute')) {
				//position absolute dropdown
				Engine.positionDropdown($dropdown);
			}
			//trigger original select change event
			$originalSelect.trigger('change');
			//update clear values icon display
			Engine.updateClean($selectManiaEl);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ itemSelection

		//BIND ONLY - item selection in dropdown
		itemSelection: function() {
			var $selectedItem = $(this);
			//select item in dropdown
			Engine.selectItem($selectedItem);
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ inputSearch

		//BIND ONLY - dropdown search input
		inputSearch: function() {
			var $input = $(this);
			//selectMania element
			$selectManiaEl = $input.closest('.select-mania-dropdown').data('selectMania-element');
			//timer duration according to select multiple or not
			var thisTime = 200;
			if($selectManiaEl.is('.select-mania-ajax')) {
				thisTime = 400;
			}
			//clear timeout
			clearTimeout($input.data('selectMania-searchTimer'));
			//search input timeout
			$input.data('selectMania-searchTimer', setTimeout(function() {
				//ajax search
				if($selectManiaEl.is('.select-mania-ajax')) {
					Engine.doSearchAjax($selectManiaEl);
				}
				//normal search
				else {
					Engine.doSearch($selectManiaEl);
				}
			}, thisTime));
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ scrollAjax

		//BIND ONLY - dropdown ajax scroll
		scrollAjax: function(e) {
			var $itemList = $(this);
			//dropdown element
			var $dropdown = $itemList.closest('.select-mania-dropdown');
			//selectMania element
			var $selectManiaEl = $dropdown.data('selectMania-element');
			//if ajax scroll is not over
			if($selectManiaEl.data('selectMania-ajaxScrollDone') !== true) {
				//if scroll reached bottom with 12px tolerance
				if($itemList.scrollTop() >= $itemList[0].scrollHeight - $itemList.outerHeight() - 12) {
					//if ajax scroll is ready
					if($selectManiaEl.data('selectMania-ajaxReady') === true) {
						//page number to call
						var thisPage = $selectManiaEl.data('selectMania-ajaxPage') + 1;
						//search value
						var thisSearch = $selectManiaEl.find('.select-mania-search-input').first().val();
						//pause ajax scroll
						$selectManiaEl.data('selectMania-ajaxReady', false);
						//enregistre nouvelle page en cours
						$selectManiaEl.data('selectMania-ajaxPage', thisPage);
						//loading icon
						Engine.dropdownLoading($selectManiaEl);
						//call ajax function
						var thisAjaxFunction = $selectManiaEl.data('selectMania-ajaxFunction');
						var thisAjaxData = $selectManiaEl.data('selectMania-ajaxData');
						thisAjaxFunction(thisSearch, thisPage, thisAjaxData, function(optHTML) {
							//remove loading icon
							Engine.dropdownLoading($selectManiaEl, true);
							//if options returned
							if(optHTML.trim() !== '') {
								//add items to dropdown from sent options
								Engine.addItems($selectManiaEl, optHTML);
								//rebind selectMania element
								Binds.bind($selectManiaEl);
								//set ajax scroll as ready
								$selectManiaEl.data('selectMania-ajaxReady', true);
							}
							//if no options sent back
							else {
								//ajax scroll is over
								$selectManiaEl.data('selectMania-ajaxScrollDone', true);
							}
						});
					}
				}
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ scrollControl

		//BIND ONLY - prevents body scroll when reached dropdown top or bottom
		scrollControl: function(e) {
			var $thisDropdown = $(this);
			if(e.originalEvent.deltaY < 0) {
				return ($thisDropdown.scrollTop() > 0);
			}
			else {
				return($thisDropdown.scrollTop() + $thisDropdown.innerHeight() < $thisDropdown[0].scrollHeight);
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ focus / blur

		//BIND ONLY - focus selectMania when original select is focused
		focus: function(e) {
			var $originalSelect = $(this);
			//selectMania element
			var $selectManiaEl = $originalSelect.data('selectMania-element');
			//add focus class to selectMania element
			$selectManiaEl.addClass('select-mania-focused');
			//bind keyboard dropdown opening
			$originalSelect.off('keydown.selectMania').on('keydown.selectMania', Binds.keyboardOpening);
		}, 

		//BIND ONLY - unfocus selectMania when original select is focused
		blur: function(e) {
			var $originalSelect = $(this);
			//selectMania element
			var $selectManiaEl = $originalSelect.data('selectMania-element');
			//remove focus class from selectMania element
			$selectManiaEl.removeClass('select-mania-focused');
			//unbind keyboard dropdown opening
			$originalSelect.off('keydown.selectMania');
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ hoverItem

		//BIND ONLY - hover status on dropdown items
		hoverItem: function(e) {
			var $item = $(this);
			//dropdown
			var $dropdown = $item.closest('.select-mania-dropdown');
			//remove hover from every item
			$dropdown.find('.select-mania-item').removeClass('select-mania-hover');
			//apply hover class
			$item.addClass('select-mania-hover');
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ keyboardOpening / keyboardControl

		//BIND ONLY - keyboard dropdown opening
		keyboardOpening: function(e) {
			var $originalSelect = $(this);
			//selectMania element
			var $selectManiaEl = $originalSelect.data('selectMania-element');
			//dropdown
			var $dropdown = $selectManiaEl.data('selectMania-dropdown');
			//list of key codes triggering opening beside characters (enter, spacebar, arrow keys)
			var openingKeys = [13,32,37,38,39,40];
			//if dropdown is closed and triggering key pressed
			if(!$dropdown.hasClass('open') && $.inArray(e.keyCode, openingKeys) !== -1) {
				e.preventDefault();
				e.stopPropagation();
				//unfocus original select
				$originalSelect.blur();
				//opens dropdown
				Engine.openDropdown($dropdown);
			}
		}, 

		//BIND ONLY - keyboard control within dropdown
		keyboardControl: function(e) {
			//currently open dropdown
			var $dropdown = $('.select-mania-dropdown.open').first();
			//list of control keys (tab, enter, escape, arrow up, arrow down)
			var controlKeys = [9,13,27,38,40];
			//if a selectMania dropdown is open and key pressed is a control key
			if($dropdown.length > 0 && $.inArray(e.keyCode, controlKeys) !== -1) {
				e.preventDefault();
				e.stopPropagation();
				//switch key pressed
				switch(e.keyCode) {
					//enter
					case 13:
						//currently hovered element
						var $hoverItem = $dropdown.find('.select-mania-item:not(.select-mania-disabled):not(.select-mania-hidden).select-mania-hover').first();
						//if hovered element exists
						if($hoverItem.length > 0) {
							//select item in dropdown
							Engine.selectItem($hoverItem);
						}
						break;
					//tab
					case 9:
					//escape
					case 27:
						//close dropdown
						Engine.closeDropdown($dropdown);
						break;
					//arrow up
					case 38:
						//hover previous item in dropdown
						Engine.navigateItem($dropdown, 'previous');
						break;
					//arrow down
					case 40:
						//hover next item in dropdown
						Engine.navigateItem($dropdown, 'next');
						break;
				}
			}
		}

	};

// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //
// ---------------------------------------- TOOLS ----------------------------------------- //
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //

	var Tools = {

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ def

		//force null if var is undefined
		def: function(v) {
			if(typeof v === 'undefined') {
				return null;
			}
			return v;
		}

	};

// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //
// --------------------------------------- METHODS --------------------------------------- //
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //

	var Methods = {

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ init

		//initialize selectMania
		init: function(opts) {
			//settings provided by user
			var settings = $.extend(true, {}, Data.defaults, opts);
			//loop through targeted elements
			return this.each(function() {
				//current select to initialize
				var $originalSelect = $(this);
				//controls if element is a select and plugin is not already initialized
				if(Engine.controlTarget($originalSelect, ['isSelect','notInitialized'])) {
					//initialize selectMania on original select
					Engine.initialize($originalSelect, settings);
				}
			});
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ update

		//update selectMania items and values
		update: function() {
			//loop through targeted elements
			return this.each(function() {
				//current select to destroy
				var $originalSelect = $(this);
				//controls if selectMania initialized
				if(Engine.controlTarget($originalSelect, ['isInitialized'])) {
					//update selectMania
					Engine.update($originalSelect);
				}
			});
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ destroy

		//destroy selectMania
		destroy: function() {
			//loop through targeted elements
			return this.each(function() {
				//current select to destroy
				var $originalSelect = $(this);
				//controls if selectMania initialized
				if(Engine.controlTarget($originalSelect, ['isInitialized'])) {
					//destroy selectMania
					Engine.destroy($originalSelect);
				}
			});
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ check

		//check if selectMania initialized
		check: function() {
			//controls method was called on single element
			if(Engine.controlTarget(this, ['isSingle'])) {
				//send back if plugin initialized or not
				return this.hasClass('select-mania-original');
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ get

		//returns parsed selected values
		get: function() {
			//controls if single element and plugin initialized
			if(Engine.controlTarget(this, ['isSingle','isInitialized'])) {
				//selectMania element
				var $selectManiaEl = this.data('selectMania-element');
				//get and return parsed selected values
				return Engine.getVal($selectManiaEl);
			}
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ set

		//set parsed values as selected values
		set: function(values) {
			//controls if single element and plugin initialized
			if(Engine.controlTarget(this, ['isSingle','isInitialized'])) {
				//controls values are valid
				if(Engine.controlValues(this, values)) {
					//selectMania element
					var $selectManiaEl = this.data('selectMania-element');
					//get and return parsed selected values
					Engine.setVal($selectManiaEl, values);
				}
			}					
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ clear

		//clear values
		clear: function() {
			//loop through targeted elements
			return this.each(function() {
				//current select to destroy
				var $originalSelect = $(this);
				//controls if plugin initialized
				if(Engine.controlTarget($originalSelect, ['isInitialized'])) {
					//selectMania element
					var $selectManiaEl = $originalSelect.data('selectMania-element');
					//clear values
					Engine.clear($selectManiaEl);
					//trigger original select change event
					$originalSelect.trigger('change');
					//update clear values icon display
					Engine.updateClean($selectManiaEl);
				}
			});
		}, 

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ setup

		//setup default settings values
		setup: function() {
			//loop through targeted elements
			return this.each(function() {
				//current select to destroy
				var $originalSelect = $(this);
				//controls if plugin initialized
				if(Engine.controlTarget($originalSelect, ['isInitialized'])) {
					//selectMania element
					var $selectManiaEl = $originalSelect.data('selectMania-element');
					//clear values
					Engine.clear($selectManiaEl);
					//trigger original select change event
					$originalSelect.trigger('change');
					//update clear values icon display
					Engine.updateClean($selectManiaEl);
				}
			});
		}

	};

// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //
// --------------------------------------- HANDLER ---------------------------------------- //
// @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ //

	//plugin methods handler
	$.fn.selectMania = function(methodOrOpts) {
		//stop right away if targeted element empty
		if(this.length < 1) { return; }
		//call method
		if(Methods[methodOrOpts]) {
			//remove method name from call arguments
			var slicedArguments = Array.prototype.slice.call(arguments, 1);
			//call targeted mathod with arguments
			return Methods[methodOrOpts].apply(this, slicedArguments);
		}
		//call init
		else if(typeof methodOrOpts === 'object' || !methodOrOpts) {
			//call init with arguments
			return Methods.init.apply(this, arguments);
		}
		//error
		else {
			console.error('selectMania | wrong method called');
			console.log(this);
		}
	};

	//plugin setup handler
	$.extend({
		selectManiaSetup: function(opts) {
			//set default settings values
			Data.setup(opts);
		}
	});

})(jQuery);




(function(a){a.fn.circliful=function(b,d){var c=a.extend({fgcolor:"#556b2f",bgcolor:"#eee",fill:false,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null},b);return this.each(function(){var w=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border"];var f={};var F="";var n=0;var t=a(this);var A=false;var v,G;t.addClass("circliful");e(t);if(t.data("text")!=undefined){v=t.data("text");if(t.data("icon")!=undefined){F=a("<i></i>").addClass("fa "+a(this).data("icon")).css({color:f.iconcolor,"font-size":f.iconsize})}if(t.data("type")!=undefined){j=a(this).data("type");if(j=="half"){s(t,"circle-text-half",(f.dimension/1.45))}else{s(t,"circle-text",f.dimension)}}else{s(t,"circle-text",f.dimension)}}if(a(this).data("total")!=undefined&&a(this).data("part")!=undefined){var I=a(this).data("total")/100;percent=((a(this).data("part")/I)/100).toFixed(3);n=(a(this).data("part")/I).toFixed(3)}else{if(a(this).data("percent")!=undefined){percent=a(this).data("percent")/100;n=a(this).data("percent")}else{percent=c.percent/100}}if(a(this).data("info")!=undefined){G=a(this).data("info");if(a(this).data("type")!=undefined){j=a(this).data("type");if(j=="half"){D(t,0.9)}else{D(t,1.25)}}else{D(t,1.25)}}a(this).width(f.dimension+"px");var i=a("<canvas></canvas>").attr({width:f.dimension,height:f.dimension}).appendTo(a(this)).get(0);var g=i.getContext("2d");var r=i.width/2;var q=i.height/2;var C=f.percent*360;var H=C*(Math.PI/180);var l=i.width/2.5;var B=2.3*Math.PI;var z=0;var E=false;var o=f.animationstep===0?n:0;var p=Math.max(f.animationstep,0);var u=Math.PI*2;var h=Math.PI/2;var j="";var k=true;if(a(this).data("type")!=undefined){j=a(this).data("type");if(j=="half"){B=2*Math.PI;z=3.13;u=Math.PI*1;h=Math.PI/0.996}}function s(J,x,y){a("<span></span>").appendTo(J).addClass(x).text(v).prepend(F).css({"line-height":y+"px","font-size":f.fontsize+"px"})}function D(y,x){a("<span></span>").appendTo(y).addClass("circle-info-half").css("line-height",(f.dimension*x)+"px")}function e(x){a.each(w,function(y,J){if(x.data(J)!=undefined){f[J]=x.data(J)}else{f[J]=a(c).attr(J)}if(J=="fill"&&x.data("fill")!=undefined){A=true}})}function m(x){g.clearRect(0,0,i.width,i.height);g.beginPath();g.arc(r,q,l,z,B,false);g.lineWidth=f.width+1;g.strokeStyle=f.bgcolor;g.stroke();if(A){g.fillStyle=f.fill;g.fill()}g.beginPath();g.arc(r,q,l,-(h),((u)*x)-h,false);if(f.border=="outline"){g.lineWidth=f.width+13}else{if(f.border=="inline"){g.lineWidth=f.width-13}}g.strokeStyle=f.fgcolor;g.stroke();if(o<n){o+=p;requestAnimationFrame(function(){m(Math.min(o,n)/100)},t)}if(o==n&&k&&typeof(b)!="undefined"){if(a.isFunction(b.complete)){b.complete();k=false}}}m(o/100)})}}(jQuery));
//  index.js
//-------------------------------
// update_block 




var date_graf = function() {
	
	
	if($('#date_hidden_table_gr1').val()>$('#date_hidden_table_gr2').val())
		{
			
			$('#date_hidden_table_gr2').val('');
			$('#date_table_gr2').val('');
			
			
		}
	
	
}


//     
var edit_grafik_click = function() {
	
if ( $(this).is("[for]") )
{
	if($.isNumeric($(this).attr("for")))
	{
  $.arcticmodal({
    type: 'ajax',
    url: 'forms/form_edit_grafic.php?id='+$(this).attr("for"),
    afterLoading: function(data, el) {
        //alert('afterLoading');
    },
    afterLoadingOnShow: function(data, el) {
        //alert('afterLoadingOnShow');
    },
	afterClose: function(data, el) { //    ArcticModal
	clearInterval(timerId);
    }

  });
}
	
}
  
return false;

	
	};
$(function () {


    width_auto_input();


    var $input = $('.js-input-width-auto'),
        $buffer = $('.input-buffer');

    $input.on('input', function () {
        $buffer.text($input.val());
        $input.width($buffer.width());
    });

});

function width_auto_input()
{
    $('.js-input-width-auto').each(function(i,elem)
    {
        $(this).after('<div class="input-buffer"></div>');

    });
}
$(function (){


    //       
    $('body').on("change keyup input click",'.menu_jjs .js-menu-jjs-b-invoice',menubuttclick_invoice);


    //       
    $('body').on("change keyup input click",'.menu_jjs .js-menu-jjs-b-item',menu_item);


    // 
    $('body').on("change keyup input click",'.js-invoice-edit',js_edit_invoice);

    $('body').on("change keyup input click",'.js-info-invoice',doc_invoice);
    //       
    $('body').on("change keyup input click",'.js-tabs-invoice',tabs_invoice);

    // 
    $('body').on("change keyup input click",'.js-invoice-del',js_invoice_del);

    //  
    $('body').on("change keyup input click",'.js-add-invoice',js_add_invoice);

    //    
    $('.menu_x').on("change keyup input click",".js-invoice-add0", js_add_invoice);

    //   
    $('body').on("change keyup input click",'.js-text-search-invoice',changesort_stock2_invoice);



    /*
     *        
     */

    function menubuttclick_invoice(event)
    {
        event.stopPropagation();


        var rel=$(this).find('a').attr('make');

        if(rel=='edit')
        {
            //
            if (typeof timerId != 'undefined') {

                clearInterval(timerId);
                $.arcticmodal('close');

            }
            if($(this).is('[id_rel]'))
            {
                var id_buy= $(this).attr('id_rel');
            } else {


                var id_buy = $(this).parents('.block_pass').attr('pass_rel');
            }

            event.stopPropagation();

            $.arcticmodal({
                type: 'ajax',
                url: 'forms/invoice/form_edit_invoice.php?id_buy='+id_buy,
                beforeOpen: function (data, el) {
                    //     ajax 
                    $('.loader_ada_forms').show();
                    $('.loader_ada1_forms').addClass('select_ada');
                },
                afterLoading: function (data, el) {
                    //    ajax
                    data.body.parents('.arcticmodal-container').addClass('yoi');
                    $('.loader_ada_forms').hide();
                    $('.loader_ada1_forms').removeClass('select_ada');
                },
                beforeClose: function (data, el) { //    ArcticModal
                    if (typeof timerId !== "undefined") {
                        clearInterval(timerId);
                    }
                    BodyScrool();
                }

            });



        }
        if(rel=='dell')
        {
            //
            if (typeof timerId != 'undefined') {

                clearInterval(timerId);
                $.arcticmodal('close');

            }
            if($(this).is('[id_rel]'))
            {
                var id_buy= $(this).attr('id_rel');
            } else {


                var id_buy = $(this).parents('.block_pass').attr('pass_rel');
            }

            event.stopPropagation();


            $.arcticmodal({
                type: 'ajax',
                url: 'forms/invoice/form_dell_invoice.php?id_buy='+id_buy,
                beforeOpen: function (data, el) {
                    //     ajax 
                    $('.loader_ada_forms').show();
                    $('.loader_ada1_forms').addClass('select_ada');
                },
                afterLoading: function (data, el) {
                    //    ajax
                    data.body.parents('.arcticmodal-container').addClass('yoi');
                    $('.loader_ada_forms').hide();
                    $('.loader_ada1_forms').removeClass('select_ada');
                },
                beforeClose: function (data, el) { //    ArcticModal
                    if (typeof timerId !== "undefined") {
                        clearInterval(timerId);
                    }
                    BodyScrool();
                }

            });

        }

    }




    //     
    var changesort1invoice = function() {
        var iu=$('.content').attr('iu');

        $.cookie("in_1c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("in_1c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_invoice_1').bind('change', changesort1invoice);

    //     
    var changesort3invoice = function() {
        var iu=$('.content').attr('iu');

        $.cookie("in_3c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("in_3c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_invoice_3').bind('change', changesort3invoice);



    //     
    var changesort2invoice = function() {
        var iu=$('.content').attr('iu');

        $.cookie("in_2c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("in_2c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_invoice_2').bind('change', changesort2invoice);

    //  

    var changesort7invoice = function() {
        var iu=$('.content').attr('iu');
        $.cookie("in_7c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("in_7c"+iu,$(this).val(),'add');

        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };

    $('#name_stock_search_invoice').bind('change keyup input click', changesort7invoice);


    //      
    var changesort_stock2__invoice= function() {
        var iu=$('.content').attr('iu');
        $(this).prev().val('');
        $.cookie("in_7c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

        $(this).hide();
    }

//     
    $('.dell_stock_search_invoice').bind('change keyup input click', changesort_stock2__invoice);

});





/*
 *        
 */

function menu_item(event)
{
    event.stopPropagation();

    var rel=$(this).find('a').attr('make');

    if(rel=='edit')
    {
        //
        /*
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        */

        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {
            var id_buy = $(this).parents('.js-items-block').attr('op_rel');
        }

        event.stopPropagation();

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/items/form_edit_items.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });



    }
    if(rel=='dell')
    {
        //
        /*
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        */

        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {


            var id_buy = $(this).parents('.js-items-block').attr('op_rel');
        }

        event.stopPropagation();
        $.arcticmodal({
            type: 'ajax',
            url: 'forms/items/form_dell_items.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });


    }

    if(rel=='dell_device')
    {
        //
        /*
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        */

        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {


            var id_buy = $(this).parents('.js-items-block').attr('op_rel');
        }

        event.stopPropagation();

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/items/form_items_remove_from_device.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });


    }

    if(rel=='devices')
    {

        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {


            var id_buy = $(this).parents('.js-items-block').attr('op_rel');
        }

        event.stopPropagation();

//  
        BasketItemsAdd(id_buy,$(this));

    }
    if(rel=='no_basket')
    {

        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {
            var id_buy = $(this).parents('.js-items-block').attr('op_rel');
        }

        event.stopPropagation();

//  
        BasketItemsAdd(id_buy,$(this));

        //           
        $('.items_block_pass_basket[op_rel='+id_buy+']').slideUp("slow", function () {
            $('.items_block_pass_basket[op_rel='+id_buy+']').remove();
        });


        var iu=$('.content').attr('iu');

        if(typeof(iu) === 'undefined')
        {
            iu=$('.users_rule').attr('iu');

        }
        //alert(iu);
        var cookie_new = $.cookie('basket_item_'+iu);

        if((cookie_new=='')||(cookie_new==null))
        {
            $( '.arcticmodal-close', $('.js-form2').closest( '.box-modal' )).click();
            var counts=0;
        } else
        {

            var cc = cookie_new.split('.');
            var counts=cc.length;
        }

        $('.count-basket-items').find('i').empty().append(counts);



    }


}





/*
 *        
 */






function changesort_stock2_invoice() {
    //alert("1");
    if($(this).val()!='')
    {
        $(this).next().show();
        //   
        $('.js--sort').addClass('greei_input');
        $('.js--sort').find('input').prop('readonly',true);

    }else
    {
        $(this).next().hide();
        //   
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

    }
}



/*    
 *
 */
function tabs_invoice() {
    //alert("!");
    var uoo=$(this).attr("id");
    if ( $(this).is(".active") )
    {
        //  
    } else
    {
        $('.js-cloud-info-text').empty().append('<div class="b_loading_small" style="position:relative; margin-bottom: 30px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        $('.js-tabs-menu').find('.js-tabs-invoice').removeClass('active');
        $('.js-tabs-menu').find('.js-tabs-invoice[id='+uoo+']').addClass('active');

        //var key_='002U';



        var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
            '&tk='+$('.box-modal .gloab-cc').attr('mor')+
            '&id='+$('.box-modal .gloab-cc').attr('for');



        //alert(data);
        AjaxClient('invoice','tabs_info','GET',data,'AfterTabsInfoinvoice',$(this).attr("id"),0);
    }
}
// 
function invoice_adds()
{
    if(typeof timerId !== "undefined")
    {
        clearInterval(timerId);
        $.arcticmodal('close');
    }

    //var at= $(this).attr('tabs_g');


    $.arcticmodal({
        type: 'ajax',
        url: 'forms/invoice/form_add_invoice.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}





/**   
 *
 */
function doc_invoice(event)
{


    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-invoice-del'))&&(!$target.hasClass('js-invoice-edit'))) {

        //var for_id = $(this).parents('.js-invoice-block').attr('op_rel');
        if($(this).parents('.js-invoice-block').is('[op_rel]'))
        {
            var for_id = $(this).parents('.js-invoice-block').attr('op_rel');
        } else {


            var for_id = $(this).attr('op_rel');
        }


        if((for_id!=null)&&(for_id!='')&&(for_id!=0)) {
            if (typeof timerId != 'undefined') {

                clearInterval(timerId);
                $.arcticmodal('close');

            }

            $.arcticmodal({
                type: 'ajax',
                url: 'forms/invoice/form_doc_invoice.php?id=' + for_id + '&tabs=0',
                beforeOpen: function (data, el) {
                    //     ajax 
                    $('.loader_ada_forms').show();
                    $('.loader_ada1_forms').addClass('select_ada');
                },
                afterLoading: function (data, el) {
                    //    ajax
                    data.body.parents('.arcticmodal-container').addClass('yoi');
                    $('.loader_ada_forms').hide();
                    $('.loader_ada1_forms').removeClass('select_ada');
                },
                beforeClose: function (data, el) { //    ArcticModal
                    if (typeof timerId !== "undefined") {
                        clearInterval(timerId);
                    }
                    BodyScrool();
                }

            });

        }

    }
}


/**
   
 **/
function js_add_invoice()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/invoice/form_add_invoice.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });
}

/**
 *  
 */
function js_edit_invoice(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.invoice_block_pass').attr('op_rel');
    }
    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/invoice/form_edit_invoice.php?id_buy='+id_buy,
        beforeOpen: function (data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function (data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function (data, el) { //    ArcticModal
            if (typeof timerId !== "undefined") {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });

}


/**
 *  
 */
function js_invoice_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.invoice_block_pass').attr('op_rel');
    }

    event.stopPropagation();




    $.arcticmodal({
        type: 'ajax',
        url: 'forms/invoice/form_dell_invoice.php?id_buy='+id_buy,
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}
//     

$(function () {
    $('body').on("dblclick", '.js-select-items', add_it);

    //   
    $('body').on("change keyup input click",'.js-text-search-items',changesort_stock2_items);


    $('body').on("change keyup input click",'.js-info-items',doc_items);
    //       
    $('body').on("change keyup input click",'.js-tabs-items',tabs_items);

    //  
    $('body').on("change keyup input click",'.js-add-items',js_add_items);

    //    
    $('.menu_x').on("change keyup input click",".js-items-add0", js_add_items);


    //     
    var changesort1items = function() {
        var iu=$('.content').attr('iu');

        $.cookie("it_1c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("it_1c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_items_1').bind('change', changesort1items);





    //     
    var changesort2items = function() {
        var iu=$('.content').attr('iu');

        $.cookie("it_2c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("it_2c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_items_2').bind('change', changesort2items);



    //     
    var changesort5items = function() {
        var iu=$('.content').attr('iu');

        $.cookie("it_5c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("it_5c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#search_items_5').bind('change', changesort5items);



    //  
    var changesort7items = function() {
        var iu=$('.content').attr('iu');
        $.cookie("it_7c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("it_7c"+iu,$(this).val(),'add');

        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };

    $('#name_stock_search_items').bind('change keyup input click', changesort7items);


    //      
    var changesort_stock2__items= function() {
        var iu=$('.content').attr('iu');
        $(this).prev().val('');
        $.cookie("it_7c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

        $(this).hide();
    }

//     
    $('.dell_stock_search_items').bind('change keyup input click', changesort_stock2__items);



});

/**   
 *
 */
function doc_items(event)
{

    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-info-invoice'))&&(!$target.hasClass('more_supply1'))&&(!$target.hasClass('js-menu-jjs-b-item'))) {


        var for_id = $(this).parents('.js-items-block').attr('op_rel');


        $.arcticmodal({
            type: 'ajax',
            url: 'forms/items/form_doc_items.php?id=' + for_id + '&tabs=0',
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }
        });

    }
}
/*    
 *
 */
function tabs_items() {
    //alert("!");
    var uoo=$(this).attr("id");
    if ( $(this).is(".active") )
    {
        //  
    } else
    {
        var box_active = $(this).closest('.box-modal');
        box_active.find('.js-cloud-info-text').empty().append('<div class="b_loading_small" style="position:relative; margin-bottom: 30px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        box_active.find('.js-tabs-menu .js-tabs-items').removeClass('active');
        box_active.find('.js-tabs-menu .js-tabs-items[id='+uoo+']').addClass('active');

        //var key_='002U';



        var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
            '&tk='+box_active.find('.gloab-cc').attr('mor')+
            '&id='+box_active.find('.gloab-cc').attr('for');



        //alert(data);
        AjaxClient('items','tabs_info','GET',data,'AfterTabsInfoitems',$(this).attr("id"),0);
    }
}


/*
 *         
 * @param data
 * @param update
 * @constructor
 */
function AfterTabsInfoitems(data,update)
{
    if ( data.status=='reg' )
    {
        WindowLogin();
    }

    if ( data.status=='ok' )
    {
        //alert("!");
        //   
        var box = $('.box-modal:last');

        box.find('.js-cloud-info-text').empty().append(data.query);

        //$('.cha_1').on("change keyup input click",'.wallet_checkbox',wallet_checkbox);

        box.find('.js-tabs_docc').hide();
        box.find('.js-tabs_'+update).show();
        ToolTip();
        //NumberBlockFile();
        if(update==2)
        {
            $(".slct").unbind('click.sys');
            $(".slct").bind('click.sys', slctclick);
            $(".drop").find("li").unbind('click');
            $(".drop").find("li").bind('click', dropli);
            $('#typesay').unbind('change', changesay);
            $('#typesay').bind('change', changesay);
            NumberBlockFile();

        }
    }
}

/**
   
 **/
function js_add_items()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/items/form_add_items.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });
}



//arr - id (1.2.4.5)      
function UpdateItems(arr)
{
    var data ='url='+window.location.href+'&arr='+arr;

    AjaxClient('items','update_items','GET',data,'AfterUpdateItems',arr,0,1);
}

/*

"js-items-id-"  - id 
"js-items-up-"  - 0 -  1 - 
"js-items-na-"  - 
"js-items-sv-"  -   0    
"js-items-sd-"  - id    
"js-items-co-"  -   0
"js-items-in-"  -    0
"js-items-ba-"  - 0 -    1 -   
"js-items-ind-" - id      0
*/
//      
function AfterUpdateItems(data,update)
{
    if ( data.status=='reg' )
    {
        WindowLogin();
    }

    if ( data.status=='ok' )
    {

        var class_glu = ["js-items-id-","js-items-up-","js-items-na-", "js-items-sv-","js-items-sd-","js-items-co-","js-items-in-","js-items-ba-","js-items-ind-"];

        for (var t = 0; t < data.arr.length; t++) {

            var aaaa1 = data.arr[t].split('/-');

                    if (aaaa1[1] == 1) {
                        $('.js-items-block[op_rel=' + aaaa1[0] + ']').slideUp("slow", function () {
                            $('.js-items-block[op_rel=' + aaaa1[0] + ']').remove();
                        });
                    } else {

                        //
                        $('.js-items-na-' + aaaa1[0]).empty().append(aaaa1[2]);

                        //  
                        if (aaaa1[3] == 0) {

                            //         
                            $('.js-items-sv-' + aaaa1[0]).empty().hide();
                            $('.js-items-block[op_rel='+aaaa1[0]+']').addClass('select-item-yes');
                            $('.js-items-block[op_rel='+aaaa1[0]+']').addClass('js-select-items');

                            var menu_item=$('.js-items-block[op_rel='+aaaa1[0]+']').find('.js-menu-root');

                            menu_item.find('.js-menu-jjs-b-item').removeClass('no-display');

                            menu_item.find('[make=dell_device]').closest('.js-menu-jjs-b-item').addClass('no-display');


                        } else {
                            $('.js-items-sv-' + aaaa1[0]).empty().append(aaaa1[3]).show();
                            $('.js-items-sv-' + aaaa1[0]).attr('op_rel', aaaa1[4]);

                            //     
                            $('.js-items-block[op_rel='+aaaa1[0]+']').removeClass('select-item-yes');
                            $('.js-items-block[op_rel='+aaaa1[0]+']').removeClass('js-select-items');

                            //     

                            var menu_item=$('.js-items-block[op_rel='+aaaa1[0]+']').find('.js-menu-root');

                            menu_item.find('.js-menu-jjs-b-item').removeClass('no-display');

                            menu_item.find('[make=dell]').closest('.js-menu-jjs-b-item').addClass('no-display');
                            menu_item.find('[make=no_basket]').closest('.js-menu-jjs-b-item').addClass('no-display');
                            menu_item.find('[make=devices]').closest('.js-menu-jjs-b-item').addClass('no-display');

                            //menu_item.find('[make=devices]').closest('.js-menu-jjs-b-item').addClass('no-display');


                        }

                        //
                        if (aaaa1[5] == 0) {
                            $('.js-items-co-' + aaaa1[0]).empty().hide();
                        } else {
                            $('.js-items-co-' + aaaa1[0]).empty().append(aaaa1[5]).show();
                        }

                        //  
                        if (aaaa1[6] == 0) {
                            $('.js-items-in-' + aaaa1[0]).empty().hide();
                        } else {
                            $('.js-items-in-' + aaaa1[0]).empty().append(aaaa1[6]).show();
                            $('.js-items-in-' + aaaa1[0]).attr('op_rel', aaaa1[8]);
                        }

                        //    
                        if (aaaa1[7] == 0) {
                            //  
                            $('.js-items-block[op_rel=' + aaaa1[0] + '] js-menu-root').removeClass('.more-active-s1');
                        } else {
                            //  
                            $('.js-items-block[op_rel=' + aaaa1[0] + '] js-menu-root').addClass('.more-active-s1');
                        }


                    }
                }





    }
}



function changesort_stock2_items() {
    //alert("1");
    if($(this).val()!='')
    {
        $(this).next().show();
        //   
        $('.js--sort').addClass('greei_input');
        $('.js--sort').find('input').prop('readonly',true);

    }else
    {
        $(this).next().hide();
        //   
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

    }
}


///      
function add_it(event)
{
    $target = $(event.target);
    //          
    if ((!$target.hasClass('more_supply1'))&&(!$target.hasClass('js-menu-jjs-b-item'))&&(!$target.hasClass('invoice-link'))) {
        var id=$(this).attr('op_rel');
        BasketItemsAdd(id,$(this));

    }

}

function js_add_items_x()
{
    var box_active = $(this).closest('.box-modal');

    var err = 0;
//alert($('.js-form-register .gloab').length);
    box_active.find('.js-form-add-items .gloab').each(function(i,elem) {
        if($(this).val() == '')  { $(this).parents('.input_2018').addClass('required_in_2018');
            $(this).parents('.list_2018').addClass('required_in_2018');
            err++;
            //alert($(this).attr('name'));
        } else {$(this).parents('.input_2018').removeClass('required_in_2018');$(this).parents('.list_2018').removeClass('required_in_2018');}
    });

//	if (!$(".js-role-x i").is( ".active_task_cb" ) ) { alert_message('error','   ');  err++; }

//	if (!$(".js-person-x i").is( ".active_task_cb" ) ) { alert_message('error',' ');  err++; }

    //alert(err);

    if(err==0)
    {

        var for_id=box_active.find('.gloab-cc').attr('for');


        //clearInterval(timerId); //      
        //$.arcticmodal('close');

        AjaxClient('items','add','POST',0,'after_add_items_x',0,'vino_xd_fiance_pay_2');


        box_active.find('.js-add-items-x').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: auto; display: inline-block;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');



    } else
    {
        //       
        //jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
        //ErrorBut('.js-form-tender-new .js-add-tender-form',' !');
        alert_message('error','   ');


    }




}

function js_edit_items_x()
{
    var err = 0;

    var box_active = $(this).closest('.box-modal');


//alert($('.js-form-register .gloab').length);


    box_active.find('.js-form-edit-items  .gloab').each(function(i,elem) {
        if($(this).val() == '')  { $(this).parents('.input_2018').addClass('required_in_2018');
            $(this).parents('.list_2018').addClass('required_in_2018');
            err++;
            //alert($(this).attr('name'));
        } else {$(this).parents('.input_2018').removeClass('required_in_2018');$(this).parents('.list_2018').removeClass('required_in_2018');}
    });

//	if (!$(".js-role-x i").is( ".active_task_cb" ) ) { alert_message('error','   ');  err++; }

//	if (!$(".js-person-x i").is( ".active_task_cb" ) ) { alert_message('error',' ');  err++; }

    //alert(err);

    if(err==0)
    {

        var for_id=box_active.find('.gloab-cc').attr('for');

        //clearInterval(timerId); //      
        //$.arcticmodal('close');

        AjaxClient('items','edit','POST',0,'after_edit_items_x',0,'vino_xd_fiance_pay_2');


        box_active.find('.js-edit-items-x').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 17px;top: auto;right: auto;left: auto; display: inline-block;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');



    } else
    {
        //       
        //jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
        //ErrorBut('.js-form-tender-new .js-add-tender-form',' !');
        alert_message('error','   ');


    }




}


function js_dell_items_b()
{

    var box_active = $(this).closest('.box-modal');

    var for_id=box_active.find('.gloab-cc').attr('for');


    //clearInterval(timerId); //      
    //$.arcticmodal('close');

    var data ='url='+window.location.href+'&id='+for_id+'&tk='+box_active.find('.gloab-cc').attr('mor');

    AjaxClient('items','dell','GET',data,'Afterdellitems',for_id,0);





    box_active.find('.js-dell-items-b').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: auto; display: inline-block;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
}



function js_itemsdevice_remove()
{
    var box_active = $(this).closest('.box-modal');

    var for_id=box_active.find('.gloab-cc').attr('for');


    //clearInterval(timerId); //      
    //$.arcticmodal('close');

    var data ='url='+window.location.href+'&id='+for_id+'&tk='+box_active.find('.gloab-cc').attr('mor');

    AjaxClient('items','remove_from_items','GET',data,'Afteritemsdevice_remove',for_id,0);





    box_active.find('.js-dell-itemsdevice-b').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: auto; display: inline-block;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');
}


function after_add_items_x(data,update)
{
    if (data.status=='ok')
    {
        // $('.js-form-tender-new').remove();
//   
        var box = $('.box-modal:last');

        alert_message('ok',' ');
        //UpdateFinance('1,0,1,1');
        //$('.js-next-step').submit();
        var block_count=parseInt($('.js-count-items .smena_').text());
        block_count++;
        $('.js-count-items .smena_').empty().append(block_count);
        //alert(data.blocks);
        $('.js-count-items').after(data.blocks);

        var tytt=PadejNumber((block_count),', ,');
        $('.js-count-items .smena_1').empty().append(tytt);


        setTimeout ( function () { $('.js-items-block').removeClass('new-say');  }, 4000 );

        $('.js-cloud-items .help_div').slideUp("slow");
        $('.js-cloud-items .js-count-items').slideDown("slow");

        clearInterval(timerId);

        box.find('.arcticmodal-close').click();
        //$( '.arcticmodal-close', $('.js-form2').closest( '.box-modal' )).click();

        //setTimeout ( function () { $('#js-form-add-fin').submit();  }, 1000 );

    } else
    {
        box.find('.js-add-items-x').show();
        box.find('.b_loading_small').remove();

        //alert_message('error','!   ');

        //$('.js-form-tender-new .message-form').empty().append('  ').show();

        //   
        $.each(data.error, function(index, value){

            var err = ['name_b','id_kto'];

            var err_name = ['  - ','  - '];

            numbers=$.inArray(value, err);
            //alert(numbers);
            if(numbers!=-1)
            {
                /*
                var ins=number[numbers];
                $('.js-form-tender-new .js-in'+ins).parents('.input_2018').addClass('required_in_2018');
    $('.js-form-tender-new .js-in'+ins).parents('.input_2018').find('.div_new_2018').append('<div class="error-message">  </div>');
    */
                alert_message('error',err_name[numbers]);
            } else
            {
                //$('.js-form-register .message-form').empty().append('! ');
                alert_message('error','!');
            }
            //jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
        });
    }
}


function after_edit_items_x(data,update)
{
    //   
    var box=$('.box-modal:last');

    if (data.status=='ok')
    {
        // $('.js-form-tender-new').remove();

        alert_message('ok',' ');
        //UpdateFinance('1,0,1,1');
        //$('.js-next-step').submit();

//alert(box.find('#vino_xd_fiance_pay_2 [name=name_b]').val());

        var t=box.find('#vino_xd_fiance_pay_2 [name=name_b]').val();
        var r=box.find('#vino_xd_fiance_pay_2 [name=comm_b]').val();

//     

        if(jQuery.trim(t)!='')
        {
            $('.js-items-na-'+data.update).empty().append(t).show();
        } else
        {
            $('.js-items-na-'+data.update).empty().hide();
        }

        if(jQuery.trim(r)!='')
        {
            $('.js-items-co-'+data.update).empty().append(r).show();
        } else
        {
            $('.js-items-co-'+data.update).empty().hide();
        }



        // 
        UpdateItems(data.update);


        //          .items_block_pass_small
        if(data.up==1)
        {
            $('.items_block_pass_small[op_rel='+data.update+']').slideUp("slow", function() {
                $('.items_block_pass_small[op_rel=' + data.update + ']').remove();
            });
        }

        box.find('.arcticmodal-close').click();


        //setTimeout ( function () { $('#js-form-add-fin').submit();  }, 1000 );

    } else
    {
        box.find('.js-edit-items-x').show();
        box.find('.js-edit-items-x').parents('.box-modal').find('.b_loading_small').remove();

        //alert_message('error','!   ');

        //$('.js-form-tender-new .message-form').empty().append('  ').show();

        //   
        $.each(data.error, function(index, value){

            var err = ['name_b'];

            var err_name = ['  - '];

            numbers=$.inArray(value, err);
            //alert(numbers);
            if(numbers!=-1)
            {
                /*
                var ins=number[numbers];
                $('.js-form-tender-new .js-in'+ins).parents('.input_2018').addClass('required_in_2018');
    $('.js-form-tender-new .js-in'+ins).parents('.input_2018').find('.div_new_2018').append('<div class="error-message">  </div>');
    */
                alert_message('error',err_name[numbers]);
            } else
            {
                //$('.js-form-register .message-form').empty().append('! ');
                alert_message('error','!');
            }
            //jQuery.scrollTo('.required_in_2018:first', 1000, {offset:-70});
        });
    }
}



function Afterdellitems(data,update)
{
    if ( data.status=='reg' )
    {
        WindowLogin();
    }

    if ( data.status=='ok' ) {

        //   
        var box = $('.box-modal:last');

        box.find('.arcticmodal-close').click();
        //$( '.arcticmodal-close', $('.js-form2').closest( '.box-modal' )).click();

        alert_message('ok',' ');

        $('.js-items-block[op_rel='+update+']').slideUp("slow", function() {
            $('.js-items-block[op_rel=' + update + ']').remove();
        });

        //      
        var iu=$('.content').attr('iu');
        var cookie_new = $.cookie('basket_item_'+iu);
        var basket_root = AddDellListSep(cookie_new, update, 'add', '.');
        if(basket_root==0)
        {
            CookieList("basket_item_"+iu,update,'del');
        }
        basket_init();

        //       
        if($('.js-invoice-it-'+data.inv).length!=0)
        {
            var block_count=parseInt($('.js-invoice-it-'+data.inv).text());
            block_count--;
            $('.js-invoice-it-'+data.inv).empty().append(block_count);
        }
    }
}


/*
 *    
 * @param data
 * @param update
 * @constructor
 */
function Afteritemsdevice_remove(data,update)
{
    if ( data.status=='reg' )
    {
        WindowLogin();
    }

    if ( data.status=='ok' )
    {
        //   
        var box = $('.box-modal:last');
        box.find('.arcticmodal-close').click();

        //$( '.arcticmodal-close', $('.js-form2').closest( '.box-modal' )).click();
        alert_message('ok','   ');
        $('.js-items-sv-'+data.id).empty().hide();

        //     

        var menu_item=$('.js-items-block[op_rel='+data.id+']').find('.js-menu-root');

        //alert(menu_item.length);

        menu_item.find('.js-menu-jjs-b-item').removeClass('no-display');


        menu_item.find('[make=dell_device]').closest('.js-menu-jjs-b-item').addClass('no-display');


        $('.js-items-block[op_rel='+data.id+']').addClass('js-select-items');
        $('.js-items-block[op_rel='+data.id+']').addClass('select-item-yes');
    }
}

window.search_min2 = 0;  //     
window.search_deley2=500;	//    -  

$(function () {

    var delays = (function(){
        var timer = 0;
        return function(callback, ms){
            clearTimeout (timer);
            timer = setTimeout(callback, ms);
        };
    })();
//  -  
    $('body').on("keyup",".js-keyup-search",KeyUpS);
    $('body').on("click",".js-keyup-search",ClickUpS);
   // 
    $('body').on("change keyup input click",'.js-drop-search li',drop_search);  //  
    $('body').on("change keyup input click",'.js-open-search',open_search);  //  
});
function ClickUpS() {
    var yioo=$(this).attr('oneli');
  if($(this).val()==yioo)
  {
      $(this).val('');
  }

}

function KeyUpS() {
    // 
    var search_input2=$(this);
    var sopen=$(this).attr('sopen');

    var ls=search_input2.parents('.input_2018').attr('list_number');

    search_input2.parents('.input_2018').find('.js-hidden-search').val(0);

    if(jQuery.trim(search_input2.val().length) >= 1)
    {
        $('.fox_dell1').show();
    } else
    {
        $('.fox_dell1').hide();
    }
    delays(function(){

        if(jQuery.trim(search_input2.val().length) >= search_min2)
        {
            var data ='url='+window.location.href+
                '&search='+encodeURIComponent(search_input2.val());

            search_input2.parents('.input_2018').find('.b_loading_small').empty().append('<div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div>').show();


            AjaxClient('search',sopen,'GET',data,'AfterSearchTuroper',ls+','+sopen,0,1);




        }
    }, search_deley2);
}

//        
function AfterSearchTuroper(d,c){

    if(c!=null){ if (typeof(c) == "string") { c = c.split(','); } else { c[0]=c; } }

//$('.b_loading_small').remove();
//$('.fox_dell1').show();
    //alert(c);
    var input_search_after=$('.input-search-list[list_number='+c[0]+']').find('.js-keyup-search[sopen='+c[1]+']');


    if(d.status=="ok")
    {




        input_search_after.parents('.input_2018').find('.js-drop-search').empty().append(d.query);

        input_search_after.parents('.input_2018').find('.js-drop-search').css("transform", "scaleY(1)");

        input_search_after.parents('.input-search-list').find('i').addClass('open-search-active');

    }else{   input_search_after.parents('.input_2018').find('.js-drop-search').css("transform", "scaleY(0)");  }

    //$('#sort5c').unbind('change');
    //$('#sort5c').bind('change', changesort5c);

    var uiii=input_search_after.attr('oneli');

    if(uiii!='') {
        input_search_after.parents('.input_2018').find('.js-drop-search').prepend('<li><a href="javascript:void(0);" rel="0">' + uiii + '</a></li>');
    }
    input_search_after.parents('.input_2018').find('.b_loading_small').hide();
}


//    input
function open_search()
{

    var i_open = $(this).parents('.input-search-list').find('i');
    //alert("11");
    if(i_open.is(".open-search-active"))
    {
        i_open.removeClass('open-search-active');
        $(this).parents('.input-search-list').find('.js-drop-search').css("transform", "scaleY(0)");
    } else
    {
        i_open.addClass('open-search-active');
        $(this).parents('.input-search-list').find('.js-drop-search').css("transform", "scaleY(1)");
    }


    //       
    $('.slct').each(function(i,elem)
    {
        $(this).removeClass("active");
        $(this).next().css("transform", "scaleY(0)");
    });


    elemss=$(this).parents('.input-search-list').attr('list_number');
    //        
    $('.drop-search').each(function(i,elem)
    {
        if ($(this).parents('.input_2018').attr('list_number')!=elemss)
        {
            $(this).parents('.input-search-list').find('i').removeClass('open-search-active');
            $(this).parents('.input-search-list').find('.js-drop-search').css("transform", "scaleY(0)");
        }
    });



}

//    input
function drop_search()
{
    var f=$(this).find("a").text();
    var e=$(this).find("a").attr("rel");

    var input_pr=$(this).parents('.input_2018');

    input_pr.find('.click-search-name').empty().append(f).slideDown("slow");


    input_pr.find('.js-hidden-search').val(e).change();
    input_pr.find('.js-keyup-search').val(f);
    input_pr.removeClass('required_in_2018');
    $(this).parents('.input-search-list').find('i').removeClass('open-search-active');

    input_2018();

}
/*

 logitech 401
 Radion 20010
 Samsung l3000 - 
...
|
V
        

*/
$(document).ready(function() {


// 
    $('body').on("click", '.js-more', JsMoreB);
//      

});


//  -	   
//  |
// \/
function JsMoreB()
{

    var mmor=$(this).parents('.js-more-block');

    if(mmor.is('.show-more-all'))
    {
        mmor.removeClass('show-more-all');
    } else
    {
        mmor.addClass('show-more-all');
    }




}

$(function (){


});
$(function (){

    // 
    $('body').on("change keyup input click",'.js-object-edit',js_edit_object);

    // 
    $('body').on("change keyup input click",'.js-object-del',js_object_del);

    //  
    $('body').on("change keyup input click",'.js-add-office',office_adds);
    $('.menu_x').on("change keyup input click",".js-office-add0", office_adds);



    //    
    $('.menu_x').on("change keyup input click",".js-object-add0", js_add_object);

    //     
    $('.js-cloud-object').on("click",".js-info-object",doc_object);
    //       
    $('body').on("change keyup input click",'.tabsss',tabs_object);

});

// 
function office_adds()
{
    if(typeof timerId !== "undefined")
    {
        clearInterval(timerId);
        $.arcticmodal('close');
    }

    //var at= $(this).attr('tabs_g');


    $.arcticmodal({
        type: 'ajax',
        url: 'forms/object/form_add_object.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}


/**    
 *
 */
function tabs_object() {
    //alert("!");
    var uoo=$(this).attr("id");
    if ( $(this).is(".active") )
    {
        //  
    } else
    {
        $('.client_window .px_bg').empty().append('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        $('.js-tabs-menu').find('.tabsss').removeClass('active');
        $('.js-tabs-menu').find('.tabsss[id='+uoo+']').addClass('active');

        //var key_='002U';

        var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
            '&tk='+$('.h111').attr('mor')+
            '&id='+$('.h111').attr('for');
        //alert(data);
        AjaxClient('object','tabs_info','GET',data,'AfterTabsInfo',$(this).attr("id"),0);
    }
}


/**   
 *
 */
function doc_object(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-object-del'))&&(!$target.hasClass('js-object-edit'))) {


        var for_id = $(this).attr('op_rel');

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/object/form_doc_object.php?id=' + for_id + '&tabs=0',
            beforeOpen: function (data, el) {
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');

            },
            afterOpen: function (data, el) {
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
                ToolTip();
            },
            afterClose: function (data, el) { //    ArcticModal
                clearInterval(timerId);
            }

        });
    }
}


/**
   
 **/
function js_add_object()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/object/form_add_object.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });
}

/**
 *  
 */
function js_edit_object(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.object_block_pass').attr('op_rel');
    }
    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/object/form_edit_object.php?id_buy='+id_buy,
        beforeOpen: function (data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function (data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function (data, el) { //    ArcticModal
            if (typeof timerId !== "undefined") {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });

}


/**
 *  
 */
function js_object_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.object_block_pass').attr('op_rel');
    }

    event.stopPropagation();




    $.arcticmodal({
        type: 'ajax',
        url: 'forms/object/form_dell_object.php?id_buy='+id_buy,
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}
$(function (){

    // 
    //$('body').on("change keyup input click",'.js-pass-edit',js_edit_pass);

    // 
    $('body').on("change keyup input click",'.js-pass-del',js_pass_del);

    //  
    $('body').on("change keyup input click",'.js-add-pass',js_add_pass);

    //    
    $('.menu_x').on("change keyup input click",".js-pass-add0", js_add_pass);

    // 
    $('body').on("change keyup input click",'.js-add-comment-trips',{key: "008U"},add_comm_trips);
    $('body').on("change keyup input click",'.js-exit-form-comm-trips',exit_comm_trips);
    $('body').on("change keyup input click",'.js-add-comment-yes-trips',add_comment_yes_trips);
    $('body').on("change keyup input click",'.js-com-trips-del',del_comm_trips);

    //     
    $('body').on("click",".js-info-pass",doc_pass);
    //       



    //  
    $('body').on("change keyup input click",'.js-search-global-page',js_search_global_page);



//     
    $('body').on("change keyup input click",'.js-eshe-client-x',eshe_say_client);
//      

//    
    $('body').on("keyup",'.js-choice-keyup',js_choice_keyup);

});

//      form_choice_client
function js_choice_keyup()
{
    var search_min2_search_c = 2;  //     
    var search_deley2_search_c=800;	//    -     
    var object_key=$('.js-choice-keyup');

    delays(function(){
        //alert(object_key.val());

        if((jQuery.trim(object_key.val().length) >= search_min2_search_c)||(jQuery.trim(object_key.val().length)==0))
        {

            var val1= $('.js-tabs-menu-choiche').find('.active').attr('id');
            if(val1 == undefined)
            {
                val1=4;
            }

            var data ='url='+window.location.href+
                '&all='+$('.js-eshe-client-x').attr("all")+
                '&tk='+$('.js-s_form_xx').attr('mor')+
                '&id='+$('.js-s_form_xx').attr('for')+
                '&search='+encodeURIComponent(object_key.val())+
                '&tabs='+val1;


            $('.js-icon-load').hide().after('<div class="b_loading_small" style="margin-right:-20px; position:relative; top: 0px; right: 0px; padding-top:0px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

            AjaxClient('pass','search_pass','GET',data,'AfterSearchClientT',1,0);
        }


    }, search_deley2_search_c);
}

//      
function AfterSearchClientT(d,c)
{
    $('.b_loading_small').remove();
    $('.js-icon-load').show();



    if(d.status=="ok"){
        $('.js-eshe-client-x').attr('pg',1);
        $('.js-eshe-client-x').attr('start',0);
        $('.list-scroll-client').find('.block_pass_small').remove();
        $('.list-scroll-client').prepend(d.query);




        if(d.query=='')
        {
            $('.js-message-search-cc').show();
        } else
        {
            $('.js-message-search-cc').hide();
        }

        if(d.eshe==1)
        {
            $('.js-eshe-client-x').show();
        } else
        {
            $('.js-eshe-client-x').hide();
        }
    }else{

        $(".list-scroll-client").hide();

    }

}


//      
var eshe_say_client = function()
{
    //alert("!");
    var pg=$(this).attr("pg");
    var start=$(this).attr("start");
    var all=$(this).attr("all");



    $('.js-eshe-client-x').empty().append('<div class="b_loading_small" style="position:relative; top: -5px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

    var val1= $('.js-tabs-menu-choiche').find('.active').attr('id');
    if(val1== undefined)
    {
        val1=4;
    }


    var data ='url='+window.location.href+'&pg='+pg+'&start='+start+'&all='+all+
        '&tk='+$('.js-s_form_xx').attr('mor')+
        '&id='+$('.js-s_form_xx').attr('for')+
        '&query='+ec($('.js-choice-keyup').val())+
        '&tabs='+val1;
    AjaxClient('pass','tabs_pass_eshe','GET',data,'AfterClientEshe',1,0);
}

//      
function AfterClientEshe(data,update)
{
    if ( data.status=='reg' )
    {
        WindowLogin();
    }
    if ( data.status=='ok' )
    {
        $('.js-eshe-client-x').before(data.echo);
        if(data.eshe==1)
        {

            $('.js-eshe-client-x').attr('pg',data.pg).empty().append('<span> </span>');
        } else
        {
            $('.js-eshe-client-x').hide();
            $('.js-eshe-client-x').empty().append('<span> </span>');
        }
        ToolTip();
    }
}

//      
function js_search_global_page()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/pass/form_choice_pass.php?tabs=1&tabss=all&several=0&posta=choice_user_task1&new=0',
        beforeOpen: function(data, el) {
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterOpen: function(data, el) {
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
            ToolTip();
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }
    });
}



/**
 *    -  
 */
function del_comm_trips(event)
{

    var del_id=$(this).parents('.comm-trips-block').attr('rel_notibss');

    var data ='url='+window.location.href+
        '&id='+$('.h111').attr('for')+'&sel='+del_id;

    $('.comm-trips-block[rel_notibss='+del_id+']').slideUp("slow");

    AjaxClient('devices','dell_comm','GET',data,'AfterZero',del_id,0,1);

    alert_message('ok','   ');

}

/**
 *            
 */
function add_comment_yes_trips(event)
{
    var err = 0;
    //alert("!");

    var form_move=$(this).parents('.js-ssay');
    //var form_move=$('.js-comment-add-'+event.data.key)

    form_move.find(".div_textarea_say").removeClass('error_textarea_2018');

    if(form_move.find('.js-comment-add-trips-v').val() == '')
    {
        form_move.find(".div_textarea_say").addClass('error_textarea_2018');
        err=1;

    }



    if(err==0)
    {
        var id_trips=$('.gloab-cc').attr('for');
       // var for_id=$('.gloab-cc').attr('for');

        var data ='url='+window.location.href+
            '&id='+id_trips+'&text='+ec(form_move.find('.js-comment-add-trips-v').val());


        //   
        form_move.find('.js-add-comment-yes-trips').hide();

        form_move.find('.js-exit-form-comm-trips').hide().after('<div class="b_loading_small" style="position:relative; width: 40px;padding-top: 7px;top: auto;right: auto;left: auto;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        AjaxClient('devices','add_comment','GET',data,'AfterAddCommentTrips',id_trips,0,1);


    }else
    {
        var text_bb22 = $('.js-add-say').text();
        $('.js-add-say').empty().append(' !');
        $('.js-add-say').addClass('new-say1');
        setTimeout ( function () { $('.js-add-say').removeClass('new-say1'); $('.js-add-say').empty().append(text_bb22);  }, 4000 );
        alert_message('error',' ');


    }
}

/**
 *
 *       
 * @param data
 * @param update
 * @constructor
 */
function AfterAddCommentTrips(data,update)
{
    if ( data.status=='reg' )
    {
        WindowLogin();
    }
    if ( data.status=='ok' )
    {
        var form_move=$('.box-modal').find('.js-ssay');

        form_move.find('.js-add-comment-yes-trips').show();
        form_move.find('.js-exit-form-comm-trips').show();


        form_move.find('.b_loading_small').remove();



        form_move.slideUp( "slow" );
        form_move.prev().slideDown( "slow" );


        form_move.find('.js-comment-add-trips-v').val('');

        form_move.after(data.echo);
        setTimeout ( function () { form_move.parents('.box-modal').find( '.new-say-com-t ' ).removeClass('new-say-com-t '); }, 4000 );
        ToolTip();

        form_move.find('.js-message-com-t').slideUp("slow");
        alert_message('ok','   ');

    }
}

/*
 *        
 */
function exit_comm_trips(event)
{
    $(this).parents('.js-ssay').slideUp("slow");
    $(this).parents('.js-ssay').prev().slideDown( "slow" );
}

/*
 *        
 */
function add_comm_trips(event)
{
    $(this).slideUp("slow");
    $(this).next().slideDown( "slow" );
}










/*   
 *
 */
function doc_pass(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }


    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-menu-jjs-b'))&&(!$target.hasClass('more_supply1'))&&(!$target.hasClass('js-no-no-click'))) {

        var for_id = $(this).attr('pass_rel');

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/pass/form_doc_pass.php?id=' + for_id + '&tabs=0',
            beforeOpen: function (data, el) {
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');

            },
            afterOpen: function (data, el) {
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
                ToolTip();
            },
            afterClose: function (data, el) { //    ArcticModal
                clearInterval(timerId);
            }

        });
    }
}


/*
   
 */
function js_add_pass()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/pass/form_add_pass.php',
        beforeOpen: function(data, el) {
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');

        },
        afterOpen: function(data, el) {
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
            ToolTip();
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });
}

/*
 *  
 */
function js_edit_pass(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.pass_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/pass/form_edit_pass.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

}


/*
 *  
 */
function js_pass_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.pass_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/pass/form_dell_pass.php?id_buy='+id_buy,
        beforeOpen: function(data, el) {
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');

        },
        afterOpen: function(data, el) {
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
            ToolTip();
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

    /*
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/pass/form_dell_pass.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });
*/
}
$(function (){

    // 
    $('body').on("change keyup input click",'.js-person-edit',js_edit_person);

    //       
    $('body').on("change keyup input click",'.menu_jjs .js-menu-jjs-b',menubuttclick_person);


    $('body').on("change keyup input click",'.js-info-person',doc_person);
    //       
    $('body').on("change keyup input click",'.js-tabs-person',tabs_person);

    // 
    $('body').on("change keyup input click",'.js-person-del',js_person_del);

    //  
    $('body').on("change keyup input click",'.js-add-person',js_add_person);

    //    
    $('.menu_x').on("change keyup input click",".js-person-add0", js_add_person);

    //   
    $('body').on("change keyup input click",'.js-text-search-x',changesort_stock2);

    //     
    var changesort1c = function() {
        var iu=$('.content').attr('iu');

        $.cookie("su_1c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("su_1c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#sort1c').bind('change', changesort1c);

    //     
    var changesort3c = function() {
        var iu=$('.content').attr('iu');

        $.cookie("su_3c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("su_3c"+iu,$(this).val(),'add');
        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };
    $('#sort3c').bind('change', changesort3c);


    //  

    var changesort7c = function() {
        var iu=$('.content').attr('iu');
        $.cookie("su_7c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        CookieList("su_7c"+iu,$(this).val(),'add');

        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

    };

    $('#name_stock_search').bind('change keyup input click', changesort7c);


    //      
    var changesort_stock2__= function() {
        var iu=$('.content').attr('iu');
        $(this).prev().val('');
        $.cookie("su_7c"+iu, null, {path:'/',domain: window.is_session,secure: false});
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

        $('.js-reload-top').removeClass('active-r');
        $('.js-reload-top').addClass('active-r');

        $(this).hide();
    }

//     
    $('.dell_stock_search').bind('change keyup input click', changesort_stock2__);

});

/*
 *        
 */

function menubuttclick_person(event)
{
    event.stopPropagation();


    var rel=$(this).find('a').attr('make');

    if(rel=='edit')
    {
        //
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {


            var id_buy = $(this).parents('.block_pass').attr('pass_rel');
        }

        event.stopPropagation();

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/person/form_edit_person.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });



    }
    if(rel=='dell')
    {
        //
        if (typeof timerId != 'undefined') {

            clearInterval(timerId);
            $.arcticmodal('close');

        }
        if($(this).is('[id_rel]'))
        {
            var id_buy= $(this).attr('id_rel');
        } else {


            var id_buy = $(this).parents('.block_pass').attr('pass_rel');
        }

        event.stopPropagation();


        $.arcticmodal({
            type: 'ajax',
            url: 'forms/person/form_dell_person.php?id_buy='+id_buy,
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });

    }

}


function changesort_stock2() {
    //alert("1");
    if($(this).val()!='')
    {
        $(this).next().show();
        //   
        $('.js--sort').addClass('greei_input');
        $('.js--sort').find('input').prop('readonly',true);

    }else
    {
        $(this).next().hide();
        //   
        $('.js--sort').removeClass('greei_input');
        $('.js--sort').find('input').removeAttr('readonly');

    }
}



/*    
 *
 */
function tabs_person() {
    //alert("!");
    var uoo=$(this).attr("id");
    if ( $(this).is(".active") )
    {
        //  
    } else
    {
        $('.js-cloud-info-text').empty().append('<div class="b_loading_small" style="position:relative; margin-bottom: 30px;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        $('.js-tabs-menu').find('.js-tabs-person').removeClass('active');
        $('.js-tabs-menu').find('.js-tabs-person[id='+uoo+']').addClass('active');

        //var key_='002U';



        var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
            '&tk='+$('.box-modal .gloab-cc').attr('mor')+
            '&id='+$('.box-modal .gloab-cc').attr('for');



        //alert(data);
        AjaxClient('person','tabs_info','GET',data,'AfterTabsInfoPerson',$(this).attr("id"),0);
    }
}
// 
function person_adds()
{
    if(typeof timerId !== "undefined")
    {
        clearInterval(timerId);
        $.arcticmodal('close');
    }

    //var at= $(this).attr('tabs_g');


    $.arcticmodal({
        type: 'ajax',
        url: 'forms/person/form_add_person.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}





/**   
 *
 */
function doc_person(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-person-del'))&&(!$target.hasClass('js-person-edit'))) {


        //var for_id = $(this).parents('.js-person-block').attr('op_rel');

        if($(this).is('[op_rel]'))
        {
            var for_id= $(this).attr('op_rel');
        } else {


            var for_id = $(this).parents('.js-person-block').attr('op_rel');
        }




        $.arcticmodal({
            type: 'ajax',
            url: 'forms/person/form_doc_person.php?id=' + for_id + '&tabs=0',
            beforeOpen: function (data, el) {
                //     ajax 
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');
            },
            afterLoading: function (data, el) {
                //    ajax
                data.body.parents('.arcticmodal-container').addClass('yoi');
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
            },
            beforeClose: function (data, el) { //    ArcticModal
                if (typeof timerId !== "undefined") {
                    clearInterval(timerId);
                }
                BodyScrool();
            }

        });

    }
}


/**
   
 **/
function js_add_person()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/person/form_add_person.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });
}

/**
 *  
 */
function js_edit_person(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.person_block_pass').attr('op_rel');
    }
    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/person/form_edit_person.php?id_buy='+id_buy,
        beforeOpen: function (data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function (data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function (data, el) { //    ArcticModal
            if (typeof timerId !== "undefined") {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });

}


/**
 *  
 */
function js_person_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.person_block_pass').attr('op_rel');
    }

    event.stopPropagation();




    $.arcticmodal({
        type: 'ajax',
        url: 'forms/person/form_dell_person.php?id_buy='+id_buy,
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}
$(function (){

    // 
    $('body').on("change keyup input click",'.js-question-edit',js_edit_question);


    // 
    $('body').on("change keyup input click",'.js-question-del',js_question_del);
    //  
    $('body').on("change keyup input click",'.js-add-question',js_add_question);
    //    
    $('.menu_x').on("change keyup input click",".js-question-add0", js_add_question);
    //     
    $('.js-cloud-question').on("click",".js-info-question",doc_question);
    //       
    $('body').on("change keyup input click",'.tabsss',tabs_question);

});

/**    
 *
 */
function tabs_question() {
    //alert("!");
    var uoo=$(this).attr("id");
    if ( $(this).is(".active") )
    {
        //  
    } else
    {
        $('.client_window .px_bg').empty().append('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        $('.js-tabs-menu').find('.tabsss').removeClass('active');
        $('.js-tabs-menu').find('.tabsss[id='+uoo+']').addClass('active');

        //var key_='002U';

        var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
            '&tk='+$('.h111').attr('mor')+
            '&id='+$('.h111').attr('for');
        //alert(data);
        AjaxClient('question','tabs_info','GET',data,'AfterTabsInfo',$(this).attr("id"),0);
    }
}


/**   
 *
 */
function doc_question(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-question-del'))&&(!$target.hasClass('js-question-edit'))) {


        var for_id = $(this).attr('op_rel');

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/question/form_doc_question.php?id=' + for_id + '&tabs=0',
            beforeOpen: function (data, el) {
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');

            },
            afterOpen: function (data, el) {
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
                ToolTip();
            },
            afterClose: function (data, el) { //    ArcticModal
                clearInterval(timerId);
            }

        });
    }
}


/**
   
 **/
function js_add_question()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/question/form_add_question.php',
        beforeOpen: function(data, el) {
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');

        },
        afterOpen: function(data, el) {
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
            ToolTip();
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });
}

/**
 *  
 */
function js_edit_question(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.question_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/question/form_edit_question.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

}


/**
 *  
 */
function js_question_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.question_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/question/form_dell_question.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

}
$(function (){

    // 
    $('body').on("change keyup input click",'.js-section-edit',js_edit_section);

    // 
    $('body').on("change keyup input click",'.js-section-del',js_section_del);

    //  
    $('body').on("change keyup input click",'.js-add-section',js_add_section);

    //    
    $('.menu_x').on("change keyup input click",".js-section-add0", js_add_section);


});

// 
function section_adds()
{
    if(typeof timerId !== "undefined")
    {
        clearInterval(timerId);
        $.arcticmodal('close');
    }

    //var at= $(this).attr('tabs_g');


    $.arcticmodal({
        type: 'ajax',
        url: 'forms/section/form_add_section.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}


/**    
 *
 */
function tabs_section() {
    //alert("!");
    var uoo=$(this).attr("id");
    if ( $(this).is(".active") )
    {
        //  
    } else
    {
        $('.client_window .px_bg').empty().append('<div class="b_loading_small" style="position:relative;"><div class="b_loading_circle_wrapper_small"><div class="b_loading_circle_one_small"></div><div class="b_loading_circle_one_small b_loading_circle_delayed_small"></div></div></div>');

        $('.js-tabs-menu').find('.tabsss').removeClass('active');
        $('.js-tabs-menu').find('.tabsss[id='+uoo+']').addClass('active');

        //var key_='002U';

        var data ='url='+window.location.href+'&id_tabs='+$(this).attr("id")+
            '&tk='+$('.h111').attr('mor')+
            '&id='+$('.h111').attr('for');
        //alert(data);
        AjaxClient('section','tabs_info','GET',data,'AfterTabsInfo',$(this).attr("id"),0);
    }
}


/**   
 *
 */
function doc_section(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    $target = $(event.target);
    //          
    if ((!$target.hasClass('js-section-del'))&&(!$target.hasClass('js-section-edit'))) {


        var for_id = $(this).attr('op_rel');

        $.arcticmodal({
            type: 'ajax',
            url: 'forms/section/form_doc_section.php?id=' + for_id + '&tabs=0',
            beforeOpen: function (data, el) {
                $('.loader_ada_forms').show();
                $('.loader_ada1_forms').addClass('select_ada');

            },
            afterOpen: function (data, el) {
                $('.loader_ada_forms').hide();
                $('.loader_ada1_forms').removeClass('select_ada');
                ToolTip();
            },
            afterClose: function (data, el) { //    ArcticModal
                clearInterval(timerId);
            }

        });
    }
}


/**
   
 **/
function js_add_section()
{
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/section/form_add_section.php',
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });
}

/**
 *  
 */
function js_edit_section(event)
{
    //alert("!");
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }
    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {


        var id_buy = $(this).parents('.section_block_pass').attr('op_rel');
    }
    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/section/form_edit_section.php?id_buy='+id_buy,
        beforeOpen: function (data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function (data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function (data, el) { //    ArcticModal
            if (typeof timerId !== "undefined") {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });

}


/**
 *  
 */
function js_section_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.section_block_pass').attr('op_rel');
    }

    event.stopPropagation();




    $.arcticmodal({
        type: 'ajax',
        url: 'forms/section/form_dell_section.php?id_buy='+id_buy,
        beforeOpen: function(data, el) {
            //     ajax 
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');
        },
        afterLoading: function(data, el) {
            //    ajax
            data.body.parents('.arcticmodal-container').addClass('yoi');
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
        },
        beforeClose: function(data, el) { //    ArcticModal
            if(typeof timerId !== "undefined")
            {
                clearInterval(timerId);
            }
            BodyScrool();
        }

    });



}
$(function (){

    // 
    //$('body').on("change keyup input click",'.js-pass-edit',js_edit_pass);

    // 
    $('body').on("change keyup input click",'.js-set-del',js_set_del);


});

/*
 *  
 */
function js_set_del(event)
{
    if (typeof timerId != 'undefined') {

        clearInterval(timerId);
        $.arcticmodal('close');

    }

    if($(this).is('[id_rel]'))
    {
        var id_buy= $(this).attr('id_rel');
    } else {
        var id_buy = $(this).parents('.set_block_pass').attr('op_rel');
    }

    event.stopPropagation();

    $.arcticmodal({
        type: 'ajax',
        url: 'forms/set/form_dell_set.php?id_buy='+id_buy,
        beforeOpen: function(data, el) {
            $('.loader_ada_forms').show();
            $('.loader_ada1_forms').addClass('select_ada');

        },
        afterOpen: function(data, el) {
            $('.loader_ada_forms').hide();
            $('.loader_ada1_forms').removeClass('select_ada');
            ToolTip();
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });

    /*
    $.arcticmodal({
        type: 'ajax',
        url: 'forms/pass/form_dell_pass.php?id_buy='+id_buy,
        afterLoading: function(data, el) {
            //alert('afterLoading');
        },
        afterLoadingOnShow: function(data, el) {
            //alert('afterLoadingOnShow');
        },
        afterClose: function(data, el) { //    ArcticModal
            clearInterval(timerId);
        }

    });
*/
}
//    
//style - ok error war
//alert_message('error','   ');
function alert_message(style,text)
{
	
	var maxValue = 1;
$(".alert_wrapper .div-box").find('.alert-message').each(function() { 
      value = $(this).attr("alert-id");
  if(value > maxValue) {
    maxValue = value;
  }
});

	
	$('.alert_wrapper .div-box').prepend(function () { $(this).find('.alert-message ').addClass('show-alert'); },'<div alert-id="'+(maxValue+1)+'" class="  alert-message '+style+'-a"><div class="alert-icon"></div><div class="alert-content">'+text+'</div><div class="alert-close js-alert-close"></div></div>');

	setTimeout ( function () {  $('.alert-message[alert-id='+(maxValue+1)+']').addClass('show-alert'); }, 500 );	
	
	//$('.alert_wrapper .div-box').find('.alert-message').first().addClass('show-alert');
	
	setTimeout ( function () {  $('.alert-message[alert-id='+(maxValue+1)+']').addClass('hide-alert'); 
							 

				setTimeout ( function () {  $('.alert-message[alert-id='+(maxValue+1)+']').remove(); 
							 
							 
							 
							 
							 }, 500 );
							 
							 }, 5000 );
}
// JavaScript Document
$(function (){

// zindex  select 
Zindex();
	
});


// zindex  select 
//  |
// \/
function Zindex() {
  var zindex=50;
	//alert($('.js-zindex').length);
  $('.js-zindex').each(function (i, elem) {
      $(this).css("z-index", zindex);
	  zindex--;
    });
  }
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS0yLjEuMS5qcyIsImNsaXBib2FyZC5qcyIsImpxdWVyeS11aS0xLjkuMi5jdXN0b20ubWluLmpzIiwianF1ZXJ5LmFqYXguanMiLCJqcXVlcnkuY2lyY2xpZnVsLm1pbi5qcyIsImpxdWVyeS5kYXRlcGlja2VyLmV4dGVuc2lvbi5yYW5nZS5taW4uanMiLCJqcXVlcnkuZWFzaW5ncy5taW4uanMiLCJqcXVlcnkuZnJlZXplaGVhZGVyLmpzIiwianF1ZXJ5LmZ1bGxQYWdlLmpzIiwianF1ZXJ5Lmhpc3RvcnkuanMiLCJqcXVlcnkuaW5wdXRtYXNrLmJ1bmRsZS5qcyIsImpxdWVyeS5tYXNrLm1pbi5qcyIsImpxdWVyeS5zY3JvbGxUby1taW4uanMiLCJqcXVlcnkuc2xpbXNjcm9sbC5taW4uanMiLCJsZy1mdWxsc2NyZWVuLm1pbi5qcyIsImxnLXRodW1ibmFpbC5taW4uanMiLCJtb2Rlcm5penIuY3VzdG9tLjUzNDUxLmpzIiwicmVtLmpzIiwicmVzcG9uZC5zcmMuanMiLCJzY3JvbGxiYXIuanMiLCJzY3JvbGxvdmVyZmxvdy5qcyIsImFkZF9maWxlcy5qcyIsImFkZF9ncm91cF9pbnB1dC5qcyIsImFzc2Vzcy5qcyIsImJhc2tldC5qcyIsImJ1c2luZXNzLmpzIiwiZGV2aWNlcy5qcyIsImV4YW0uanMiLCJpbmRleC5qcyIsImluZGV4Mi5qcyIsImlucHV0X2F1dG9fd2lkdGguanMiLCJpbnZvaWNlLmpzIiwiaXRlbXMuanMiLCJrZXlfdXBfc2VhcmNoX2xpc3QuanMiLCJtb3JlX3Nob3dfaGlkZS5qcyIsIm5vbmUuanMiLCJvYmplY3QuanMiLCJwYXNzLmpzIiwicGVyc29uLmpzIiwicXVlc3Rpb24uanMiLCJzZWN0aW9uLmpzIiwic2V0LmpzIiwic2xpY2VfbWVzc2FnZS5qcyIsInppbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcEpBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDLzREQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOStGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3d0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3IvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN4UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5MkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMzUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOWdZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOXRCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3h4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM2VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdmRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzlQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImluZGV4Lm1hcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBqUXVlcnkgdjIuMS4xIHwgKGMpIDIwMDUsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cclxuIWZ1bmN0aW9uKGEsYil7XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIpO3JldHVybiBiKGEpfTpiKGEpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1jLnNsaWNlLGU9Yy5jb25jYXQsZj1jLnB1c2gsZz1jLmluZGV4T2YsaD17fSxpPWgudG9TdHJpbmcsaj1oLmhhc093blByb3BlcnR5LGs9e30sbD1hLmRvY3VtZW50LG09XCIyLjEuMVwiLG49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IG4uZm4uaW5pdChhLGIpfSxvPS9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxwPS9eLW1zLS8scT0vLShbXFxkYS16XSkvZ2kscj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O24uZm49bi5wcm90b3R5cGU9e2pxdWVyeTptLGNvbnN0cnVjdG9yOm4sc2VsZWN0b3I6XCJcIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPzA+YT90aGlzW2ErdGhpcy5sZW5ndGhdOnRoaXNbYV06ZC5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9bi5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYSk7cmV0dXJuIGIucHJldk9iamVjdD10aGlzLGIuY29udGV4dD10aGlzLmNvbnRleHQsYn0sZWFjaDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmVhY2godGhpcyxhLGIpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Zixzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSxcIm9iamVjdFwiPT10eXBlb2YgZ3x8bi5pc0Z1bmN0aW9uKGcpfHwoZz17fSksaD09PWkmJihnPXRoaXMsaC0tKTtpPmg7aCsrKWlmKG51bGwhPShhPWFyZ3VtZW50c1toXSkpZm9yKGIgaW4gYSljPWdbYl0sZD1hW2JdLGchPT1kJiYoaiYmZCYmKG4uaXNQbGFpbk9iamVjdChkKXx8KGU9bi5pc0FycmF5KGQpKSk/KGU/KGU9ITEsZj1jJiZuLmlzQXJyYXkoYyk/YzpbXSk6Zj1jJiZuLmlzUGxhaW5PYmplY3QoYyk/Yzp7fSxnW2JdPW4uZXh0ZW5kKGosZixkKSk6dm9pZCAwIT09ZCYmKGdbYl09ZCkpO3JldHVybiBnfSxuLmV4dGVuZCh7ZXhwYW5kbzpcImpRdWVyeVwiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLFwiXCIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4hbi5pc0FycmF5KGEpJiZhLXBhcnNlRmxvYXQoYSk+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKT8hMTphLmNvbnN0cnVjdG9yJiYhai5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLFwiaXNQcm90b3R5cGVPZlwiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYT9oW2kuY2FsbChhKV18fFwib2JqZWN0XCI6dHlwZW9mIGF9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYz1ldmFsO2E9bi50cmltKGEpLGEmJigxPT09YS5pbmRleE9mKFwidXNlIHN0cmljdFwiKT8oYj1sLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksYi50ZXh0PWEsbC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLFwibXMtXCIpLnJlcGxhY2UocSxyKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPTAsZj1hLmxlbmd0aCxnPXMoYSk7aWYoYyl7aWYoZyl7Zm9yKDtmPmU7ZSsrKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgaWYoZyl7Zm9yKDtmPmU7ZSsrKWlmKGQ9Yi5jYWxsKGFbZV0sZSxhW2VdKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5jYWxsKGFbZV0sZSxhW2VdKSxkPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjooYStcIlwiKS5yZXBsYWNlKG8sXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocyhPYmplY3QoYSkpP24ubWVyZ2UoYyxcInN0cmluZ1wiPT10eXBlb2YgYT9bYV06YSk6Zi5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmcuY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPTAsZz1hLmxlbmd0aCxoPXMoYSksaT1bXTtpZihoKWZvcig7Zz5mO2YrKylkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtlbHNlIGZvcihmIGluIGEpZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7cmV0dXJuIGUuYXBwbHkoW10saSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGU9ZC5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDprfSksbi5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvclwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2hbXCJbb2JqZWN0IFwiK2IrXCJdXCJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9YS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuXCJmdW5jdGlvblwiPT09Y3x8bi5pc1dpbmRvdyhhKT8hMToxPT09YS5ub2RlVHlwZSYmYj8hMDpcImFycmF5XCI9PT1jfHwwPT09Ynx8XCJudW1iZXJcIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT1cInNpenpsZVwiKy1uZXcgRGF0ZSx2PWEuZG9jdW1lbnQsdz0wLHg9MCx5PWdiKCksej1nYigpLEE9Z2IoKSxCPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYobD0hMCksMH0sQz1cInVuZGVmaW5lZFwiLEQ9MTw8MzEsRT17fS5oYXNPd25Qcm9wZXJ0eSxGPVtdLEc9Ri5wb3AsSD1GLnB1c2gsST1GLnB1c2gsSj1GLnNsaWNlLEs9Ri5pbmRleE9mfHxmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2M+YjtiKyspaWYodGhpc1tiXT09PWEpcmV0dXJuIGI7cmV0dXJuLTF9LEw9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLE09XCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLE49XCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXFxceDAwLVxcXFx4YTBdKStcIixPPU4ucmVwbGFjZShcIndcIixcIncjXCIpLFA9XCJcXFxcW1wiK00rXCIqKFwiK04rXCIpKD86XCIrTStcIiooWypeJHwhfl0/PSlcIitNK1wiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIrTytcIikpfClcIitNK1wiKlxcXFxdXCIsUT1cIjooXCIrTitcIikoPzpcXFxcKCgoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXwoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIrUCtcIikqKXwuKilcXFxcKXwpXCIsUj1uZXcgUmVnRXhwKFwiXlwiK00rXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiK00rXCIrJFwiLFwiZ1wiKSxTPW5ldyBSZWdFeHAoXCJeXCIrTStcIiosXCIrTStcIipcIiksVD1uZXcgUmVnRXhwKFwiXlwiK00rXCIqKFs+K35dfFwiK00rXCIpXCIrTStcIipcIiksVT1uZXcgUmVnRXhwKFwiPVwiK00rXCIqKFteXFxcXF0nXFxcIl0qPylcIitNK1wiKlxcXFxdXCIsXCJnXCIpLFY9bmV3IFJlZ0V4cChRKSxXPW5ldyBSZWdFeHAoXCJeXCIrTytcIiRcIiksWD17SUQ6bmV3IFJlZ0V4cChcIl4jKFwiK04rXCIpXCIpLENMQVNTOm5ldyBSZWdFeHAoXCJeXFxcXC4oXCIrTitcIilcIiksVEFHOm5ldyBSZWdFeHAoXCJeKFwiK04ucmVwbGFjZShcIndcIixcIncqXCIpK1wiKVwiKSxBVFRSOm5ldyBSZWdFeHAoXCJeXCIrUCksUFNFVURPOm5ldyBSZWdFeHAoXCJeXCIrUSksQ0hJTEQ6bmV3IFJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIrTStcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiK00rXCIqKD86KFsrLV18KVwiK00rXCIqKFxcXFxkKyl8KSlcIitNK1wiKlxcXFwpfClcIixcImlcIiksYm9vbDpuZXcgUmVnRXhwKFwiXig/OlwiK0wrXCIpJFwiLFwiaVwiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cChcIl5cIitNK1wiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIitNK1wiKigoPzotXFxcXGQpP1xcXFxkKilcIitNK1wiKlxcXFwpfCkoPz1bXi1dfCQpXCIsXCJpXCIpfSxZPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWj0vXmhcXGQkL2ksJD0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLF89L14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sYWI9L1srfl0vLGJiPS8nfFxcXFwvZyxjYj1uZXcgUmVnRXhwKFwiXFxcXFxcXFwoW1xcXFxkYS1mXXsxLDZ9XCIrTStcIj98KFwiK00rXCIpfC4pXCIsXCJpZ1wiKSxkYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9XCIweFwiK2ItNjU1MzY7cmV0dXJuIGQhPT1kfHxjP2I6MD5kP1N0cmluZy5mcm9tQ2hhckNvZGUoZCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShkPj4xMHw1NTI5NiwxMDIzJmR8NTYzMjApfTt0cnl7SS5hcHBseShGPUouY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRlt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYil7ST17YXBwbHk6Ri5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtILmFwcGx5KGEsSi5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmIoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3LHg7aWYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4sZD1kfHxbXSwhYXx8XCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuIGQ7aWYoMSE9PShrPWIubm9kZVR5cGUpJiY5IT09aylyZXR1cm5bXTtpZihwJiYhZSl7aWYoZj1fLmV4ZWMoYSkpaWYoaj1mWzFdKXtpZig5PT09ayl7aWYoaD1iLmdldEVsZW1lbnRCeUlkKGopLCFofHwhaC5wYXJlbnROb2RlKXJldHVybiBkO2lmKGguaWQ9PT1qKXJldHVybiBkLnB1c2goaCksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGg9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGopKSYmdChiLGgpJiZoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBJLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaj1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEkuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaikpLGR9aWYoYy5xc2EmJighcXx8IXEudGVzdChhKSkpe2lmKHM9cj11LHc9Yix4PTk9PT1rJiZhLDE9PT1rJiZcIm9iamVjdFwiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtvPWcoYSksKHI9Yi5nZXRBdHRyaWJ1dGUoXCJpZFwiKSk/cz1yLnJlcGxhY2UoYmIsXCJcXFxcJCZcIik6Yi5zZXRBdHRyaWJ1dGUoXCJpZFwiLHMpLHM9XCJbaWQ9J1wiK3MrXCInXSBcIixsPW8ubGVuZ3RoO3doaWxlKGwtLSlvW2xdPXMrcWIob1tsXSk7dz1hYi50ZXN0KGEpJiZvYihiLnBhcmVudE5vZGUpfHxiLHg9by5qb2luKFwiLFwiKX1pZih4KXRyeXtyZXR1cm4gSS5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbCh4KSksZH1jYXRjaCh5KXt9ZmluYWxseXtyfHxiLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFIsXCIkMVwiKSxiLGQsZSl9ZnVuY3Rpb24gZ2IoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjK1wiIFwiKT5kLmNhY2hlTGVuZ3RoJiZkZWxldGUgYlthLnNoaWZ0KCldLGJbYytcIiBcIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBoYihhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGliKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudChcImRpdlwiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYihhLGIpe3ZhciBjPWEuc3BsaXQoXCJ8XCIpLGU9YS5sZW5ndGg7d2hpbGUoZS0tKWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGtiKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmKH5iLnNvdXJjZUluZGV4fHxEKS0ofmEuc291cmNlSW5kZXh8fEQpO2lmKGQpcmV0dXJuIGQ7aWYoYyl3aGlsZShjPWMubmV4dFNpYmxpbmcpaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBsYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG1iKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PWN8fFwiYnV0dG9uXCI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmIoYSl7cmV0dXJuIGhiKGZ1bmN0aW9uKGIpe3JldHVybiBiPStiLGhiKGZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hKFtdLGMubGVuZ3RoLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWNbZT1mW2ddXSYmKGNbZV09IShkW2VdPWNbZV0pKX0pfSl9ZnVuY3Rpb24gb2IoYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09QyYmYX1jPWZiLnN1cHBvcnQ9e30sZj1mYi5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/XCJIVE1MXCIhPT1iLm5vZGVOYW1lOiExfSxtPWZiLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGU9YT9hLm93bmVyRG9jdW1lbnR8fGE6dixnPWUuZGVmYXVsdFZpZXc7cmV0dXJuIGUhPT1uJiY5PT09ZS5ub2RlVHlwZSYmZS5kb2N1bWVudEVsZW1lbnQ/KG49ZSxvPWUuZG9jdW1lbnRFbGVtZW50LHA9IWYoZSksZyYmZyE9PWcudG9wJiYoZy5hZGRFdmVudExpc3RlbmVyP2cuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLGZ1bmN0aW9uKCl7bSgpfSwhMSk6Zy5hdHRhY2hFdmVudCYmZy5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIsZnVuY3Rpb24oKXttKCl9KSksYy5hdHRyaWJ1dGVzPWliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzTmFtZT1cImlcIiwhYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWliKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKGUuY3JlYXRlQ29tbWVudChcIlwiKSksIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT0kLnRlc3QoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmaWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj5cIixhLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPVwiaVwiLDI9PT1hLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpXCIpLmxlbmd0aH0pLGMuZ2V0QnlJZD1pYihmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFlLmdldEVsZW1lbnRzQnlOYW1lfHwhZS5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09QyYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYyYmYy5wYXJlbnROb2RlP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShjYixkYik7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImlkXCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2IsZGIpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlIT09QyYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiB0eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PUM/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKFwiKlwiPT09YSl7d2hpbGUoYz1mW2UrK10pMT09PWMubm9kZVR5cGUmJmQucHVzaChjKTtyZXR1cm4gZH1yZXR1cm4gZn0sZC5maW5kLkNMQVNTPWMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PUMmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT0kLnRlc3QoZS5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYihmdW5jdGlvbihhKXthLmlubmVySFRNTD1cIjxzZWxlY3QgbXNhbGxvd2NsaXA9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIixhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NsaXBePScnXVwiKS5sZW5ndGgmJnEucHVzaChcIlsqXiRdPVwiK00rXCIqKD86Jyd8XFxcIlxcXCIpXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RofHxxLnB1c2goXCJcXFxcW1wiK00rXCIqKD86dmFsdWV8XCIrTCtcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxxLnB1c2goXCI6Y2hlY2tlZFwiKX0pLGliKGZ1bmN0aW9uKGEpe3ZhciBiPWUuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Iuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiaGlkZGVuXCIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiRFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGgmJnEucHVzaChcIm5hbWVcIitNK1wiKlsqXiR8IX5dPz1cIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RofHxxLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIikscS5wdXNoKFwiLC4qOlwiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9JC50ZXN0KHM9by5tYXRjaGVzfHxvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8by5tb3pNYXRjaGVzU2VsZWN0b3J8fG8ub01hdGNoZXNTZWxlY3Rvcnx8by5tc01hdGNoZXNTZWxlY3RvcikpJiZpYihmdW5jdGlvbihhKXtjLmRpc2Nvbm5lY3RlZE1hdGNoPXMuY2FsbChhLFwiZGl2XCIpLHMuY2FsbChhLFwiW3MhPScnXTp4XCIpLHIucHVzaChcIiE9XCIsUSl9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbihcInxcIikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKFwifFwiKSksYj0kLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHwkLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1lfHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PWV8fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/Sy5jYWxsKGssYSktSy5jYWxsKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZj1hLnBhcmVudE5vZGUsZz1iLnBhcmVudE5vZGUsaD1bYV0saT1bYl07aWYoIWZ8fCFnKXJldHVybiBhPT09ZT8tMTpiPT09ZT8xOmY/LTE6Zz8xOms/Sy5jYWxsKGssYSktSy5jYWxsKGssYik6MDtpZihmPT09ZylyZXR1cm4ga2IoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSlpLnVuc2hpZnQoYyk7d2hpbGUoaFtkXT09PWlbZF0pZCsrO3JldHVybiBkP2tiKGhbZF0saVtkXSk6aFtkXT09PXY/LTE6aVtkXT09PXY/MTowfSxlKTpufSxmYi5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZiKGEsbnVsbCxudWxsLGIpfSxmYi5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSksYj1iLnJlcGxhY2UoVSxcIj0nJDEnXVwiKSwhKCFjLm1hdGNoZXNTZWxlY3Rvcnx8IXB8fHImJnIudGVzdChiKXx8cSYmcS50ZXN0KGIpKSl0cnl7dmFyIGQ9cy5jYWxsKGEsYik7aWYoZHx8Yy5kaXNjb25uZWN0ZWRNYXRjaHx8YS5kb2N1bWVudCYmMTEhPT1hLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBkfWNhdGNoKGUpe31yZXR1cm4gZmIoYixuLG51bGwsW2FdKS5sZW5ndGg+MH0sZmIuY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSksdChhLGIpfSxmYi5hdHRyPWZ1bmN0aW9uKGEsYil7KGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpO3ZhciBlPWQuYXR0ckhhbmRsZVtiLnRvTG93ZXJDYXNlKCldLGY9ZSYmRS5jYWxsKGQuYXR0ckhhbmRsZSxiLnRvTG93ZXJDYXNlKCkpP2UoYSxiLCFwKTp2b2lkIDA7cmV0dXJuIHZvaWQgMCE9PWY/ZjpjLmF0dHJpYnV0ZXN8fCFwP2EuZ2V0QXR0cmlidXRlKGIpOihmPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmYuc3BlY2lmaWVkP2YudmFsdWU6bnVsbH0sZmIuZXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIrYSl9LGZiLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1mYi5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9XCJcIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYS50ZXh0Q29udGVudClyZXR1cm4gYS50ZXh0Q29udGVudDtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpYys9ZShhKX1lbHNlIGlmKDM9PT1mfHw0PT09ZilyZXR1cm4gYS5ub2RlVmFsdWV9ZWxzZSB3aGlsZShiPWFbZCsrXSljKz1lKGIpO3JldHVybiBjfSxkPWZiLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmhiLG1hdGNoOlgsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOntcIj5cIjp7ZGlyOlwicGFyZW50Tm9kZVwiLGZpcnN0OiEwfSxcIiBcIjp7ZGlyOlwicGFyZW50Tm9kZVwifSxcIitcIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCIsZmlyc3Q6ITB9LFwiflwiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoY2IsZGIpLGFbM109KGFbM118fGFbNF18fGFbNV18fFwiXCIpLnJlcGxhY2UoY2IsZGIpLFwifj1cIj09PWFbMl0mJihhWzNdPVwiIFwiK2FbM10rXCIgXCIpLGEuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS50b0xvd2VyQ2FzZSgpLFwibnRoXCI9PT1hWzFdLnNsaWNlKDAsMyk/KGFbM118fGZiLmVycm9yKGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKFwiZXZlblwiPT09YVszXXx8XCJvZGRcIj09PWFbM10pKSxhWzVdPSsoYVs3XSthWzhdfHxcIm9kZFwiPT09YVszXSkpOmFbM10mJmZiLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixjPSFhWzZdJiZhWzJdO3JldHVybiBYLkNISUxELnRlc3QoYVswXSk/bnVsbDooYVszXT9hWzJdPWFbNF18fGFbNV18fFwiXCI6YyYmVi50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKFwiKVwiLGMubGVuZ3RoLWIpLWMubGVuZ3RoKSYmKGFbMF09YVswXS5zbGljZSgwLGIpLGFbMl09Yy5zbGljZSgwLGIpKSxhLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNiLGRiKS50b0xvd2VyQ2FzZSgpO3JldHVyblwiKlwiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYStcIiBcIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoXCIoXnxcIitNK1wiKVwiK2ErXCIoXCIrTStcInwkKVwiKSkmJnkoYSxmdW5jdGlvbihhKXtyZXR1cm4gYi50ZXN0KFwic3RyaW5nXCI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fHR5cGVvZiBhLmdldEF0dHJpYnV0ZSE9PUMmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1mYi5hdHRyKGQsYSk7cmV0dXJuIG51bGw9PWU/XCIhPVwiPT09YjpiPyhlKz1cIlwiLFwiPVwiPT09Yj9lPT09YzpcIiE9XCI9PT1iP2UhPT1jOlwiXj1cIj09PWI/YyYmMD09PWUuaW5kZXhPZihjKTpcIio9XCI9PT1iP2MmJmUuaW5kZXhPZihjKT4tMTpcIiQ9XCI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6XCJ+PVwiPT09Yj8oXCIgXCIrZStcIiBcIikuaW5kZXhPZihjKT4tMTpcInw9XCI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCJudGhcIiE9PWEuc2xpY2UoMCwzKSxnPVwibGFzdFwiIT09YS5zbGljZSgtNCksaD1cIm9mLXR5cGVcIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD1cIm9ubHlcIj09PWEmJiFvJiZcIm5leHRTaWJsaW5nXCJ9cmV0dXJuITB9aWYobz1bZz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnMpe2s9cVt1XXx8KHFbdV09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSxtPWpbMF09PT13JiZqWzJdLGw9biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKDE9PT1sLm5vZGVUeXBlJiYrK20mJmw9PT1iKXtrW2FdPVt3LG4sbV07YnJlYWt9fWVsc2UgaWYocyYmKGo9KGJbdV18fChiW3VdPXt9KSlbYV0pJiZqWzBdPT09dyltPWpbMV07ZWxzZSB3aGlsZShsPSsrbiYmbCYmbFtwXXx8KG09bj0wKXx8by5wb3AoKSlpZigoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKSYmKyttJiYocyYmKChsW3VdfHwobFt1XT17fSkpW2FdPVt3LG1dKSxsPT09YikpYnJlYWs7cmV0dXJuIG0tPWUsbT09PWR8fG0lZD09PTAmJm0vZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNldWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGZiLmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSxcIlwiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2hiKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1LLmNhbGwoYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6aGIoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWgoYS5yZXBsYWNlKFIsXCIkMVwiKSk7cmV0dXJuIGRbdV0/aGIoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksIWMucG9wKCl9fSksaGFzOmhiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmIoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYihmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aGIoZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhfHxcIlwiKXx8ZmIuZXJyb3IoXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIithKSxhPWEucmVwbGFjZShjYixkYikudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIil8fGIuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYStcIi1cIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiYhIWEuY2hlY2tlZHx8XCJvcHRpb25cIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBaLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBZLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmXCJidXR0b25cIj09PWEudHlwZXx8XCJidXR0b25cIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuXCJpbnB1dFwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcInRleHRcIj09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl8fFwidGV4dFwiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bmIoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om5iKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpuYihmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm5iKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm5iKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6bmIoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpuYihmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bGIoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bWIoYik7ZnVuY3Rpb24gcGIoKXt9cGIucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYixnPWZiLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErXCIgXCJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1TLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9VC5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShSLFwiIFwiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1YW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmIuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9XCJcIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gcmIoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmXCJwYXJlbnROb2RlXCI9PT1kLGY9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgsaSxqPVt3LGZdO2lmKGcpe3doaWxlKGI9YltkXSlpZigoMT09PWIubm9kZVR5cGV8fGUpJiZhKGIsYyxnKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSl7aWYoaT1iW3VdfHwoYlt1XT17fSksKGg9aVtkXSkmJmhbMF09PT13JiZoWzFdPT09ZilyZXR1cm4galsyXT1oWzJdO2lmKGlbZF09aixqWzJdPWEoYixjLGcpKXJldHVybiEwfX19ZnVuY3Rpb24gc2IoYSl7cmV0dXJuIGEubGVuZ3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdGIoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylmYihhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdWIoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB2YihhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD12YihkKSksZSYmIWVbdV0mJihlPXZiKGUsZikpLGhiKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHRiKGJ8fFwiKlwiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6dWIocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXViKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9LLmNhbGwoZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXViKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpJLmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YihhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlW1wiIFwiXSxpPWc/MTowLGs9cmIoZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSxoLCEwKSxsPXJiKGZ1bmN0aW9uKGEpe3JldHVybiBLLmNhbGwoYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3JldHVybiFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYihzYihtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmIoaT4xJiZzYihtKSxpPjEmJnFiKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6XCIgXCI9PT1hW2ktMl0udHlwZT9cIipcIjpcIlwifSkpLnJlcGxhY2UoUixcIiQxXCIpLGMsZT5pJiZ3YihhLnNsaWNlKGksZSkpLGY+ZSYmd2IoYT1hLnNsaWNlKGUpKSxmPmUmJnFiKGEpKX1tLnB1c2goYyl9cmV0dXJuIHNiKG0pfWZ1bmN0aW9uIHhiKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5jdGlvbihmLGcsaCxpLGspe3ZhciBsLG0sbyxwPTAscT1cIjBcIixyPWYmJltdLHM9W10sdD1qLHU9Znx8ZSYmZC5maW5kLlRBRyhcIipcIixrKSx2PXcrPW51bGw9PXQ/MTpNYXRoLnJhbmRvbSgpfHwuMSx4PXUubGVuZ3RoO2ZvcihrJiYoaj1nIT09biYmZyk7cSE9PXgmJm51bGwhPShsPXVbcV0pO3ErKyl7aWYoZSYmbCl7bT0wO3doaWxlKG89YVttKytdKWlmKG8obCxnLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9dil9YyYmKChsPSFvJiZsKSYmcC0tLGYmJnIucHVzaChsKSl9aWYocCs9cSxjJiZxIT09cCl7bT0wO3doaWxlKG89YlttKytdKW8ocixzLGcsaCk7aWYoZil7aWYocD4wKXdoaWxlKHEtLSlyW3FdfHxzW3FdfHwoc1txXT1HLmNhbGwoaSkpO3M9dWIocyl9SS5hcHBseShpLHMpLGsmJiFmJiZzLmxlbmd0aD4wJiZwK2IubGVuZ3RoPjEmJmZiLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXYsaj10KSxyfTtyZXR1cm4gYz9oYihmKTpmfXJldHVybiBoPWZiLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErXCIgXCJdO2lmKCFmKXtifHwoYj1nKGEpKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlmPXdiKGJbY10pLGZbdV0/ZC5wdXNoKGYpOmUucHVzaChmKTtmPUEoYSx4YihlLGQpKSxmLnNlbGVjdG9yPWF9cmV0dXJuIGZ9LGk9ZmIuc2VsZWN0PWZ1bmN0aW9uKGEsYixlLGYpe3ZhciBpLGosayxsLG0sbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhLG89IWYmJmcoYT1uLnNlbGVjdG9yfHxhKTtpZihlPWV8fFtdLDE9PT1vLmxlbmd0aCl7aWYoaj1vWzBdPW9bMF0uc2xpY2UoMCksai5sZW5ndGg+MiYmXCJJRFwiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoY2IsZGIpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1YLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShjYixkYiksYWIudGVzdChqWzBdLnR5cGUpJiZvYihiLnBhcmVudE5vZGUpfHxiKSkpe2lmKGouc3BsaWNlKGksMSksYT1mLmxlbmd0aCYmcWIoaiksIWEpcmV0dXJuIEkuYXBwbHkoZSxmKSxlO2JyZWFrfX19cmV0dXJuKG58fGgoYSxvKSkoZixiLCFwLGUsYWIudGVzdChhKSYmb2IoYi5wYXJlbnROb2RlKXx8YiksZX0sYy5zb3J0U3RhYmxlPXUuc3BsaXQoXCJcIikuc29ydChCKS5qb2luKFwiXCIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1pYihmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudChcImRpdlwiKSl9KSxpYihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxqYihcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsXCJ0eXBlXCI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmaWIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fGpiKFwidmFsdWVcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fFwiaW5wdXRcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6YS5kZWZhdWx0VmFsdWV9KSxpYihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKX0pfHxqYihMLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYn0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwcltcIjpcIl09bi5leHByLnBzZXVkb3Msbi51bmlxdWU9dC51bmlxdWVTb3J0LG4udGV4dD10LmdldFRleHQsbi5pc1hNTERvYz10LmlzWE1MLG4uY29udGFpbnM9dC5jb250YWluczt2YXIgdT1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHY9L148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLHc9L14uW146I1xcW1xcLixdKiQvO2Z1bmN0aW9uIHgoYSxiLGMpe2lmKG4uaXNGdW5jdGlvbihiKSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKXtpZih3LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBnLmNhbGwoYixhKT49MCE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9XCI6bm90KFwiK2ErXCIpXCIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2M+YjtiKyspaWYobi5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7Yz5iO2IrKyluLmZpbmQoYSxlW2JdLGQpO3JldHVybiBkPXRoaXMucHVzaFN0YWNrKGM+MT9uLnVuaXF1ZShkKTpkKSxkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcitcIiBcIithOmEsZH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISF4KHRoaXMsXCJzdHJpbmdcIj09dHlwZW9mIGEmJnUudGVzdChhKT9uKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHksej0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxBPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpe2lmKGM9XCI8XCI9PT1hWzBdJiZcIj5cIj09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06ei5leGVjKGEpLCFjfHwhY1sxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fHkpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGNbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChjWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmwsITApKSx2LnRlc3QoY1sxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoYyBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2NdKT90aGlzW2NdKGJbY10pOnRoaXMuYXR0cihjLGJbY10pO3JldHVybiB0aGlzfXJldHVybiBkPWwuZ2V0RWxlbWVudEJ5SWQoY1syXSksZCYmZC5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWQpLHRoaXMuY29udGV4dD1sLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpP1widW5kZWZpbmVkXCIhPXR5cGVvZiB5LnJlYWR5P3kucmVhZHkoYSk6YShuKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07QS5wcm90b3R5cGU9bi5mbix5PW4obCk7dmFyIEI9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sQz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtuLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlKGYpOmYpfSxpbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gYT9cInN0cmluZ1wiPT10eXBlb2YgYT9nLmNhbGwobihhKSx0aGlzWzBdKTpnLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4udW5pcXVlKG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEQoYSxiKXt3aGlsZSgoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsXCJwYXJlbnROb2RlXCIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5kaXIoYSxcIm5leHRTaWJsaW5nXCIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsXCJwcmV2aW91c1NpYmxpbmdcIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uc2libGluZygoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIG4uc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fG4ubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPW4ubWFwKHRoaXMsYixjKTtyZXR1cm5cIlVudGlsXCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmXCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxuLnVuaXF1ZShlKSxCLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFxTKy9nLEY9e307ZnVuY3Rpb24gRyhhKXt2YXIgYj1GW2FdPXt9O3JldHVybiBuLmVhY2goYS5tYXRjaChFKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1uLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPVwic3RyaW5nXCI9PXR5cGVvZiBhP0ZbYV18fEcoYSk6bi5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZixnLGg9W10saT0hYS5vbmNlJiZbXSxqPWZ1bmN0aW9uKGwpe2ZvcihiPWEubWVtb3J5JiZsLGM9ITAsZz1lfHwwLGU9MCxmPWgubGVuZ3RoLGQ9ITA7aCYmZj5nO2crKylpZihoW2ddLmFwcGx5KGxbMF0sbFsxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSl7Yj0hMTticmVha31kPSExLGgmJihpP2kubGVuZ3RoJiZqKGkuc2hpZnQoKSk6Yj9oPVtdOmsuZGlzYWJsZSgpKX0saz17YWRkOmZ1bmN0aW9uKCl7aWYoaCl7dmFyIGM9aC5sZW5ndGg7IWZ1bmN0aW9uIGcoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1uLnR5cGUoYyk7XCJmdW5jdGlvblwiPT09ZD9hLnVuaXF1ZSYmay5oYXMoYyl8fGgucHVzaChjKTpjJiZjLmxlbmd0aCYmXCJzdHJpbmdcIiE9PWQmJmcoYyl9KX0oYXJndW1lbnRzKSxkP2Y9aC5sZW5ndGg6YiYmKGU9YyxqKGIpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGgmJm4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixoLGMpKT4tMSloLnNwbGljZShjLDEpLGQmJihmPj1jJiZmLS0sZz49YyYmZy0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxoKT4tMTohKCFofHwhaC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBoPVtdLGY9MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGg9aT1iPXZvaWQgMCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFofSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGk9dm9pZCAwLGJ8fGsuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiFpfSxmaXJlV2l0aDpmdW5jdGlvbihhLGIpe3JldHVybiFofHxjJiYhaXx8KGI9Ynx8W10sYj1bYSxiLnNsaWNlP2Iuc2xpY2UoKTpiXSxkP2kucHVzaChiKTpqKGIpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFjfX07cmV0dXJuIGt9LG4uZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bW1wicmVzb2x2ZVwiLFwiZG9uZVwiLG4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZXNvbHZlZFwiXSxbXCJyZWplY3RcIixcImZhaWxcIixuLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVqZWN0ZWRcIl0sW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLG4uQ2FsbGJhY2tzKFwibWVtb3J5XCIpXV0sYz1cInBlbmRpbmdcIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIG4uRGVmZXJyZWQoZnVuY3Rpb24oYyl7bi5lYWNoKGIsZnVuY3Rpb24oYixmKXt2YXIgZz1uLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07ZVtmWzFdXShmdW5jdGlvbigpe3ZhciBhPWcmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KS5wcm9ncmVzcyhjLm5vdGlmeSk6Y1tmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXStcIldpdGhcIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdK1wiV2l0aFwiXT1nLmZpcmVXaXRofSksZC5wcm9taXNlKGUpLGEmJmEuY2FsbChlLGUpLGV9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWQuY2FsbChhcmd1bWVudHMpLGU9Yy5sZW5ndGgsZj0xIT09ZXx8YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/ZTowLGc9MT09PWY/YTpuLkRlZmVycmVkKCksaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGUpe2JbYV09dGhpcyxjW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9kLmNhbGwoYXJndW1lbnRzKTplLGM9PT1pP2cubm90aWZ5V2l0aChiLGMpOi0tZnx8Zy5yZXNvbHZlV2l0aChiLGMpfX0saSxqLGs7aWYoZT4xKWZvcihpPW5ldyBBcnJheShlKSxqPW5ldyBBcnJheShlKSxrPW5ldyBBcnJheShlKTtlPmI7YisrKWNbYl0mJm4uaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpLnByb2dyZXNzKGgoYixqLGkpKTotLWY7cmV0dXJuIGZ8fGcucmVzb2x2ZVdpdGgoayxjKSxnLnByb21pc2UoKX19KTt2YXIgSDtuLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBuLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LG4uZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP24ucmVhZHlXYWl0Kys6bi5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpeyhhPT09ITA/LS1uLnJlYWR5V2FpdDpuLmlzUmVhZHkpfHwobi5pc1JlYWR5PSEwLGEhPT0hMCYmLS1uLnJlYWR5V2FpdD4wfHwoSC5yZXNvbHZlV2l0aChsLFtuXSksbi5mbi50cmlnZ2VySGFuZGxlciYmKG4obCkudHJpZ2dlckhhbmRsZXIoXCJyZWFkeVwiKSxuKGwpLm9mZihcInJlYWR5XCIpKSkpfX0pO2Z1bmN0aW9uIEkoKXtsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSSwhMSksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLEksITEpLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEh8fChIPW4uRGVmZXJyZWQoKSxcImNvbXBsZXRlXCI9PT1sLnJlYWR5U3RhdGU/c2V0VGltZW91dChuLnJlYWR5KToobC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLEksITEpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixJLCExKSkpLEgucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEo9bi5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZihcIm9iamVjdFwiPT09bi50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpbi5hY2Nlc3MoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn07bi5hY2NlcHREYXRhPWZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZXx8OT09PWEubm9kZVR5cGV8fCErYS5ub2RlVHlwZX07ZnVuY3Rpb24gSygpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmNhY2hlPXt9LDAse2dldDpmdW5jdGlvbigpe3JldHVybnt9fX0pLHRoaXMuZXhwYW5kbz1uLmV4cGFuZG8rTWF0aC5yYW5kb20oKX1LLnVpZD0xLEsuYWNjZXB0cz1uLmFjY2VwdERhdGEsSy5wcm90b3R5cGU9e2tleTpmdW5jdGlvbihhKXtpZighSy5hY2NlcHRzKGEpKXJldHVybiAwO3ZhciBiPXt9LGM9YVt0aGlzLmV4cGFuZG9dO2lmKCFjKXtjPUsudWlkKys7dHJ5e2JbdGhpcy5leHBhbmRvXT17dmFsdWU6Y30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYSxiKX1jYXRjaChkKXtiW3RoaXMuZXhwYW5kb109YyxuLmV4dGVuZChhLGIpfX1yZXR1cm4gdGhpcy5jYWNoZVtjXXx8KHRoaXMuY2FjaGVbY109e30pLGN9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmtleShhKSxmPXRoaXMuY2FjaGVbZV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpZltiXT1jO2Vsc2UgaWYobi5pc0VtcHR5T2JqZWN0KGYpKW4uZXh0ZW5kKHRoaXMuY2FjaGVbZV0sYik7ZWxzZSBmb3IoZCBpbiBiKWZbZF09YltkXTtyZXR1cm4gZn0sZ2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYWNoZVt0aGlzLmtleShhKV07cmV0dXJuIHZvaWQgMD09PWI/YzpjW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiZcInN0cmluZ1wiPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG4uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXMua2V5KGEpLGc9dGhpcy5jYWNoZVtmXTtpZih2b2lkIDA9PT1iKXRoaXMuY2FjaGVbZl09e307ZWxzZXtuLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChuLmNhbWVsQ2FzZSkpOihlPW4uY2FtZWxDYXNlKGIpLGIgaW4gZz9kPVtiLGVdOihkPWUsZD1kIGluIGc/W2RdOmQubWF0Y2goRSl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGdbZFtjXV19fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiFuLmlzRW1wdHlPYmplY3QodGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24oYSl7YVt0aGlzLmV4cGFuZG9dJiZkZWxldGUgdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfX07dmFyIEw9bmV3IEssTT1uZXcgSyxOPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD1cImRhdGEtXCIrYi5yZXBsYWNlKE8sXCItJDFcIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLFwic3RyaW5nXCI9PXR5cGVvZiBjKXt0cnl7Yz1cInRydWVcIj09PWM/ITA6XCJmYWxzZVwiPT09Yz8hMTpcIm51bGxcIj09PWM/bnVsbDorYytcIlwiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9TS5zZXQoYSxiLGMpfWVsc2UgYz12b2lkIDA7cmV0dXJuIGN9bi5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIE0uaGFzRGF0YShhKXx8TC5oYXNEYXRhKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTS5hY2Nlc3MoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7TS5yZW1vdmUoYSxiKVxyXG59LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTC5hY2Nlc3MoYSxiLGMpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe0wucmVtb3ZlKGEsYil9fSksbi5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzWzBdLGc9ZiYmZi5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoZT1NLmdldChmKSwxPT09Zi5ub2RlVHlwZSYmIUwuZ2V0KGYsXCJoYXNEYXRhQXR0cnNcIikpKXtjPWcubGVuZ3RoO3doaWxlKGMtLSlnW2NdJiYoZD1nW2NdLm5hbWUsMD09PWQuaW5kZXhPZihcImRhdGEtXCIpJiYoZD1uLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxQKGYsZCxlW2RdKSkpO0wuc2V0KGYsXCJoYXNEYXRhQXR0cnNcIiwhMCl9cmV0dXJuIGV9cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7TS5zZXQodGhpcyxhKX0pOkoodGhpcyxmdW5jdGlvbihiKXt2YXIgYyxkPW4uY2FtZWxDYXNlKGEpO2lmKGYmJnZvaWQgMD09PWIpe2lmKGM9TS5nZXQoZixhKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9TS5nZXQoZixkKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGM9UChmLGQsdm9pZCAwKSx2b2lkIDAhPT1jKXJldHVybiBjfWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9TS5nZXQodGhpcyxkKTtNLnNldCh0aGlzLGQsYiksLTEhPT1hLmluZGV4T2YoXCItXCIpJiZ2b2lkIDAhPT1jJiZNLnNldCh0aGlzLGEsYil9KX0sbnVsbCxiLGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7TS5yZW1vdmUodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fFwiZnhcIikrXCJxdWV1ZVwiLGQ9TC5nZXQoYSxiKSxjJiYoIWR8fG4uaXNBcnJheShjKT9kPUwuYWNjZXNzKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHxcImZ4XCI7dmFyIGM9bi5xdWV1ZShhLGIpLGQ9Yy5sZW5ndGgsZT1jLnNoaWZ0KCksZj1uLl9xdWV1ZUhvb2tzKGEsYiksZz1mdW5jdGlvbigpe24uZGVxdWV1ZShhLGIpfTtcImlucHJvZ3Jlc3NcIj09PWUmJihlPWMuc2hpZnQoKSxkLS0pLGUmJihcImZ4XCI9PT1iJiZjLnVuc2hpZnQoXCJpbnByb2dyZXNzXCIpLGRlbGV0ZSBmLnN0b3AsZS5jYWxsKGEsZyxmKSksIWQmJmYmJmYuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihhLGIpe3ZhciBjPWIrXCJxdWV1ZUhvb2tzXCI7cmV0dXJuIEwuZ2V0KGEsYyl8fEwuYWNjZXNzKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKS5hZGQoZnVuY3Rpb24oKXtMLnJlbW92ZShhLFtiK1wicXVldWVcIixjXSl9KX0pfX0pLG4uZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPTI7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGEmJihiPWEsYT1cImZ4XCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksXCJmeFwiPT09YSYmXCJpbnByb2dyZXNzXCIhPT1jWzBdJiZuLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRlcXVldWUodGhpcyxhKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9O1wic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fFwiZnhcIjt3aGlsZShnLS0pYz1MLmdldChmW2ddLGErXCJxdWV1ZUhvb2tzXCIpLGMmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksZS5wcm9taXNlKGIpfX0pO3ZhciBRPS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxSPVtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxTPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSxcIm5vbmVcIj09PW4uY3NzKGEsXCJkaXNwbGF5XCIpfHwhbi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9LFQ9L14oPzpjaGVja2JveHxyYWRpbykkL2k7IWZ1bmN0aW9uKCl7dmFyIGE9bC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYj1hLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudChcImRpdlwiKSksYz1sLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInJhZGlvXCIpLGMuc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLFwiY2hlY2tlZFwiKSxjLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcInRcIiksYi5hcHBlbmRDaGlsZChjKSxrLmNoZWNrQ2xvbmU9Yi5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsYi5pbm5lckhUTUw9XCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCIsay5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlfSgpO3ZhciBVPVwidW5kZWZpbmVkXCI7ay5mb2N1c2luQnViYmxlcz1cIm9uZm9jdXNpblwiaW4gYTt2YXIgVj0vXmtleS8sVz0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLyxYPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxZPS9eKFteLl0qKSg/OlxcLiguKyl8KSQvO2Z1bmN0aW9uIFooKXtyZXR1cm4hMH1mdW5jdGlvbiAkKCl7cmV0dXJuITF9ZnVuY3Rpb24gXygpe3RyeXtyZXR1cm4gbC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319bi5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1MLmdldChhKTtpZihyKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVjdG9yKSxjLmd1aWR8fChjLmd1aWQ9bi5ndWlkKyspLChpPXIuZXZlbnRzKXx8KGk9ci5ldmVudHM9e30pLChnPXIuaGFuZGxlKXx8KGc9ci5oYW5kbGU9ZnVuY3Rpb24oYil7cmV0dXJuIHR5cGVvZiBuIT09VSYmbi5ldmVudC50cmlnZ2VyZWQhPT1iLnR5cGU/bi5ldmVudC5kaXNwYXRjaC5hcHBseShhLGFyZ3VtZW50cyk6dm9pZCAwfSksYj0oYnx8XCJcIikubWF0Y2goRSl8fFtcIlwiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPVkuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxvJiYobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LGs9bi5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmbi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oXCIuXCIpfSxmKSwobT1pW29dKXx8KG09aVtvXT1bXSxtLmRlbGVnYXRlQ291bnQ9MCxsLnNldHVwJiZsLnNldHVwLmNhbGwoYSxkLHAsZykhPT0hMXx8YS5hZGRFdmVudExpc3RlbmVyJiZhLmFkZEV2ZW50TGlzdGVuZXIobyxnLCExKSksbC5hZGQmJihsLmFkZC5jYWxsKGEsayksay5oYW5kbGVyLmd1aWR8fChrLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsayk6bS5wdXNoKGspLG4uZXZlbnQuZ2xvYmFsW29dPSEwKX19LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1MLmhhc0RhdGEoYSkmJkwuZ2V0KGEpO2lmKHImJihpPXIuZXZlbnRzKSl7Yj0oYnx8XCJcIikubWF0Y2goRSl8fFtcIlwiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPVkuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxvKXtsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxtPWlbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Auam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpLGc9Zj1tLmxlbmd0aDt3aGlsZShmLS0paz1tW2ZdLCFlJiZxIT09ay5vcmlnVHlwZXx8YyYmYy5ndWlkIT09ay5ndWlkfHxoJiYhaC50ZXN0KGsubmFtZXNwYWNlKXx8ZCYmZCE9PWsuc2VsZWN0b3ImJihcIioqXCIhPT1kfHwhay5zZWxlY3Rvcil8fChtLnNwbGljZShmLDEpLGsuc2VsZWN0b3ImJm0uZGVsZWdhdGVDb3VudC0tLGwucmVtb3ZlJiZsLnJlbW92ZS5jYWxsKGEsaykpO2cmJiFtLmxlbmd0aCYmKGwudGVhcmRvd24mJmwudGVhcmRvd24uY2FsbChhLHAsci5oYW5kbGUpIT09ITF8fG4ucmVtb3ZlRXZlbnQoYSxvLHIuaGFuZGxlKSxkZWxldGUgaVtvXSl9ZWxzZSBmb3IobyBpbiBpKW4uZXZlbnQucmVtb3ZlKGEsbytiW2pdLGMsZCwhMCk7bi5pc0VtcHR5T2JqZWN0KGkpJiYoZGVsZXRlIHIuaGFuZGxlLEwucmVtb3ZlKGEsXCJldmVudHNcIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCxlKXt2YXIgZixnLGgsaSxrLG0sbyxwPVtkfHxsXSxxPWouY2FsbChiLFwidHlwZVwiKT9iLnR5cGU6YixyPWouY2FsbChiLFwibmFtZXNwYWNlXCIpP2IubmFtZXNwYWNlLnNwbGl0KFwiLlwiKTpbXTtpZihnPWg9ZD1kfHxsLDMhPT1kLm5vZGVUeXBlJiY4IT09ZC5ub2RlVHlwZSYmIVgudGVzdChxK24uZXZlbnQudHJpZ2dlcmVkKSYmKHEuaW5kZXhPZihcIi5cIik+PTAmJihyPXEuc3BsaXQoXCIuXCIpLHE9ci5zaGlmdCgpLHIuc29ydCgpKSxrPXEuaW5kZXhPZihcIjpcIik8MCYmXCJvblwiK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLFwib2JqZWN0XCI9PXR5cGVvZiBiJiZiKSxiLmlzVHJpZ2dlcj1lPzI6MyxiLm5hbWVzcGFjZT1yLmpvaW4oXCIuXCIpLGIubmFtZXNwYWNlX3JlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIityLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWQpLGM9bnVsbD09Yz9bYl06bi5tYWtlQXJyYXkoYyxbYl0pLG89bi5ldmVudC5zcGVjaWFsW3FdfHx7fSxlfHwhby50cmlnZ2VyfHxvLnRyaWdnZXIuYXBwbHkoZCxjKSE9PSExKSl7aWYoIWUmJiFvLm5vQnViYmxlJiYhbi5pc1dpbmRvdyhkKSl7Zm9yKGk9by5kZWxlZ2F0ZVR5cGV8fHEsWC50ZXN0KGkrcSl8fChnPWcucGFyZW50Tm9kZSk7ZztnPWcucGFyZW50Tm9kZSlwLnB1c2goZyksaD1nO2g9PT0oZC5vd25lckRvY3VtZW50fHxsKSYmcC5wdXNoKGguZGVmYXVsdFZpZXd8fGgucGFyZW50V2luZG93fHxhKX1mPTA7d2hpbGUoKGc9cFtmKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zj4xP2k6by5iaW5kVHlwZXx8cSxtPShMLmdldChnLFwiZXZlbnRzXCIpfHx7fSlbYi50eXBlXSYmTC5nZXQoZyxcImhhbmRsZVwiKSxtJiZtLmFwcGx5KGcsYyksbT1rJiZnW2tdLG0mJm0uYXBwbHkmJm4uYWNjZXB0RGF0YShnKSYmKGIucmVzdWx0PW0uYXBwbHkoZyxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBiLnR5cGU9cSxlfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLl9kZWZhdWx0JiZvLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYykhPT0hMXx8IW4uYWNjZXB0RGF0YShkKXx8ayYmbi5pc0Z1bmN0aW9uKGRbcV0pJiYhbi5pc1dpbmRvdyhkKSYmKGg9ZFtrXSxoJiYoZFtrXT1udWxsKSxuLmV2ZW50LnRyaWdnZXJlZD1xLGRbcV0oKSxuLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsaCYmKGRba109aCkpLGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGUsZixnLGg9W10saT1kLmNhbGwoYXJndW1lbnRzKSxqPShMLmdldCh0aGlzLFwiZXZlbnRzXCIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSghYS5uYW1lc3BhY2VfcmV8fGEubmFtZXNwYWNlX3JlLnRlc3QoZy5uYW1lc3BhY2UpKSYmKGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxlPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1lJiYoYS5yZXN1bHQ9ZSk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoIWEuYnV0dG9ufHxcImNsaWNrXCIhPT1hLnR5cGUpKWZvcig7aSE9PXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoaS5kaXNhYmxlZCE9PSEwfHxcImNsaWNrXCIhPT1hLnR5cGUpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrXCIgXCIsdm9pZCAwPT09ZFtlXSYmKGRbZV09Zi5uZWVkc0NvbnRleHQ/bihlLHRoaXMpLmluZGV4KGkpPj0wOm4uZmluZChlLHRoaXMsbnVsbCxbaV0pLmxlbmd0aCksZFtlXSYmZC5wdXNoKGYpO2QubGVuZ3RoJiZnLnB1c2goe2VsZW06aSxoYW5kbGVyczpkfSl9cmV0dXJuIGg8Yi5sZW5ndGgmJmcucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2UoaCl9KSxnfSxwcm9wczpcImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaFwiLnNwbGl0KFwiIFwiKSxmaXhIb29rczp7fSxrZXlIb29rczp7cHJvcHM6XCJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlXCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6XCJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnRcIi5zcGxpdChcIiBcIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9Yi5idXR0b247cmV0dXJuIG51bGw9PWEucGFnZVgmJm51bGwhPWIuY2xpZW50WCYmKGM9YS50YXJnZXQub3duZXJEb2N1bWVudHx8bCxkPWMuZG9jdW1lbnRFbGVtZW50LGU9Yy5ib2R5LGEucGFnZVg9Yi5jbGllbnRYKyhkJiZkLnNjcm9sbExlZnR8fGUmJmUuc2Nyb2xsTGVmdHx8MCktKGQmJmQuY2xpZW50TGVmdHx8ZSYmZS5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWIuY2xpZW50WSsoZCYmZC5zY3JvbGxUb3B8fGUmJmUuc2Nyb2xsVG9wfHwwKS0oZCYmZC5jbGllbnRUb3B8fGUmJmUuY2xpZW50VG9wfHwwKSksYS53aGljaHx8dm9pZCAwPT09Znx8KGEud2hpY2g9MSZmPzE6MiZmPzM6NCZmPzI6MCksYX19LGZpeDpmdW5jdGlvbihhKXtpZihhW24uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxkLGU9YS50eXBlLGY9YSxnPXRoaXMuZml4SG9va3NbZV07Z3x8KHRoaXMuZml4SG9va3NbZV09Zz1XLnRlc3QoZSk/dGhpcy5tb3VzZUhvb2tzOlYudGVzdChlKT90aGlzLmtleUhvb2tzOnt9KSxkPWcucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoZy5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBuLkV2ZW50KGYpLGI9ZC5sZW5ndGg7d2hpbGUoYi0tKWM9ZFtiXSxhW2NdPWZbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9bCksMz09PWEudGFyZ2V0Lm5vZGVUeXBlJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksZy5maWx0ZXI/Zy5maWx0ZXIoYSxmKTphfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyE9PV8oKSYmdGhpcy5mb2N1cz8odGhpcy5mb2N1cygpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZTpcImZvY3VzaW5cIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09XygpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZTpcImZvY3Vzb3V0XCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuXCJjaGVja2JveFwiPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZuLm5vZGVOYW1lKHRoaXMsXCJpbnB1dFwiKT8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe3JldHVybiBuLm5vZGVOYW1lKGEudGFyZ2V0LFwiYVwiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9uLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm4uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP1o6JCk6dGhpcy50eXBlPWEsYiYmbi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8bi5ub3coKSx2b2lkKHRoaXNbbi5leHBhbmRvXT0hMCkpOm5ldyBuLkV2ZW50KGEsYil9LG4uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDokLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjpcIm1vdXNlb3ZlclwiLG1vdXNlbGVhdmU6XCJtb3VzZW91dFwiLHBvaW50ZXJlbnRlcjpcInBvaW50ZXJvdmVyXCIscG9pbnRlcmxlYXZlOlwicG9pbnRlcm91dFwifSxmdW5jdGlvbihhLGIpe24uZXZlbnQuc3BlY2lhbFthXT17ZGVsZWdhdGVUeXBlOmIsYmluZFR5cGU6YixoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLGU9YS5yZWxhdGVkVGFyZ2V0LGY9YS5oYW5kbGVPYmo7cmV0dXJuKCFlfHxlIT09ZCYmIW4uY29udGFpbnMoZCxlKSkmJihhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLGsuZm9jdXNpbkJ1YmJsZXN8fG4uZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7bi5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LG4uZXZlbnQuZml4KGEpLCEwKX07bi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksTC5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpLTE7ZT9MLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLEwucmVtb3ZlKGQsYikpfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtcInN0cmluZ1wiIT10eXBlb2YgYiYmKGM9Y3x8YixiPXZvaWQgMCk7Zm9yKGcgaW4gYSl0aGlzLm9uKGcsYixjLGFbZ10sZSk7cmV0dXJuIHRoaXN9aWYobnVsbD09YyYmbnVsbD09ZD8oZD1iLGM9Yj12b2lkIDApOm51bGw9PWQmJihcInN0cmluZ1wiPT10eXBlb2YgYj8oZD1jLGM9dm9pZCAwKTooZD1jLGM9YixiPXZvaWQgMCkpLGQ9PT0hMSlkPSQ7ZWxzZSBpZighZClyZXR1cm4gdGhpcztyZXR1cm4gMT09PWUmJihmPWQsZD1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWYuZ3VpZHx8KGYuZ3VpZD1uLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYSxkLGMsYil9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlK1wiLlwiK2QubmFtZXNwYWNlOmQub3JpZ1R5cGUsZC5zZWxlY3RvcixkLmhhbmRsZXIpLHRoaXM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe2ZvcihlIGluIGEpdGhpcy5vZmYoZSxiLGFbZV0pO3JldHVybiB0aGlzfXJldHVybihiPT09ITF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPSQpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIGFiPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6XSspW14+XSopXFwvPi9naSxiYj0vPChbXFx3Ol0rKS8sY2I9Lzx8JiM/XFx3KzsvLGRiPS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksZWI9L2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxmYj0vXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLGdiPS9edHJ1ZVxcLyguKikvLGhiPS9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZyxpYj17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O2liLm9wdGdyb3VwPWliLm9wdGlvbixpYi50Ym9keT1pYi50Zm9vdD1pYi5jb2xncm91cD1pYi5jYXB0aW9uPWliLnRoZWFkLGliLnRoPWliLnRkO2Z1bmN0aW9uIGpiKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSxcInRhYmxlXCIpJiZuLm5vZGVOYW1lKDExIT09Yi5ub2RlVHlwZT9iOmIuZmlyc3RDaGlsZCxcInRyXCIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpKTphfWZ1bmN0aW9uIGtiKGEpe3JldHVybiBhLnR5cGU9KG51bGwhPT1hLmdldEF0dHJpYnV0ZShcInR5cGVcIikpK1wiL1wiK2EudHlwZSxhfWZ1bmN0aW9uIGxiKGEpe3ZhciBiPWdiLmV4ZWMoYS50eXBlKTtyZXR1cm4gYj9hLnR5cGU9YlsxXTphLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIiksYX1mdW5jdGlvbiBtYihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylMLnNldChhW2NdLFwiZ2xvYmFsRXZhbFwiLCFifHxMLmdldChiW2NdLFwiZ2xvYmFsRXZhbFwiKSl9ZnVuY3Rpb24gbmIoYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqO2lmKDE9PT1iLm5vZGVUeXBlKXtpZihMLmhhc0RhdGEoYSkmJihmPUwuYWNjZXNzKGEpLGc9TC5zZXQoYixmKSxqPWYuZXZlbnRzKSl7ZGVsZXRlIGcuaGFuZGxlLGcuZXZlbnRzPXt9O2ZvcihlIGluIGopZm9yKGM9MCxkPWpbZV0ubGVuZ3RoO2Q+YztjKyspbi5ldmVudC5hZGQoYixlLGpbZV1bY10pfU0uaGFzRGF0YShhKSYmKGg9TS5hY2Nlc3MoYSksaT1uLmV4dGVuZCh7fSxoKSxNLnNldChiLGkpKX19ZnVuY3Rpb24gb2IoYSxiKXt2YXIgYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYnx8XCIqXCIpOmEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8XCIqXCIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBwYihhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImlucHV0XCI9PT1jJiZULnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOihcImlucHV0XCI9PT1jfHxcInRleHRhcmVhXCI9PT1jKSYmKGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1uLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jbG9uZU5vZGUoITApLGk9bi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7aWYoIShrLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZz1vYihoKSxmPW9iKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspcGIoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8b2IoYSksZz1nfHxvYihoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKW5iKGZbZF0sZ1tkXSk7ZWxzZSBuYihhLGgpO3JldHVybiBnPW9iKGgsXCJzY3JpcHRcIiksZy5sZW5ndGg+MCYmbWIoZywhaSYmb2IoYSxcInNjcmlwdFwiKSksaH0sYnVpbGRGcmFnbWVudDpmdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGUsZixnLGgsaSxqLGs9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbD1bXSxtPTAsbz1hLmxlbmd0aDtvPm07bSsrKWlmKGU9YVttXSxlfHwwPT09ZSlpZihcIm9iamVjdFwiPT09bi50eXBlKGUpKW4ubWVyZ2UobCxlLm5vZGVUeXBlP1tlXTplKTtlbHNlIGlmKGNiLnRlc3QoZSkpe2Y9Znx8ay5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGc9KGJiLmV4ZWMoZSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLGg9aWJbZ118fGliLl9kZWZhdWx0LGYuaW5uZXJIVE1MPWhbMV0rZS5yZXBsYWNlKGFiLFwiPCQxPjwkMj5cIikraFsyXSxqPWhbMF07d2hpbGUoai0tKWY9Zi5sYXN0Q2hpbGQ7bi5tZXJnZShsLGYuY2hpbGROb2RlcyksZj1rLmZpcnN0Q2hpbGQsZi50ZXh0Q29udGVudD1cIlwifWVsc2UgbC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZSkpO2sudGV4dENvbnRlbnQ9XCJcIixtPTA7d2hpbGUoZT1sW20rK10paWYoKCFkfHwtMT09PW4uaW5BcnJheShlLGQpKSYmKGk9bi5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSksZj1vYihrLmFwcGVuZENoaWxkKGUpLFwic2NyaXB0XCIpLGkmJm1iKGYpLGMpKXtqPTA7d2hpbGUoZT1mW2orK10pZmIudGVzdChlLnR5cGV8fFwiXCIpJiZjLnB1c2goZSl9cmV0dXJuIGt9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGUsZj1uLmV2ZW50LnNwZWNpYWwsZz0wO3ZvaWQgMCE9PShjPWFbZ10pO2crKyl7aWYobi5hY2NlcHREYXRhKGMpJiYoZT1jW0wuZXhwYW5kb10sZSYmKGI9TC5jYWNoZVtlXSkpKXtpZihiLmV2ZW50cylmb3IoZCBpbiBiLmV2ZW50cylmW2RdP24uZXZlbnQucmVtb3ZlKGMsZCk6bi5yZW1vdmVFdmVudChjLGQsYi5oYW5kbGUpO0wuY2FjaGVbZV0mJmRlbGV0ZSBMLmNhY2hlW2VdfWRlbGV0ZSBNLmNhY2hlW2NbTS5leHBhbmRvXV19fX0pLG4uZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/bi50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7KDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKSYmKHRoaXMudGV4dENvbnRlbnQ9YSl9KX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPWpiKHRoaXMsYSk7Yi5hcHBlbmRDaGlsZChhKX19KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhpcyxhKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD1hP24uZmlsdGVyKGEsdGhpcyk6dGhpcyxlPTA7bnVsbCE9KGM9ZFtlXSk7ZSsrKWJ8fDEhPT1jLm5vZGVUeXBlfHxuLmNsZWFuRGF0YShvYihjKSksYy5wYXJlbnROb2RlJiYoYiYmbi5jb250YWlucyhjLm93bmVyRG9jdW1lbnQsYykmJm1iKG9iKGMsXCJzY3JpcHRcIikpLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihuLmNsZWFuRGF0YShvYihhLCExKSksYS50ZXh0Q29udGVudD1cIlwiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1udWxsPT1hPyExOmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBuLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSYmMT09PWIubm9kZVR5cGUpcmV0dXJuIGIuaW5uZXJIVE1MO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiYhZGIudGVzdChhKSYmIWliWyhiYi5leGVjKGEpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9YS5yZXBsYWNlKGFiLFwiPCQxPjwkMj5cIik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEob2IoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG4uY2xlYW5EYXRhKG9iKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsbD10aGlzLmxlbmd0aCxtPXRoaXMsbz1sLTEscD1hWzBdLHE9bi5pc0Z1bmN0aW9uKHApO2lmKHF8fGw+MSYmXCJzdHJpbmdcIj09dHlwZW9mIHAmJiFrLmNoZWNrQ2xvbmUmJmViLnRlc3QocCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1tLmVxKGMpO3EmJihhWzBdPXAuY2FsbCh0aGlzLGMsZC5odG1sKCkpKSxkLmRvbU1hbmlwKGEsYil9KTtpZihsJiYoYz1uLmJ1aWxkRnJhZ21lbnQoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcyksZD1jLmZpcnN0Q2hpbGQsMT09PWMuY2hpbGROb2Rlcy5sZW5ndGgmJihjPWQpLGQpKXtmb3IoZj1uLm1hcChvYihjLFwic2NyaXB0XCIpLGtiKSxnPWYubGVuZ3RoO2w+ajtqKyspaD1jLGohPT1vJiYoaD1uLmNsb25lKGgsITAsITApLGcmJm4ubWVyZ2UoZixvYihoLFwic2NyaXB0XCIpKSksYi5jYWxsKHRoaXNbal0saCxqKTtpZihnKWZvcihpPWZbZi5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxuLm1hcChmLGxiKSxqPTA7Zz5qO2orKyloPWZbal0sZmIudGVzdChoLnR5cGV8fFwiXCIpJiYhTC5hY2Nlc3MoaCxcImdsb2JhbEV2YWxcIikmJm4uY29udGFpbnMoaSxoKSYmKGguc3JjP24uX2V2YWxVcmwmJm4uX2V2YWxVcmwoaC5zcmMpOm4uZ2xvYmFsRXZhbChoLnRleHRDb250ZW50LnJlcGxhY2UoaGIsXCJcIikpKX1yZXR1cm4gdGhpc319KSxuLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxnPWUubGVuZ3RoLTEsaD0wO2c+PWg7aCsrKWM9aD09PWc/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGYuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHFiLHJiPXt9O2Z1bmN0aW9uIHNiKGIsYyl7dmFyIGQsZT1uKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxheTpuLmNzcyhlWzBdLFwiZGlzcGxheVwiKTtyZXR1cm4gZS5kZXRhY2goKSxmfWZ1bmN0aW9uIHRiKGEpe3ZhciBiPWwsYz1yYlthXTtyZXR1cm4gY3x8KGM9c2IoYSxiKSxcIm5vbmVcIiE9PWMmJmN8fChxYj0ocWJ8fG4oXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj1xYlswXS5jb250ZW50RG9jdW1lbnQsYi53cml0ZSgpLGIuY2xvc2UoKSxjPXNiKGEsYikscWIuZGV0YWNoKCkpLHJiW2FdPWMpLGN9dmFyIHViPS9ebWFyZ2luLyx2Yj1uZXcgUmVnRXhwKFwiXihcIitRK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLHdiPWZ1bmN0aW9uKGEpe3JldHVybiBhLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpfTtmdW5jdGlvbiB4YihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fHdiKGEpLGMmJihnPWMuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXSksYyYmKFwiXCIhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSx2Yi50ZXN0KGcpJiZ1Yi50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crXCJcIjpnfWZ1bmN0aW9uIHliKGEsYil7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBhKCk/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PWIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSFmdW5jdGlvbigpe3ZhciBiLGMsZD1sLmRvY3VtZW50RWxlbWVudCxlPWwuY3JlYXRlRWxlbWVudChcImRpdlwiKSxmPWwuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihmLnN0eWxlKXtmLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiY29udGVudC1ib3hcIixmLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJcIixrLmNsZWFyQ2xvbmVTdHlsZT1cImNvbnRlbnQtYm94XCI9PT1mLnN0eWxlLmJhY2tncm91bmRDbGlwLGUuc3R5bGUuY3NzVGV4dD1cImJvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlXCIsZS5hcHBlbmRDaGlsZChmKTtmdW5jdGlvbiBnKCl7Zi5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo0cHg7cG9zaXRpb246YWJzb2x1dGVcIixmLmlubmVySFRNTD1cIlwiLGQuYXBwZW5kQ2hpbGQoZSk7dmFyIGc9YS5nZXRDb21wdXRlZFN0eWxlKGYsbnVsbCk7Yj1cIjElXCIhPT1nLnRvcCxjPVwiNHB4XCI9PT1nLndpZHRoLGQucmVtb3ZlQ2hpbGQoZSl9YS5nZXRDb21wdXRlZFN0eWxlJiZuLmV4dGVuZChrLHtwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKSxifSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZnKCksY30scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciBiLGM9Zi5hcHBlbmRDaGlsZChsLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9Zi5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowXCIsYy5zdHlsZS5tYXJnaW5SaWdodD1jLnN0eWxlLndpZHRoPVwiMFwiLGYuc3R5bGUud2lkdGg9XCIxcHhcIixkLmFwcGVuZENoaWxkKGUpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMsbnVsbCkubWFyZ2luUmlnaHQpLGQucmVtb3ZlQ2hpbGQoZSksYn19KX19KCksbi5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgemI9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLEFiPW5ldyBSZWdFeHAoXCJeKFwiK1ErXCIpKC4qKSRcIixcImlcIiksQmI9bmV3IFJlZ0V4cChcIl4oWystXSk9KFwiK1ErXCIpXCIsXCJpXCIpLENiPXtwb3NpdGlvbjpcImFic29sdXRlXCIsdmlzaWJpbGl0eTpcImhpZGRlblwiLGRpc3BsYXk6XCJibG9ja1wifSxEYj17bGV0dGVyU3BhY2luZzpcIjBcIixmb250V2VpZ2h0OlwiNDAwXCJ9LEViPVtcIldlYmtpdFwiLFwiT1wiLFwiTW96XCIsXCJtc1wiXTtmdW5jdGlvbiBGYihhLGIpe2lmKGIgaW4gYSlyZXR1cm4gYjt2YXIgYz1iWzBdLnRvVXBwZXJDYXNlKCkrYi5zbGljZSgxKSxkPWIsZT1FYi5sZW5ndGg7d2hpbGUoZS0tKWlmKGI9RWJbZV0rYyxiIGluIGEpcmV0dXJuIGI7cmV0dXJuIGR9ZnVuY3Rpb24gR2IoYSxiLGMpe3ZhciBkPUFiLmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzFdLShjfHwwKSkrKGRbMl18fFwicHhcIik6Yn1mdW5jdGlvbiBIYihhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/XCJib3JkZXJcIjpcImNvbnRlbnRcIik/NDpcIndpZHRoXCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpXCJtYXJnaW5cIj09PWMmJihnKz1uLmNzcyhhLGMrUltmXSwhMCxlKSksZD8oXCJjb250ZW50XCI9PT1jJiYoZy09bi5jc3MoYSxcInBhZGRpbmdcIitSW2ZdLCEwLGUpKSxcIm1hcmdpblwiIT09YyYmKGctPW4uY3NzKGEsXCJib3JkZXJcIitSW2ZdK1wiV2lkdGhcIiwhMCxlKSkpOihnKz1uLmNzcyhhLFwicGFkZGluZ1wiK1JbZl0sITAsZSksXCJwYWRkaW5nXCIhPT1jJiYoZys9bi5jc3MoYSxcImJvcmRlclwiK1JbZl0rXCJXaWR0aFwiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gSWIoYSxiLGMpe3ZhciBkPSEwLGU9XCJ3aWR0aFwiPT09Yj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGY9d2IoYSksZz1cImJvcmRlci1ib3hcIj09PW4uY3NzKGEsXCJib3hTaXppbmdcIiwhMSxmKTtpZigwPj1lfHxudWxsPT1lKXtpZihlPXhiKGEsYixmKSwoMD5lfHxudWxsPT1lKSYmKGU9YS5zdHlsZVtiXSksdmIudGVzdChlKSlyZXR1cm4gZTtkPWcmJihrLmJveFNpemluZ1JlbGlhYmxlKCl8fGU9PT1hLnN0eWxlW2JdKSxlPXBhcnNlRmxvYXQoZSl8fDB9cmV0dXJuIGUrSGIoYSxiLGN8fChnP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpLGQsZikrXCJweFwifWZ1bmN0aW9uIEpiKGEsYil7Zm9yKHZhciBjLGQsZSxmPVtdLGc9MCxoPWEubGVuZ3RoO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihmW2ddPUwuZ2V0KGQsXCJvbGRkaXNwbGF5XCIpLGM9ZC5zdHlsZS5kaXNwbGF5LGI/KGZbZ118fFwibm9uZVwiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT1cIlwiKSxcIlwiPT09ZC5zdHlsZS5kaXNwbGF5JiZTKGQpJiYoZltnXT1MLmFjY2VzcyhkLFwib2xkZGlzcGxheVwiLHRiKGQubm9kZU5hbWUpKSkpOihlPVMoZCksXCJub25lXCI9PT1jJiZlfHxMLnNldChkLFwib2xkZGlzcGxheVwiLGU/YzpuLmNzcyhkLFwiZGlzcGxheVwiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiZcIm5vbmVcIiE9PWQuc3R5bGUuZGlzcGxheSYmXCJcIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fFwiXCI6XCJub25lXCIpKTtyZXR1cm4gYX1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPXhiKGEsXCJvcGFjaXR5XCIpO3JldHVyblwiXCI9PT1jP1wiMVwiOmN9fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e1wiZmxvYXRcIjpcImNzc0Zsb2F0XCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPUZiKGksaCkpLGc9bi5jc3NIb29rc1tiXXx8bi5jc3NIb29rc1toXSx2b2lkIDA9PT1jP2cmJlwiZ2V0XCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl06KGY9dHlwZW9mIGMsXCJzdHJpbmdcIj09PWYmJihlPUJiLmV4ZWMoYykpJiYoYz0oZVsxXSsxKSplWzJdK3BhcnNlRmxvYXQobi5jc3MoYSxiKSksZj1cIm51bWJlclwiKSxudWxsIT1jJiZjPT09YyYmKFwibnVtYmVyXCIhPT1mfHxuLmNzc051bWJlcltoXXx8KGMrPVwicHhcIiksay5jbGVhckNsb25lU3R5bGV8fFwiXCIhPT1jfHwwIT09Yi5pbmRleE9mKFwiYmFja2dyb3VuZFwiKXx8KGlbYl09XCJpbmhlcml0XCIpLGcmJlwic2V0XCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpfHwoaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1GYihhLnN0eWxlLGgpKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmXCJnZXRcImluIGcmJihlPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWUmJihlPXhiKGEsYixkKSksXCJub3JtYWxcIj09PWUmJmIgaW4gRGImJihlPURiW2JdKSxcIlwiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8bi5pc051bWVyaWMoZik/Znx8MDplKTplfX0pLG4uZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz96Yi50ZXN0KG4uY3NzKGEsXCJkaXNwbGF5XCIpKSYmMD09PWEub2Zmc2V0V2lkdGg/bi5zd2FwKGEsQ2IsZnVuY3Rpb24oKXtyZXR1cm4gSWIoYSxiLGQpfSk6SWIoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kJiZ3YihhKTtyZXR1cm4gR2IoYSxjLGQ/SGIoYSxiLGQsXCJib3JkZXItYm94XCI9PT1uLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZSksZSk6MCl9fX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9eWIoay5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/bi5zd2FwKGEse2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0seGIsW2EsXCJtYXJnaW5SaWdodFwiXSk6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9XCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5zcGxpdChcIiBcIik6W2NdOzQ+ZDtkKyspZVthK1JbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sdWIudGVzdChhKXx8KG4uY3NzSG9va3NbYStiXS5zZXQ9R2IpfSksbi5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYobi5pc0FycmF5KGIpKXtmb3IoZD13YihhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1uLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/bi5zdHlsZShhLGIsYyk6bi5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gS2IoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IEtiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1LYixLYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOktiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fFwic3dpbmdcIix0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KG4uY3NzTnVtYmVyW2NdP1wiXCI6XCJweFwiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGE9S2IucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGEmJmEuZ2V0P2EuZ2V0KHRoaXMpOktiLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihhKXt2YXIgYixjPUtiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz1iPXRoaXMub3B0aW9ucy5kdXJhdGlvbj9uLmVhc2luZ1t0aGlzLmVhc2luZ10oYSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qYSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTphLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOktiLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LEtiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1LYi5wcm90b3R5cGUsS2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBudWxsPT1hLmVsZW1bYS5wcm9wXXx8YS5lbGVtLnN0eWxlJiZudWxsIT1hLmVsZW0uc3R5bGVbYS5wcm9wXT8oYj1uLmNzcyhhLmVsZW0sYS5wcm9wLFwiXCIpLGImJlwiYXV0b1wiIT09Yj9iOjApOmEuZWxlbVthLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6YS5lbGVtLnN0eWxlJiYobnVsbCE9YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV18fG4uY3NzSG9va3NbYS5wcm9wXSk/bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCk6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0sS2IucHJvcEhvb2tzLnNjcm9sbFRvcD1LYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxuLmZ4PUtiLnByb3RvdHlwZS5pbml0LG4uZnguc3RlcD17fTt2YXIgTGIsTWIsTmI9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLE9iPW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK1ErXCIpKFthLXolXSopJFwiLFwiaVwiKSxQYj0vcXVldWVIb29rcyQvLFFiPVtWYl0sUmI9e1wiKlwiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKSxkPWMuY3VyKCksZT1PYi5leGVjKGIpLGY9ZSYmZVszXXx8KG4uY3NzTnVtYmVyW2FdP1wiXCI6XCJweFwiKSxnPShuLmNzc051bWJlclthXXx8XCJweFwiIT09ZiYmK2QpJiZPYi5leGVjKG4uY3NzKGMuZWxlbSxhKSksaD0xLGk9MjA7aWYoZyYmZ1szXSE9PWYpe2Y9Znx8Z1szXSxlPWV8fFtdLGc9K2R8fDE7ZG8gaD1ofHxcIi41XCIsZy89aCxuLnN0eWxlKGMuZWxlbSxhLGcrZik7d2hpbGUoaCE9PShoPWMuY3VyKCkvZCkmJjEhPT1oJiYtLWkpfXJldHVybiBlJiYoZz1jLnN0YXJ0PStnfHwrZHx8MCxjLnVuaXQ9ZixjLmVuZD1lWzFdP2crKGVbMV0rMSkqZVsyXTorZVsyXSksY31dfTtmdW5jdGlvbiBTYigpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TGI9dm9pZCAwfSksTGI9bi5ub3coKX1mdW5jdGlvbiBUYihhLGIpe3ZhciBjLGQ9MCxlPXtoZWlnaHQ6YX07Zm9yKGI9Yj8xOjA7ND5kO2QrPTItYiljPVJbZF0sZVtcIm1hcmdpblwiK2NdPWVbXCJwYWRkaW5nXCIrY109YTtyZXR1cm4gYiYmKGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gVWIoYSxiLGMpe2Zvcih2YXIgZCxlPShSYltiXXx8W10pLmNvbmNhdChSYltcIipcIl0pLGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIFZiKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw9dGhpcyxtPXt9LG89YS5zdHlsZSxwPWEubm9kZVR5cGUmJlMoYSkscT1MLmdldChhLFwiZnhzaG93XCIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSxcImZ4XCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLFwiZnhcIikubGVuZ3RofHxoLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1hLm5vZGVUeXBlJiYoXCJoZWlnaHRcImluIGJ8fFwid2lkdGhcImluIGIpJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1uLmNzcyhhLFwiZGlzcGxheVwiKSxrPVwibm9uZVwiPT09aj9MLmdldChhLFwib2xkZGlzcGxheVwiKXx8dGIoYS5ub2RlTmFtZSk6aixcImlubGluZVwiPT09ayYmXCJub25lXCI9PT1uLmNzcyhhLFwiZmxvYXRcIikmJihvLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLGMub3ZlcmZsb3cmJihvLm92ZXJmbG93PVwiaGlkZGVuXCIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLE5iLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8XCJ0b2dnbGVcIj09PWUsZT09PShwP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1lfHwhcXx8dm9pZCAwPT09cVtkXSljb250aW51ZTtwPSEwfW1bZF09cSYmcVtkXXx8bi5zdHlsZShhLGQpfWVsc2Ugaj12b2lkIDA7aWYobi5pc0VtcHR5T2JqZWN0KG0pKVwiaW5saW5lXCI9PT0oXCJub25lXCI9PT1qP3RiKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT9cImhpZGRlblwiaW4gcSYmKHA9cS5oaWRkZW4pOnE9TC5hY2Nlc3MoYSxcImZ4c2hvd1wiLHt9KSxmJiYocS5oaWRkZW49IXApLHA/bihhKS5zaG93KCk6bC5kb25lKGZ1bmN0aW9uKCl7bihhKS5oaWRlKCl9KSxsLmRvbmUoZnVuY3Rpb24oKXt2YXIgYjtMLnJlbW92ZShhLFwiZnhzaG93XCIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9VWIocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD1cIndpZHRoXCI9PT1kfHxcImhlaWdodFwiPT09ZD8xOjApKX19ZnVuY3Rpb24gV2IoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiZcImV4cGFuZFwiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIFhiKGEsYixjKXt2YXIgZCxlLGY9MCxnPVFiLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPUxifHxTYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6TGJ8fFNiKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiP2gucmVzb2x2ZVdpdGgoYSxbaixiXSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihXYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9UWJbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBkO3JldHVybiBuLm1hcChrLFViLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQoWGIse3R3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVtcIipcIl0pOmE9YS5zcGxpdChcIiBcIik7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLFJiW2NdPVJiW2NdfHxbXSxSYltjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP1FiLnVuc2hpZnQoYSk6UWIucHVzaChhKX19KSxuLnNwZWVkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hJiZcIm9iamVjdFwiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOlwibnVtYmVyXCI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9XCJmeFwiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihTKS5jc3MoXCJvcGFjaXR5XCIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uaXNFbXB0eU9iamVjdChhKSxmPW4uc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1YYih0aGlzLG4uZXh0ZW5kKHt9LGEpLGYpOyhlfHxMLmdldCh0aGlzLFwiZmluaXNoXCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhK1wicXVldWVIb29rc1wiLGY9bi50aW1lcnMsZz1MLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZQYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHxcImZ4XCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiLGM9TC5nZXQodGhpcyksZD1jW2ErXCJxdWV1ZVwiXSxlPWNbYStcInF1ZXVlSG9va3NcIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goW1widG9nZ2xlXCIsXCJzaG93XCIsXCJoaWRlXCJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8XCJib29sZWFuXCI9PXR5cGVvZiBhP2MuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShUYihiLCEwKSxhLGQsZSl9fSksbi5lYWNoKHtzbGlkZURvd246VGIoXCJzaG93XCIpLHNsaWRlVXA6VGIoXCJoaWRlXCIpLHNsaWRlVG9nZ2xlOlRiKFwidG9nZ2xlXCIpLGZhZGVJbjp7b3BhY2l0eTpcInNob3dcIn0sZmFkZU91dDp7b3BhY2l0eTpcImhpZGVcIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eTpcInRvZ2dsZVwifX0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGQpfX0pLG4udGltZXJzPVtdLG4uZngudGljaz1mdW5jdGlvbigpe3ZhciBhLGI9MCxjPW4udGltZXJzO2ZvcihMYj1uLm5vdygpO2I8Yy5sZW5ndGg7YisrKWE9Y1tiXSxhKCl8fGNbYl0hPT1hfHxjLnNwbGljZShiLS0sMSk7Yy5sZW5ndGh8fG4uZnguc3RvcCgpLExiPXZvaWQgMH0sbi5meC50aW1lcj1mdW5jdGlvbihhKXtuLnRpbWVycy5wdXNoKGEpLGEoKT9uLmZ4LnN0YXJ0KCk6bi50aW1lcnMucG9wKCl9LG4uZnguaW50ZXJ2YWw9MTMsbi5meC5zdGFydD1mdW5jdGlvbigpe01ifHwoTWI9c2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChNYiksTWI9bnVsbH0sbi5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sbi5mbi5kZWxheT1mdW5jdGlvbihhLGIpe3JldHVybiBhPW4uZng/bi5meC5zcGVlZHNbYV18fGE6YSxiPWJ8fFwiZnhcIix0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1zZXRUaW1lb3V0KGIsYSk7Yy5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGQpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWwuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGI9bC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLGM9Yi5hcHBlbmRDaGlsZChsLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2EudHlwZT1cImNoZWNrYm94XCIsay5jaGVja09uPVwiXCIhPT1hLnZhbHVlLGsub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxiLmRpc2FibGVkPSEwLGsub3B0RGlzYWJsZWQ9IWMuZGlzYWJsZWQsYT1sLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxhLnZhbHVlPVwidFwiLGEudHlwZT1cInJhZGlvXCIsay5yYWRpb1ZhbHVlPVwidFwiPT09YS52YWx1ZX0oKTt2YXIgWWIsWmIsJGI9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoYSYmMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gdHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09VT9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP1piOlliKSksdm9pZCAwPT09Yz9kJiZcImdldFwiaW4gZCYmbnVsbCE9PShlPWQuZ2V0KGEsYikpP2U6KGU9bi5maW5kLmF0dHIoYSxiKSxudWxsPT1lP3ZvaWQgMDplKTpudWxsIT09Yz9kJiZcInNldFwiaW4gZCYmdm9pZCAwIT09KGU9ZC5zZXQoYSxjLGIpKT9lOihhLnNldEF0dHJpYnV0ZShiLGMrXCJcIiksYyk6dm9pZCBuLnJlbW92ZUF0dHIoYSxiKSlcclxufSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEUpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYykmJihhW2RdPSExKSxhLnJlbW92ZUF0dHJpYnV0ZShjKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighay5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT1iJiZuLm5vZGVOYW1lKGEsXCJpbnB1dFwiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYiksYyYmKGEudmFsdWU9YyksYn19fX19KSxaYj17c2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj09PSExP24ucmVtb3ZlQXR0cihhLGMpOmEuc2V0QXR0cmlidXRlKGMsYyksY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1xcdysvZyksZnVuY3Rpb24oYSxiKXt2YXIgYz0kYltiXXx8bi5maW5kLmF0dHI7JGJbYl09ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGY7cmV0dXJuIGR8fChmPSRiW2JdLCRiW2JdPWUsZT1udWxsIT1jKGEsYixkKT9iLnRvTG93ZXJDYXNlKCk6bnVsbCwkYltiXT1mKSxlfX0pO3ZhciBfYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEoodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW24ucHJvcEZpeFthXXx8YV19KX19KSxuLmV4dGVuZCh7cHJvcEZpeDp7XCJmb3JcIjpcImh0bWxGb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIn0scHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9YS5ub2RlVHlwZTtpZihhJiYzIT09ZyYmOCE9PWcmJjIhPT1nKXJldHVybiBmPTEhPT1nfHwhbi5pc1hNTERvYyhhKSxmJiYoYj1uLnByb3BGaXhbYl18fGIsZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiZcInNldFwiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiZcImdldFwiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpfHxfYi50ZXN0KGEubm9kZU5hbWUpfHxhLmhyZWY/YS50YWJJbmRleDotMX19fX0pLGsub3B0U2VsZWN0ZWR8fChuLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLG4uZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXtuLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGFjPS9bXFx0XFxyXFxuXFxmXS9nO24uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD1cInN0cmluZ1wiPT10eXBlb2YgYSYmYSxpPTAsaj10aGlzLmxlbmd0aDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGgpZm9yKGI9KGF8fFwiXCIpLm1hdGNoKEUpfHxbXTtqPmk7aSsrKWlmKGM9dGhpc1tpXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KFwiIFwiK2MuY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKGFjLFwiIFwiKTpcIiBcIikpe2Y9MDt3aGlsZShlPWJbZisrXSlkLmluZGV4T2YoXCIgXCIrZStcIiBcIik8MCYmKGQrPWUrXCIgXCIpO2c9bi50cmltKGQpLGMuY2xhc3NOYW1lIT09ZyYmKGMuY2xhc3NOYW1lPWcpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD0wPT09YXJndW1lbnRzLmxlbmd0aHx8XCJzdHJpbmdcIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHxcIlwiKS5tYXRjaChFKXx8W107aj5pO2krKylpZihjPXRoaXNbaV0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPyhcIiBcIitjLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZShhYyxcIiBcIik6XCJcIikpe2Y9MDt3aGlsZShlPWJbZisrXSl3aGlsZShkLmluZGV4T2YoXCIgXCIrZStcIiBcIik+PTApZD1kLnJlcGxhY2UoXCIgXCIrZStcIiBcIixcIiBcIik7Zz1hP24udHJpbShkKTpcIlwiLGMuY2xhc3NOYW1lIT09ZyYmKGMuY2xhc3NOYW1lPWcpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYiYmXCJzdHJpbmdcIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6dGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9OmZ1bmN0aW9uKCl7aWYoXCJzdHJpbmdcIj09PWMpe3ZhciBiLGQ9MCxlPW4odGhpcyksZj1hLm1hdGNoKEUpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlKGM9PT1VfHxcImJvb2xlYW5cIj09PWMpJiYodGhpcy5jbGFzc05hbWUmJkwuc2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHxhPT09ITE/XCJcIjpMLmdldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVwiIFwiK2ErXCIgXCIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKFwiIFwiK3RoaXNbY10uY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKGFjLFwiIFwiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBiYz0vXFxyL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT1cIlwiOlwibnVtYmVyXCI9PXR5cGVvZiBlP2UrPVwiXCI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP1wiXCI6YStcIlwifSkpLGI9bi52YWxIb29rc1t0aGlzLnR5cGVdfHxuLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJzZXRcImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSxcInZhbHVlXCIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW4udmFsSG9va3NbZS50eXBlXXx8bi52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwiZ2V0XCJpbiBiJiZ2b2lkIDAhPT0oYz1iLmdldChlLFwidmFsdWVcIikpP2M6KGM9ZS52YWx1ZSxcInN0cmluZ1wiPT10eXBlb2YgYz9jLnJlcGxhY2UoYmMsXCJcIik6bnVsbD09Yz9cIlwiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsXCJ2YWx1ZVwiKTtyZXR1cm4gbnVsbCE9Yj9iOm4udHJpbShuLnRleHQoYSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZD1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsZj1cInNlbGVjdC1vbmVcIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwhKCFjLnNlbGVjdGVkJiZpIT09ZXx8KGsub3B0RGlzYWJsZWQ/Yy5kaXNhYmxlZDpudWxsIT09Yy5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSl8fGMucGFyZW50Tm9kZS5kaXNhYmxlZCYmbi5ub2RlTmFtZShjLnBhcmVudE5vZGUsXCJvcHRncm91cFwiKSkpe2lmKGI9bihjKS52YWwoKSxmKXJldHVybiBiO2cucHVzaChiKX1yZXR1cm4gZ30sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEub3B0aW9ucyxmPW4ubWFrZUFycmF5KGIpLGc9ZS5sZW5ndGg7d2hpbGUoZy0tKWQ9ZVtnXSwoZC5zZWxlY3RlZD1uLmluQXJyYXkoZC52YWx1ZSxmKT49MCkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19fX0pLG4uZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT49MDp2b2lkIDB9fSxrLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmEudmFsdWV9KX0pLG4uZWFjaChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9LGJpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsXCIqKlwiKTp0aGlzLm9mZihiLGF8fFwiKipcIixjKX19KTt2YXIgY2M9bi5ub3coKSxkYz0vXFw/LztuLnBhcnNlSlNPTj1mdW5jdGlvbihhKXtyZXR1cm4gSlNPTi5wYXJzZShhK1wiXCIpfSxuLnBhcnNlWE1MPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIWF8fFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiBudWxsO3RyeXtjPW5ldyBET01QYXJzZXIsYj1jLnBhcnNlRnJvbVN0cmluZyhhLFwidGV4dC94bWxcIil9Y2F0Y2goZCl7Yj12b2lkIDB9cmV0dXJuKCFifHxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoKSYmbi5lcnJvcihcIkludmFsaWQgWE1MOiBcIithKSxifTt2YXIgZWMsZmMsZ2M9LyMuKiQvLGhjPS8oWz8mXSlfPVteJl0qLyxpYz0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL2dtLGpjPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLGtjPS9eKD86R0VUfEhFQUQpJC8sbGM9L15cXC9cXC8vLG1jPS9eKFtcXHcuKy1dKzopKD86XFwvXFwvKD86W15cXC8/I10qQHwpKFteXFwvPyM6XSopKD86OihcXGQrKXwpfCkvLG5jPXt9LG9jPXt9LHBjPVwiKi9cIi5jb25jYXQoXCIqXCIpO3RyeXtmYz1sb2NhdGlvbi5ocmVmfWNhdGNoKHFjKXtmYz1sLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLGZjLmhyZWY9XCJcIixmYz1mYy5ocmVmfWVjPW1jLmV4ZWMoZmMudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIHJjKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYz1iLGI9XCIqXCIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8W107aWYobi5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKVwiK1wiPT09ZFswXT8oZD1kLnNsaWNlKDEpfHxcIipcIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHNjKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PW9jO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlW1wiKlwiXSYmZyhcIipcIil9ZnVuY3Rpb24gdGMoYSxiKXt2YXIgYyxkLGU9bi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHVjKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZShcIipcIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKGQpZm9yKGUgaW4gaClpZihoW2VdJiZoW2VdLnRlc3QoZCkpe2kudW5zaGlmdChlKTticmVha31pZihpWzBdaW4gYylmPWlbMF07ZWxzZXtmb3IoZSBpbiBjKXtpZighaVswXXx8YS5jb252ZXJ0ZXJzW2UrXCIgXCIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIHZjKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoXCIqXCI9PT1mKWY9aTtlbHNlIGlmKFwiKlwiIT09aSYmaSE9PWYpe2lmKGc9altpK1wiIFwiK2ZdfHxqW1wiKiBcIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdChcIiBcIiksaFsxXT09PWYmJihnPWpbaStcIiBcIitoWzBdXXx8altcIiogXCIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhW1widGhyb3dzXCJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjpnP2w6XCJObyBjb252ZXJzaW9uIGZyb20gXCIraStcIiB0byBcIitmfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6Yn19bi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmZjLHR5cGU6XCJHRVRcIixpc0xvY2FsOmpjLnRlc3QoZWNbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOnBjLHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjpuLnBhcnNlSlNPTixcInRleHQgeG1sXCI6bi5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/dGModGMoYSxuLmFqYXhTZXR0aW5ncyksYik6dGMobi5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6cmMobmMpLGFqYXhUcmFuc3BvcnQ6cmMob2MpLGFqYXg6ZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYj1ifHx7fTt2YXIgYyxkLGUsZixnLGgsaSxqLGs9bi5hamF4U2V0dXAoe30sYiksbD1rLmNvbnRleHR8fGssbT1rLmNvbnRleHQmJihsLm5vZGVUeXBlfHxsLmpxdWVyeSk/bihsKTpuLmV2ZW50LG89bi5EZWZlcnJlZCgpLHA9bi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxxPWsuc3RhdHVzQ29kZXx8e30scj17fSxzPXt9LHQ9MCx1PVwiY2FuY2VsZWRcIix2PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMj09PXQpe2lmKCFmKXtmPXt9O3doaWxlKGI9aWMuZXhlYyhlKSlmW2JbMV0udG9Mb3dlckNhc2UoKV09YlsyXX1iPWZbYS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09Yj9udWxsOmJ9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09dD9lOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHR8fChhPXNbY109c1tjXXx8YSxyW2FdPWIpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHR8fChrLm1pbWVUeXBlPWEpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSlpZigyPnQpZm9yKGIgaW4gYSlxW2JdPVtxW2JdLGFbYl1dO2Vsc2Ugdi5hbHdheXMoYVt2LnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihhKXt2YXIgYj1hfHx1O3JldHVybiBjJiZjLmFib3J0KGIpLHgoMCxiKSx0aGlzfX07aWYoby5wcm9taXNlKHYpLmNvbXBsZXRlPXAuYWRkLHYuc3VjY2Vzcz12LmRvbmUsdi5lcnJvcj12LmZhaWwsay51cmw9KChhfHxrLnVybHx8ZmMpK1wiXCIpLnJlcGxhY2UoZ2MsXCJcIikucmVwbGFjZShsYyxlY1sxXStcIi8vXCIpLGsudHlwZT1iLm1ldGhvZHx8Yi50eXBlfHxrLm1ldGhvZHx8ay50eXBlLGsuZGF0YVR5cGVzPW4udHJpbShrLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChFKXx8W1wiXCJdLG51bGw9PWsuY3Jvc3NEb21haW4mJihoPW1jLmV4ZWMoay51cmwudG9Mb3dlckNhc2UoKSksay5jcm9zc0RvbWFpbj0hKCFofHxoWzFdPT09ZWNbMV0mJmhbMl09PT1lY1syXSYmKGhbM118fChcImh0dHA6XCI9PT1oWzFdP1wiODBcIjpcIjQ0M1wiKSk9PT0oZWNbM118fChcImh0dHA6XCI9PT1lY1sxXT9cIjgwXCI6XCI0NDNcIikpKSksay5kYXRhJiZrLnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2Ygay5kYXRhJiYoay5kYXRhPW4ucGFyYW0oay5kYXRhLGsudHJhZGl0aW9uYWwpKSxzYyhuYyxrLGIsdiksMj09PXQpcmV0dXJuIHY7aT1rLmdsb2JhbCxpJiYwPT09bi5hY3RpdmUrKyYmbi5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLGsudHlwZT1rLnR5cGUudG9VcHBlckNhc2UoKSxrLmhhc0NvbnRlbnQ9IWtjLnRlc3Qoay50eXBlKSxkPWsudXJsLGsuaGFzQ29udGVudHx8KGsuZGF0YSYmKGQ9ay51cmwrPShkYy50ZXN0KGQpP1wiJlwiOlwiP1wiKStrLmRhdGEsZGVsZXRlIGsuZGF0YSksay5jYWNoZT09PSExJiYoay51cmw9aGMudGVzdChkKT9kLnJlcGxhY2UoaGMsXCIkMV89XCIrY2MrKyk6ZCsoZGMudGVzdChkKT9cIiZcIjpcIj9cIikrXCJfPVwiK2NjKyspKSxrLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTW9kaWZpZWQtU2luY2VcIixuLmxhc3RNb2RpZmllZFtkXSksbi5ldGFnW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Ob25lLU1hdGNoXCIsbi5ldGFnW2RdKSksKGsuZGF0YSYmay5oYXNDb250ZW50JiZrLmNvbnRlbnRUeXBlIT09ITF8fGIuY29udGVudFR5cGUpJiZ2LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixrLmNvbnRlbnRUeXBlKSx2LnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixrLmRhdGFUeXBlc1swXSYmay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXT9rLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dKyhcIipcIiE9PWsuZGF0YVR5cGVzWzBdP1wiLCBcIitwYytcIjsgcT0wLjAxXCI6XCJcIik6ay5hY2NlcHRzW1wiKlwiXSk7Zm9yKGogaW4gay5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcihqLGsuaGVhZGVyc1tqXSk7aWYoay5iZWZvcmVTZW5kJiYoay5iZWZvcmVTZW5kLmNhbGwobCx2LGspPT09ITF8fDI9PT10KSlyZXR1cm4gdi5hYm9ydCgpO3U9XCJhYm9ydFwiO2ZvcihqIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbal0oa1tqXSk7aWYoYz1zYyhvYyxrLGIsdikpe3YucmVhZHlTdGF0ZT0xLGkmJm0udHJpZ2dlcihcImFqYXhTZW5kXCIsW3Ysa10pLGsuYXN5bmMmJmsudGltZW91dD4wJiYoZz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7di5hYm9ydChcInRpbWVvdXRcIil9LGsudGltZW91dCkpO3RyeXt0PTEsYy5zZW5kKHIseCl9Y2F0Y2godyl7aWYoISgyPnQpKXRocm93IHc7eCgtMSx3KX19ZWxzZSB4KC0xLFwiTm8gVHJhbnNwb3J0XCIpO2Z1bmN0aW9uIHgoYSxiLGYsaCl7dmFyIGoscixzLHUsdyx4PWI7MiE9PXQmJih0PTIsZyYmY2xlYXJUaW1lb3V0KGcpLGM9dm9pZCAwLGU9aHx8XCJcIix2LnJlYWR5U3RhdGU9YT4wPzQ6MCxqPWE+PTIwMCYmMzAwPmF8fDMwND09PWEsZiYmKHU9dWMoayx2LGYpKSx1PXZjKGssdSx2LGopLGo/KGsuaWZNb2RpZmllZCYmKHc9di5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksdyYmKG4ubGFzdE1vZGlmaWVkW2RdPXcpLHc9di5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIiksdyYmKG4uZXRhZ1tkXT13KSksMjA0PT09YXx8XCJIRUFEXCI9PT1rLnR5cGU/eD1cIm5vY29udGVudFwiOjMwND09PWE/eD1cIm5vdG1vZGlmaWVkXCI6KHg9dS5zdGF0ZSxyPXUuZGF0YSxzPXUuZXJyb3Isaj0hcykpOihzPXgsKGF8fCF4KSYmKHg9XCJlcnJvclwiLDA+YSYmKGE9MCkpKSx2LnN0YXR1cz1hLHYuc3RhdHVzVGV4dD0oYnx8eCkrXCJcIixqP28ucmVzb2x2ZVdpdGgobCxbcix4LHZdKTpvLnJlamVjdFdpdGgobCxbdix4LHNdKSx2LnN0YXR1c0NvZGUocSkscT12b2lkIDAsaSYmbS50cmlnZ2VyKGo/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW3YsayxqP3I6c10pLHAuZmlyZVdpdGgobCxbdix4XSksaSYmKG0udHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFt2LGtdKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSkpfXJldHVybiB2fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5nZXQoYSx2b2lkIDAsYixcInNjcmlwdFwiKX19KSxuLmVhY2goW1wiZ2V0XCIsXCJwb3N0XCJdLGZ1bmN0aW9uKGEsYil7bltiXT1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKGMpJiYoZT1lfHxkLGQ9YyxjPXZvaWQgMCksbi5hamF4KHt1cmw6YSx0eXBlOmIsZGF0YVR5cGU6ZSxkYXRhOmMsc3VjY2VzczpkfSl9fSksbi5lYWNoKFtcImFqYXhTdGFydFwiLFwiYWpheFN0b3BcIixcImFqYXhDb21wbGV0ZVwiLFwiYWpheEVycm9yXCIsXCJhamF4U3VjY2Vzc1wiLFwiYWpheFNlbmRcIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk6KHRoaXNbMF0mJihiPW4oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKG4uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9OmZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLFwiYm9keVwiKXx8bih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksbi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9mZnNldFdpZHRoPD0wJiZhLm9mZnNldEhlaWdodDw9MH0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgd2M9LyUyMC9nLHhjPS9cXFtcXF0kLyx5Yz0vXFxyP1xcbi9nLHpjPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxBYz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24gQmMoYSxiLGMsZCl7dmFyIGU7aWYobi5pc0FycmF5KGIpKW4uZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8eGMudGVzdChhKT9kKGEsZSk6QmMoYStcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIGU/YjpcIlwiKStcIl1cIixlLGMsZCl9KTtlbHNlIGlmKGN8fFwib2JqZWN0XCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilCYyhhK1wiW1wiK2UrXCJdXCIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj9cIlwiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiKX07aWYodm9pZCAwPT09YiYmKGI9bi5hamF4U2V0dGluZ3MmJm4uYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxuLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhbi5pc1BsYWluT2JqZWN0KGEpKW4uZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpQmMoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbihcIiZcIikucmVwbGFjZSh3YyxcIitcIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGE/bi5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhbih0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmQWMudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXpjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFULnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoeWMsXCJcXHJcXG5cIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZSh5YyxcIlxcclxcblwiKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChhKXt9fTt2YXIgQ2M9MCxEYz17fSxFYz17MDoyMDAsMTIyMzoyMDR9LEZjPW4uYWpheFNldHRpbmdzLnhocigpO2EuQWN0aXZlWE9iamVjdCYmbihhKS5vbihcInVubG9hZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIERjKURjW2FdKCl9KSxrLmNvcnM9ISFGYyYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIEZjLGsuYWpheD1GYz0hIUZjLG4uYWpheFRyYW5zcG9ydChmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gay5jb3JzfHxGYyYmIWEuY3Jvc3NEb21haW4/e3NlbmQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEueGhyKCksZz0rK0NjO2lmKGYub3BlbihhLnR5cGUsYS51cmwsYS5hc3luYyxhLnVzZXJuYW1lLGEucGFzc3dvcmQpLGEueGhyRmllbGRzKWZvcihlIGluIGEueGhyRmllbGRzKWZbZV09YS54aHJGaWVsZHNbZV07YS5taW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksYS5jcm9zc0RvbWFpbnx8Y1tcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChjW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihlIGluIGMpZi5zZXRSZXF1ZXN0SGVhZGVyKGUsY1tlXSk7Yj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtiJiYoZGVsZXRlIERjW2ddLGI9Zi5vbmxvYWQ9Zi5vbmVycm9yPW51bGwsXCJhYm9ydFwiPT09YT9mLmFib3J0KCk6XCJlcnJvclwiPT09YT9kKGYuc3RhdHVzLGYuc3RhdHVzVGV4dCk6ZChFY1tmLnN0YXR1c118fGYuc3RhdHVzLGYuc3RhdHVzVGV4dCxcInN0cmluZ1wiPT10eXBlb2YgZi5yZXNwb25zZVRleHQ/e3RleHQ6Zi5yZXNwb25zZVRleHR9OnZvaWQgMCxmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxmLm9ubG9hZD1iKCksZi5vbmVycm9yPWIoXCJlcnJvclwiKSxiPURjW2ddPWIoXCJhYm9ydFwiKTt0cnl7Zi5zZW5kKGEuaGFzQ29udGVudCYmYS5kYXRhfHxudWxsKX1jYXRjaChoKXtpZihiKXRocm93IGh9fSxhYm9ydDpmdW5jdGlvbigpe2ImJmIoKX19OnZvaWQgMH0pLG4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9XCJHRVRcIil9KSxuLmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7Yj1uKFwiPHNjcmlwdD5cIikucHJvcCh7YXN5bmM6ITAsY2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oXCJsb2FkIGVycm9yXCIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZlKFwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxsLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIEdjPVtdLEhjPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87bi5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9R2MucG9wKCl8fG4uZXhwYW5kbytcIl9cIitjYysrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksbi5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihIYy50ZXN0KGIudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGEmJiEoYi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmSGMudGVzdChiLmRhdGEpJiZcImRhdGFcIik7cmV0dXJuIGh8fFwianNvbnBcIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1uLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShIYyxcIiQxXCIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShkYy50ZXN0KGIudXJsKT9cIiZcIjpcIj9cIikrYi5qc29ucCtcIj1cIitlKSxiLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBnfHxuLmVycm9yKGUrXCIgd2FzIG5vdCBjYWxsZWRcIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09XCJqc29uXCIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXthW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssR2MucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSxcInNjcmlwdFwiKTp2b2lkIDB9KSxuLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiBudWxsO1wiYm9vbGVhblwiPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGw7dmFyIGQ9di5leGVjKGEpLGU9IWMmJltdO3JldHVybiBkP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPW4uYnVpbGRGcmFnbWVudChbYV0sYixlKSxlJiZlLmxlbmd0aCYmbihlKS5yZW1vdmUoKSxuLm1lcmdlKFtdLGQuY2hpbGROb2RlcykpfTt2YXIgSWM9bi5mbi5sb2FkO24uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJkljKXJldHVybiBJYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZihcIiBcIik7cmV0dXJuIGg+PTAmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJlwib2JqZWN0XCI9PXR5cGVvZiBiJiYoZT1cIlBPU1RcIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmUsZGF0YVR5cGU6XCJodG1sXCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9uKFwiPGRpdj5cIikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxmfHxbYS5yZXNwb25zZVRleHQsYixhXSl9KSx0aGlzfSxuLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbi5ncmVwKG4udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTt2YXIgSmM9YS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZnVuY3Rpb24gS2MoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsXCJwb3NpdGlvblwiKSxsPW4oYSksbT17fTtcInN0YXRpY1wiPT09ayYmKGEuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLFwidG9wXCIpLGk9bi5jc3MoYSxcImxlZnRcIiksaj0oXCJhYnNvbHV0ZVwiPT09a3x8XCJmaXhlZFwiPT09aykmJihmK2kpLmluZGV4T2YoXCJhdXRvXCIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxuLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsaCkpLG51bGwhPWIudG9wJiYobS50b3A9Yi50b3AtaC50b3ArZyksbnVsbCE9Yi5sZWZ0JiYobS5sZWZ0PWIubGVmdC1oLmxlZnQrZSksXCJ1c2luZ1wiaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8odHlwZW9mIGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09VSYmKGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1LYyhmKSx7dG9wOmUudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDplLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTplfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBhLGIsYz10aGlzWzBdLGQ9e3RvcDowLGxlZnQ6MH07cmV0dXJuXCJmaXhlZFwiPT09bi5jc3MoYyxcInBvc2l0aW9uXCIpP2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxuLm5vZGVOYW1lKGFbMF0sXCJodG1sXCIpfHwoZD1hLm9mZnNldCgpKSxkLnRvcCs9bi5jc3MoYVswXSxcImJvcmRlclRvcFdpZHRoXCIsITApLGQubGVmdCs9bi5jc3MoYVswXSxcImJvcmRlckxlZnRXaWR0aFwiLCEwKSkse3RvcDpiLnRvcC1kLnRvcC1uLmNzcyhjLFwibWFyZ2luVG9wXCIsITApLGxlZnQ6Yi5sZWZ0LWQubGVmdC1uLmNzcyhjLFwibWFyZ2luTGVmdFwiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8SmM7d2hpbGUoYSYmIW4ubm9kZU5hbWUoYSxcImh0bWxcIikmJlwic3RhdGljXCI9PT1uLmNzcyhhLFwicG9zaXRpb25cIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8SmN9KX19KSxuLmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKGIsYyl7dmFyIGQ9XCJwYWdlWU9mZnNldFwiPT09YztuLmZuW2JdPWZ1bmN0aW9uKGUpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYixlLGYpe3ZhciBnPUtjKGIpO3JldHVybiB2b2lkIDA9PT1mP2c/Z1tjXTpiW2VdOnZvaWQoZz9nLnNjcm9sbFRvKGQ/YS5wYWdlWE9mZnNldDpmLGQ/ZjphLnBhZ2VZT2Zmc2V0KTpiW2VdPWYpfSxiLGUsYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KSxuLmVhY2goW1widG9wXCIsXCJsZWZ0XCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT15YihrLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz14YihhLGIpLHZiLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdK1wicHhcIjpjKTp2b2lkIDB9KX0pLG4uZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7cGFkZGluZzpcImlubmVyXCIrYSxjb250ZW50OmIsXCJcIjpcIm91dGVyXCIrYX0sZnVuY3Rpb24oYyxkKXtuLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fFwiYm9vbGVhblwiIT10eXBlb2YgZCksZz1jfHwoZD09PSEwfHxlPT09ITA/XCJtYXJnaW5cIjpcImJvcmRlclwiKTtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gbi5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtcImNsaWVudFwiK2FdOjk9PT1iLm5vZGVUeXBlPyhlPWIuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGIuYm9keVtcInNjcm9sbFwiK2FdLGVbXCJzY3JvbGxcIithXSxiLmJvZHlbXCJvZmZzZXRcIithXSxlW1wib2Zmc2V0XCIrYV0sZVtcImNsaWVudFwiK2FdKSk6dm9pZCAwPT09ZD9uLmNzcyhiLGMsZyk6bi5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxuLmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LG4uZm4uYW5kU2VsZj1uLmZuLmFkZEJhY2ssXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIExjPWEualF1ZXJ5LE1jPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPU1jKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1MYyksbn0sdHlwZW9mIGI9PT1VJiYoYS5qUXVlcnk9YS4kPW4pLG59KTtcclxuXHJcblxyXG4vKipcclxuICogQ29va2llIHBsdWdpblxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDYgS2xhdXMgSGFydGwgKHN0aWxidWVyby5kZSlcclxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXM6XHJcbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcbiAqIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxyXG4gKlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBjb29raWUgd2l0aCB0aGUgZ2l2ZW4gbmFtZSBhbmQgdmFsdWUgYW5kIG90aGVyIG9wdGlvbmFsIHBhcmFtZXRlcnMuXHJcbiAqXHJcbiAqIEBleGFtcGxlICQuY29va2llKCd0aGVfY29va2llJywgJ3RoZV92YWx1ZScpO1xyXG4gKiBAZGVzYyBTZXQgdGhlIHZhbHVlIG9mIGEgY29va2llLlxyXG4gKiBAZXhhbXBsZSAkLmNvb2tpZSgndGhlX2Nvb2tpZScsICd0aGVfdmFsdWUnLCB7IGV4cGlyZXM6IDcsIHBhdGg6ICcvJywgZG9tYWluOiAnanF1ZXJ5LmNvbScsIHNlY3VyZTogdHJ1ZSB9KTtcclxuICogQGRlc2MgQ3JlYXRlIGEgY29va2llIHdpdGggYWxsIGF2YWlsYWJsZSBvcHRpb25zLlxyXG4gKiBAZXhhbXBsZSAkLmNvb2tpZSgndGhlX2Nvb2tpZScsICd0aGVfdmFsdWUnKTtcclxuICogQGRlc2MgQ3JlYXRlIGEgc2Vzc2lvbiBjb29raWUuXHJcbiAqIEBleGFtcGxlICQuY29va2llKCd0aGVfY29va2llJywgbnVsbCk7XHJcbiAqIEBkZXNjIERlbGV0ZSBhIGNvb2tpZSBieSBwYXNzaW5nIG51bGwgYXMgdmFsdWUuIEtlZXAgaW4gbWluZCB0aGF0IHlvdSBoYXZlIHRvIHVzZSB0aGUgc2FtZSBwYXRoIGFuZCBkb21haW5cclxuICogICAgICAgdXNlZCB3aGVuIHRoZSBjb29raWUgd2FzIHNldC5cclxuICpcclxuICogQHBhcmFtIFN0cmluZyBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb29raWUuXHJcbiAqIEBwYXJhbSBTdHJpbmcgdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBjb29raWUuXHJcbiAqIEBwYXJhbSBPYmplY3Qgb3B0aW9ucyBBbiBvYmplY3QgbGl0ZXJhbCBjb250YWluaW5nIGtleS92YWx1ZSBwYWlycyB0byBwcm92aWRlIG9wdGlvbmFsIGNvb2tpZSBhdHRyaWJ1dGVzLlxyXG4gKiBAb3B0aW9uIE51bWJlcnxEYXRlIGV4cGlyZXMgRWl0aGVyIGFuIGludGVnZXIgc3BlY2lmeWluZyB0aGUgZXhwaXJhdGlvbiBkYXRlIGZyb20gbm93IG9uIGluIGRheXMgb3IgYSBEYXRlIG9iamVjdC5cclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGEgbmVnYXRpdmUgdmFsdWUgaXMgc3BlY2lmaWVkIChlLmcuIGEgZGF0ZSBpbiB0aGUgcGFzdCksIHRoZSBjb29raWUgd2lsbCBiZSBkZWxldGVkLlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgc2V0IHRvIG51bGwgb3Igb21pdHRlZCwgdGhlIGNvb2tpZSB3aWxsIGJlIGEgc2Vzc2lvbiBjb29raWUgYW5kIHdpbGwgbm90IGJlIHJldGFpbmVkXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHRoZSB0aGUgYnJvd3NlciBleGl0cy5cclxuICogQG9wdGlvbiBTdHJpbmcgcGF0aCBUaGUgdmFsdWUgb2YgdGhlIHBhdGggYXRyaWJ1dGUgb2YgdGhlIGNvb2tpZSAoZGVmYXVsdDogcGF0aCBvZiBwYWdlIHRoYXQgY3JlYXRlZCB0aGUgY29va2llKS5cclxuICogQG9wdGlvbiBTdHJpbmcgZG9tYWluIFRoZSB2YWx1ZSBvZiB0aGUgZG9tYWluIGF0dHJpYnV0ZSBvZiB0aGUgY29va2llIChkZWZhdWx0OiBkb21haW4gb2YgcGFnZSB0aGF0IGNyZWF0ZWQgdGhlIGNvb2tpZSkuXHJcbiAqIEBvcHRpb24gQm9vbGVhbiBzZWN1cmUgSWYgdHJ1ZSwgdGhlIHNlY3VyZSBhdHRyaWJ1dGUgb2YgdGhlIGNvb2tpZSB3aWxsIGJlIHNldCBhbmQgdGhlIGNvb2tpZSB0cmFuc21pc3Npb24gd2lsbFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUgYSBzZWN1cmUgcHJvdG9jb2wgKGxpa2UgSFRUUFMpLlxyXG4gKiBAdHlwZSB1bmRlZmluZWRcclxuICpcclxuICogQG5hbWUgJC5jb29raWVcclxuICogQGNhdCBQbHVnaW5zL0Nvb2tpZVxyXG4gKiBAYXV0aG9yIEtsYXVzIEhhcnRsL2tsYXVzLmhhcnRsQHN0aWxidWVyby5kZVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIHZhbHVlIG9mIGEgY29va2llIHdpdGggdGhlIGdpdmVuIG5hbWUuXHJcbiAqXHJcbiAqIEBleGFtcGxlICQuY29va2llKCd0aGVfY29va2llJyk7XHJcbiAqIEBkZXNjIEdldCB0aGUgdmFsdWUgb2YgYSBjb29raWUuXHJcbiAqXHJcbiAqIEBwYXJhbSBTdHJpbmcgbmFtZSBUaGUgbmFtZSBvZiB0aGUgY29va2llLlxyXG4gKiBAcmV0dXJuIFRoZSB2YWx1ZSBvZiB0aGUgY29va2llLlxyXG4gKiBAdHlwZSBTdHJpbmdcclxuICpcclxuICogQG5hbWUgJC5jb29raWVcclxuICogQGNhdCBQbHVnaW5zL0Nvb2tpZVxyXG4gKiBAYXV0aG9yIEtsYXVzIEhhcnRsL2tsYXVzLmhhcnRsQHN0aWxidWVyby5kZVxyXG4gKi9cclxualF1ZXJ5LmNvb2tpZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9ICd1bmRlZmluZWQnKSB7IC8vIG5hbWUgYW5kIHZhbHVlIGdpdmVuLCBzZXQgY29va2llXHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuZXhwaXJlcyA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZXhwaXJlcyA9ICcnO1xyXG4gICAgICAgIGlmIChvcHRpb25zLmV4cGlyZXMgJiYgKHR5cGVvZiBvcHRpb25zLmV4cGlyZXMgPT0gJ251bWJlcicgfHwgb3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmV4cGlyZXMgPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKG9wdGlvbnMuZXhwaXJlcyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBvcHRpb25zLmV4cGlyZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXhwaXJlcyA9ICc7IGV4cGlyZXM9JyArIGRhdGUudG9VVENTdHJpbmcoKTsgLy8gdXNlIGV4cGlyZXMgYXR0cmlidXRlLCBtYXgtYWdlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ0FVVElPTjogTmVlZGVkIHRvIHBhcmVudGhlc2l6ZSBvcHRpb25zLnBhdGggYW5kIG9wdGlvbnMuZG9tYWluXHJcbiAgICAgICAgLy8gaW4gdGhlIGZvbGxvd2luZyBleHByZXNzaW9ucywgb3RoZXJ3aXNlIHRoZXkgZXZhbHVhdGUgdG8gdW5kZWZpbmVkXHJcbiAgICAgICAgLy8gaW4gdGhlIHBhY2tlZCB2ZXJzaW9uIGZvciBzb21lIHJlYXNvbi4uLlxyXG4gICAgICAgIHZhciBwYXRoID0gb3B0aW9ucy5wYXRoID8gJzsgcGF0aD0nICsgKG9wdGlvbnMucGF0aCkgOiAnJztcclxuICAgICAgICB2YXIgZG9tYWluID0gb3B0aW9ucy5kb21haW4gPyAnOyBkb21haW49JyArIChvcHRpb25zLmRvbWFpbikgOiAnJztcclxuICAgICAgICB2YXIgc2VjdXJlID0gb3B0aW9ucy5zZWN1cmUgPyAnOyBzZWN1cmUnIDogJyc7XHJcbiAgICAgICAgdmFyIHNhbWVzaXRlID0gb3B0aW9ucy5zYW1lc2l0ZSA/ICc7IHNhbWVzaXRlPScgKyAob3B0aW9ucy5zYW1lc2l0ZSkgOiAnJztcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBbbmFtZSwgJz0nLCBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSxzYW1lc2l0ZV0uam9pbignJyk7XHJcbiAgICB9IGVsc2UgeyAvLyBvbmx5IG5hbWUgZ2l2ZW4sIGdldCBjb29raWVcclxuICAgICAgICB2YXIgY29va2llVmFsdWUgPSBudWxsO1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5jb29raWUgJiYgZG9jdW1lbnQuY29va2llICE9ICcnKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvb2tpZSA9IGpRdWVyeS50cmltKGNvb2tpZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgLy8gRG9lcyB0aGlzIGNvb2tpZSBzdHJpbmcgYmVnaW4gd2l0aCB0aGUgbmFtZSB3ZSB3YW50P1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvb2tpZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggKyAxKSA9PSAobmFtZSArICc9JykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb29raWVWYWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKG5hbWUubGVuZ3RoICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb29raWVWYWx1ZTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5cclxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG5cdHZhciBjb29raWVPcHRpb25zID0ge2V4cGlyZXM6IDcsIHBhdGg6ICcvJ307XHJcblx0XHRcclxuXHJcbn0pO1xyXG5cclxuLypcclxuXHJcbiBhcmN0aWNNb2RhbCDvv70galF1ZXJ5IHBsdWdpblxyXG4gVmVyc2lvbjogMC4zXHJcbiBBdXRob3I6IFNlcmdleSBQcmVkdm9kaXRlbGV2IChzZXJnZXkucHJlZHZvZGl0ZWxldkBnbWFpbC5jb20pXHJcbiBDb21wYW55OiBBcmN0aWMgTGFib3JhdG9yeSAoaHR0cDovL2FyY3RpY2xhYi5ydS8pXHJcblxyXG4gRG9jcyAmIEV4YW1wbGVzOiBodHRwOi8vYXJjdGljbGFiLnJ1L2FyY3RpY21vZGFsL1xyXG5cclxuICovXHJcbihmdW5jdGlvbihkKXt2YXIgZz17dHlwZTpcImh0bWxcIixjb250ZW50OlwiXCIsdXJsOlwiXCIsYWpheDp7fSxhamF4X3JlcXVlc3Q6bnVsbCxjbG9zZU9uRXNjOiEwLGNsb3NlT25PdmVybGF5Q2xpY2s6ITAsY2xvbmU6ITEsb3ZlcmxheTp7YmxvY2s6dm9pZCAwLHRwbDonPGRpdiBjbGFzcz1cImFyY3RpY21vZGFsLW92ZXJsYXlcIj48L2Rpdj4nLGNzczp7YmFja2dyb3VuZENvbG9yOlwiIzAwMFwiLG9wYWNpdHk6MC4yfX0sY29udGFpbmVyOntibG9jazp2b2lkIDAsdHBsOic8ZGl2IGNsYXNzPVwiYXJjdGljbW9kYWwtY29udGFpbmVyXCI+PHRhYmxlIGNsYXNzPVwiYXJjdGljbW9kYWwtY29udGFpbmVyX2lcIj48dHI+PHRkIGNsYXNzPVwiYXJjdGljbW9kYWwtY29udGFpbmVyX2kyXCI+PC90ZD48L3RyPjwvdGFibGU+PC9kaXY+J30sd3JhcDp2b2lkIDAsYm9keTp2b2lkIDAsZXJyb3JzOnt0cGw6JzxkaXYgY2xhc3M9XCJhcmN0aWNtb2RhbC1lcnJvciBhcmN0aWNtb2RhbC1jbG9zZVwiPjwvZGl2PicsYXV0b2Nsb3NlX2RlbGF5OjJFMyxcclxuYWpheF91bnN1Y2Nlc3NmdWxfbG9hZDpcIkVycm9yXCJ9LG9wZW5FZmZlY3Q6e3R5cGU6XCJmYWRlXCIsc3BlZWQ6NDAwfSxjbG9zZUVmZmVjdDp7dHlwZTpcImZhZGVcIixzcGVlZDo0MDB9LGJlZm9yZU9wZW46ZC5ub29wLGFmdGVyT3BlbjpkLm5vb3AsYmVmb3JlQ2xvc2U6ZC5ub29wLGFmdGVyQ2xvc2U6ZC5ub29wLGFmdGVyTG9hZGluZzpkLm5vb3AsYWZ0ZXJMb2FkaW5nT25TaG93OmQubm9vcCxlcnJvckxvYWRpbmc6ZC5ub29wfSxqPTAsZT1kKFtdKSxtPXtpc0V2ZW50T3V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ITA7ZChhKS5lYWNoKGZ1bmN0aW9uKCl7ZChiLnRhcmdldCkuZ2V0KDApPT1kKHRoaXMpLmdldCgwKSYmKGM9ITEpOzA9PWQoYi50YXJnZXQpLmNsb3Nlc3QoXCJIVE1MXCIsZCh0aGlzKS5nZXQoMCkpLmxlbmd0aCYmKGM9ITEpfSk7cmV0dXJuIGN9fSxmPXtnZXRQYXJlbnRFbDpmdW5jdGlvbihhKXt2YXIgYj1kKGEpO3JldHVybiBiLmRhdGEoXCJhcmN0aWNtb2RhbFwiKT9iOihiPVxyXG5kKGEpLmNsb3Nlc3QoXCIuYXJjdGljbW9kYWwtY29udGFpbmVyXCIpLmRhdGEoXCJhcmN0aWNtb2RhbFBhcmVudEVsXCIpKT9iOiExfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGEsYixjLGUpe2U9dm9pZCAwPT1lP2Qubm9vcDplO3N3aXRjaChjLnR5cGUpe2Nhc2UgXCJmYWRlXCI6XCJzaG93XCI9PWI/YS5mYWRlSW4oYy5zcGVlZCxlKTphLmZhZGVPdXQoYy5zcGVlZCxlKTticmVhaztjYXNlIFwibm9uZVwiOlwic2hvd1wiPT1iP2Euc2hvdygpOmEuaGlkZSgpLGUoKX19LHByZXBhcmVfYm9keTpmdW5jdGlvbihhLGIpe2QoXCIuYXJjdGljbW9kYWwtY2xvc2VcIixhLmJvZHkpLnVuYmluZChcImNsaWNrLmFyY3RpY21vZGFsXCIpLmJpbmQoXCJjbGljay5hcmN0aWNtb2RhbFwiLGZ1bmN0aW9uKCl7Yi5hcmN0aWNtb2RhbChcImNsb3NlXCIpO3JldHVybiExfSl9LGluaXRfZWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmRhdGEoXCJhcmN0aWNtb2RhbFwiKTtpZighYyl7Yz1iO2orKztjLm1vZGFsSUQ9ajtjLm92ZXJsYXkuYmxvY2s9XHJcbmQoYy5vdmVybGF5LnRwbCk7Yy5vdmVybGF5LmJsb2NrLmNzcyhjLm92ZXJsYXkuY3NzKTtjLmNvbnRhaW5lci5ibG9jaz1kKGMuY29udGFpbmVyLnRwbCk7Yy5ib2R5PWQoXCIuYXJjdGljbW9kYWwtY29udGFpbmVyX2kyXCIsYy5jb250YWluZXIuYmxvY2spO2IuY2xvbmU/Yy5ib2R5Lmh0bWwoYS5jbG9uZSghMCkpOihhLmJlZm9yZSgnPGRpdiBpZD1cImFyY3RpY21vZGFsUmVzZXJ2ZScrYy5tb2RhbElEKydcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmVcIiAvPicpLGMuYm9keS5odG1sKGEpKTtmLnByZXBhcmVfYm9keShjLGEpO2MuY2xvc2VPbk92ZXJsYXlDbGljayYmYy5vdmVybGF5LmJsb2NrLmFkZChjLmNvbnRhaW5lci5ibG9jaykuY2xpY2soZnVuY3Rpb24oYil7bS5pc0V2ZW50T3V0KGQoXCI+KlwiLGMuYm9keSksYikmJmEuYXJjdGljbW9kYWwoXCJjbG9zZVwiKX0pO2MuY29udGFpbmVyLmJsb2NrLmRhdGEoXCJhcmN0aWNtb2RhbFBhcmVudEVsXCIsYSk7YS5kYXRhKFwiYXJjdGljbW9kYWxcIixjKTtcclxuZT1kLm1lcmdlKGUsYSk7ZC5wcm94eShoLnNob3csYSkoKTtpZihcImh0bWxcIj09Yy50eXBlKXJldHVybiBhO2lmKHZvaWQgMCE9Yy5hamF4LmJlZm9yZVNlbmQpe3ZhciBrPWMuYWpheC5iZWZvcmVTZW5kO2RlbGV0ZSBjLmFqYXguYmVmb3JlU2VuZH1pZih2b2lkIDAhPWMuYWpheC5zdWNjZXNzKXt2YXIgZz1jLmFqYXguc3VjY2VzcztkZWxldGUgYy5hamF4LnN1Y2Nlc3N9aWYodm9pZCAwIT1jLmFqYXguZXJyb3Ipe3ZhciBsPWMuYWpheC5lcnJvcjtkZWxldGUgYy5hamF4LmVycm9yfXZhciBuPWQuZXh0ZW5kKCEwLHt1cmw6Yy51cmwsYmVmb3JlU2VuZDpmdW5jdGlvbigpe3ZvaWQgMD09az9jLmJvZHkuaHRtbCgnPGRpdiBjbGFzcz1cImFyY3RpY21vZGFsLWxvYWRpbmdcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlclwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZSBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRcIj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKTprKGMsYSl9LHN1Y2Nlc3M6ZnVuY3Rpb24oYil7YS50cmlnZ2VyKFwiYWZ0ZXJMb2FkaW5nXCIpO2MuYWZ0ZXJMb2FkaW5nKGMsYSxiKTt2b2lkIDA9PWc/Yy5ib2R5Lmh0bWwoYik6ZyhjLGEsYik7Zi5wcmVwYXJlX2JvZHkoYyxcclxuYSk7YS50cmlnZ2VyKFwiYWZ0ZXJMb2FkaW5nT25TaG93XCIpO2MuYWZ0ZXJMb2FkaW5nT25TaG93KGMsYSxiKX0sZXJyb3I6ZnVuY3Rpb24oKXthLnRyaWdnZXIoXCJlcnJvckxvYWRpbmdcIik7Yy5lcnJvckxvYWRpbmcoYyxhKTt2b2lkIDA9PWw/KGMuYm9keS5odG1sKGMuZXJyb3JzLnRwbCksZChcIi5hcmN0aWNtb2RhbC1lcnJvclwiLGMuYm9keSkuaHRtbChjLmVycm9ycy5hamF4X3Vuc3VjY2Vzc2Z1bF9sb2FkKSxkKFwiLmFyY3RpY21vZGFsLWNsb3NlXCIsYy5ib2R5KS5jbGljayhmdW5jdGlvbigpe2EuYXJjdGljbW9kYWwoXCJjbG9zZVwiKTtyZXR1cm4hMX0pLGMuZXJyb3JzLmF1dG9jbG9zZV9kZWxheSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EuYXJjdGljbW9kYWwoXCJjbG9zZVwiKX0sYy5lcnJvcnMuYXV0b2Nsb3NlX2RlbGF5KSk6bChjLGEpfX0sYy5hamF4KTtjLmFqYXhfcmVxdWVzdD1kLmFqYXgobik7YS5kYXRhKFwiYXJjdGljbW9kYWxcIixjKX19LGluaXQ6ZnVuY3Rpb24oYSl7YT1cclxuZC5leHRlbmQoITAse30sZyxhKTtpZihkLmlzRnVuY3Rpb24odGhpcykpaWYodm9pZCAwPT1hKWQuZXJyb3IoXCJqcXVlcnkuYXJjdGljbW9kYWw6IFVuY29ycmVjdCBwYXJhbWV0ZXJzXCIpO2Vsc2UgaWYoXCJcIj09YS50eXBlKWQuZXJyb3IoJ2pxdWVyeS5hcmN0aWNtb2RhbDogRG9uXFwndCBzZXQgcGFyYW1ldGVyIFwidHlwZVwiJyk7ZWxzZSBzd2l0Y2goYS50eXBlKXtjYXNlIFwiaHRtbFwiOmlmKFwiXCI9PWEuY29udGVudCl7ZC5lcnJvcignanF1ZXJ5LmFyY3RpY21vZGFsOiBEb25cXCd0IHNldCBwYXJhbWV0ZXIgXCJjb250ZW50XCInKTticmVha312YXIgYj1hLmNvbnRlbnQ7YS5jb250ZW50PVwiXCI7cmV0dXJuIGYuaW5pdF9lbChkKGIpLGEpO2Nhc2UgXCJhamF4XCI6aWYoXCJcIj09YS51cmwpe2QuZXJyb3IoJ2pxdWVyeS5hcmN0aWNtb2RhbDogRG9uXFwndCBzZXQgcGFyYW1ldGVyIFwidXJsXCInKTticmVha31yZXR1cm4gZi5pbml0X2VsKGQoXCI8ZGl2IC8+XCIpLGEpfWVsc2UgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuaW5pdF9lbChkKHRoaXMpLFxyXG5kLmV4dGVuZCghMCx7fSxhKSl9KX19LGg9e3Nob3c6ZnVuY3Rpb24oKXt2YXIgYT1mLmdldFBhcmVudEVsKHRoaXMpO2lmKCExPT09YSlkLmVycm9yKFwianF1ZXJ5LmFyY3RpY21vZGFsOiBVbmNvcnJlY3QgY2FsbFwiKTtlbHNle3ZhciBiPWEuZGF0YShcImFyY3RpY21vZGFsXCIpO2Iub3ZlcmxheS5ibG9jay5oaWRlKCk7Yi5jb250YWluZXIuYmxvY2suaGlkZSgpO2QoXCJCT0RZXCIpLmFwcGVuZChiLm92ZXJsYXkuYmxvY2spO2QoXCJCT0RZXCIpLmFwcGVuZChiLmNvbnRhaW5lci5ibG9jayk7Yi5iZWZvcmVPcGVuKGIsYSk7YS50cmlnZ2VyKFwiYmVmb3JlT3BlblwiKTtpZihcImhpZGRlblwiIT1iLndyYXAuY3NzKFwib3ZlcmZsb3dcIikpe2Iud3JhcC5kYXRhKFwiYXJjdGljbW9kYWxPdmVyZmxvd1wiLGIud3JhcC5jc3MoXCJvdmVyZmxvd1wiKSk7dmFyIGM9Yi53cmFwLm91dGVyV2lkdGgoITApO2Iud3JhcC5jc3MoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpO3ZhciBnPWIud3JhcC5vdXRlcldpZHRoKCEwKTtnIT1cclxuYyYmYi53cmFwLmNzcyhcIm1hcmdpblJpZ2h0XCIsZy1jK1wicHhcIil9ZS5ub3QoYSkuZWFjaChmdW5jdGlvbigpe2QodGhpcykuZGF0YShcImFyY3RpY21vZGFsXCIpLm92ZXJsYXkuYmxvY2suaGlkZSgpfSk7Zi50cmFuc2l0aW9uKGIub3ZlcmxheS5ibG9jayxcInNob3dcIiwxPGUubGVuZ3RoP3t0eXBlOlwibm9uZVwifTpiLm9wZW5FZmZlY3QpO2YudHJhbnNpdGlvbihiLmNvbnRhaW5lci5ibG9jayxcInNob3dcIiwxPGUubGVuZ3RoP3t0eXBlOlwibm9uZVwifTpiLm9wZW5FZmZlY3QsZnVuY3Rpb24oKXtiLmFmdGVyT3BlbihiLGEpO2EudHJpZ2dlcihcImFmdGVyT3BlblwiKX0pO3JldHVybiBhfX0sY2xvc2U6ZnVuY3Rpb24oKXtpZihkLmlzRnVuY3Rpb24odGhpcykpZS5lYWNoKGZ1bmN0aW9uKCl7ZCh0aGlzKS5hcmN0aWNtb2RhbChcImNsb3NlXCIpfSk7ZWxzZSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9Zi5nZXRQYXJlbnRFbCh0aGlzKTtpZighMT09PWEpZC5lcnJvcihcImpxdWVyeS5hcmN0aWNtb2RhbDogVW5jb3JyZWN0IGNhbGxcIik7XHJcbmVsc2V7dmFyIGI9YS5kYXRhKFwiYXJjdGljbW9kYWxcIik7ITEhPT1iLmJlZm9yZUNsb3NlKGIsYSkmJihhLnRyaWdnZXIoXCJiZWZvcmVDbG9zZVwiKSxlLm5vdChhKS5sYXN0KCkuZWFjaChmdW5jdGlvbigpe2QodGhpcykuZGF0YShcImFyY3RpY21vZGFsXCIpLm92ZXJsYXkuYmxvY2suc2hvdygpfSksZi50cmFuc2l0aW9uKGIub3ZlcmxheS5ibG9jayxcImhpZGVcIiwxPGUubGVuZ3RoP3t0eXBlOlwibm9uZVwifTpiLmNsb3NlRWZmZWN0KSxmLnRyYW5zaXRpb24oYi5jb250YWluZXIuYmxvY2ssXCJoaWRlXCIsMTxlLmxlbmd0aD97dHlwZTpcIm5vbmVcIn06Yi5jbG9zZUVmZmVjdCxmdW5jdGlvbigpe2IuYWZ0ZXJDbG9zZShiLGEpO2EudHJpZ2dlcihcImFmdGVyQ2xvc2VcIik7Yi5jbG9uZXx8ZChcIiNhcmN0aWNtb2RhbFJlc2VydmVcIitiLm1vZGFsSUQpLnJlcGxhY2VXaXRoKGIuYm9keS5maW5kKFwiPipcIikpO2Iub3ZlcmxheS5ibG9jay5yZW1vdmUoKTtiLmNvbnRhaW5lci5ibG9jay5yZW1vdmUoKTthLmRhdGEoXCJhcmN0aWNtb2RhbFwiLFxyXG5udWxsKTtkKFwiLmFyY3RpY21vZGFsLWNvbnRhaW5lclwiKS5sZW5ndGh8fChiLndyYXAuZGF0YShcImFyY3RpY21vZGFsT3ZlcmZsb3dcIikmJmIud3JhcC5jc3MoXCJvdmVyZmxvd1wiLGIud3JhcC5kYXRhKFwiYXJjdGljbW9kYWxPdmVyZmxvd1wiKSksYi53cmFwLmNzcyhcIm1hcmdpblJpZ2h0XCIsMCkpfSksXCJhamF4XCI9PWIudHlwZSYmYi5hamF4X3JlcXVlc3QuYWJvcnQoKSxlPWUubm90KGEpKX19KX0sc2V0RGVmYXVsdDpmdW5jdGlvbihhKXtkLmV4dGVuZCghMCxnLGEpfX07ZChmdW5jdGlvbigpe2cud3JhcD1kKGRvY3VtZW50LmFsbCYmIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I/XCJodG1sXCI6XCJib2R5XCIpfSk7ZChkb2N1bWVudCkuYmluZChcImtleXVwLmFyY3RpY21vZGFsXCIsZnVuY3Rpb24oYSl7dmFyIGI9ZS5sYXN0KCk7Yi5sZW5ndGgmJmIuZGF0YShcImFyY3RpY21vZGFsXCIpLmNsb3NlT25Fc2MmJjI3PT09YS5rZXlDb2RlJiZiLmFyY3RpY21vZGFsKFwiY2xvc2VcIil9KTtkLmFyY3RpY21vZGFsPVxyXG5kLmZuLmFyY3RpY21vZGFsPWZ1bmN0aW9uKGEpe2lmKGhbYV0pcmV0dXJuIGhbYV0uYXBwbHkodGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgYXx8IWEpcmV0dXJuIGYuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZC5lcnJvcihcImpxdWVyeS5hcmN0aWNtb2RhbDogTWV0aG9kIFwiK2ErXCIgZG9lcyBub3QgZXhpc3RcIil9fSkoalF1ZXJ5KTtcclxuXHJcbi8qISBqUXVlcnkgQ29sb3IgdkAyLjEuMCBodHRwOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LWNvbG9yIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXHJcbihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIG0oYSxiLGMpe3ZhciBkPWhbYi50eXBlXXx8e307cmV0dXJuIGE9PW51bGw/Y3x8IWIuZGVmP251bGw6Yi5kZWY6KGE9ZC5mbG9vcj9+fmE6cGFyc2VGbG9hdChhKSxpc05hTihhKT9iLmRlZjpkLm1vZD8oYStkLm1vZCklZC5tb2Q6MD5hPzA6ZC5tYXg8YT9kLm1heDphKX1mdW5jdGlvbiBuKGIpe3ZhciBjPWYoKSxkPWMuX3JnYmE9W107cmV0dXJuIGI9Yi50b0xvd2VyQ2FzZSgpLGwoZSxmdW5jdGlvbihhLGUpe3ZhciBmLGg9ZS5yZS5leGVjKGIpLGk9aCYmZS5wYXJzZShoKSxqPWUuc3BhY2V8fFwicmdiYVwiO2lmKGkpcmV0dXJuIGY9Y1tqXShpKSxjW2dbal0uY2FjaGVdPWZbZ1tqXS5jYWNoZV0sZD1jLl9yZ2JhPWYuX3JnYmEsITF9KSxkLmxlbmd0aD8oZC5qb2luKCk9PT1cIjAsMCwwLDBcIiYmYS5leHRlbmQoZCxrLnRyYW5zcGFyZW50KSxjKTprW2JdfWZ1bmN0aW9uIG8oYSxiLGMpe3JldHVybiBjPShjKzEpJTEsYyo2PDE/YSsoYi1hKSpjKjY6YyoyPDE/YjpjKjM8Mj9hKyhiLWEpKigyLzMtYykqNjphfXZhciBjPVwiYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIGJvcmRlclRvcENvbG9yIGNvbG9yIGNvbHVtblJ1bGVDb2xvciBvdXRsaW5lQ29sb3IgdGV4dERlY29yYXRpb25Db2xvciB0ZXh0RW1waGFzaXNDb2xvclwiLGQ9L14oW1xcLStdKT1cXHMqKFxcZCtcXC4/XFxkKikvLGU9W3tyZTovcmdiYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm5bYVsxXSxhWzJdLGFbM10sYVs0XV19fSx7cmU6L3JnYmE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyopP1xcKS8scGFyc2U6ZnVuY3Rpb24oYSl7cmV0dXJuW2FbMV0qMi41NSxhWzJdKjIuNTUsYVszXSoyLjU1LGFbNF1dfX0se3JlOi8jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pLyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm5bcGFyc2VJbnQoYVsxXSwxNikscGFyc2VJbnQoYVsyXSwxNikscGFyc2VJbnQoYVszXSwxNildfX0se3JlOi8jKFthLWYwLTldKShbYS1mMC05XSkoW2EtZjAtOV0pLyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm5bcGFyc2VJbnQoYVsxXSthWzFdLDE2KSxwYXJzZUludChhWzJdK2FbMl0sMTYpLHBhcnNlSW50KGFbM10rYVszXSwxNildfX0se3JlOi9oc2xhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLHNwYWNlOlwiaHNsYVwiLHBhcnNlOmZ1bmN0aW9uKGEpe3JldHVyblthWzFdLGFbMl0vMTAwLGFbM10vMTAwLGFbNF1dfX1dLGY9YS5Db2xvcj1mdW5jdGlvbihiLGMsZCxlKXtyZXR1cm4gbmV3IGEuQ29sb3IuZm4ucGFyc2UoYixjLGQsZSl9LGc9e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6XCJieXRlXCJ9LGdyZWVuOntpZHg6MSx0eXBlOlwiYnl0ZVwifSxibHVlOntpZHg6Mix0eXBlOlwiYnl0ZVwifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6XCJkZWdyZWVzXCJ9LHNhdHVyYXRpb246e2lkeDoxLHR5cGU6XCJwZXJjZW50XCJ9LGxpZ2h0bmVzczp7aWR4OjIsdHlwZTpcInBlcmNlbnRcIn19fX0saD17XCJieXRlXCI6e2Zsb29yOiEwLG1heDoyNTV9LHBlcmNlbnQ6e21heDoxfSxkZWdyZWVzOnttb2Q6MzYwLGZsb29yOiEwfX0saT1mLnN1cHBvcnQ9e30saj1hKFwiPHA+XCIpWzBdLGssbD1hLmVhY2g7ai5zdHlsZS5jc3NUZXh0PVwiYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KVwiLGkucmdiYT1qLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKFwicmdiYVwiKT4tMSxsKGcsZnVuY3Rpb24oYSxiKXtiLmNhY2hlPVwiX1wiK2EsYi5wcm9wcy5hbHBoYT17aWR4OjMsdHlwZTpcInBlcmNlbnRcIixkZWY6MX19KSxmLmZuPWEuZXh0ZW5kKGYucHJvdG90eXBlLHtwYXJzZTpmdW5jdGlvbihjLGQsZSxoKXtpZihjPT09YilyZXR1cm4gdGhpcy5fcmdiYT1bbnVsbCxudWxsLG51bGwsbnVsbF0sdGhpcztpZihjLmpxdWVyeXx8Yy5ub2RlVHlwZSljPWEoYykuY3NzKGQpLGQ9Yjt2YXIgaT10aGlzLGo9YS50eXBlKGMpLG89dGhpcy5fcmdiYT1bXSxwO2QhPT1iJiYoYz1bYyxkLGUsaF0saj1cImFycmF5XCIpO2lmKGo9PT1cInN0cmluZ1wiKXJldHVybiB0aGlzLnBhcnNlKG4oYyl8fGsuX2RlZmF1bHQpO2lmKGo9PT1cImFycmF5XCIpcmV0dXJuIGwoZy5yZ2JhLnByb3BzLGZ1bmN0aW9uKGEsYil7b1tiLmlkeF09bShjW2IuaWR4XSxiKX0pLHRoaXM7aWYoaj09PVwib2JqZWN0XCIpcmV0dXJuIGMgaW5zdGFuY2VvZiBmP2woZyxmdW5jdGlvbihhLGIpe2NbYi5jYWNoZV0mJihpW2IuY2FjaGVdPWNbYi5jYWNoZV0uc2xpY2UoKSl9KTpsKGcsZnVuY3Rpb24oYixkKXt2YXIgZT1kLmNhY2hlO2woZC5wcm9wcyxmdW5jdGlvbihhLGIpe2lmKCFpW2VdJiZkLnRvKXtpZihhPT09XCJhbHBoYVwifHxjW2FdPT1udWxsKXJldHVybjtpW2VdPWQudG8oaS5fcmdiYSl9aVtlXVtiLmlkeF09bShjW2FdLGIsITApfSksaVtlXSYmYS5pbkFycmF5KG51bGwsaVtlXS5zbGljZSgwLDMpKTwwJiYoaVtlXVszXT0xLGQuZnJvbSYmKGkuX3JnYmE9ZC5mcm9tKGlbZV0pKSl9KSx0aGlzfSxpczpmdW5jdGlvbihhKXt2YXIgYj1mKGEpLGM9ITAsZD10aGlzO3JldHVybiBsKGcsZnVuY3Rpb24oYSxlKXt2YXIgZixnPWJbZS5jYWNoZV07cmV0dXJuIGcmJihmPWRbZS5jYWNoZV18fGUudG8mJmUudG8oZC5fcmdiYSl8fFtdLGwoZS5wcm9wcyxmdW5jdGlvbihhLGIpe2lmKGdbYi5pZHhdIT1udWxsKXJldHVybiBjPWdbYi5pZHhdPT09ZltiLmlkeF0sY30pKSxjfSksY30sX3NwYWNlOmZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzO3JldHVybiBsKGcsZnVuY3Rpb24oYyxkKXtiW2QuY2FjaGVdJiZhLnB1c2goYyl9KSxhLnBvcCgpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZihhKSxkPWMuX3NwYWNlKCksZT1nW2RdLGk9dGhpcy5hbHBoYSgpPT09MD9mKFwidHJhbnNwYXJlbnRcIik6dGhpcyxqPWlbZS5jYWNoZV18fGUudG8oaS5fcmdiYSksaz1qLnNsaWNlKCk7cmV0dXJuIGM9Y1tlLmNhY2hlXSxsKGUucHJvcHMsZnVuY3Rpb24oYSxkKXt2YXIgZT1kLmlkeCxmPWpbZV0sZz1jW2VdLGk9aFtkLnR5cGVdfHx7fTtpZihnPT09bnVsbClyZXR1cm47Zj09PW51bGw/a1tlXT1nOihpLm1vZCYmKGctZj5pLm1vZC8yP2YrPWkubW9kOmYtZz5pLm1vZC8yJiYoZi09aS5tb2QpKSxrW2VdPW0oKGctZikqYitmLGQpKX0pLHRoaXNbZF0oayl9LGJsZW5kOmZ1bmN0aW9uKGIpe2lmKHRoaXMuX3JnYmFbM109PT0xKXJldHVybiB0aGlzO3ZhciBjPXRoaXMuX3JnYmEuc2xpY2UoKSxkPWMucG9wKCksZT1mKGIpLl9yZ2JhO3JldHVybiBmKGEubWFwKGMsZnVuY3Rpb24oYSxiKXtyZXR1cm4oMS1kKSplW2JdK2QqYX0pKX0sdG9SZ2JhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGI9XCJyZ2JhKFwiLGM9YS5tYXAodGhpcy5fcmdiYSxmdW5jdGlvbihhLGIpe3JldHVybiBhPT1udWxsP2I+Mj8xOjA6YX0pO3JldHVybiBjWzNdPT09MSYmKGMucG9wKCksYj1cInJnYihcIiksYitjLmpvaW4oKStcIilcIn0sdG9Ic2xhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGI9XCJoc2xhKFwiLGM9YS5tYXAodGhpcy5oc2xhKCksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09bnVsbCYmKGE9Yj4yPzE6MCksYiYmYjwzJiYoYT1NYXRoLnJvdW5kKGEqMTAwKStcIiVcIiksYX0pO3JldHVybiBjWzNdPT09MSYmKGMucG9wKCksYj1cImhzbChcIiksYitjLmpvaW4oKStcIilcIn0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fcmdiYS5zbGljZSgpLGQ9Yy5wb3AoKTtyZXR1cm4gYiYmYy5wdXNoKH5+KGQqMjU1KSksXCIjXCIrYS5tYXAoYyxmdW5jdGlvbihhLGIpe3JldHVybiBhPShhfHwwKS50b1N0cmluZygxNiksYS5sZW5ndGg9PT0xP1wiMFwiK2E6YX0pLmpvaW4oXCJcIil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JnYmFbM109PT0wP1widHJhbnNwYXJlbnRcIjp0aGlzLnRvUmdiYVN0cmluZygpfX0pLGYuZm4ucGFyc2UucHJvdG90eXBlPWYuZm4sZy5oc2xhLnRvPWZ1bmN0aW9uKGEpe2lmKGFbMF09PW51bGx8fGFbMV09PW51bGx8fGFbMl09PW51bGwpcmV0dXJuW251bGwsbnVsbCxudWxsLGFbM11dO3ZhciBiPWFbMF0vMjU1LGM9YVsxXS8yNTUsZD1hWzJdLzI1NSxlPWFbM10sZj1NYXRoLm1heChiLGMsZCksZz1NYXRoLm1pbihiLGMsZCksaD1mLWcsaT1mK2csaj1pKi41LGssbDtyZXR1cm4gZz09PWY/az0wOmI9PT1mP2s9NjAqKGMtZCkvaCszNjA6Yz09PWY/az02MCooZC1iKS9oKzEyMDprPTYwKihiLWMpL2grMjQwLGo9PT0wfHxqPT09MT9sPWo6ajw9LjU/bD1oL2k6bD1oLygyLWkpLFtNYXRoLnJvdW5kKGspJTM2MCxsLGosZT09bnVsbD8xOmVdfSxnLmhzbGEuZnJvbT1mdW5jdGlvbihhKXtpZihhWzBdPT1udWxsfHxhWzFdPT1udWxsfHxhWzJdPT1udWxsKXJldHVybltudWxsLG51bGwsbnVsbCxhWzNdXTt2YXIgYj1hWzBdLzM2MCxjPWFbMV0sZD1hWzJdLGU9YVszXSxmPWQ8PS41P2QqKDErYyk6ZCtjLWQqYyxnPTIqZC1mLGgsaSxqO3JldHVybltNYXRoLnJvdW5kKG8oZyxmLGIrMS8zKSoyNTUpLE1hdGgucm91bmQobyhnLGYsYikqMjU1KSxNYXRoLnJvdW5kKG8oZyxmLGItMS8zKSoyNTUpLGVdfSxsKGcsZnVuY3Rpb24oYyxlKXt2YXIgZz1lLnByb3BzLGg9ZS5jYWNoZSxpPWUudG8saj1lLmZyb207Zi5mbltjXT1mdW5jdGlvbihjKXtpJiYhdGhpc1toXSYmKHRoaXNbaF09aSh0aGlzLl9yZ2JhKSk7aWYoYz09PWIpcmV0dXJuIHRoaXNbaF0uc2xpY2UoKTt2YXIgZCxlPWEudHlwZShjKSxrPWU9PT1cImFycmF5XCJ8fGU9PT1cIm9iamVjdFwiP2M6YXJndW1lbnRzLG49dGhpc1toXS5zbGljZSgpO3JldHVybiBsKGcsZnVuY3Rpb24oYSxiKXt2YXIgYz1rW2U9PT1cIm9iamVjdFwiP2E6Yi5pZHhdO2M9PW51bGwmJihjPW5bYi5pZHhdKSxuW2IuaWR4XT1tKGMsYil9KSxqPyhkPWYoaihuKSksZFtoXT1uLGQpOmYobil9LGwoZyxmdW5jdGlvbihiLGUpe2lmKGYuZm5bYl0pcmV0dXJuO2YuZm5bYl09ZnVuY3Rpb24oZil7dmFyIGc9YS50eXBlKGYpLGg9Yj09PVwiYWxwaGFcIj90aGlzLl9oc2xhP1wiaHNsYVwiOlwicmdiYVwiOmMsaT10aGlzW2hdKCksaj1pW2UuaWR4XSxrO3JldHVybiBnPT09XCJ1bmRlZmluZWRcIj9qOihnPT09XCJmdW5jdGlvblwiJiYoZj1mLmNhbGwodGhpcyxqKSxnPWEudHlwZShmKSksZj09bnVsbCYmZS5lbXB0eT90aGlzOihnPT09XCJzdHJpbmdcIiYmKGs9ZC5leGVjKGYpLGsmJihmPWorcGFyc2VGbG9hdChrWzJdKSooa1sxXT09PVwiK1wiPzE6LTEpKSksaVtlLmlkeF09Zix0aGlzW2hdKGkpKSl9fSl9KSxmLmhvb2s9ZnVuY3Rpb24oYil7dmFyIGM9Yi5zcGxpdChcIiBcIik7bChjLGZ1bmN0aW9uKGIsYyl7YS5jc3NIb29rc1tjXT17c2V0OmZ1bmN0aW9uKGIsZCl7dmFyIGUsZyxoPVwiXCI7aWYoYS50eXBlKGQpIT09XCJzdHJpbmdcInx8KGU9bihkKSkpe2Q9ZihlfHxkKTtpZighaS5yZ2JhJiZkLl9yZ2JhWzNdIT09MSl7Zz1jPT09XCJiYWNrZ3JvdW5kQ29sb3JcIj9iLnBhcmVudE5vZGU6Yjt3aGlsZSgoaD09PVwiXCJ8fGg9PT1cInRyYW5zcGFyZW50XCIpJiZnJiZnLnN0eWxlKXRyeXtoPWEuY3NzKGcsXCJiYWNrZ3JvdW5kQ29sb3JcIiksZz1nLnBhcmVudE5vZGV9Y2F0Y2goail7fWQ9ZC5ibGVuZChoJiZoIT09XCJ0cmFuc3BhcmVudFwiP2g6XCJfZGVmYXVsdFwiKX1kPWQudG9SZ2JhU3RyaW5nKCl9dHJ5e2Iuc3R5bGVbY109ZH1jYXRjaChkKXt9fX0sYS5meC5zdGVwW2NdPWZ1bmN0aW9uKGIpe2IuY29sb3JJbml0fHwoYi5zdGFydD1mKGIuZWxlbSxjKSxiLmVuZD1mKGIuZW5kKSxiLmNvbG9ySW5pdD0hMCksYS5jc3NIb29rc1tjXS5zZXQoYi5lbGVtLGIuc3RhcnQudHJhbnNpdGlvbihiLmVuZCxiLnBvcykpfX0pfSxmLmhvb2soYyksYS5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBsKFtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxmdW5jdGlvbihjLGQpe2JbXCJib3JkZXJcIitkK1wiQ29sb3JcIl09YX0pLGJ9fSxrPWEuQ29sb3IubmFtZXM9e2FxdWE6XCIjMDBmZmZmXCIsYmxhY2s6XCIjMDAwMDAwXCIsYmx1ZTpcIiMwMDAwZmZcIixmdWNoc2lhOlwiI2ZmMDBmZlwiLGdyYXk6XCIjODA4MDgwXCIsZ3JlZW46XCIjMDA4MDAwXCIsbGltZTpcIiMwMGZmMDBcIixtYXJvb246XCIjODAwMDAwXCIsbmF2eTpcIiMwMDAwODBcIixvbGl2ZTpcIiM4MDgwMDBcIixwdXJwbGU6XCIjODAwMDgwXCIscmVkOlwiI2ZmMDAwMFwiLHNpbHZlcjpcIiNjMGMwYzBcIix0ZWFsOlwiIzAwODA4MFwiLHdoaXRlOlwiI2ZmZmZmZlwiLHllbGxvdzpcIiNmZmZmMDBcIix0cmFuc3BhcmVudDpbbnVsbCxudWxsLG51bGwsMF0sX2RlZmF1bHQ6XCIjZmZmZmZmXCJ9fSkoalF1ZXJ5KTtcclxuXHJcblxyXG4vKlxyXG4gICAgalF1ZXJ5IE1hc2tlZCBJbnB1dCBQbHVnaW5cclxuICAgIENvcHlyaWdodCAoYykgMjAwNyAtIDIwMTUgSm9zaCBCdXNoIChkaWdpdGFsYnVzaC5jb20pXHJcbiAgICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKGh0dHA6Ly9kaWdpdGFsYnVzaC5jb20vcHJvamVjdHMvbWFza2VkLWlucHV0LXBsdWdpbi8jbGljZW5zZSlcclxuICAgIFZlcnNpb246IDEuNC4xXHJcbiovXHJcbiFmdW5jdGlvbihhKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxhKTphKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP3JlcXVpcmUoXCJqcXVlcnlcIik6alF1ZXJ5KX0oZnVuY3Rpb24oYSl7dmFyIGIsYz1uYXZpZ2F0b3IudXNlckFnZW50LGQ9L2lwaG9uZS9pLnRlc3QoYyksZT0vY2hyb21lL2kudGVzdChjKSxmPS9hbmRyb2lkL2kudGVzdChjKTthLm1hc2s9e2RlZmluaXRpb25zOns5OlwiWzAtOV1cIixhOlwiW0EtWmEtel1cIixcIipcIjpcIltBLVphLXowLTldXCJ9LGF1dG9jbGVhcjohMCxkYXRhTmFtZTpcInJhd01hc2tGblwiLHBsYWNlaG9sZGVyOlwiX1wifSxhLmZuLmV4dGVuZCh7Y2FyZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztpZigwIT09dGhpcy5sZW5ndGgmJiF0aGlzLmlzKFwiOmhpZGRlblwiKSlyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYT8oYj1cIm51bWJlclwiPT10eXBlb2YgYj9iOmEsdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZT90aGlzLnNldFNlbGVjdGlvblJhbmdlKGEsYik6dGhpcy5jcmVhdGVUZXh0UmFuZ2UmJihjPXRoaXMuY3JlYXRlVGV4dFJhbmdlKCksYy5jb2xsYXBzZSghMCksYy5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsYiksYy5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIixhKSxjLnNlbGVjdCgpKX0pKToodGhpc1swXS5zZXRTZWxlY3Rpb25SYW5nZT8oYT10aGlzWzBdLnNlbGVjdGlvblN0YXJ0LGI9dGhpc1swXS5zZWxlY3Rpb25FbmQpOmRvY3VtZW50LnNlbGVjdGlvbiYmZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlJiYoYz1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxhPTAtYy5kdXBsaWNhdGUoKS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwtMWU1KSxiPWErYy50ZXh0Lmxlbmd0aCkse2JlZ2luOmEsZW5kOmJ9KX0sdW5tYXNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJpZ2dlcihcInVubWFza1wiKX0sbWFzazpmdW5jdGlvbihjLGcpe3ZhciBoLGksaixrLGwsbSxuLG87aWYoIWMmJnRoaXMubGVuZ3RoPjApe2g9YSh0aGlzWzBdKTt2YXIgcD1oLmRhdGEoYS5tYXNrLmRhdGFOYW1lKTtyZXR1cm4gcD9wKCk6dm9pZCAwfXJldHVybiBnPWEuZXh0ZW5kKHthdXRvY2xlYXI6YS5tYXNrLmF1dG9jbGVhcixwbGFjZWhvbGRlcjphLm1hc2sucGxhY2Vob2xkZXIsY29tcGxldGVkOm51bGx9LGcpLGk9YS5tYXNrLmRlZmluaXRpb25zLGo9W10saz1uPWMubGVuZ3RoLGw9bnVsbCxhLmVhY2goYy5zcGxpdChcIlwiKSxmdW5jdGlvbihhLGIpe1wiP1wiPT1iPyhuLS0saz1hKTppW2JdPyhqLnB1c2gobmV3IFJlZ0V4cChpW2JdKSksbnVsbD09PWwmJihsPWoubGVuZ3RoLTEpLGs+YSYmKG09ai5sZW5ndGgtMSkpOmoucHVzaChudWxsKX0pLHRoaXMudHJpZ2dlcihcInVubWFza1wiKS5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaCgpe2lmKGcuY29tcGxldGVkKXtmb3IodmFyIGE9bDttPj1hO2ErKylpZihqW2FdJiZDW2FdPT09cChhKSlyZXR1cm47Zy5jb21wbGV0ZWQuY2FsbChCKX19ZnVuY3Rpb24gcChhKXtyZXR1cm4gZy5wbGFjZWhvbGRlci5jaGFyQXQoYTxnLnBsYWNlaG9sZGVyLmxlbmd0aD9hOjApfWZ1bmN0aW9uIHEoYSl7Zm9yKDsrK2E8biYmIWpbYV07KTtyZXR1cm4gYX1mdW5jdGlvbiByKGEpe2Zvcig7LS1hPj0wJiYhalthXTspO3JldHVybiBhfWZ1bmN0aW9uIHMoYSxiKXt2YXIgYyxkO2lmKCEoMD5hKSl7Zm9yKGM9YSxkPXEoYik7bj5jO2MrKylpZihqW2NdKXtpZighKG4+ZCYmaltjXS50ZXN0KENbZF0pKSlicmVhaztDW2NdPUNbZF0sQ1tkXT1wKGQpLGQ9cShkKX16KCksQi5jYXJldChNYXRoLm1heChsLGEpKX19ZnVuY3Rpb24gdChhKXt2YXIgYixjLGQsZTtmb3IoYj1hLGM9cChhKTtuPmI7YisrKWlmKGpbYl0pe2lmKGQ9cShiKSxlPUNbYl0sQ1tiXT1jLCEobj5kJiZqW2RdLnRlc3QoZSkpKWJyZWFrO2M9ZX19ZnVuY3Rpb24gdSgpe3ZhciBhPUIudmFsKCksYj1CLmNhcmV0KCk7aWYobyYmby5sZW5ndGgmJm8ubGVuZ3RoPmEubGVuZ3RoKXtmb3IoQSghMCk7Yi5iZWdpbj4wJiYhaltiLmJlZ2luLTFdOyliLmJlZ2luLS07aWYoMD09PWIuYmVnaW4pZm9yKDtiLmJlZ2luPGwmJiFqW2IuYmVnaW5dOyliLmJlZ2luKys7Qi5jYXJldChiLmJlZ2luLGIuYmVnaW4pfWVsc2V7Zm9yKEEoITApO2IuYmVnaW48biYmIWpbYi5iZWdpbl07KWIuYmVnaW4rKztCLmNhcmV0KGIuYmVnaW4sYi5iZWdpbil9aCgpfWZ1bmN0aW9uIHYoKXtBKCksQi52YWwoKSE9RSYmQi5jaGFuZ2UoKX1mdW5jdGlvbiB3KGEpe2lmKCFCLnByb3AoXCJyZWFkb25seVwiKSl7dmFyIGIsYyxlLGY9YS53aGljaHx8YS5rZXlDb2RlO289Qi52YWwoKSw4PT09Znx8NDY9PT1mfHxkJiYxMjc9PT1mPyhiPUIuY2FyZXQoKSxjPWIuYmVnaW4sZT1iLmVuZCxlLWM9PT0wJiYoYz00NiE9PWY/cihjKTplPXEoYy0xKSxlPTQ2PT09Zj9xKGUpOmUpLHkoYyxlKSxzKGMsZS0xKSxhLnByZXZlbnREZWZhdWx0KCkpOjEzPT09Zj92LmNhbGwodGhpcyxhKToyNz09PWYmJihCLnZhbChFKSxCLmNhcmV0KDAsQSgpKSxhLnByZXZlbnREZWZhdWx0KCkpfX1mdW5jdGlvbiB4KGIpe2lmKCFCLnByb3AoXCJyZWFkb25seVwiKSl7dmFyIGMsZCxlLGc9Yi53aGljaHx8Yi5rZXlDb2RlLGk9Qi5jYXJldCgpO2lmKCEoYi5jdHJsS2V5fHxiLmFsdEtleXx8Yi5tZXRhS2V5fHwzMj5nKSYmZyYmMTMhPT1nKXtpZihpLmVuZC1pLmJlZ2luIT09MCYmKHkoaS5iZWdpbixpLmVuZCkscyhpLmJlZ2luLGkuZW5kLTEpKSxjPXEoaS5iZWdpbi0xKSxuPmMmJihkPVN0cmluZy5mcm9tQ2hhckNvZGUoZyksaltjXS50ZXN0KGQpKSl7aWYodChjKSxDW2NdPWQseigpLGU9cShjKSxmKXt2YXIgaz1mdW5jdGlvbigpe2EucHJveHkoYS5mbi5jYXJldCxCLGUpKCl9O3NldFRpbWVvdXQoaywwKX1lbHNlIEIuY2FyZXQoZSk7aS5iZWdpbjw9bSYmaCgpfWIucHJldmVudERlZmF1bHQoKX19fWZ1bmN0aW9uIHkoYSxiKXt2YXIgYztmb3IoYz1hO2I+YyYmbj5jO2MrKylqW2NdJiYoQ1tjXT1wKGMpKX1mdW5jdGlvbiB6KCl7Qi52YWwoQy5qb2luKFwiXCIpKX1mdW5jdGlvbiBBKGEpe3ZhciBiLGMsZCxlPUIudmFsKCksZj0tMTtmb3IoYj0wLGQ9MDtuPmI7YisrKWlmKGpbYl0pe2ZvcihDW2JdPXAoYik7ZCsrPGUubGVuZ3RoOylpZihjPWUuY2hhckF0KGQtMSksaltiXS50ZXN0KGMpKXtDW2JdPWMsZj1iO2JyZWFrfWlmKGQ+ZS5sZW5ndGgpe3koYisxLG4pO2JyZWFrfX1lbHNlIENbYl09PT1lLmNoYXJBdChkKSYmZCsrLGs+YiYmKGY9Yik7cmV0dXJuIGE/eigpOms+ZisxP2cuYXV0b2NsZWFyfHxDLmpvaW4oXCJcIik9PT1EPyhCLnZhbCgpJiZCLnZhbChcIlwiKSx5KDAsbikpOnooKTooeigpLEIudmFsKEIudmFsKCkuc3Vic3RyaW5nKDAsZisxKSkpLGs/YjpsfXZhciBCPWEodGhpcyksQz1hLm1hcChjLnNwbGl0KFwiXCIpLGZ1bmN0aW9uKGEsYil7cmV0dXJuXCI/XCIhPWE/aVthXT9wKGIpOmE6dm9pZCAwfSksRD1DLmpvaW4oXCJcIiksRT1CLnZhbCgpO0IuZGF0YShhLm1hc2suZGF0YU5hbWUsZnVuY3Rpb24oKXtyZXR1cm4gYS5tYXAoQyxmdW5jdGlvbihhLGIpe3JldHVybiBqW2JdJiZhIT1wKGIpP2E6bnVsbH0pLmpvaW4oXCJcIil9KSxCLm9uZShcInVubWFza1wiLGZ1bmN0aW9uKCl7Qi5vZmYoXCIubWFza1wiKS5yZW1vdmVEYXRhKGEubWFzay5kYXRhTmFtZSl9KS5vbihcImZvY3VzLm1hc2tcIixmdW5jdGlvbigpe2lmKCFCLnByb3AoXCJyZWFkb25seVwiKSl7Y2xlYXJUaW1lb3V0KGIpO3ZhciBhO0U9Qi52YWwoKSxhPUEoKSxiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtCLmdldCgwKT09PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJih6KCksYT09Yy5yZXBsYWNlKFwiP1wiLFwiXCIpLmxlbmd0aD9CLmNhcmV0KDAsYSk6Qi5jYXJldChhKSl9LDEwKX19KS5vbihcImJsdXIubWFza1wiLHYpLm9uKFwia2V5ZG93bi5tYXNrXCIsdykub24oXCJrZXlwcmVzcy5tYXNrXCIseCkub24oXCJpbnB1dC5tYXNrIHBhc3RlLm1hc2tcIixmdW5jdGlvbigpe0IucHJvcChcInJlYWRvbmx5XCIpfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9QSghMCk7Qi5jYXJldChhKSxoKCl9LDApfSksZSYmZiYmQi5vZmYoXCJpbnB1dC5tYXNrXCIpLm9uKFwiaW5wdXQubWFza1wiLHUpLEEoKX0pfX0pfSk7XHJcblxyXG4vKlxyXG5cclxuIGFyY3RpY01vZGFsIO+/vSBqUXVlcnkgcGx1Z2luXHJcbiBWZXJzaW9uOiAwLjNcclxuIEF1dGhvcjogU2VyZ2V5IFByZWR2b2RpdGVsZXYgKHNlcmdleS5wcmVkdm9kaXRlbGV2QGdtYWlsLmNvbSlcclxuIENvbXBhbnk6IEFyY3RpYyBMYWJvcmF0b3J5IChodHRwOi8vYXJjdGljbGFiLnJ1LylcclxuXHJcbiBEb2NzICYgRXhhbXBsZXM6IGh0dHA6Ly9hcmN0aWNsYWIucnUvYXJjdGljbW9kYWwvXHJcblxyXG4gKi9cclxuLypcclxuKGZ1bmN0aW9uKGQpe3ZhciBnPXt0eXBlOlwiaHRtbFwiLGNvbnRlbnQ6XCJcIix1cmw6XCJcIixhamF4Ont9LGFqYXhfcmVxdWVzdDpudWxsLGNsb3NlT25Fc2M6ITAsY2xvc2VPbk92ZXJsYXlDbGljazohMCxjbG9uZTohMSxvdmVybGF5OntibG9jazp2b2lkIDAsdHBsOic8ZGl2IGNsYXNzPVwiYXJjdGljbW9kYWwtb3ZlcmxheVwiPjwvZGl2PicsY3NzOntiYWNrZ3JvdW5kQ29sb3I6XCIjMDAwXCIsb3BhY2l0eTowLjJ9fSxjb250YWluZXI6e2Jsb2NrOnZvaWQgMCx0cGw6JzxkaXYgY2xhc3M9XCJhcmN0aWNtb2RhbC1jb250YWluZXJcIj48dGFibGUgY2xhc3M9XCJhcmN0aWNtb2RhbC1jb250YWluZXJfaVwiPjx0cj48dGQgY2xhc3M9XCJhcmN0aWNtb2RhbC1jb250YWluZXJfaTJcIj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj4nfSx3cmFwOnZvaWQgMCxib2R5OnZvaWQgMCxlcnJvcnM6e3RwbDonPGRpdiBjbGFzcz1cImFyY3RpY21vZGFsLWVycm9yIGFyY3RpY21vZGFsLWNsb3NlXCI+PC9kaXY+JyxhdXRvY2xvc2VfZGVsYXk6MkUzLFxyXG5hamF4X3Vuc3VjY2Vzc2Z1bF9sb2FkOlwiRXJyb3JcIn0sb3BlbkVmZmVjdDp7dHlwZTpcImZhZGVcIixzcGVlZDo0MDB9LGNsb3NlRWZmZWN0Ont0eXBlOlwiZmFkZVwiLHNwZWVkOjQwMH0sYmVmb3JlT3BlbjpkLm5vb3AsYWZ0ZXJPcGVuOmQubm9vcCxiZWZvcmVDbG9zZTpkLm5vb3AsYWZ0ZXJDbG9zZTpkLm5vb3AsYWZ0ZXJMb2FkaW5nOmQubm9vcCxhZnRlckxvYWRpbmdPblNob3c6ZC5ub29wLGVycm9yTG9hZGluZzpkLm5vb3B9LGo9MCxlPWQoW10pLG09e2lzRXZlbnRPdXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMDtkKGEpLmVhY2goZnVuY3Rpb24oKXtkKGIudGFyZ2V0KS5nZXQoMCk9PWQodGhpcykuZ2V0KDApJiYoYz0hMSk7MD09ZChiLnRhcmdldCkuY2xvc2VzdChcIkhUTUxcIixkKHRoaXMpLmdldCgwKSkubGVuZ3RoJiYoYz0hMSl9KTtyZXR1cm4gY319LGY9e2dldFBhcmVudEVsOmZ1bmN0aW9uKGEpe3ZhciBiPWQoYSk7cmV0dXJuIGIuZGF0YShcImFyY3RpY21vZGFsXCIpP2I6KGI9XHJcbmQoYSkuY2xvc2VzdChcIi5hcmN0aWNtb2RhbC1jb250YWluZXJcIikuZGF0YShcImFyY3RpY21vZGFsUGFyZW50RWxcIikpP2I6ITF9LHRyYW5zaXRpb246ZnVuY3Rpb24oYSxiLGMsZSl7ZT12b2lkIDA9PWU/ZC5ub29wOmU7c3dpdGNoKGMudHlwZSl7Y2FzZSBcImZhZGVcIjpcInNob3dcIj09Yj9hLmZhZGVJbihjLnNwZWVkLGUpOmEuZmFkZU91dChjLnNwZWVkLGUpO2JyZWFrO2Nhc2UgXCJub25lXCI6XCJzaG93XCI9PWI/YS5zaG93KCk6YS5oaWRlKCksZSgpfX0scHJlcGFyZV9ib2R5OmZ1bmN0aW9uKGEsYil7ZChcIi5hcmN0aWNtb2RhbC1jbG9zZVwiLGEuYm9keSkudW5iaW5kKFwiY2xpY2suYXJjdGljbW9kYWxcIikuYmluZChcImNsaWNrLmFyY3RpY21vZGFsXCIsZnVuY3Rpb24oKXtiLmFyY3RpY21vZGFsKFwiY2xvc2VcIik7cmV0dXJuITF9KX0saW5pdF9lbDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZGF0YShcImFyY3RpY21vZGFsXCIpO2lmKCFjKXtjPWI7aisrO2MubW9kYWxJRD1qO2Mub3ZlcmxheS5ibG9jaz1cclxuZChjLm92ZXJsYXkudHBsKTtjLm92ZXJsYXkuYmxvY2suY3NzKGMub3ZlcmxheS5jc3MpO2MuY29udGFpbmVyLmJsb2NrPWQoYy5jb250YWluZXIudHBsKTtjLmJvZHk9ZChcIi5hcmN0aWNtb2RhbC1jb250YWluZXJfaTJcIixjLmNvbnRhaW5lci5ibG9jayk7Yi5jbG9uZT9jLmJvZHkuaHRtbChhLmNsb25lKCEwKSk6KGEuYmVmb3JlKCc8ZGl2IGlkPVwiYXJjdGljbW9kYWxSZXNlcnZlJytjLm1vZGFsSUQrJ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiIC8+JyksYy5ib2R5Lmh0bWwoYSkpO2YucHJlcGFyZV9ib2R5KGMsYSk7Yy5jbG9zZU9uT3ZlcmxheUNsaWNrJiZjLm92ZXJsYXkuYmxvY2suYWRkKGMuY29udGFpbmVyLmJsb2NrKS5jbGljayhmdW5jdGlvbihiKXttLmlzRXZlbnRPdXQoZChcIj4qXCIsYy5ib2R5KSxiKSYmYS5hcmN0aWNtb2RhbChcImNsb3NlXCIpfSk7Yy5jb250YWluZXIuYmxvY2suZGF0YShcImFyY3RpY21vZGFsUGFyZW50RWxcIixhKTthLmRhdGEoXCJhcmN0aWNtb2RhbFwiLGMpO1xyXG5lPWQubWVyZ2UoZSxhKTtkLnByb3h5KGguc2hvdyxhKSgpO2lmKFwiaHRtbFwiPT1jLnR5cGUpcmV0dXJuIGE7aWYodm9pZCAwIT1jLmFqYXguYmVmb3JlU2VuZCl7dmFyIGs9Yy5hamF4LmJlZm9yZVNlbmQ7ZGVsZXRlIGMuYWpheC5iZWZvcmVTZW5kfWlmKHZvaWQgMCE9Yy5hamF4LnN1Y2Nlc3Mpe3ZhciBnPWMuYWpheC5zdWNjZXNzO2RlbGV0ZSBjLmFqYXguc3VjY2Vzc31pZih2b2lkIDAhPWMuYWpheC5lcnJvcil7dmFyIGw9Yy5hamF4LmVycm9yO2RlbGV0ZSBjLmFqYXguZXJyb3J9dmFyIG49ZC5leHRlbmQoITAse3VybDpjLnVybCxiZWZvcmVTZW5kOmZ1bmN0aW9uKCl7dm9pZCAwPT1rP2MuYm9keS5odG1sKCc8ZGl2IGNsYXNzPVwiYXJjdGljbW9kYWwtbG9hZGluZ1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZFwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PicpOmsoYyxhKX0sc3VjY2VzczpmdW5jdGlvbihiKXthLnRyaWdnZXIoXCJhZnRlckxvYWRpbmdcIik7Yy5hZnRlckxvYWRpbmcoYyxhLGIpO3ZvaWQgMD09Zz9jLmJvZHkuaHRtbChiKTpnKGMsYSxiKTtmLnByZXBhcmVfYm9keShjLFxyXG5hKTthLnRyaWdnZXIoXCJhZnRlckxvYWRpbmdPblNob3dcIik7Yy5hZnRlckxvYWRpbmdPblNob3coYyxhLGIpfSxlcnJvcjpmdW5jdGlvbigpe2EudHJpZ2dlcihcImVycm9yTG9hZGluZ1wiKTtjLmVycm9yTG9hZGluZyhjLGEpO3ZvaWQgMD09bD8oYy5ib2R5Lmh0bWwoYy5lcnJvcnMudHBsKSxkKFwiLmFyY3RpY21vZGFsLWVycm9yXCIsYy5ib2R5KS5odG1sKGMuZXJyb3JzLmFqYXhfdW5zdWNjZXNzZnVsX2xvYWQpLGQoXCIuYXJjdGljbW9kYWwtY2xvc2VcIixjLmJvZHkpLmNsaWNrKGZ1bmN0aW9uKCl7YS5hcmN0aWNtb2RhbChcImNsb3NlXCIpO3JldHVybiExfSksYy5lcnJvcnMuYXV0b2Nsb3NlX2RlbGF5JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5hcmN0aWNtb2RhbChcImNsb3NlXCIpfSxjLmVycm9ycy5hdXRvY2xvc2VfZGVsYXkpKTpsKGMsYSl9fSxjLmFqYXgpO2MuYWpheF9yZXF1ZXN0PWQuYWpheChuKTthLmRhdGEoXCJhcmN0aWNtb2RhbFwiLGMpfX0saW5pdDpmdW5jdGlvbihhKXthPVxyXG5kLmV4dGVuZCghMCx7fSxnLGEpO2lmKGQuaXNGdW5jdGlvbih0aGlzKSlpZih2b2lkIDA9PWEpZC5lcnJvcihcImpxdWVyeS5hcmN0aWNtb2RhbDogVW5jb3JyZWN0IHBhcmFtZXRlcnNcIik7ZWxzZSBpZihcIlwiPT1hLnR5cGUpZC5lcnJvcignanF1ZXJ5LmFyY3RpY21vZGFsOiBEb25cXCd0IHNldCBwYXJhbWV0ZXIgXCJ0eXBlXCInKTtlbHNlIHN3aXRjaChhLnR5cGUpe2Nhc2UgXCJodG1sXCI6aWYoXCJcIj09YS5jb250ZW50KXtkLmVycm9yKCdqcXVlcnkuYXJjdGljbW9kYWw6IERvblxcJ3Qgc2V0IHBhcmFtZXRlciBcImNvbnRlbnRcIicpO2JyZWFrfXZhciBiPWEuY29udGVudDthLmNvbnRlbnQ9XCJcIjtyZXR1cm4gZi5pbml0X2VsKGQoYiksYSk7Y2FzZSBcImFqYXhcIjppZihcIlwiPT1hLnVybCl7ZC5lcnJvcignanF1ZXJ5LmFyY3RpY21vZGFsOiBEb25cXCd0IHNldCBwYXJhbWV0ZXIgXCJ1cmxcIicpO2JyZWFrfXJldHVybiBmLmluaXRfZWwoZChcIjxkaXYgLz5cIiksYSl9ZWxzZSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5pbml0X2VsKGQodGhpcyksXHJcbmQuZXh0ZW5kKCEwLHt9LGEpKX0pfX0saD17c2hvdzpmdW5jdGlvbigpe3ZhciBhPWYuZ2V0UGFyZW50RWwodGhpcyk7aWYoITE9PT1hKWQuZXJyb3IoXCJqcXVlcnkuYXJjdGljbW9kYWw6IFVuY29ycmVjdCBjYWxsXCIpO2Vsc2V7dmFyIGI9YS5kYXRhKFwiYXJjdGljbW9kYWxcIik7Yi5vdmVybGF5LmJsb2NrLmhpZGUoKTtiLmNvbnRhaW5lci5ibG9jay5oaWRlKCk7ZChcIkJPRFlcIikuYXBwZW5kKGIub3ZlcmxheS5ibG9jayk7ZChcIkJPRFlcIikuYXBwZW5kKGIuY29udGFpbmVyLmJsb2NrKTtiLmJlZm9yZU9wZW4oYixhKTthLnRyaWdnZXIoXCJiZWZvcmVPcGVuXCIpO2lmKFwiaGlkZGVuXCIhPWIud3JhcC5jc3MoXCJvdmVyZmxvd1wiKSl7Yi53cmFwLmRhdGEoXCJhcmN0aWNtb2RhbE92ZXJmbG93XCIsYi53cmFwLmNzcyhcIm92ZXJmbG93XCIpKTt2YXIgYz1iLndyYXAub3V0ZXJXaWR0aCghMCk7Yi53cmFwLmNzcyhcIm92ZXJmbG93XCIsXCJoaWRkZW5cIik7dmFyIGc9Yi53cmFwLm91dGVyV2lkdGgoITApO2chPVxyXG5jJiZiLndyYXAuY3NzKFwibWFyZ2luUmlnaHRcIixnLWMrXCJweFwiKX1lLm5vdChhKS5lYWNoKGZ1bmN0aW9uKCl7ZCh0aGlzKS5kYXRhKFwiYXJjdGljbW9kYWxcIikub3ZlcmxheS5ibG9jay5oaWRlKCl9KTtmLnRyYW5zaXRpb24oYi5vdmVybGF5LmJsb2NrLFwic2hvd1wiLDE8ZS5sZW5ndGg/e3R5cGU6XCJub25lXCJ9OmIub3BlbkVmZmVjdCk7Zi50cmFuc2l0aW9uKGIuY29udGFpbmVyLmJsb2NrLFwic2hvd1wiLDE8ZS5sZW5ndGg/e3R5cGU6XCJub25lXCJ9OmIub3BlbkVmZmVjdCxmdW5jdGlvbigpe2IuYWZ0ZXJPcGVuKGIsYSk7YS50cmlnZ2VyKFwiYWZ0ZXJPcGVuXCIpfSk7cmV0dXJuIGF9fSxjbG9zZTpmdW5jdGlvbigpe2lmKGQuaXNGdW5jdGlvbih0aGlzKSllLmVhY2goZnVuY3Rpb24oKXtkKHRoaXMpLmFyY3RpY21vZGFsKFwiY2xvc2VcIil9KTtlbHNlIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1mLmdldFBhcmVudEVsKHRoaXMpO2lmKCExPT09YSlkLmVycm9yKFwianF1ZXJ5LmFyY3RpY21vZGFsOiBVbmNvcnJlY3QgY2FsbFwiKTtcclxuZWxzZXt2YXIgYj1hLmRhdGEoXCJhcmN0aWNtb2RhbFwiKTshMSE9PWIuYmVmb3JlQ2xvc2UoYixhKSYmKGEudHJpZ2dlcihcImJlZm9yZUNsb3NlXCIpLGUubm90KGEpLmxhc3QoKS5lYWNoKGZ1bmN0aW9uKCl7ZCh0aGlzKS5kYXRhKFwiYXJjdGljbW9kYWxcIikub3ZlcmxheS5ibG9jay5zaG93KCl9KSxmLnRyYW5zaXRpb24oYi5vdmVybGF5LmJsb2NrLFwiaGlkZVwiLDE8ZS5sZW5ndGg/e3R5cGU6XCJub25lXCJ9OmIuY2xvc2VFZmZlY3QpLGYudHJhbnNpdGlvbihiLmNvbnRhaW5lci5ibG9jayxcImhpZGVcIiwxPGUubGVuZ3RoP3t0eXBlOlwibm9uZVwifTpiLmNsb3NlRWZmZWN0LGZ1bmN0aW9uKCl7Yi5hZnRlckNsb3NlKGIsYSk7YS50cmlnZ2VyKFwiYWZ0ZXJDbG9zZVwiKTtiLmNsb25lfHxkKFwiI2FyY3RpY21vZGFsUmVzZXJ2ZVwiK2IubW9kYWxJRCkucmVwbGFjZVdpdGgoYi5ib2R5LmZpbmQoXCI+KlwiKSk7Yi5vdmVybGF5LmJsb2NrLnJlbW92ZSgpO2IuY29udGFpbmVyLmJsb2NrLnJlbW92ZSgpO2EuZGF0YShcImFyY3RpY21vZGFsXCIsXHJcbm51bGwpO2QoXCIuYXJjdGljbW9kYWwtY29udGFpbmVyXCIpLmxlbmd0aHx8KGIud3JhcC5kYXRhKFwiYXJjdGljbW9kYWxPdmVyZmxvd1wiKSYmYi53cmFwLmNzcyhcIm92ZXJmbG93XCIsYi53cmFwLmRhdGEoXCJhcmN0aWNtb2RhbE92ZXJmbG93XCIpKSxiLndyYXAuY3NzKFwibWFyZ2luUmlnaHRcIiwwKSl9KSxcImFqYXhcIj09Yi50eXBlJiZiLmFqYXhfcmVxdWVzdC5hYm9ydCgpLGU9ZS5ub3QoYSkpfX0pfSxzZXREZWZhdWx0OmZ1bmN0aW9uKGEpe2QuZXh0ZW5kKCEwLGcsYSl9fTtkKGZ1bmN0aW9uKCl7Zy53cmFwPWQoZG9jdW1lbnQuYWxsJiYhZG9jdW1lbnQucXVlcnlTZWxlY3Rvcj9cImh0bWxcIjpcImJvZHlcIil9KTtkKGRvY3VtZW50KS5iaW5kKFwia2V5dXAuYXJjdGljbW9kYWxcIixmdW5jdGlvbihhKXt2YXIgYj1lLmxhc3QoKTtiLmxlbmd0aCYmYi5kYXRhKFwiYXJjdGljbW9kYWxcIikuY2xvc2VPbkVzYyYmMjc9PT1hLmtleUNvZGUmJmIuYXJjdGljbW9kYWwoXCJjbG9zZVwiKX0pO2QuYXJjdGljbW9kYWw9XHJcbmQuZm4uYXJjdGljbW9kYWw9ZnVuY3Rpb24oYSl7aWYoaFthXSlyZXR1cm4gaFthXS5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBhfHwhYSlyZXR1cm4gZi5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkLmVycm9yKFwianF1ZXJ5LmFyY3RpY21vZGFsOiBNZXRob2QgXCIrYStcIiBkb2VzIG5vdCBleGlzdFwiKX19KShqUXVlcnkpO1xyXG4qL1xyXG5cclxuLyohXHJcbi8qKlxyXG4gKiBNb25rZXkgcGF0Y2ggalF1ZXJ5IDEuMy4xKyB0byBhZGQgc3VwcG9ydCBmb3Igc2V0dGluZyBvciBhbmltYXRpbmcgQ1NTXHJcbiAqIHNjYWxlIGFuZCByb3RhdGlvbiBpbmRlcGVuZGVudGx5LlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vemFjaHN0cm9uYXV0L2pxdWVyeS1hbmltYXRlLWNzcy1yb3RhdGUtc2NhbGVcclxuICogUmVsZWFzZWQgdW5kZXIgZHVhbCBNSVQvR1BMIGxpY2Vuc2UganVzdCBsaWtlIGpRdWVyeS5cclxuICogMjAwOS0yMDEyIFphY2hhcnkgSm9obnNvbiB3d3cuemFjaHN0cm9uYXV0LmNvbVxyXG4gKi9cclxuKGZ1bmN0aW9uICgkKSB7XHJcbiAgICAvLyBVcGRhdGVkIDIwMTAuMTEuMDZcclxuICAgIC8vIFVwZGF0ZWQgMjAxMi4xMC4xMyAtIEZpcmVmb3ggMTYgdHJhbnNmb3JtIHN0eWxlIHJldHVybnMgYSBtYXRyaXggcmF0aGVyIHRoYW4gYSBzdHJpbmcgb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucy4gIFRoaXMgYnJva2UgdGhlIGZlYXR1cmVzIG9mIHRoaXMgalF1ZXJ5IHBhdGNoIGluIEZpcmVmb3ggMTYuICBJdCBzaG91bGQgYmUgcG9zc2libGUgdG8gcGFyc2UgdGhlIG1hdHJpeCBmb3IgYm90aCBzY2FsZSBhbmQgcm90YXRlIChlc3BlY2lhbGx5IHdoZW4gc2NhbGUgaXMgdGhlIHNhbWUgZm9yIGJvdGggdGhlIFggYW5kIFkgYXhpcyksIGhvd2V2ZXIgdGhlIG1hdHJpeCBkb2VzIGhhdmUgZGlzYWR2YW50YWdlcyBzdWNoIGFzIHVzaW5nIGl0cyBvd24gdW5pdHMgYW5kIGFsc28gNDVkZWcgYmVpbmcgaW5kaXN0aW5ndWlzaGFibGUgZnJvbSA0NSszNjBkZWcuICBUbyBnZXQgYXJvdW5kIHRoZXNlIGlzc3VlcywgdGhpcyBwYXRjaCB0cmFja3MgaW50ZXJuYWxseSB0aGUgc2NhbGUsIHJvdGF0aW9uLCBhbmQgcm90YXRpb24gdW5pdHMgZm9yIGFueSBlbGVtZW50cyB0aGF0IGFyZSAuc2NhbGUoKSdlZCwgLnJvdGF0ZSgpJ2VkLCBvciBhbmltYXRlZC4gIFRoZSBtYWpvciBjb25zZXF1ZW5jZXMgb2YgdGhpcyBhcmUgdGhhdCAxLiB0aGUgc2NhbGVkL3JvdGF0ZWQgZWxlbWVudCB3aWxsIGJsb3cgYXdheSBhbnkgb3RoZXIgdHJhbnNmb3JtIHJ1bGVzIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudCAoc3VjaCBhcyBza2V3IG9yIHRyYW5zbGF0ZSksIGFuZCAyLiB0aGUgc2NhbGVkL3JvdGF0ZWQgZWxlbWVudCBpcyB1bmF3YXJlIG9mIGFueSBwcmVzZXQgc2NhbGUgb3Igcm90YXRpb24gaW5pdGFsbHkgc2V0IGJ5IHBhZ2UgQ1NTIHJ1bGVzLiAgWW91IHdpbGwgaGF2ZSB0byBleHBsaWNpdGx5IHNldCB0aGUgc3RhcnRpbmcgc2NhbGUvcm90YXRpb24gdmFsdWUuXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGluaXREYXRhKCRlbCkge1xyXG4gICAgICAgIHZhciBfQVJTX2RhdGEgPSAkZWwuZGF0YSgnX0FSU19kYXRhJyk7XHJcbiAgICAgICAgaWYgKCFfQVJTX2RhdGEpIHtcclxuICAgICAgICAgICAgX0FSU19kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgcm90YXRlVW5pdHM6ICdkZWcnLFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgICAgICByb3RhdGU6IDBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRlbC5kYXRhKCdfQVJTX2RhdGEnLCBfQVJTX2RhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gX0FSU19kYXRhO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oJGVsLCBkYXRhKSB7XHJcbiAgICAgICAgJGVsLmNzcygndHJhbnNmb3JtJywgJ3JvdGF0ZSgnICsgZGF0YS5yb3RhdGUgKyBkYXRhLnJvdGF0ZVVuaXRzICsgJykgc2NhbGUoJyArIGRhdGEuc2NhbGUgKyAnLCcgKyBkYXRhLnNjYWxlICsgJyknKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgJC5mbi5yb3RhdGUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKSwgbSwgZGF0YSA9IGluaXREYXRhKCRzZWxmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEucm90YXRlICsgZGF0YS5yb3RhdGVVbml0cztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbSA9IHZhbC50b1N0cmluZygpLm1hdGNoKC9eKC0/XFxkKyhcXC5cXGQrKT8pKC4rKT8kLyk7XHJcbiAgICAgICAgaWYgKG0pIHtcclxuICAgICAgICAgICAgaWYgKG1bM10pIHtcclxuICAgICAgICAgICAgICAgIGRhdGEucm90YXRlVW5pdHMgPSBtWzNdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBkYXRhLnJvdGF0ZSA9IG1bMV07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzZXRUcmFuc2Zvcm0oJHNlbGYsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIE5vdGUgdGhhdCBzY2FsZSBpcyB1bml0bGVzcy5cclxuICAgICQuZm4uc2NhbGUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKSwgZGF0YSA9IGluaXREYXRhKCRzZWxmKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5zY2FsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgZGF0YS5zY2FsZSA9IHZhbDtcclxuICAgICAgICBcclxuICAgICAgICBzZXRUcmFuc2Zvcm0oJHNlbGYsIGRhdGEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBmeC5jdXIoKSBtdXN0IGJlIG1vbmtleSBwYXRjaGVkIGJlY2F1c2Ugb3RoZXJ3aXNlIGl0IHdvdWxkIGFsd2F5c1xyXG4gICAgLy8gcmV0dXJuIDAgZm9yIGN1cnJlbnQgcm90YXRlIGFuZCBzY2FsZSB2YWx1ZXNcclxuICAgIHZhciBjdXJQcm94aWVkID0gJC5meC5wcm90b3R5cGUuY3VyO1xyXG4gICAgJC5meC5wcm90b3R5cGUuY3VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3AgPT0gJ3JvdGF0ZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoJCh0aGlzLmVsZW0pLnJvdGF0ZSgpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3AgPT0gJ3NjYWxlJykge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCgkKHRoaXMuZWxlbSkuc2NhbGUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBjdXJQcm94aWVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAkLmZ4LnN0ZXAucm90YXRlID0gZnVuY3Rpb24gKGZ4KSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBpbml0RGF0YSgkKGZ4LmVsZW0pKTtcclxuICAgICAgICAkKGZ4LmVsZW0pLnJvdGF0ZShmeC5ub3cgKyBkYXRhLnJvdGF0ZVVuaXRzKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgICQuZnguc3RlcC5zY2FsZSA9IGZ1bmN0aW9uIChmeCkge1xyXG4gICAgICAgICQoZnguZWxlbSkuc2NhbGUoZngubm93KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qXHJcbiAgICBcclxuICAgIFN0YXJ0aW5nIG9uIGxpbmUgMzkwNSBvZiBqcXVlcnktMS4zLjIuanMgd2UgaGF2ZSB0aGlzIGNvZGU6XHJcbiAgICBcclxuICAgIC8vIFdlIG5lZWQgdG8gY29tcHV0ZSBzdGFydGluZyB2YWx1ZVxyXG4gICAgaWYgKCB1bml0ICE9IFwicHhcIiApIHtcclxuICAgICAgICBzZWxmLnN0eWxlWyBuYW1lIF0gPSAoZW5kIHx8IDEpICsgdW5pdDtcclxuICAgICAgICBzdGFydCA9ICgoZW5kIHx8IDEpIC8gZS5jdXIodHJ1ZSkpICogc3RhcnQ7XHJcbiAgICAgICAgc2VsZi5zdHlsZVsgbmFtZSBdID0gc3RhcnQgKyB1bml0O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBUaGlzIGNyZWF0ZXMgYSBwcm9ibGVtIHdoZXJlIHdlIGNhbm5vdCBnaXZlIHVuaXRzIHRvIG91ciBjdXN0b20gYW5pbWF0aW9uXHJcbiAgICBiZWNhdXNlIGlmIHdlIGRvIHRoZW4gdGhpcyBjb2RlIHdpbGwgZXhlY3V0ZSBhbmQgYmVjYXVzZSBzZWxmLnN0eWxlW25hbWVdXHJcbiAgICBkb2VzIG5vdCBleGlzdCB3aGVyZSBuYW1lIGlzIG91ciBjdXN0b20gYW5pbWF0aW9uJ3MgbmFtZSB0aGVuIGUuY3VyKHRydWUpXHJcbiAgICB3aWxsIGxpa2VseSByZXR1cm4gemVybyBhbmQgY3JlYXRlIGEgZGl2aWRlIGJ5IHplcm8gYnVnIHdoaWNoIHdpbGwgc2V0XHJcbiAgICBzdGFydCB0byBOYU4uXHJcbiAgICBcclxuICAgIFRoZSBmb2xsb3dpbmcgbW9ua2V5IHBhdGNoIGZvciBhbmltYXRlKCkgZ2V0cyBhcm91bmQgdGhpcyBieSBzdG9yaW5nIHRoZVxyXG4gICAgdW5pdHMgdXNlZCBpbiB0aGUgcm90YXRpb24gZGVmaW5pdGlvbiBhbmQgdGhlbiBzdHJpcHBpbmcgdGhlIHVuaXRzIG9mZi5cclxuICAgIFxyXG4gICAgKi9cclxuICAgIFxyXG4gICAgdmFyIGFuaW1hdGVQcm94aWVkID0gJC5mbi5hbmltYXRlO1xyXG4gICAgJC5mbi5hbmltYXRlID0gZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BbJ3JvdGF0ZSddICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHZhciAkc2VsZiwgZGF0YSwgbSA9IHByb3BbJ3JvdGF0ZSddLnRvU3RyaW5nKCkubWF0Y2goL14oKFsrLV09KT8oLT9cXGQrKFxcLlxcZCspPykpKC4rKT8kLyk7XHJcbiAgICAgICAgICAgIGlmIChtICYmIG1bNV0pIHtcclxuICAgICAgICAgICAgICAgICRzZWxmID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBpbml0RGF0YSgkc2VsZik7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnJvdGF0ZVVuaXRzID0gbVs1XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcHJvcFsncm90YXRlJ10gPSBtWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYW5pbWF0ZVByb3hpZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cclxuZnVuY3Rpb24gdHJpbShzKSB7IHJldHVybiBydHJpbShsdHJpbShzKSk7IH1cclxuZnVuY3Rpb24gbHRyaW0ocyl7IHJldHVybiBzLnJlcGxhY2UoL15cXHMrLywgJycpOyB9XHJcbmZ1bmN0aW9uIHJ0cmltKHMpeyByZXR1cm4gcy5yZXBsYWNlKC9cXHMrJC8sICcnKTsgfVxyXG5cclxuLypcclxuICogalF1ZXJ5IGF1dG9SZXNpemUgKHRleHRhcmVhIGF1dG8tcmVzaXplcilcclxuICogQGNvcHlyaWdodCBKYW1lcyBQYWRvbHNleSBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tXHJcbiAqIEB2ZXJzaW9uIDEuMDRcclxuKi9cclxuXHJcbihmdW5jdGlvbigkKXtcclxuICAgIFxyXG4gICAgJC5mbi5hdXRvUmVzaXplID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEp1c3Qgc29tZSBhYnN0cmFjdGVkIGRldGFpbHMsXHJcbiAgICAgICAgLy8gdG8gbWFrZSBwbHVnaW4gdXNlcnMgaGFwcHk6XHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQoe1xyXG4gICAgICAgICAgICBvblJlc2l6ZSA6IGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0IFxyXG5cdFx0XHR9LFxyXG4gICAgICAgICAgICBhbmltYXRlIDogdHJ1ZSxcclxuICAgICAgICAgICAgYW5pbWF0ZUR1cmF0aW9uIDogMTUwLFxyXG4gICAgICAgICAgICBhbmltYXRlQ2FsbGJhY2sgOiBmdW5jdGlvbigpe30sXHJcbiAgICAgICAgICAgIGV4dHJhU3BhY2UgOiAxLFxyXG4gICAgICAgICAgICBsaW1pdDogMzAwMDBcclxuICAgICAgICB9LCBvcHRpb25zKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBPbmx5IHRleHRhcmVhJ3MgYXV0by1yZXNpemU6XHJcbiAgICAgICAgdGhpcy5maWx0ZXIoJ3RleHRhcmVhJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEdldCByaWQgb2Ygc2Nyb2xsYmFycyBhbmQgZGlzYWJsZSBXZWJLaXQgcmVzaXppbmc6XHJcbiAgICAgICAgICAgIHZhciB0ZXh0YXJlYSA9ICQodGhpcykuY3NzKHtyZXNpemU6J25vbmUnLCdvdmVyZmxvdy15JzonaGlkZGVuJ30pLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIENhY2hlIG9yaWdpbmFsIGhlaWdodCwgZm9yIHVzZSBsYXRlcjpcclxuICAgICAgICAgICAgICAgIG9yaWdIZWlnaHQgPSB0ZXh0YXJlYS5oZWlnaHQoKSxcclxuXHJcblx0XHRcdFx0ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gTmVlZCBjbG9uZSBvZiB0ZXh0YXJlYSwgaGlkZGVuIG9mZiBzY3JlZW46XHJcbiAgICAgICAgICAgICAgICBjbG9uZSA9IChmdW5jdGlvbigpe1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvcGVydGllcyB3aGljaCBtYXkgZWZmZWN0IHNwYWNlIHRha2VuIHVwIGJ5IGNocmFjdGVyczpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBbJ2hlaWdodCcsJ3dpZHRoJywnbGluZUhlaWdodCcsJ3RleHREZWNvcmF0aW9uJywnbGV0dGVyU3BhY2luZycsJ2ZvbnRTaXplJywnZm9udC1mYW1pbHknLF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BPYiA9IHt9O1xyXG4gIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBvYmplY3Qgb2Ygc3R5bGVzIHRvIGFwcGx5OlxyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChwcm9wcywgZnVuY3Rpb24oaSwgcHJvcCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BPYltwcm9wXSA9IHRleHRhcmVhLmNzcyhwcm9wKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBDbG9uZSB0aGUgYWN0dWFsIHRleHRhcmVhIHJlbW92aW5nIHVuaXF1ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGluc2VydCBiZWZvcmUgb3JpZ2luYWwgdGV4dGFyZWE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHRhcmVhLmNsb25lKCkucmVtb3ZlQXR0cignaWQnKS5yZW1vdmVBdHRyKCduYW1lJykuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogLTk5OTlcclxuICAgICAgICAgICAgICAgICAgICB9KS5jc3MocHJvcE9iKS5hdHRyKCd0YWJJbmRleCcsJy0xJykuaW5zZXJ0QmVmb3JlKHRleHRhcmVhKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVTaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlcGFyZSB0aGUgY2xvbmU6XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUuaGVpZ2h0KDApLnZhbCgkKHRoaXMpLnZhbCgpKS5zY3JvbGxUb3AoMTAwMDApO1xyXG5cdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgaGVpZ2h0IG9mIHRleHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gTWF0aC5tYXgoY2xvbmUuc2Nyb2xsVG9wKCksIG9yaWdIZWlnaHQpICsgc2V0dGluZ3MuZXh0cmFTcGFjZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9DaGFuZ2UgPSAkKHRoaXMpLmFkZChjbG9uZSk7XHJcbiovXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IE1hdGgubWF4KGNsb25lLnNjcm9sbFRvcCgpLCBvcmlnSGVpZ2h0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9DaGFuZ2UgPSAkKHRoaXMpLmFkZChjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgc2Nyb2xsVGlwIGhhc2VuJ3QgY2hhbmdlZDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFNjcm9sbFRvcCA9PT0gc2Nyb2xsVG9wKSB7IHJldHVybjsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcblx0XHRcdFx0XHRcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgbGltaXQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzY3JvbGxUb3AgPj0gc2V0dGluZ3MubGltaXQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdvdmVyZmxvdy15JywnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlyZSBvZmYgY2FsbGJhY2s6XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25SZXNpemUuY2FsbCh0aGlzKTtcclxuXHRcdFx0XHRcdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVpdGhlciBhbmltYXRlIG9yIGRpcmVjdGx5IGFwcGx5IGhlaWdodDpcclxuICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmFuaW1hdGUgJiYgdGV4dGFyZWEuY3NzKCdkaXNwbGF5JykgPT09ICdibG9jaycgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b0NoYW5nZS5zdG9wKCkuYW5pbWF0ZSh7aGVpZ2h0OnNjcm9sbFRvcH0sIHNldHRpbmdzLmFuaW1hdGVEdXJhdGlvbiwgc2V0dGluZ3MuYW5pbWF0ZUNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRvQ2hhbmdlLmhlaWdodChzY3JvbGxUb3ApO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBCaW5kIG5hbWVzcGFjZWQgaGFuZGxlcnMgdG8gYXBwcm9wcmlhdGUgZXZlbnRzOlxyXG4gICAgICAgICAgICB0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgLnVuYmluZCgnLmR5blNpeicpXHJcbiAgICAgICAgICAgICAgICAuYmluZCgna2V5dXAuZHluU2l6JywgdXBkYXRlU2l6ZSlcclxuICAgICAgICAgICAgICAgIC5iaW5kKCdrZXlkb3duLmR5blNpeicsIHVwZGF0ZVNpemUpXHJcbiAgICAgICAgICAgICAgICAuYmluZCgnY2hhbmdlLmR5blNpeicsIHVwZGF0ZVNpemUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGFpbjpcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cclxuLyohIGpRdWVyeSBudW1iZXIgMi4xLjMgKGMpIGdpdGh1Yi5jb20vdGVhbWRmL2pxdWVyeS1udW1iZXIgfCBvcGVuc291cmNlLnRlYW1kZi5jb20vbGljZW5zZSAqL1xyXG4oZnVuY3Rpb24oaCl7ZnVuY3Rpb24gcihmLGEpe2lmKHRoaXMuY3JlYXRlVGV4dFJhbmdlKXt2YXIgYz10aGlzLmNyZWF0ZVRleHRSYW5nZSgpO2MuY29sbGFwc2UodHJ1ZSk7Yy5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIixmKTtjLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIixhLWYpO2Muc2VsZWN0KCl9ZWxzZSBpZih0aGlzLnNldFNlbGVjdGlvblJhbmdlKXt0aGlzLmZvY3VzKCk7dGhpcy5zZXRTZWxlY3Rpb25SYW5nZShmLGEpfX1mdW5jdGlvbiBzKGYpe3ZhciBhPXRoaXMudmFsdWUubGVuZ3RoO2Y9Zi50b0xvd2VyQ2FzZSgpPT1cInN0YXJ0XCI/XCJTdGFydFwiOlwiRW5kXCI7aWYoZG9jdW1lbnQuc2VsZWN0aW9uKXthPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO3ZhciBjO2M9YS5kdXBsaWNhdGUoKTtjLmV4cGFuZChcInRleHRlZGl0XCIpO2Muc2V0RW5kUG9pbnQoXCJFbmRUb0VuZFwiLGEpO2M9Yy50ZXh0Lmxlbmd0aC1hLnRleHQubGVuZ3RoO2E9YythLnRleHQubGVuZ3RoO3JldHVybiBmPT1cclxuXCJTdGFydFwiP2M6YX1lbHNlIGlmKHR5cGVvZiB0aGlzW1wic2VsZWN0aW9uXCIrZl0hPVwidW5kZWZpbmVkXCIpYT10aGlzW1wic2VsZWN0aW9uXCIrZl07cmV0dXJuIGF9dmFyIHE9e2NvZGVzOnsxODg6NDQsMTA5OjQ1LDE5MDo0NiwxOTE6NDcsMTkyOjk2LDIyMDo5MiwyMjI6MzksMjIxOjkzLDIxOTo5MSwxNzM6NDUsMTg3OjYxLDE4Njo1OSwxODk6NDUsMTEwOjQ2fSxzaGlmdHM6ezk2OlwiflwiLDQ5OlwiIVwiLDUwOlwiQFwiLDUxOlwiI1wiLDUyOlwiJFwiLDUzOlwiJVwiLDU0OlwiXlwiLDU1OlwiJlwiLDU2OlwiKlwiLDU3OlwiKFwiLDQ4OlwiKVwiLDQ1OlwiX1wiLDYxOlwiK1wiLDkxOlwie1wiLDkzOlwifVwiLDkyOlwifFwiLDU5OlwiOlwiLDM5OidcIicsNDQ6XCI8XCIsNDY6XCI+XCIsNDc6XCI/XCJ9fTtoLmZuLm51bWJlcj1mdW5jdGlvbihmLGEsYyxrKXtrPXR5cGVvZiBrPT09XCJ1bmRlZmluZWRcIj9cIixcIjprO2M9dHlwZW9mIGM9PT1cInVuZGVmaW5lZFwiP1wiLlwiOmM7YT10eXBlb2YgYT09PVwidW5kZWZpbmVkXCI/MDphO3ZhciBqPVwiXFxcXHVcIisoXCIwMDAwXCIrXHJcbmMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KSxvPVJlZ0V4cChcIlteXCIraitcIjAtOV1cIixcImdcIikscD1SZWdFeHAoaixcImdcIik7aWYoZj09PXRydWUpcmV0dXJuIHRoaXMuaXMoXCJpbnB1dDp0ZXh0XCIpP3RoaXMub24oe1wia2V5ZG93bi5mb3JtYXRcIjpmdW5jdGlvbihiKXt2YXIgZD1oKHRoaXMpLGU9ZC5kYXRhKFwibnVtRm9ybWF0XCIpLGc9Yi5rZXlDb2RlP2Iua2V5Q29kZTpiLndoaWNoLG09XCJcIixpPXMuYXBwbHkodGhpcyxbXCJzdGFydFwiXSksbj1zLmFwcGx5KHRoaXMsW1wiZW5kXCJdKSxsPVwiXCI7bD1mYWxzZTtpZihxLmNvZGVzLmhhc093blByb3BlcnR5KGcpKWc9cS5jb2Rlc1tnXTtpZighYi5zaGlmdEtleSYmZz49NjUmJmc8PTkwKWcrPTMyO2Vsc2UgaWYoIWIuc2hpZnRLZXkmJmc+PTY5JiZnPD0xMDUpZy09NDg7ZWxzZSBpZihiLnNoaWZ0S2V5JiZxLnNoaWZ0cy5oYXNPd25Qcm9wZXJ0eShnKSltPXEuc2hpZnRzW2ddO2lmKG09PVwiXCIpbT1TdHJpbmcuZnJvbUNoYXJDb2RlKGcpO1xyXG5pZihnIT09OCYmbSE9YyYmIW0ubWF0Y2goL1swLTldLykpe2Q9Yi5rZXlDb2RlP2Iua2V5Q29kZTpiLndoaWNoO2lmKGQ9PTQ2fHxkPT04fHxkPT05fHxkPT0yN3x8ZD09MTN8fChkPT02NXx8ZD09ODIpJiYoYi5jdHJsS2V5fHxiLm1ldGFLZXkpPT09dHJ1ZXx8KGQ9PTg2fHxkPT02NykmJihiLmN0cmxLZXl8fGIubWV0YUtleSk9PT10cnVlfHxkPj0zNSYmZDw9MzkpcmV0dXJuO2IucHJldmVudERlZmF1bHQoKTtyZXR1cm4gZmFsc2V9aWYoaT09MCYmbj09dGhpcy52YWx1ZS5sZW5ndGh8fGQudmFsKCk9PTApaWYoZz09PTgpe2k9bj0xO3RoaXMudmFsdWU9XCJcIjtlLmluaXQ9YT4wPy0xOjA7ZS5jPWE+MD8tKGErMSk6MDtyLmFwcGx5KHRoaXMsWzAsMF0pfWVsc2UgaWYobT09PWMpe2k9bj0xO3RoaXMudmFsdWU9XCIwXCIrYytBcnJheShhKzEpLmpvaW4oXCIwXCIpO2UuaW5pdD1hPjA/MTowO2UuYz1hPjA/LShhKzEpOjB9ZWxzZXtpZih0aGlzLnZhbHVlLmxlbmd0aD09PTApe2UuaW5pdD1cclxuYT4wPy0xOjA7ZS5jPWE+MD8tYTowfX1lbHNlIGUuYz1uLXRoaXMudmFsdWUubGVuZ3RoO2lmKGE+MCYmbT09YyYmaT09dGhpcy52YWx1ZS5sZW5ndGgtYS0xKXtlLmMrKztlLmluaXQ9TWF0aC5tYXgoMCxlLmluaXQpO2IucHJldmVudERlZmF1bHQoKTtsPXRoaXMudmFsdWUubGVuZ3RoK2UuY31lbHNlIGlmKG09PWMpe2UuaW5pdD1NYXRoLm1heCgwLGUuaW5pdCk7Yi5wcmV2ZW50RGVmYXVsdCgpfWVsc2UgaWYoYT4wJiZnPT04JiZpPT10aGlzLnZhbHVlLmxlbmd0aC1hKXtiLnByZXZlbnREZWZhdWx0KCk7ZS5jLS07bD10aGlzLnZhbHVlLmxlbmd0aCtlLmN9ZWxzZSBpZihhPjAmJmc9PTgmJmk+dGhpcy52YWx1ZS5sZW5ndGgtYSl7aWYodGhpcy52YWx1ZT09PVwiXCIpcmV0dXJuO2lmKHRoaXMudmFsdWUuc2xpY2UoaS0xLGkpIT1cIjBcIil7bD10aGlzLnZhbHVlLnNsaWNlKDAsaS0xKStcIjBcIit0aGlzLnZhbHVlLnNsaWNlKGkpO2QudmFsKGwucmVwbGFjZShvLFwiXCIpLnJlcGxhY2UocCxcclxuYykpfWIucHJldmVudERlZmF1bHQoKTtlLmMtLTtsPXRoaXMudmFsdWUubGVuZ3RoK2UuY31lbHNlIGlmKGc9PTgmJnRoaXMudmFsdWUuc2xpY2UoaS0xLGkpPT1rKXtiLnByZXZlbnREZWZhdWx0KCk7ZS5jLS07bD10aGlzLnZhbHVlLmxlbmd0aCtlLmN9ZWxzZSBpZihhPjAmJmk9PW4mJnRoaXMudmFsdWUubGVuZ3RoPmErMSYmaT50aGlzLnZhbHVlLmxlbmd0aC1hLTEmJmlzRmluaXRlKCttKSYmIWIubWV0YUtleSYmIWIuY3RybEtleSYmIWIuYWx0S2V5JiZtLmxlbmd0aD09PTEpe3RoaXMudmFsdWU9bD1uPT09dGhpcy52YWx1ZS5sZW5ndGg/dGhpcy52YWx1ZS5zbGljZSgwLGktMSk6dGhpcy52YWx1ZS5zbGljZSgwLGkpK3RoaXMudmFsdWUuc2xpY2UoaSsxKTtsPWl9bCE9PWZhbHNlJiZyLmFwcGx5KHRoaXMsW2wsbF0pO2QuZGF0YShcIm51bUZvcm1hdFwiLGUpfSxcImtleXVwLmZvcm1hdFwiOmZ1bmN0aW9uKGIpe3ZhciBkPWgodGhpcyksZT1kLmRhdGEoXCJudW1Gb3JtYXRcIik7Yj1iLmtleUNvZGU/XHJcbmIua2V5Q29kZTpiLndoaWNoO3ZhciBnPXMuYXBwbHkodGhpcyxbXCJzdGFydFwiXSk7aWYoISh0aGlzLnZhbHVlPT09XCJcInx8KGI8NDh8fGI+NTcpJiYoYjw5Nnx8Yj4xMDUpJiZiIT09OCkpe2QudmFsKGQudmFsKCkpO2lmKGE+MClpZihlLmluaXQ8MSl7Zz10aGlzLnZhbHVlLmxlbmd0aC1hLShlLmluaXQ8MD8xOjApO2UuYz1nLXRoaXMudmFsdWUubGVuZ3RoO2UuaW5pdD0xO2QuZGF0YShcIm51bUZvcm1hdFwiLGUpfWVsc2UgaWYoZz50aGlzLnZhbHVlLmxlbmd0aC1hJiZiIT04KXtlLmMrKztkLmRhdGEoXCJudW1Gb3JtYXRcIixlKX1kPXRoaXMudmFsdWUubGVuZ3RoK2UuYztyLmFwcGx5KHRoaXMsW2QsZF0pfX0sXCJwYXN0ZS5mb3JtYXRcIjpmdW5jdGlvbihiKXt2YXIgZD1oKHRoaXMpLGU9Yi5vcmlnaW5hbEV2ZW50LGc9bnVsbDtpZih3aW5kb3cuY2xpcGJvYXJkRGF0YSYmd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSlnPXdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpO1xyXG5lbHNlIGlmKGUuY2xpcGJvYXJkRGF0YSYmZS5jbGlwYm9hcmREYXRhLmdldERhdGEpZz1lLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7ZC52YWwoZyk7Yi5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBmYWxzZX19KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9aCh0aGlzKS5kYXRhKFwibnVtRm9ybWF0XCIse2M6LShhKzEpLGRlY2ltYWxzOmEsdGhvdXNhbmRzX3NlcDprLGRlY19wb2ludDpjLHJlZ2V4X2RlY19udW06byxyZWdleF9kZWM6cCxpbml0OmZhbHNlfSk7dGhpcy52YWx1ZSE9PVwiXCImJmIudmFsKGIudmFsKCkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9aCh0aGlzKSxkPStiLnRleHQoKS5yZXBsYWNlKG8sXCJcIikucmVwbGFjZShwLFwiLlwiKTtiLm51bWJlcighaXNGaW5pdGUoZCk/MDorZCxhLGMsayl9KTtyZXR1cm4gdGhpcy50ZXh0KGgubnVtYmVyLmFwcGx5KHdpbmRvdyxhcmd1bWVudHMpKX07dmFyIHQ9bnVsbCx1PW51bGw7aWYoaC5pc1BsYWluT2JqZWN0KGgudmFsSG9va3MudGV4dCkpe2lmKGguaXNGdW5jdGlvbihoLnZhbEhvb2tzLnRleHQuZ2V0KSl0PVxyXG5oLnZhbEhvb2tzLnRleHQuZ2V0O2lmKGguaXNGdW5jdGlvbihoLnZhbEhvb2tzLnRleHQuc2V0KSl1PWgudmFsSG9va3MudGV4dC5zZXR9ZWxzZSBoLnZhbEhvb2tzLnRleHQ9e307aC52YWxIb29rcy50ZXh0LmdldD1mdW5jdGlvbihmKXt2YXIgYT1oKGYpLmRhdGEoXCJudW1Gb3JtYXRcIik7aWYoYSl7aWYoZi52YWx1ZT09PVwiXCIpcmV0dXJuXCJcIjtmPStmLnZhbHVlLnJlcGxhY2UoYS5yZWdleF9kZWNfbnVtLFwiXCIpLnJlcGxhY2UoYS5yZWdleF9kZWMsXCIuXCIpO3JldHVyblwiXCIrKGlzRmluaXRlKGYpP2Y6MCl9ZWxzZSBpZihoLmlzRnVuY3Rpb24odCkpcmV0dXJuIHQoZil9O2gudmFsSG9va3MudGV4dC5zZXQ9ZnVuY3Rpb24oZixhKXt2YXIgYz1oKGYpLmRhdGEoXCJudW1Gb3JtYXRcIik7aWYoYylyZXR1cm4gZi52YWx1ZT1oLm51bWJlcihhLGMuZGVjaW1hbHMsYy5kZWNfcG9pbnQsYy50aG91c2FuZHNfc2VwKTtlbHNlIGlmKGguaXNGdW5jdGlvbih1KSlyZXR1cm4gdShmLGEpfTtoLm51bWJlcj1cclxuZnVuY3Rpb24oZixhLGMsayl7az10eXBlb2Ygaz09PVwidW5kZWZpbmVkXCI/XCIsXCI6aztjPXR5cGVvZiBjPT09XCJ1bmRlZmluZWRcIj9cIi5cIjpjO2E9IWlzRmluaXRlKCthKT8wOk1hdGguYWJzKGEpO3ZhciBqPVwiXFxcXHVcIisoXCIwMDAwXCIrYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpLG89XCJcXFxcdVwiKyhcIjAwMDBcIitrLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCk7Zj0oZitcIlwiKS5yZXBsYWNlKFwiLlwiLGMpLnJlcGxhY2UoUmVnRXhwKG8sXCJnXCIpLFwiXCIpLnJlcGxhY2UoUmVnRXhwKGosXCJnXCIpLFwiLlwiKS5yZXBsYWNlKFJlZ0V4cChcIlteMC05Ky1FZS5dXCIsXCJnXCIpLFwiXCIpO2Y9IWlzRmluaXRlKCtmKT8wOitmO2o9XCJcIjtqPWZ1bmN0aW9uKHAsYil7dmFyIGQ9TWF0aC5wb3coMTAsYik7cmV0dXJuXCJcIitNYXRoLnJvdW5kKHAqZCkvZH07aj0oYT9qKGYsYSk6XCJcIitNYXRoLnJvdW5kKGYpKS5zcGxpdChcIi5cIik7aWYoalswXS5sZW5ndGg+MylqWzBdPWpbMF0ucmVwbGFjZSgvXFxCKD89KD86XFxkezN9KSsoPyFcXGQpKS9nLFxyXG5rKTtpZigoalsxXXx8XCJcIikubGVuZ3RoPGEpe2pbMV09alsxXXx8XCJcIjtqWzFdKz1BcnJheShhLWpbMV0ubGVuZ3RoKzEpLmpvaW4oXCIwXCIpfXJldHVybiBqLmpvaW4oYyl9fSkoalF1ZXJ5KTsiLCIvKiFcclxuICogY2xpcGJvYXJkLmpzIHYxLjcuMVxyXG4gKiBodHRwczovL3plbm9yb2NoYS5naXRodWIuaW8vY2xpcGJvYXJkLmpzXHJcbiAqXHJcbiAqIExpY2Vuc2VkIE1JVCDQksKpIFplbm8gUm9jaGFcclxuICovXHJcbiFmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIGU7ZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsZS5DbGlwYm9hcmQ9dCgpfX0oZnVuY3Rpb24oKXt2YXIgdCxlLG47cmV0dXJuIGZ1bmN0aW9uIHQoZSxuLG8pe2Z1bmN0aW9uIGkoYSxjKXtpZighblthXSl7aWYoIWVbYV0pe3ZhciBsPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmwpcmV0dXJuIGwoYSwhMCk7aWYocilyZXR1cm4gcihhLCEwKTt2YXIgcz1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2ErXCInXCIpO3Rocm93IHMuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixzfXZhciB1PW5bYV09e2V4cG9ydHM6e319O2VbYV1bMF0uY2FsbCh1LmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIG49ZVthXVsxXVt0XTtyZXR1cm4gaShufHx0KX0sdSx1LmV4cG9ydHMsdCxlLG4sbyl9cmV0dXJuIG5bYV0uZXhwb3J0c31mb3IodmFyIHI9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxhPTA7YTxvLmxlbmd0aDthKyspaShvW2FdKTtyZXR1cm4gaX0oezE6W2Z1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSl7Zm9yKDt0JiZ0Lm5vZGVUeXBlIT09aTspe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQubWF0Y2hlcyYmdC5tYXRjaGVzKGUpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfX12YXIgaT05O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBFbGVtZW50JiYhRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyl7dmFyIHI9RWxlbWVudC5wcm90b3R5cGU7ci5tYXRjaGVzPXIubWF0Y2hlc1NlbGVjdG9yfHxyLm1vek1hdGNoZXNTZWxlY3Rvcnx8ci5tc01hdGNoZXNTZWxlY3Rvcnx8ci5vTWF0Y2hlc1NlbGVjdG9yfHxyLndlYmtpdE1hdGNoZXNTZWxlY3Rvcn1lLmV4cG9ydHM9b30se31dLDI6W2Z1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSxuLG8scil7dmFyIGE9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihuLGEscikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIobixhLHIpfX19ZnVuY3Rpb24gaSh0LGUsbixvKXtyZXR1cm4gZnVuY3Rpb24obil7bi5kZWxlZ2F0ZVRhcmdldD1yKG4udGFyZ2V0LGUpLG4uZGVsZWdhdGVUYXJnZXQmJm8uY2FsbCh0LG4pfX12YXIgcj10KFwiLi9jbG9zZXN0XCIpO2UuZXhwb3J0cz1vfSx7XCIuL2Nsb3Nlc3RcIjoxfV0sMzpbZnVuY3Rpb24odCxlLG4pe24ubm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYxPT09dC5ub2RlVHlwZX0sbi5ub2RlTGlzdD1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk7cmV0dXJuIHZvaWQgMCE9PXQmJihcIltvYmplY3QgTm9kZUxpc3RdXCI9PT1lfHxcIltvYmplY3QgSFRNTENvbGxlY3Rpb25dXCI9PT1lKSYmXCJsZW5ndGhcImluIHQmJigwPT09dC5sZW5ndGh8fG4ubm9kZSh0WzBdKSl9LG4uc3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nfSxuLmZuPWZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBGdW5jdGlvbl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX19LHt9XSw0OltmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbyh0LGUsbil7aWYoIXQmJiFlJiYhbil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50c1wiKTtpZighYy5zdHJpbmcoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nXCIpO2lmKCFjLmZuKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGlyZCBhcmd1bWVudCBtdXN0IGJlIGEgRnVuY3Rpb25cIik7aWYoYy5ub2RlKHQpKXJldHVybiBpKHQsZSxuKTtpZihjLm5vZGVMaXN0KHQpKXJldHVybiByKHQsZSxuKTtpZihjLnN0cmluZyh0KSlyZXR1cm4gYSh0LGUsbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3RcIil9ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihlLG4pLHtkZXN0cm95OmZ1bmN0aW9uKCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbil9fX1mdW5jdGlvbiByKHQsZSxuKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0LGZ1bmN0aW9uKHQpe3QuYWRkRXZlbnRMaXN0ZW5lcihlLG4pfSkse2Rlc3Ryb3k6ZnVuY3Rpb24oKXtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHQsZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbil9KX19fWZ1bmN0aW9uIGEodCxlLG4pe3JldHVybiBsKGRvY3VtZW50LmJvZHksdCxlLG4pfXZhciBjPXQoXCIuL2lzXCIpLGw9dChcImRlbGVnYXRlXCIpO2UuZXhwb3J0cz1vfSx7XCIuL2lzXCI6MyxkZWxlZ2F0ZToyfV0sNTpbZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8odCl7dmFyIGU7aWYoXCJTRUxFQ1RcIj09PXQubm9kZU5hbWUpdC5mb2N1cygpLGU9dC52YWx1ZTtlbHNlIGlmKFwiSU5QVVRcIj09PXQubm9kZU5hbWV8fFwiVEVYVEFSRUFcIj09PXQubm9kZU5hbWUpe3ZhciBuPXQuaGFzQXR0cmlidXRlKFwicmVhZG9ubHlcIik7bnx8dC5zZXRBdHRyaWJ1dGUoXCJyZWFkb25seVwiLFwiXCIpLHQuc2VsZWN0KCksdC5zZXRTZWxlY3Rpb25SYW5nZSgwLHQudmFsdWUubGVuZ3RoKSxufHx0LnJlbW92ZUF0dHJpYnV0ZShcInJlYWRvbmx5XCIpLGU9dC52YWx1ZX1lbHNle3QuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiZ0LmZvY3VzKCk7dmFyIG89d2luZG93LmdldFNlbGVjdGlvbigpLGk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtpLnNlbGVjdE5vZGVDb250ZW50cyh0KSxvLnJlbW92ZUFsbFJhbmdlcygpLG8uYWRkUmFuZ2UoaSksZT1vLnRvU3RyaW5nKCl9cmV0dXJuIGV9ZS5leHBvcnRzPW99LHt9XSw2OltmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbygpe31vLnByb3RvdHlwZT17b246ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMuZXx8KHRoaXMuZT17fSk7cmV0dXJuKG9bdF18fChvW3RdPVtdKSkucHVzaCh7Zm46ZSxjdHg6bn0pLHRoaXN9LG9uY2U6ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8oKXtpLm9mZih0LG8pLGUuYXBwbHkobixhcmd1bWVudHMpfXZhciBpPXRoaXM7cmV0dXJuIG8uXz1lLHRoaXMub24odCxvLG4pfSxlbWl0OmZ1bmN0aW9uKHQpe3ZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49KCh0aGlzLmV8fCh0aGlzLmU9e30pKVt0XXx8W10pLnNsaWNlKCksbz0wLGk9bi5sZW5ndGg7Zm9yKG87bzxpO28rKyluW29dLmZuLmFwcGx5KG5bb10uY3R4LGUpO3JldHVybiB0aGlzfSxvZmY6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV8fCh0aGlzLmU9e30pLG89blt0XSxpPVtdO2lmKG8mJmUpZm9yKHZhciByPTAsYT1vLmxlbmd0aDtyPGE7cisrKW9bcl0uZm4hPT1lJiZvW3JdLmZuLl8hPT1lJiZpLnB1c2gob1tyXSk7cmV0dXJuIGkubGVuZ3RoP25bdF09aTpkZWxldGUgblt0XSx0aGlzfX0sZS5leHBvcnRzPW99LHt9XSw3OltmdW5jdGlvbihlLG4sbyl7IWZ1bmN0aW9uKGkscil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5hbWQpdChbXCJtb2R1bGVcIixcInNlbGVjdFwiXSxyKTtlbHNlIGlmKHZvaWQgMCE9PW8pcihuLGUoXCJzZWxlY3RcIikpO2Vsc2V7dmFyIGE9e2V4cG9ydHM6e319O3IoYSxpLnNlbGVjdCksaS5jbGlwYm9hcmRBY3Rpb249YS5leHBvcnRzfX0odGhpcyxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWZ1bmN0aW9uIG8odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBpPW4oZSkscj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxvJiZ0KGUsbyksZX19KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7byh0aGlzLHQpLHRoaXMucmVzb2x2ZU9wdGlvbnMoZSksdGhpcy5pbml0U2VsZWN0aW9uKCl9cmV0dXJuIGEodCxbe2tleTpcInJlc29sdmVPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLmFjdGlvbj1lLmFjdGlvbix0aGlzLmNvbnRhaW5lcj1lLmNvbnRhaW5lcix0aGlzLmVtaXR0ZXI9ZS5lbWl0dGVyLHRoaXMudGFyZ2V0PWUudGFyZ2V0LHRoaXMudGV4dD1lLnRleHQsdGhpcy50cmlnZ2VyPWUudHJpZ2dlcix0aGlzLnNlbGVjdGVkVGV4dD1cIlwifX0se2tleTpcImluaXRTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbiB0KCl7dGhpcy50ZXh0P3RoaXMuc2VsZWN0RmFrZSgpOnRoaXMudGFyZ2V0JiZ0aGlzLnNlbGVjdFRhcmdldCgpfX0se2tleTpcInNlbGVjdEZha2VcIix2YWx1ZTpmdW5jdGlvbiB0KCl7dmFyIGU9dGhpcyxuPVwicnRsXCI9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkaXJcIik7dGhpcy5yZW1vdmVGYWtlKCksdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIGUucmVtb3ZlRmFrZSgpfSx0aGlzLmZha2VIYW5kbGVyPXRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayl8fCEwLHRoaXMuZmFrZUVsZW09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpLHRoaXMuZmFrZUVsZW0uc3R5bGUuZm9udFNpemU9XCIxMnB0XCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXI9XCIwXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5wYWRkaW5nPVwiMFwiLHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luPVwiMFwiLHRoaXMuZmFrZUVsZW0uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuZmFrZUVsZW0uc3R5bGVbbj9cInJpZ2h0XCI6XCJsZWZ0XCJdPVwiLTk5OTlweFwiO3ZhciBvPXdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDt0aGlzLmZha2VFbGVtLnN0eWxlLnRvcD1vK1wicHhcIix0aGlzLmZha2VFbGVtLnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsXCJcIiksdGhpcy5mYWtlRWxlbS52YWx1ZT10aGlzLnRleHQsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mYWtlRWxlbSksdGhpcy5zZWxlY3RlZFRleHQ9KDAsaS5kZWZhdWx0KSh0aGlzLmZha2VFbGVtKSx0aGlzLmNvcHlUZXh0KCl9fSx7a2V5OlwicmVtb3ZlRmFrZVwiLHZhbHVlOmZ1bmN0aW9uIHQoKXt0aGlzLmZha2VIYW5kbGVyJiYodGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSx0aGlzLmZha2VIYW5kbGVyPW51bGwsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrPW51bGwpLHRoaXMuZmFrZUVsZW0mJih0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKSx0aGlzLmZha2VFbGVtPW51bGwpfX0se2tleTpcInNlbGVjdFRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uIHQoKXt0aGlzLnNlbGVjdGVkVGV4dD0oMCxpLmRlZmF1bHQpKHRoaXMudGFyZ2V0KSx0aGlzLmNvcHlUZXh0KCl9fSx7a2V5OlwiY29weVRleHRcIix2YWx1ZTpmdW5jdGlvbiB0KCl7dmFyIGU9dm9pZCAwO3RyeXtlPWRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKX1jYXRjaCh0KXtlPSExfXRoaXMuaGFuZGxlUmVzdWx0KGUpfX0se2tleTpcImhhbmRsZVJlc3VsdFwiLHZhbHVlOmZ1bmN0aW9uIHQoZSl7dGhpcy5lbWl0dGVyLmVtaXQoZT9cInN1Y2Nlc3NcIjpcImVycm9yXCIse2FjdGlvbjp0aGlzLmFjdGlvbix0ZXh0OnRoaXMuc2VsZWN0ZWRUZXh0LHRyaWdnZXI6dGhpcy50cmlnZ2VyLGNsZWFyU2VsZWN0aW9uOnRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKX0pfX0se2tleTpcImNsZWFyU2VsZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24gdCgpe3RoaXMudHJpZ2dlciYmdGhpcy50cmlnZ2VyLmZvY3VzKCksd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbiB0KCl7dGhpcy5yZW1vdmVGYWtlKCl9fSx7a2V5OlwiYWN0aW9uXCIsc2V0OmZ1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJjb3B5XCI7aWYodGhpcy5fYWN0aW9uPWUsXCJjb3B5XCIhPT10aGlzLl9hY3Rpb24mJlwiY3V0XCIhPT10aGlzLl9hY3Rpb24pdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpfSxnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9hY3Rpb259fSx7a2V5OlwidGFyZ2V0XCIsc2V0OmZ1bmN0aW9uIHQoZSl7aWYodm9pZCAwIT09ZSl7aWYoIWV8fFwib2JqZWN0XCIhPT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnIoZSkpfHwxIT09ZS5ub2RlVHlwZSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO2lmKFwiY29weVwiPT09dGhpcy5hY3Rpb24mJmUuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtpZihcImN1dFwiPT09dGhpcy5hY3Rpb24mJihlLmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpfHxlLmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpKSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFlvdSBjYW5cXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCBcInJlYWRvbmx5XCIgb3IgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZXMnKTt0aGlzLl90YXJnZXQ9ZX19LGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3RhcmdldH19XSksdH0oKTt0LmV4cG9ydHM9Y30pfSx7c2VsZWN0OjV9XSw4OltmdW5jdGlvbihlLG4sbyl7IWZ1bmN0aW9uKGkscil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5hbWQpdChbXCJtb2R1bGVcIixcIi4vY2xpcGJvYXJkLWFjdGlvblwiLFwidGlueS1lbWl0dGVyXCIsXCJnb29kLWxpc3RlbmVyXCJdLHIpO2Vsc2UgaWYodm9pZCAwIT09bylyKG4sZShcIi4vY2xpcGJvYXJkLWFjdGlvblwiKSxlKFwidGlueS1lbWl0dGVyXCIpLGUoXCJnb29kLWxpc3RlbmVyXCIpKTtlbHNle3ZhciBhPXtleHBvcnRzOnt9fTtyKGEsaS5jbGlwYm9hcmRBY3Rpb24saS50aW55RW1pdHRlcixpLmdvb2RMaXN0ZW5lciksaS5jbGlwYm9hcmQ9YS5leHBvcnRzfX0odGhpcyxmdW5jdGlvbih0LGUsbixvKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1mdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gYyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIGwodCxlKXt2YXIgbj1cImRhdGEtY2xpcGJvYXJkLVwiK3Q7aWYoZS5oYXNBdHRyaWJ1dGUobikpcmV0dXJuIGUuZ2V0QXR0cmlidXRlKG4pfXZhciBzPWkoZSksdT1pKG4pLGY9aShvKSxkPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPWVbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24oZSxuLG8pe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLG8mJnQoZSxvKSxlfX0oKSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxuKXtyKHRoaXMsZSk7dmFyIG89YSh0aGlzLChlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKS5jYWxsKHRoaXMpKTtyZXR1cm4gby5yZXNvbHZlT3B0aW9ucyhuKSxvLmxpc3RlbkNsaWNrKHQpLG99cmV0dXJuIGMoZSx0KSxoKGUsW3trZXk6XCJyZXNvbHZlT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5hY3Rpb249XCJmdW5jdGlvblwiPT10eXBlb2YgZS5hY3Rpb24/ZS5hY3Rpb246dGhpcy5kZWZhdWx0QWN0aW9uLHRoaXMudGFyZ2V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGFyZ2V0P2UudGFyZ2V0OnRoaXMuZGVmYXVsdFRhcmdldCx0aGlzLnRleHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXh0P2UudGV4dDp0aGlzLmRlZmF1bHRUZXh0LHRoaXMuY29udGFpbmVyPVwib2JqZWN0XCI9PT1kKGUuY29udGFpbmVyKT9lLmNvbnRhaW5lcjpkb2N1bWVudC5ib2R5fX0se2tleTpcImxpc3RlbkNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24gdChlKXt2YXIgbj10aGlzO3RoaXMubGlzdGVuZXI9KDAsZi5kZWZhdWx0KShlLFwiY2xpY2tcIixmdW5jdGlvbih0KXtyZXR1cm4gbi5vbkNsaWNrKHQpfSl9fSx7a2V5Olwib25DbGlja1wiLHZhbHVlOmZ1bmN0aW9uIHQoZSl7dmFyIG49ZS5kZWxlZ2F0ZVRhcmdldHx8ZS5jdXJyZW50VGFyZ2V0O3RoaXMuY2xpcGJvYXJkQWN0aW9uJiYodGhpcy5jbGlwYm9hcmRBY3Rpb249bnVsbCksdGhpcy5jbGlwYm9hcmRBY3Rpb249bmV3IHMuZGVmYXVsdCh7YWN0aW9uOnRoaXMuYWN0aW9uKG4pLHRhcmdldDp0aGlzLnRhcmdldChuKSx0ZXh0OnRoaXMudGV4dChuKSxjb250YWluZXI6dGhpcy5jb250YWluZXIsdHJpZ2dlcjpuLGVtaXR0ZXI6dGhpc30pfX0se2tleTpcImRlZmF1bHRBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbiB0KGUpe3JldHVybiBsKFwiYWN0aW9uXCIsZSl9fSx7a2V5OlwiZGVmYXVsdFRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uIHQoZSl7dmFyIG49bChcInRhcmdldFwiLGUpO2lmKG4pcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobil9fSx7a2V5OlwiZGVmYXVsdFRleHRcIix2YWx1ZTpmdW5jdGlvbiB0KGUpe3JldHVybiBsKFwidGV4dFwiLGUpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbiB0KCl7dGhpcy5saXN0ZW5lci5kZXN0cm95KCksdGhpcy5jbGlwYm9hcmRBY3Rpb24mJih0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCksdGhpcy5jbGlwYm9hcmRBY3Rpb249bnVsbCl9fV0sW3trZXk6XCJpc1N1cHBvcnRlZFwiLHZhbHVlOmZ1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W1wiY29weVwiLFwiY3V0XCJdLG49XCJzdHJpbmdcIj09dHlwZW9mIGU/W2VdOmUsbz0hIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZDtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe289byYmISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQodCl9KSxvfX1dKSxlfSh1LmRlZmF1bHQpO3QuZXhwb3J0cz1wfSl9LHtcIi4vY2xpcGJvYXJkLWFjdGlvblwiOjcsXCJnb29kLWxpc3RlbmVyXCI6NCxcInRpbnktZW1pdHRlclwiOjZ9XX0se30sWzhdKSg4KX0pOy8vIEphdmFTY3JpcHQgRG9jdW1lbnQiLCIvKiEgalF1ZXJ5IFVJIC0gdjEuOS4yIC0gMjAxNi0xMi0yMVxyXG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cclxuKiBJbmNsdWRlczoganF1ZXJ5LnVpLmNvcmUuanMsIGpxdWVyeS51aS5kYXRlcGlja2VyLmpzXHJcbiogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqL1xyXG5cclxuKGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaShlLGkpe3ZhciBuLGEsbyxyPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImFyZWFcIj09PXI/KG49ZS5wYXJlbnROb2RlLGE9bi5uYW1lLGUuaHJlZiYmYSYmXCJtYXBcIj09PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT8obz10KFwiaW1nW3VzZW1hcD0jXCIrYStcIl1cIilbMF0sISFvJiZzKG8pKTohMSk6KC9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdC8udGVzdChyKT8hZS5kaXNhYmxlZDpcImFcIj09PXI/ZS5ocmVmfHxpOmkpJiZzKGUpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIHQuZXhwci5maWx0ZXJzLnZpc2libGUoZSkmJiF0KGUpLnBhcmVudHMoKS5hbmRTZWxmKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuXCJoaWRkZW5cIj09PXQuY3NzKHRoaXMsXCJ2aXNpYmlsaXR5XCIpfSkubGVuZ3RofXZhciBuPTAsYT0vXnVpLWlkLVxcZCskLzt0LnVpPXQudWl8fHt9LHQudWkudmVyc2lvbnx8KHQuZXh0ZW5kKHQudWkse3ZlcnNpb246XCIxLjkuMlwiLGtleUNvZGU6e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxOVU1QQURfQUREOjEwNyxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfTVVMVElQTFk6MTA2LE5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH19KSx0LmZuLmV4dGVuZCh7X2ZvY3VzOnQuZm4uZm9jdXMsZm9jdXM6ZnVuY3Rpb24oZSxpKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcz10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0KHMpLmZvY3VzKCksaSYmaS5jYWxsKHMpfSxlKX0pOnRoaXMuX2ZvY3VzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sc2Nyb2xsUGFyZW50OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9dC51aS5pZSYmLyhzdGF0aWN8cmVsYXRpdmUpLy50ZXN0KHRoaXMuY3NzKFwicG9zaXRpb25cIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoXCJwb3NpdGlvblwiKSk/dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhyZWxhdGl2ZXxhYnNvbHV0ZXxmaXhlZCkvLnRlc3QodC5jc3ModGhpcyxcInBvc2l0aW9uXCIpKSYmLyhhdXRvfHNjcm9sbCkvLnRlc3QodC5jc3ModGhpcyxcIm92ZXJmbG93XCIpK3QuY3NzKHRoaXMsXCJvdmVyZmxvdy15XCIpK3QuY3NzKHRoaXMsXCJvdmVyZmxvdy14XCIpKX0pLmVxKDApOnRoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8oYXV0b3xzY3JvbGwpLy50ZXN0KHQuY3NzKHRoaXMsXCJvdmVyZmxvd1wiKSt0LmNzcyh0aGlzLFwib3ZlcmZsb3cteVwiKSt0LmNzcyh0aGlzLFwib3ZlcmZsb3cteFwiKSl9KS5lcSgwKSwvZml4ZWQvLnRlc3QodGhpcy5jc3MoXCJwb3NpdGlvblwiKSl8fCFlLmxlbmd0aD90KGRvY3VtZW50KTplfSx6SW5kZXg6ZnVuY3Rpb24oaSl7aWYoaSE9PWUpcmV0dXJuIHRoaXMuY3NzKFwiekluZGV4XCIsaSk7aWYodGhpcy5sZW5ndGgpZm9yKHZhciBzLG4sYT10KHRoaXNbMF0pO2EubGVuZ3RoJiZhWzBdIT09ZG9jdW1lbnQ7KXtpZihzPWEuY3NzKFwicG9zaXRpb25cIiksKFwiYWJzb2x1dGVcIj09PXN8fFwicmVsYXRpdmVcIj09PXN8fFwiZml4ZWRcIj09PXMpJiYobj1wYXJzZUludChhLmNzcyhcInpJbmRleFwiKSwxMCksIWlzTmFOKG4pJiYwIT09bikpcmV0dXJuIG47YT1hLnBhcmVudCgpfXJldHVybiAwfSx1bmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD1cInVpLWlkLVwiKyArK24pfSl9LHJlbW92ZVVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2EudGVzdCh0aGlzLmlkKSYmdCh0aGlzKS5yZW1vdmVBdHRyKFwiaWRcIil9KX19KSx0LmV4dGVuZCh0LmV4cHJbXCI6XCJdLHtkYXRhOnQuZXhwci5jcmVhdGVQc2V1ZG8/dC5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuISF0LmRhdGEoaSxlKX19KTpmdW5jdGlvbihlLGkscyl7cmV0dXJuISF0LmRhdGEoZSxzWzNdKX0sZm9jdXNhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUsIWlzTmFOKHQuYXR0cihlLFwidGFiaW5kZXhcIikpKX0sdGFiYmFibGU6ZnVuY3Rpb24oZSl7dmFyIHM9dC5hdHRyKGUsXCJ0YWJpbmRleFwiKSxuPWlzTmFOKHMpO3JldHVybihufHxzPj0wKSYmaShlLCFuKX19KSx0KGZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuYm9keSxpPWUuYXBwZW5kQ2hpbGQoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtpLm9mZnNldEhlaWdodCx0LmV4dGVuZChpLnN0eWxlLHttaW5IZWlnaHQ6XCIxMDBweFwiLGhlaWdodDpcImF1dG9cIixwYWRkaW5nOjAsYm9yZGVyV2lkdGg6MH0pLHQuc3VwcG9ydC5taW5IZWlnaHQ9MTAwPT09aS5vZmZzZXRIZWlnaHQsdC5zdXBwb3J0LnNlbGVjdHN0YXJ0PVwib25zZWxlY3RzdGFydFwiaW4gaSxlLnJlbW92ZUNoaWxkKGkpLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9KSx0KFwiPGE+XCIpLm91dGVyV2lkdGgoMSkuanF1ZXJ5fHx0LmVhY2goW1wiV2lkdGhcIixcIkhlaWdodFwiXSxmdW5jdGlvbihpLHMpe2Z1bmN0aW9uIG4oZSxpLHMsbil7cmV0dXJuIHQuZWFjaChhLGZ1bmN0aW9uKCl7aS09cGFyc2VGbG9hdCh0LmNzcyhlLFwicGFkZGluZ1wiK3RoaXMpKXx8MCxzJiYoaS09cGFyc2VGbG9hdCh0LmNzcyhlLFwiYm9yZGVyXCIrdGhpcytcIldpZHRoXCIpKXx8MCksbiYmKGktPXBhcnNlRmxvYXQodC5jc3MoZSxcIm1hcmdpblwiK3RoaXMpKXx8MCl9KSxpfXZhciBhPVwiV2lkdGhcIj09PXM/W1wiTGVmdFwiLFwiUmlnaHRcIl06W1wiVG9wXCIsXCJCb3R0b21cIl0sbz1zLnRvTG93ZXJDYXNlKCkscj17aW5uZXJXaWR0aDp0LmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6dC5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOnQuZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDp0LmZuLm91dGVySGVpZ2h0fTt0LmZuW1wiaW5uZXJcIitzXT1mdW5jdGlvbihpKXtyZXR1cm4gaT09PWU/cltcImlubmVyXCIrc10uY2FsbCh0aGlzKTp0aGlzLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLmNzcyhvLG4odGhpcyxpKStcInB4XCIpfSl9LHQuZm5bXCJvdXRlclwiK3NdPWZ1bmN0aW9uKGUsaSl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGU/cltcIm91dGVyXCIrc10uY2FsbCh0aGlzLGUpOnRoaXMuZWFjaChmdW5jdGlvbigpe3QodGhpcykuY3NzKG8sbih0aGlzLGUsITAsaSkrXCJweFwiKX0pfX0pLHQoXCI8YT5cIikuZGF0YShcImEtYlwiLFwiYVwiKS5yZW1vdmVEYXRhKFwiYS1iXCIpLmRhdGEoXCJhLWJcIikmJih0LmZuLnJlbW92ZURhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2UuY2FsbCh0aGlzLHQuY2FtZWxDYXNlKGkpKTplLmNhbGwodGhpcyl9fSh0LmZuLnJlbW92ZURhdGEpKSxmdW5jdGlvbigpe3ZhciBlPS9tc2llIChbXFx3Ll0rKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpfHxbXTt0LnVpLmllPWUubGVuZ3RoPyEwOiExLHQudWkuaWU2PTY9PT1wYXJzZUZsb2F0KGVbMV0sMTApfSgpLHQuZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZCgodC5zdXBwb3J0LnNlbGVjdHN0YXJ0P1wic2VsZWN0c3RhcnRcIjpcIm1vdXNlZG93blwiKStcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpfSl9LGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZChcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIpfX0pLHQuZXh0ZW5kKHQudWkse3BsdWdpbjp7YWRkOmZ1bmN0aW9uKGUsaSxzKXt2YXIgbixhPXQudWlbZV0ucHJvdG90eXBlO2ZvcihuIGluIHMpYS5wbHVnaW5zW25dPWEucGx1Z2luc1tuXXx8W10sYS5wbHVnaW5zW25dLnB1c2goW2ksc1tuXV0pfSxjYWxsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxuPXQucGx1Z2luc1tlXTtpZihuJiZ0LmVsZW1lbnRbMF0ucGFyZW50Tm9kZSYmMTEhPT10LmVsZW1lbnRbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZSlmb3Iocz0wO24ubGVuZ3RoPnM7cysrKXQub3B0aW9uc1tuW3NdWzBdXSYmbltzXVsxXS5hcHBseSh0LmVsZW1lbnQsaSl9fSxjb250YWluczp0LmNvbnRhaW5zLGhhc1Njcm9sbDpmdW5jdGlvbihlLGkpe2lmKFwiaGlkZGVuXCI9PT10KGUpLmNzcyhcIm92ZXJmbG93XCIpKXJldHVybiExO3ZhciBzPWkmJlwibGVmdFwiPT09aT9cInNjcm9sbExlZnRcIjpcInNjcm9sbFRvcFwiLG49ITE7cmV0dXJuIGVbc10+MD8hMDooZVtzXT0xLG49ZVtzXT4wLGVbc109MCxuKX0saXNPdmVyQXhpczpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ+ZSYmZStpPnR9LGlzT3ZlcjpmdW5jdGlvbihlLGkscyxuLGEsbyl7cmV0dXJuIHQudWkuaXNPdmVyQXhpcyhlLHMsYSkmJnQudWkuaXNPdmVyQXhpcyhpLG4sbyl9fSkpfSkoalF1ZXJ5KTsoZnVuY3Rpb24oJCx1bmRlZmluZWQpe2Z1bmN0aW9uIERhdGVwaWNrZXIoKXt0aGlzLmRlYnVnPSExLHRoaXMuX2N1ckluc3Q9bnVsbCx0aGlzLl9rZXlFdmVudD0hMSx0aGlzLl9kaXNhYmxlZElucHV0cz1bXSx0aGlzLl9kYXRlcGlja2VyU2hvd2luZz0hMSx0aGlzLl9pbkRpYWxvZz0hMSx0aGlzLl9tYWluRGl2SWQ9XCJ1aS1kYXRlcGlja2VyLWRpdlwiLHRoaXMuX2lubGluZUNsYXNzPVwidWktZGF0ZXBpY2tlci1pbmxpbmVcIix0aGlzLl9hcHBlbmRDbGFzcz1cInVpLWRhdGVwaWNrZXItYXBwZW5kXCIsdGhpcy5fdHJpZ2dlckNsYXNzPVwidWktZGF0ZXBpY2tlci10cmlnZ2VyXCIsdGhpcy5fZGlhbG9nQ2xhc3M9XCJ1aS1kYXRlcGlja2VyLWRpYWxvZ1wiLHRoaXMuX2Rpc2FibGVDbGFzcz1cInVpLWRhdGVwaWNrZXItZGlzYWJsZWRcIix0aGlzLl91bnNlbGVjdGFibGVDbGFzcz1cInVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlXCIsdGhpcy5fY3VycmVudENsYXNzPVwidWktZGF0ZXBpY2tlci1jdXJyZW50LWRheVwiLHRoaXMuX2RheU92ZXJDbGFzcz1cInVpLWRhdGVwaWNrZXItZGF5cy1jZWxsLW92ZXJcIix0aGlzLnJlZ2lvbmFsPVtdLHRoaXMucmVnaW9uYWxbXCJcIl09e2Nsb3NlVGV4dDpcIkRvbmVcIixwcmV2VGV4dDpcItCf0YDQtdC00YvQtNGD0YnQuNC5INC80LXRgdGP0YZcIixuZXh0VGV4dDpcItCh0LvQtdC00YPRjtGJ0LjQuSDQvNC10YHRj9GGXCIsY3VycmVudFRleHQ6XCLQodC10LPQvtC00L3Rj1wiLG1vbnRoTmFtZXM6W1wi0K/QvdCy0LDRgNGPXCIsXCLQpNC10LLRgNCw0LvRj1wiLFwi0JzQsNGA0YLQsFwiLFwi0JDQv9GA0LXQu9GPXCIsXCLQnNCw0Y9cIixcItCY0Y7QvdGPXCIsXCLQmNGO0LvRj1wiLFwi0JDQstCz0YPRgdGC0LBcIixcItCh0LXQvdGC0Y/QsdGA0Y9cIixcItCe0LrRgtGP0LHRgNGPXCIsXCLQndC+0Y/QsdGA0Y9cIixcItCU0LXQutCw0LHRgNGPXCJdLG1vbnRoTmFtZXNTaG9ydDpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLGRheU5hbWVzOltcItCf0L7QvdC10LTQtdC70YzQvdC40LpcIixcItCS0YLQvtGA0L3QuNC6XCIsXCLQodGA0LXQtNCwXCIsXCLQp9C10YLQstC10YDQs1wiLFwi0J/Rj9GC0L3QuNGG0LBcIixcItCh0YPQsdCx0L7RgtCwXCIsXCLQktC+0YHQutGA0LXRgdC10L3RjNC1XCJdLGRheU5hbWVzU2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLGRheU5hbWVzTWluOltcItCS0KFcIixcItCf0J1cIixcItCS0KJcIixcItCh0KBcIixcItCn0KJcIixcItCf0KJcIixcItCh0JFcIl0sd2Vla0hlYWRlcjpcIldrXCIsZGF0ZUZvcm1hdDpcIm1tL2RkL3l5XCIsZmlyc3REYXk6MCxpc1JUTDohMSxzaG93TW9udGhBZnRlclllYXI6ITEseWVhclN1ZmZpeDpcIlwifSx0aGlzLl9kZWZhdWx0cz17c2hvd09uOlwiZm9jdXNcIixzaG93QW5pbTpcImZhZGVJblwiLHNob3dPcHRpb25zOnt9LGRlZmF1bHREYXRlOm51bGwsYXBwZW5kVGV4dDpcIlwiLGJ1dHRvblRleHQ6XCIuLi5cIixidXR0b25JbWFnZTpcIlwiLGJ1dHRvbkltYWdlT25seTohMSxoaWRlSWZOb1ByZXZOZXh0OiExLG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6ITEsZ290b0N1cnJlbnQ6ITEsY2hhbmdlTW9udGg6ITEsY2hhbmdlWWVhcjohMSx5ZWFyUmFuZ2U6XCJjLTEwOmMrMTBcIixzaG93T3RoZXJNb250aHM6ITEsc2VsZWN0T3RoZXJNb250aHM6ITEsc2hvd1dlZWs6ITEsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjpcIisxMFwiLG1pbkRhdGU6bnVsbCxtYXhEYXRlOm51bGwsZHVyYXRpb246XCJmYXN0XCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOlwiXCIsYWx0Rm9ybWF0OlwiXCIsY29uc3RyYWluSW5wdXQ6ITAsc2hvd0J1dHRvblBhbmVsOiExLGF1dG9TaXplOiExLGRpc2FibGVkOiExfSwkLmV4dGVuZCh0aGlzLl9kZWZhdWx0cyx0aGlzLnJlZ2lvbmFsW1wiXCJdKSx0aGlzLmRwRGl2PWJpbmRIb3ZlcigkKCc8ZGl2IGlkPVwiJyt0aGlzLl9tYWluRGl2SWQrJ1wiIGNsYXNzPVwidWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGxcIj48L2Rpdj4nKSl9ZnVuY3Rpb24gYmluZEhvdmVyKHQpe3ZhciBlPVwiYnV0dG9uLCAudWktZGF0ZXBpY2tlci1wcmV2LCAudWktZGF0ZXBpY2tlci1uZXh0LCAudWktZGF0ZXBpY2tlci1jYWxlbmRhciB0ZCBhXCI7cmV0dXJuIHQuZGVsZWdhdGUoZSxcIm1vdXNlb3V0XCIsZnVuY3Rpb24oKXskKHRoaXMpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtaG92ZXJcIiksLTEhPXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1kYXRlcGlja2VyLXByZXZcIikmJiQodGhpcykucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXJcIiksLTEhPXRoaXMuY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1kYXRlcGlja2VyLW5leHRcIikmJiQodGhpcykucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXJcIil9KS5kZWxlZ2F0ZShlLFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKXskLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKGluc3RBY3RpdmUuaW5saW5lP3QucGFyZW50KClbMF06aW5zdEFjdGl2ZS5pbnB1dFswXSl8fCgkKHRoaXMpLnBhcmVudHMoXCIudWktZGF0ZXBpY2tlci1jYWxlbmRhclwiKS5maW5kKFwiYVwiKS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpLCQodGhpcykuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSwtMSE9dGhpcy5jbGFzc05hbWUuaW5kZXhPZihcInVpLWRhdGVwaWNrZXItcHJldlwiKSYmJCh0aGlzKS5hZGRDbGFzcyhcInVpLWRhdGVwaWNrZXItcHJldi1ob3ZlclwiKSwtMSE9dGhpcy5jbGFzc05hbWUuaW5kZXhPZihcInVpLWRhdGVwaWNrZXItbmV4dFwiKSYmJCh0aGlzKS5hZGRDbGFzcyhcInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlclwiKSl9KX1mdW5jdGlvbiBleHRlbmRSZW1vdmUodCxlKXskLmV4dGVuZCh0LGUpO2Zvcih2YXIgaSBpbiBlKShudWxsPT1lW2ldfHxlW2ldPT11bmRlZmluZWQpJiYodFtpXT1lW2ldKTtyZXR1cm4gdH0kLmV4dGVuZCgkLnVpLHtkYXRlcGlja2VyOnt2ZXJzaW9uOlwiMS45LjJcIn19KTt2YXIgUFJPUF9OQU1FPVwiZGF0ZXBpY2tlclwiLGRwdXVpZD0obmV3IERhdGUpLmdldFRpbWUoKSxpbnN0QWN0aXZlOyQuZXh0ZW5kKERhdGVwaWNrZXIucHJvdG90eXBlLHttYXJrZXJDbGFzc05hbWU6XCJoYXNEYXRlcGlja2VyXCIsbWF4Um93czo0LGxvZzpmdW5jdGlvbigpe3RoaXMuZGVidWcmJmNvbnNvbGUubG9nLmFwcGx5KFwiXCIsYXJndW1lbnRzKX0sX3dpZGdldERhdGVwaWNrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcERpdn0sc2V0RGVmYXVsdHM6ZnVuY3Rpb24odCl7cmV0dXJuIGV4dGVuZFJlbW92ZSh0aGlzLl9kZWZhdWx0cyx0fHx7fSksdGhpc30sX2F0dGFjaERhdGVwaWNrZXI6ZnVuY3Rpb24odGFyZ2V0LHNldHRpbmdzKXt2YXIgaW5saW5lU2V0dGluZ3M9bnVsbDtmb3IodmFyIGF0dHJOYW1lIGluIHRoaXMuX2RlZmF1bHRzKXt2YXIgYXR0clZhbHVlPXRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRlOlwiK2F0dHJOYW1lKTtpZihhdHRyVmFsdWUpe2lubGluZVNldHRpbmdzPWlubGluZVNldHRpbmdzfHx7fTt0cnl7aW5saW5lU2V0dGluZ3NbYXR0ck5hbWVdPWV2YWwoYXR0clZhbHVlKX1jYXRjaChlcnIpe2lubGluZVNldHRpbmdzW2F0dHJOYW1lXT1hdHRyVmFsdWV9fX12YXIgbm9kZU5hbWU9dGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaW5saW5lPVwiZGl2XCI9PW5vZGVOYW1lfHxcInNwYW5cIj09bm9kZU5hbWU7dGFyZ2V0LmlkfHwodGhpcy51dWlkKz0xLHRhcmdldC5pZD1cImRwXCIrdGhpcy51dWlkKTt2YXIgaW5zdD10aGlzLl9uZXdJbnN0KCQodGFyZ2V0KSxpbmxpbmUpO2luc3Quc2V0dGluZ3M9JC5leHRlbmQoe30sc2V0dGluZ3N8fHt9LGlubGluZVNldHRpbmdzfHx7fSksXCJpbnB1dFwiPT1ub2RlTmFtZT90aGlzLl9jb25uZWN0RGF0ZXBpY2tlcih0YXJnZXQsaW5zdCk6aW5saW5lJiZ0aGlzLl9pbmxpbmVEYXRlcGlja2VyKHRhcmdldCxpbnN0KX0sX25ld0luc3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT10WzBdLmlkLnJlcGxhY2UoLyhbXkEtWmEtejAtOV8tXSkvZyxcIlxcXFxcXFxcJDFcIik7cmV0dXJue2lkOmksaW5wdXQ6dCxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTplLGRwRGl2OmU/YmluZEhvdmVyKCQoJzxkaXYgY2xhc3M9XCInK3RoaXMuX2lubGluZUNsYXNzKycgdWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGxcIj48L2Rpdj4nKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUpe3ZhciBpPSQodCk7ZS5hcHBlbmQ9JChbXSksZS50cmlnZ2VyPSQoW10pLGkuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMoaSxlKSxpLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5rZXlkb3duKHRoaXMuX2RvS2V5RG93bikua2V5cHJlc3ModGhpcy5fZG9LZXlQcmVzcykua2V5dXAodGhpcy5fZG9LZXlVcCkuYmluZChcInNldERhdGEuZGF0ZXBpY2tlclwiLGZ1bmN0aW9uKHQsaSxzKXtlLnNldHRpbmdzW2ldPXN9KS5iaW5kKFwiZ2V0RGF0YS5kYXRlcGlja2VyXCIsZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5fZ2V0KGUsaSl9KSx0aGlzLl9hdXRvU2l6ZShlKSwkLmRhdGEodCxQUk9QX05BTUUsZSksZS5zZXR0aW5ncy5kaXNhYmxlZCYmdGhpcy5fZGlzYWJsZURhdGVwaWNrZXIodCkpfSxfYXR0YWNobWVudHM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXQoZSxcImFwcGVuZFRleHRcIikscz10aGlzLl9nZXQoZSxcImlzUlRMXCIpO2UuYXBwZW5kJiZlLmFwcGVuZC5yZW1vdmUoKSxpJiYoZS5hcHBlbmQ9JCgnPHNwYW4gY2xhc3M9XCInK3RoaXMuX2FwcGVuZENsYXNzKydcIj4nK2krXCI8L3NwYW4+XCIpLHRbcz9cImJlZm9yZVwiOlwiYWZ0ZXJcIl0oZS5hcHBlbmQpKSx0LnVuYmluZChcImZvY3VzXCIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpLGUudHJpZ2dlciYmZS50cmlnZ2VyLnJlbW92ZSgpO3ZhciBuPXRoaXMuX2dldChlLFwic2hvd09uXCIpO2lmKChcImZvY3VzXCI9PW58fFwiYm90aFwiPT1uKSYmdC5mb2N1cyh0aGlzLl9zaG93RGF0ZXBpY2tlciksXCJidXR0b25cIj09bnx8XCJib3RoXCI9PW4pe3ZhciBhPXRoaXMuX2dldChlLFwiYnV0dG9uVGV4dFwiKSxvPXRoaXMuX2dldChlLFwiYnV0dG9uSW1hZ2VcIik7ZS50cmlnZ2VyPSQodGhpcy5fZ2V0KGUsXCJidXR0b25JbWFnZU9ubHlcIik/JChcIjxpbWcvPlwiKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmF0dHIoe3NyYzpvLGFsdDphLHRpdGxlOmF9KTokKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIj48L2J1dHRvbj4nKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmh0bWwoXCJcIj09bz9hOiQoXCI8aW1nLz5cIikuYXR0cih7c3JjOm8sYWx0OmEsdGl0bGU6YX0pKSksdFtzP1wiYmVmb3JlXCI6XCJhZnRlclwiXShlLnRyaWdnZXIpLGUudHJpZ2dlci5jbGljayhmdW5jdGlvbigpe3JldHVybiAkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiYkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD09dFswXT8kLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk6JC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmJC5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPXRbMF0/KCQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSwkLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKHRbMF0pKTokLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKHRbMF0pLCExfSl9fSxfYXV0b1NpemU6ZnVuY3Rpb24odCl7aWYodGhpcy5fZ2V0KHQsXCJhdXRvU2l6ZVwiKSYmIXQuaW5saW5lKXt2YXIgZT1uZXcgRGF0ZSgyMDA5LDExLDIwKSxpPXRoaXMuX2dldCh0LFwiZGF0ZUZvcm1hdFwiKTtpZihpLm1hdGNoKC9bRE1dLykpe3ZhciBzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9MCxzPTA7dC5sZW5ndGg+cztzKyspdFtzXS5sZW5ndGg+ZSYmKGU9dFtzXS5sZW5ndGgsaT1zKTtyZXR1cm4gaX07ZS5zZXRNb250aChzKHRoaXMuX2dldCh0LGkubWF0Y2goL01NLyk/XCJtb250aE5hbWVzXCI6XCJtb250aE5hbWVzU2hvcnRcIikpKSxlLnNldERhdGUocyh0aGlzLl9nZXQodCxpLm1hdGNoKC9ERC8pP1wiZGF5TmFtZXNcIjpcImRheU5hbWVzU2hvcnRcIikpKzIwLWUuZ2V0RGF5KCkpfXQuaW5wdXQuYXR0cihcInNpemVcIix0aGlzLl9mb3JtYXREYXRlKHQsZSkubGVuZ3RoKX19LF9pbmxpbmVEYXRlcGlja2VyOmZ1bmN0aW9uKHQsZSl7dmFyIGk9JCh0KTtpLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKXx8KGkuYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmFwcGVuZChlLmRwRGl2KS5iaW5kKFwic2V0RGF0YS5kYXRlcGlja2VyXCIsZnVuY3Rpb24odCxpLHMpe2Uuc2V0dGluZ3NbaV09c30pLmJpbmQoXCJnZXREYXRhLmRhdGVwaWNrZXJcIixmdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLl9nZXQoZSxpKX0pLCQuZGF0YSh0LFBST1BfTkFNRSxlKSx0aGlzLl9zZXREYXRlKGUsdGhpcy5fZ2V0RGVmYXVsdERhdGUoZSksITApLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoZSksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGUpLGUuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpLGUuZHBEaXYuY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIikpfSxfZGlhbG9nRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGUsaSxzLG4pe3ZhciBhPXRoaXMuX2RpYWxvZ0luc3Q7aWYoIWEpe3RoaXMudXVpZCs9MTt2YXIgbz1cImRwXCIrdGhpcy51dWlkO3RoaXMuX2RpYWxvZ0lucHV0PSQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiJytvKydcIiBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMTAwcHg7IHdpZHRoOiAwcHg7XCIvPicpLHRoaXMuX2RpYWxvZ0lucHV0LmtleWRvd24odGhpcy5fZG9LZXlEb3duKSwkKFwiYm9keVwiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLGE9dGhpcy5fZGlhbG9nSW5zdD10aGlzLl9uZXdJbnN0KHRoaXMuX2RpYWxvZ0lucHV0LCExKSxhLnNldHRpbmdzPXt9LCQuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSxQUk9QX05BTUUsYSl9aWYoZXh0ZW5kUmVtb3ZlKGEuc2V0dGluZ3Msc3x8e30pLGU9ZSYmZS5jb25zdHJ1Y3Rvcj09RGF0ZT90aGlzLl9mb3JtYXREYXRlKGEsZSk6ZSx0aGlzLl9kaWFsb2dJbnB1dC52YWwoZSksdGhpcy5fcG9zPW4/bi5sZW5ndGg/bjpbbi5wYWdlWCxuLnBhZ2VZXTpudWxsLCF0aGlzLl9wb3Mpe3ZhciByPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxoPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsbD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LHU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7dGhpcy5fcG9zPVtyLzItMTAwK2wsaC8yLTE1MCt1XX1yZXR1cm4gdGhpcy5fZGlhbG9nSW5wdXQuY3NzKFwibGVmdFwiLHRoaXMuX3Bvc1swXSsyMCtcInB4XCIpLmNzcyhcInRvcFwiLHRoaXMuX3Bvc1sxXStcInB4XCIpLGEuc2V0dGluZ3Mub25TZWxlY3Q9aSx0aGlzLl9pbkRpYWxvZz0hMCx0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKSx0aGlzLl9zaG93RGF0ZXBpY2tlcih0aGlzLl9kaWFsb2dJbnB1dFswXSksJC5ibG9ja1VJJiYkLmJsb2NrVUkodGhpcy5kcERpdiksJC5kYXRhKHRoaXMuX2RpYWxvZ0lucHV0WzBdLFBST1BfTkFNRSxhKSx0aGlzfSxfZGVzdHJveURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGU9JCh0KSxpPSQuZGF0YSh0LFBST1BfTkFNRSk7aWYoZS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkpe3ZhciBzPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTskLnJlbW92ZURhdGEodCxQUk9QX05BTUUpLFwiaW5wdXRcIj09cz8oaS5hcHBlbmQucmVtb3ZlKCksaS50cmlnZ2VyLnJlbW92ZSgpLGUucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLnVuYmluZChcImZvY3VzXCIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpLnVuYmluZChcImtleWRvd25cIix0aGlzLl9kb0tleURvd24pLnVuYmluZChcImtleXByZXNzXCIsdGhpcy5fZG9LZXlQcmVzcykudW5iaW5kKFwia2V5dXBcIix0aGlzLl9kb0tleVVwKSk6KFwiZGl2XCI9PXN8fFwic3BhblwiPT1zKSYmZS5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuZW1wdHkoKX19LF9lbmFibGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBlPSQodCksaT0kLmRhdGEodCxQUk9QX05BTUUpO2lmKGUuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKXt2YXIgcz10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoXCJpbnB1dFwiPT1zKXQuZGlzYWJsZWQ9ITEsaS50cmlnZ2VyLmZpbHRlcihcImJ1dHRvblwiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMX0pLmVuZCgpLmZpbHRlcihcImltZ1wiKS5jc3Moe29wYWNpdHk6XCIxLjBcIixjdXJzb3I6XCJcIn0pO2Vsc2UgaWYoXCJkaXZcIj09c3x8XCJzcGFuXCI9PXMpe3ZhciBuPWUuY2hpbGRyZW4oXCIuXCIrdGhpcy5faW5saW5lQ2xhc3MpO24uY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpLG4uZmluZChcInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyXCIpLnByb3AoXCJkaXNhYmxlZFwiLCExKX10aGlzLl9kaXNhYmxlZElucHV0cz0kLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxmdW5jdGlvbihlKXtyZXR1cm4gZT09dD9udWxsOmV9KX19LF9kaXNhYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgZT0kKHQpLGk9JC5kYXRhKHQsUFJPUF9OQU1FKTtpZihlLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSl7dmFyIHM9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwiaW5wdXRcIj09cyl0LmRpc2FibGVkPSEwLGkudHJpZ2dlci5maWx0ZXIoXCJidXR0b25cIikuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9KS5lbmQoKS5maWx0ZXIoXCJpbWdcIikuY3NzKHtvcGFjaXR5OlwiMC41XCIsY3Vyc29yOlwiZGVmYXVsdFwifSk7ZWxzZSBpZihcImRpdlwiPT1zfHxcInNwYW5cIj09cyl7dmFyIG49ZS5jaGlsZHJlbihcIi5cIit0aGlzLl9pbmxpbmVDbGFzcyk7bi5jaGlsZHJlbigpLmFkZENsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIiksbi5maW5kKFwic2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgsIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXJcIikucHJvcChcImRpc2FibGVkXCIsITApfXRoaXMuX2Rpc2FibGVkSW5wdXRzPSQubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKGUpe3JldHVybiBlPT10P251bGw6ZX0pLHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aF09dH19LF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXtpZighdClyZXR1cm4hMTtmb3IodmFyIGU9MDt0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGg+ZTtlKyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbZV09PXQpcmV0dXJuITA7cmV0dXJuITF9LF9nZXRJbnN0OmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gJC5kYXRhKHQsUFJPUF9OQU1FKX1jYXRjaChlKXt0aHJvd1wiTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXJcIn19LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLl9nZXRJbnN0KHQpO2lmKDI9PWFyZ3VtZW50cy5sZW5ndGgmJlwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVyblwiZGVmYXVsdHNcIj09ZT8kLmV4dGVuZCh7fSwkLmRhdGVwaWNrZXIuX2RlZmF1bHRzKTpzP1wiYWxsXCI9PWU/JC5leHRlbmQoe30scy5zZXR0aW5ncyk6dGhpcy5fZ2V0KHMsZSk6bnVsbDt2YXIgbj1lfHx7fTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKG49e30sbltlXT1pKSxzKXt0aGlzLl9jdXJJbnN0PT1zJiZ0aGlzLl9oaWRlRGF0ZXBpY2tlcigpO3ZhciBhPXRoaXMuX2dldERhdGVEYXRlcGlja2VyKHQsITApLG89dGhpcy5fZ2V0TWluTWF4RGF0ZShzLFwibWluXCIpLHI9dGhpcy5fZ2V0TWluTWF4RGF0ZShzLFwibWF4XCIpO2V4dGVuZFJlbW92ZShzLnNldHRpbmdzLG4pLG51bGwhPT1vJiZuLmRhdGVGb3JtYXQhPT11bmRlZmluZWQmJm4ubWluRGF0ZT09PXVuZGVmaW5lZCYmKHMuc2V0dGluZ3MubWluRGF0ZT10aGlzLl9mb3JtYXREYXRlKHMsbykpLG51bGwhPT1yJiZuLmRhdGVGb3JtYXQhPT11bmRlZmluZWQmJm4ubWF4RGF0ZT09PXVuZGVmaW5lZCYmKHMuc2V0dGluZ3MubWF4RGF0ZT10aGlzLl9mb3JtYXREYXRlKHMscikpLHRoaXMuX2F0dGFjaG1lbnRzKCQodCkscyksdGhpcy5fYXV0b1NpemUocyksdGhpcy5fc2V0RGF0ZShzLGEpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShzKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKHMpfX0sX2NoYW5nZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX29wdGlvbkRhdGVwaWNrZXIodCxlLGkpfSxfcmVmcmVzaERhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0SW5zdCh0KTtlJiZ0aGlzLl91cGRhdGVEYXRlcGlja2VyKGUpfSxfc2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRJbnN0KHQpO2kmJih0aGlzLl9zZXREYXRlKGksZSksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoaSkpfSxfZ2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRJbnN0KHQpO3JldHVybiBpJiYhaS5pbmxpbmUmJnRoaXMuX3NldERhdGVGcm9tRmllbGQoaSxlKSxpP3RoaXMuX2dldERhdGUoaSk6bnVsbH0sX2RvS2V5RG93bjpmdW5jdGlvbih0KXt2YXIgZT0kLmRhdGVwaWNrZXIuX2dldEluc3QodC50YXJnZXQpLGk9ITAscz1lLmRwRGl2LmlzKFwiLnVpLWRhdGVwaWNrZXItcnRsXCIpO2lmKGUuX2tleUV2ZW50PSEwLCQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcpc3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA5OiQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSxpPSExO2JyZWFrO2Nhc2UgMTM6dmFyIG49JChcInRkLlwiKyQuZGF0ZXBpY2tlci5fZGF5T3ZlckNsYXNzK1wiOm5vdCguXCIrJC5kYXRlcGlja2VyLl9jdXJyZW50Q2xhc3MrXCIpXCIsZS5kcERpdik7blswXSYmJC5kYXRlcGlja2VyLl9zZWxlY3REYXkodC50YXJnZXQsZS5zZWxlY3RlZE1vbnRoLGUuc2VsZWN0ZWRZZWFyLG5bMF0pO3ZhciBhPSQuZGF0ZXBpY2tlci5fZ2V0KGUsXCJvblNlbGVjdFwiKTtpZihhKXt2YXIgbz0kLmRhdGVwaWNrZXIuX2Zvcm1hdERhdGUoZSk7YS5hcHBseShlLmlucHV0P2UuaW5wdXRbMF06bnVsbCxbbyxlXSl9ZWxzZSAkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7cmV0dXJuITE7Y2FzZSAyNzokLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7YnJlYWs7Y2FzZSAzMzokLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5Py0kLmRhdGVwaWNrZXIuX2dldChlLFwic3RlcEJpZ01vbnRoc1wiKTotJC5kYXRlcGlja2VyLl9nZXQoZSxcInN0ZXBNb250aHNcIiksXCJNXCIpO2JyZWFrO2Nhc2UgMzQ6JC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8rJC5kYXRlcGlja2VyLl9nZXQoZSxcInN0ZXBCaWdNb250aHNcIik6KyQuZGF0ZXBpY2tlci5fZ2V0KGUsXCJzdGVwTW9udGhzXCIpLFwiTVwiKTticmVhaztjYXNlIDM1Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJiQuZGF0ZXBpY2tlci5fY2xlYXJEYXRlKHQudGFyZ2V0KSxpPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzY6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmJC5kYXRlcGlja2VyLl9nb3RvVG9kYXkodC50YXJnZXQpLGk9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzNzoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiYkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQscz8xOi0xLFwiRFwiKSxpPXQuY3RybEtleXx8dC5tZXRhS2V5LHQub3JpZ2luYWxFdmVudC5hbHRLZXkmJiQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/LSQuZGF0ZXBpY2tlci5fZ2V0KGUsXCJzdGVwQmlnTW9udGhzXCIpOi0kLmRhdGVwaWNrZXIuX2dldChlLFwic3RlcE1vbnRoc1wiKSxcIk1cIik7YnJlYWs7Y2FzZSAzODoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiYkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsLTcsXCJEXCIpLGk9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzOToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiYkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQscz8tMToxLFwiRFwiKSxpPXQuY3RybEtleXx8dC5tZXRhS2V5LHQub3JpZ2luYWxFdmVudC5hbHRLZXkmJiQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/KyQuZGF0ZXBpY2tlci5fZ2V0KGUsXCJzdGVwQmlnTW9udGhzXCIpOiskLmRhdGVwaWNrZXIuX2dldChlLFwic3RlcE1vbnRoc1wiKSxcIk1cIik7YnJlYWs7Y2FzZSA0MDoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiYkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsNyxcIkRcIiksaT10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztkZWZhdWx0Omk9ITF9ZWxzZSAzNj09dC5rZXlDb2RlJiZ0LmN0cmxLZXk/JC5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0aGlzKTppPSExO2kmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSl9LF9kb0tleVByZXNzOmZ1bmN0aW9uKHQpe3ZhciBlPSQuZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYoJC5kYXRlcGlja2VyLl9nZXQoZSxcImNvbnN0cmFpbklucHV0XCIpKXt2YXIgaT0kLmRhdGVwaWNrZXIuX3Bvc3NpYmxlQ2hhcnMoJC5kYXRlcGlja2VyLl9nZXQoZSxcImRhdGVGb3JtYXRcIikpLHM9U3RyaW5nLmZyb21DaGFyQ29kZSh0LmNoYXJDb2RlPT11bmRlZmluZWQ/dC5rZXlDb2RlOnQuY2hhckNvZGUpO3JldHVybiB0LmN0cmxLZXl8fHQubWV0YUtleXx8XCIgXCI+c3x8IWl8fGkuaW5kZXhPZihzKT4tMX19LF9kb0tleVVwOmZ1bmN0aW9uKHQpe3ZhciBlPSQuZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYoZS5pbnB1dC52YWwoKSE9ZS5sYXN0VmFsKXRyeXt2YXIgaT0kLmRhdGVwaWNrZXIucGFyc2VEYXRlKCQuZGF0ZXBpY2tlci5fZ2V0KGUsXCJkYXRlRm9ybWF0XCIpLGUuaW5wdXQ/ZS5pbnB1dC52YWwoKTpudWxsLCQuZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKGUpKTtpJiYoJC5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGUpLCQuZGF0ZXBpY2tlci5fdXBkYXRlQWx0ZXJuYXRlKGUpLCQuZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcihlKSl9Y2F0Y2gocyl7JC5kYXRlcGlja2VyLmxvZyhzKX1yZXR1cm4hMH0sX3Nob3dEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe2lmKHQ9dC50YXJnZXR8fHQsXCJpbnB1dFwiIT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJih0PSQoXCJpbnB1dFwiLHQucGFyZW50Tm9kZSlbMF0pLCEkLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKHQpJiYkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCE9dCl7dmFyIGU9JC5kYXRlcGlja2VyLl9nZXRJbnN0KHQpOyQuZGF0ZXBpY2tlci5fY3VySW5zdCYmJC5kYXRlcGlja2VyLl9jdXJJbnN0IT1lJiYoJC5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AoITAsITApLGUmJiQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJiQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoJC5kYXRlcGlja2VyLl9jdXJJbnN0LmlucHV0WzBdKSk7dmFyIGk9JC5kYXRlcGlja2VyLl9nZXQoZSxcImJlZm9yZVNob3dcIikscz1pP2kuYXBwbHkodCxbdCxlXSk6e307aWYocyE9PSExKXtleHRlbmRSZW1vdmUoZS5zZXR0aW5ncyxzKSxlLmxhc3RWYWw9bnVsbCwkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD10LCQuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChlKSwkLmRhdGVwaWNrZXIuX2luRGlhbG9nJiYodC52YWx1ZT1cIlwiKSwkLmRhdGVwaWNrZXIuX3Bvc3x8KCQuZGF0ZXBpY2tlci5fcG9zPSQuZGF0ZXBpY2tlci5fZmluZFBvcyh0KSwkLmRhdGVwaWNrZXIuX3Bvc1sxXSs9dC5vZmZzZXRIZWlnaHQpO3ZhciBuPSExOyQodCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gbnw9XCJmaXhlZFwiPT0kKHRoaXMpLmNzcyhcInBvc2l0aW9uXCIpLCFufSk7dmFyIGE9e2xlZnQ6JC5kYXRlcGlja2VyLl9wb3NbMF0sdG9wOiQuZGF0ZXBpY2tlci5fcG9zWzFdfTtpZigkLmRhdGVwaWNrZXIuX3Bvcz1udWxsLGUuZHBEaXYuZW1wdHkoKSxlLmRwRGl2LmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGRpc3BsYXk6XCJibG9ja1wiLHRvcDpcIi0xMDAwcHhcIn0pLCQuZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcihlKSxhPSQuZGF0ZXBpY2tlci5fY2hlY2tPZmZzZXQoZSxhLG4pLGUuZHBEaXYuY3NzKHtwb3NpdGlvbjokLmRhdGVwaWNrZXIuX2luRGlhbG9nJiYkLmJsb2NrVUk/XCJzdGF0aWNcIjpuP1wiZml4ZWRcIjpcImFic29sdXRlXCIsZGlzcGxheTpcIm5vbmVcIixsZWZ0OmEubGVmdCtcInB4XCIsdG9wOmEudG9wK1wicHhcIn0pLCFlLmlubGluZSl7dmFyIG89JC5kYXRlcGlja2VyLl9nZXQoZSxcInNob3dBbmltXCIpLHI9JC5kYXRlcGlja2VyLl9nZXQoZSxcImR1cmF0aW9uXCIpLGg9ZnVuY3Rpb24oKXt2YXIgdD1lLmRwRGl2LmZpbmQoXCJpZnJhbWUudWktZGF0ZXBpY2tlci1jb3ZlclwiKTtpZih0Lmxlbmd0aCl7dmFyIGk9JC5kYXRlcGlja2VyLl9nZXRCb3JkZXJzKGUuZHBEaXYpO3QuY3NzKHtsZWZ0Oi1pWzBdLHRvcDotaVsxXSx3aWR0aDplLmRwRGl2Lm91dGVyV2lkdGgoKSxoZWlnaHQ6ZS5kcERpdi5vdXRlckhlaWdodCgpfSl9fTtlLmRwRGl2LnpJbmRleCgkKHQpLnpJbmRleCgpKzEpLCQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmc9ITAsJC5lZmZlY3RzJiYoJC5lZmZlY3RzLmVmZmVjdFtvXXx8JC5lZmZlY3RzW29dKT9lLmRwRGl2LnNob3cobywkLmRhdGVwaWNrZXIuX2dldChlLFwic2hvd09wdGlvbnNcIikscixoKTplLmRwRGl2W298fFwic2hvd1wiXShvP3I6bnVsbCxoKSxvJiZyfHxoKCksZS5pbnB1dC5pcyhcIjp2aXNpYmxlXCIpJiYhZS5pbnB1dC5pcyhcIjpkaXNhYmxlZFwiKSYmZS5pbnB1dC5mb2N1cygpLCQuZGF0ZXBpY2tlci5fY3VySW5zdD1lfX19fSxfdXBkYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt0aGlzLm1heFJvd3M9NDt2YXIgZT0kLmRhdGVwaWNrZXIuX2dldEJvcmRlcnModC5kcERpdik7aW5zdEFjdGl2ZT10LHQuZHBEaXYuZW1wdHkoKS5hcHBlbmQodGhpcy5fZ2VuZXJhdGVIVE1MKHQpKSx0aGlzLl9hdHRhY2hIYW5kbGVycyh0KTt2YXIgaT10LmRwRGl2LmZpbmQoXCJpZnJhbWUudWktZGF0ZXBpY2tlci1jb3ZlclwiKTtpLmxlbmd0aCYmaS5jc3Moe2xlZnQ6LWVbMF0sdG9wOi1lWzFdLHdpZHRoOnQuZHBEaXYub3V0ZXJXaWR0aCgpLGhlaWdodDp0LmRwRGl2Lm91dGVySGVpZ2h0KCl9KSx0LmRwRGl2LmZpbmQoXCIuXCIrdGhpcy5fZGF5T3ZlckNsYXNzK1wiIGFcIikubW91c2VvdmVyKCk7dmFyIHM9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksbj1zWzFdLGE9MTc7aWYodC5kcERpdi5yZW1vdmVDbGFzcyhcInVpLWRhdGVwaWNrZXItbXVsdGktMiB1aS1kYXRlcGlja2VyLW11bHRpLTMgdWktZGF0ZXBpY2tlci1tdWx0aS00XCIpLndpZHRoKFwiXCIpLG4+MSYmdC5kcERpdi5hZGRDbGFzcyhcInVpLWRhdGVwaWNrZXItbXVsdGktXCIrbikuY3NzKFwid2lkdGhcIixcIjEwMCVcIiksdC5kcERpdlsoMSE9c1swXXx8MSE9c1sxXT9cImFkZFwiOlwicmVtb3ZlXCIpK1wiQ2xhc3NcIl0oXCJ1aS1kYXRlcGlja2VyLW11bHRpXCIpLHQuZHBEaXZbKHRoaXMuX2dldCh0LFwiaXNSVExcIik/XCJhZGRcIjpcInJlbW92ZVwiKStcIkNsYXNzXCJdKFwidWktZGF0ZXBpY2tlci1ydGxcIiksdD09JC5kYXRlcGlja2VyLl9jdXJJbnN0JiYkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZ0LmlucHV0JiZ0LmlucHV0LmlzKFwiOnZpc2libGVcIikmJiF0LmlucHV0LmlzKFwiOmRpc2FibGVkXCIpJiZ0LmlucHV0WzBdIT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiZ0LmlucHV0LmZvY3VzKCksdC55ZWFyc2h0bWwpe3ZhciBvPXQueWVhcnNodG1sO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtvPT09dC55ZWFyc2h0bWwmJnQueWVhcnNodG1sJiZ0LmRwRGl2LmZpbmQoXCJzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyOmZpcnN0XCIpLnJlcGxhY2VXaXRoKHQueWVhcnNodG1sKSxvPXQueWVhcnNodG1sPW51bGx9LDApfX0sX2dldEJvcmRlcnM6ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJue3RoaW46MSxtZWRpdW06Mix0aGljazozfVt0XXx8dH07cmV0dXJuW3BhcnNlRmxvYXQoZSh0LmNzcyhcImJvcmRlci1sZWZ0LXdpZHRoXCIpKSkscGFyc2VGbG9hdChlKHQuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKSkpXX0sX2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10LmRwRGl2Lm91dGVyV2lkdGgoKSxuPXQuZHBEaXYub3V0ZXJIZWlnaHQoKSxhPXQuaW5wdXQ/dC5pbnB1dC5vdXRlcldpZHRoKCk6MCxvPXQuaW5wdXQ/dC5pbnB1dC5vdXRlckhlaWdodCgpOjAscj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgrKGk/MDokKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkpLGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCsoaT8wOiQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKTtyZXR1cm4gZS5sZWZ0LT10aGlzLl9nZXQodCxcImlzUlRMXCIpP3MtYTowLGUubGVmdC09aSYmZS5sZWZ0PT10LmlucHV0Lm9mZnNldCgpLmxlZnQ/JChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpOjAsZS50b3AtPWkmJmUudG9wPT10LmlucHV0Lm9mZnNldCgpLnRvcCtvPyQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpOjAsZS5sZWZ0LT1NYXRoLm1pbihlLmxlZnQsZS5sZWZ0K3M+ciYmcj5zP01hdGguYWJzKGUubGVmdCtzLXIpOjApLGUudG9wLT1NYXRoLm1pbihlLnRvcCxlLnRvcCtuPmgmJmg+bj9NYXRoLmFicyhuK28pOjApLGV9LF9maW5kUG9zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9nZXRJbnN0KHQpLGk9dGhpcy5fZ2V0KGUsXCJpc1JUTFwiKTt0JiYoXCJoaWRkZW5cIj09dC50eXBlfHwxIT10Lm5vZGVUeXBlfHwkLmV4cHIuZmlsdGVycy5oaWRkZW4odCkpOyl0PXRbaT9cInByZXZpb3VzU2libGluZ1wiOlwibmV4dFNpYmxpbmdcIl07dmFyIHM9JCh0KS5vZmZzZXQoKTtyZXR1cm5bcy5sZWZ0LHMudG9wXX0sX2hpZGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2N1ckluc3Q7aWYoZSYmKCF0fHxlPT0kLmRhdGEodCxQUk9QX05BTUUpKSYmdGhpcy5fZGF0ZXBpY2tlclNob3dpbmcpe3ZhciBpPXRoaXMuX2dldChlLFwic2hvd0FuaW1cIikscz10aGlzLl9nZXQoZSxcImR1cmF0aW9uXCIpLG49ZnVuY3Rpb24oKXskLmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coZSl9OyQuZWZmZWN0cyYmKCQuZWZmZWN0cy5lZmZlY3RbaV18fCQuZWZmZWN0c1tpXSk/ZS5kcERpdi5oaWRlKGksJC5kYXRlcGlja2VyLl9nZXQoZSxcInNob3dPcHRpb25zXCIpLHMsbik6ZS5kcERpdltcInNsaWRlRG93blwiPT1pP1wic2xpZGVVcFwiOlwiZmFkZUluXCI9PWk/XCJmYWRlT3V0XCI6XCJoaWRlXCJdKGk/czpudWxsLG4pLGl8fG4oKSx0aGlzLl9kYXRlcGlja2VyU2hvd2luZz0hMTt2YXIgYT10aGlzLl9nZXQoZSxcIm9uQ2xvc2VcIik7YSYmYS5hcHBseShlLmlucHV0P2UuaW5wdXRbMF06bnVsbCxbZS5pbnB1dD9lLmlucHV0LnZhbCgpOlwiXCIsZV0pLHRoaXMuX2xhc3RJbnB1dD1udWxsLHRoaXMuX2luRGlhbG9nJiYodGhpcy5fZGlhbG9nSW5wdXQuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsbGVmdDpcIjBcIix0b3A6XCItMTAwcHhcIn0pLCQuYmxvY2tVSSYmKCQudW5ibG9ja1VJKCksJChcImJvZHlcIikuYXBwZW5kKHRoaXMuZHBEaXYpKSksdGhpcy5faW5EaWFsb2c9ITF9fSxfdGlkeURpYWxvZzpmdW5jdGlvbih0KXt0LmRwRGl2LnJlbW92ZUNsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKS51bmJpbmQoXCIudWktZGF0ZXBpY2tlci1jYWxlbmRhclwiKX0sX2NoZWNrRXh0ZXJuYWxDbGljazpmdW5jdGlvbih0KXtpZigkLmRhdGVwaWNrZXIuX2N1ckluc3Qpe3ZhciBlPSQodC50YXJnZXQpLGk9JC5kYXRlcGlja2VyLl9nZXRJbnN0KGVbMF0pOyhlWzBdLmlkIT0kLmRhdGVwaWNrZXIuX21haW5EaXZJZCYmMD09ZS5wYXJlbnRzKFwiI1wiKyQuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGgmJiFlLmhhc0NsYXNzKCQuZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpJiYhZS5jbG9zZXN0KFwiLlwiKyQuZGF0ZXBpY2tlci5fdHJpZ2dlckNsYXNzKS5sZW5ndGgmJiQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJighJC5kYXRlcGlja2VyLl9pbkRpYWxvZ3x8ISQuYmxvY2tVSSl8fGUuaGFzQ2xhc3MoJC5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSkmJiQuZGF0ZXBpY2tlci5fY3VySW5zdCE9aSkmJiQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKX19LF9hZGp1c3REYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0kKHQpLG49dGhpcy5fZ2V0SW5zdChzWzBdKTt0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihzWzBdKXx8KHRoaXMuX2FkanVzdEluc3REYXRlKG4sZSsoXCJNXCI9PWk/dGhpcy5fZ2V0KG4sXCJzaG93Q3VycmVudEF0UG9zXCIpOjApLGkpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIobikpfSxfZ290b1RvZGF5OmZ1bmN0aW9uKHQpe3ZhciBlPSQodCksaT10aGlzLl9nZXRJbnN0KGVbMF0pO2lmKHRoaXMuX2dldChpLFwiZ290b0N1cnJlbnRcIikmJmkuY3VycmVudERheSlpLnNlbGVjdGVkRGF5PWkuY3VycmVudERheSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9aS5jdXJyZW50TW9udGgsaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1pLmN1cnJlbnRZZWFyO2Vsc2V7dmFyIHM9bmV3IERhdGU7aS5zZWxlY3RlZERheT1zLmdldERhdGUoKSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9cy5nZXRNb250aCgpLGkuZHJhd1llYXI9aS5zZWxlY3RlZFllYXI9cy5nZXRGdWxsWWVhcigpfXRoaXMuX25vdGlmeUNoYW5nZShpKSx0aGlzLl9hZGp1c3REYXRlKGUpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0kKHQpLG49dGhpcy5fZ2V0SW5zdChzWzBdKTtuW1wic2VsZWN0ZWRcIisoXCJNXCI9PWk/XCJNb250aFwiOlwiWWVhclwiKV09bltcImRyYXdcIisoXCJNXCI9PWk/XCJNb250aFwiOlwiWWVhclwiKV09cGFyc2VJbnQoZS5vcHRpb25zW2Uuc2VsZWN0ZWRJbmRleF0udmFsdWUsMTApLHRoaXMuX25vdGlmeUNoYW5nZShuKSx0aGlzLl9hZGp1c3REYXRlKHMpfSxfc2VsZWN0RGF5OmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPSQodCk7aWYoISQocykuaGFzQ2xhc3ModGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MpJiYhdGhpcy5faXNEaXNhYmxlZERhdGVwaWNrZXIoblswXSkpe3ZhciBhPXRoaXMuX2dldEluc3QoblswXSk7YS5zZWxlY3RlZERheT1hLmN1cnJlbnREYXk9JChcImFcIixzKS5odG1sKCksYS5zZWxlY3RlZE1vbnRoPWEuY3VycmVudE1vbnRoPWUsYS5zZWxlY3RlZFllYXI9YS5jdXJyZW50WWVhcj1pLHRoaXMuX3NlbGVjdERhdGUodCx0aGlzLl9mb3JtYXREYXRlKGEsYS5jdXJyZW50RGF5LGEuY3VycmVudE1vbnRoLGEuY3VycmVudFllYXIpKX19LF9jbGVhckRhdGU6ZnVuY3Rpb24odCl7dmFyIGU9JCh0KTt0aGlzLl9nZXRJbnN0KGVbMF0pLHRoaXMuX3NlbGVjdERhdGUoZSxcIlwiKX0sX3NlbGVjdERhdGU6ZnVuY3Rpb24odCxlKXt2YXIgaT0kKHQpLHM9dGhpcy5fZ2V0SW5zdChpWzBdKTtlPW51bGwhPWU/ZTp0aGlzLl9mb3JtYXREYXRlKHMpLHMuaW5wdXQmJnMuaW5wdXQudmFsKGUpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShzKTt2YXIgbj10aGlzLl9nZXQocyxcIm9uU2VsZWN0XCIpO24/bi5hcHBseShzLmlucHV0P3MuaW5wdXRbMF06bnVsbCxbZSxzXSk6cy5pbnB1dCYmcy5pbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpLHMuaW5saW5lP3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIocyk6KHRoaXMuX2hpZGVEYXRlcGlja2VyKCksdGhpcy5fbGFzdElucHV0PXMuaW5wdXRbMF0sXCJvYmplY3RcIiE9dHlwZW9mIHMuaW5wdXRbMF0mJnMuaW5wdXQuZm9jdXMoKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCl9LF91cGRhdGVBbHRlcm5hdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0KHQsXCJhbHRGaWVsZFwiKTtpZihlKXt2YXIgaT10aGlzLl9nZXQodCxcImFsdEZvcm1hdFwiKXx8dGhpcy5fZ2V0KHQsXCJkYXRlRm9ybWF0XCIpLHM9dGhpcy5fZ2V0RGF0ZSh0KSxuPXRoaXMuZm9ybWF0RGF0ZShpLHMsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpKTskKGUpLmVhY2goZnVuY3Rpb24oKXskKHRoaXMpLnZhbChuKX0pfX0sbm9XZWVrZW5kczpmdW5jdGlvbih0KXt2YXIgZT10LmdldERheSgpO3JldHVybltlPjAmJjY+ZSxcIlwiXX0saXNvODYwMVdlZWs6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IERhdGUodC5nZXRUaW1lKCkpO2Uuc2V0RGF0ZShlLmdldERhdGUoKSs0LShlLmdldERheSgpfHw3KSk7dmFyIGk9ZS5nZXRUaW1lKCk7cmV0dXJuIGUuc2V0TW9udGgoMCksZS5zZXREYXRlKDEpLE1hdGguZmxvb3IoTWF0aC5yb3VuZCgoaS1lKS84NjRlNSkvNykrMX0scGFyc2VEYXRlOmZ1bmN0aW9uKHQsZSxpKXtpZihudWxsPT10fHxudWxsPT1lKXRocm93XCJJbnZhbGlkIGFyZ3VtZW50c1wiO2lmKGU9XCJvYmplY3RcIj09dHlwZW9mIGU/XCJcIitlOmUrXCJcIixcIlwiPT1lKXJldHVybiBudWxsO3ZhciBzPShpP2kuc2hvcnRZZWFyQ3V0b2ZmOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5zaG9ydFllYXJDdXRvZmY7cz1cInN0cmluZ1wiIT10eXBlb2Ygcz9zOihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQocywxMCk7Zm9yKHZhciBuPShpP2kuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxhPShpP2kuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLG89KGk/aS5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxyPShpP2kubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxoPS0xLGw9LTEsdT0tMSxjPS0xLGQ9ITEscD1mdW5jdGlvbihlKXt2YXIgaT10Lmxlbmd0aD5fKzEmJnQuY2hhckF0KF8rMSk9PWU7cmV0dXJuIGkmJl8rKyxpfSxmPWZ1bmN0aW9uKHQpe3ZhciBpPXAodCkscz1cIkBcIj09dD8xNDpcIiFcIj09dD8yMDpcInlcIj09dCYmaT80Olwib1wiPT10PzM6MixuPVJlZ0V4cChcIl5cXFxcZHsxLFwiK3MrXCJ9XCIpLGE9ZS5zdWJzdHJpbmcodikubWF0Y2gobik7aWYoIWEpdGhyb3dcIk1pc3NpbmcgbnVtYmVyIGF0IHBvc2l0aW9uIFwiK3Y7cmV0dXJuIHYrPWFbMF0ubGVuZ3RoLHBhcnNlSW50KGFbMF0sMTApfSxtPWZ1bmN0aW9uKHQsaSxzKXt2YXIgbj0kLm1hcChwKHQpP3M6aSxmdW5jdGlvbih0LGUpe3JldHVybltbZSx0XV19KS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuLSh0WzFdLmxlbmd0aC1lWzFdLmxlbmd0aCl9KSxhPS0xO2lmKCQuZWFjaChuLGZ1bmN0aW9uKHQsaSl7dmFyIHM9aVsxXTtyZXR1cm4gZS5zdWJzdHIodixzLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09cy50b0xvd2VyQ2FzZSgpPyhhPWlbMF0sdis9cy5sZW5ndGgsITEpOnVuZGVmaW5lZH0pLC0xIT1hKXJldHVybiBhKzE7dGhyb3dcIlVua25vd24gbmFtZSBhdCBwb3NpdGlvbiBcIit2fSxnPWZ1bmN0aW9uKCl7aWYoZS5jaGFyQXQodikhPXQuY2hhckF0KF8pKXRocm93XCJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gXCIrdjt2Kyt9LHY9MCxfPTA7dC5sZW5ndGg+XztfKyspaWYoZClcIidcIiE9dC5jaGFyQXQoXyl8fHAoXCInXCIpP2coKTpkPSExO2Vsc2Ugc3dpdGNoKHQuY2hhckF0KF8pKXtjYXNlXCJkXCI6dT1mKFwiZFwiKTticmVhaztjYXNlXCJEXCI6bShcIkRcIixuLGEpO2JyZWFrO2Nhc2VcIm9cIjpjPWYoXCJvXCIpO2JyZWFrO2Nhc2VcIm1cIjpsPWYoXCJtXCIpO2JyZWFrO2Nhc2VcIk1cIjpsPW0oXCJNXCIsbyxyKTticmVhaztjYXNlXCJ5XCI6aD1mKFwieVwiKTticmVhaztjYXNlXCJAXCI6dmFyIGI9bmV3IERhdGUoZihcIkBcIikpO2g9Yi5nZXRGdWxsWWVhcigpLGw9Yi5nZXRNb250aCgpKzEsdT1iLmdldERhdGUoKTticmVhaztjYXNlXCIhXCI6dmFyIGI9bmV3IERhdGUoKGYoXCIhXCIpLXRoaXMuX3RpY2tzVG8xOTcwKS8xZTQpO2g9Yi5nZXRGdWxsWWVhcigpLGw9Yi5nZXRNb250aCgpKzEsdT1iLmdldERhdGUoKTticmVhaztjYXNlXCInXCI6cChcIidcIik/ZygpOmQ9ITA7YnJlYWs7ZGVmYXVsdDpnKCl9aWYoZS5sZW5ndGg+dil7dmFyIHk9ZS5zdWJzdHIodik7aWYoIS9eXFxzKy8udGVzdCh5KSl0aHJvd1wiRXh0cmEvdW5wYXJzZWQgY2hhcmFjdGVycyBmb3VuZCBpbiBkYXRlOiBcIit5fWlmKC0xPT1oP2g9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpOjEwMD5oJiYoaCs9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArKHM+PWg/MDotMTAwKSksYz4tMSlmb3IobD0xLHU9Yzs7KXt2YXIgdz10aGlzLl9nZXREYXlzSW5Nb250aChoLGwtMSk7aWYodz49dSlicmVhaztsKyssdS09d312YXIgYj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShoLGwtMSx1KSk7aWYoYi5nZXRGdWxsWWVhcigpIT1ofHxiLmdldE1vbnRoKCkrMSE9bHx8Yi5nZXREYXRlKCkhPXUpdGhyb3dcIkludmFsaWQgZGF0ZVwiO3JldHVybiBifSxBVE9NOlwieXktbW0tZGRcIixDT09LSUU6XCJELCBkZCBNIHl5XCIsSVNPXzg2MDE6XCJ5eS1tbS1kZFwiLFJGQ184MjI6XCJELCBkIE0geVwiLFJGQ184NTA6XCJERCwgZGQtTS15XCIsUkZDXzEwMzY6XCJELCBkIE0geVwiLFJGQ18xMTIzOlwiRCwgZCBNIHl5XCIsUkZDXzI4MjI6XCJELCBkIE0geXlcIixSU1M6XCJELCBkIE0geVwiLFRJQ0tTOlwiIVwiLFRJTUVTVEFNUDpcIkBcIixXM0M6XCJ5eS1tbS1kZFwiLF90aWNrc1RvMTk3MDoxZTcqNjAqNjAqMjQqKDcxODY4NStNYXRoLmZsb29yKDQ5Mi41KS1NYXRoLmZsb29yKDE5LjcpK01hdGguZmxvb3IoNC45MjUpKSxmb3JtYXREYXRlOmZ1bmN0aW9uKHQsZSxpKXtpZighZSlyZXR1cm5cIlwiO3ZhciBzPShpP2kuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxuPShpP2kuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLGE9KGk/aS5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxvPShpP2kubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxyPWZ1bmN0aW9uKGUpe3ZhciBpPXQubGVuZ3RoPmQrMSYmdC5jaGFyQXQoZCsxKT09ZTtyZXR1cm4gaSYmZCsrLGl9LGg9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPVwiXCIrZTtpZihyKHQpKWZvcig7aT5zLmxlbmd0aDspcz1cIjBcIitzO3JldHVybiBzfSxsPWZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiByKHQpP3NbZV06aVtlXX0sdT1cIlwiLGM9ITE7aWYoZSlmb3IodmFyIGQ9MDt0Lmxlbmd0aD5kO2QrKylpZihjKVwiJ1wiIT10LmNoYXJBdChkKXx8cihcIidcIik/dSs9dC5jaGFyQXQoZCk6Yz0hMTtlbHNlIHN3aXRjaCh0LmNoYXJBdChkKSl7Y2FzZVwiZFwiOnUrPWgoXCJkXCIsZS5nZXREYXRlKCksMik7YnJlYWs7Y2FzZVwiRFwiOnUrPWwoXCJEXCIsZS5nZXREYXkoKSxzLG4pO2JyZWFrO2Nhc2VcIm9cIjp1Kz1oKFwib1wiLE1hdGgucm91bmQoKG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSxlLmdldE1vbnRoKCksZS5nZXREYXRlKCkpLmdldFRpbWUoKS1uZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksMCwwKS5nZXRUaW1lKCkpLzg2NGU1KSwzKTticmVhaztjYXNlXCJtXCI6dSs9aChcIm1cIixlLmdldE1vbnRoKCkrMSwyKTticmVhaztjYXNlXCJNXCI6dSs9bChcIk1cIixlLmdldE1vbnRoKCksYSxvKTticmVhaztjYXNlXCJ5XCI6dSs9cihcInlcIik/ZS5nZXRGdWxsWWVhcigpOigxMD5lLmdldFllYXIoKSUxMDA/XCIwXCI6XCJcIikrZS5nZXRZZWFyKCklMTAwO2JyZWFrO2Nhc2VcIkBcIjp1Kz1lLmdldFRpbWUoKTticmVhaztjYXNlXCIhXCI6dSs9MWU0KmUuZ2V0VGltZSgpK3RoaXMuX3RpY2tzVG8xOTcwO2JyZWFrO2Nhc2VcIidcIjpyKFwiJ1wiKT91Kz1cIidcIjpjPSEwO2JyZWFrO2RlZmF1bHQ6dSs9dC5jaGFyQXQoZCl9cmV0dXJuIHV9LF9wb3NzaWJsZUNoYXJzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1cIlwiLGk9ITEscz1mdW5jdGlvbihlKXt2YXIgaT10Lmxlbmd0aD5uKzEmJnQuY2hhckF0KG4rMSk9PWU7cmV0dXJuIGkmJm4rKyxpfSxuPTA7dC5sZW5ndGg+bjtuKyspaWYoaSlcIidcIiE9dC5jaGFyQXQobil8fHMoXCInXCIpP2UrPXQuY2hhckF0KG4pOmk9ITE7ZWxzZSBzd2l0Y2godC5jaGFyQXQobikpe2Nhc2VcImRcIjpjYXNlXCJtXCI6Y2FzZVwieVwiOmNhc2VcIkBcIjplKz1cIjAxMjM0NTY3ODlcIjticmVhaztjYXNlXCJEXCI6Y2FzZVwiTVwiOnJldHVybiBudWxsO2Nhc2VcIidcIjpzKFwiJ1wiKT9lKz1cIidcIjppPSEwO2JyZWFrO2RlZmF1bHQ6ZSs9dC5jaGFyQXQobil9cmV0dXJuIGV9LF9nZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zZXR0aW5nc1tlXSE9PXVuZGVmaW5lZD90LnNldHRpbmdzW2VdOnRoaXMuX2RlZmF1bHRzW2VdfSxfc2V0RGF0ZUZyb21GaWVsZDpmdW5jdGlvbih0LGUpe2lmKHQuaW5wdXQudmFsKCkhPXQubGFzdFZhbCl7dmFyIGkscyxuPXRoaXMuX2dldCh0LFwiZGF0ZUZvcm1hdFwiKSxhPXQubGFzdFZhbD10LmlucHV0P3QuaW5wdXQudmFsKCk6bnVsbDtpPXM9dGhpcy5fZ2V0RGVmYXVsdERhdGUodCk7dmFyIG89dGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpO3RyeXtpPXRoaXMucGFyc2VEYXRlKG4sYSxvKXx8c31jYXRjaChyKXt0aGlzLmxvZyhyKSxhPWU/XCJcIjphfXQuc2VsZWN0ZWREYXk9aS5nZXREYXRlKCksdC5kcmF3TW9udGg9dC5zZWxlY3RlZE1vbnRoPWkuZ2V0TW9udGgoKSx0LmRyYXdZZWFyPXQuc2VsZWN0ZWRZZWFyPWkuZ2V0RnVsbFllYXIoKSx0LmN1cnJlbnREYXk9YT9pLmdldERhdGUoKTowLHQuY3VycmVudE1vbnRoPWE/aS5nZXRNb250aCgpOjAsdC5jdXJyZW50WWVhcj1hP2kuZ2V0RnVsbFllYXIoKTowLHRoaXMuX2FkanVzdEluc3REYXRlKHQpfX0sX2dldERlZmF1bHREYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZXN0cmljdE1pbk1heCh0LHRoaXMuX2RldGVybWluZURhdGUodCx0aGlzLl9nZXQodCxcImRlZmF1bHREYXRlXCIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgRGF0ZTtyZXR1cm4gZS5zZXREYXRlKGUuZ2V0RGF0ZSgpK3QpLGV9LG49ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKCQuZGF0ZXBpY2tlci5fZ2V0KHQsXCJkYXRlRm9ybWF0XCIpLGUsJC5kYXRlcGlja2VyLl9nZXRGb3JtYXRDb25maWcodCkpfWNhdGNoKGkpe31mb3IodmFyIHM9KGUudG9Mb3dlckNhc2UoKS5tYXRjaCgvXmMvKT8kLmRhdGVwaWNrZXIuX2dldERhdGUodCk6bnVsbCl8fG5ldyBEYXRlLG49cy5nZXRGdWxsWWVhcigpLGE9cy5nZXRNb250aCgpLG89cy5nZXREYXRlKCkscj0vKFsrLV0/WzAtOV0rKVxccyooZHxEfHd8V3xtfE18eXxZKT8vZyxoPXIuZXhlYyhlKTtoOyl7c3dpdGNoKGhbMl18fFwiZFwiKXtjYXNlXCJkXCI6Y2FzZVwiRFwiOm8rPXBhcnNlSW50KGhbMV0sMTApO2JyZWFrO2Nhc2VcIndcIjpjYXNlXCJXXCI6bys9NypwYXJzZUludChoWzFdLDEwKTticmVhaztjYXNlXCJtXCI6Y2FzZVwiTVwiOmErPXBhcnNlSW50KGhbMV0sMTApLG89TWF0aC5taW4obywkLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKG4sYSkpO2JyZWFrO2Nhc2VcInlcIjpjYXNlXCJZXCI6bis9cGFyc2VJbnQoaFsxXSwxMCksbz1NYXRoLm1pbihvLCQuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgobixhKSl9aD1yLmV4ZWMoZSl9cmV0dXJuIG5ldyBEYXRlKG4sYSxvKX0sYT1udWxsPT1lfHxcIlwiPT09ZT9pOlwic3RyaW5nXCI9PXR5cGVvZiBlP24oZSk6XCJudW1iZXJcIj09dHlwZW9mIGU/aXNOYU4oZSk/aTpzKGUpOm5ldyBEYXRlKGUuZ2V0VGltZSgpKTtyZXR1cm4gYT1hJiZcIkludmFsaWQgRGF0ZVwiPT1cIlwiK2E/aTphLGEmJihhLnNldEhvdXJzKDApLGEuc2V0TWludXRlcygwKSxhLnNldFNlY29uZHMoMCksYS5zZXRNaWxsaXNlY29uZHMoMCkpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KGEpfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHQuc2V0SG91cnModC5nZXRIb3VycygpPjEyP3QuZ2V0SG91cnMoKSsyOjApLHQpOm51bGx9LF9zZXREYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0hZSxuPXQuc2VsZWN0ZWRNb250aCxhPXQuc2VsZWN0ZWRZZWFyLG89dGhpcy5fcmVzdHJpY3RNaW5NYXgodCx0aGlzLl9kZXRlcm1pbmVEYXRlKHQsZSxuZXcgRGF0ZSkpO3Quc2VsZWN0ZWREYXk9dC5jdXJyZW50RGF5PW8uZ2V0RGF0ZSgpLHQuZHJhd01vbnRoPXQuc2VsZWN0ZWRNb250aD10LmN1cnJlbnRNb250aD1vLmdldE1vbnRoKCksdC5kcmF3WWVhcj10LnNlbGVjdGVkWWVhcj10LmN1cnJlbnRZZWFyPW8uZ2V0RnVsbFllYXIoKSxuPT10LnNlbGVjdGVkTW9udGgmJmE9PXQuc2VsZWN0ZWRZZWFyfHxpfHx0aGlzLl9ub3RpZnlDaGFuZ2UodCksdGhpcy5fYWRqdXN0SW5zdERhdGUodCksdC5pbnB1dCYmdC5pbnB1dC52YWwocz9cIlwiOnRoaXMuX2Zvcm1hdERhdGUodCkpfSxfZ2V0RGF0ZTpmdW5jdGlvbih0KXt2YXIgZT0hdC5jdXJyZW50WWVhcnx8dC5pbnB1dCYmXCJcIj09dC5pbnB1dC52YWwoKT9udWxsOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHQuY3VycmVudFllYXIsdC5jdXJyZW50TW9udGgsdC5jdXJyZW50RGF5KSk7cmV0dXJuIGV9LF9hdHRhY2hIYW5kbGVyczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXQodCxcInN0ZXBNb250aHNcIiksaT1cIiNcIit0LmlkLnJlcGxhY2UoL1xcXFxcXFxcL2csXCJcXFxcXCIpO3QuZHBEaXYuZmluZChcIltkYXRhLWhhbmRsZXJdXCIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXtwcmV2OmZ1bmN0aW9uKCl7d2luZG93W1wiRFBfalF1ZXJ5X1wiK2RwdXVpZF0uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLC1lLFwiTVwiKX0sbmV4dDpmdW5jdGlvbigpe3dpbmRvd1tcIkRQX2pRdWVyeV9cIitkcHV1aWRdLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoaSwrZSxcIk1cIil9LGhpZGU6ZnVuY3Rpb24oKXt3aW5kb3dbXCJEUF9qUXVlcnlfXCIrZHB1dWlkXS5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfSx0b2RheTpmdW5jdGlvbigpe3dpbmRvd1tcIkRQX2pRdWVyeV9cIitkcHV1aWRdLmRhdGVwaWNrZXIuX2dvdG9Ub2RheShpKX0sc2VsZWN0RGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvd1tcIkRQX2pRdWVyeV9cIitkcHV1aWRdLmRhdGVwaWNrZXIuX3NlbGVjdERheShpLCt0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtbW9udGhcIiksK3RoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS15ZWFyXCIpLHRoaXMpLCExfSxzZWxlY3RNb250aDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3dbXCJEUF9qUXVlcnlfXCIrZHB1dWlkXS5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoaSx0aGlzLFwiTVwiKSwhMX0sc2VsZWN0WWVhcjpmdW5jdGlvbigpe3JldHVybiB3aW5kb3dbXCJEUF9qUXVlcnlfXCIrZHB1dWlkXS5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoaSx0aGlzLFwiWVwiKSwhMX19OyQodGhpcykuYmluZCh0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtZXZlbnRcIiksdFt0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlclwiKV0pfSl9LF9nZW5lcmF0ZUhUTUw6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IERhdGU7ZT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksZS5nZXRNb250aCgpLGUuZ2V0RGF0ZSgpKSk7dmFyIGk9dGhpcy5fZ2V0KHQsXCJpc1JUTFwiKSxzPXRoaXMuX2dldCh0LFwic2hvd0J1dHRvblBhbmVsXCIpLG49dGhpcy5fZ2V0KHQsXCJoaWRlSWZOb1ByZXZOZXh0XCIpLGE9dGhpcy5fZ2V0KHQsXCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0XCIpLG89dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCkscj10aGlzLl9nZXQodCxcInNob3dDdXJyZW50QXRQb3NcIiksaD10aGlzLl9nZXQodCxcInN0ZXBNb250aHNcIiksbD0xIT1vWzBdfHwxIT1vWzFdLHU9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QodC5jdXJyZW50RGF5P25ldyBEYXRlKHQuY3VycmVudFllYXIsdC5jdXJyZW50TW9udGgsdC5jdXJyZW50RGF5KTpuZXcgRGF0ZSg5OTk5LDksOSkpLGM9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LFwibWluXCIpLGQ9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LFwibWF4XCIpLHA9dC5kcmF3TW9udGgtcixmPXQuZHJhd1llYXI7aWYoMD5wJiYocCs9MTIsZi0tKSxkKXt2YXIgbT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksZC5nZXRNb250aCgpLW9bMF0qb1sxXSsxLGQuZ2V0RGF0ZSgpKSk7Zm9yKG09YyYmYz5tP2M6bTt0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShmLHAsMSkpPm07KXAtLSwwPnAmJihwPTExLGYtLSl9dC5kcmF3TW9udGg9cCx0LmRyYXdZZWFyPWY7dmFyIGc9dGhpcy5fZ2V0KHQsXCJwcmV2VGV4dFwiKTtnPWE/dGhpcy5mb3JtYXREYXRlKGcsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoZixwLWgsMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSk6Zzt2YXIgdj10aGlzLl9jYW5BZGp1c3RNb250aCh0LC0xLGYscCk/JzxhIGNsYXNzPVwidWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGxcIiBkYXRhLWhhbmRsZXI9XCJwcmV2XCIgZGF0YS1ldmVudD1cImNsaWNrXCIgdGl0bGU9XCInK2crJ1wiPjxzcGFuIGNsYXNzPVwidWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0nKyhpP1wiZVwiOlwid1wiKSsnXCI+JytnK1wiPC9zcGFuPjwvYT5cIjpuP1wiXCI6JzxhIGNsYXNzPVwidWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWRcIiB0aXRsZT1cIicrZysnXCI+PHNwYW4gY2xhc3M9XCJ1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLScrKGk/XCJlXCI6XCJ3XCIpKydcIj4nK2crXCI8L3NwYW4+PC9hPlwiLF89dGhpcy5fZ2V0KHQsXCJuZXh0VGV4dFwiKTtfPWE/dGhpcy5mb3JtYXREYXRlKF8sdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoZixwK2gsMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSk6Xzt2YXIgYj10aGlzLl9jYW5BZGp1c3RNb250aCh0LDEsZixwKT8nPGEgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbFwiIGRhdGEtaGFuZGxlcj1cIm5leHRcIiBkYXRhLWV2ZW50PVwiY2xpY2tcIiB0aXRsZT1cIicrXysnXCI+PHNwYW4gY2xhc3M9XCJ1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLScrKGk/XCJ3XCI6XCJlXCIpKydcIj4nK18rXCI8L3NwYW4+PC9hPlwiOm4/XCJcIjonPGEgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZFwiIHRpdGxlPVwiJytfKydcIj48c3BhbiBjbGFzcz1cInVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysoaT9cIndcIjpcImVcIikrJ1wiPicrXytcIjwvc3Bhbj48L2E+XCIseT10aGlzLl9nZXQodCxcImN1cnJlbnRUZXh0XCIpLHc9dGhpcy5fZ2V0KHQsXCJnb3RvQ3VycmVudFwiKSYmdC5jdXJyZW50RGF5P3U6ZTt5PWE/dGhpcy5mb3JtYXREYXRlKHksdyx0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpOnk7dmFyIHg9dC5pbmxpbmU/XCJcIjonPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWNsb3NlIHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktcHJpbWFyeSB1aS1jb3JuZXItYWxsXCIgZGF0YS1oYW5kbGVyPVwiaGlkZVwiIGRhdGEtZXZlbnQ9XCJjbGlja1wiPicrdGhpcy5fZ2V0KHQsXCJjbG9zZVRleHRcIikrXCI8L2J1dHRvbj5cIixrPXM/JzxkaXYgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgdWktd2lkZ2V0LWNvbnRlbnRcIj4nKyhpP3g6XCJcIikrKHRoaXMuX2lzSW5SYW5nZSh0LHcpPyc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInVpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsXCIgZGF0YS1oYW5kbGVyPVwidG9kYXlcIiBkYXRhLWV2ZW50PVwiY2xpY2tcIj4nK3krXCI8L2J1dHRvbj5cIjpcIlwiKSsoaT9cIlwiOngpK1wiPC9kaXY+XCI6XCJcIixEPXBhcnNlSW50KHRoaXMuX2dldCh0LFwiZmlyc3REYXlcIiksMTApO0Q9aXNOYU4oRCk/MDpEO3ZhciBDPXRoaXMuX2dldCh0LFwic2hvd1dlZWtcIiksVD10aGlzLl9nZXQodCxcImRheU5hbWVzXCIpO3RoaXMuX2dldCh0LFwiZGF5TmFtZXNTaG9ydFwiKTt2YXIgTT10aGlzLl9nZXQodCxcImRheU5hbWVzTWluXCIpLFM9dGhpcy5fZ2V0KHQsXCJtb250aE5hbWVzXCIpLE49dGhpcy5fZ2V0KHQsXCJtb250aE5hbWVzU2hvcnRcIiksST10aGlzLl9nZXQodCxcImJlZm9yZVNob3dEYXlcIiksUD10aGlzLl9nZXQodCxcInNob3dPdGhlck1vbnRoc1wiKSxBPXRoaXMuX2dldCh0LFwic2VsZWN0T3RoZXJNb250aHNcIik7dGhpcy5fZ2V0KHQsXCJjYWxjdWxhdGVXZWVrXCIpfHx0aGlzLmlzbzg2MDFXZWVrO2Zvcih2YXIgej10aGlzLl9nZXREZWZhdWx0RGF0ZSh0KSxIPVwiXCIsRT0wO29bMF0+RTtFKyspe3ZhciBPPVwiXCI7dGhpcy5tYXhSb3dzPTQ7Zm9yKHZhciBGPTA7b1sxXT5GO0YrKyl7dmFyIFc9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoZixwLHQuc2VsZWN0ZWREYXkpKSxMPVwiIHVpLWNvcm5lci1hbGxcIixSPVwiXCI7aWYobCl7aWYoUis9JzxkaXYgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWdyb3VwJyxvWzFdPjEpc3dpdGNoKEYpe2Nhc2UgMDpSKz1cIiB1aS1kYXRlcGlja2VyLWdyb3VwLWZpcnN0XCIsTD1cIiB1aS1jb3JuZXItXCIrKGk/XCJyaWdodFwiOlwibGVmdFwiKTticmVhaztjYXNlIG9bMV0tMTpSKz1cIiB1aS1kYXRlcGlja2VyLWdyb3VwLWxhc3RcIixMPVwiIHVpLWNvcm5lci1cIisoaT9cImxlZnRcIjpcInJpZ2h0XCIpO2JyZWFrO2RlZmF1bHQ6Uis9XCIgdWktZGF0ZXBpY2tlci1ncm91cC1taWRkbGVcIixMPVwiXCJ9Uis9J1wiPid9Uis9JzxkaXYgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCcrTCsnXCI+JysoL2FsbHxsZWZ0Ly50ZXN0KEwpJiYwPT1FP2k/Yjp2OlwiXCIpKygvYWxsfHJpZ2h0Ly50ZXN0KEwpJiYwPT1FP2k/djpiOlwiXCIpK3RoaXMuX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyKHQscCxmLGMsZCxFPjB8fEY+MCxTLE4pKyc8L2Rpdj48dGFibGUgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWNhbGVuZGFyXCI+PHRoZWFkPicrXCI8dHI+XCI7Zm9yKHZhciBqPUM/Jzx0aCBjbGFzcz1cInVpLWRhdGVwaWNrZXItd2Vlay1jb2xcIj4nK3RoaXMuX2dldCh0LFwid2Vla0hlYWRlclwiKStcIjwvdGg+XCI6XCJcIixZPTA7Nz5ZO1krKyl7dmFyIEI9KFkrRCklNztqKz1cIjx0aFwiKygoWStEKzYpJTc+PTU/JyBjbGFzcz1cInVpLWRhdGVwaWNrZXItd2Vlay1lbmRcIic6XCJcIikrXCI+XCIrJzxzcGFuIHRpdGxlPVwiJytUW0JdKydcIj4nK01bQl0rXCI8L3NwYW4+PC90aD5cIn1SKz1qK1wiPC90cj48L3RoZWFkPjx0Ym9keT5cIjt2YXIgSz10aGlzLl9nZXREYXlzSW5Nb250aChmLHApO2Y9PXQuc2VsZWN0ZWRZZWFyJiZwPT10LnNlbGVjdGVkTW9udGgmJih0LnNlbGVjdGVkRGF5PU1hdGgubWluKHQuc2VsZWN0ZWREYXksSykpO3ZhciBxPSh0aGlzLl9nZXRGaXJzdERheU9mTW9udGgoZixwKS1EKzcpJTcsVT1NYXRoLmNlaWwoKHErSykvNyksVj1sP3RoaXMubWF4Um93cz5VP3RoaXMubWF4Um93czpVOlU7dGhpcy5tYXhSb3dzPVY7Zm9yKHZhciBKPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGYscCwxLXEpKSxRPTA7Vj5RO1ErKyl7Uis9XCI8dHI+XCI7Zm9yKHZhciBYPUM/Jzx0ZCBjbGFzcz1cInVpLWRhdGVwaWNrZXItd2Vlay1jb2xcIj4nK3RoaXMuX2dldCh0LFwiY2FsY3VsYXRlV2Vla1wiKShKKStcIjwvdGQ+XCI6XCJcIixZPTA7Nz5ZO1krKyl7dmFyIEc9ST9JLmFwcGx5KHQuaW5wdXQ/dC5pbnB1dFswXTpudWxsLFtKXSk6WyEwLFwiXCJdLFo9Si5nZXRNb250aCgpIT1wLHRlPVomJiFBfHwhR1swXXx8YyYmYz5KfHxkJiZKPmQ7WCs9Jzx0ZCBjbGFzcz1cIicrKChZK0QrNiklNz49NT9cIiB1aS1kYXRlcGlja2VyLXdlZWstZW5kXCI6XCJcIikrKFo/XCIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aFwiOlwiXCIpKyhKLmdldFRpbWUoKT09Vy5nZXRUaW1lKCkmJnA9PXQuc2VsZWN0ZWRNb250aCYmdC5fa2V5RXZlbnR8fHouZ2V0VGltZSgpPT1KLmdldFRpbWUoKSYmei5nZXRUaW1lKCk9PVcuZ2V0VGltZSgpP1wiIFwiK3RoaXMuX2RheU92ZXJDbGFzczpcIlwiKSsodGU/XCIgXCIrdGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MrXCIgdWktc3RhdGUtZGlzYWJsZWRcIjpcIlwiKSsoWiYmIVA/XCJcIjpcIiBcIitHWzFdKyhKLmdldFRpbWUoKT09dS5nZXRUaW1lKCk/XCIgXCIrdGhpcy5fY3VycmVudENsYXNzOlwiXCIpKyhKLmdldFRpbWUoKT09ZS5nZXRUaW1lKCk/XCIgdWktZGF0ZXBpY2tlci10b2RheVwiOlwiXCIpKSsnXCInKyhaJiYhUHx8IUdbMl0/XCJcIjonIHRpdGxlPVwiJytHWzJdKydcIicpKyh0ZT9cIlwiOicgZGF0YS1oYW5kbGVyPVwic2VsZWN0RGF5XCIgZGF0YS1ldmVudD1cImNsaWNrXCIgZGF0YS1tb250aD1cIicrSi5nZXRNb250aCgpKydcIiBkYXRhLXllYXI9XCInK0ouZ2V0RnVsbFllYXIoKSsnXCInKStcIj5cIisoWiYmIVA/XCImI3hhMDtcIjp0ZT8nPHNwYW4gY2xhc3M9XCJ1aS1zdGF0ZS1kZWZhdWx0XCI+JytKLmdldERhdGUoKStcIjwvc3Bhbj5cIjonPGEgY2xhc3M9XCJ1aS1zdGF0ZS1kZWZhdWx0JysoSi5nZXRUaW1lKCk9PWUuZ2V0VGltZSgpP1wiIHVpLXN0YXRlLWhpZ2hsaWdodFwiOlwiXCIpKyhKLmdldFRpbWUoKT09dS5nZXRUaW1lKCk/XCIgdWktc3RhdGUtYWN0aXZlXCI6XCJcIikrKFo/XCIgdWktcHJpb3JpdHktc2Vjb25kYXJ5XCI6XCJcIikrJ1wiIGhyZWY9XCIjXCI+JytKLmdldERhdGUoKStcIjwvYT5cIikrXCI8L3RkPlwiLEouc2V0RGF0ZShKLmdldERhdGUoKSsxKSxKPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KEopXHJcbn1SKz1YK1wiPC90cj5cIn1wKysscD4xMSYmKHA9MCxmKyspLFIrPVwiPC90Ym9keT48L3RhYmxlPlwiKyhsP1wiPC9kaXY+XCIrKG9bMF0+MCYmRj09b1sxXS0xPyc8ZGl2IGNsYXNzPVwidWktZGF0ZXBpY2tlci1yb3ctYnJlYWtcIj48L2Rpdj4nOlwiXCIpOlwiXCIpLE8rPVJ9SCs9T31yZXR1cm4gSCs9aysoJC51aS5pZTYmJiF0LmlubGluZT8nPGlmcmFtZSBzcmM9XCJqYXZhc2NyaXB0OmZhbHNlO1wiIGNsYXNzPVwidWktZGF0ZXBpY2tlci1jb3ZlclwiIGZyYW1lYm9yZGVyPVwiMFwiPjwvaWZyYW1lPic6XCJcIiksdC5fa2V5RXZlbnQ9ITEsSH0sX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyOmZ1bmN0aW9uKHQsZSxpLHMsbixhLG8scil7dmFyIGg9dGhpcy5fZ2V0KHQsXCJjaGFuZ2VNb250aFwiKSxsPXRoaXMuX2dldCh0LFwiY2hhbmdlWWVhclwiKSx1PXRoaXMuX2dldCh0LFwic2hvd01vbnRoQWZ0ZXJZZWFyXCIpLGM9JzxkaXYgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLXRpdGxlXCI+JyxkPVwiXCI7aWYoYXx8IWgpZCs9JzxzcGFuIGNsYXNzPVwidWktZGF0ZXBpY2tlci1tb250aFwiPicrb1tlXStcIjwvc3Bhbj5cIjtlbHNle3ZhciBwPXMmJnMuZ2V0RnVsbFllYXIoKT09aSxmPW4mJm4uZ2V0RnVsbFllYXIoKT09aTtkKz0nPHNlbGVjdCBjbGFzcz1cInVpLWRhdGVwaWNrZXItbW9udGhcIiBkYXRhLWhhbmRsZXI9XCJzZWxlY3RNb250aFwiIGRhdGEtZXZlbnQ9XCJjaGFuZ2VcIj4nO2Zvcih2YXIgbT0wOzEyPm07bSsrKSghcHx8bT49cy5nZXRNb250aCgpKSYmKCFmfHxuLmdldE1vbnRoKCk+PW0pJiYoZCs9JzxvcHRpb24gdmFsdWU9XCInK20rJ1wiJysobT09ZT8nIHNlbGVjdGVkPVwic2VsZWN0ZWRcIic6XCJcIikrXCI+XCIrclttXStcIjwvb3B0aW9uPlwiKTtkKz1cIjwvc2VsZWN0PlwifWlmKHV8fChjKz1kKyghYSYmaCYmbD9cIlwiOlwiJiN4YTA7XCIpKSwhdC55ZWFyc2h0bWwpaWYodC55ZWFyc2h0bWw9XCJcIixhfHwhbCljKz0nPHNwYW4gY2xhc3M9XCJ1aS1kYXRlcGlja2VyLXllYXJcIj4nK2krXCI8L3NwYW4+XCI7ZWxzZXt2YXIgZz10aGlzLl9nZXQodCxcInllYXJSYW5nZVwiKS5zcGxpdChcIjpcIiksdj0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCksXz1mdW5jdGlvbih0KXt2YXIgZT10Lm1hdGNoKC9jWystXS4qLyk/aStwYXJzZUludCh0LnN1YnN0cmluZygxKSwxMCk6dC5tYXRjaCgvWystXS4qLyk/ditwYXJzZUludCh0LDEwKTpwYXJzZUludCh0LDEwKTtyZXR1cm4gaXNOYU4oZSk/djplfSxiPV8oZ1swXSkseT1NYXRoLm1heChiLF8oZ1sxXXx8XCJcIikpO2ZvcihiPXM/TWF0aC5tYXgoYixzLmdldEZ1bGxZZWFyKCkpOmIseT1uP01hdGgubWluKHksbi5nZXRGdWxsWWVhcigpKTp5LHQueWVhcnNodG1sKz0nPHNlbGVjdCBjbGFzcz1cInVpLWRhdGVwaWNrZXIteWVhclwiIGRhdGEtaGFuZGxlcj1cInNlbGVjdFllYXJcIiBkYXRhLWV2ZW50PVwiY2hhbmdlXCI+Jzt5Pj1iO2IrKyl0LnllYXJzaHRtbCs9JzxvcHRpb24gdmFsdWU9XCInK2IrJ1wiJysoYj09aT8nIHNlbGVjdGVkPVwic2VsZWN0ZWRcIic6XCJcIikrXCI+XCIrYitcIjwvb3B0aW9uPlwiO3QueWVhcnNodG1sKz1cIjwvc2VsZWN0PlwiLGMrPXQueWVhcnNodG1sLHQueWVhcnNodG1sPW51bGx9cmV0dXJuIGMrPXRoaXMuX2dldCh0LFwieWVhclN1ZmZpeFwiKSx1JiYoYys9KCFhJiZoJiZsP1wiXCI6XCImI3hhMDtcIikrZCksYys9XCI8L2Rpdj5cIn0sX2FkanVzdEluc3REYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10LmRyYXdZZWFyKyhcIllcIj09aT9lOjApLG49dC5kcmF3TW9udGgrKFwiTVwiPT1pP2U6MCksYT1NYXRoLm1pbih0LnNlbGVjdGVkRGF5LHRoaXMuX2dldERheXNJbk1vbnRoKHMsbikpKyhcIkRcIj09aT9lOjApLG89dGhpcy5fcmVzdHJpY3RNaW5NYXgodCx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShzLG4sYSkpKTt0LnNlbGVjdGVkRGF5PW8uZ2V0RGF0ZSgpLHQuZHJhd01vbnRoPXQuc2VsZWN0ZWRNb250aD1vLmdldE1vbnRoKCksdC5kcmF3WWVhcj10LnNlbGVjdGVkWWVhcj1vLmdldEZ1bGxZZWFyKCksKFwiTVwiPT1pfHxcIllcIj09aSkmJnRoaXMuX25vdGlmeUNoYW5nZSh0KX0sX3Jlc3RyaWN0TWluTWF4OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LFwibWluXCIpLHM9dGhpcy5fZ2V0TWluTWF4RGF0ZSh0LFwibWF4XCIpLG49aSYmaT5lP2k6ZTtyZXR1cm4gbj1zJiZuPnM/czpufSxfbm90aWZ5Q2hhbmdlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldCh0LFwib25DaGFuZ2VNb250aFllYXJcIik7ZSYmZS5hcHBseSh0LmlucHV0P3QuaW5wdXRbMF06bnVsbCxbdC5zZWxlY3RlZFllYXIsdC5zZWxlY3RlZE1vbnRoKzEsdF0pfSxfZ2V0TnVtYmVyT2ZNb250aHM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0KHQsXCJudW1iZXJPZk1vbnRoc1wiKTtyZXR1cm4gbnVsbD09ZT9bMSwxXTpcIm51bWJlclwiPT10eXBlb2YgZT9bMSxlXTplfSxfZ2V0TWluTWF4RGF0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kZXRlcm1pbmVEYXRlKHQsdGhpcy5fZ2V0KHQsZStcIkRhdGVcIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbih0LGUpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh0LGUsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IERhdGUodCxlLDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksYT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHMrKDA+ZT9lOm5bMF0qblsxXSksMSkpO3JldHVybiAwPmUmJmEuc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aChhLmdldEZ1bGxZZWFyKCksYS5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKHQsYSl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRNaW5NYXhEYXRlKHQsXCJtaW5cIikscz10aGlzLl9nZXRNaW5NYXhEYXRlKHQsXCJtYXhcIik7cmV0dXJuKCFpfHxlLmdldFRpbWUoKT49aS5nZXRUaW1lKCkpJiYoIXN8fGUuZ2V0VGltZSgpPD1zLmdldFRpbWUoKSl9LF9nZXRGb3JtYXRDb25maWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0KHQsXCJzaG9ydFllYXJDdXRvZmZcIik7cmV0dXJuIGU9XCJzdHJpbmdcIiE9dHlwZW9mIGU/ZToobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KGUsMTApLHtzaG9ydFllYXJDdXRvZmY6ZSxkYXlOYW1lc1Nob3J0OnRoaXMuX2dldCh0LFwiZGF5TmFtZXNTaG9ydFwiKSxkYXlOYW1lczp0aGlzLl9nZXQodCxcImRheU5hbWVzXCIpLG1vbnRoTmFtZXNTaG9ydDp0aGlzLl9nZXQodCxcIm1vbnRoTmFtZXNTaG9ydFwiKSxtb250aE5hbWVzOnRoaXMuX2dldCh0LFwibW9udGhOYW1lc1wiKX19LF9mb3JtYXREYXRlOmZ1bmN0aW9uKHQsZSxpLHMpe2V8fCh0LmN1cnJlbnREYXk9dC5zZWxlY3RlZERheSx0LmN1cnJlbnRNb250aD10LnNlbGVjdGVkTW9udGgsdC5jdXJyZW50WWVhcj10LnNlbGVjdGVkWWVhcik7dmFyIG49ZT9cIm9iamVjdFwiPT10eXBlb2YgZT9lOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHMsaSxlKSk6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodC5jdXJyZW50WWVhcix0LmN1cnJlbnRNb250aCx0LmN1cnJlbnREYXkpKTtyZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuX2dldCh0LFwiZGF0ZUZvcm1hdFwiKSxuLHRoaXMuX2dldEZvcm1hdENvbmZpZyh0KSl9fSksJC5mbi5kYXRlcGlja2VyPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpczskLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWR8fCgkKGRvY3VtZW50KS5tb3VzZWRvd24oJC5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2spLmZpbmQoZG9jdW1lbnQuYm9keSkuYXBwZW5kKCQuZGF0ZXBpY2tlci5kcERpdiksJC5kYXRlcGlja2VyLmluaXRpYWxpemVkPSEwKTt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHR8fFwiaXNEaXNhYmxlZFwiIT10JiZcImdldERhdGVcIiE9dCYmXCJ3aWRnZXRcIiE9dD9cIm9wdGlvblwiPT10JiYyPT1hcmd1bWVudHMubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgYXJndW1lbnRzWzFdPyQuZGF0ZXBpY2tlcltcIl9cIit0K1wiRGF0ZXBpY2tlclwiXS5hcHBseSgkLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChlKSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7XCJzdHJpbmdcIj09dHlwZW9mIHQ/JC5kYXRlcGlja2VyW1wiX1wiK3QrXCJEYXRlcGlja2VyXCJdLmFwcGx5KCQuZGF0ZXBpY2tlcixbdGhpc10uY29uY2F0KGUpKTokLmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcyx0KX0pOiQuZGF0ZXBpY2tlcltcIl9cIit0K1wiRGF0ZXBpY2tlclwiXS5hcHBseSgkLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChlKSl9LCQuZGF0ZXBpY2tlcj1uZXcgRGF0ZXBpY2tlciwkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ITEsJC5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksJC5kYXRlcGlja2VyLnZlcnNpb249XCIxLjkuMlwiLHdpbmRvd1tcIkRQX2pRdWVyeV9cIitkcHV1aWRdPSR9KShqUXVlcnkpO1xyXG5cclxuLy/QuNGB0LrQu9GO0YfQtdC90LjRjyDQtNCw0YJcclxuZnVuY3Rpb24gZGlzYWJsZUFsbFRoZXNlRGF5cyhkYXRlKSB7XHJcbiAgICB2YXIgbSA9IGRhdGUuZ2V0TW9udGgoKSwgZCA9IGRhdGUuZ2V0RGF0ZSgpLCB5ID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cdC8vYWxlcnQoZGlzYWJsZWREYXlzWzBdKTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBkaXNhYmxlZERheXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZigkLmluQXJyYXkoKG0rMSkgKyAnLScgKyBkICsgJy0nICsgeSxkaXNhYmxlZERheXMpICE9IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbZmFsc2VdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBbdHJ1ZV07XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbiIsIi8vdmFyIG5wcm9ncmVzcz0wOyAvL9C/0L7QutCw0LfRi9Cy0LDRgtGMINC30LDQs9GA0YPQt9GH0LjQuiDQu9C40L3QuNGOINC/0YDQuCBhamF4INC30LDQv9GA0L7RgdCw0YVcdFxyXG5mdW5jdGlvbiBnZXRSYW5kb21JbnQobWluLCBtYXgpIHsgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47IH1cclxuXHJcblxyXG5mdW5jdGlvbiBBamF4Q2xpZW50KGRpcl9uYW1lLCAgLy/QtNC40YDQtdC60YLQvtGA0LjRjyBcclxuICAgICAgICAgICAgICAgICAgICBmaWxlX25hbWUsIC8v0LjQvNGPINGE0LDQudC70LAg0LHQtdC3IHBocFxyXG5cdFx0XHRcdFx0dHlwZVEsIC8v0YLQuNC/INC30LDQv9GA0L7RgdCwIEdFVCAtIFBPU1RcclxuXHRcdFx0XHRcdGRhdGEsIC8v0L/QtdGA0LXQvNC10L3QvdGL0LUg0LrQvtGC0L7RgNGL0LUg0L/QtdGA0LXQtNCw0Y7RgtGB0Y8g0LzQtdGC0L7QtNC+0Lwg0L/QvtGB0YIg0LjQu9C4INCz0LXRgiB1c2VybmFtZT1WYXN5YSZhZ2U9MTgmc2V4PW1hbGVcclxuXHRcdFx0XHRcdHJlc3VsdF9mdW5jdGlvbiwgIC8v0LLRi9C/0L7Qu9C90Y/QtdC80LDRjyDRhNGD0L3QutGG0LjRjyDQv9GA0Lgg0L/RgNC40YXQvtC00LUg0L7RgtCy0LXRgtCwXHJcblx0XHRcdFx0XHR2YXJpYmwsIC8v0L/QtdGA0LXQvNC10L3QvdCw0Y8g0LrQvtGC0L7RgNGD0Y4g0L3QsNC00L4g0L/QtdGA0LXQtNCw0YLRjCDQsiDQstGL0L8uINGE0YPQvdC60YbQuNGOXHJcblx0XHRcdFx0XHRmb3JtX2lkLCAgLy9pZCDRhNC+0YDQvNGLINC10YHQu9C4INC90YPQttC90L4g0L/QtdGA0LXQtNCw0YLRjCDRhNC+0YDQvNGDINGG0LXQu9C40LrQvtC8INC40LvQuCAwXHJcblx0XHRcdFx0XHRucHJvZ3Jlc3MsICBcclxuIFx0XHRcdFx0XHRjYWNoZSxcclxuXHRcdFx0XHRcdG9ueW91c2VsZiAgLy/QvtGC0L/RgNCw0LLQu9GP0LXRgiBhamF4INC90LAg0YHQtdCx0Y8uINC00LvRjyDQsGpheCDQt9Cw0L/RgNC+0YHQvtCyINGBINC40YHRgtC+0YDQuNC10LlcclxuXHRcdFx0XHRcdCkge1x0XHJcblx0XHRcdFx0XHRpZihmb3JtX2lkPT0wKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ICAgdmFyIGRhdGFfX3NzPWRhdGE7XHRcclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ICAgdmFyIGRhdGFfX3NzPWpRdWVyeShcIiNcIitmb3JtX2lkKS5zZXJpYWxpemUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHZhciB2dj0nJztcclxuXHRcdFx0XHRcdGlmKHZhcmlibCE9bnVsbClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YodmFyaWJsKSA9PSBcInN0cmluZ1wiKSBcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHZ2PScsXCInK3ZhcmlibCsnXCInO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cclxuXHRcdFx0XHRcdFx0dnY9JywnK3ZhcmlibDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgY2FjaGVfYWpheD10cnVlO1xyXG5cdFx0XHRcdFx0aWYgKGNhY2hlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Y2FjaGVfYWpheD1jYWNoZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYgKG9ueW91c2VsZj09PSB1bmRlZmluZWQpIFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR2YXIgaG9wX3VybD0nQWpheC8nK2Rpcl9uYW1lKycvJytmaWxlX25hbWUrJy5waHAnO1xyXG5cdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmKG9ueW91c2VsZj09J2xvY2FsJylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR2YXIgaG9wX3VybD13aW5kb3cubG9jYXRpb24uaHJlZjtcclxuXHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0dmFyIGhvcF91cmw9b255b3VzZWxmO1x0XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmICgobnByb2dyZXNzPT09IHVuZGVmaW5lZCl8fChucHJvZ3Jlc3M9PSAwKSkgXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdC8qXHJcblx0XHRcdFx0XHQkKCcjbnByb2dyZXNzJykuc2hvdygpO1xyXG5cdFx0XHRcdFx0dmFyIHdpZHRoPWdldFJhbmRvbUludCgxMCw1MCk7XHJcblx0XHRcdFx0XHR2YXIgd2lkdGgxPWdldFJhbmRvbUludCg1MCw3MCk7XHJcblx0XHRcdFx0XHR2YXIgd2lkdGgyPWdldFJhbmRvbUludCg3MCw5MCk7XHJcblx0XHRcdFx0XHR2YXIgd2lkdGgzPWdldFJhbmRvbUludCg5NSw5Nyk7XHJcblx0XHQgICAgICAgICAgICAkKCcjbnByb2dyZXNzIC5iYXInKS5hbmltYXRlKHt3aWR0aDogd2lkdGgrXCIlXCJ9LCAxMDAwLCBmdW5jdGlvbigpIHsgICQoJyNucHJvZ3Jlc3MgLmJhcicpLmFuaW1hdGUoe3dpZHRoOiB3aWR0aDErXCIlXCJ9LCAxMDAwLCBmdW5jdGlvbigpIHsgJCgnI25wcm9ncmVzcyAuYmFyJykuYW5pbWF0ZSh7d2lkdGg6IHdpZHRoMitcIiVcIn0sIDIwMDAsIGZ1bmN0aW9uKCkgeyAkKCcjbnByb2dyZXNzIC5iYXInKS5hbmltYXRlKHt3aWR0aDogd2lkdGgzK1wiJVwifSwgNDAwMCwgZnVuY3Rpb24oKSB7ICB9KTsgfSk7IH0pOyB9KTtcclxuXHRcdFx0XHRcdCovXHJcblx0XHRcdFx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAgICAgaG9wX3VybCwgLy/QkNC00YDQtdGBINC/0L7QtNCz0YDRg9C20LDQtdC80L7QuSDRgdGC0YDQsNC90LjRhtGLXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogICAgIHR5cGVRLCAvL9Ci0LjQvyDQt9Cw0L/RgNC+0YHQsFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuXHRcdFx0XHRcdGNhY2hlOiBjYWNoZV9hamF4LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhX19zcywgIC8vZm9ybV9pZCAtIGlkINGE0L7RgNC80YsgaHRtbCDQutC+0YLQvtGA0YPRjiDQvdGD0LbQvdC+INC/0LXRgNC10LTQsNGC0YxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihqc29uZGF0YSkgeyAvL9CV0YHQu9C4INCy0YHQtSDQvdC+0YDQvNCw0LvRjNC90L5cclxuXHRcdFx0XHRcdGlmICgobnByb2dyZXNzPT09IHVuZGVmaW5lZCl8fChucHJvZ3Jlc3M9PSAwKSkgXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdC8qXHJcblx0XHRcdFx0XHQgICQoJyNucHJvZ3Jlc3MgLmJhcicpLnN0b3AodHJ1ZSk7XHJcblx0XHRcdFx0XHQgICQoJyNucHJvZ3Jlc3MgLmJhcicpLmFuaW1hdGUoe3dpZHRoOiBcIjEwMCVcIn0sIDUwMCwgZnVuY3Rpb24oKSB7ICAkKCcjbnByb2dyZXNzJykuaGlkZSgpOyAkKCcjbnByb2dyZXNzIC5iYXInKS53aWR0aCgnMCcpOyB9KTtcclxuXHRcdFx0XHRcdCovXHJcblx0XHRcdFx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly93aW5kb3cuanNvem49JC5wYXJzZUpTT04oanNvbmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5qc296bj1qc29uZGF0YTtcclxuXHRcdFx0XHRcdC8vYWxlcnQoanNvem5bJ2RlYnVnJ10pO1xyXG5cclxuXHRcdFx0XHRcdGlmKChqc296blsnZGVidWcnXSE9JycpJiYoanNvem5bJ2RlYnVnJ10hPT11bmRlZmluZWQpKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ICAgLy8kKCcud19zaXplJykuc2hvdygpO1xyXG5cdFx0XHRcdFx0ICAgLy8kKCcud19zaXplJykuZW1wdHkoKS5hcHBlbmQoanNvem5bJ2RlYnVnJ10pO1xyXG5cdFx0XHRcdFx0ICAgLy9hbGVydChqc296blsnZGVidWcnXSk7XHJcblxyXG5cdFx0XHRcdFx0XHRhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ce0YjQuNCx0LrQsCDihJYnK2pzb3puWydkZWJ1ZyddKTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvL2FsZXJ0KHJlc3VsdF9mdW5jdGlvbik7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdCQuZ2xvYmFsRXZhbChyZXN1bHRfZnVuY3Rpb24rJyhqc296bicrdnYrJyknKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UpIHsgLy/QldGB0LvQuCDQvtGI0LjQsdC60LBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuIFxyXG4vL9C+0YLQv9GA0LDQstC60LAg0YbQtdC70L7QuSDRhNC+0YDQvNGLINGB0LrRgNC40L/RgtGDIEFqYXgvYmVzdC9hZGQucGhwXHJcbi8qXHJcbkFqYXhDbGllbnQoJ2Jlc3QnLCdhZGQnLCdQT1NUJywwLCdBZnRlckJlc3RBZGQnLDUwLCdhZGRfYmVzdCcpO1xyXG5BZnRlckJlc3RBZGQoZGF0YSx2YXJpYmwpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzID09ICdvaycgKVxyXG5cdHtcclxuXHJcblx0fVx0XHRcclxuXHRcdFxyXG5cdGlmICggZGF0YS5zdGF0dXMgPT0gJ2Vycm9yJyApXHJcblx0e1xyXG5cdFx0XHJcblx0fVx0XHJcblxyXG59XHJcblxyXG4jI2FkZC5waHBcclxuJF9QT1NUW1wibmFtZVwiXSDQv9GA0LjQvdC10LzQsNC10Lwg0L/QtdGA0LXQtNCw0L3QvdGL0LUg0L/QtdGA0LXQvNC10L3QvdGL0LVcclxuJGFSZXMgPSBhcnJheSgnc3RhdHVzJyA9PiAnb2snLCAnbmlja25hbWUnID0+ICdBcmFtaXMnKTtcclxucmVxdWlyZV9vbmNlKCdTZXJ2aWNlc19KU09OLnBocCcpO1xyXG4kb0pzb24gPSBuZXcgU2VydmljZXNfSlNPTigpO1xyXG5lY2hvICRvSnNvbi0+ZW5jb2RlKCRhUmVzKTtcclxuKi9cclxuXHJcbi8v0L7RgtC/0YDQsNCy0LrQsCDQv9C10YDQtdC80LXQvdC90YvRhSDQvNC10YLQvtC00L7QvCDQv9C+0YHRgiAgXHJcbi8qXHJcbkFqYXhDbGllbnQoJ2Jlc3QnLCdhZGQxJywnUE9TVCcsJ3VzZXJuYW1lPVZhc3lhJmFnZT0xOCZzZXg9bWFsZScsJ0FmdGVyQmVzdEFkZCcsbnVsbCwwKTtcclxuQWZ0ZXJCZXN0QWRkKGRhdGEpXHJcbntcclxufVxyXG4jI2FkZDEucGhwXHJcbiRfUE9TVFsndXNlcm5hbWUnXVxyXG4kX1JFUVVFU1RbJ3VzZXJuYW1lJ10g0L/RgNC40L3QtdC80LDQtdC8INC/0LXRgNC10LTQsNC90L3Ri9C1INC/0LXRgNC10LzQtdC90L3Ri9C1XHJcbiovXHJcbiIsIihmdW5jdGlvbihhKXthLmZuLmNpcmNsaWZ1bD1mdW5jdGlvbihiLGQpe3ZhciBjPWEuZXh0ZW5kKHtmZ2NvbG9yOlwiIzU1NmIyZlwiLGJnY29sb3I6XCIjZWVlXCIsZmlsbDpmYWxzZSx3aWR0aDoxNSxkaW1lbnNpb246MjAwLGZvbnRzaXplOjE1LHBlcmNlbnQ6NTAsYW5pbWF0aW9uc3RlcDoxLGljb25zaXplOlwiMjBweFwiLGljb25jb2xvcjpcIiM5OTlcIixib3JkZXI6XCJkZWZhdWx0XCIsY29tcGxldGU6bnVsbH0sYik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB3PVtcImZnY29sb3JcIixcImJnY29sb3JcIixcImZpbGxcIixcIndpZHRoXCIsXCJkaW1lbnNpb25cIixcImZvbnRzaXplXCIsXCJhbmltYXRpb25zdGVwXCIsXCJlbmRQZXJjZW50XCIsXCJpY29uXCIsXCJpY29uY29sb3JcIixcImljb25zaXplXCIsXCJib3JkZXJcIl07dmFyIGY9e307dmFyIEY9XCJcIjt2YXIgbj0wO3ZhciB0PWEodGhpcyk7dmFyIEE9ZmFsc2U7dmFyIHYsRzt0LmFkZENsYXNzKFwiY2lyY2xpZnVsXCIpO2UodCk7aWYodC5kYXRhKFwidGV4dFwiKSE9dW5kZWZpbmVkKXt2PXQuZGF0YShcInRleHRcIik7aWYodC5kYXRhKFwiaWNvblwiKSE9dW5kZWZpbmVkKXtGPWEoXCI8aT48L2k+XCIpLmFkZENsYXNzKFwiZmEgXCIrYSh0aGlzKS5kYXRhKFwiaWNvblwiKSkuY3NzKHtjb2xvcjpmLmljb25jb2xvcixcImZvbnQtc2l6ZVwiOmYuaWNvbnNpemV9KX1pZih0LmRhdGEoXCJ0eXBlXCIpIT11bmRlZmluZWQpe2o9YSh0aGlzKS5kYXRhKFwidHlwZVwiKTtpZihqPT1cImhhbGZcIil7cyh0LFwiY2lyY2xlLXRleHQtaGFsZlwiLChmLmRpbWVuc2lvbi8xLjQ1KSl9ZWxzZXtzKHQsXCJjaXJjbGUtdGV4dFwiLGYuZGltZW5zaW9uKX19ZWxzZXtzKHQsXCJjaXJjbGUtdGV4dFwiLGYuZGltZW5zaW9uKX19aWYoYSh0aGlzKS5kYXRhKFwidG90YWxcIikhPXVuZGVmaW5lZCYmYSh0aGlzKS5kYXRhKFwicGFydFwiKSE9dW5kZWZpbmVkKXt2YXIgST1hKHRoaXMpLmRhdGEoXCJ0b3RhbFwiKS8xMDA7cGVyY2VudD0oKGEodGhpcykuZGF0YShcInBhcnRcIikvSSkvMTAwKS50b0ZpeGVkKDMpO249KGEodGhpcykuZGF0YShcInBhcnRcIikvSSkudG9GaXhlZCgzKX1lbHNle2lmKGEodGhpcykuZGF0YShcInBlcmNlbnRcIikhPXVuZGVmaW5lZCl7cGVyY2VudD1hKHRoaXMpLmRhdGEoXCJwZXJjZW50XCIpLzEwMDtuPWEodGhpcykuZGF0YShcInBlcmNlbnRcIil9ZWxzZXtwZXJjZW50PWMucGVyY2VudC8xMDB9fWlmKGEodGhpcykuZGF0YShcImluZm9cIikhPXVuZGVmaW5lZCl7Rz1hKHRoaXMpLmRhdGEoXCJpbmZvXCIpO2lmKGEodGhpcykuZGF0YShcInR5cGVcIikhPXVuZGVmaW5lZCl7aj1hKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO2lmKGo9PVwiaGFsZlwiKXtEKHQsMC45KX1lbHNle0QodCwxLjI1KX19ZWxzZXtEKHQsMS4yNSl9fWEodGhpcykud2lkdGgoZi5kaW1lbnNpb24rXCJweFwiKTt2YXIgaT1hKFwiPGNhbnZhcz48L2NhbnZhcz5cIikuYXR0cih7d2lkdGg6Zi5kaW1lbnNpb24saGVpZ2h0OmYuZGltZW5zaW9ufSkuYXBwZW5kVG8oYSh0aGlzKSkuZ2V0KDApO3ZhciBnPWkuZ2V0Q29udGV4dChcIjJkXCIpO3ZhciByPWkud2lkdGgvMjt2YXIgcT1pLmhlaWdodC8yO3ZhciBDPWYucGVyY2VudCozNjA7dmFyIEg9QyooTWF0aC5QSS8xODApO3ZhciBsPWkud2lkdGgvMi41O3ZhciBCPTIuMypNYXRoLlBJO3ZhciB6PTA7dmFyIEU9ZmFsc2U7dmFyIG89Zi5hbmltYXRpb25zdGVwPT09MD9uOjA7dmFyIHA9TWF0aC5tYXgoZi5hbmltYXRpb25zdGVwLDApO3ZhciB1PU1hdGguUEkqMjt2YXIgaD1NYXRoLlBJLzI7dmFyIGo9XCJcIjt2YXIgaz10cnVlO2lmKGEodGhpcykuZGF0YShcInR5cGVcIikhPXVuZGVmaW5lZCl7aj1hKHRoaXMpLmRhdGEoXCJ0eXBlXCIpO2lmKGo9PVwiaGFsZlwiKXtCPTIqTWF0aC5QSTt6PTMuMTM7dT1NYXRoLlBJKjE7aD1NYXRoLlBJLzAuOTk2fX1mdW5jdGlvbiBzKEoseCx5KXthKFwiPHNwYW4+PC9zcGFuPlwiKS5hcHBlbmRUbyhKKS5hZGRDbGFzcyh4KS50ZXh0KHYpLnByZXBlbmQoRikuY3NzKHtcImxpbmUtaGVpZ2h0XCI6eStcInB4XCIsXCJmb250LXNpemVcIjpmLmZvbnRzaXplK1wicHhcIn0pfWZ1bmN0aW9uIEQoeSx4KXthKFwiPHNwYW4+PC9zcGFuPlwiKS5hcHBlbmRUbyh5KS5hZGRDbGFzcyhcImNpcmNsZS1pbmZvLWhhbGZcIikuY3NzKFwibGluZS1oZWlnaHRcIiwoZi5kaW1lbnNpb24qeCkrXCJweFwiKX1mdW5jdGlvbiBlKHgpe2EuZWFjaCh3LGZ1bmN0aW9uKHksSil7aWYoeC5kYXRhKEopIT11bmRlZmluZWQpe2ZbSl09eC5kYXRhKEopfWVsc2V7ZltKXT1hKGMpLmF0dHIoSil9aWYoSj09XCJmaWxsXCImJnguZGF0YShcImZpbGxcIikhPXVuZGVmaW5lZCl7QT10cnVlfX0pfWZ1bmN0aW9uIG0oeCl7Zy5jbGVhclJlY3QoMCwwLGkud2lkdGgsaS5oZWlnaHQpO2cuYmVnaW5QYXRoKCk7Zy5hcmMocixxLGwseixCLGZhbHNlKTtnLmxpbmVXaWR0aD1mLndpZHRoKzE7Zy5zdHJva2VTdHlsZT1mLmJnY29sb3I7Zy5zdHJva2UoKTtpZihBKXtnLmZpbGxTdHlsZT1mLmZpbGw7Zy5maWxsKCl9Zy5iZWdpblBhdGgoKTtnLmFyYyhyLHEsbCwtKGgpLCgodSkqeCktaCxmYWxzZSk7aWYoZi5ib3JkZXI9PVwib3V0bGluZVwiKXtnLmxpbmVXaWR0aD1mLndpZHRoKzEzfWVsc2V7aWYoZi5ib3JkZXI9PVwiaW5saW5lXCIpe2cubGluZVdpZHRoPWYud2lkdGgtMTN9fWcuc3Ryb2tlU3R5bGU9Zi5mZ2NvbG9yO2cuc3Ryb2tlKCk7aWYobzxuKXtvKz1wO3JlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe20oTWF0aC5taW4obyxuKS8xMDApfSx0KX1pZihvPT1uJiZrJiZ0eXBlb2YoYikhPVwidW5kZWZpbmVkXCIpe2lmKGEuaXNGdW5jdGlvbihiLmNvbXBsZXRlKSl7Yi5jb21wbGV0ZSgpO2s9ZmFsc2V9fX1tKG8vMTAwKX0pfX0oalF1ZXJ5KSk7IiwiLyogalF1ZXJ5IHVpLWRhdGVwaWNrZXIgZXh0ZW5zaW9uICovXHJcblxyXG4vKipcclxuICpcclxuICogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQXJ0ZW1lZXkvOGJhY2QzNzk2NGE4MDY5YTJlZWVlOGM5YjBiZDJlNDQvXHJcbiAqXHJcbiAqIFZlcnNpb246IDEuMCAoMTUuMDYuMjAxNilcclxuICogUmVxdWlyZXM6IGpRdWVyeSB2MS44K1xyXG4gKiBSZXF1aXJlczogalF1ZXJ5LVVJIHYxLjEwK1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgQXJ0ZW1lZXlcclxuICogVW5kZXIgTUlUIGFuZCBHUEwgbGljZW5zZXM6XHJcbiAqICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG4gKiAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sXHJcbiAqXHJcbiAqIHNhbXBsZTpcclxuICogJCgnLmRhdGVwaWNrZXInKS5kYXRlcGlja2VyKHtcclxuXHRcdHJhbmdlOidwZXJpb2QnLCAvLyAncGVyaW9kJyBvciAnbXVsdGlwbGUnXHJcblx0XHRvblNlbGVjdDpmdW5jdGlvbihkYXRlVGV4dCwgaW5zdCwgZXh0ZW5zaW9uUmFuZ2Upe1xyXG5cdFx0XHQvLyByYW5nZSAtIG5ldyBhcmd1bWVudCFcclxuXHRcdFx0c3dpdGNoKGluc3Quc2V0dGluZ3MucmFuZ2Upe1xyXG5cdFx0XHRcdGNhc2UgJ3BlcmlvZCc6XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhleHRlbnNpb25SYW5nZS5zdGFydERhdGVUZXh0KTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGV4dGVuc2lvblJhbmdlLmVuZERhdGVUZXh0KTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGV4dGVuc2lvblJhbmdlLnN0YXJ0RGF0ZSk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhleHRlbnNpb25SYW5nZS5lbmREYXRlKTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ211bHRpcGxlJzpcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGV4dGVuc2lvblJhbmdlLmRhdGVzKTsgLy8gb2JqZWN0LCB3aWR0aCBVVEMtVElNRSBrZXlzXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhleHRlbnNpb25SYW5nZS5kYXRlc1RleHQpOyAvLyBvYmplY3QsIHdpZHRoIFVUQy1USU1FIGtleXNcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcbiAqXHJcbiAqIGV4dGVuc2lvbiBzdHlsZXM6XHJcbiAqIC5zZWxlY3RlZFxyXG4gKiAuc2VsZWN0ZWQtc3RhcnRcclxuICogLnNlbGVjdGVkLWVuZFxyXG4gKiAuZmlyc3Qtb2YtbW9udGhcclxuICogLmxhc3Qtb2YtbW9udGhcclxuICpcclxuICovXHJcbiBcclxuICQuZGF0ZXBpY2tlci5fZ2V0X29yaWdpbmFsPSQuZGF0ZXBpY2tlci5fZ2V0LCQuZGF0ZXBpY2tlci5fZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9JC5kYXRlcGlja2VyLl9nZXRfb3JpZ2luYWwodCxlKSxhPXQuc2V0dGluZ3MucmFuZ2U7aWYoIWEpcmV0dXJuIGk7dmFyIHM9dGhpcztzd2l0Y2goYSl7Y2FzZVwicGVyaW9kXCI6Y2FzZVwibXVsdGlwbGVcIjp2YXIgbj0kKHRoaXMuZHBEaXYpLmRhdGEoXCJkYXRlcGlja2VyRXh0ZW5zaW9uUmFuZ2VcIik7c3dpdGNoKG58fChuPW5ldyBfZGF0ZXBpY2tlckV4dGVuc2lvbiwkKHRoaXMuZHBEaXYpLmRhdGEoXCJkYXRlcGlja2VyRXh0ZW5zaW9uUmFuZ2VcIixuKSksbi5yYW5nZT1hLG4ucmFuZ2VfbXVsdGlwbGVfbWF4PXQuc2V0dGluZ3MucmFuZ2VfbXVsdGlwbGVfbWF4fHwwLGUpe2Nhc2VcIm9uU2VsZWN0XCI6dmFyIHI9aTtyfHwocj1mdW5jdGlvbigpe30pLGk9ZnVuY3Rpb24odCxlKXtuLm9uU2VsZWN0KHQsZSkscih0LGUsbikscy5fZGF0ZXBpY2tlclNob3dpbmc9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe3MuX3VwZGF0ZURhdGVwaWNrZXIoZSkscy5fZGF0ZXBpY2tlclNob3dpbmc9ITB9KSxuLnNldENsYXNzQWN0aXZlKGUpfTticmVhaztjYXNlXCJiZWZvcmVTaG93RGF5XCI6dmFyIHI9aTtyfHwocj1mdW5jdGlvbigpe3JldHVyblshMCxcIlwiXX0pLGk9ZnVuY3Rpb24odCl7dmFyIGU9cih0KTtyZXR1cm4gZT1uLmZpbGxEYXkodCxlKX07YnJlYWs7Y2FzZVwiYmVmb3JlU2hvd1wiOnZhciByPWk7cnx8KHI9ZnVuY3Rpb24oKXt9KSxpPWZ1bmN0aW9uKHQsZSl7cih0LGUpLG4uc2V0Q2xhc3NBY3RpdmUoZSl9O2JyZWFrO2Nhc2VcIm9uQ2hhbmdlTW9udGhZZWFyXCI6dmFyIHI9aTtyfHwocj1mdW5jdGlvbigpe30pLGk9ZnVuY3Rpb24odCxlLGkpe3IodCxlLGkpLG4uc2V0Q2xhc3NBY3RpdmUoaSl9fX1yZXR1cm4gaX0sJC5kYXRlcGlja2VyLl9zZXREYXRlX29yaWdpbmFsPSQuZGF0ZXBpY2tlci5fc2V0RGF0ZSwkLmRhdGVwaWNrZXIuX3NldERhdGU9ZnVuY3Rpb24odCxlLGkpe3ZhciBhPXQuc2V0dGluZ3MucmFuZ2U7aWYoIWEpcmV0dXJuICQuZGF0ZXBpY2tlci5fc2V0RGF0ZV9vcmlnaW5hbCh0LGUsaSk7dmFyIHM9dGhpcy5kcERpdi5kYXRhKFwiZGF0ZXBpY2tlckV4dGVuc2lvblJhbmdlXCIpO2lmKCFzKXJldHVybiAkLmRhdGVwaWNrZXIuX3NldERhdGVfb3JpZ2luYWwodCxlLGkpO3N3aXRjaChhKXtjYXNlXCJwZXJpb2RcIjooXCJvYmplY3RcIiE9dHlwZW9mIGV8fHZvaWQgMD09ZS5sZW5ndGgpJiYoZT1bZSxlXSkscy5zdGVwPTAsJC5kYXRlcGlja2VyLl9zZXREYXRlX29yaWdpbmFsKHQsZVswXSxpKSxzLnN0YXJ0RGF0ZT10aGlzLl9nZXREYXRlKHQpLHMuc3RhcnREYXRlVGV4dD10aGlzLl9mb3JtYXREYXRlKHQpLCQuZGF0ZXBpY2tlci5fc2V0RGF0ZV9vcmlnaW5hbCh0LGVbMV0saSkscy5lbmREYXRlPXRoaXMuX2dldERhdGUodCkscy5lbmREYXRlVGV4dD10aGlzLl9mb3JtYXREYXRlKHQpLHMuc2V0Q2xhc3NBY3RpdmUodCk7YnJlYWs7Y2FzZVwibXVsdGlwbGVcIjooXCJvYmplY3RcIiE9dHlwZW9mIGV8fHZvaWQgMD09ZS5sZW5ndGgpJiYoZT1bZV0pLHMuZGF0ZXM9W10scy5kYXRlc1RleHQ9W107dmFyIG49dGhpczskLm1hcChlLGZ1bmN0aW9uKGUpeyQuZGF0ZXBpY2tlci5fc2V0RGF0ZV9vcmlnaW5hbCh0LGUsaSkscy5kYXRlcy5wdXNoKG4uX2dldERhdGUodCkpLHMuZGF0ZXNUZXh0LnB1c2gobi5fZm9ybWF0RGF0ZSh0KSl9KSxzLnNldENsYXNzQWN0aXZlKHQpfX07dmFyIF9kYXRlcGlja2VyRXh0ZW5zaW9uPWZ1bmN0aW9uKCl7dGhpcy5yYW5nZT0hMSx0aGlzLnJhbmdlX211bHRpcGxlX21heD0wLHRoaXMuc3RlcD0wLHRoaXMuZGF0ZXM9W10sdGhpcy5kYXRlc1RleHQ9W10sdGhpcy5zdGFydERhdGU9bnVsbCx0aGlzLmVuZERhdGU9bnVsbCx0aGlzLnN0YXJ0RGF0ZVRleHQ9XCJcIix0aGlzLmVuZERhdGVUZXh0PVwiXCIsdGhpcy5vblNlbGVjdD1mdW5jdGlvbih0LGUpe3N3aXRjaCh0aGlzLnJhbmdlKXtjYXNlXCJwZXJpb2RcIjpyZXR1cm4gdGhpcy5vblNlbGVjdFBlcmlvZCh0LGUpO2Nhc2VcIm11bHRpcGxlXCI6cmV0dXJuIHRoaXMub25TZWxlY3RNdWx0aXBsZSh0LGUpfX0sdGhpcy5vblNlbGVjdFBlcmlvZD1mdW5jdGlvbih0LGUpe3RoaXMuc3RlcCsrLHRoaXMuc3RlcCU9Mix0aGlzLnN0ZXA/KHRoaXMuc3RhcnREYXRlPXRoaXMuZ2V0U2VsZWN0ZWREYXRlKGUpLHRoaXMuZW5kRGF0ZT10aGlzLnN0YXJ0RGF0ZSx0aGlzLnN0YXJ0RGF0ZVRleHQ9dCx0aGlzLmVuZERhdGVUZXh0PXRoaXMuc3RhcnREYXRlVGV4dCk6KHRoaXMuZW5kRGF0ZT10aGlzLmdldFNlbGVjdGVkRGF0ZShlKSx0aGlzLmVuZERhdGVUZXh0PXQsdGhpcy5zdGFydERhdGUuZ2V0VGltZSgpPnRoaXMuZW5kRGF0ZS5nZXRUaW1lKCkmJih0aGlzLmVuZERhdGU9dGhpcy5zdGFydERhdGUsdGhpcy5zdGFydERhdGU9dGhpcy5nZXRTZWxlY3RlZERhdGUoZSksdGhpcy5lbmREYXRlVGV4dD10aGlzLnN0YXJ0RGF0ZVRleHQsdGhpcy5zdGFydERhdGVUZXh0PXQpKX0sdGhpcy5vblNlbGVjdE11bHRpcGxlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRTZWxlY3RlZERhdGUoZSksYT0tMTskLm1hcCh0aGlzLmRhdGVzLGZ1bmN0aW9uKHQsZSl7dC5nZXRUaW1lKCk9PWkuZ2V0VGltZSgpJiYoYT1lKX0pO3ZhciBzPSQuaW5BcnJheSh0LHRoaXMuZGF0ZXNUZXh0KTstMSE9YT90aGlzLmRhdGVzLnNwbGljZShhLDEpOnRoaXMuZGF0ZXMucHVzaChpKSwtMSE9cz90aGlzLmRhdGVzVGV4dC5zcGxpY2UocywxKTp0aGlzLmRhdGVzVGV4dC5wdXNoKHQpLHRoaXMucmFuZ2VfbXVsdGlwbGVfbWF4JiZ0aGlzLmRhdGVzLmxlbmd0aD50aGlzLnJhbmdlX211bHRpcGxlX21heCYmKHRoaXMuZGF0ZXMuc3BsaWNlKDAsMSksdGhpcy5kYXRlc1RleHQuc3BsaWNlKDAsMSkpfSx0aGlzLmZpbGxEYXk9ZnVuY3Rpb24odCxlKXt2YXIgaT1lWzFdO3N3aXRjaCgxPT10LmdldERhdGUoKSYmKGkrPVwiIGZpcnN0LW9mLW1vbnRoXCIpLHQuZ2V0RGF0ZSgpPT1uZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksdC5nZXRNb250aCgpKzEsMCkuZ2V0RGF0ZSgpJiYoaSs9XCIgbGFzdC1vZi1tb250aFwiKSxlWzFdPWkudHJpbSgpLHRoaXMucmFuZ2Upe2Nhc2VcInBlcmlvZFwiOnJldHVybiB0aGlzLmZpbGxEYXlQZXJpb2QodCxlKTtjYXNlXCJtdWx0aXBsZVwiOnJldHVybiB0aGlzLmZpbGxEYXlNdWx0aXBsZSh0LGUpfX0sdGhpcy5maWxsRGF5UGVyaW9kPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuc3RhcnREYXRlfHwhdGhpcy5lbmREYXRlKXJldHVybiBlO3ZhciBpPWVbMV07cmV0dXJuIHQ+PXRoaXMuc3RhcnREYXRlJiZ0PD10aGlzLmVuZERhdGUmJihpKz1cIiBzZWxlY3RlZFwiKSx0LmdldFRpbWUoKT09dGhpcy5zdGFydERhdGUuZ2V0VGltZSgpJiYoaSs9XCIgc2VsZWN0ZWQtc3RhcnRcIiksdC5nZXRUaW1lKCk9PXRoaXMuZW5kRGF0ZS5nZXRUaW1lKCkmJihpKz1cIiBzZWxlY3RlZC1lbmRcIiksZVsxXT1pLnRyaW0oKSxlfSx0aGlzLmZpbGxEYXlNdWx0aXBsZT1mdW5jdGlvbih0LGUpe3ZhciBpPWVbMV0sYT0hMTtyZXR1cm4gJC5tYXAodGhpcy5kYXRlcyxmdW5jdGlvbihlKXtlLmdldFRpbWUoKT09dC5nZXRUaW1lKCkmJihhPSEwKX0pLGEmJihpKz1cIiBzZWxlY3RlZCBzZWxlY3RlZC1zdGFydCBzZWxlY3RlZC1lbmRcIiksZVsxXT1pLnRyaW0oKSxlfSx0aGlzLmdldFNlbGVjdGVkRGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IERhdGUodC5zZWxlY3RlZFllYXIsdC5zZWxlY3RlZE1vbnRoLHQuc2VsZWN0ZWREYXkpfSx0aGlzLnNldENsYXNzQWN0aXZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpeyQoXCJ0ZC5zZWxlY3RlZCA+ICpcIix0LmRwRGl2KS5hZGRDbGFzcyhcInVpLXN0YXRlLWFjdGl2ZVwiKSxcIm11bHRpcGxlXCI9PWUucmFuZ2UmJiQoXCJ0ZDpub3QoLnNlbGVjdGVkKVwiLHQuZHBEaXYpLnJlbW92ZUNsYXNzKFwidWktZGF0ZXBpY2tlci1jdXJyZW50LWRheVwiKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtYWN0aXZlXCIpfSl9fTsiLCIvKiEgalF1ZXJ5IFVJIC0gdjEuOS4yIC0gMjAxNC0wMy0yMVxyXG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cclxuKiBJbmNsdWRlczoganF1ZXJ5LnVpLmVmZmVjdC5qc1xyXG4qIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqL1xyXG5cclxualF1ZXJ5LmVmZmVjdHN8fGZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS51aUJhY2tDb21wYXQhPT0hMSxhPVwidWktZWZmZWN0cy1cIjtlLmVmZmVjdHM9e2VmZmVjdDp7fX0sZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBhKGUsdCxpKXt2YXIgYT1jW3QudHlwZV18fHt9O3JldHVybiBudWxsPT1lP2l8fCF0LmRlZj9udWxsOnQuZGVmOihlPWEuZmxvb3I/fn5lOnBhcnNlRmxvYXQoZSksaXNOYU4oZSk/dC5kZWY6YS5tb2Q/KGUrYS5tb2QpJWEubW9kOjA+ZT8wOmU+YS5tYXg/YS5tYXg6ZSl9ZnVuY3Rpb24gcyhlKXt2YXIgYT11KCkscz1hLl9yZ2JhPVtdO3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSxtKGwsZnVuY3Rpb24odCxuKXt2YXIgcixvPW4ucmUuZXhlYyhlKSxoPW8mJm4ucGFyc2UobyksbD1uLnNwYWNlfHxcInJnYmFcIjtyZXR1cm4gaD8ocj1hW2xdKGgpLGFbZFtsXS5jYWNoZV09cltkW2xdLmNhY2hlXSxzPWEuX3JnYmE9ci5fcmdiYSwhMSk6aX0pLHMubGVuZ3RoPyhcIjAsMCwwLDBcIj09PXMuam9pbigpJiZ0LmV4dGVuZChzLHIudHJhbnNwYXJlbnQpLGEpOnJbZV19ZnVuY3Rpb24gbihlLHQsaSl7cmV0dXJuIGk9KGkrMSklMSwxPjYqaT9lKzYqKHQtZSkqaToxPjIqaT90OjI+MyppP2UrNioodC1lKSooMi8zLWkpOmV9dmFyIHIsbz1cImJhY2tncm91bmRDb2xvciBib3JkZXJCb3R0b21Db2xvciBib3JkZXJMZWZ0Q29sb3IgYm9yZGVyUmlnaHRDb2xvciBib3JkZXJUb3BDb2xvciBjb2xvciBjb2x1bW5SdWxlQ29sb3Igb3V0bGluZUNvbG9yIHRleHREZWNvcmF0aW9uQ29sb3IgdGV4dEVtcGhhc2lzQ29sb3JcIi5zcGxpdChcIiBcIiksaD0vXihbXFwtK10pPVxccyooXFxkK1xcLj9cXGQqKS8sbD1be3JlOi9yZ2JhP1xcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqKD86LFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybltlWzFdLGVbMl0sZVszXSxlWzRdXX19LHtyZTovcmdiYT9cXChcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm5bMi41NSplWzFdLDIuNTUqZVsyXSwyLjU1KmVbM10sZVs0XV19fSx7cmU6LyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkvLHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybltwYXJzZUludChlWzFdLDE2KSxwYXJzZUludChlWzJdLDE2KSxwYXJzZUludChlWzNdLDE2KV19fSx7cmU6LyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkvLHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybltwYXJzZUludChlWzFdK2VbMV0sMTYpLHBhcnNlSW50KGVbMl0rZVsyXSwxNikscGFyc2VJbnQoZVszXStlWzNdLDE2KV19fSx7cmU6L2hzbGE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyopP1xcKS8sc3BhY2U6XCJoc2xhXCIscGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuW2VbMV0sZVsyXS8xMDAsZVszXS8xMDAsZVs0XV19fV0sdT10LkNvbG9yPWZ1bmN0aW9uKGUsaSxhLHMpe3JldHVybiBuZXcgdC5Db2xvci5mbi5wYXJzZShlLGksYSxzKX0sZD17cmdiYTp7cHJvcHM6e3JlZDp7aWR4OjAsdHlwZTpcImJ5dGVcIn0sZ3JlZW46e2lkeDoxLHR5cGU6XCJieXRlXCJ9LGJsdWU6e2lkeDoyLHR5cGU6XCJieXRlXCJ9fX0saHNsYTp7cHJvcHM6e2h1ZTp7aWR4OjAsdHlwZTpcImRlZ3JlZXNcIn0sc2F0dXJhdGlvbjp7aWR4OjEsdHlwZTpcInBlcmNlbnRcIn0sbGlnaHRuZXNzOntpZHg6Mix0eXBlOlwicGVyY2VudFwifX19fSxjPXtcImJ5dGVcIjp7Zmxvb3I6ITAsbWF4OjI1NX0scGVyY2VudDp7bWF4OjF9LGRlZ3JlZXM6e21vZDozNjAsZmxvb3I6ITB9fSxwPXUuc3VwcG9ydD17fSxmPXQoXCI8cD5cIilbMF0sbT10LmVhY2g7Zi5zdHlsZS5jc3NUZXh0PVwiYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KVwiLHAucmdiYT1mLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKFwicmdiYVwiKT4tMSxtKGQsZnVuY3Rpb24oZSx0KXt0LmNhY2hlPVwiX1wiK2UsdC5wcm9wcy5hbHBoYT17aWR4OjMsdHlwZTpcInBlcmNlbnRcIixkZWY6MX19KSx1LmZuPXQuZXh0ZW5kKHUucHJvdG90eXBlLHtwYXJzZTpmdW5jdGlvbihuLG8saCxsKXtpZihuPT09aSlyZXR1cm4gdGhpcy5fcmdiYT1bbnVsbCxudWxsLG51bGwsbnVsbF0sdGhpczsobi5qcXVlcnl8fG4ubm9kZVR5cGUpJiYobj10KG4pLmNzcyhvKSxvPWkpO3ZhciBjPXRoaXMscD10LnR5cGUobiksZj10aGlzLl9yZ2JhPVtdO3JldHVybiBvIT09aSYmKG49W24sbyxoLGxdLHA9XCJhcnJheVwiKSxcInN0cmluZ1wiPT09cD90aGlzLnBhcnNlKHMobil8fHIuX2RlZmF1bHQpOlwiYXJyYXlcIj09PXA/KG0oZC5yZ2JhLnByb3BzLGZ1bmN0aW9uKGUsdCl7Zlt0LmlkeF09YShuW3QuaWR4XSx0KX0pLHRoaXMpOlwib2JqZWN0XCI9PT1wPyhuIGluc3RhbmNlb2YgdT9tKGQsZnVuY3Rpb24oZSx0KXtuW3QuY2FjaGVdJiYoY1t0LmNhY2hlXT1uW3QuY2FjaGVdLnNsaWNlKCkpfSk6bShkLGZ1bmN0aW9uKHQsaSl7dmFyIHM9aS5jYWNoZTttKGkucHJvcHMsZnVuY3Rpb24oZSx0KXtpZighY1tzXSYmaS50byl7aWYoXCJhbHBoYVwiPT09ZXx8bnVsbD09bltlXSlyZXR1cm47Y1tzXT1pLnRvKGMuX3JnYmEpfWNbc11bdC5pZHhdPWEobltlXSx0LCEwKX0pLGNbc10mJjA+ZS5pbkFycmF5KG51bGwsY1tzXS5zbGljZSgwLDMpKSYmKGNbc11bM109MSxpLmZyb20mJihjLl9yZ2JhPWkuZnJvbShjW3NdKSkpfSksdGhpcyk6aX0saXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dShlKSxhPSEwLHM9dGhpcztyZXR1cm4gbShkLGZ1bmN0aW9uKGUsbil7dmFyIHIsbz10W24uY2FjaGVdO3JldHVybiBvJiYocj1zW24uY2FjaGVdfHxuLnRvJiZuLnRvKHMuX3JnYmEpfHxbXSxtKG4ucHJvcHMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9b1t0LmlkeF0/YT1vW3QuaWR4XT09PXJbdC5pZHhdOml9KSksYX0pLGF9LF9zcGFjZTpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcztyZXR1cm4gbShkLGZ1bmN0aW9uKGksYSl7dFthLmNhY2hlXSYmZS5wdXNoKGkpfSksZS5wb3AoKX0sdHJhbnNpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBpPXUoZSkscz1pLl9zcGFjZSgpLG49ZFtzXSxyPTA9PT10aGlzLmFscGhhKCk/dShcInRyYW5zcGFyZW50XCIpOnRoaXMsbz1yW24uY2FjaGVdfHxuLnRvKHIuX3JnYmEpLGg9by5zbGljZSgpO3JldHVybiBpPWlbbi5jYWNoZV0sbShuLnByb3BzLGZ1bmN0aW9uKGUscyl7dmFyIG49cy5pZHgscj1vW25dLGw9aVtuXSx1PWNbcy50eXBlXXx8e307bnVsbCE9PWwmJihudWxsPT09cj9oW25dPWw6KHUubW9kJiYobC1yPnUubW9kLzI/cis9dS5tb2Q6ci1sPnUubW9kLzImJihyLT11Lm1vZCkpLGhbbl09YSgobC1yKSp0K3IscykpKX0pLHRoaXNbc10oaCl9LGJsZW5kOmZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLl9yZ2JhWzNdKXJldHVybiB0aGlzO3ZhciBpPXRoaXMuX3JnYmEuc2xpY2UoKSxhPWkucG9wKCkscz11KGUpLl9yZ2JhO3JldHVybiB1KHQubWFwKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4oMS1hKSpzW3RdK2EqZX0pKX0sdG9SZ2JhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9XCJyZ2JhKFwiLGk9dC5tYXAodGhpcy5fcmdiYSxmdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT1lP3Q+Mj8xOjA6ZX0pO3JldHVybiAxPT09aVszXSYmKGkucG9wKCksZT1cInJnYihcIiksZStpLmpvaW4oKStcIilcIn0sdG9Ic2xhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9XCJoc2xhKFwiLGk9dC5tYXAodGhpcy5oc2xhKCksZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZSYmKGU9dD4yPzE6MCksdCYmMz50JiYoZT1NYXRoLnJvdW5kKDEwMCplKStcIiVcIiksZX0pO3JldHVybiAxPT09aVszXSYmKGkucG9wKCksZT1cImhzbChcIiksZStpLmpvaW4oKStcIilcIn0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5fcmdiYS5zbGljZSgpLGE9aS5wb3AoKTtyZXR1cm4gZSYmaS5wdXNoKH5+KDI1NSphKSksXCIjXCIrdC5tYXAoaSxmdW5jdGlvbihlKXtyZXR1cm4gZT0oZXx8MCkudG9TdHJpbmcoMTYpLDE9PT1lLmxlbmd0aD9cIjBcIitlOmV9KS5qb2luKFwiXCIpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcmdiYVszXT9cInRyYW5zcGFyZW50XCI6dGhpcy50b1JnYmFTdHJpbmcoKX19KSx1LmZuLnBhcnNlLnByb3RvdHlwZT11LmZuLGQuaHNsYS50bz1mdW5jdGlvbihlKXtpZihudWxsPT1lWzBdfHxudWxsPT1lWzFdfHxudWxsPT1lWzJdKXJldHVybltudWxsLG51bGwsbnVsbCxlWzNdXTt2YXIgdCxpLGE9ZVswXS8yNTUscz1lWzFdLzI1NSxuPWVbMl0vMjU1LHI9ZVszXSxvPU1hdGgubWF4KGEscyxuKSxoPU1hdGgubWluKGEscyxuKSxsPW8taCx1PW8raCxkPS41KnU7cmV0dXJuIHQ9aD09PW8/MDphPT09bz82MCoocy1uKS9sKzM2MDpzPT09bz82MCoobi1hKS9sKzEyMDo2MCooYS1zKS9sKzI0MCxpPTA9PT1kfHwxPT09ZD9kOi41Pj1kP2wvdTpsLygyLXUpLFtNYXRoLnJvdW5kKHQpJTM2MCxpLGQsbnVsbD09cj8xOnJdfSxkLmhzbGEuZnJvbT1mdW5jdGlvbihlKXtpZihudWxsPT1lWzBdfHxudWxsPT1lWzFdfHxudWxsPT1lWzJdKXJldHVybltudWxsLG51bGwsbnVsbCxlWzNdXTt2YXIgdD1lWzBdLzM2MCxpPWVbMV0sYT1lWzJdLHM9ZVszXSxyPS41Pj1hP2EqKDEraSk6YStpLWEqaSxvPTIqYS1yO3JldHVybltNYXRoLnJvdW5kKDI1NSpuKG8scix0KzEvMykpLE1hdGgucm91bmQoMjU1Km4obyxyLHQpKSxNYXRoLnJvdW5kKDI1NSpuKG8scix0LTEvMykpLHNdfSxtKGQsZnVuY3Rpb24oZSxzKXt2YXIgbj1zLnByb3BzLHI9cy5jYWNoZSxvPXMudG8sbD1zLmZyb207dS5mbltlXT1mdW5jdGlvbihlKXtpZihvJiYhdGhpc1tyXSYmKHRoaXNbcl09byh0aGlzLl9yZ2JhKSksZT09PWkpcmV0dXJuIHRoaXNbcl0uc2xpY2UoKTt2YXIgcyxoPXQudHlwZShlKSxkPVwiYXJyYXlcIj09PWh8fFwib2JqZWN0XCI9PT1oP2U6YXJndW1lbnRzLGM9dGhpc1tyXS5zbGljZSgpO3JldHVybiBtKG4sZnVuY3Rpb24oZSx0KXt2YXIgaT1kW1wib2JqZWN0XCI9PT1oP2U6dC5pZHhdO251bGw9PWkmJihpPWNbdC5pZHhdKSxjW3QuaWR4XT1hKGksdCl9KSxsPyhzPXUobChjKSksc1tyXT1jLHMpOnUoYyl9LG0obixmdW5jdGlvbihpLGEpe3UuZm5baV18fCh1LmZuW2ldPWZ1bmN0aW9uKHMpe3ZhciBuLHI9dC50eXBlKHMpLG89XCJhbHBoYVwiPT09aT90aGlzLl9oc2xhP1wiaHNsYVwiOlwicmdiYVwiOmUsbD10aGlzW29dKCksdT1sW2EuaWR4XTtyZXR1cm5cInVuZGVmaW5lZFwiPT09cj91OihcImZ1bmN0aW9uXCI9PT1yJiYocz1zLmNhbGwodGhpcyx1KSxyPXQudHlwZShzKSksbnVsbD09cyYmYS5lbXB0eT90aGlzOihcInN0cmluZ1wiPT09ciYmKG49aC5leGVjKHMpLG4mJihzPXUrcGFyc2VGbG9hdChuWzJdKSooXCIrXCI9PT1uWzFdPzE6LTEpKSksbFthLmlkeF09cyx0aGlzW29dKGwpKSl9KX0pfSksbShvLGZ1bmN0aW9uKGUsaSl7dC5jc3NIb29rc1tpXT17c2V0OmZ1bmN0aW9uKGUsYSl7dmFyIG4scixvPVwiXCI7aWYoXCJzdHJpbmdcIiE9PXQudHlwZShhKXx8KG49cyhhKSkpe2lmKGE9dShufHxhKSwhcC5yZ2JhJiYxIT09YS5fcmdiYVszXSl7Zm9yKHI9XCJiYWNrZ3JvdW5kQ29sb3JcIj09PWk/ZS5wYXJlbnROb2RlOmU7KFwiXCI9PT1vfHxcInRyYW5zcGFyZW50XCI9PT1vKSYmciYmci5zdHlsZTspdHJ5e289dC5jc3MocixcImJhY2tncm91bmRDb2xvclwiKSxyPXIucGFyZW50Tm9kZX1jYXRjaChoKXt9YT1hLmJsZW5kKG8mJlwidHJhbnNwYXJlbnRcIiE9PW8/bzpcIl9kZWZhdWx0XCIpfWE9YS50b1JnYmFTdHJpbmcoKX10cnl7ZS5zdHlsZVtpXT1hfWNhdGNoKGwpe319fSx0LmZ4LnN0ZXBbaV09ZnVuY3Rpb24oZSl7ZS5jb2xvckluaXR8fChlLnN0YXJ0PXUoZS5lbGVtLGkpLGUuZW5kPXUoZS5lbmQpLGUuY29sb3JJbml0PSEwKSx0LmNzc0hvb2tzW2ldLnNldChlLmVsZW0sZS5zdGFydC50cmFuc2l0aW9uKGUuZW5kLGUucG9zKSl9fSksdC5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBtKFtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxmdW5jdGlvbihpLGEpe3RbXCJib3JkZXJcIithK1wiQ29sb3JcIl09ZX0pLHR9fSxyPXQuQ29sb3IubmFtZXM9e2FxdWE6XCIjMDBmZmZmXCIsYmxhY2s6XCIjMDAwMDAwXCIsYmx1ZTpcIiMwMDAwZmZcIixmdWNoc2lhOlwiI2ZmMDBmZlwiLGdyYXk6XCIjODA4MDgwXCIsZ3JlZW46XCIjMDA4MDAwXCIsbGltZTpcIiMwMGZmMDBcIixtYXJvb246XCIjODAwMDAwXCIsbmF2eTpcIiMwMDAwODBcIixvbGl2ZTpcIiM4MDgwMDBcIixwdXJwbGU6XCIjODAwMDgwXCIscmVkOlwiI2ZmMDAwMFwiLHNpbHZlcjpcIiNjMGMwYzBcIix0ZWFsOlwiIzAwODA4MFwiLHdoaXRlOlwiI2ZmZmZmZlwiLHllbGxvdzpcIiNmZmZmMDBcIix0cmFuc3BhcmVudDpbbnVsbCxudWxsLG51bGwsMF0sX2RlZmF1bHQ6XCIjZmZmZmZmXCJ9fShqUXVlcnkpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3ZhciB0LGksYT10aGlzLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc/dGhpcy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKTp0aGlzLmN1cnJlbnRTdHlsZSxzPXt9O2lmKGEmJmEubGVuZ3RoJiZhWzBdJiZhW2FbMF1dKWZvcihpPWEubGVuZ3RoO2ktLTspdD1hW2ldLFwic3RyaW5nXCI9PXR5cGVvZiBhW3RdJiYoc1tlLmNhbWVsQ2FzZSh0KV09YVt0XSk7ZWxzZSBmb3IodCBpbiBhKVwic3RyaW5nXCI9PXR5cGVvZiBhW3RdJiYoc1t0XT1hW3RdKTtyZXR1cm4gc31mdW5jdGlvbiBhKHQsaSl7dmFyIGEscyxyPXt9O2ZvcihhIGluIGkpcz1pW2FdLHRbYV0hPT1zJiYoblthXXx8KGUuZnguc3RlcFthXXx8IWlzTmFOKHBhcnNlRmxvYXQocykpKSYmKHJbYV09cykpO3JldHVybiByfXZhciBzPVtcImFkZFwiLFwicmVtb3ZlXCIsXCJ0b2dnbGVcIl0sbj17Ym9yZGVyOjEsYm9yZGVyQm90dG9tOjEsYm9yZGVyQ29sb3I6MSxib3JkZXJMZWZ0OjEsYm9yZGVyUmlnaHQ6MSxib3JkZXJUb3A6MSxib3JkZXJXaWR0aDoxLG1hcmdpbjoxLHBhZGRpbmc6MX07ZS5lYWNoKFtcImJvcmRlckxlZnRTdHlsZVwiLFwiYm9yZGVyUmlnaHRTdHlsZVwiLFwiYm9yZGVyQm90dG9tU3R5bGVcIixcImJvcmRlclRvcFN0eWxlXCJdLGZ1bmN0aW9uKHQsaSl7ZS5meC5zdGVwW2ldPWZ1bmN0aW9uKGUpeyhcIm5vbmVcIiE9PWUuZW5kJiYhZS5zZXRBdHRyfHwxPT09ZS5wb3MmJiFlLnNldEF0dHIpJiYoalF1ZXJ5LnN0eWxlKGUuZWxlbSxpLGUuZW5kKSxlLnNldEF0dHI9ITApfX0pLGUuZWZmZWN0cy5hbmltYXRlQ2xhc3M9ZnVuY3Rpb24odCxuLHIsbyl7dmFyIGg9ZS5zcGVlZChuLHIsbyk7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgbixyPWUodGhpcyksbz1yLmF0dHIoXCJjbGFzc1wiKXx8XCJcIixsPWguY2hpbGRyZW4/ci5maW5kKFwiKlwiKS5hbmRTZWxmKCk6cjtsPWwubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTtyZXR1cm57ZWw6dCxzdGFydDppLmNhbGwodGhpcyl9fSksbj1mdW5jdGlvbigpe2UuZWFjaChzLGZ1bmN0aW9uKGUsaSl7dFtpXSYmcltpK1wiQ2xhc3NcIl0odFtpXSl9KX0sbigpLGw9bC5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQ9aS5jYWxsKHRoaXMuZWxbMF0pLHRoaXMuZGlmZj1hKHRoaXMuc3RhcnQsdGhpcy5lbmQpLHRoaXN9KSxyLmF0dHIoXCJjbGFzc1wiLG8pLGw9bC5tYXAoZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9ZS5EZWZlcnJlZCgpLGE9alF1ZXJ5LmV4dGVuZCh7fSxoLHtxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe2kucmVzb2x2ZSh0KX19KTtyZXR1cm4gdGhpcy5lbC5hbmltYXRlKHRoaXMuZGlmZixhKSxpLnByb21pc2UoKX0pLGUud2hlbi5hcHBseShlLGwuZ2V0KCkpLmRvbmUoZnVuY3Rpb24oKXtuKCksZS5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7ZS5lYWNoKHRoaXMuZGlmZixmdW5jdGlvbihlKXt0LmNzcyhlLFwiXCIpfSl9KSxoLmNvbXBsZXRlLmNhbGwoclswXSl9KX0pfSxlLmZuLmV4dGVuZCh7X2FkZENsYXNzOmUuZm4uYWRkQ2xhc3MsYWRkQ2xhc3M6ZnVuY3Rpb24odCxpLGEscyl7cmV0dXJuIGk/ZS5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse2FkZDp0fSxpLGEscyk6dGhpcy5fYWRkQ2xhc3ModCl9LF9yZW1vdmVDbGFzczplLmZuLnJlbW92ZUNsYXNzLHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQsaSxhLHMpe3JldHVybiBpP2UuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6dH0saSxhLHMpOnRoaXMuX3JlbW92ZUNsYXNzKHQpfSxfdG9nZ2xlQ2xhc3M6ZS5mbi50b2dnbGVDbGFzcyx0b2dnbGVDbGFzczpmdW5jdGlvbihpLGEscyxuLHIpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYXx8YT09PXQ/cz9lLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyxhP3thZGQ6aX06e3JlbW92ZTppfSxzLG4scik6dGhpcy5fdG9nZ2xlQ2xhc3MoaSxhKTplLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7dG9nZ2xlOml9LGEscyxuKX0sc3dpdGNoQ2xhc3M6ZnVuY3Rpb24odCxpLGEscyxuKXtyZXR1cm4gZS5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse2FkZDppLHJlbW92ZTp0fSxhLHMsbil9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBzKHQsaSxhLHMpe3JldHVybiBlLmlzUGxhaW5PYmplY3QodCkmJihpPXQsdD10LmVmZmVjdCksdD17ZWZmZWN0OnR9LG51bGw9PWkmJihpPXt9KSxlLmlzRnVuY3Rpb24oaSkmJihzPWksYT1udWxsLGk9e30pLChcIm51bWJlclwiPT10eXBlb2YgaXx8ZS5meC5zcGVlZHNbaV0pJiYocz1hLGE9aSxpPXt9KSxlLmlzRnVuY3Rpb24oYSkmJihzPWEsYT1udWxsKSxpJiZlLmV4dGVuZCh0LGkpLGE9YXx8aS5kdXJhdGlvbix0LmR1cmF0aW9uPWUuZngub2ZmPzA6XCJudW1iZXJcIj09dHlwZW9mIGE/YTphIGluIGUuZnguc3BlZWRzP2UuZnguc3BlZWRzW2FdOmUuZnguc3BlZWRzLl9kZWZhdWx0LHQuY29tcGxldGU9c3x8aS5jb21wbGV0ZSx0fWZ1bmN0aW9uIG4odCl7cmV0dXJuIXR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fHxlLmZ4LnNwZWVkc1t0XT8hMDpcInN0cmluZ1wiIT10eXBlb2YgdHx8ZS5lZmZlY3RzLmVmZmVjdFt0XT8hMTppJiZlLmVmZmVjdHNbdF0/ITE6ITB9ZS5leHRlbmQoZS5lZmZlY3RzLHt2ZXJzaW9uOlwiMS45LjJcIixzYXZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTA7dC5sZW5ndGg+aTtpKyspbnVsbCE9PXRbaV0mJmUuZGF0YShhK3RbaV0sZVswXS5zdHlsZVt0W2ldXSl9LHJlc3RvcmU6ZnVuY3Rpb24oZSxpKXt2YXIgcyxuO2ZvcihuPTA7aS5sZW5ndGg+bjtuKyspbnVsbCE9PWlbbl0mJihzPWUuZGF0YShhK2lbbl0pLHM9PT10JiYocz1cIlwiKSxlLmNzcyhpW25dLHMpKX0sc2V0TW9kZTpmdW5jdGlvbihlLHQpe3JldHVyblwidG9nZ2xlXCI9PT10JiYodD1lLmlzKFwiOmhpZGRlblwiKT9cInNob3dcIjpcImhpZGVcIiksdH0sZ2V0QmFzZWxpbmU6ZnVuY3Rpb24oZSx0KXt2YXIgaSxhO3N3aXRjaChlWzBdKXtjYXNlXCJ0b3BcIjppPTA7YnJlYWs7Y2FzZVwibWlkZGxlXCI6aT0uNTticmVhaztjYXNlXCJib3R0b21cIjppPTE7YnJlYWs7ZGVmYXVsdDppPWVbMF0vdC5oZWlnaHR9c3dpdGNoKGVbMV0pe2Nhc2VcImxlZnRcIjphPTA7YnJlYWs7Y2FzZVwiY2VudGVyXCI6YT0uNTticmVhaztjYXNlXCJyaWdodFwiOmE9MTticmVhaztkZWZhdWx0OmE9ZVsxXS90LndpZHRofXJldHVybnt4OmEseTppfX0sY3JlYXRlV3JhcHBlcjpmdW5jdGlvbih0KXtpZih0LnBhcmVudCgpLmlzKFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiKSlyZXR1cm4gdC5wYXJlbnQoKTt2YXIgaT17d2lkdGg6dC5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6dC5vdXRlckhlaWdodCghMCksXCJmbG9hdFwiOnQuY3NzKFwiZmxvYXRcIil9LGE9ZShcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwidWktZWZmZWN0cy13cmFwcGVyXCIpLmNzcyh7Zm9udFNpemU6XCIxMDAlXCIsYmFja2dyb3VuZDpcInRyYW5zcGFyZW50XCIsYm9yZGVyOlwibm9uZVwiLG1hcmdpbjowLHBhZGRpbmc6MH0pLHM9e3dpZHRoOnQud2lkdGgoKSxoZWlnaHQ6dC5oZWlnaHQoKX0sbj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3RyeXtuLmlkfWNhdGNoKHIpe249ZG9jdW1lbnQuYm9keX1yZXR1cm4gdC53cmFwKGEpLCh0WzBdPT09bnx8ZS5jb250YWlucyh0WzBdLG4pKSYmZShuKS5mb2N1cygpLGE9dC5wYXJlbnQoKSxcInN0YXRpY1wiPT09dC5jc3MoXCJwb3NpdGlvblwiKT8oYS5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIn0pLHQuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KSk6KGUuZXh0ZW5kKGkse3Bvc2l0aW9uOnQuY3NzKFwicG9zaXRpb25cIiksekluZGV4OnQuY3NzKFwiei1pbmRleFwiKX0pLGUuZWFjaChbXCJ0b3BcIixcImxlZnRcIixcImJvdHRvbVwiLFwicmlnaHRcIl0sZnVuY3Rpb24oZSxhKXtpW2FdPXQuY3NzKGEpLGlzTmFOKHBhcnNlSW50KGlbYV0sMTApKSYmKGlbYV09XCJhdXRvXCIpfSksdC5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIix0b3A6MCxsZWZ0OjAscmlnaHQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSkpLHQuY3NzKHMpLGEuY3NzKGkpLnNob3coKX0scmVtb3ZlV3JhcHBlcjpmdW5jdGlvbih0KXt2YXIgaT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3JldHVybiB0LnBhcmVudCgpLmlzKFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiKSYmKHQucGFyZW50KCkucmVwbGFjZVdpdGgodCksKHRbMF09PT1pfHxlLmNvbnRhaW5zKHRbMF0saSkpJiZlKGkpLmZvY3VzKCkpLHR9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24odCxpLGEscyl7cmV0dXJuIHM9c3x8e30sZS5lYWNoKGksZnVuY3Rpb24oZSxpKXt2YXIgbj10LmNzc1VuaXQoaSk7blswXT4wJiYoc1tpXT1uWzBdKmErblsxXSl9KSxzfX0pLGUuZm4uZXh0ZW5kKHtlZmZlY3Q6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2Z1bmN0aW9uIGkoKXtlLmlzRnVuY3Rpb24obikmJm4uY2FsbChzWzBdKSxlLmlzRnVuY3Rpb24odCkmJnQoKX12YXIgcz1lKHRoaXMpLG49YS5jb21wbGV0ZSxyPWEubW9kZTsocy5pcyhcIjpoaWRkZW5cIik/XCJoaWRlXCI9PT1yOlwic2hvd1wiPT09cik/aSgpOm8uY2FsbChzWzBdLGEsaSl9dmFyIGE9cy5hcHBseSh0aGlzLGFyZ3VtZW50cyksbj1hLm1vZGUscj1hLnF1ZXVlLG89ZS5lZmZlY3RzLmVmZmVjdFthLmVmZmVjdF0saD0hbyYmaSYmZS5lZmZlY3RzW2EuZWZmZWN0XTtyZXR1cm4gZS5meC5vZmZ8fCFvJiYhaD9uP3RoaXNbbl0oYS5kdXJhdGlvbixhLmNvbXBsZXRlKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthLmNvbXBsZXRlJiZhLmNvbXBsZXRlLmNhbGwodGhpcyl9KTpvP3I9PT0hMT90aGlzLmVhY2godCk6dGhpcy5xdWV1ZShyfHxcImZ4XCIsdCk6aC5jYWxsKHRoaXMse29wdGlvbnM6YSxkdXJhdGlvbjphLmR1cmF0aW9uLGNhbGxiYWNrOmEuY29tcGxldGUsbW9kZTphLm1vZGV9KX0sX3Nob3c6ZS5mbi5zaG93LHNob3c6ZnVuY3Rpb24oZSl7aWYobihlKSlyZXR1cm4gdGhpcy5fc2hvdy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHQ9cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQubW9kZT1cInNob3dcIix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsdCl9LF9oaWRlOmUuZm4uaGlkZSxoaWRlOmZ1bmN0aW9uKGUpe2lmKG4oZSkpcmV0dXJuIHRoaXMuX2hpZGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB0PXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0Lm1vZGU9XCJoaWRlXCIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHQpfSxfX3RvZ2dsZTplLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24odCl7aWYobih0KXx8XCJib29sZWFuXCI9PXR5cGVvZiB0fHxlLmlzRnVuY3Rpb24odCkpcmV0dXJuIHRoaXMuX190b2dnbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBpPXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBpLm1vZGU9XCJ0b2dnbGVcIix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsaSl9LGNzc1VuaXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jc3ModCksYT1bXTtyZXR1cm4gZS5lYWNoKFtcImVtXCIsXCJweFwiLFwiJVwiLFwicHRcIl0sZnVuY3Rpb24oZSx0KXtpLmluZGV4T2YodCk+MCYmKGE9W3BhcnNlRmxvYXQoaSksdF0pfSksYX19KX0oKSxmdW5jdGlvbigpe3ZhciB0PXt9O2UuZWFjaChbXCJRdWFkXCIsXCJDdWJpY1wiLFwiUXVhcnRcIixcIlF1aW50XCIsXCJFeHBvXCJdLGZ1bmN0aW9uKGUsaSl7dFtpXT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxlKzIpfX0pLGUuZXh0ZW5kKHQse1NpbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIDEtTWF0aC5jb3MoZSpNYXRoLlBJLzIpfSxDaXJjOmZ1bmN0aW9uKGUpe3JldHVybiAxLU1hdGguc3FydCgxLWUqZSl9LEVsYXN0aWM6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lfHwxPT09ZT9lOi1NYXRoLnBvdygyLDgqKGUtMSkpKk1hdGguc2luKCg4MCooZS0xKS03LjUpKk1hdGguUEkvMTUpfSxCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiBlKmUqKDMqZS0yKX0sQm91bmNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPTQ7KCh0PU1hdGgucG93KDIsLS1pKSktMSkvMTE+ZTspO3JldHVybiAxL01hdGgucG93KDQsMy1pKS03LjU2MjUqTWF0aC5wb3coKDMqdC0yKS8yMi1lLDIpfX0pLGUuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7ZS5lYXNpbmdbXCJlYXNlSW5cIit0XT1pLGUuZWFzaW5nW1wiZWFzZU91dFwiK3RdPWZ1bmN0aW9uKGUpe3JldHVybiAxLWkoMS1lKX0sZS5lYXNpbmdbXCJlYXNlSW5PdXRcIit0XT1mdW5jdGlvbihlKXtyZXR1cm4uNT5lP2koMiplKS8yOjEtaSgtMiplKzIpLzJ9fSl9KCl9KGpRdWVyeSk7XHJcbiIsIlxyXG5cclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5DbGFzczogZnJlZXplSGVhZGVyXHJcblVzZTpmcmVlemUgaGVhZGVyIHJvdyBpbiBodG1sIHRhYmxlXHJcbkV4YW1wbGUgMTogICQoJyN0YWJsZWlkJykuZnJlZXplSGVhZGVyKCk7XHJcbkV4YW1wbGUgMjogICQoXCIjdGFibGVpZFwiKS5mcmVlemVIZWFkZXIoeyAnaGVpZ2h0JzogJzMwMHB4JyB9KTtcclxuRXhhbXBsZSAzOiAgJChcInRhYmxlXCIpLmZyZWV6ZUhlYWRlcigpO1xyXG5FeGFtcGxlIDQ6ICAkKFwiLnRhYmxlMlwiKS5mcmVlemVIZWFkZXIoKTtcclxuRXhhbXBsZSA1OiAgJChcIiN0YWJsZWlkXCIpLmZyZWV6ZUhlYWRlcih7ICdvZmZzZXQnOiAnNTBweCcgfSk7XHJcbkF1dGhvcihzKTogTGFlcnRlIE1lcmNpZXIgSnVuaW9yLCBMYXJyeSBBLiBIZW5kcml4XHJcblZlcnNpb246IDEuMC44XHJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4oZnVuY3Rpb24gKCQpIHtcclxuICAgIHZhciBUQUJMRV9JRCA9IDA7XHJcbiAgICAkLmZuLmZyZWV6ZUhlYWRlciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuXHJcbiAgICAgICAgdmFyIGNvcGllZEhlYWRlciA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBmcmVlemVIZWFkZXIoZWxlbSkge1xyXG4gICAgICAgICAgICB2YXIgaWRPYmogPSBlbGVtLmF0dHIoJ2lkJykgfHwgKCd0YmwtJyArICgrK1RBQkxFX0lEKSk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtLmxlbmd0aCA+IDAgJiYgZWxlbVswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gXCJ0YWJsZVwiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogaWRPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZDogZWxlbSxcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpdlNjcm9sbDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBvcGVuRGl2U2Nyb2xsOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlRGl2U2Nyb2xsOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVyOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmRpdlNjcm9sbCA9ICc8ZGl2IGlkPVwiaGRTY3JvbGwnICsgb2JqLmlkICsgJ1wiIHN0eWxlPVwiaGVpZ2h0OiAnICsgcGFyYW1zLmhlaWdodCArICc7IG92ZXJmbG93LXk6IHNjcm9sbFwiPic7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNsb3NlRGl2U2Nyb2xsID0gJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqLmhlYWRlciA9IG9iai5ncmlkLmZpbmQoJ3RoZWFkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI2hkU2Nyb2xsJyArIG9iai5pZCkubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmdyaWQud3JhcEFsbChvYmouZGl2U2Nyb2xsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgb2JqLnNjcm9sbGVyID0gcGFyYW1zICYmIHBhcmFtcy5oZWlnaHQgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgPyAkKCcjaGRTY3JvbGwnICsgb2JqLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgOiAkKHdpbmRvdyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMuc2Nyb2xsTGlzdGVuZXJFbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLnNjcm9sbGVyID0gcGFyYW1zLnNjcm9sbExpc3RlbmVyRWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvYmouc2Nyb2xsZXIub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCgnI2hkJyArIG9iai5pZCkubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmdyaWQuYmVmb3JlKCc8ZGl2IGNsYXNzPVwiZnJlZWV6XCIgaWQ9XCJoZCcgKyBvYmouaWQgKyAnXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBvYmouY29udGFpbmVyID0gJCgnI2hkJyArIG9iai5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmouaGVhZGVyLm9mZnNldCgpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbWl0ZUFsY2FuY2FkbyhvYmosIHBhcmFtcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0udHJpZ2dlcihcImZyZWV6ZTpvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29waWVkSGVhZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVIZWFkZXJSb3cob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3BpZWRIZWFkZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiBvYmouaGVhZGVyLm9mZnNldCgpLnRvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouY29udGFpbmVyLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5jc3MoXCJ0b3BcIiwgKG9iai5ncmlkLmZpbmQoXCJ0cjpsYXN0XCIpLm9mZnNldCgpLnRvcCAtIG9iai5oZWFkZXIuaGVpZ2h0KCkpICsgXCJweFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0udHJpZ2dlcihcImZyZWV6ZTpvZmZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5jc3MoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jb250YWluZXIuY3NzKFwidG9wXCIsIFwiMHB4XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jb250YWluZXIud2lkdGgoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3BpZWRIZWFkZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbGltaXRlQWxjYW5jYWRvKG9iaiwgcGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJhbXMgJiYgKHBhcmFtcy5oZWlnaHQgIT09IHVuZGVmaW5lZCB8fCBwYXJhbXMuc2Nyb2xsTGlzdGVuZXJFbCAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChvYmouaGVhZGVyLm9mZnNldCgpLnRvcCA8PSBvYmouc2Nyb2xsZXIub2Zmc2V0KCkudG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB0b3AgPSBvYmouaGVhZGVyLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLm9mZnNldCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdG9wIC09IHBhcnNlSW50KHBhcmFtcy5vZmZzZXQucmVwbGFjZSgncHgnLCcnKSwxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBncmlkSGVpZ2h0ID0gKG9iai5ncmlkLmhlaWdodCgpIC0gb2JqLmhlYWRlci5oZWlnaHQoKSAtIG9iai5ncmlkLmZpbmQoXCJ0cjpsYXN0XCIpLmhlaWdodCgpKSArIG9iai5oZWFkZXIub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IHRvcCAmJiAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA8IGdyaWRIZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbG9uZUhlYWRlclJvdyhvYmopIHtcclxuICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5odG1sKCcnKTtcclxuICAgICAgICAgICAgb2JqLmNvbnRhaW5lci52YWwoJycpO1xyXG4gICAgICAgICAgICB2YXIgdGFiZWxhID0gJCgnPHRhYmxlIHN0eWxlPVwibWFyZ2luOiAwIDA7XCI+PC90YWJsZT4nKTtcclxuICAgICAgICAgICAgdmFyIGF0cmlidXRvcyA9IG9iai5ncmlkLnByb3AoXCJhdHRyaWJ1dGVzXCIpO1xyXG5cclxuICAgICAgICAgICAgJC5lYWNoKGF0cmlidXRvcywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmFtZSAhPSBcImlkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJlbGEuYXR0cih0aGlzLm5hbWUsIHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjbG9uZSA9IG9iai5oZWFkZXIuY2xvbmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjbG9uZS5hcHBlbmRUbyh0YWJlbGEpO1xyXG5cclxuICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5hcHBlbmQodGFiZWxhKTtcclxuICAgICAgICAgICAgb2JqLmNvbnRhaW5lci53aWR0aChvYmouaGVhZGVyLndpZHRoKCkpO1xyXG4gICAgICAgICAgICBvYmouY29udGFpbmVyLmhlaWdodChvYmouaGVhZGVyLmhlaWdodCk7XHJcbiAgICAgICAgICAgIG9iai5jb250YWluZXIuZmluZCgndGgnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNlbGxXaWR0aCA9IG9iai5ncmlkLmZpbmQoJ3RoJykuZXEoaW5kZXgpLm91dGVyV2lkdGgoKTtcclxuXHRcdFx0XHQvL2FsZXJ0KGNlbGxXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcygnd2lkdGgnLCBjZWxsV2lkdGgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG9iai5jb250YWluZXIuY3NzKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5oZWlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKHBhcmFtcy5vZmZzZXQgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5jc3MoXCJ0b3BcIiwgb2JqLnNjcm9sbGVyLm9mZnNldCgpLnRvcCArIChwYXJhbXMub2Zmc2V0LnJlcGxhY2UoXCJweFwiLFwiXCIpICogMSkgKyBcInB4XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5jb250YWluZXIuY3NzKFwidG9wXCIsIG9iai5zY3JvbGxlci5vZmZzZXQoKS50b3AgKyBcInB4XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG9iai5jb250YWluZXIuY3NzKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcyAmJiBwYXJhbXMuc2Nyb2xsTGlzdGVuZXJFbCE9PSB1bmRlZmluZWQpIHsgXHJcbiAgICAgICAgICAgICAgICBvYmouY29udGFpbmVyLmNzcyhcInRvcFwiLCBvYmouc2Nyb2xsZXIuZmluZChcInRoZWFkID4gdHJcIikuaW5uZXJIZWlnaHQoKSArIFwicHhcIik7XHJcbiAgICAgICAgICAgICAgICBvYmouY29udGFpbmVyLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XHJcbiAgICAgICAgICAgICAgICBvYmouY29udGFpbmVyLmNzcyhcInotaW5kZXhcIiwgXCIyXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcyAmJiBwYXJhbXMub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG9iai5jb250YWluZXIuY3NzKFwidG9wXCIsIHBhcmFtcy5vZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5jc3MoXCJwb3NpdGlvblwiLCBcImZpeGVkXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqLmNvbnRhaW5lci5jc3MoXCJ0b3BcIiwgXCIwcHhcIik7XHJcbiAgICAgICAgICAgICAgICBvYmouY29udGFpbmVyLmNzcyhcInBvc2l0aW9uXCIsIFwiZml4ZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGksIGUpIHtcclxuICAgICAgICAgICAgZnJlZXplSGVhZGVyKCQoZSkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcbn0pKE9MRCk7IiwiLyoqXHJcbiAqIGZ1bGxQYWdlIDIuNS42XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm90cmlnby9mdWxsUGFnZS5qc1xyXG4gKiBNSVQgbGljZW5zZWRcclxuICpcclxuICogQ29weXJpZ2h0IChDKSAyMDEzIGFsdmFyb3RyaWdvLmNvbSAtIEEgcHJvamVjdCBieSBBbHZhcm8gVHJpZ29cclxuICovXHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG5cdCQuZm4uZnVsbHBhZ2UgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHQvLyBDcmVhdGUgc29tZSBkZWZhdWx0cywgZXh0ZW5kaW5nIHRoZW0gd2l0aCBhbnkgb3B0aW9ucyB0aGF0IHdlcmUgcHJvdmlkZWRcclxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcblx0XHRcdC8vbmF2aWdhdGlvblxyXG5cdFx0XHQnbWVudSc6IGZhbHNlLFxyXG5cdFx0XHQnYW5jaG9ycyc6W10sXHJcblx0XHRcdCduYXZpZ2F0aW9uJzogZmFsc2UsXHJcblx0XHRcdCduYXZpZ2F0aW9uUG9zaXRpb24nOiAncmlnaHQnLFxyXG5cdFx0XHQnbmF2aWdhdGlvbkNvbG9yJzogJyMwMDAnLFxyXG5cdFx0XHQnbmF2aWdhdGlvblRvb2x0aXBzJzogW10sXHJcblx0XHRcdCdzbGlkZXNOYXZpZ2F0aW9uJzogZmFsc2UsXHJcblx0XHRcdCdzbGlkZXNOYXZQb3NpdGlvbic6ICdib3R0b20nLFxyXG5cdFx0XHQnc2Nyb2xsQmFyJzogZmFsc2UsXHJcblxyXG5cdFx0XHQvL3Njcm9sbGluZ1xyXG5cdFx0XHQnY3NzMyc6IHRydWUsXHJcblx0XHRcdCdzY3JvbGxpbmdTcGVlZCc6IDcwMCxcclxuXHRcdFx0J2F1dG9TY3JvbGxpbmcnOiB0cnVlLFxyXG5cdFx0XHQnZWFzaW5nJzogJ2Vhc2VJblF1YXJ0JyxcclxuXHRcdFx0J2Vhc2luZ2NzczMnOiAnZWFzZScsXHJcblx0XHRcdCdsb29wQm90dG9tJzogZmFsc2UsXHJcblx0XHRcdCdsb29wVG9wJzogZmFsc2UsXHJcblx0XHRcdCdsb29wSG9yaXpvbnRhbCc6IHRydWUsXHJcblx0XHRcdCdjb250aW51b3VzVmVydGljYWwnOiBmYWxzZSxcclxuXHRcdFx0J25vcm1hbFNjcm9sbEVsZW1lbnRzJzogbnVsbCxcclxuXHRcdFx0J3Njcm9sbE92ZXJmbG93JzogZmFsc2UsXHJcblx0XHRcdCd0b3VjaFNlbnNpdGl2aXR5JzogNSxcclxuXHRcdFx0J25vcm1hbFNjcm9sbEVsZW1lbnRUb3VjaFRocmVzaG9sZCc6IDUsXHJcblxyXG5cdFx0XHQvL0FjY2Vzc2liaWxpdHlcclxuXHRcdFx0J2tleWJvYXJkU2Nyb2xsaW5nJzogdHJ1ZSxcclxuXHRcdFx0J2FuaW1hdGVBbmNob3InOiB0cnVlLFxyXG5cdFx0XHQncmVjb3JkSGlzdG9yeSc6IHRydWUsXHJcblxyXG5cdFx0XHQvL2Rlc2lnblxyXG5cdFx0XHQnY29udHJvbEFycm93cyc6IHRydWUsXHJcblx0XHRcdCdjb250cm9sQXJyb3dDb2xvcic6ICcjZmZmJyxcclxuXHRcdFx0XCJ2ZXJ0aWNhbENlbnRlcmVkXCI6IHRydWUsXHJcblx0XHRcdCdyZXNpemUnOiB0cnVlLFxyXG5cdFx0XHQnc2VjdGlvbnNDb2xvcicgOiBbXSxcclxuXHRcdFx0J3BhZGRpbmdUb3AnOiAwLFxyXG5cdFx0XHQncGFkZGluZ0JvdHRvbSc6IDAsXHJcblx0XHRcdCdmaXhlZEVsZW1lbnRzJzogbnVsbCxcclxuXHRcdFx0J3Jlc3BvbnNpdmUnOiAwLFxyXG5cclxuXHRcdFx0Ly9DdXN0b20gc2VsZWN0b3JzXHJcblx0XHRcdCdzZWN0aW9uU2VsZWN0b3InOiAnLnNlY3Rpb24nLFxyXG5cdFx0XHQnc2xpZGVTZWxlY3Rvcic6ICcuc2xpZGUnLFxyXG5cclxuXHJcblx0XHRcdC8vZXZlbnRzXHJcblx0XHRcdCdhZnRlckxvYWQnOiBudWxsLFxyXG5cdFx0XHQnb25MZWF2ZSc6IG51bGwsXHJcblx0XHRcdCdhZnRlclJlbmRlcic6IG51bGwsXHJcblx0XHRcdCdhZnRlclJlc2l6ZSc6IG51bGwsXHJcblx0XHRcdCdhZnRlclJlQnVpbGQnOiBudWxsLFxyXG5cdFx0XHQnYWZ0ZXJTbGlkZUxvYWQnOiBudWxsLFxyXG5cdFx0XHQnb25TbGlkZUxlYXZlJzogbnVsbFxyXG5cdFx0fSwgb3B0aW9ucyk7XHJcblxyXG5cdCAgICBkaXNwbGF5V2FybmluZ3MoKTtcclxuXHJcblx0ICAgIC8vZWFzZUluUXVhcnQgYW5pbWF0aW9uIGluY2x1ZGVkIGluIHRoZSBwbHVnaW5cclxuXHQgICAgJC5leHRlbmQoJC5lYXNpbmcseyBlYXNlSW5RdWFydDogZnVuY3Rpb24gKHgsIHQsIGIsIGMsIGQpIHsgcmV0dXJuIGMqKHQvPWQpKnQqdCp0ICsgYjsgfX0pO1xyXG5cclxuXHRcdC8vRGVmaW5lcyB0aGUgZGVsYXkgdG8gdGFrZSBwbGFjZSBiZWZvcmUgYmVpbmcgYWJsZSB0byBzY3JvbGwgdG8gdGhlIG5leHQgc2VjdGlvblxyXG5cdFx0Ly9CRSBDQVJFRlVMISBOb3QgcmVjb21tZW5lZCB0byBjaGFuZ2UgaXQgdW5kZXIgNDAwIGZvciBhIGdvb2QgYmVoYXZpb3IgaW4gbGFwdG9wcyBhbmRcclxuXHRcdC8vQXBwbGUgZGV2aWNlcyAobGFwdG9wcywgbW91c2VzLi4uKVxyXG5cdFx0dmFyIHNjcm9sbERlbGF5ID0gNjAwO1xyXG5cclxuXHRcdCQuZm4uZnVsbHBhZ2Uuc2V0QXV0b1Njcm9sbGluZyA9IGZ1bmN0aW9uKHZhbHVlLCB0eXBlKXtcclxuXHRcdFx0c2V0VmFyaWFibGVTdGF0ZSgnYXV0b1Njcm9sbGluZycsIHZhbHVlLCB0eXBlKTtcclxuXHJcblx0XHRcdHZhciBlbGVtZW50ID0gJCgnLmZwLXNlY3Rpb24uYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuXHRcdFx0XHQkKCdodG1sLCBib2R5JykuY3NzKHtcclxuXHRcdFx0XHRcdCdvdmVyZmxvdycgOiAnaGlkZGVuJyxcclxuXHRcdFx0XHRcdCdoZWlnaHQnIDogJzEwMCUnXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdCQuZm4uZnVsbHBhZ2Uuc2V0UmVjb3JkSGlzdG9yeShvcHRpb25zLnJlY29yZEhpc3RvcnksICdpbnRlcm5hbCcpO1xyXG5cclxuXHRcdFx0XHQvL2ZvciBJRSB0b3VjaCBkZXZpY2VzXHJcblx0XHRcdFx0Y29udGFpbmVyLmNzcyh7XHJcblx0XHRcdFx0XHQnLW1zLXRvdWNoLWFjdGlvbic6ICdub25lJyxcclxuXHRcdFx0XHRcdCd0b3VjaC1hY3Rpb24nOiAnbm9uZSdcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0aWYoZWxlbWVudC5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0Ly9tb3ZpbmcgdGhlIGNvbnRhaW5lciB1cFxyXG5cdFx0XHRcdFx0c2lsZW50U2Nyb2xsKGVsZW1lbnQucG9zaXRpb24oKS50b3ApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdCQoJ2h0bWwsIGJvZHknKS5jc3Moe1xyXG5cdFx0XHRcdFx0J292ZXJmbG93JyA6ICd2aXNpYmxlJyxcclxuXHRcdFx0XHRcdCdoZWlnaHQnIDogJ2luaXRpYWwnXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdCQuZm4uZnVsbHBhZ2Uuc2V0UmVjb3JkSGlzdG9yeShmYWxzZSwgJ2ludGVybmFsJyk7XHJcblxyXG5cdFx0XHRcdC8vZm9yIElFIHRvdWNoIGRldmljZXNcclxuXHRcdFx0XHRjb250YWluZXIuY3NzKHtcclxuXHRcdFx0XHRcdCctbXMtdG91Y2gtYWN0aW9uJzogJycsXHJcblx0XHRcdFx0XHQndG91Y2gtYWN0aW9uJzogJydcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0c2lsZW50U2Nyb2xsKDApO1xyXG5cclxuXHRcdFx0XHQvL3Njcm9sbGluZyB0aGUgcGFnZSB0byB0aGUgc2VjdGlvbiB3aXRoIG5vIGFuaW1hdGlvblxyXG5cdFx0XHRcdCQoJ2h0bWwsIGJvZHknKS5zY3JvbGxUb3AoZWxlbWVudC5wb3NpdGlvbigpLnRvcCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBEZWZpbmVzIHdoZXRlciB0byByZWNvcmQgdGhlIGhpc3RvcnkgZm9yIGVhY2ggaGFzaCBjaGFuZ2UgaW4gdGhlIFVSTC5cclxuXHRcdCovXHJcblx0XHQkLmZuLmZ1bGxwYWdlLnNldFJlY29yZEhpc3RvcnkgPSBmdW5jdGlvbih2YWx1ZSwgdHlwZSl7XHJcblx0XHRcdHNldFZhcmlhYmxlU3RhdGUoJ3JlY29yZEhpc3RvcnknLCB2YWx1ZSwgdHlwZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBEZWZpbmVzIHRoZSBzY3JvbGxpbmcgc3BlZWRcclxuXHRcdCovXHJcblx0XHQkLmZuLmZ1bGxwYWdlLnNldFNjcm9sbGluZ1NwZWVkID0gZnVuY3Rpb24odmFsdWUsIHR5cGUpe1xyXG5cdFx0XHRzZXRWYXJpYWJsZVN0YXRlKCdzY3JvbGxpbmdTcGVlZCcsIHZhbHVlLCB0eXBlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEFkZHMgb3IgcmVtb3ZlIHRoZSBwb3NzaWJsaXR5IG9mIHNjcm9sbGluZyB0aHJvdWdoIHNlY3Rpb25zIGJ5IHVzaW5nIHRoZSBtb3VzZSB3aGVlbCBvciB0aGUgdHJhY2twYWQuXHJcblx0XHQqL1xyXG5cdFx0JC5mbi5mdWxscGFnZS5zZXRNb3VzZVdoZWVsU2Nyb2xsaW5nID0gZnVuY3Rpb24gKHZhbHVlKXtcclxuXHRcdFx0aWYodmFsdWUpe1xyXG5cdFx0XHRcdGFkZE1vdXNlV2hlZWxIYW5kbGVyKCk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlbW92ZU1vdXNlV2hlZWxIYW5kbGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEFkZHMgb3IgcmVtb3ZlIHRoZSBwb3NzaWJsaXR5IG9mIHNjcm9sbGluZyB0aHJvdWdoIHNlY3Rpb25zIGJ5IHVzaW5nIHRoZSBtb3VzZSB3aGVlbC90cmFja3BhZCBvciB0b3VjaCBnZXN0dXJlcy5cclxuXHRcdCogT3B0aW9uYWxseSBhIHNlY29uZCBwYXJhbWV0ZXIgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSB0aGUgZGlyZWN0aW9uIGZvciB3aGljaCB0aGUgYWN0aW9uIHdpbGwgYmUgYXBwbGllZC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtIGRpcmVjdGlvbnMgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGRpcmVjdGlvbiBvciBkaXJlY3Rpb25zIHNlcGFyYXRlZCBieSBjb21tYS5cclxuXHRcdCovXHJcblx0XHQkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nID0gZnVuY3Rpb24gKHZhbHVlLCBkaXJlY3Rpb25zKXtcclxuXHRcdFx0aWYodHlwZW9mIGRpcmVjdGlvbnMgIT0gJ3VuZGVmaW5lZCcpe1xyXG5cdFx0XHRcdGRpcmVjdGlvbnMgPSBkaXJlY3Rpb25zLnJlcGxhY2UoJyAnLCAnJykuc3BsaXQoJywnKTtcclxuXHRcdFx0XHQkLmVhY2goZGlyZWN0aW9ucywgZnVuY3Rpb24gKGluZGV4LCBkaXJlY3Rpb24pe1xyXG5cdFx0XHRcdFx0c2V0SXNTY3JvbGxhYmxlKHZhbHVlLCBkaXJlY3Rpb24pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYodmFsdWUpe1xyXG5cdFx0XHRcdCQuZm4uZnVsbHBhZ2Uuc2V0TW91c2VXaGVlbFNjcm9sbGluZyh0cnVlKTtcclxuXHRcdFx0XHRhZGRUb3VjaEhhbmRsZXIoKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0JC5mbi5mdWxscGFnZS5zZXRNb3VzZVdoZWVsU2Nyb2xsaW5nKGZhbHNlKTtcclxuXHRcdFx0XHRyZW1vdmVUb3VjaEhhbmRsZXIoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQWRkcyBvciByZW1vdmUgdGhlIHBvc3NpYmxpdHkgb2Ygc2Nyb2xsaW5nIHRocm91Z2ggc2VjdGlvbnMgYnkgdXNpbmcgdGhlIGtleWJvYXJkIGFycm93IGtleXNcclxuXHRcdCovXHJcblx0XHQkLmZuLmZ1bGxwYWdlLnNldEtleWJvYXJkU2Nyb2xsaW5nID0gZnVuY3Rpb24gKHZhbHVlKXtcclxuXHRcdFx0b3B0aW9ucy5rZXlib2FyZFNjcm9sbGluZyA9IHZhbHVlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVTZWN0aW9uVXAgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgcHJldiA9ICQoJy5mcC1zZWN0aW9uLmFjdGl2ZScpLnByZXYoJy5mcC1zZWN0aW9uJyk7XHJcblxyXG5cdFx0XHQvL2xvb3BpbmcgdG8gdGhlIGJvdHRvbSBpZiB0aGVyZSdzIG5vIG1vcmUgc2VjdGlvbnMgYWJvdmVcclxuXHRcdFx0aWYgKCFwcmV2Lmxlbmd0aCAmJiAob3B0aW9ucy5sb29wVG9wIHx8IG9wdGlvbnMuY29udGludW91c1ZlcnRpY2FsKSkge1xyXG5cdFx0XHRcdHByZXYgPSAkKCcuZnAtc2VjdGlvbicpLmxhc3QoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHByZXYubGVuZ3RoKSB7XHJcblx0XHRcdFx0c2Nyb2xsUGFnZShwcmV2LCBudWxsLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVTZWN0aW9uRG93biA9IGZ1bmN0aW9uICgpe1xyXG5cdFx0XHR2YXIgbmV4dCA9ICQoJy5mcC1zZWN0aW9uLmFjdGl2ZScpLm5leHQoJy5mcC1zZWN0aW9uJyk7XHJcblxyXG5cdFx0XHQvL2xvb3BpbmcgdG8gdGhlIHRvcCBpZiB0aGVyZSdzIG5vIG1vcmUgc2VjdGlvbnMgYmVsb3dcclxuXHRcdFx0aWYoIW5leHQubGVuZ3RoICYmXHJcblx0XHRcdFx0KG9wdGlvbnMubG9vcEJvdHRvbSB8fCBvcHRpb25zLmNvbnRpbnVvdXNWZXJ0aWNhbCkpe1xyXG5cdFx0XHRcdG5leHQgPSAkKCcuZnAtc2VjdGlvbicpLmZpcnN0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKG5leHQubGVuZ3RoKXtcclxuXHRcdFx0XHRzY3JvbGxQYWdlKG5leHQsIG51bGwsIGZhbHNlKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVUbyA9IGZ1bmN0aW9uIChzZWN0aW9uLCBzbGlkZSl7XHJcblx0XHRcdHZhciBkZXN0aW55ID0gJyc7XHJcblxyXG5cdFx0XHRpZihpc05hTihzZWN0aW9uKSl7XHJcblx0XHRcdFx0ZGVzdGlueSA9ICQoJ1tkYXRhLWFuY2hvcj1cIicrc2VjdGlvbisnXCJdJyk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGRlc3RpbnkgPSAkKCcuZnAtc2VjdGlvbicpLmVxKCAoc2VjdGlvbiAtMSkgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiBzbGlkZSAhPT0gJ3VuZGVmaW5lZCcpe1xyXG5cdFx0XHRcdHNjcm9sbFBhZ2VBbmRTbGlkZShzZWN0aW9uLCBzbGlkZSk7XHJcblx0XHRcdH1lbHNlIGlmKGRlc3RpbnkubGVuZ3RoID4gMCl7XHJcblx0XHRcdFx0c2Nyb2xsUGFnZShkZXN0aW55KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVTbGlkZVJpZ2h0ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0bW92ZVNsaWRlKCduZXh0Jyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCQuZm4uZnVsbHBhZ2UubW92ZVNsaWRlTGVmdCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdG1vdmVTbGlkZSgncHJldicpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFdoZW4gcmVzaXppbmcgaXMgZmluaXNoZWQsIHdlIGFkanVzdCB0aGUgc2xpZGVzIHNpemVzIGFuZCBwb3NpdGlvbnNcclxuXHRcdCAqL1xyXG5cdFx0JC5mbi5mdWxscGFnZS5yZUJ1aWxkID0gZnVuY3Rpb24ocmVzaXppbmcpe1xyXG5cdFx0XHRpc1Jlc2l6aW5nID0gdHJ1ZTtcclxuXHJcblx0XHRcdHZhciB3aW5kb3dzV2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcclxuXHRcdFx0d2luZG93c0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTsgIC8vdXBkYXRpbmcgZ2xvYmFsIHZhclxyXG5cclxuXHRcdFx0Ly90ZXh0IGFuZCBpbWFnZXMgcmVzaXppbmdcclxuXHRcdFx0aWYgKG9wdGlvbnMucmVzaXplKSB7XHJcblx0XHRcdFx0cmVzaXplTWUod2luZG93c0hlaWdodCwgd2luZG93c1dpZHRoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0JCgnLmZwLXNlY3Rpb24nKS5lYWNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0dmFyIHNsaWRlc1dyYXAgPSAkKHRoaXMpLmZpbmQoJy5mcC1zbGlkZXMnKTtcclxuXHRcdFx0XHR2YXIgc2xpZGVzID0gJCh0aGlzKS5maW5kKCcuZnAtc2xpZGUnKTtcclxuXHJcblx0XHRcdFx0Ly9hZGp1c3RpbmcgdGhlIGhlaWdodCBvZiB0aGUgdGFibGUtY2VsbCBmb3IgSUUgYW5kIEZpcmVmb3hcclxuXHRcdFx0XHRpZihvcHRpb25zLnZlcnRpY2FsQ2VudGVyZWQpe1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5maW5kKCcuZnAtdGFibGVDZWxsJykuY3NzKCdoZWlnaHQnLCBnZXRUYWJsZUhlaWdodCgkKHRoaXMpKSArICdweCcpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0JCh0aGlzKS5jc3MoJ2hlaWdodCcsIHdpbmRvd3NIZWlnaHQgKyAncHgnKTtcclxuXHJcblx0XHRcdFx0Ly9yZXNpemluZyB0aGUgc2Nyb2xsaW5nIGRpdnNcclxuXHRcdFx0XHRpZihvcHRpb25zLnNjcm9sbE92ZXJmbG93KXtcclxuXHRcdFx0XHRcdGlmKHNsaWRlcy5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0XHRzbGlkZXMuZWFjaChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHRcdGNyZWF0ZVNsaW1TY3JvbGxpbmcoJCh0aGlzKSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGNyZWF0ZVNsaW1TY3JvbGxpbmcoJCh0aGlzKSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL2FkanVzdGluZyB0aGUgcG9zaXRpb24gZm8gdGhlIEZVTEwgV0lEVEggc2xpZGVzLi4uXHJcblx0XHRcdFx0aWYgKHNsaWRlcy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGxhbmRzY2FwZVNjcm9sbChzbGlkZXNXcmFwLCBzbGlkZXNXcmFwLmZpbmQoJy5mcC1zbGlkZS5hY3RpdmUnKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHZhciBhY3RpdmVTZWN0aW9uID0gJCgnLmZwLXNlY3Rpb24uYWN0aXZlJyk7XHJcblxyXG5cdFx0XHQvL2lzbid0IGl0IHRoZSBmaXJzdCBzZWN0aW9uP1xyXG5cdFx0XHRpZihhY3RpdmVTZWN0aW9uLmluZGV4KCcuZnAtc2VjdGlvbicpKXtcclxuXHRcdFx0XHQvL2FkanVzdGluZyB0aGUgcG9zaXRpb24gZm9yIHRoZSBjdXJyZW50IHNlY3Rpb25cclxuXHRcdFx0XHRzY3JvbGxQYWdlKGFjdGl2ZVNlY3Rpb24pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpc1Jlc2l6aW5nID0gZmFsc2U7XHJcblx0XHRcdCQuaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlc2l6ZSApICYmIHJlc2l6aW5nICYmIG9wdGlvbnMuYWZ0ZXJSZXNpemUuY2FsbChjb250YWluZXIpO1xyXG5cdFx0XHQkLmlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJSZUJ1aWxkICkgJiYgIXJlc2l6aW5nICYmIG9wdGlvbnMuYWZ0ZXJSZUJ1aWxkLmNhbGwoY29udGFpbmVyKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly9mbGFnIHRvIGF2b2lkIHZlcnkgZmFzdCBzbGlkaW5nIGZvciBsYW5kc2NhcGUgc2xpZGVyc1xyXG5cdFx0dmFyIHNsaWRlTW92aW5nID0gZmFsc2U7XHJcblxyXG5cdFx0dmFyIGlzVG91Y2hEZXZpY2UgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBob25lfGlQb2R8aVBhZHxBbmRyb2lkfEJsYWNrQmVycnl8QkIxMHxXaW5kb3dzIFBob25lfFRpemVufEJhZGEpLyk7XHJcblx0XHR2YXIgaXNUb3VjaCA9ICgoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCAobmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwKSB8fCAobmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzKSk7XHJcblx0XHR2YXIgY29udGFpbmVyID0gJCh0aGlzKTtcclxuXHRcdHZhciB3aW5kb3dzSGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xyXG5cdFx0dmFyIGlzTW92aW5nID0gZmFsc2U7XHJcblx0XHR2YXIgaXNSZXNpemluZyA9IGZhbHNlO1xyXG5cdFx0dmFyIGxhc3RTY3JvbGxlZERlc3Rpbnk7XHJcblx0XHR2YXIgbGFzdFNjcm9sbGVkU2xpZGU7XHJcblx0XHR2YXIgbmF2O1xyXG5cdFx0dmFyIHdyYXBwZXJTZWxlY3RvciA9ICdmdWxscGFnZS13cmFwcGVyJztcclxuXHRcdHZhciBpc1Njcm9sbEFsbG93ZWQgPSB7ICd1cCc6dHJ1ZSwgJ2Rvd24nOnRydWUsICdsZWZ0Jzp0cnVlLCAncmlnaHQnOnRydWUgfTtcclxuXHRcdHZhciBvcmlnaW5hbHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgb3B0aW9ucyk7IC8vZGVlcCBjb3B5XHJcblxyXG5cdFx0JC5mbi5mdWxscGFnZS5zZXRBbGxvd1Njcm9sbGluZyh0cnVlKTtcclxuXHJcblx0XHQvL2lmIGNzczMgaXMgbm90IHN1cHBvcnRlZCwgaXQgd2lsbCB1c2UgalF1ZXJ5IGFuaW1hdGlvbnNcclxuXHRcdGlmKG9wdGlvbnMuY3NzMyl7XHJcblx0XHRcdG9wdGlvbnMuY3NzMyA9IHN1cHBvcnQzZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCQodGhpcykubGVuZ3RoKXtcclxuXHRcdFx0Y29udGFpbmVyLmNzcyh7XHJcblx0XHRcdFx0J2hlaWdodCc6ICcxMDAlJyxcclxuXHRcdFx0XHQncG9zaXRpb24nOiAncmVsYXRpdmUnXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly9hZGRpbmcgYSBjbGFzcyB0byByZWNvZ25pemUgdGhlIGNvbnRhaW5lciBpbnRlcm5hbGx5IGluIHRoZSBjb2RlXHJcblx0XHRcdGNvbnRhaW5lci5hZGRDbGFzcyh3cmFwcGVyU2VsZWN0b3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vdHJ5aW5nIHRvIHVzZSBmdWxscGFnZSB3aXRob3V0IGEgc2VsZWN0b3I/XHJcblx0XHRlbHNle1xyXG5cdFx0XHRzaG93RXJyb3IoJ2Vycm9yJywgXCJFcnJvciEgRnVsbHBhZ2UuanMgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIHNlbGVjdG9yLiBGb3IgZXhhbXBsZTogJCgnI215Q29udGFpbmVyJykuZnVsbHBhZ2UoKTtcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9hZGRpbmcgaW50ZXJuYWwgY2xhc3MgbmFtZXMgdG8gdm9pZCBwcm9ibGVtIHdpdGggY29tbW9uIG9uZXNcclxuXHRcdCQob3B0aW9ucy5zZWN0aW9uU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXtcclxuICBcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdmcC1zZWN0aW9uJyk7XHJcblx0XHR9KTtcclxuXHRcdCQob3B0aW9ucy5zbGlkZVNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnZnAtc2xpZGUnKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vY3JlYXRpbmcgdGhlIG5hdmlnYXRpb24gZG90c1xyXG5cdFx0aWYgKG9wdGlvbnMubmF2aWdhdGlvbikge1xyXG5cdFx0XHRhZGRWZXJ0aWNhbE5hdmlnYXRpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHQkKCcuZnAtc2VjdGlvbicpLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG5cdFx0XHR2YXIgdGhhdCA9ICQodGhpcyk7XHJcblx0XHRcdHZhciBzbGlkZXMgPSAkKHRoaXMpLmZpbmQoJy5mcC1zbGlkZScpO1xyXG5cdFx0XHR2YXIgbnVtU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcclxuXHJcblx0XHRcdC8vaWYgbm8gYWN0aXZlIHNlY3Rpb24gaXMgZGVmaW5lZCwgdGhlIDFzdCBvbmUgd2lsbCBiZSB0aGUgZGVmYXVsdCBvbmVcclxuXHRcdFx0aWYoIWluZGV4ICYmICQoJy5mcC1zZWN0aW9uLmFjdGl2ZScpLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkKHRoaXMpLmNzcygnaGVpZ2h0Jywgd2luZG93c0hlaWdodCArICdweCcpO1xyXG5cclxuXHRcdFx0aWYob3B0aW9ucy5wYWRkaW5nVG9wIHx8IG9wdGlvbnMucGFkZGluZ0JvdHRvbSl7XHJcblx0XHRcdFx0JCh0aGlzKS5jc3MoJ3BhZGRpbmcnLCBvcHRpb25zLnBhZGRpbmdUb3AgICsgJyAwICcgKyBvcHRpb25zLnBhZGRpbmdCb3R0b20gKyAnIDAnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiBvcHRpb25zLnNlY3Rpb25zQ29sb3JbaW5kZXhdICE9PSAgJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIG9wdGlvbnMuc2VjdGlvbnNDb2xvcltpbmRleF0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodHlwZW9mIG9wdGlvbnMuYW5jaG9yc1tpbmRleF0gIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5hdHRyKCdkYXRhLWFuY2hvcicsIG9wdGlvbnMuYW5jaG9yc1tpbmRleF0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpZiB0aGVyZSdzIGFueSBzbGlkZVxyXG5cdFx0XHRpZiAobnVtU2xpZGVzID4gMSkge1xyXG5cdFx0XHRcdHZhciBzbGlkZXJXaWR0aCA9IG51bVNsaWRlcyAqIDEwMDtcclxuXHRcdFx0XHR2YXIgc2xpZGVXaWR0aCA9IDEwMCAvIG51bVNsaWRlcztcclxuXHJcblx0XHRcdFx0c2xpZGVzLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJmcC1zbGlkZXNDb250YWluZXJcIiAvPicpO1xyXG5cdFx0XHRcdHNsaWRlcy5wYXJlbnQoKS53cmFwKCc8ZGl2IGNsYXNzPVwiZnAtc2xpZGVzXCIgLz4nKTtcclxuXHJcblx0XHRcdFx0JCh0aGlzKS5maW5kKCcuZnAtc2xpZGVzQ29udGFpbmVyJykuY3NzKCd3aWR0aCcsIHNsaWRlcldpZHRoICsgJyUnKTtcclxuXHJcblx0XHRcdFx0aWYob3B0aW9ucy5jb250cm9sQXJyb3dzKXtcclxuXHRcdFx0XHRcdGNyZWF0ZVNsaWRlQXJyb3dzKCQodGhpcykpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYob3B0aW9ucy5zbGlkZXNOYXZpZ2F0aW9uKXtcclxuXHRcdFx0XHRcdGFkZFNsaWRlc05hdmlnYXRpb24oJCh0aGlzKSwgbnVtU2xpZGVzKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHNsaWRlcy5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmNzcygnd2lkdGgnLCBzbGlkZVdpZHRoICsgJyUnKTtcclxuXHJcblx0XHRcdFx0XHRpZihvcHRpb25zLnZlcnRpY2FsQ2VudGVyZWQpe1xyXG5cdFx0XHRcdFx0XHRhZGRUYWJsZUNsYXNzKCQodGhpcykpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR2YXIgc3RhcnRpbmdTbGlkZSA9IHRoYXQuZmluZCgnLmZwLXNsaWRlLmFjdGl2ZScpO1xyXG5cclxuXHRcdFx0XHQvL2lmIHRoZSBzbGlkZSB3b24jdCBiZSBhbiBzdGFydGluZyBwb2ludCwgdGhlIGRlZmF1bHQgd2lsbCBiZSB0aGUgZmlyc3Qgb25lXHJcblx0XHRcdFx0aWYoIXN0YXJ0aW5nU2xpZGUubGVuZ3RoKXtcclxuXHRcdFx0XHRcdHNsaWRlcy5lcSgwKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL2lzIHRoZXJlIGEgc3RhcnRpbmcgcG9pbnQgZm9yIGEgbm9uLXN0YXJ0aW5nIHNlY3Rpb24/XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdHNpbGVudExhbmRzY2FwZVNjcm9sbChzdGFydGluZ1NsaWRlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRpZihvcHRpb25zLnZlcnRpY2FsQ2VudGVyZWQpe1xyXG5cdFx0XHRcdFx0YWRkVGFibGVDbGFzcygkKHRoaXMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHR9KS5wcm9taXNlKCkuZG9uZShmdW5jdGlvbigpe1xyXG5cdFx0XHQkLmZuLmZ1bGxwYWdlLnNldEF1dG9TY3JvbGxpbmcob3B0aW9ucy5hdXRvU2Nyb2xsaW5nLCAnaW50ZXJuYWwnKTtcclxuXHJcblx0XHRcdC8vdGhlIHN0YXJ0aW5nIHBvaW50IGlzIGEgc2xpZGU/XHJcblx0XHRcdHZhciBhY3RpdmVTbGlkZSA9ICQoJy5mcC1zZWN0aW9uLmFjdGl2ZScpLmZpbmQoJy5mcC1zbGlkZS5hY3RpdmUnKTtcclxuXHJcblx0XHRcdC8vdGhlIGFjdGl2ZSBzZWN0aW9uIGlzbid0IHRoZSBmaXJzdCBvbmU/IElzIG5vdCB0aGUgZmlyc3Qgc2xpZGUgb2YgdGhlIGZpcnN0IHNlY3Rpb24/IFRoZW4gd2UgbG9hZCB0aGF0IHNlY3Rpb24vc2xpZGUgYnkgZGVmYXVsdC5cclxuXHRcdFx0aWYoIGFjdGl2ZVNsaWRlLmxlbmd0aCAmJiAgKCQoJy5mcC1zZWN0aW9uLmFjdGl2ZScpLmluZGV4KCcuZnAtc2VjdGlvbicpICE9PSAwIHx8ICgkKCcuZnAtc2VjdGlvbi5hY3RpdmUnKS5pbmRleCgnLmZwLXNlY3Rpb24nKSA9PT0gMCAmJiBhY3RpdmVTbGlkZS5pbmRleCgpICE9PSAwKSkpe1xyXG5cdFx0XHRcdHNpbGVudExhbmRzY2FwZVNjcm9sbChhY3RpdmVTbGlkZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vZml4ZWQgZWxlbWVudHMgbmVlZCB0byBiZSBtb3ZlZCBvdXQgb2YgdGhlIHBsdWdpbiBjb250YWluZXIgZHVlIHRvIHByb2JsZW1zIHdpdGggQ1NTMy5cclxuXHRcdFx0aWYob3B0aW9ucy5maXhlZEVsZW1lbnRzICYmIG9wdGlvbnMuY3NzMyl7XHJcblx0XHRcdFx0JChvcHRpb25zLmZpeGVkRWxlbWVudHMpLmFwcGVuZFRvKCdib2R5Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vdmVydGljYWwgY2VudGVyZWQgb2YgdGhlIG5hdmlnYXRpb24gKyBmaXJzdCBidWxsZXQgYWN0aXZlXHJcblx0XHRcdGlmKG9wdGlvbnMubmF2aWdhdGlvbil7XHJcblx0XHRcdFx0bmF2LmNzcygnbWFyZ2luLXRvcCcsICctJyArIChuYXYuaGVpZ2h0KCkvMikgKyAncHgnKTtcclxuXHRcdFx0XHRuYXYuZmluZCgnbGknKS5lcSgkKCcuZnAtc2VjdGlvbi5hY3RpdmUnKS5pbmRleCgnLmZwLXNlY3Rpb24nKSkuZmluZCgnYScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9tb3ZpbmcgdGhlIG1lbnUgb3V0c2lkZSB0aGUgbWFpbiBjb250YWluZXIgaWYgaXQgaXMgaW5zaWRlIChhdm9pZCBwcm9ibGVtcyB3aXRoIGZpeGVkIHBvc2l0aW9ucyB3aGVuIHVzaW5nIENTUzMgdHJhbmZvcm1zKVxyXG5cdFx0XHRpZihvcHRpb25zLm1lbnUgJiYgb3B0aW9ucy5jc3MzICYmICQob3B0aW9ucy5tZW51KS5jbG9zZXN0KCcuZnVsbHBhZ2Utd3JhcHBlcicpLmxlbmd0aCl7XHJcblx0XHRcdFx0JChvcHRpb25zLm1lbnUpLmFwcGVuZFRvKCdib2R5Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG5cdFx0XHRcdGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIil7XHJcblx0XHRcdFx0XHRjcmVhdGVTbGltU2Nyb2xsaW5nSGFuZGxlcigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvL2FmdGVyIERPTSBhbmQgaW1hZ2VzIGFyZSBsb2FkZWRcclxuXHRcdFx0XHQkKHdpbmRvdykub24oJ2xvYWQnLCBjcmVhdGVTbGltU2Nyb2xsaW5nSGFuZGxlcik7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdCQuaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlbmRlciApICYmIG9wdGlvbnMuYWZ0ZXJSZW5kZXIuY2FsbChjb250YWluZXIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXNwb25zaXZlKCk7XHJcblxyXG5cdFx0XHQvL2dldHRpbmcgdGhlIGFuY2hvciBsaW5rIGluIHRoZSBVUkwgYW5kIGRlbGV0aW5nIHRoZSBgI2BcclxuXHRcdFx0dmFyIHZhbHVlID0gIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJykuc3BsaXQoJy8nKTtcclxuXHRcdFx0dmFyIGRlc3RpbnkgPSB2YWx1ZVswXTtcclxuXHJcblx0XHRcdGlmKGRlc3RpbnkubGVuZ3RoKXtcclxuXHRcdFx0XHR2YXIgc2VjdGlvbiA9ICQoJ1tkYXRhLWFuY2hvcj1cIicrZGVzdGlueSsnXCJdJyk7XHJcblxyXG5cdFx0XHRcdGlmKCFvcHRpb25zLmFuaW1hdGVBbmNob3IgJiYgc2VjdGlvbi5sZW5ndGgpe1xyXG5cclxuXHRcdFx0XHRcdGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyl7XHJcblx0XHRcdFx0XHRcdHNpbGVudFNjcm9sbChzZWN0aW9uLnBvc2l0aW9uKCkudG9wKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRcdHNpbGVudFNjcm9sbCgwKTtcclxuXHRcdFx0XHRcdFx0c2V0Qm9keUNsYXNzKGRlc3RpbnkpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly9zY3JvbGxpbmcgdGhlIHBhZ2UgdG8gdGhlIHNlY3Rpb24gd2l0aCBubyBhbmltYXRpb25cclxuXHRcdFx0XHRcdFx0JCgnaHRtbCwgYm9keScpLnNjcm9sbFRvcChzZWN0aW9uLnBvc2l0aW9uKCkudG9wKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRhY3RpdmF0ZU1lbnVBbmROYXYoZGVzdGlueSwgbnVsbCk7XHJcblxyXG5cdFx0XHRcdFx0JC5pc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyTG9hZCApICYmIG9wdGlvbnMuYWZ0ZXJMb2FkLmNhbGwoIHNlY3Rpb24sIGRlc3RpbnksIChzZWN0aW9uLmluZGV4KCcuZnAtc2VjdGlvbicpICsgMSkpO1xyXG5cclxuXHRcdFx0XHRcdC8vdXBkYXRpbmcgdGhlIGFjdGl2ZSBjbGFzc1xyXG5cdFx0XHRcdFx0c2VjdGlvbi5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0JCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2Nyb2xsVG9BbmNob3IoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBDcmVhdGVzIHRoZSBjb250cm9sIGFycm93cyBmb3IgdGhlIGdpdmVuIHNlY3Rpb25cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVTbGlkZUFycm93cyhzZWN0aW9uKXtcclxuXHRcdFx0c2VjdGlvbi5maW5kKCcuZnAtc2xpZGVzJykuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJmcC1jb250cm9sQXJyb3cgZnAtcHJldlwiPjwvZGl2PjxkaXYgY2xhc3M9XCJmcC1jb250cm9sQXJyb3cgZnAtbmV4dFwiPjwvZGl2PicpO1xyXG5cclxuXHRcdFx0aWYob3B0aW9ucy5jb250cm9sQXJyb3dDb2xvciE9JyNmZmYnKXtcclxuXHRcdFx0XHRzZWN0aW9uLmZpbmQoJy5mcC1jb250cm9sQXJyb3cuZnAtbmV4dCcpLmNzcygnYm9yZGVyLWNvbG9yJywgJ3RyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICcrb3B0aW9ucy5jb250cm9sQXJyb3dDb2xvcik7XHJcblx0XHRcdFx0c2VjdGlvbi5maW5kKCcuZnAtY29udHJvbEFycm93LmZwLXByZXYnKS5jc3MoJ2JvcmRlci1jb2xvcicsICd0cmFuc3BhcmVudCAnKyBvcHRpb25zLmNvbnRyb2xBcnJvd0NvbG9yICsgJyB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZighb3B0aW9ucy5sb29wSG9yaXpvbnRhbCl7XHJcblx0XHRcdFx0c2VjdGlvbi5maW5kKCcuZnAtY29udHJvbEFycm93LmZwLXByZXYnKS5oaWRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQ3JlYXRlcyBhIHZlcnRpY2FsIG5hdmlnYXRpb24gYmFyLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGFkZFZlcnRpY2FsTmF2aWdhdGlvbigpe1xyXG5cdFx0XHQkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGlkPVwiZnAtbmF2XCI+PHVsPjwvdWw+PC9kaXY+Jyk7XHJcblx0XHRcdG5hdiA9ICQoJyNmcC1uYXYnKTtcclxuXHJcblx0XHRcdG5hdi5jc3MoJ2NvbG9yJywgb3B0aW9ucy5uYXZpZ2F0aW9uQ29sb3IpO1xyXG5cdFx0XHRuYXYuYWRkQ2xhc3Mob3B0aW9ucy5uYXZpZ2F0aW9uUG9zaXRpb24pO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAkKCcuZnAtc2VjdGlvbicpLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGxpbmsgPSAnJztcclxuXHRcdFx0XHRpZiAob3B0aW9ucy5hbmNob3JzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0bGluayA9IG9wdGlvbnMuYW5jaG9yc1tpXTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBsaSA9ICc8bGk+PGEgaHJlZj1cIiMnICsgbGluayArICdcIj48c3Bhbj48L3NwYW4+PC9hPic7XHJcblxyXG5cdFx0XHRcdC8vIE9ubHkgYWRkIHRvb2x0aXAgaWYgbmVlZGVkIChkZWZpbmVkIGJ5IHVzZXIpXHJcblx0XHRcdFx0dmFyIHRvb2x0aXAgPSBvcHRpb25zLm5hdmlnYXRpb25Ub29sdGlwc1tpXTtcclxuXHRcdFx0XHRpZiAodG9vbHRpcCAhPT0gdW5kZWZpbmVkICYmIHRvb2x0aXAgIT0gJycpIHtcclxuXHRcdFx0XHRcdGxpICs9ICc8ZGl2IGNsYXNzPVwiZnAtdG9vbHRpcCAnICsgb3B0aW9ucy5uYXZpZ2F0aW9uUG9zaXRpb24gKyAnXCI+JyArIHRvb2x0aXAgKyAnPC9kaXY+JztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGxpICs9ICc8L2xpPic7XHJcblxyXG5cdFx0XHRcdG5hdi5maW5kKCd1bCcpLmFwcGVuZChsaSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVTbGltU2Nyb2xsaW5nSGFuZGxlcigpe1xyXG5cdFx0XHQkKCcuZnAtc2VjdGlvbicpLmVhY2goZnVuY3Rpb24oKXtcclxuXHRcdFx0XHR2YXIgc2xpZGVzID0gJCh0aGlzKS5maW5kKCcuZnAtc2xpZGUnKTtcclxuXHJcblx0XHRcdFx0aWYoc2xpZGVzLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRzbGlkZXMuZWFjaChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHRjcmVhdGVTbGltU2Nyb2xsaW5nKCQodGhpcykpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRjcmVhdGVTbGltU2Nyb2xsaW5nKCQodGhpcykpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkLmlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJSZW5kZXIgKSAmJiBvcHRpb25zLmFmdGVyUmVuZGVyLmNhbGwoIHRoaXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBzY3JvbGxJZDtcclxuXHRcdHZhciBzY3JvbGxJZDI7XHJcblx0XHR2YXIgaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuXHJcblx0XHQvL3doZW4gc2Nyb2xsaW5nLi4uXHJcblx0XHQkKHdpbmRvdykub24oJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHNjcm9sbEhhbmRsZXIoKXtcclxuXHRcdFx0dmFyIGN1cnJlbnRTZWN0aW9uO1xyXG5cclxuXHRcdFx0aWYoIW9wdGlvbnMuYXV0b1Njcm9sbGluZyB8fCBvcHRpb25zLnNjcm9sbEJhcil7XHJcblx0XHRcdFx0dmFyIGN1cnJlbnRTY3JvbGwgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcblx0XHRcdFx0dmFyIHZpc2libGVTZWN0aW9uSW5kZXggPSAwO1xyXG5cdFx0XHRcdHZhciBpbml0aWFsID0gTWF0aC5hYnMoY3VycmVudFNjcm9sbCAtICQoJy5mcC1zZWN0aW9uJykuZmlyc3QoKS5vZmZzZXQoKS50b3ApO1xyXG5cclxuXHRcdFx0XHQvL3Rha2luZyB0aGUgc2VjdGlvbiB3aGljaCBpcyBzaG93aW5nIG1vcmUgY29udGVudCBpbiB0aGUgdmlld3BvcnRcclxuXHRcdFx0XHQkKCcuZnAtc2VjdGlvbicpLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG5cdFx0XHRcdFx0dmFyIGN1cnJlbnQgPSBNYXRoLmFicyhjdXJyZW50U2Nyb2xsIC0gJCh0aGlzKS5vZmZzZXQoKS50b3ApO1xyXG5cclxuXHRcdFx0XHRcdGlmKGN1cnJlbnQgPCBpbml0aWFsKXtcclxuXHRcdFx0XHRcdFx0dmlzaWJsZVNlY3Rpb25JbmRleCA9IGluZGV4O1xyXG5cdFx0XHRcdFx0XHRpbml0aWFsID0gY3VycmVudDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly9nZXRpbmcgdGhlIGxhc3Qgb25lLCB0aGUgY3VycmVudCBvbmUgb24gdGhlIHNjcmVlblxyXG5cdFx0XHRcdGN1cnJlbnRTZWN0aW9uID0gJCgnLmZwLXNlY3Rpb24nKS5lcSh2aXNpYmxlU2VjdGlvbkluZGV4KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIW9wdGlvbnMuYXV0b1Njcm9sbGluZyB8fCBvcHRpb25zLnNjcm9sbEJhcil7XHJcblx0XHRcdFx0Ly9leGVjdXRpbmcgb25seSBvbmNlIHRoZSBmaXJzdCB0aW1lIHdlIHJlYWNoIHRoZSBzZWN0aW9uXHJcblx0XHRcdFx0aWYoIWN1cnJlbnRTZWN0aW9uLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcblx0XHRcdFx0XHRpc1Njcm9sbGluZyA9IHRydWU7XHJcblx0XHRcdFx0XHR2YXIgbGVhdmluZ1NlY3Rpb24gPSAkKCcuZnAtc2VjdGlvbi5hY3RpdmUnKTtcclxuXHRcdFx0XHRcdHZhciBsZWF2aW5nU2VjdGlvbkluZGV4ID0gbGVhdmluZ1NlY3Rpb24uaW5kZXgoJy5mcC1zZWN0aW9uJykgKyAxO1xyXG5cdFx0XHRcdFx0dmFyIHlNb3ZlbWVudCA9IGdldFltb3ZlbWVudChjdXJyZW50U2VjdGlvbik7XHJcblx0XHRcdFx0XHR2YXIgYW5jaG9yTGluayAgPSBjdXJyZW50U2VjdGlvbi5kYXRhKCdhbmNob3InKTtcclxuXHRcdFx0XHRcdHZhciBzZWN0aW9uSW5kZXggPSBjdXJyZW50U2VjdGlvbi5pbmRleCgnLmZwLXNlY3Rpb24nKSArIDE7XHJcblx0XHRcdFx0XHR2YXIgYWN0aXZlU2xpZGUgPSBjdXJyZW50U2VjdGlvbi5maW5kKCcuZnAtc2xpZGUuYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRcdFx0aWYoYWN0aXZlU2xpZGUubGVuZ3RoKXtcclxuXHRcdFx0XHRcdFx0dmFyIHNsaWRlQW5jaG9yTGluayA9IGFjdGl2ZVNsaWRlLmRhdGEoJ2FuY2hvcicpO1xyXG5cdFx0XHRcdFx0XHR2YXIgc2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlLmluZGV4KCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Y3VycmVudFNlY3Rpb24uYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuXHRcdFx0XHRcdGlmKCFpc01vdmluZyl7XHJcblx0XHRcdFx0XHRcdCQuaXNGdW5jdGlvbiggb3B0aW9ucy5vbkxlYXZlICkgJiYgb3B0aW9ucy5vbkxlYXZlLmNhbGwoIGxlYXZpbmdTZWN0aW9uLCBsZWF2aW5nU2VjdGlvbkluZGV4LCBzZWN0aW9uSW5kZXgsIHlNb3ZlbWVudCk7XHJcblxyXG5cdFx0XHRcdFx0XHQkLmlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJMb2FkICkgJiYgb3B0aW9ucy5hZnRlckxvYWQuY2FsbCggY3VycmVudFNlY3Rpb24sIGFuY2hvckxpbmssIHNlY3Rpb25JbmRleCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YWN0aXZhdGVNZW51QW5kTmF2KGFuY2hvckxpbmssIDApO1xyXG5cclxuXHRcdFx0XHRcdGlmKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGggJiYgIWlzTW92aW5nKXtcclxuXHRcdFx0XHRcdFx0Ly9uZWVkZWQgdG8gZW50ZXIgaW4gaGFzaENoYW5nZSBldmVudCB3aGVuIHVzaW5nIHRoZSBtZW51IHdpdGggYW5jaG9yIGxpbmtzXHJcblx0XHRcdFx0XHRcdGxhc3RTY3JvbGxlZERlc3RpbnkgPSBhbmNob3JMaW5rO1xyXG5cclxuXHRcdFx0XHRcdFx0c2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3JMaW5rLCBhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vc21hbGwgdGltZW91dCBpbiBvcmRlciB0byBhdm9pZCBlbnRlcmluZyBpbiBoYXNoQ2hhbmdlIGV2ZW50IHdoZW4gc2Nyb2xsaW5nIGlzIG5vdCBmaW5pc2hlZCB5ZXRcclxuXHRcdFx0XHRcdGNsZWFyVGltZW91dChzY3JvbGxJZCk7XHJcblx0XHRcdFx0XHRzY3JvbGxJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0aXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZihvcHRpb25zLnNjcm9sbEJhcil7XHJcblx0XHRcdFx0Ly9mb3IgdGhlIGF1dG8gYWRqdXN0IG9mIHRoZSB2aWV3cG9ydCB0byBmaXQgYSB3aG9sZSBzZWN0aW9uXHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHNjcm9sbElkMik7XHJcblxyXG5cdFx0XHRcdHNjcm9sbElkMiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdGlmKCFpc01vdmluZyl7XHJcblx0XHRcdFx0XHRcdC8vYWxsb3dzIHRvIHNjcm9sbCB0byBhbiBhY3RpdmUgc2VjdGlvbiBhbmRcclxuXHRcdFx0XHRcdFx0Ly9pZiB0aGUgc2VjdGlvbiBpcyBhbHJlYWR5IGFjdGl2ZSwgd2UgcHJldmVudCBmaXJpbmcgY2FsbGJhY2tzXHJcblx0XHRcdFx0XHRcdGlmKCQoJy5mcC1zZWN0aW9uLmFjdGl2ZScpLmlzKGN1cnJlbnRTZWN0aW9uKSl7XHJcblx0XHRcdFx0XHRcdFx0aXNSZXNpemluZyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c2Nyb2xsUGFnZShjdXJyZW50U2VjdGlvbik7XHJcblx0XHRcdFx0XHRcdGlzUmVzaXppbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQvKipcclxuXHRcdCogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBhY3RpdmUgc2VjdGlvbiBvciBzbGlkZSBpcyBzY3JvbGxhYmxlIHRocm91Z2ggYW5kIHNjcm9sbGluZyBiYXJcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBpc1Njcm9sbGFibGUoYWN0aXZlU2VjdGlvbil7XHJcblx0XHRcdC8vaWYgdGhlcmUgYXJlIGxhbmRzY2FwZSBzbGlkZXMsIHdlIGNoZWNrIGlmIHRoZSBzY3JvbGxpbmcgYmFyIGlzIGluIHRoZSBjdXJyZW50IG9uZSBvciBub3RcclxuXHRcdFx0aWYoYWN0aXZlU2VjdGlvbi5maW5kKCcuZnAtc2xpZGVzJykubGVuZ3RoKXtcclxuXHRcdFx0XHRyZXR1cm4gYWN0aXZlU2VjdGlvbi5maW5kKCcuZnAtc2xpZGUuYWN0aXZlJykuZmluZCgnLmZwLXNjcm9sbGFibGUnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGFjdGl2ZVNlY3Rpb24uZmluZCgnLmZwLXNjcm9sbGFibGUnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogRGV0ZXJtaW5lcyB0aGUgd2F5IG9mIHNjcm9sbGluZyB1cCBvciBkb3duOlxyXG5cdFx0KiBieSAnYXV0b21hdGljYWxseScgc2Nyb2xsaW5nIGEgc2VjdGlvbiBvciBieSB1c2luZyB0aGUgZGVmYXVsdCBhbmQgbm9ybWFsIHNjcm9sbGluZy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBzY3JvbGxpbmcodHlwZSwgc2Nyb2xsYWJsZSl7XHJcblx0XHRcdGlmICghaXNTY3JvbGxBbGxvd2VkW3R5cGVdKXtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGNoZWNrLCBzY3JvbGxTZWN0aW9uO1xyXG5cclxuXHRcdFx0aWYodHlwZSA9PSAnZG93bicpe1xyXG5cdFx0XHRcdGNoZWNrID0gJ2JvdHRvbSc7XHJcblx0XHRcdFx0c2Nyb2xsU2VjdGlvbiA9ICQuZm4uZnVsbHBhZ2UubW92ZVNlY3Rpb25Eb3duO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRjaGVjayA9ICd0b3AnO1xyXG5cdFx0XHRcdHNjcm9sbFNlY3Rpb24gPSAkLmZuLmZ1bGxwYWdlLm1vdmVTZWN0aW9uVXA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKHNjcm9sbGFibGUubGVuZ3RoID4gMCApe1xyXG5cdFx0XHRcdC8vaXMgdGhlIHNjcm9sbGJhciBhdCB0aGUgc3RhcnQvZW5kIG9mIHRoZSBzY3JvbGw/XHJcblx0XHRcdFx0aWYoaXNTY3JvbGxlZChjaGVjaywgc2Nyb2xsYWJsZSkpe1xyXG5cdFx0XHRcdFx0c2Nyb2xsU2VjdGlvbigpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHQvLyBtb3ZlZCB1cC9kb3duXHJcblx0XHRcdFx0c2Nyb2xsU2VjdGlvbigpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHZhciB0b3VjaFN0YXJ0WSA9IDA7XHJcblx0XHR2YXIgdG91Y2hTdGFydFggPSAwO1xyXG5cdFx0dmFyIHRvdWNoRW5kWSA9IDA7XHJcblx0XHR2YXIgdG91Y2hFbmRYID0gMDtcclxuXHJcblx0XHQvKiBEZXRlY3RpbmcgdG91Y2ggZXZlbnRzXHJcblxyXG5cdFx0KiBBcyB3ZSBhcmUgY2hhbmdpbmcgdGhlIHRvcCBwcm9wZXJ0eSBvZiB0aGUgcGFnZSBvbiBzY3JvbGxpbmcsIHdlIGNhbiBub3QgdXNlIHRoZSB0cmFkaXRpb25hbCB3YXkgdG8gZGV0ZWN0IGl0LlxyXG5cdFx0KiBUaGlzIHdheSwgdGhlIHRvdWNoc3RhcnQgYW5kIHRoZSB0b3VjaCBtb3ZlcyBzaG93cyBhbiBzbWFsbCBkaWZmZXJlbmNlIGJldHdlZW4gdGhlbSB3aGljaCBpcyB0aGVcclxuXHRcdCogdXNlZCBvbmUgdG8gZGV0ZXJtaW5lIHRoZSBkaXJlY3Rpb24uXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gdG91Y2hNb3ZlSGFuZGxlcihldmVudCl7XHJcblx0XHRcdHZhciBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuXHJcblx0XHRcdC8vIGFkZGl0aW9uYWw6IGlmIG9uZSBvZiB0aGUgbm9ybWFsU2Nyb2xsRWxlbWVudHMgaXNuJ3Qgd2l0aGluIG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudFRvdWNoVGhyZXNob2xkIGhvcHMgdXAgdGhlIERPTSBjaGFpblxyXG5cdFx0XHRpZiAoIWNoZWNrUGFyZW50Rm9yTm9ybWFsU2Nyb2xsRWxlbWVudChldmVudC50YXJnZXQpKSB7XHJcblxyXG5cdFx0XHRcdGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyl7XHJcblx0XHRcdFx0XHQvL3ByZXZlbnRpbmcgdGhlIGVhc2luZyBvbiBpT1MgZGV2aWNlc1xyXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBhY3RpdmVTZWN0aW9uID0gJCgnLmZwLXNlY3Rpb24uYWN0aXZlJyk7XHJcblx0XHRcdFx0dmFyIHNjcm9sbGFibGUgPSBpc1Njcm9sbGFibGUoYWN0aXZlU2VjdGlvbik7XHJcblxyXG5cdFx0XHRcdGlmICghaXNNb3ZpbmcgJiYgIXNsaWRlTW92aW5nKSB7IC8vaWYgdGhlcmVzIGFueSAjXHJcblx0XHRcdFx0XHR2YXIgdG91Y2hFdmVudHMgPSBnZXRFdmVudHNQYWdlKGUpO1xyXG5cclxuXHRcdFx0XHRcdHRvdWNoRW5kWSA9IHRvdWNoRXZlbnRzLnk7XHJcblx0XHRcdFx0XHR0b3VjaEVuZFggPSB0b3VjaEV2ZW50cy54O1xyXG5cclxuXHRcdFx0XHRcdC8vaWYgbW92ZW1lbnQgaW4gdGhlIFggYXh5cyBpcyBncmVhdGVyIHRoYW4gaW4gdGhlIFkgYW5kIHRoZSBjdXJyZWN0IHNlY3Rpb24gaGFzIHNsaWRlcy4uLlxyXG5cdFx0XHRcdFx0aWYgKGFjdGl2ZVNlY3Rpb24uZmluZCgnLmZwLXNsaWRlcycpLmxlbmd0aCAmJiBNYXRoLmFicyh0b3VjaFN0YXJ0WCAtIHRvdWNoRW5kWCkgPiAoTWF0aC5hYnModG91Y2hTdGFydFkgLSB0b3VjaEVuZFkpKSkge1xyXG5cclxuXHRcdFx0XHRcdCAgICAvL2lzIHRoZSBtb3ZlbWVudCBncmVhdGVyIHRoYW4gdGhlIG1pbmltdW0gcmVzaXN0YW5jZSB0byBzY3JvbGw/XHJcblx0XHRcdFx0XHQgICAgaWYgKE1hdGguYWJzKHRvdWNoU3RhcnRYIC0gdG91Y2hFbmRYKSA+ICgkKHdpbmRvdykud2lkdGgoKSAvIDEwMCAqIG9wdGlvbnMudG91Y2hTZW5zaXRpdml0eSkpIHtcclxuXHRcdFx0XHRcdCAgICAgICAgaWYgKHRvdWNoU3RhcnRYID4gdG91Y2hFbmRYKSB7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0aWYoaXNTY3JvbGxBbGxvd2VkLnJpZ2h0KXtcclxuXHRcdFx0XHRcdCAgICAgICAgICAgIFx0JC5mbi5mdWxscGFnZS5tb3ZlU2xpZGVSaWdodCgpOyAvL25leHRcclxuXHRcdFx0XHRcdCAgICAgICAgICAgIH1cclxuXHRcdFx0XHRcdCAgICAgICAgfSBlbHNlIHtcclxuXHRcdFx0XHRcdCAgICAgICAgXHRpZihpc1Njcm9sbEFsbG93ZWQubGVmdCl7XHJcblx0XHRcdFx0XHQgICAgICAgICAgICBcdCQuZm4uZnVsbHBhZ2UubW92ZVNsaWRlTGVmdCgpOyAvL3ByZXZcclxuXHRcdFx0XHRcdCAgICAgICAgICAgIH1cclxuXHRcdFx0XHRcdCAgICAgICAgfVxyXG5cdFx0XHRcdFx0ICAgIH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvL3ZlcnRpY2FsIHNjcm9sbGluZyAob25seSB3aGVuIGF1dG9TY3JvbGxpbmcgaXMgZW5hYmxlZClcclxuXHRcdFx0XHRcdGVsc2UgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuXHJcblx0XHRcdFx0XHRcdC8vaXMgdGhlIG1vdmVtZW50IGdyZWF0ZXIgdGhhbiB0aGUgbWluaW11bSByZXNpc3RhbmNlIHRvIHNjcm9sbD9cclxuXHRcdFx0XHRcdFx0aWYgKE1hdGguYWJzKHRvdWNoU3RhcnRZIC0gdG91Y2hFbmRZKSA+ICgkKHdpbmRvdykuaGVpZ2h0KCkgLyAxMDAgKiBvcHRpb25zLnRvdWNoU2Vuc2l0aXZpdHkpKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRvdWNoU3RhcnRZID4gdG91Y2hFbmRZKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzY3JvbGxpbmcoJ2Rvd24nLCBzY3JvbGxhYmxlKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHRvdWNoRW5kWSA+IHRvdWNoU3RhcnRZKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzY3JvbGxpbmcoJ3VwJywgc2Nyb2xsYWJsZSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogcmVjdXJzaXZlIGZ1bmN0aW9uIHRvIGxvb3AgdXAgdGhlIHBhcmVudCBub2RlcyB0byBjaGVjayBpZiBvbmUgb2YgdGhlbSBleGlzdHMgaW4gb3B0aW9ucy5ub3JtYWxTY3JvbGxFbGVtZW50c1xyXG5cdFx0ICogQ3VycmVudGx5IHdvcmtzIHdlbGwgZm9yIGlPUyAtIEFuZHJvaWQgbWlnaHQgbmVlZCBzb21lIHRlc3RpbmdcclxuXHRcdCAqIEBwYXJhbSAge0VsZW1lbnR9IGVsICB0YXJnZXQgZWxlbWVudCAvIGpxdWVyeSBzZWxlY3RvciAoaW4gc3Vic2VxdWVudCBub2RlcylcclxuXHRcdCAqIEBwYXJhbSAge2ludH0gICAgIGhvcCBjdXJyZW50IGhvcCBjb21wYXJlZCB0byBvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRUb3VjaFRocmVzaG9sZFxyXG5cdFx0ICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBpcyBhIG1hdGNoIHRvIG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudHNcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gY2hlY2tQYXJlbnRGb3JOb3JtYWxTY3JvbGxFbGVtZW50IChlbCwgaG9wKSB7XHJcblx0XHRcdGhvcCA9IGhvcCB8fCAwO1xyXG5cdFx0XHR2YXIgcGFyZW50ID0gJChlbCkucGFyZW50KCk7XHJcblxyXG5cdFx0XHRpZiAoaG9wIDwgb3B0aW9ucy5ub3JtYWxTY3JvbGxFbGVtZW50VG91Y2hUaHJlc2hvbGQgJiZcclxuXHRcdFx0XHRwYXJlbnQuaXMob3B0aW9ucy5ub3JtYWxTY3JvbGxFbGVtZW50cykgKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH0gZWxzZSBpZiAoaG9wID09IG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudFRvdWNoVGhyZXNob2xkKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBjaGVja1BhcmVudEZvck5vcm1hbFNjcm9sbEVsZW1lbnQocGFyZW50LCArK2hvcCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b3VjaFN0YXJ0SGFuZGxlcihldmVudCl7XHJcblx0XHRcdHZhciBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuXHJcblx0XHRcdC8vc3RvcHBpbmcgdGhlIGF1dG8gc2Nyb2xsIHRvIGFkanVzdCB0byBhIHNlY3Rpb25cclxuXHRcdFx0aWYob3B0aW9ucy5zY3JvbGxCYXIpe1xyXG5cdFx0XHRcdCQoXCJodG1sLGJvZHlcIikuc3RvcCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgdG91Y2hFdmVudHMgPSBnZXRFdmVudHNQYWdlKGUpO1xyXG5cdFx0XHR0b3VjaFN0YXJ0WSA9IHRvdWNoRXZlbnRzLnk7XHJcblx0XHRcdHRvdWNoU3RhcnRYID0gdG91Y2hFdmVudHMueDtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBEZXRlY3RpbmcgbW91c2V3aGVlbCBzY3JvbGxpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBodHRwOi8vYmxvZ3Muc2l0ZXBvaW50c3RhdGljLmNvbS9leGFtcGxlcy90ZWNoL21vdXNlLXdoZWVsL2luZGV4Lmh0bWxcclxuXHRcdCAqIGh0dHA6Ly93d3cuc2l0ZXBvaW50LmNvbS9odG1sNS1qYXZhc2NyaXB0LW1vdXNlLXdoZWVsL1xyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBNb3VzZVdoZWVsSGFuZGxlcihlKSB7XHJcblx0XHRcdGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyl7XHJcblx0XHRcdFx0Ly8gY3Jvc3MtYnJvd3NlciB3aGVlbCBkZWx0YVxyXG5cdFx0XHRcdGUgPSB3aW5kb3cuZXZlbnQgfHwgZTtcclxuXHRcdFx0XHR2YXIgZGVsdGEgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSxcclxuXHRcdFx0XHRcdFx0KGUud2hlZWxEZWx0YSB8fCAtZS5kZWx0YVkgfHwgLWUuZGV0YWlsKSkpO1xyXG5cclxuXHRcdFx0XHQvL3ByZXZlbnRpbmcgdG8gc2Nyb2xsIHRoZSBzaXRlIG9uIG1vdXNlIHdoZWVsIHdoZW4gc2Nyb2xsYmFyIGlzIHByZXNlbnRcclxuXHRcdFx0XHRpZihvcHRpb25zLnNjcm9sbEJhcil7XHJcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dmFyIGFjdGl2ZVNlY3Rpb24gPSAkKCcuZnAtc2VjdGlvbi5hY3RpdmUnKTtcclxuXHRcdFx0XHR2YXIgc2Nyb2xsYWJsZSA9IGlzU2Nyb2xsYWJsZShhY3RpdmVTZWN0aW9uKTtcclxuXHJcblx0XHRcdFx0aWYgKCFpc01vdmluZykgeyAvL2lmIHRoZXJlcyBhbnkgI1xyXG5cdFx0XHRcdFx0Ly9zY3JvbGxpbmcgZG93bj9cclxuXHRcdFx0XHRcdGlmIChkZWx0YSA8IDApIHtcclxuXHRcdFx0XHRcdFx0c2Nyb2xsaW5nKCdkb3duJywgc2Nyb2xsYWJsZSk7XHJcblxyXG5cdFx0XHRcdFx0Ly9zY3JvbGxpbmcgdXA/XHJcblx0XHRcdFx0XHR9ZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNjcm9sbGluZygndXAnLCBzY3JvbGxhYmxlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYob3B0aW9ucy5zY3JvbGxCYXIpe1xyXG5cdFx0XHRcdC8vc3RvcHBpbmcgdGhlIGF1dG8gc2Nyb2xsIHRvIGFkanVzdCB0byBhIHNlY3Rpb25cclxuXHRcdFx0XHQkKFwiaHRtbCxib2R5XCIpLnN0b3AoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG1vdmVTbGlkZShkaXJlY3Rpb24pe1xyXG5cdFx0ICAgIHZhciBhY3RpdmVTZWN0aW9uID0gJCgnLmZwLXNlY3Rpb24uYWN0aXZlJyk7XHJcblx0XHQgICAgdmFyIHNsaWRlcyA9IGFjdGl2ZVNlY3Rpb24uZmluZCgnLmZwLXNsaWRlcycpO1xyXG5cclxuXHRcdCAgICAvLyBtb3JlIHRoYW4gb25lIHNsaWRlIG5lZWRlZCBhbmQgbm90aGluZyBzaG91bGQgYmUgc2xpZGluZ1xyXG5cdFx0XHRpZiAoIXNsaWRlcy5sZW5ndGggfHwgc2xpZGVNb3ZpbmcpIHtcclxuXHRcdFx0ICAgIHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdCAgICB2YXIgY3VycmVudFNsaWRlID0gc2xpZGVzLmZpbmQoJy5mcC1zbGlkZS5hY3RpdmUnKTtcclxuXHRcdCAgICB2YXIgZGVzdGlueSA9IG51bGw7XHJcblxyXG5cdFx0ICAgIGlmKGRpcmVjdGlvbiA9PT0gJ3ByZXYnKXtcclxuXHRcdCAgICAgICAgZGVzdGlueSA9IGN1cnJlbnRTbGlkZS5wcmV2KCcuZnAtc2xpZGUnKTtcclxuXHRcdCAgICB9ZWxzZXtcclxuXHRcdCAgICAgICAgZGVzdGlueSA9IGN1cnJlbnRTbGlkZS5uZXh0KCcuZnAtc2xpZGUnKTtcclxuXHRcdCAgICB9XHJcblxyXG5cdFx0ICAgIC8vaXNuJ3QgdGhlcmUgYSBuZXh0IHNsaWRlIGluIHRoZSBzZWN1ZW5jZT9cclxuXHRcdFx0aWYoIWRlc3RpbnkubGVuZ3RoKXtcclxuXHRcdFx0XHQvL3Jlc3BlY3QgbG9vcEhvcml6b250YWwgc2V0dGluXHJcblx0XHRcdFx0aWYgKCFvcHRpb25zLmxvb3BIb3Jpem9udGFsKSByZXR1cm47XHJcblxyXG5cdFx0XHQgICAgaWYoZGlyZWN0aW9uID09PSAncHJldicpe1xyXG5cdFx0XHQgICAgICAgIGRlc3RpbnkgPSBjdXJyZW50U2xpZGUuc2libGluZ3MoJzpsYXN0Jyk7XHJcblx0XHRcdCAgICB9ZWxzZXtcclxuXHRcdFx0ICAgICAgICBkZXN0aW55ID0gY3VycmVudFNsaWRlLnNpYmxpbmdzKCc6Zmlyc3QnKTtcclxuXHRcdFx0ICAgIH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdCAgICBzbGlkZU1vdmluZyA9IHRydWU7XHJcblxyXG5cdFx0ICAgIGxhbmRzY2FwZVNjcm9sbChzbGlkZXMsIGRlc3RpbnkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBNYWludGFpbnMgdGhlIGFjdGl2ZSBzbGlkZXMgaW4gdGhlIHZpZXdwb3J0XHJcblx0XHQqIChCZWNhdXNlIGhlIGBzY3JvbGxgIGFuaW1hdGlvbiBtaWdodCBnZXQgbG9zdCB3aXRoIHNvbWUgYWN0aW9ucywgc3VjaCBhcyB3aGVuIHVzaW5nIGNvbnRpbnVvdXNWZXJ0aWNhbClcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBrZWVwU2xpZGVzUG9zaXRpb24oKXtcclxuXHRcdFx0JCgnLmZwLXNsaWRlLmFjdGl2ZScpLmVhY2goZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRzaWxlbnRMYW5kc2NhcGVTY3JvbGwoJCh0aGlzKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBTY3JvbGxzIHRoZSBzaXRlIHRvIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBzY3JvbGxzIHRvIHRoZSBzbGlkZSBpZiBhIGNhbGxiYWNrIGlzIGdpdmVuLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHNjcm9sbFBhZ2UoZWxlbWVudCwgY2FsbGJhY2ssIGlzTW92ZW1lbnRVcCl7XHJcblx0XHRcdHZhciBkZXN0ID0gZWxlbWVudC5wb3NpdGlvbigpO1xyXG5cdFx0XHRpZih0eXBlb2YgZGVzdCA9PT0gXCJ1bmRlZmluZWRcIil7IHJldHVybjsgfSAvL3RoZXJlJ3Mgbm8gZWxlbWVudCB0byBzY3JvbGwsIGxlYXZpbmcgdGhlIGZ1bmN0aW9uXHJcblxyXG5cdFx0XHQvL2xvY2FsIHZhcmlhYmxlc1xyXG5cdFx0XHR2YXIgdiA9IHtcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50LFxyXG5cdFx0XHRcdGNhbGxiYWNrOiBjYWxsYmFjayxcclxuXHRcdFx0XHRpc01vdmVtZW50VXA6IGlzTW92ZW1lbnRVcCxcclxuXHRcdFx0XHRkZXN0OiBkZXN0LFxyXG5cdFx0XHRcdGR0b3A6IGRlc3QudG9wLFxyXG5cdFx0XHRcdHlNb3ZlbWVudDogZ2V0WW1vdmVtZW50KGVsZW1lbnQpLFxyXG5cdFx0XHRcdGFuY2hvckxpbms6IGVsZW1lbnQuZGF0YSgnYW5jaG9yJyksXHJcblx0XHRcdFx0c2VjdGlvbkluZGV4OiBlbGVtZW50LmluZGV4KCcuZnAtc2VjdGlvbicpLFxyXG5cdFx0XHRcdGFjdGl2ZVNsaWRlOiBlbGVtZW50LmZpbmQoJy5mcC1zbGlkZS5hY3RpdmUnKSxcclxuXHRcdFx0XHRhY3RpdmVTZWN0aW9uOiAkKCcuZnAtc2VjdGlvbi5hY3RpdmUnKSxcclxuXHRcdFx0XHRsZWF2aW5nU2VjdGlvbjogJCgnLmZwLXNlY3Rpb24uYWN0aXZlJykuaW5kZXgoJy5mcC1zZWN0aW9uJykgKyAxLFxyXG5cclxuXHRcdFx0XHQvL2NhY2hpbmcgdGhlIHZhbHVlIG9mIGlzUmVzaXppbmcgYXQgdGhlIG1vbW1lbnQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZFxyXG5cdFx0XHRcdC8vYmVjYXVzZSBpdCB3aWxsIGJlIGNoZWNrZWQgbGF0ZXIgaW5zaWRlIGEgc2V0VGltZW91dCBhbmQgdGhlIHZhbHVlIG1pZ2h0IGNoYW5nZVxyXG5cdFx0XHRcdGxvY2FsSXNSZXNpemluZzogaXNSZXNpemluZ1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Ly9xdWl0aW5nIHdoZW4gZGVzdGluYXRpb24gc2Nyb2xsIGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IG9uZVxyXG5cdFx0XHRpZigodi5hY3RpdmVTZWN0aW9uLmlzKGVsZW1lbnQpICYmICFpc1Jlc2l6aW5nKSB8fCAob3B0aW9ucy5zY3JvbGxCYXIgJiYgJCh3aW5kb3cpLnNjcm9sbFRvcCgpID09PSB2LmR0b3ApKXsgcmV0dXJuOyB9XHJcblxyXG5cdFx0XHRpZih2LmFjdGl2ZVNsaWRlLmxlbmd0aCl7XHJcblx0XHRcdFx0dmFyIHNsaWRlQW5jaG9yTGluayA9IHYuYWN0aXZlU2xpZGUuZGF0YSgnYW5jaG9yJyk7XHJcblx0XHRcdFx0dmFyIHNsaWRlSW5kZXggPSB2LmFjdGl2ZVNsaWRlLmluZGV4KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElmIGNvbnRpbnVvdXNWZXJ0aWNhbCAmJiB3ZSBuZWVkIHRvIHdyYXAgYXJvdW5kXHJcblx0XHRcdGlmIChvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgJiYgdHlwZW9mICh2LmlzTW92ZW1lbnRVcCkgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuXHRcdFx0XHQoKCF2LmlzTW92ZW1lbnRVcCAmJiB2LnlNb3ZlbWVudCA9PSAndXAnKSB8fCAvLyBJbnRlbmRpbmcgdG8gc2Nyb2xsIGRvd24gYnV0IGFib3V0IHRvIGdvIHVwIG9yXHJcblx0XHRcdFx0KHYuaXNNb3ZlbWVudFVwICYmIHYueU1vdmVtZW50ID09ICdkb3duJykpKSB7IC8vIGludGVuZGluZyB0byBzY3JvbGwgdXAgYnV0IGFib3V0IHRvIGdvIGRvd25cclxuXHJcblx0XHRcdFx0diA9IGNyZWF0ZUluZmluaXRlU2VjdGlvbnModik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuXHRcdFx0Ly9wcmV2ZW50aW5nIGZyb20gYWN0aXZhdGluZyB0aGUgTW91c2VXaGVlbEhhbmRsZXIgZXZlbnRcclxuXHRcdFx0Ly9tb3JlIHRoYW4gb25jZSBpZiB0aGUgcGFnZSBpcyBzY3JvbGxpbmdcclxuXHRcdFx0aXNNb3ZpbmcgPSB0cnVlO1xyXG5cclxuXHRcdFx0c2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3JMaW5rLCB2LmFuY2hvckxpbmssIHYuc2VjdGlvbkluZGV4KTtcclxuXHJcblx0XHRcdC8vY2FsbGJhY2sgKG9uTGVhdmUpIGlmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXHJcblx0XHRcdCQuaXNGdW5jdGlvbihvcHRpb25zLm9uTGVhdmUpICYmICF2LmxvY2FsSXNSZXNpemluZyAmJiBvcHRpb25zLm9uTGVhdmUuY2FsbCh2LmFjdGl2ZVNlY3Rpb24sIHYubGVhdmluZ1NlY3Rpb24sICh2LnNlY3Rpb25JbmRleCArIDEpLCB2LnlNb3ZlbWVudCk7XHJcblxyXG5cdFx0XHRwZXJmb3JtTW92ZW1lbnQodik7XHJcblxyXG5cdFx0XHQvL2ZsYWcgdG8gYXZvaWQgY2FsbGluZ24gYHNjcm9sbFBhZ2UoKWAgdHdpY2UgaW4gY2FzZSBvZiB1c2luZyBhbmNob3IgbGlua3NcclxuXHRcdFx0bGFzdFNjcm9sbGVkRGVzdGlueSA9IHYuYW5jaG9yTGluaztcclxuXHJcblx0XHRcdC8vYXZvaWQgZmlyaW5nIGl0IHR3aWNlIChhcyBpdCBkb2VzIGFsc28gb24gc2Nyb2xsKVxyXG5cdFx0XHRpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG5cdFx0XHRcdGFjdGl2YXRlTWVudUFuZE5hdih2LmFuY2hvckxpbmssIHYuc2VjdGlvbkluZGV4KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBQZXJmb3JtcyB0aGUgbW92ZW1lbnQgKGJ5IENTUzMgb3IgYnkgalF1ZXJ5KVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHBlcmZvcm1Nb3ZlbWVudCh2KXtcclxuXHRcdFx0Ly8gdXNpbmcgQ1NTMyB0cmFuc2xhdGUgZnVuY3Rpb25hbGl0eVxyXG5cdFx0XHRpZiAob3B0aW9ucy5jc3MzICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpIHtcclxuXHJcblx0XHRcdFx0dmFyIHRyYW5zbGF0ZTNkID0gJ3RyYW5zbGF0ZTNkKDBweCwgLScgKyB2LmR0b3AgKyAncHgsIDBweCknO1xyXG5cdFx0XHRcdHRyYW5zZm9ybUNvbnRhaW5lcih0cmFuc2xhdGUzZCwgdHJ1ZSk7XHJcblxyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0YWZ0ZXJTZWN0aW9uTG9hZHModik7XHJcblx0XHRcdFx0fSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHVzaW5nIGpRdWVyeSBhbmltYXRlXHJcblx0XHRcdGVsc2V7XHJcblx0XHRcdFx0dmFyIHNjcm9sbFNldHRpbmdzID0gZ2V0U2Nyb2xsU2V0dGluZ3Modik7XHJcblxyXG5cdFx0XHRcdCQoc2Nyb2xsU2V0dGluZ3MuZWxlbWVudCkuYW5pbWF0ZShcclxuXHRcdFx0XHRcdHNjcm9sbFNldHRpbmdzLm9wdGlvbnNcclxuXHRcdFx0XHQsIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQsIG9wdGlvbnMuZWFzaW5nKS5wcm9taXNlKCkuZG9uZShmdW5jdGlvbiAoKSB7IC8vb25seSBvbmUgc2luZ2xlIGNhbGxiYWNrIGluIGNhc2Ugb2YgYW5pbWF0aW5nICBgaHRtbCwgYm9keWBcclxuXHRcdFx0XHRcdGFmdGVyU2VjdGlvbkxvYWRzKHYpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEdldHMgdGhlIHNjcm9sbGluZyBzZXR0aW5ncyBkZXBlbmRpbmcgb24gdGhlIHBsdWdpbiBhdXRvU2Nyb2xsaW5nIG9wdGlvblxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFNjcm9sbFNldHRpbmdzKHYpe1xyXG5cdFx0XHR2YXIgc2Nyb2xsID0ge307XHJcblxyXG5cdFx0XHRpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuXHRcdFx0XHRzY3JvbGwub3B0aW9ucyA9IHsgJ3RvcCc6IC12LmR0b3B9O1xyXG5cdFx0XHRcdHNjcm9sbC5lbGVtZW50ID0gJy4nK3dyYXBwZXJTZWxlY3RvcjtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2Nyb2xsLm9wdGlvbnMgPSB7ICdzY3JvbGxUb3AnOiB2LmR0b3B9O1xyXG5cdFx0XHRcdHNjcm9sbC5lbGVtZW50ID0gJ2h0bWwsIGJvZHknO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gc2Nyb2xsO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBBZGRzIHNlY3Rpb25zIGJlZm9yZSBvciBhZnRlciB0aGUgY3VycmVudCBvbmUgdG8gY3JlYXRlIHRoZSBpbmZpbml0ZSBlZmZlY3QuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlSW5maW5pdGVTZWN0aW9ucyh2KXtcclxuXHRcdFx0Ly8gU2Nyb2xsaW5nIGRvd25cclxuXHRcdFx0aWYgKCF2LmlzTW92ZW1lbnRVcCkge1xyXG5cdFx0XHRcdC8vIE1vdmUgYWxsIHByZXZpb3VzIHNlY3Rpb25zIHRvIGFmdGVyIHRoZSBhY3RpdmUgc2VjdGlvblxyXG5cdFx0XHRcdCQoXCIuZnAtc2VjdGlvbi5hY3RpdmVcIikuYWZ0ZXIodi5hY3RpdmVTZWN0aW9uLnByZXZBbGwoXCIuZnAtc2VjdGlvblwiKS5nZXQoKS5yZXZlcnNlKCkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgeyAvLyBTY3JvbGxpbmcgdXBcclxuXHRcdFx0XHQvLyBNb3ZlIGFsbCBuZXh0IHNlY3Rpb25zIHRvIGJlZm9yZSB0aGUgYWN0aXZlIHNlY3Rpb25cclxuXHRcdFx0XHQkKFwiLmZwLXNlY3Rpb24uYWN0aXZlXCIpLmJlZm9yZSh2LmFjdGl2ZVNlY3Rpb24ubmV4dEFsbChcIi5mcC1zZWN0aW9uXCIpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTWFpbnRhaW4gdGhlIGRpc3BsYXllZCBwb3NpdGlvbiAobm93IHRoYXQgd2UgY2hhbmdlZCB0aGUgZWxlbWVudCBvcmRlcilcclxuXHRcdFx0c2lsZW50U2Nyb2xsKCQoJy5mcC1zZWN0aW9uLmFjdGl2ZScpLnBvc2l0aW9uKCkudG9wKTtcclxuXHJcblx0XHRcdC8vIE1haW50YWluIHRoZSBhY3RpdmUgc2xpZGVzIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0XHJcblx0XHRcdGtlZXBTbGlkZXNQb3NpdGlvbigpO1xyXG5cclxuXHRcdFx0Ly8gc2F2ZSBmb3IgbGF0ZXIgdGhlIGVsZW1lbnRzIHRoYXQgc3RpbGwgbmVlZCB0byBiZSByZW9yZGVyZWRcclxuXHRcdFx0di53cmFwQXJvdW5kRWxlbWVudHMgPSB2LmFjdGl2ZVNlY3Rpb247XHJcblxyXG5cdFx0XHQvLyBSZWNhbGN1bGF0ZSBhbmltYXRpb24gdmFyaWFibGVzXHJcblx0XHRcdHYuZGVzdCA9IHYuZWxlbWVudC5wb3NpdGlvbigpO1xyXG5cdFx0XHR2LmR0b3AgPSB2LmRlc3QudG9wO1xyXG5cdFx0XHR2LnlNb3ZlbWVudCA9IGdldFltb3ZlbWVudCh2LmVsZW1lbnQpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHY7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEZpeCBzZWN0aW9uIG9yZGVyIGFmdGVyIGNvbnRpbnVvdXNWZXJ0aWNhbCBjaGFuZ2VzIGhhdmUgYmVlbiBhbmltYXRlZFxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGNvbnRpbnVvdXNWZXJ0aWNhbEZpeFNlY3Rpb25PcmRlciAodikge1xyXG5cdFx0XHQvLyBJZiBjb250aW51b3VzVmVydGljYWwgaXMgaW4gZWZmZWN0IChhbmQgYXV0b1Njcm9sbGluZyB3b3VsZCBhbHNvIGJlIGluIGVmZmVjdCB0aGVuKSxcclxuXHRcdFx0Ly8gZmluaXNoIG1vdmluZyB0aGUgZWxlbWVudHMgYXJvdW5kIHNvIHRoZSBkaXJlY3QgbmF2aWdhdGlvbiB3aWxsIGZ1bmN0aW9uIG1vcmUgc2ltcGx5XHJcblx0XHRcdGlmICghdi53cmFwQXJvdW5kRWxlbWVudHMgfHwgIXYud3JhcEFyb3VuZEVsZW1lbnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHYuaXNNb3ZlbWVudFVwKSB7XHJcblx0XHRcdFx0JCgnLmZwLXNlY3Rpb246Zmlyc3QnKS5iZWZvcmUodi53cmFwQXJvdW5kRWxlbWVudHMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCQoJy5mcC1zZWN0aW9uOmxhc3QnKS5hZnRlcih2LndyYXBBcm91bmRFbGVtZW50cyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNpbGVudFNjcm9sbCgkKCcuZnAtc2VjdGlvbi5hY3RpdmUnKS5wb3NpdGlvbigpLnRvcCk7XHJcblxyXG5cdFx0XHQvLyBNYWludGFpbiB0aGUgYWN0aXZlIHNsaWRlcyB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxyXG5cdFx0XHRrZWVwU2xpZGVzUG9zaXRpb24oKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEFjdGlvbnMgdG8gZG8gb25jZSB0aGUgc2VjdGlvbiBpcyBsb2FkZWRcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBhZnRlclNlY3Rpb25Mb2FkcyAodil7XHJcblx0XHRcdGNvbnRpbnVvdXNWZXJ0aWNhbEZpeFNlY3Rpb25PcmRlcih2KTtcclxuXHRcdFx0Ly9jYWxsYmFjayAoYWZ0ZXJMb2FkKSBpZiB0aGUgc2l0ZSBpcyBub3QganVzdCByZXNpemluZyBhbmQgcmVhZGp1c3RpbmcgdGhlIHNsaWRlc1xyXG5cdFx0XHQkLmlzRnVuY3Rpb24ob3B0aW9ucy5hZnRlckxvYWQpICYmICF2LmxvY2FsSXNSZXNpemluZyAmJiBvcHRpb25zLmFmdGVyTG9hZC5jYWxsKHYuZWxlbWVudCwgdi5hbmNob3JMaW5rLCAodi5zZWN0aW9uSW5kZXggKyAxKSk7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpc01vdmluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdCQuaXNGdW5jdGlvbih2LmNhbGxiYWNrKSAmJiB2LmNhbGxiYWNrLmNhbGwodGhpcyk7XHJcblx0XHRcdH0sIHNjcm9sbERlbGF5KTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFNjcm9sbHMgdG8gdGhlIGFuY2hvciBpbiB0aGUgVVJMIHdoZW4gbG9hZGluZyB0aGUgc2l0ZVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHNjcm9sbFRvQW5jaG9yKCl7XHJcblx0XHRcdC8vZ2V0dGluZyB0aGUgYW5jaG9yIGxpbmsgaW4gdGhlIFVSTCBhbmQgZGVsZXRpbmcgdGhlIGAjYFxyXG5cdFx0XHR2YXIgdmFsdWUgPSAgd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xyXG5cdFx0XHR2YXIgc2VjdGlvbiA9IHZhbHVlWzBdO1xyXG5cdFx0XHR2YXIgc2xpZGUgPSB2YWx1ZVsxXTtcclxuXHJcblx0XHRcdGlmKHNlY3Rpb24peyAgLy9pZiB0aGVyZXMgYW55ICNcclxuXHRcdFx0XHRzY3JvbGxQYWdlQW5kU2xpZGUoc2VjdGlvbiwgc2xpZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9kZXRlY3RpbmcgYW55IGNoYW5nZSBvbiB0aGUgVVJMIHRvIHNjcm9sbCB0byB0aGUgZ2l2ZW4gYW5jaG9yIGxpbmtcclxuXHRcdC8vKGEgd2F5IHRvIGRldGVjdCBiYWNrIGhpc3RvcnkgYnV0dG9uIGFzIHdlIHBsYXkgd2l0aCB0aGUgaGFzaGVzIG9uIHRoZSBVUkwpXHJcblx0XHQkKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlSGFuZGxlcik7XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGFzaENoYW5nZUhhbmRsZXIoKXtcclxuXHRcdFx0aWYoIWlzU2Nyb2xsaW5nKXtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSAgd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xyXG5cdFx0XHRcdHZhciBzZWN0aW9uID0gdmFsdWVbMF07XHJcblx0XHRcdFx0dmFyIHNsaWRlID0gdmFsdWVbMV07XHJcblxyXG5cdFx0XHRcdGlmKHNlY3Rpb24ubGVuZ3RoKXtcclxuXHRcdFx0XHRcdC8vd2hlbiBtb3ZpbmcgdG8gYSBzbGlkZSBpbiB0aGUgZmlyc3Qgc2VjdGlvbiBmb3IgdGhlIGZpcnN0IHRpbWUgKGZpcnN0IHRpbWUgdG8gYWRkIGFuIGFuY2hvciB0byB0aGUgVVJMKVxyXG5cdFx0XHRcdFx0dmFyIGlzRmlyc3RTbGlkZU1vdmUgPSAgKHR5cGVvZiBsYXN0U2Nyb2xsZWREZXN0aW55ID09PSAndW5kZWZpbmVkJyk7XHJcblx0XHRcdFx0XHR2YXIgaXNGaXJzdFNjcm9sbE1vdmUgPSAodHlwZW9mIGxhc3RTY3JvbGxlZERlc3RpbnkgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzbGlkZSA9PT0gJ3VuZGVmaW5lZCcgJiYgIXNsaWRlTW92aW5nKTtcclxuXHJcblx0XHRcdFx0XHQvKmluIG9yZGVyIHRvIGNhbGwgc2Nyb2xscGFnZSgpIG9ubHkgb25jZSBmb3IgZWFjaCBkZXN0aW5hdGlvbiBhdCBhIHRpbWVcclxuXHRcdFx0XHRcdEl0IGlzIGNhbGxlZCB0d2ljZSBmb3IgZWFjaCBzY3JvbGwgb3RoZXJ3aXNlLCBhcyBpbiBjYXNlIG9mIHVzaW5nIGFuY2hvcmxpbmtzIGBoYXNoQ2hhbmdlYFxyXG5cdFx0XHRcdFx0ZXZlbnQgaXMgZmlyZWQgb24gZXZlcnkgc2Nyb2xsIHRvby4qL1xyXG5cdFx0XHRcdFx0aWYgKChzZWN0aW9uICYmIHNlY3Rpb24gIT09IGxhc3RTY3JvbGxlZERlc3RpbnkpICYmICFpc0ZpcnN0U2xpZGVNb3ZlIHx8IGlzRmlyc3RTY3JvbGxNb3ZlIHx8ICghc2xpZGVNb3ZpbmcgJiYgbGFzdFNjcm9sbGVkU2xpZGUgIT0gc2xpZGUgKSkgIHtcclxuXHRcdFx0XHRcdFx0c2Nyb2xsUGFnZUFuZFNsaWRlKHNlY3Rpb24sIHNsaWRlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTbGlkaW5nIHdpdGggYXJyb3cga2V5cywgYm90aCwgdmVydGljYWwgYW5kIGhvcml6b250YWxcclxuXHRcdCAqL1xyXG5cdFx0JChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbihlKSB7XHJcblx0XHRcdC8vTW92aW5nIHRoZSBtYWluIHBhZ2Ugd2l0aCB0aGUga2V5Ym9hcmQgYXJyb3dzIGlmIGtleWJvYXJkIHNjcm9sbGluZyBpcyBlbmFibGVkXHJcblx0XHRcdGlmIChvcHRpb25zLmtleWJvYXJkU2Nyb2xsaW5nICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZykge1xyXG5cclxuXHRcdFx0XHQvL3ByZXZlbnRpbmcgdGhlIHNjcm9sbCB3aXRoIGFycm93IGtleXNcclxuXHRcdFx0XHRpZihlLndoaWNoID09IDQwIHx8IGUud2hpY2ggPT0gMzgpe1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYoIWlzTW92aW5nKXtcclxuXHRcdFx0XHRcdHN3aXRjaCAoZS53aGljaCkge1xyXG5cdFx0XHRcdFx0XHQvL3VwXHJcblx0XHRcdFx0XHRcdGNhc2UgMzg6XHJcblx0XHRcdFx0XHRcdGNhc2UgMzM6XHJcblx0XHRcdFx0XHRcdFx0JC5mbi5mdWxscGFnZS5tb3ZlU2VjdGlvblVwKCk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHQvL2Rvd25cclxuXHRcdFx0XHRcdFx0Y2FzZSA0MDpcclxuXHRcdFx0XHRcdFx0Y2FzZSAzNDpcclxuXHRcdFx0XHRcdFx0XHQkLmZuLmZ1bGxwYWdlLm1vdmVTZWN0aW9uRG93bigpO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly9Ib21lXHJcblx0XHRcdFx0XHRcdGNhc2UgMzY6XHJcblx0XHRcdFx0XHRcdFx0JC5mbi5mdWxscGFnZS5tb3ZlVG8oMSk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHQvL0VuZFxyXG5cdFx0XHRcdFx0XHRjYXNlIDM1OlxyXG5cdFx0XHRcdFx0XHRcdCQuZm4uZnVsbHBhZ2UubW92ZVRvKCAkKCcuZnAtc2VjdGlvbicpLmxlbmd0aCApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly9sZWZ0XHJcblx0XHRcdFx0XHRcdGNhc2UgMzc6XHJcblx0XHRcdFx0XHRcdFx0JC5mbi5mdWxscGFnZS5tb3ZlU2xpZGVMZWZ0KCk7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHQvL3JpZ2h0XHJcblx0XHRcdFx0XHRcdGNhc2UgMzk6XHJcblx0XHRcdFx0XHRcdFx0JC5mbi5mdWxscGFnZS5tb3ZlU2xpZGVSaWdodCgpO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47IC8vIGV4aXQgdGhpcyBoYW5kbGVyIGZvciBvdGhlciBrZXlzXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogU2Nyb2xscyB0byB0aGUgc2VjdGlvbiB3aGVuIGNsaWNraW5nIHRoZSBuYXZpZ2F0aW9uIGJ1bGxldFxyXG5cdFx0Ki9cclxuXHRcdCQoZG9jdW1lbnQpLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgJyNmcC1uYXYgYScsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHZhciBpbmRleCA9ICQodGhpcykucGFyZW50KCkuaW5kZXgoKTtcclxuXHRcdFx0c2Nyb2xsUGFnZSgkKCcuZnAtc2VjdGlvbicpLmVxKGluZGV4KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogU2Nyb2xscyB0aGUgc2xpZGVyIHRvIHRoZSBnaXZlbiBzbGlkZSBkZXN0aW5hdGlvbiBmb3IgdGhlIGdpdmVuIHNlY3Rpb25cclxuXHRcdCovXHJcblx0XHQkKGRvY3VtZW50KS5vbignY2xpY2sgdG91Y2hzdGFydCcsICcuZnAtc2xpZGVzTmF2IGEnLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR2YXIgc2xpZGVzID0gJCh0aGlzKS5jbG9zZXN0KCcuZnAtc2VjdGlvbicpLmZpbmQoJy5mcC1zbGlkZXMnKTtcclxuXHRcdFx0dmFyIGRlc3RpbnkgPSBzbGlkZXMuZmluZCgnLmZwLXNsaWRlJykuZXEoJCh0aGlzKS5jbG9zZXN0KCdsaScpLmluZGV4KCkpO1xyXG5cclxuXHRcdFx0bGFuZHNjYXBlU2Nyb2xsKHNsaWRlcywgZGVzdGlueSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZihvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzKXtcclxuXHRcdFx0JChkb2N1bWVudCkub24oJ21vdXNlZW50ZXInLCBvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JC5mbi5mdWxscGFnZS5zZXRNb3VzZVdoZWVsU2Nyb2xsaW5nKGZhbHNlKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkKGRvY3VtZW50KS5vbignbW91c2VsZWF2ZScsIG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudHMsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0JC5mbi5mdWxscGFnZS5zZXRNb3VzZVdoZWVsU2Nyb2xsaW5nKHRydWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNjcm9sbGluZyBob3Jpem9udGFsbHkgd2hlbiBjbGlja2luZyBvbiB0aGUgc2xpZGVyIGNvbnRyb2xzLlxyXG5cdFx0ICovXHJcblx0XHQkKCcuZnAtc2VjdGlvbicpLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgJy5mcC1jb250cm9sQXJyb3cnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCQodGhpcykuaGFzQ2xhc3MoJ2ZwLXByZXYnKSkge1xyXG5cdFx0XHRcdCQuZm4uZnVsbHBhZ2UubW92ZVNsaWRlTGVmdCgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQuZm4uZnVsbHBhZ2UubW92ZVNsaWRlUmlnaHQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFNjcm9sbHMgaG9yaXpvbnRhbCBzbGlkZXJzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGxhbmRzY2FwZVNjcm9sbChzbGlkZXMsIGRlc3Rpbnkpe1xyXG5cdFx0XHR2YXIgZGVzdGlueVBvcyA9IGRlc3RpbnkucG9zaXRpb24oKTtcclxuXHRcdFx0dmFyIHNsaWRlc0NvbnRhaW5lciA9IHNsaWRlcy5maW5kKCcuZnAtc2xpZGVzQ29udGFpbmVyJykucGFyZW50KCk7XHJcblx0XHRcdHZhciBzbGlkZUluZGV4ID0gZGVzdGlueS5pbmRleCgpO1xyXG5cdFx0XHR2YXIgc2VjdGlvbiA9IHNsaWRlcy5jbG9zZXN0KCcuZnAtc2VjdGlvbicpO1xyXG5cdFx0XHR2YXIgc2VjdGlvbkluZGV4ID0gc2VjdGlvbi5pbmRleCgnLmZwLXNlY3Rpb24nKTtcclxuXHRcdFx0dmFyIGFuY2hvckxpbmsgPSBzZWN0aW9uLmRhdGEoJ2FuY2hvcicpO1xyXG5cdFx0XHR2YXIgc2xpZGVzTmF2ID0gc2VjdGlvbi5maW5kKCcuZnAtc2xpZGVzTmF2Jyk7XHJcblx0XHRcdHZhciBzbGlkZUFuY2hvciA9IGRlc3RpbnkuZGF0YSgnYW5jaG9yJyk7XHJcblxyXG5cdFx0XHQvL2NhY2hpbmcgdGhlIHZhbHVlIG9mIGlzUmVzaXppbmcgYXQgdGhlIG1vbW1lbnQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZFxyXG5cdFx0XHQvL2JlY2F1c2UgaXQgd2lsbCBiZSBjaGVja2VkIGxhdGVyIGluc2lkZSBhIHNldFRpbWVvdXQgYW5kIHRoZSB2YWx1ZSBtaWdodCBjaGFuZ2VcclxuXHRcdFx0dmFyIGxvY2FsSXNSZXNpemluZyA9IGlzUmVzaXppbmc7XHJcblxyXG5cdFx0XHRpZihvcHRpb25zLm9uU2xpZGVMZWF2ZSl7XHJcblx0XHRcdFx0dmFyIHByZXZTbGlkZSA9IHNlY3Rpb24uZmluZCgnLmZwLXNsaWRlLmFjdGl2ZScpO1xyXG5cdFx0XHRcdHZhciBwcmV2U2xpZGVJbmRleCA9IHByZXZTbGlkZS5pbmRleCgpO1xyXG5cdFx0XHRcdHZhciB4TW92ZW1lbnQgPSBnZXRYbW92ZW1lbnQocHJldlNsaWRlSW5kZXgsIHNsaWRlSW5kZXgpO1xyXG5cclxuXHRcdFx0XHQvL2lmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXHJcblx0XHRcdFx0aWYoIWxvY2FsSXNSZXNpemluZyAmJiB4TW92ZW1lbnQhPT0nbm9uZScpe1xyXG5cdFx0XHRcdFx0JC5pc0Z1bmN0aW9uKCBvcHRpb25zLm9uU2xpZGVMZWF2ZSApICYmIG9wdGlvbnMub25TbGlkZUxlYXZlLmNhbGwoIHByZXZTbGlkZSwgYW5jaG9yTGluaywgKHNlY3Rpb25JbmRleCArIDEpLCBwcmV2U2xpZGVJbmRleCwgeE1vdmVtZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGRlc3RpbnkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuXHJcblx0XHRcdGlmKHR5cGVvZiBzbGlkZUFuY2hvciA9PT0gJ3VuZGVmaW5lZCcpe1xyXG5cdFx0XHRcdHNsaWRlQW5jaG9yID0gc2xpZGVJbmRleDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIW9wdGlvbnMubG9vcEhvcml6b250YWwgJiYgb3B0aW9ucy5jb250cm9sQXJyb3dzKXtcclxuXHRcdFx0XHQvL2hpZGRpbmcgaXQgZm9yIHRoZSBmaXN0IHNsaWRlLCBzaG93aW5nIGZvciB0aGUgcmVzdFxyXG5cdFx0XHRcdHNlY3Rpb24uZmluZCgnLmZwLWNvbnRyb2xBcnJvdy5mcC1wcmV2JykudG9nZ2xlKHNsaWRlSW5kZXghPTApO1xyXG5cclxuXHRcdFx0XHQvL2hpZGRpbmcgaXQgZm9yIHRoZSBsYXN0IHNsaWRlLCBzaG93aW5nIGZvciB0aGUgcmVzdFxyXG5cdFx0XHRcdHNlY3Rpb24uZmluZCgnLmZwLWNvbnRyb2xBcnJvdy5mcC1uZXh0JykudG9nZ2xlKCFkZXN0aW55LmlzKCc6bGFzdC1jaGlsZCcpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9vbmx5IGNoYW5naW5nIHRoZSBVUkwgaWYgdGhlIHNsaWRlcyBhcmUgaW4gdGhlIGN1cnJlbnQgc2VjdGlvbiAobm90IGZvciByZXNpemUgcmUtYWRqdXN0aW5nKVxyXG5cdFx0XHRpZihzZWN0aW9uLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcblx0XHRcdFx0c2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3IsIGFuY2hvckxpbmssIHNlY3Rpb25JbmRleCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBhZnRlclNsaWRlTG9hZHMgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdC8vaWYgdGhlIHNpdGUgaXMgbm90IGp1c3QgcmVzaXppbmcgYW5kIHJlYWRqdXN0aW5nIHRoZSBzbGlkZXNcclxuXHRcdFx0XHRpZighbG9jYWxJc1Jlc2l6aW5nKXtcclxuXHRcdFx0XHRcdCQuaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclNsaWRlTG9hZCApICYmIG9wdGlvbnMuYWZ0ZXJTbGlkZUxvYWQuY2FsbCggZGVzdGlueSwgYW5jaG9yTGluaywgKHNlY3Rpb25JbmRleCArIDEpLCBzbGlkZUFuY2hvciwgc2xpZGVJbmRleCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vbGV0dGluZyB0aGVtIHNsaWRlIGFnYWluXHJcblx0XHRcdFx0c2xpZGVNb3ZpbmcgPSBmYWxzZTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlmKG9wdGlvbnMuY3NzMyl7XHJcblx0XHRcdFx0dmFyIHRyYW5zbGF0ZTNkID0gJ3RyYW5zbGF0ZTNkKC0nICsgZGVzdGlueVBvcy5sZWZ0ICsgJ3B4LCAwcHgsIDBweCknO1xyXG5cclxuXHRcdFx0XHRhZGRBbmltYXRpb24oc2xpZGVzLmZpbmQoJy5mcC1zbGlkZXNDb250YWluZXInKSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZD4wKS5jc3MoZ2V0VHJhbnNmb3Jtcyh0cmFuc2xhdGUzZCkpO1xyXG5cclxuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRhZnRlclNsaWRlTG9hZHMoKTtcclxuXHRcdFx0XHR9LCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkLCBvcHRpb25zLmVhc2luZyk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHNsaWRlc0NvbnRhaW5lci5hbmltYXRlKHtcclxuXHRcdFx0XHRcdHNjcm9sbExlZnQgOiBkZXN0aW55UG9zLmxlZnRcclxuXHRcdFx0XHR9LCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkLCBvcHRpb25zLmVhc2luZywgZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdFx0YWZ0ZXJTbGlkZUxvYWRzKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNsaWRlc05hdi5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRzbGlkZXNOYXYuZmluZCgnbGknKS5lcShzbGlkZUluZGV4KS5maW5kKCdhJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0fVxyXG5cclxuXHQgICAgLy93aGVuIHJlc2l6aW5nIHRoZSBzaXRlLCB3ZSBhZGp1c3QgdGhlIGhlaWdodHMgb2YgdGhlIHNlY3Rpb25zLCBzbGltU2Nyb2xsLi4uXHJcblx0ICAgICQod2luZG93KS5yZXNpemUocmVzaXplSGFuZGxlcik7XHJcblxyXG5cdCAgICB2YXIgcHJldmlvdXNIZWlnaHQgPSB3aW5kb3dzSGVpZ2h0O1xyXG5cdCAgICB2YXIgcmVzaXplSWQ7XHJcblx0ICAgIGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKXtcclxuXHQgICAgXHQvL2NoZWNraW5nIGlmIGl0IG5lZWRzIHRvIGdldCByZXNwb25zaXZlXHJcblx0ICAgIFx0cmVzcG9uc2l2ZSgpO1xyXG5cclxuXHQgICAgXHQvLyByZWJ1aWxkIGltbWVkaWF0ZWx5IG9uIHRvdWNoIGRldmljZXNcclxuXHRcdFx0aWYgKGlzVG91Y2hEZXZpY2UpIHtcclxuXHJcblx0XHRcdFx0Ly9pZiB0aGUga2V5Ym9hcmQgaXMgdmlzaWJsZVxyXG5cdFx0XHRcdGlmICgkKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmF0dHIoJ3R5cGUnKSAhPT0gJ3RleHQnKSB7XHJcblx0XHRcdFx0XHR2YXIgY3VycmVudEhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuXHJcblx0XHRcdFx0XHQvL21ha2luZyBzdXJlIHRoZSBjaGFuZ2UgaW4gdGhlIHZpZXdwb3J0IHNpemUgaXMgZW5vdWdoIHRvIGZvcmNlIGEgcmVidWlsZC4gKDIwICUgb2YgdGhlIHdpbmRvdyB0byBhdm9pZCBwcm9ibGVtcyB3aGVuIGhpZGRpbmcgc2Nyb2xsIGJhcnMpXHJcblx0XHRcdFx0XHRpZiggTWF0aC5hYnMoY3VycmVudEhlaWdodCAtIHByZXZpb3VzSGVpZ2h0KSA+ICgyMCAqIE1hdGgubWF4KHByZXZpb3VzSGVpZ2h0LCBjdXJyZW50SGVpZ2h0KSAvIDEwMCkgKXtcclxuXHRcdFx0ICAgICAgICBcdCQuZm4uZnVsbHBhZ2UucmVCdWlsZCh0cnVlKTtcclxuXHRcdFx0ICAgICAgICBcdHByZXZpb3VzSGVpZ2h0ID0gY3VycmVudEhlaWdodDtcclxuXHRcdFx0ICAgICAgICB9XHJcblx0XHQgICAgICAgIH1cclxuXHQgICAgICBcdH1lbHNle1xyXG5cdCAgICAgIFx0XHQvL2luIG9yZGVyIHRvIGNhbGwgdGhlIGZ1bmN0aW9ucyBvbmx5IHdoZW4gdGhlIHJlc2l6ZSBpcyBmaW5pc2hlZFxyXG5cdCAgICBcdFx0Ly9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQyOTg2MTIvanF1ZXJ5LWhvdy10by1jYWxsLXJlc2l6ZS1ldmVudC1vbmx5LW9uY2UtaXRzLWZpbmlzaGVkLXJlc2l6aW5nXHJcblx0ICAgICAgXHRcdGNsZWFyVGltZW91dChyZXNpemVJZCk7XHJcblxyXG5cdCAgICAgICAgXHRyZXNpemVJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHQgICAgICAgIFx0XHQkLmZuLmZ1bGxwYWdlLnJlQnVpbGQodHJ1ZSk7XHJcblx0ICAgICAgICBcdH0sIDUwMCk7XHJcblx0ICAgICAgXHR9XHJcblx0ICAgIH1cclxuXHJcblx0ICAgIC8qKlxyXG5cdCAgICAqIENoZWNrcyBpZiB0aGUgc2l0ZSBuZWVkcyB0byBnZXQgcmVzcG9uc2l2ZSBhbmQgZGlzYWJsZXMgYXV0b1Njcm9sbGluZyBpZiBzby5cclxuXHQgICAgKiBBIGNsYXNzIGBmcC1yZXNwb25zaXZlYCBpcyBhZGRlZCB0byB0aGUgcGx1Z2luJ3MgY29udGFpbmVyIGluIGNhc2UgdGhlIHVzZXIgd2FudHMgdG8gdXNlIGl0IGZvciBoaXMgb3duIHJlc3BvbnNpdmUgQ1NTLlxyXG5cdCAgICAqL1xyXG5cdCAgICBmdW5jdGlvbiByZXNwb25zaXZlKCl7XHJcblx0ICAgIFx0aWYob3B0aW9ucy5yZXNwb25zaXZlKXtcclxuXHQgICAgXHRcdHZhciBpc1Jlc3BvbnNpdmUgPSBjb250YWluZXIuaGFzQ2xhc3MoJ2ZwLXJlc3BvbnNpdmUnKTtcclxuXHQgICAgXHRcdGlmICgkKHdpbmRvdykud2lkdGgoKSA8IG9wdGlvbnMucmVzcG9uc2l2ZSApe1xyXG5cdCAgICBcdFx0XHRpZighaXNSZXNwb25zaXZlKXtcclxuXHQgICAgXHRcdFx0XHQkLmZuLmZ1bGxwYWdlLnNldEF1dG9TY3JvbGxpbmcoZmFsc2UsICdpbnRlcm5hbCcpO1xyXG5cdCAgICBcdFx0XHRcdCQoJyNmcC1uYXYnKS5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdGNvbnRhaW5lci5hZGRDbGFzcygnZnAtcmVzcG9uc2l2ZScpO1xyXG5cdCAgICBcdFx0XHR9XHJcblx0ICAgIFx0XHR9ZWxzZSBpZihpc1Jlc3BvbnNpdmUpe1xyXG5cdCAgICBcdFx0XHQkLmZuLmZ1bGxwYWdlLnNldEF1dG9TY3JvbGxpbmcob3JpZ2luYWxzLmF1dG9TY3JvbGxpbmcsICdpbnRlcm5hbCcpO1xyXG5cdCAgICBcdFx0XHQkKCcjZnAtbmF2Jykuc2hvdygpO1xyXG5cdFx0XHRcdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCdmcC1yZXNwb25zaXZlJyk7XHJcblx0ICAgIFx0XHR9XHJcblx0ICAgIFx0fVxyXG5cdCAgICB9XHJcblxyXG5cdCAgICAvKipcclxuXHRcdCogQWRkcyB0cmFuc2l0aW9uIGFuaW1hdGlvbnMgZm9yIHRoZSBnaXZlbiBlbGVtZW50XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gYWRkQW5pbWF0aW9uKGVsZW1lbnQpe1xyXG5cdFx0XHR2YXIgdHJhbnNpdGlvbiA9ICdhbGwgJyArIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQgKyAnbXMgJyArIG9wdGlvbnMuZWFzaW5nY3NzMztcclxuXHJcblx0XHRcdGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZwLW5vdHJhbnNpdGlvbicpO1xyXG5cdFx0XHRyZXR1cm4gZWxlbWVudC5jc3Moe1xyXG5cdFx0XHRcdCctd2Via2l0LXRyYW5zaXRpb24nOiB0cmFuc2l0aW9uLFxyXG4gICAgIFx0XHRcdCd0cmFuc2l0aW9uJzogdHJhbnNpdGlvblxyXG4gICAgICAgXHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBSZW1vdmUgdHJhbnNpdGlvbiBhbmltYXRpb25zIGZvciB0aGUgZ2l2ZW4gZWxlbWVudFxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZUFuaW1hdGlvbihlbGVtZW50KXtcclxuXHRcdFx0cmV0dXJuIGVsZW1lbnQuYWRkQ2xhc3MoJ2ZwLW5vdHJhbnNpdGlvbicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVzaXppbmcgb2YgdGhlIGZvbnQgc2l6ZSBkZXBlbmRpbmcgb24gdGhlIHdpbmRvdyBzaXplIGFzIHdlbGwgYXMgc29tZSBvZiB0aGUgaW1hZ2VzIG9uIHRoZSBzaXRlLlxyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiByZXNpemVNZShkaXNwbGF5SGVpZ2h0LCBkaXNwbGF5V2lkdGgpIHtcclxuXHRcdFx0Ly9TdGFuZGFyZCBkaW1lbnNpb25zLCBmb3Igd2hpY2ggdGhlIGJvZHkgZm9udCBzaXplIGlzIGNvcnJlY3RcclxuXHRcdFx0dmFyIHByZWZlcnJlZEhlaWdodCA9IDgyNTtcclxuXHRcdFx0dmFyIHByZWZlcnJlZFdpZHRoID0gOTAwO1xyXG5cclxuXHRcdFx0aWYgKGRpc3BsYXlIZWlnaHQgPCBwcmVmZXJyZWRIZWlnaHQgfHwgZGlzcGxheVdpZHRoIDwgcHJlZmVycmVkV2lkdGgpIHtcclxuXHRcdFx0XHR2YXIgaGVpZ2h0UGVyY2VudGFnZSA9IChkaXNwbGF5SGVpZ2h0ICogMTAwKSAvIHByZWZlcnJlZEhlaWdodDtcclxuXHRcdFx0XHR2YXIgd2lkdGhQZXJjZW50YWdlID0gKGRpc3BsYXlXaWR0aCAqIDEwMCkgLyBwcmVmZXJyZWRXaWR0aDtcclxuXHRcdFx0XHR2YXIgcGVyY2VudGFnZSA9IE1hdGgubWluKGhlaWdodFBlcmNlbnRhZ2UsIHdpZHRoUGVyY2VudGFnZSk7XHJcblx0XHRcdFx0dmFyIG5ld0ZvbnRTaXplID0gcGVyY2VudGFnZS50b0ZpeGVkKDIpO1xyXG5cclxuXHRcdFx0XHQkKFwiYm9keVwiKS5jc3MoXCJmb250LXNpemVcIiwgbmV3Rm9udFNpemUgKyAnJScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCQoXCJib2R5XCIpLmNzcyhcImZvbnQtc2l6ZVwiLCAnMTAwJScpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBY3RpdmF0aW5nIHRoZSB3ZWJzaXRlIG5hdmlnYXRpb24gZG90cyBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHNsaWRlIG5hbWUuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlTmF2RG90cyhuYW1lLCBzZWN0aW9uSW5kZXgpe1xyXG5cdFx0XHRpZihvcHRpb25zLm5hdmlnYXRpb24pe1xyXG5cdFx0XHRcdCQoJyNmcC1uYXYnKS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdGlmKG5hbWUpe1xyXG5cdFx0XHRcdFx0JCgnI2ZwLW5hdicpLmZpbmQoJ2FbaHJlZj1cIiMnICsgbmFtZSArICdcIl0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHQkKCcjZnAtbmF2JykuZmluZCgnbGknKS5lcShzZWN0aW9uSW5kZXgpLmZpbmQoJ2EnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBY3RpdmF0aW5nIHRoZSB3ZWJzaXRlIG1haW4gbWVudSBlbGVtZW50cyBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHNsaWRlIG5hbWUuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlTWVudUVsZW1lbnQobmFtZSl7XHJcblx0XHRcdGlmKG9wdGlvbnMubWVudSl7XHJcblx0XHRcdFx0JChvcHRpb25zLm1lbnUpLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0JChvcHRpb25zLm1lbnUpLmZpbmQoJ1tkYXRhLW1lbnVhbmNob3I9XCInK25hbWUrJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlTWVudUFuZE5hdihhbmNob3IsIGluZGV4KXtcclxuXHRcdFx0YWN0aXZhdGVNZW51RWxlbWVudChhbmNob3IpO1xyXG5cdFx0XHRhY3RpdmF0ZU5hdkRvdHMoYW5jaG9yLCBpbmRleCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFJldHVybiBhIGJvb2xlYW4gZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHNjcm9sbGFibGUgZWxlbWVudCBpcyBhdCB0aGUgZW5kIG9yIGF0IHRoZSBzdGFydCBvZiB0aGUgc2Nyb2xsaW5nXHJcblx0XHQqIGRlcGVuZGluZyBvbiB0aGUgZ2l2ZW4gdHlwZS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBpc1Njcm9sbGVkKHR5cGUsIHNjcm9sbGFibGUpe1xyXG5cdFx0XHRpZih0eXBlID09PSAndG9wJyl7XHJcblx0XHRcdFx0cmV0dXJuICFzY3JvbGxhYmxlLnNjcm9sbFRvcCgpO1xyXG5cdFx0XHR9ZWxzZSBpZih0eXBlID09PSAnYm90dG9tJyl7XHJcblx0XHRcdFx0cmV0dXJuIHNjcm9sbGFibGUuc2Nyb2xsVG9wKCkgKyAxICsgc2Nyb2xsYWJsZS5pbm5lckhlaWdodCgpID49IHNjcm9sbGFibGVbMF0uc2Nyb2xsSGVpZ2h0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFJldHVucyBgdXBgIG9yIGBkb3duYCBkZXBlbmRpbmcgb24gdGhlIHNjcm9sbGluZyBtb3ZlbWVudCB0byByZWFjaCBpdHMgZGVzdGluYXRpb25cclxuXHRcdCogZnJvbSB0aGUgY3VycmVudCBzZWN0aW9uLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFltb3ZlbWVudChkZXN0aW55KXtcclxuXHRcdFx0dmFyIGZyb21JbmRleCA9ICQoJy5mcC1zZWN0aW9uLmFjdGl2ZScpLmluZGV4KCcuZnAtc2VjdGlvbicpO1xyXG5cdFx0XHR2YXIgdG9JbmRleCA9IGRlc3RpbnkuaW5kZXgoJy5mcC1zZWN0aW9uJyk7XHJcblx0XHRcdGlmKCBmcm9tSW5kZXggPT0gdG9JbmRleCl7XHJcblx0XHRcdFx0cmV0dXJuICdub25lJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihmcm9tSW5kZXggPiB0b0luZGV4KXtcclxuXHRcdFx0XHRyZXR1cm4gJ3VwJztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gJ2Rvd24nO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBSZXR1bnMgYHJpZ2h0YCBvciBgbGVmdGAgZGVwZW5kaW5nIG9uIHRoZSBzY3JvbGxpbmcgbW92ZW1lbnQgdG8gcmVhY2ggaXRzIGRlc3RpbmF0aW9uXHJcblx0XHQqIGZyb20gdGhlIGN1cnJlbnQgc2xpZGUuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0WG1vdmVtZW50KGZyb21JbmRleCwgdG9JbmRleCl7XHJcblx0XHRcdGlmKCBmcm9tSW5kZXggPT0gdG9JbmRleCl7XHJcblx0XHRcdFx0cmV0dXJuICdub25lJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihmcm9tSW5kZXggPiB0b0luZGV4KXtcclxuXHRcdFx0XHRyZXR1cm4gJ2xlZnQnO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiAncmlnaHQnO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVTbGltU2Nyb2xsaW5nKGVsZW1lbnQpe1xyXG5cdFx0XHQvL25lZWRlZCB0byBtYWtlIGBzY3JvbGxIZWlnaHRgIHdvcmsgdW5kZXIgT3BlcmEgMTJcclxuXHRcdFx0ZWxlbWVudC5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xyXG5cclxuXHRcdFx0Ly9pbiBjYXNlIGVsZW1lbnQgaXMgYSBzbGlkZVxyXG5cdFx0XHR2YXIgc2VjdGlvbiA9IGVsZW1lbnQuY2xvc2VzdCgnLmZwLXNlY3Rpb24nKTtcclxuXHRcdFx0dmFyIHNjcm9sbGFibGUgPSBlbGVtZW50LmZpbmQoJy5mcC1zY3JvbGxhYmxlJyk7XHJcblx0XHRcdHZhciBjb250ZW50SGVpZ2h0O1xyXG5cclxuXHRcdFx0Ly9pZiB0aGVyZSB3YXMgc2Nyb2xsLCB0aGUgY29udGVudEhlaWdodCB3aWxsIGJlIHRoZSBvbmUgaW4gdGhlIHNjcm9sbGFibGUgc2VjdGlvblxyXG5cdFx0XHRpZihzY3JvbGxhYmxlLmxlbmd0aCl7XHJcblx0XHRcdFx0Y29udGVudEhlaWdodCA9IHNjcm9sbGFibGUuZ2V0KDApLnNjcm9sbEhlaWdodDtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Y29udGVudEhlaWdodCA9IGVsZW1lbnQuZ2V0KDApLnNjcm9sbEhlaWdodDtcclxuXHRcdFx0XHRpZihvcHRpb25zLnZlcnRpY2FsQ2VudGVyZWQpe1xyXG5cdFx0XHRcdFx0Y29udGVudEhlaWdodCA9IGVsZW1lbnQuZmluZCgnLmZwLXRhYmxlQ2VsbCcpLmdldCgwKS5zY3JvbGxIZWlnaHQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgc2Nyb2xsSGVpZ2h0ID0gd2luZG93c0hlaWdodCAtIHBhcnNlSW50KHNlY3Rpb24uY3NzKCdwYWRkaW5nLWJvdHRvbScpKSAtIHBhcnNlSW50KHNlY3Rpb24uY3NzKCdwYWRkaW5nLXRvcCcpKTtcclxuXHJcblx0XHRcdC8vbmVlZHMgc2Nyb2xsP1xyXG5cdFx0XHRpZiAoIGNvbnRlbnRIZWlnaHQgPiBzY3JvbGxIZWlnaHQpIHtcclxuXHRcdFx0XHQvL3dhcyB0aGVyZSBhbHJlYWR5IGFuIHNjcm9sbCA/IFVwZGF0aW5nIGl0XHJcblx0XHRcdFx0aWYoc2Nyb2xsYWJsZS5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0c2Nyb2xsYWJsZS5jc3MoJ2hlaWdodCcsIHNjcm9sbEhlaWdodCArICdweCcpLnBhcmVudCgpLmNzcygnaGVpZ2h0Jywgc2Nyb2xsSGVpZ2h0ICsgJ3B4Jyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vY3JlYXRpbmcgdGhlIHNjcm9sbGluZ1xyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRpZihvcHRpb25zLnZlcnRpY2FsQ2VudGVyZWQpe1xyXG5cdFx0XHRcdFx0XHRlbGVtZW50LmZpbmQoJy5mcC10YWJsZUNlbGwnKS53cmFwSW5uZXIoJzxkaXYgY2xhc3M9XCJmcC1zY3JvbGxhYmxlXCIgLz4nKTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRlbGVtZW50LndyYXBJbm5lcignPGRpdiBjbGFzcz1cImZwLXNjcm9sbGFibGVcIiAvPicpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGVsZW1lbnQuZmluZCgnLmZwLXNjcm9sbGFibGUnKS5zbGltU2Nyb2xsKHtcclxuXHRcdFx0XHRcdFx0YWxsb3dQYWdlU2Nyb2xsOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IHNjcm9sbEhlaWdodCArICdweCcsXHJcblx0XHRcdFx0XHRcdHNpemU6ICcxMHB4JyxcclxuXHRcdFx0XHRcdFx0YWx3YXlzVmlzaWJsZTogdHJ1ZVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL3JlbW92aW5nIHRoZSBzY3JvbGxpbmcgd2hlbiBpdCBpcyBub3QgbmVjZXNzYXJ5IGFueW1vcmVcclxuXHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRyZW1vdmVTbGltU2Nyb2xsKGVsZW1lbnQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL3VuZG9cclxuXHRcdFx0ZWxlbWVudC5jc3MoJ292ZXJmbG93JywgJycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZVNsaW1TY3JvbGwoZWxlbWVudCl7XHJcblx0XHRcdGVsZW1lbnQuZmluZCgnLmZwLXNjcm9sbGFibGUnKS5jaGlsZHJlbigpLmZpcnN0KCkudW53cmFwKCkudW53cmFwKCk7XHJcblx0XHRcdGVsZW1lbnQuZmluZCgnLnNsaW1TY3JvbGxCYXInKS5yZW1vdmUoKTtcclxuXHRcdFx0ZWxlbWVudC5maW5kKCcuc2xpbVNjcm9sbFJhaWwnKS5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhZGRUYWJsZUNsYXNzKGVsZW1lbnQpe1xyXG5cdFx0XHRlbGVtZW50LmFkZENsYXNzKCdmcC10YWJsZScpLndyYXBJbm5lcignPGRpdiBjbGFzcz1cImZwLXRhYmxlQ2VsbFwiIHN0eWxlPVwiaGVpZ2h0OicgKyBnZXRUYWJsZUhlaWdodChlbGVtZW50KSArICdweDtcIiAvPicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFRhYmxlSGVpZ2h0KGVsZW1lbnQpe1xyXG5cdFx0XHR2YXIgc2VjdGlvbkhlaWdodCA9IHdpbmRvd3NIZWlnaHQ7XHJcblxyXG5cdFx0XHRpZihvcHRpb25zLnBhZGRpbmdUb3AgfHwgb3B0aW9ucy5wYWRkaW5nQm90dG9tKXtcclxuXHRcdFx0XHR2YXIgc2VjdGlvbiA9IGVsZW1lbnQ7XHJcblx0XHRcdFx0aWYoIXNlY3Rpb24uaGFzQ2xhc3MoJ2ZwLXNlY3Rpb24nKSl7XHJcblx0XHRcdFx0XHRzZWN0aW9uID0gZWxlbWVudC5jbG9zZXN0KCcuZnAtc2VjdGlvbicpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dmFyIHBhZGRpbmdzID0gcGFyc2VJbnQoc2VjdGlvbi5jc3MoJ3BhZGRpbmctdG9wJykpICsgcGFyc2VJbnQoc2VjdGlvbi5jc3MoJ3BhZGRpbmctYm90dG9tJykpO1xyXG5cdFx0XHRcdHNlY3Rpb25IZWlnaHQgPSAod2luZG93c0hlaWdodCAtIHBhZGRpbmdzKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHNlY3Rpb25IZWlnaHQ7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEFkZHMgYSBjc3MzIHRyYW5zZm9ybSBwcm9wZXJ0eSB0byB0aGUgY29udGFpbmVyIGNsYXNzIHdpdGggb3Igd2l0aG91dCBhbmltYXRpb24gZGVwZW5kaW5nIG9uIHRoZSBhbmltYXRlZCBwYXJhbS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiB0cmFuc2Zvcm1Db250YWluZXIodHJhbnNsYXRlM2QsIGFuaW1hdGVkKXtcclxuXHRcdFx0aWYoYW5pbWF0ZWQpe1xyXG5cdFx0XHRcdGFkZEFuaW1hdGlvbihjb250YWluZXIpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZW1vdmVBbmltYXRpb24oY29udGFpbmVyKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29udGFpbmVyLmNzcyhnZXRUcmFuc2Zvcm1zKHRyYW5zbGF0ZTNkKSk7XHJcblxyXG5cdFx0XHQvL3N5bmNyb25vdXNseSByZW1vdmluZyB0aGUgY2xhc3MgYWZ0ZXIgdGhlIGFuaW1hdGlvbiBoYXMgYmVlbiBhcHBsaWVkLlxyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0Y29udGFpbmVyLnJlbW92ZUNsYXNzKCdmcC1ub3RyYW5zaXRpb24nKTtcclxuXHRcdFx0fSwxMCk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBTY3JvbGxzIHRvIHRoZSBnaXZlbiBzZWN0aW9uIGFuZCBzbGlkZVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHNjcm9sbFBhZ2VBbmRTbGlkZShkZXN0aW55LCBzbGlkZSl7XHJcblx0XHRcdHZhciBzZWN0aW9uO1xyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiBzbGlkZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0ICAgIHNsaWRlID0gMDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoaXNOYU4oZGVzdGlueSkpe1xyXG5cdFx0XHRcdHNlY3Rpb24gPSAkKCdbZGF0YS1hbmNob3I9XCInK2Rlc3RpbnkrJ1wiXScpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRzZWN0aW9uID0gJCgnLmZwLXNlY3Rpb24nKS5lcSggKGRlc3RpbnkgLTEpICk7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHQvL3dlIG5lZWQgdG8gc2Nyb2xsIHRvIHRoZSBzZWN0aW9uIGFuZCB0aGVuIHRvIHRoZSBzbGlkZVxyXG5cdFx0XHRpZiAoZGVzdGlueSAhPT0gbGFzdFNjcm9sbGVkRGVzdGlueSAmJiAhc2VjdGlvbi5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG5cdFx0XHRcdHNjcm9sbFBhZ2Uoc2VjdGlvbiwgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdHNjcm9sbFNsaWRlcihzZWN0aW9uLCBzbGlkZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9pZiB3ZSB3ZXJlIGFscmVhZHkgaW4gdGhlIHNlY3Rpb25cclxuXHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRzY3JvbGxTbGlkZXIoc2VjdGlvbiwgc2xpZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFNjcm9sbHMgdGhlIHNsaWRlciB0byB0aGUgZ2l2ZW4gc2xpZGUgZGVzdGluYXRpb24gZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gc2Nyb2xsU2xpZGVyKHNlY3Rpb24sIHNsaWRlKXtcclxuXHRcdFx0aWYodHlwZW9mIHNsaWRlICE9ICd1bmRlZmluZWQnKXtcclxuXHRcdFx0XHR2YXIgc2xpZGVzID0gc2VjdGlvbi5maW5kKCcuZnAtc2xpZGVzJyk7XHJcblx0XHRcdFx0dmFyIGRlc3RpbnkgPSAgc2xpZGVzLmZpbmQoJ1tkYXRhLWFuY2hvcj1cIicrc2xpZGUrJ1wiXScpO1xyXG5cclxuXHRcdFx0XHRpZighZGVzdGlueS5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0ZGVzdGlueSA9IHNsaWRlcy5maW5kKCcuZnAtc2xpZGUnKS5lcShzbGlkZSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZihkZXN0aW55Lmxlbmd0aCl7XHJcblx0XHRcdFx0XHRsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQ3JlYXRlcyBhIGxhbmRzY2FwZSBuYXZpZ2F0aW9uIGJhciB3aXRoIGRvdHMgZm9yIGhvcml6b250YWwgc2xpZGVycy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBhZGRTbGlkZXNOYXZpZ2F0aW9uKHNlY3Rpb24sIG51bVNsaWRlcyl7XHJcblx0XHRcdHNlY3Rpb24uYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZnAtc2xpZGVzTmF2XCI+PHVsPjwvdWw+PC9kaXY+Jyk7XHJcblx0XHRcdHZhciBuYXYgPSBzZWN0aW9uLmZpbmQoJy5mcC1zbGlkZXNOYXYnKTtcclxuXHJcblx0XHRcdC8vdG9wIG9yIGJvdHRvbVxyXG5cdFx0XHRuYXYuYWRkQ2xhc3Mob3B0aW9ucy5zbGlkZXNOYXZQb3NpdGlvbik7XHJcblxyXG5cdFx0XHRmb3IodmFyIGk9MDsgaTwgbnVtU2xpZGVzOyBpKyspe1xyXG5cdFx0XHRcdG5hdi5maW5kKCd1bCcpLmFwcGVuZCgnPGxpPjxhIGhyZWY9XCIjXCI+PHNwYW4+PC9zcGFuPjwvYT48L2xpPicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL2NlbnRlcmluZyBpdFxyXG5cdFx0XHRuYXYuY3NzKCdtYXJnaW4tbGVmdCcsICctJyArIChuYXYud2lkdGgoKS8yKSArICdweCcpO1xyXG5cclxuXHRcdFx0bmF2LmZpbmQoJ2xpJykuZmlyc3QoKS5maW5kKCdhJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQvKipcclxuXHRcdCogU2V0cyB0aGUgc3RhdGUgb2YgdGhlIHdlYnNpdGUgZGVwZW5kaW5nIG9uIHRoZSBhY3RpdmUgc2VjdGlvbi9zbGlkZS5cclxuXHRcdCogSXQgY2hhbmdlcyB0aGUgVVJMIGhhc2ggd2hlbiBuZWVkZWQgYW5kIHVwZGF0ZXMgdGhlIGJvZHkgY2xhc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gc2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3IsIGFuY2hvckxpbmssIHNlY3Rpb25JbmRleCl7XHJcblx0XHRcdHZhciBzZWN0aW9uSGFzaCA9ICcnO1xyXG5cclxuXHRcdFx0aWYob3B0aW9ucy5hbmNob3JzLmxlbmd0aCl7XHJcblxyXG5cdFx0XHRcdC8vaXNuJ3QgaXQgdGhlIGZpcnN0IHNsaWRlP1xyXG5cdFx0XHRcdGlmKHNsaWRlSW5kZXgpe1xyXG5cdFx0XHRcdFx0aWYodHlwZW9mIGFuY2hvckxpbmsgIT09ICd1bmRlZmluZWQnKXtcclxuXHRcdFx0XHRcdFx0c2VjdGlvbkhhc2ggPSBhbmNob3JMaW5rO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vc2xpZGUgd2l0aG91dCBhbmNob3IgbGluaz8gV2UgdGFrZSB0aGUgaW5kZXggaW5zdGVhZC5cclxuXHRcdFx0XHRcdGlmKHR5cGVvZiBzbGlkZUFuY2hvciA9PT0gJ3VuZGVmaW5lZCcpe1xyXG5cdFx0XHRcdFx0XHRzbGlkZUFuY2hvciA9IHNsaWRlSW5kZXg7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0bGFzdFNjcm9sbGVkU2xpZGUgPSBzbGlkZUFuY2hvcjtcclxuXHRcdFx0XHRcdHNldFVybEhhc2goc2VjdGlvbkhhc2ggKyAnLycgKyBzbGlkZUFuY2hvcik7XHJcblxyXG5cdFx0XHRcdC8vZmlyc3Qgc2xpZGUgd29uJ3QgaGF2ZSBzbGlkZSBhbmNob3IsIGp1c3QgdGhlIHNlY3Rpb24gb25lXHJcblx0XHRcdFx0fWVsc2UgaWYodHlwZW9mIHNsaWRlSW5kZXggIT09ICd1bmRlZmluZWQnKXtcclxuXHRcdFx0XHRcdGxhc3RTY3JvbGxlZFNsaWRlID0gc2xpZGVBbmNob3I7XHJcblx0XHRcdFx0XHRzZXRVcmxIYXNoKGFuY2hvckxpbmspO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly9zZWN0aW9uIHdpdGhvdXQgc2xpZGVzXHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdHNldFVybEhhc2goYW5jaG9yTGluayk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRzZXRCb2R5Q2xhc3MobG9jYXRpb24uaGFzaCk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZih0eXBlb2Ygc2xpZGVJbmRleCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG5cdFx0XHRcdFx0c2V0Qm9keUNsYXNzKHNlY3Rpb25JbmRleCArICctJyArIHNsaWRlSW5kZXgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2V7XHJcblx0XHRcdFx0c2V0Qm9keUNsYXNzKFN0cmluZyhzZWN0aW9uSW5kZXgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBTZXRzIHRoZSBVUkwgaGFzaC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBzZXRVcmxIYXNoKHVybCl7XHJcblx0XHRcdGlmKG9wdGlvbnMucmVjb3JkSGlzdG9yeSl7XHJcblx0XHRcdFx0bG9jYXRpb24uaGFzaCA9IHVybDtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Ly9Nb2JpbGUgQ2hyb21lIGRvZXNuJ3Qgd29yayB0aGUgbm9ybWFsIHdheSwgc28uLi4gbGV0cyB1c2UgSFRNTDUgZm9yIHBob25lcyA6KVxyXG5cdFx0XHRcdGlmKGlzVG91Y2hEZXZpY2UgfHwgaXNUb3VjaCl7XHJcblx0XHRcdFx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCIjXCIgKyB1cmwpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0dmFyIGJhc2VVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdO1xyXG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoIGJhc2VVcmwgKyAnIycgKyB1cmwgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogU2V0cyBhIGNsYXNzIGZvciB0aGUgYm9keSBvZiB0aGUgcGFnZSBkZXBlbmRpbmcgb24gdGhlIGFjdGl2ZSBzZWN0aW9uIC8gc2xpZGVcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBzZXRCb2R5Q2xhc3ModGV4dCl7XHJcblx0XHRcdC8vY2hhbmdpbmcgc2xhc2ggZm9yIGRhc2ggdG8gbWFrZSBpdCBhIHZhbGlkIENTUyBzdHlsZVxyXG5cdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCcvJywgJy0nKS5yZXBsYWNlKCcjJywnJyk7XHJcblxyXG5cdFx0XHQvL3JlbW92aW5nIHByZXZpb3VzIGFuY2hvciBjbGFzc2VzXHJcblx0XHRcdCQoXCJib2R5XCIpWzBdLmNsYXNzTmFtZSA9ICQoXCJib2R5XCIpWzBdLmNsYXNzTmFtZS5yZXBsYWNlKC9cXGJcXHM/ZnAtdmlld2luZy1bXlxcc10rXFxiL2csICcnKTtcclxuXHJcblx0XHRcdC8vYWRkaW5nIHRoZSBjdXJyZW50IGFuY2hvclxyXG5cdFx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImZwLXZpZXdpbmctXCIgKyB0ZXh0KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQ2hlY2tzIGZvciB0cmFuc2xhdGUzZCBzdXBwb3J0XHJcblx0XHQqIEByZXR1cm4gYm9vbGVhblxyXG5cdFx0KiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU2NjE2NzEvZGV0ZWN0aW5nLXRyYW5zZm9ybS10cmFuc2xhdGUzZC1zdXBwb3J0XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gc3VwcG9ydDNkKCkge1xyXG5cdFx0XHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXHJcblx0XHRcdFx0aGFzM2QsXHJcblx0XHRcdFx0dHJhbnNmb3JtcyA9IHtcclxuXHRcdFx0XHRcdCd3ZWJraXRUcmFuc2Zvcm0nOictd2Via2l0LXRyYW5zZm9ybScsXHJcblx0XHRcdFx0XHQnT1RyYW5zZm9ybSc6Jy1vLXRyYW5zZm9ybScsXHJcblx0XHRcdFx0XHQnbXNUcmFuc2Zvcm0nOictbXMtdHJhbnNmb3JtJyxcclxuXHRcdFx0XHRcdCdNb3pUcmFuc2Zvcm0nOictbW96LXRyYW5zZm9ybScsXHJcblx0XHRcdFx0XHQndHJhbnNmb3JtJzondHJhbnNmb3JtJ1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBBZGQgaXQgdG8gdGhlIGJvZHkgdG8gZ2V0IHRoZSBjb21wdXRlZCBzdHlsZS5cclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZWwsIG51bGwpO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgdCBpbiB0cmFuc2Zvcm1zKSB7XHJcblx0XHRcdFx0aWYgKGVsLnN0eWxlW3RdICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdGVsLnN0eWxlW3RdID0gXCJ0cmFuc2xhdGUzZCgxcHgsMXB4LDFweClcIjtcclxuXHRcdFx0XHRcdGhhczNkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodHJhbnNmb3Jtc1t0XSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTtcclxuXHJcblx0XHRcdHJldHVybiAoaGFzM2QgIT09IHVuZGVmaW5lZCAmJiBoYXMzZC5sZW5ndGggPiAwICYmIGhhczNkICE9PSBcIm5vbmVcIik7XHJcblx0XHR9XHJcblxyXG5cclxuXHJcblx0XHQvKipcclxuXHRcdCogUmVtb3ZlcyB0aGUgYXV0byBzY3JvbGxpbmcgYWN0aW9uIGZpcmVkIGJ5IHRoZSBtb3VzZSB3aGVlbCBhbmQgdHJhY2twYWQuXHJcblx0XHQqIEFmdGVyIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgbW91c2V3aGVlbCBhbmQgdHJhY2twYWQgbW92ZW1lbnRzIHdvbid0IHNjcm9sbCB0aHJvdWdoIHNlY3Rpb25zLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZU1vdXNlV2hlZWxIYW5kbGVyKCl7XHJcblx0XHRcdGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XHJcblx0XHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIE1vdXNlV2hlZWxIYW5kbGVyLCBmYWxzZSk7IC8vSUU5LCBDaHJvbWUsIFNhZmFyaSwgT3BlclxyXG5cdFx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTsgLy9GaXJlZm94XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuZGV0YWNoRXZlbnQoXCJvbm1vdXNld2hlZWxcIiwgTW91c2VXaGVlbEhhbmRsZXIpOyAvL0lFIDYvNy84XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEFkZHMgdGhlIGF1dG8gc2Nyb2xsaW5nIGFjdGlvbiBmb3IgdGhlIG1vdXNlIHdoZWVsIGFuZCB0cmFja3BhZC5cclxuXHRcdCogQWZ0ZXIgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSBtb3VzZXdoZWVsIGFuZCB0cmFja3BhZCBtb3ZlbWVudHMgd2lsbCBzY3JvbGwgdGhyb3VnaCBzZWN0aW9uc1xyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGFkZE1vdXNlV2hlZWxIYW5kbGVyKCl7XHJcblx0XHRcdGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XHJcblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIiwgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTsgLy9JRTksIENocm9tZSwgU2FmYXJpLCBPcGVyXHJcblx0XHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIE1vdXNlV2hlZWxIYW5kbGVyLCBmYWxzZSk7IC8vRmlyZWZveFxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25tb3VzZXdoZWVsXCIsIE1vdXNlV2hlZWxIYW5kbGVyKTsgLy9JRSA2LzcvOFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBBZGRzIHRoZSBwb3NzaWJpbGl0eSB0byBhdXRvIHNjcm9sbCB0aHJvdWdoIHNlY3Rpb25zIG9uIHRvdWNoIGRldmljZXMuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gYWRkVG91Y2hIYW5kbGVyKCl7XHJcblx0XHRcdGlmKGlzVG91Y2hEZXZpY2UgfHwgaXNUb3VjaCl7XHJcblx0XHRcdFx0Ly9NaWNyb3NvZnQgcG9pbnRlcnNcclxuXHRcdFx0XHR2YXIgTVNQb2ludGVyID0gZ2V0TVNQb2ludGVyKCk7XHJcblxyXG5cdFx0XHRcdCQoZG9jdW1lbnQpLm9mZigndG91Y2hzdGFydCAnICsgIE1TUG9pbnRlci5kb3duKS5vbigndG91Y2hzdGFydCAnICsgTVNQb2ludGVyLmRvd24sIHRvdWNoU3RhcnRIYW5kbGVyKTtcclxuXHRcdFx0XHQkKGRvY3VtZW50KS5vZmYoJ3RvdWNobW92ZSAnICsgTVNQb2ludGVyLm1vdmUpLm9uKCd0b3VjaG1vdmUgJyArIE1TUG9pbnRlci5tb3ZlLCB0b3VjaE1vdmVIYW5kbGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBSZW1vdmVzIHRoZSBhdXRvIHNjcm9sbGluZyBmb3IgdG91Y2ggZGV2aWNlcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVUb3VjaEhhbmRsZXIoKXtcclxuXHRcdFx0aWYoaXNUb3VjaERldmljZSB8fCBpc1RvdWNoKXtcclxuXHRcdFx0XHQvL01pY3Jvc29mdCBwb2ludGVyc1xyXG5cdFx0XHRcdHZhciBNU1BvaW50ZXIgPSBnZXRNU1BvaW50ZXIoKTtcclxuXHJcblx0XHRcdFx0JChkb2N1bWVudCkub2ZmKCd0b3VjaHN0YXJ0ICcgKyBNU1BvaW50ZXIuZG93bik7XHJcblx0XHRcdFx0JChkb2N1bWVudCkub2ZmKCd0b3VjaG1vdmUgJyArIE1TUG9pbnRlci5tb3ZlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQvKlxyXG5cdFx0KiBSZXR1cm5zIGFuZCBvYmplY3Qgd2l0aCBNaWNyb3NvZnQgcG9pbnRlcnMgKGZvciBJRTwxMSBhbmQgZm9yIElFID49IDExKVxyXG5cdFx0KiBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZG4zMDQ4ODYodj12cy44NSkuYXNweFxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldE1TUG9pbnRlcigpe1xyXG5cdFx0XHR2YXIgcG9pbnRlcjtcclxuXHJcblx0XHRcdC8vSUUgPj0gMTEgJiByZXN0IG9mIGJyb3dzZXJzXHJcblx0XHRcdGlmKHdpbmRvdy5Qb2ludGVyRXZlbnQpe1xyXG5cdFx0XHRcdHBvaW50ZXIgPSB7IGRvd246IFwicG9pbnRlcmRvd25cIiwgbW92ZTogXCJwb2ludGVybW92ZVwifTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9JRSA8IDExXHJcblx0XHRcdGVsc2V7XHJcblx0XHRcdFx0cG9pbnRlciA9IHsgZG93bjogXCJNU1BvaW50ZXJEb3duXCIsIG1vdmU6IFwiTVNQb2ludGVyTW92ZVwifTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHBvaW50ZXI7XHJcblx0XHR9XHJcblx0XHQvKipcclxuXHRcdCogR2V0cyB0aGUgcGFnZVggYW5kIHBhZ2VZIHByb3BlcnRpZXMgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLlxyXG5cdFx0KiBodHRwczovL2dpdGh1Yi5jb20vYWx2YXJvdHJpZ28vZnVsbFBhZ2UuanMvaXNzdWVzLzE5NCNpc3N1ZWNvbW1lbnQtMzQwNjk4NTRcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHNQYWdlKGUpe1xyXG5cdFx0XHR2YXIgZXZlbnRzID0gW107XHJcblxyXG5cdFx0XHRldmVudHMueSA9ICh0eXBlb2YgZS5wYWdlWSAhPT0gJ3VuZGVmaW5lZCcgJiYgKGUucGFnZVkgfHwgZS5wYWdlWCkgPyBlLnBhZ2VZIDogZS50b3VjaGVzWzBdLnBhZ2VZKTtcclxuXHRcdFx0ZXZlbnRzLnggPSAodHlwZW9mIGUucGFnZVggIT09ICd1bmRlZmluZWQnICYmIChlLnBhZ2VZIHx8IGUucGFnZVgpID8gZS5wYWdlWCA6IGUudG91Y2hlc1swXS5wYWdlWCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZXZlbnRzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNpbGVudExhbmRzY2FwZVNjcm9sbChhY3RpdmVTbGlkZSl7XHJcblx0XHRcdCQuZm4uZnVsbHBhZ2Uuc2V0U2Nyb2xsaW5nU3BlZWQgKDAsICdpbnRlcm5hbCcpO1xyXG5cdFx0XHRsYW5kc2NhcGVTY3JvbGwoYWN0aXZlU2xpZGUuY2xvc2VzdCgnLmZwLXNsaWRlcycpLCBhY3RpdmVTbGlkZSk7XHJcblx0XHRcdCQuZm4uZnVsbHBhZ2Uuc2V0U2Nyb2xsaW5nU3BlZWQob3JpZ2luYWxzLnNjcm9sbGluZ1NwZWVkLCAnaW50ZXJuYWwnKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaWxlbnRTY3JvbGwodG9wKXtcclxuXHRcdFx0aWYob3B0aW9ucy5zY3JvbGxCYXIpe1xyXG5cdFx0XHRcdGNvbnRhaW5lci5zY3JvbGxUb3AodG9wKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChvcHRpb25zLmNzczMpIHtcclxuXHRcdFx0XHR2YXIgdHJhbnNsYXRlM2QgPSAndHJhbnNsYXRlM2QoMHB4LCAtJyArIHRvcCArICdweCwgMHB4KSc7XHJcblx0XHRcdFx0dHJhbnNmb3JtQ29udGFpbmVyKHRyYW5zbGF0ZTNkLCBmYWxzZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Y29udGFpbmVyLmNzcyhcInRvcFwiLCAtdG9wKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFRyYW5zZm9ybXModHJhbnNsYXRlM2Qpe1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdCctd2Via2l0LXRyYW5zZm9ybSc6IHRyYW5zbGF0ZTNkLFxyXG5cdFx0XHRcdCctbW96LXRyYW5zZm9ybSc6IHRyYW5zbGF0ZTNkLFxyXG5cdFx0XHRcdCctbXMtdHJhbnNmb3JtJzp0cmFuc2xhdGUzZCxcclxuXHRcdFx0XHQndHJhbnNmb3JtJzogdHJhbnNsYXRlM2RcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzZXRJc1Njcm9sbGFibGUodmFsdWUsIGRpcmVjdGlvbil7XHJcblx0XHRcdHN3aXRjaCAoZGlyZWN0aW9uKXtcclxuXHRcdFx0XHRjYXNlICd1cCc6IGlzU2Nyb2xsQWxsb3dlZC51cCA9IHZhbHVlOyBicmVhaztcclxuXHRcdFx0XHRjYXNlICdkb3duJzogaXNTY3JvbGxBbGxvd2VkLmRvd24gPSB2YWx1ZTsgYnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnbGVmdCc6IGlzU2Nyb2xsQWxsb3dlZC5sZWZ0ID0gdmFsdWU7IGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ3JpZ2h0JzogaXNTY3JvbGxBbGxvd2VkLnJpZ2h0ID0gdmFsdWU7IGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2FsbCc6ICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcodmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdC8qXHJcblx0XHQqIERlc3Ryb3lzIGZ1bGxwYWdlLmpzIHBsdWdpbiBldmVudHMgYW5kIG9wdGluYWxseSBpdHMgaHRtbCBtYXJrdXAgYW5kIHN0eWxlc1xyXG5cdFx0Ki9cclxuXHRcdCQuZm4uZnVsbHBhZ2UuZGVzdHJveSA9IGZ1bmN0aW9uKGFsbCl7XHJcblx0XHRcdCQuZm4uZnVsbHBhZ2Uuc2V0QXV0b1Njcm9sbGluZyhmYWxzZSwgJ2ludGVybmFsJyk7XHJcbiBcdFx0XHQkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nKGZhbHNlKTtcclxuIFx0XHRcdCQuZm4uZnVsbHBhZ2Uuc2V0S2V5Ym9hcmRTY3JvbGxpbmcoZmFsc2UpO1xyXG5cclxuXHJcbiBcdFx0XHQkKHdpbmRvdylcclxuXHRcdFx0XHQub2ZmKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKVxyXG4gIFx0XHRcdFx0Lm9mZignaGFzaGNoYW5nZScsIGhhc2hDaGFuZ2VIYW5kbGVyKVxyXG4gIFx0XHRcdFx0Lm9mZigncmVzaXplJywgcmVzaXplSGFuZGxlcik7XHJcblxyXG5cdFx0XHQkKGRvY3VtZW50KVxyXG5cdFx0XHRcdC5vZmYoJ2NsaWNrJywgJyNmcC1uYXYgYScpXHJcblx0XHRcdFx0Lm9mZignbW91c2VlbnRlcicsICcjZnAtbmF2IGxpJylcclxuXHRcdFx0XHQub2ZmKCdtb3VzZWxlYXZlJywgJyNmcC1uYXYgbGknKVxyXG5cdFx0XHRcdC5vZmYoJ2NsaWNrJywgJy5mcC1zbGlkZXNOYXYgYScpXHJcbiAgXHRcdFx0XHQub2ZmKCdtb3VzZW92ZXInLCBvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzKVxyXG4gIFx0XHRcdFx0Lm9mZignbW91c2VvdXQnLCBvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzKTtcclxuXHJcblx0XHRcdCQoJy5mcC1zZWN0aW9uJylcclxuXHRcdFx0XHQub2ZmKCdjbGljaycsICcuZnAtY29udHJvbEFycm93Jyk7XHJcblxyXG5cdFx0XHQvL2xldHMgbWFrZSBhIG1lc3MhXHJcblx0XHRcdGlmKGFsbCl7XHJcblx0XHRcdFx0ZGVzdHJveVN0cnVjdHVyZSgpO1xyXG5cdFx0XHR9XHJcbiBcdFx0fTtcclxuXHJcbiBcdFx0LypcclxuXHRcdCogUmVtb3ZlcyBpbmxpbmUgc3R5bGVzIGFkZGVkIGJ5IGZ1bGxwYWdlLmpzXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZGVzdHJveVN0cnVjdHVyZSgpe1xyXG5cdFx0XHQvL3Jlc2V0aW5nIHRoZSBgdG9wYCBvciBgdHJhbnNsYXRlYCBwcm9wZXJ0aWVzIHRvIDBcclxuXHQgXHRcdHNpbGVudFNjcm9sbCgwKTtcclxuXHJcblx0XHRcdCQoJyNmcC1uYXYsIC5mcC1zbGlkZXNOYXYsIC5mcC1jb250cm9sQXJyb3cnKS5yZW1vdmUoKTtcclxuXHJcblx0XHRcdC8vcmVtb3ZpbmcgaW5saW5lIHN0eWxlc1xyXG5cdFx0XHQkKCcuZnAtc2VjdGlvbicpLmNzcygge1xyXG5cdFx0XHRcdCdoZWlnaHQnOiAnJyxcclxuXHRcdFx0XHQnYmFja2dyb3VuZC1jb2xvcicgOiAnJyxcclxuXHRcdFx0XHQncGFkZGluZyc6ICcnXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JCgnLmZwLXNsaWRlJykuY3NzKCB7XHJcblx0XHRcdFx0J3dpZHRoJzogJydcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb250YWluZXIuY3NzKHtcclxuXHQgXHRcdFx0J2hlaWdodCc6ICcnLFxyXG5cdCBcdFx0XHQncG9zaXRpb24nOiAnJyxcclxuXHQgXHRcdFx0Jy1tcy10b3VjaC1hY3Rpb24nOiAnJyxcclxuXHQgXHRcdFx0J3RvdWNoLWFjdGlvbic6ICcnXHJcblx0IFx0XHR9KTtcclxuXHJcblx0XHRcdC8vcmVtb3ZpbmcgYWRkZWQgY2xhc3Nlc1xyXG5cdFx0XHQkKCcuZnAtc2VjdGlvbiwgLmZwLXNsaWRlJykuZWFjaChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdHJlbW92ZVNsaW1TY3JvbGwoJCh0aGlzKSk7XHJcblx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnZnAtdGFibGUgYWN0aXZlJyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cmVtb3ZlQW5pbWF0aW9uKGNvbnRhaW5lcik7XHJcblx0XHRcdHJlbW92ZUFuaW1hdGlvbihjb250YWluZXIuZmluZCgnLmZwLWVhc2luZycpKTtcclxuXHJcblx0XHRcdC8vVW53cmFwcGluZyBjb250ZW50XHJcblx0XHRcdGNvbnRhaW5lci5maW5kKCcuZnAtdGFibGVDZWxsLCAuZnAtc2xpZGVzQ29udGFpbmVyLCAuZnAtc2xpZGVzJykuZWFjaChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdC8vdW53cmFwIG5vdCBiZWluZyB1c2UgaW4gY2FzZSB0aGVyZSdzIG5vIGNoaWxkIGVsZW1lbnQgaW5zaWRlIGFuZCBpdHMganVzdCB0ZXh0XHJcblx0XHRcdFx0JCh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vc2Nyb2xsaW5nIHRoZSBwYWdlIHRvIHRoZSB0b3Agd2l0aCBubyBhbmltYXRpb25cclxuXHRcdFx0JCgnaHRtbCwgYm9keScpLnNjcm9sbFRvcCgwKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKlxyXG5cdFx0KiBTZXRzIHRoZSBzdGF0ZSBmb3IgYSB2YXJpYWJsZSB3aXRoIG11bHRpcGxlIHN0YXRlcyAob3JpZ2luYWwsIGFuZCB0ZW1wb3JhbClcclxuXHRcdCogU29tZSB2YXJpYWJsZXMgc3VjaCBhcyBgYXV0b1Njcm9sbGluZ2Agb3IgYHJlY29yZEhpc3RvcnlgIG1pZ2h0IGNoYW5nZSBhdXRvbWF0aWNhbGx5IGl0cyBzdGF0ZSB3aGVuIHVzaW5nIGByZXNwb25zaXZlYCBvciBgYXV0b1Njcm9sbGluZzpmYWxzZWAuXHJcblx0XHQqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIGJvdGggc3RhdGVzLCB0aGUgb3JpZ2luYWwgYW5kIHRoZSB0ZW1wb3JhbCBvbmUuXHJcblx0XHQqIElmIHR5cGUgaXMgbm90ICdpbnRlcm5hbCcsIHRoZW4gd2UgYXNzdW1lIHRoZSB1c2VyIGlzIGdsb2JhbGx5IGNoYW5naW5nIHRoZSB2YXJpYWJsZS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBzZXRWYXJpYWJsZVN0YXRlKHZhcmlhYmxlLCB2YWx1ZSwgdHlwZSl7XHJcblx0XHRcdG9wdGlvbnNbdmFyaWFibGVdID0gdmFsdWU7XHJcblx0XHRcdGlmKHR5cGUgIT09ICdpbnRlcm5hbCcpe1xyXG5cdFx0XHRcdG9yaWdpbmFsc1t2YXJpYWJsZV0gPSB2YWx1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBEaXNwbGF5cyB3YXJuaW5nc1xyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGRpc3BsYXlXYXJuaW5ncygpe1xyXG5cdFx0XHQvLyBEaXNhYmxlIG11dHVhbGx5IGV4Y2x1c2l2ZSBzZXR0aW5nc1xyXG5cdFx0XHRpZiAob3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgJiZcclxuXHRcdFx0XHQob3B0aW9ucy5sb29wVG9wIHx8IG9wdGlvbnMubG9vcEJvdHRvbSkpIHtcclxuXHRcdFx0ICAgIG9wdGlvbnMuY29udGludW91c1ZlcnRpY2FsID0gZmFsc2U7XHJcblx0XHRcdCAgICBzaG93RXJyb3IoJ3dhcm4nLCBcIk9wdGlvbiBgbG9vcFRvcC9sb29wQm90dG9tYCBpcyBtdXR1YWxseSBleGNsdXNpdmUgd2l0aCBgY29udGludW91c1ZlcnRpY2FsYDsgYGNvbnRpbnVvdXNWZXJ0aWNhbGAgZGlzYWJsZWRcIik7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYob3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgJiYgb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG5cdFx0XHRcdG9wdGlvbnMuY29udGludW91c1ZlcnRpY2FsID0gZmFsc2U7XHJcblx0XHRcdFx0c2hvd0Vycm9yKCd3YXJuJywgXCJPcHRpb24gYHNjcm9sbEJhcmAgaXMgbXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggYGNvbnRpbnVvdXNWZXJ0aWNhbGA7IGBjb250aW51b3VzVmVydGljYWxgIGRpc2FibGVkXCIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL2FuY2hvcnMgY2FuIG5vdCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIGFueSBlbGVtZW50IElEIG9yIE5BTUVcclxuXHRcdFx0JC5lYWNoKG9wdGlvbnMuYW5jaG9ycywgZnVuY3Rpb24oaW5kZXgsIG5hbWUpe1xyXG5cdFx0XHRcdGlmKCQoJyMnICsgbmFtZSkubGVuZ3RoIHx8ICQoJ1tuYW1lPVwiJytuYW1lKydcIl0nKS5sZW5ndGggKXtcclxuXHRcdFx0XHRcdHNob3dFcnJvcignZXJyb3InLCBcImRhdGEtYW5jaG9yIHRhZ3MgY2FuIG5vdCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIGFueSBgaWRgIGVsZW1lbnQgb24gdGhlIHNpdGUgKG9yIGBuYW1lYCBlbGVtZW50IGZvciBJRSkuXCIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd0Vycm9yKHR5cGUsIHRleHQpe1xyXG5cdFx0XHRjb25zb2xlICYmIGNvbnNvbGVbdHlwZV0gJiYgY29uc29sZVt0eXBlXSgnZnVsbFBhZ2U6ICcgKyB0ZXh0KTtcclxuXHRcdH1cclxuXHR9O1xyXG59KShqUXVlcnkpO1xyXG4iLCJ0eXBlb2YgSlNPTiE9XCJvYmplY3RcIiYmKEpTT049e30pLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZihlKXtyZXR1cm4gZTwxMD9cIjBcIitlOmV9ZnVuY3Rpb24gcXVvdGUoZSl7cmV0dXJuIGVzY2FwYWJsZS5sYXN0SW5kZXg9MCxlc2NhcGFibGUudGVzdChlKT8nXCInK2UucmVwbGFjZShlc2NhcGFibGUsZnVuY3Rpb24oZSl7dmFyIHQ9bWV0YVtlXTtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCI/dDpcIlxcXFx1XCIrKFwiMDAwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKydcIic6J1wiJytlKydcIid9ZnVuY3Rpb24gc3RyKGUsdCl7dmFyIG4scixpLHMsbz1nYXAsdSxhPXRbZV07YSYmdHlwZW9mIGE9PVwib2JqZWN0XCImJnR5cGVvZiBhLnRvSlNPTj09XCJmdW5jdGlvblwiJiYoYT1hLnRvSlNPTihlKSksdHlwZW9mIHJlcD09XCJmdW5jdGlvblwiJiYoYT1yZXAuY2FsbCh0LGUsYSkpO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIHF1b3RlKGEpO2Nhc2VcIm51bWJlclwiOnJldHVybiBpc0Zpbml0ZShhKT9TdHJpbmcoYSk6XCJudWxsXCI7Y2FzZVwiYm9vbGVhblwiOmNhc2VcIm51bGxcIjpyZXR1cm4gU3RyaW5nKGEpO2Nhc2VcIm9iamVjdFwiOmlmKCFhKXJldHVyblwibnVsbFwiO2dhcCs9aW5kZW50LHU9W107aWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShhKT09PVwiW29iamVjdCBBcnJheV1cIil7cz1hLmxlbmd0aDtmb3Iobj0wO248cztuKz0xKXVbbl09c3RyKG4sYSl8fFwibnVsbFwiO3JldHVybiBpPXUubGVuZ3RoPT09MD9cIltdXCI6Z2FwP1wiW1xcblwiK2dhcCt1LmpvaW4oXCIsXFxuXCIrZ2FwKStcIlxcblwiK28rXCJdXCI6XCJbXCIrdS5qb2luKFwiLFwiKStcIl1cIixnYXA9byxpfWlmKHJlcCYmdHlwZW9mIHJlcD09XCJvYmplY3RcIil7cz1yZXAubGVuZ3RoO2ZvcihuPTA7bjxzO24rPTEpdHlwZW9mIHJlcFtuXT09XCJzdHJpbmdcIiYmKHI9cmVwW25dLGk9c3RyKHIsYSksaSYmdS5wdXNoKHF1b3RlKHIpKyhnYXA/XCI6IFwiOlwiOlwiKStpKSl9ZWxzZSBmb3IociBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLHIpJiYoaT1zdHIocixhKSxpJiZ1LnB1c2gocXVvdGUocikrKGdhcD9cIjogXCI6XCI6XCIpK2kpKTtyZXR1cm4gaT11Lmxlbmd0aD09PTA/XCJ7fVwiOmdhcD9cIntcXG5cIitnYXArdS5qb2luKFwiLFxcblwiK2dhcCkrXCJcXG5cIitvK1wifVwiOlwie1wiK3Uuam9pbihcIixcIikrXCJ9XCIsZ2FwPW8saX19dHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiE9XCJmdW5jdGlvblwiJiYoRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKGUpe3JldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSk/dGhpcy5nZXRVVENGdWxsWWVhcigpK1wiLVwiK2YodGhpcy5nZXRVVENNb250aCgpKzEpK1wiLVwiK2YodGhpcy5nZXRVVENEYXRlKCkpK1wiVFwiK2YodGhpcy5nZXRVVENIb3VycygpKStcIjpcIitmKHRoaXMuZ2V0VVRDTWludXRlcygpKStcIjpcIitmKHRoaXMuZ2V0VVRDU2Vjb25kcygpKStcIlpcIjpudWxsfSxTdHJpbmcucHJvdG90eXBlLnRvSlNPTj1OdW1iZXIucHJvdG90eXBlLnRvSlNPTj1Cb29sZWFuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmFsdWVPZigpfSk7dmFyIGN4PS9bXFx1MDAwMFxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nLGVzY2FwYWJsZT0vW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHg5ZlxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nLGdhcCxpbmRlbnQsbWV0YT17XCJcXGJcIjpcIlxcXFxiXCIsXCJcdFwiOlwiXFxcXHRcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcclwiOlwiXFxcXHJcIiwnXCInOidcXFxcXCInLFwiXFxcXFwiOlwiXFxcXFxcXFxcIn0scmVwO3R5cGVvZiBKU09OLnN0cmluZ2lmeSE9XCJmdW5jdGlvblwiJiYoSlNPTi5zdHJpbmdpZnk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2dhcD1cIlwiLGluZGVudD1cIlwiO2lmKHR5cGVvZiBuPT1cIm51bWJlclwiKWZvcihyPTA7cjxuO3IrPTEpaW5kZW50Kz1cIiBcIjtlbHNlIHR5cGVvZiBuPT1cInN0cmluZ1wiJiYoaW5kZW50PW4pO3JlcD10O2lmKCF0fHx0eXBlb2YgdD09XCJmdW5jdGlvblwifHx0eXBlb2YgdD09XCJvYmplY3RcIiYmdHlwZW9mIHQubGVuZ3RoPT1cIm51bWJlclwiKXJldHVybiBzdHIoXCJcIix7XCJcIjplfSk7dGhyb3cgbmV3IEVycm9yKFwiSlNPTi5zdHJpbmdpZnlcIil9KSx0eXBlb2YgSlNPTi5wYXJzZSE9XCJmdW5jdGlvblwiJiYoSlNPTi5wYXJzZT1mdW5jdGlvbih0ZXh0LHJldml2ZXIpe2Z1bmN0aW9uIHdhbGsoZSx0KXt2YXIgbixyLGk9ZVt0XTtpZihpJiZ0eXBlb2YgaT09XCJvYmplY3RcIilmb3IobiBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG4pJiYocj13YWxrKGksbiksciE9PXVuZGVmaW5lZD9pW25dPXI6ZGVsZXRlIGlbbl0pO3JldHVybiByZXZpdmVyLmNhbGwoZSx0LGkpfXZhciBqO3RleHQ9U3RyaW5nKHRleHQpLGN4Lmxhc3RJbmRleD0wLGN4LnRlc3QodGV4dCkmJih0ZXh0PXRleHQucmVwbGFjZShjeCxmdW5jdGlvbihlKXtyZXR1cm5cIlxcXFx1XCIrKFwiMDAwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKTtpZigvXltcXF0sOnt9XFxzXSokLy50ZXN0KHRleHQucmVwbGFjZSgvXFxcXCg/OltcIlxcXFxcXC9iZm5ydF18dVswLTlhLWZBLUZdezR9KS9nLFwiQFwiKS5yZXBsYWNlKC9cIlteXCJcXFxcXFxuXFxyXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZyxcIl1cIikucmVwbGFjZSgvKD86Xnw6fCwpKD86XFxzKlxcWykrL2csXCJcIikpKXJldHVybiBqPWV2YWwoXCIoXCIrdGV4dCtcIilcIiksdHlwZW9mIHJldml2ZXI9PVwiZnVuY3Rpb25cIj93YWxrKHtcIlwiOmp9LFwiXCIpOmo7dGhyb3cgbmV3IFN5bnRheEVycm9yKFwiSlNPTi5wYXJzZVwiKX0pfSgpLGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZS5IaXN0b3J5PWUuSGlzdG9yeXx8e30scj1lLmpRdWVyeTtpZih0eXBlb2Ygbi5BZGFwdGVyIT1cInVuZGVmaW5lZFwiKXRocm93IG5ldyBFcnJvcihcIkhpc3RvcnkuanMgQWRhcHRlciBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC4uLlwiKTtuLkFkYXB0ZXI9e2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3IoZSkuYmluZCh0LG4pfSx0cmlnZ2VyOmZ1bmN0aW9uKGUsdCxuKXtyKGUpLnRyaWdnZXIodCxuKX0sZXh0cmFjdEV2ZW50RGF0YTpmdW5jdGlvbihlLG4scil7dmFyIGk9biYmbi5vcmlnaW5hbEV2ZW50JiZuLm9yaWdpbmFsRXZlbnRbZV18fHImJnJbZV18fHQ7cmV0dXJuIGl9LG9uRG9tTG9hZDpmdW5jdGlvbihlKXtyKGUpfX0sdHlwZW9mIG4uaW5pdCE9XCJ1bmRlZmluZWRcIiYmbi5pbml0KCl9KHdpbmRvdyksZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lLmRvY3VtZW50LHI9ZS5zZXRUaW1lb3V0fHxyLGk9ZS5jbGVhclRpbWVvdXR8fGkscz1lLnNldEludGVydmFsfHxzLG89ZS5IaXN0b3J5PWUuSGlzdG9yeXx8e307aWYodHlwZW9mIG8uaW5pdEh0bWw0IT1cInVuZGVmaW5lZFwiKXRocm93IG5ldyBFcnJvcihcIkhpc3RvcnkuanMgSFRNTDQgU3VwcG9ydCBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC4uLlwiKTtvLmluaXRIdG1sND1mdW5jdGlvbigpe2lmKHR5cGVvZiBvLmluaXRIdG1sNC5pbml0aWFsaXplZCE9XCJ1bmRlZmluZWRcIilyZXR1cm4hMTtvLmluaXRIdG1sNC5pbml0aWFsaXplZD0hMCxvLmVuYWJsZWQ9ITAsby5zYXZlZEhhc2hlcz1bXSxvLmlzTGFzdEhhc2g9ZnVuY3Rpb24oZSl7dmFyIHQ9by5nZXRIYXNoQnlJbmRleCgpLG47cmV0dXJuIG49ZT09PXQsbn0sby5pc0hhc2hFcXVhbD1mdW5jdGlvbihlLHQpe3JldHVybiBlPWVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lMjUvZyxcIiVcIiksdD1lbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvJTI1L2csXCIlXCIpLGU9PT10fSxvLnNhdmVIYXNoPWZ1bmN0aW9uKGUpe3JldHVybiBvLmlzTGFzdEhhc2goZSk/ITE6KG8uc2F2ZWRIYXNoZXMucHVzaChlKSwhMCl9LG8uZ2V0SGFzaEJ5SW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyZXR1cm4gdHlwZW9mIGU9PVwidW5kZWZpbmVkXCI/dD1vLnNhdmVkSGFzaGVzW28uc2F2ZWRIYXNoZXMubGVuZ3RoLTFdOmU8MD90PW8uc2F2ZWRIYXNoZXNbby5zYXZlZEhhc2hlcy5sZW5ndGgrZV06dD1vLnNhdmVkSGFzaGVzW2VdLHR9LG8uZGlzY2FyZGVkSGFzaGVzPXt9LG8uZGlzY2FyZGVkU3RhdGVzPXt9LG8uZGlzY2FyZFN0YXRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1vLmdldEhhc2hCeVN0YXRlKGUpLGk7cmV0dXJuIGk9e2Rpc2NhcmRlZFN0YXRlOmUsYmFja1N0YXRlOm4sZm9yd2FyZFN0YXRlOnR9LG8uZGlzY2FyZGVkU3RhdGVzW3JdPWksITB9LG8uZGlzY2FyZEhhc2g9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXtkaXNjYXJkZWRIYXNoOmUsYmFja1N0YXRlOm4sZm9yd2FyZFN0YXRlOnR9O3JldHVybiBvLmRpc2NhcmRlZEhhc2hlc1tlXT1yLCEwfSxvLmRpc2NhcmRlZFN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PW8uZ2V0SGFzaEJ5U3RhdGUoZSksbjtyZXR1cm4gbj1vLmRpc2NhcmRlZFN0YXRlc1t0XXx8ITEsbn0sby5kaXNjYXJkZWRIYXNoPWZ1bmN0aW9uKGUpe3ZhciB0PW8uZGlzY2FyZGVkSGFzaGVzW2VdfHwhMTtyZXR1cm4gdH0sby5yZWN5Y2xlU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9by5nZXRIYXNoQnlTdGF0ZShlKTtyZXR1cm4gby5kaXNjYXJkZWRTdGF0ZShlKSYmZGVsZXRlIG8uZGlzY2FyZGVkU3RhdGVzW3RdLCEwfSxvLmVtdWxhdGVkLmhhc2hDaGFuZ2UmJihvLmhhc2hDaGFuZ2VJbml0PWZ1bmN0aW9uKCl7by5jaGVja2VyRnVuY3Rpb249bnVsbDt2YXIgdD1cIlwiLHIsaSx1LGEsZj1Cb29sZWFuKG8uZ2V0SGFzaCgpKTtyZXR1cm4gby5pc0ludGVybmV0RXhwbG9yZXIoKT8ocj1cImhpc3Rvcnlqcy1pZnJhbWVcIixpPW4uY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxpLnNldEF0dHJpYnV0ZShcImlkXCIsciksaS5zZXRBdHRyaWJ1dGUoXCJzcmNcIixcIiNcIiksaS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG4uYm9keS5hcHBlbmRDaGlsZChpKSxpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLGkuY29udGVudFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpLHU9XCJcIixhPSExLG8uY2hlY2tlckZ1bmN0aW9uPWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTthPSEwO3ZhciBuPW8uZ2V0SGFzaCgpLHI9by5nZXRIYXNoKGkuY29udGVudFdpbmRvdy5kb2N1bWVudCk7cmV0dXJuIG4hPT10Pyh0PW4sciE9PW4mJih1PXI9bixpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLGkuY29udGVudFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpLGkuY29udGVudFdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5oYXNoPW8uZXNjYXBlSGFzaChuKSksby5BZGFwdGVyLnRyaWdnZXIoZSxcImhhc2hjaGFuZ2VcIikpOnIhPT11JiYodT1yLGYmJnI9PT1cIlwiP28uYmFjaygpOm8uc2V0SGFzaChyLCExKSksYT0hMSwhMH0pOm8uY2hlY2tlckZ1bmN0aW9uPWZ1bmN0aW9uKCl7dmFyIG49by5nZXRIYXNoKCl8fFwiXCI7cmV0dXJuIG4hPT10JiYodD1uLG8uQWRhcHRlci50cmlnZ2VyKGUsXCJoYXNoY2hhbmdlXCIpKSwhMH0sby5pbnRlcnZhbExpc3QucHVzaChzKG8uY2hlY2tlckZ1bmN0aW9uLG8ub3B0aW9ucy5oYXNoQ2hhbmdlSW50ZXJ2YWwpKSwhMH0sby5BZGFwdGVyLm9uRG9tTG9hZChvLmhhc2hDaGFuZ2VJbml0KSksby5lbXVsYXRlZC5wdXNoU3RhdGUmJihvLm9uSGFzaENoYW5nZT1mdW5jdGlvbih0KXt2YXIgbj10JiZ0Lm5ld1VSTHx8by5nZXRMb2NhdGlvbkhyZWYoKSxyPW8uZ2V0SGFzaEJ5VXJsKG4pLGk9bnVsbCxzPW51bGwsdT1udWxsLGE7cmV0dXJuIG8uaXNMYXN0SGFzaChyKT8oby5idXN5KCExKSwhMSk6KG8uZG91YmxlQ2hlY2tDb21wbGV0ZSgpLG8uc2F2ZUhhc2gociksciYmby5pc1RyYWRpdGlvbmFsQW5jaG9yKHIpPyhvLkFkYXB0ZXIudHJpZ2dlcihlLFwiYW5jaG9yY2hhbmdlXCIpLG8uYnVzeSghMSksITEpOihpPW8uZXh0cmFjdFN0YXRlKG8uZ2V0RnVsbFVybChyfHxvLmdldExvY2F0aW9uSHJlZigpKSwhMCksby5pc0xhc3RTYXZlZFN0YXRlKGkpPyhvLmJ1c3koITEpLCExKToocz1vLmdldEhhc2hCeVN0YXRlKGkpLGE9by5kaXNjYXJkZWRTdGF0ZShpKSxhPyhvLmdldEhhc2hCeUluZGV4KC0yKT09PW8uZ2V0SGFzaEJ5U3RhdGUoYS5mb3J3YXJkU3RhdGUpP28uYmFjayghMSk6by5mb3J3YXJkKCExKSwhMSk6KG8ucHVzaFN0YXRlKGkuZGF0YSxpLnRpdGxlLGVuY29kZVVSSShpLnVybCksITEpLCEwKSkpKX0sby5BZGFwdGVyLmJpbmQoZSxcImhhc2hjaGFuZ2VcIixvLm9uSGFzaENoYW5nZSksby5wdXNoU3RhdGU9ZnVuY3Rpb24odCxuLHIsaSl7cj1lbmNvZGVVUkkocikucmVwbGFjZSgvJTI1L2csXCIlXCIpO2lmKG8uZ2V0SGFzaEJ5VXJsKHIpKXRocm93IG5ldyBFcnJvcihcIkhpc3RvcnkuanMgZG9lcyBub3Qgc3VwcG9ydCBzdGF0ZXMgd2l0aCBmcmFnbWVudC1pZGVudGlmaWVycyAoaGFzaGVzL2FuY2hvcnMpLlwiKTtpZihpIT09ITEmJm8uYnVzeSgpKXJldHVybiBvLnB1c2hRdWV1ZSh7c2NvcGU6byxjYWxsYmFjazpvLnB1c2hTdGF0ZSxhcmdzOmFyZ3VtZW50cyxxdWV1ZTppfSksITE7by5idXN5KCEwKTt2YXIgcz1vLmNyZWF0ZVN0YXRlT2JqZWN0KHQsbixyKSx1PW8uZ2V0SGFzaEJ5U3RhdGUocyksYT1vLmdldFN0YXRlKCExKSxmPW8uZ2V0SGFzaEJ5U3RhdGUoYSksbD1vLmdldEhhc2goKSxjPW8uZXhwZWN0ZWRTdGF0ZUlkPT1zLmlkO3JldHVybiBvLnN0b3JlU3RhdGUocyksby5leHBlY3RlZFN0YXRlSWQ9cy5pZCxvLnJlY3ljbGVTdGF0ZShzKSxvLnNldFRpdGxlKHMpLHU9PT1mPyhvLmJ1c3koITEpLCExKTooby5zYXZlU3RhdGUocyksY3x8by5BZGFwdGVyLnRyaWdnZXIoZSxcInN0YXRlY2hhbmdlXCIpLCFvLmlzSGFzaEVxdWFsKHUsbCkmJiFvLmlzSGFzaEVxdWFsKHUsby5nZXRTaG9ydFVybChvLmdldExvY2F0aW9uSHJlZigpKSkmJm8uc2V0SGFzaCh1LCExKSxvLmJ1c3koITEpLCEwKX0sby5yZXBsYWNlU3RhdGU9ZnVuY3Rpb24odCxuLHIsaSl7cj1lbmNvZGVVUkkocikucmVwbGFjZSgvJTI1L2csXCIlXCIpO2lmKG8uZ2V0SGFzaEJ5VXJsKHIpKXRocm93IG5ldyBFcnJvcihcIkhpc3RvcnkuanMgZG9lcyBub3Qgc3VwcG9ydCBzdGF0ZXMgd2l0aCBmcmFnbWVudC1pZGVudGlmaWVycyAoaGFzaGVzL2FuY2hvcnMpLlwiKTtpZihpIT09ITEmJm8uYnVzeSgpKXJldHVybiBvLnB1c2hRdWV1ZSh7c2NvcGU6byxjYWxsYmFjazpvLnJlcGxhY2VTdGF0ZSxhcmdzOmFyZ3VtZW50cyxxdWV1ZTppfSksITE7by5idXN5KCEwKTt2YXIgcz1vLmNyZWF0ZVN0YXRlT2JqZWN0KHQsbixyKSx1PW8uZ2V0SGFzaEJ5U3RhdGUocyksYT1vLmdldFN0YXRlKCExKSxmPW8uZ2V0SGFzaEJ5U3RhdGUoYSksbD1vLmdldFN0YXRlQnlJbmRleCgtMik7cmV0dXJuIG8uZGlzY2FyZFN0YXRlKGEscyxsKSx1PT09Zj8oby5zdG9yZVN0YXRlKHMpLG8uZXhwZWN0ZWRTdGF0ZUlkPXMuaWQsby5yZWN5Y2xlU3RhdGUocyksby5zZXRUaXRsZShzKSxvLnNhdmVTdGF0ZShzKSxvLkFkYXB0ZXIudHJpZ2dlcihlLFwic3RhdGVjaGFuZ2VcIiksby5idXN5KCExKSk6by5wdXNoU3RhdGUocy5kYXRhLHMudGl0bGUscy51cmwsITEpLCEwfSksby5lbXVsYXRlZC5wdXNoU3RhdGUmJm8uZ2V0SGFzaCgpJiYhby5lbXVsYXRlZC5oYXNoQ2hhbmdlJiZvLkFkYXB0ZXIub25Eb21Mb2FkKGZ1bmN0aW9uKCl7by5BZGFwdGVyLnRyaWdnZXIoZSxcImhhc2hjaGFuZ2VcIil9KX0sdHlwZW9mIG8uaW5pdCE9XCJ1bmRlZmluZWRcIiYmby5pbml0KCl9KHdpbmRvdyksZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lLmNvbnNvbGV8fHQscj1lLmRvY3VtZW50LGk9ZS5uYXZpZ2F0b3Iscz0hMSxvPWUuc2V0VGltZW91dCx1PWUuY2xlYXJUaW1lb3V0LGE9ZS5zZXRJbnRlcnZhbCxmPWUuY2xlYXJJbnRlcnZhbCxsPWUuSlNPTixjPWUuYWxlcnQsaD1lLkhpc3Rvcnk9ZS5IaXN0b3J5fHx7fSxwPWUuaGlzdG9yeTt0cnl7cz1lLnNlc3Npb25TdG9yYWdlLHMuc2V0SXRlbShcIlRFU1RcIixcIjFcIikscy5yZW1vdmVJdGVtKFwiVEVTVFwiKX1jYXRjaChkKXtzPSExfWwuc3RyaW5naWZ5PWwuc3RyaW5naWZ5fHxsLmVuY29kZSxsLnBhcnNlPWwucGFyc2V8fGwuZGVjb2RlO2lmKHR5cGVvZiBoLmluaXQhPVwidW5kZWZpbmVkXCIpdGhyb3cgbmV3IEVycm9yKFwiSGlzdG9yeS5qcyBDb3JlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLi4uXCIpO2guaW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGguQWRhcHRlcj09XCJ1bmRlZmluZWRcIj8hMToodHlwZW9mIGguaW5pdENvcmUhPVwidW5kZWZpbmVkXCImJmguaW5pdENvcmUoKSx0eXBlb2YgaC5pbml0SHRtbDQhPVwidW5kZWZpbmVkXCImJmguaW5pdEh0bWw0KCksITApfSxoLmluaXRDb3JlPWZ1bmN0aW9uKGQpe2lmKHR5cGVvZiBoLmluaXRDb3JlLmluaXRpYWxpemVkIT1cInVuZGVmaW5lZFwiKXJldHVybiExO2guaW5pdENvcmUuaW5pdGlhbGl6ZWQ9ITAsaC5vcHRpb25zPWgub3B0aW9uc3x8e30saC5vcHRpb25zLmhhc2hDaGFuZ2VJbnRlcnZhbD1oLm9wdGlvbnMuaGFzaENoYW5nZUludGVydmFsfHwxMDAsaC5vcHRpb25zLnNhZmFyaVBvbGxJbnRlcnZhbD1oLm9wdGlvbnMuc2FmYXJpUG9sbEludGVydmFsfHw1MDAsaC5vcHRpb25zLmRvdWJsZUNoZWNrSW50ZXJ2YWw9aC5vcHRpb25zLmRvdWJsZUNoZWNrSW50ZXJ2YWx8fDUwMCxoLm9wdGlvbnMuZGlzYWJsZVN1aWQ9aC5vcHRpb25zLmRpc2FibGVTdWlkfHwhMSxoLm9wdGlvbnMuc3RvcmVJbnRlcnZhbD1oLm9wdGlvbnMuc3RvcmVJbnRlcnZhbHx8MWUzLGgub3B0aW9ucy5idXN5RGVsYXk9aC5vcHRpb25zLmJ1c3lEZWxheXx8MjUwLGgub3B0aW9ucy5kZWJ1Zz1oLm9wdGlvbnMuZGVidWd8fCExLGgub3B0aW9ucy5pbml0aWFsVGl0bGU9aC5vcHRpb25zLmluaXRpYWxUaXRsZXx8ci50aXRsZSxoLm9wdGlvbnMuaHRtbDRNb2RlPWgub3B0aW9ucy5odG1sNE1vZGV8fCExLGgub3B0aW9ucy5kZWxheUluaXQ9aC5vcHRpb25zLmRlbGF5SW5pdHx8ITEsaC5pbnRlcnZhbExpc3Q9W10saC5jbGVhckFsbEludGVydmFscz1mdW5jdGlvbigpe3ZhciBlLHQ9aC5pbnRlcnZhbExpc3Q7aWYodHlwZW9mIHQhPVwidW5kZWZpbmVkXCImJnQhPT1udWxsKXtmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKWYodFtlXSk7aC5pbnRlcnZhbExpc3Q9bnVsbH19LGguZGVidWc9ZnVuY3Rpb24oKXsoaC5vcHRpb25zLmRlYnVnfHwhMSkmJmgubG9nLmFwcGx5KGgsYXJndW1lbnRzKX0saC5sb2c9ZnVuY3Rpb24oKXt2YXIgZT10eXBlb2YgbiE9XCJ1bmRlZmluZWRcIiYmdHlwZW9mIG4ubG9nIT1cInVuZGVmaW5lZFwiJiZ0eXBlb2Ygbi5sb2cuYXBwbHkhPVwidW5kZWZpbmVkXCIsdD1yLmdldEVsZW1lbnRCeUlkKFwibG9nXCIpLGkscyxvLHUsYTtlPyh1PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksaT11LnNoaWZ0KCksdHlwZW9mIG4uZGVidWchPVwidW5kZWZpbmVkXCI/bi5kZWJ1Zy5hcHBseShuLFtpLHVdKTpuLmxvZy5hcHBseShuLFtpLHVdKSk6aT1cIlxcblwiK2FyZ3VtZW50c1swXStcIlxcblwiO2ZvcihzPTEsbz1hcmd1bWVudHMubGVuZ3RoO3M8bzsrK3Mpe2E9YXJndW1lbnRzW3NdO2lmKHR5cGVvZiBhPT1cIm9iamVjdFwiJiZ0eXBlb2YgbCE9XCJ1bmRlZmluZWRcIil0cnl7YT1sLnN0cmluZ2lmeShhKX1jYXRjaChmKXt9aSs9XCJcXG5cIithK1wiXFxuXCJ9cmV0dXJuIHQ/KHQudmFsdWUrPWkrXCJcXG4tLS0tLVxcblwiLHQuc2Nyb2xsVG9wPXQuc2Nyb2xsSGVpZ2h0LXQuY2xpZW50SGVpZ2h0KTplfHxjKGkpLCEwfSxoLmdldEludGVybmV0RXhwbG9yZXJNYWpvclZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT1oLmdldEludGVybmV0RXhwbG9yZXJNYWpvclZlcnNpb24uY2FjaGVkPXR5cGVvZiBoLmdldEludGVybmV0RXhwbG9yZXJNYWpvclZlcnNpb24uY2FjaGVkIT1cInVuZGVmaW5lZFwiP2guZ2V0SW50ZXJuZXRFeHBsb3Jlck1ham9yVmVyc2lvbi5jYWNoZWQ6ZnVuY3Rpb24oKXt2YXIgZT0zLHQ9ci5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG49dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlcIik7d2hpbGUoKHQuaW5uZXJIVE1MPVwiPCEtLVtpZiBndCBJRSBcIisgKytlK1wiXT48aT48L2k+PCFbZW5kaWZdLS0+XCIpJiZuWzBdKTtyZXR1cm4gZT40P2U6ITF9KCk7cmV0dXJuIGV9LGguaXNJbnRlcm5ldEV4cGxvcmVyPWZ1bmN0aW9uKCl7dmFyIGU9aC5pc0ludGVybmV0RXhwbG9yZXIuY2FjaGVkPXR5cGVvZiBoLmlzSW50ZXJuZXRFeHBsb3Jlci5jYWNoZWQhPVwidW5kZWZpbmVkXCI/aC5pc0ludGVybmV0RXhwbG9yZXIuY2FjaGVkOkJvb2xlYW4oaC5nZXRJbnRlcm5ldEV4cGxvcmVyTWFqb3JWZXJzaW9uKCkpO3JldHVybiBlfSxoLm9wdGlvbnMuaHRtbDRNb2RlP2guZW11bGF0ZWQ9e3B1c2hTdGF0ZTohMCxoYXNoQ2hhbmdlOiEwfTpoLmVtdWxhdGVkPXtwdXNoU3RhdGU6IUJvb2xlYW4oZS5oaXN0b3J5JiZlLmhpc3RvcnkucHVzaFN0YXRlJiZlLmhpc3RvcnkucmVwbGFjZVN0YXRlJiYhLyBNb2JpbGVcXC8oWzEtN11bYS16XXwoOChbYWJjZGVdfGYoMVswLThdKSkpKS9pLnRlc3QoaS51c2VyQWdlbnQpJiYhL0FwcGxlV2ViS2l0XFwvNShbMC0yXXwzWzAtMl0pL2kudGVzdChpLnVzZXJBZ2VudCkpLGhhc2hDaGFuZ2U6Qm9vbGVhbighKFwib25oYXNoY2hhbmdlXCJpbiBlfHxcIm9uaGFzaGNoYW5nZVwiaW4gcil8fGguaXNJbnRlcm5ldEV4cGxvcmVyKCkmJmguZ2V0SW50ZXJuZXRFeHBsb3Jlck1ham9yVmVyc2lvbigpPDgpfSxoLmVuYWJsZWQ9IWguZW11bGF0ZWQucHVzaFN0YXRlLGguYnVncz17c2V0SGFzaDpCb29sZWFuKCFoLmVtdWxhdGVkLnB1c2hTdGF0ZSYmaS52ZW5kb3I9PT1cIkFwcGxlIENvbXB1dGVyLCBJbmMuXCImJi9BcHBsZVdlYktpdFxcLzUoWzAtMl18M1swLTNdKS8udGVzdChpLnVzZXJBZ2VudCkpLHNhZmFyaVBvbGw6Qm9vbGVhbighaC5lbXVsYXRlZC5wdXNoU3RhdGUmJmkudmVuZG9yPT09XCJBcHBsZSBDb21wdXRlciwgSW5jLlwiJiYvQXBwbGVXZWJLaXRcXC81KFswLTJdfDNbMC0zXSkvLnRlc3QoaS51c2VyQWdlbnQpKSxpZURvdWJsZUNoZWNrOkJvb2xlYW4oaC5pc0ludGVybmV0RXhwbG9yZXIoKSYmaC5nZXRJbnRlcm5ldEV4cGxvcmVyTWFqb3JWZXJzaW9uKCk8OCksaGFzaEVzY2FwZTpCb29sZWFuKGguaXNJbnRlcm5ldEV4cGxvcmVyKCkmJmguZ2V0SW50ZXJuZXRFeHBsb3Jlck1ham9yVmVyc2lvbigpPDcpfSxoLmlzRW1wdHlPYmplY3Q9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4hMTtyZXR1cm4hMH0saC5jbG9uZU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiBlPyh0PWwuc3RyaW5naWZ5KGUpLG49bC5wYXJzZSh0KSk6bj17fSxufSxoLmdldFJvb3RVcmw9ZnVuY3Rpb24oKXt2YXIgZT1yLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIisoci5sb2NhdGlvbi5ob3N0bmFtZXx8ci5sb2NhdGlvbi5ob3N0KTtpZihyLmxvY2F0aW9uLnBvcnR8fCExKWUrPVwiOlwiK3IubG9jYXRpb24ucG9ydDtyZXR1cm4gZSs9XCIvXCIsZX0saC5nZXRCYXNlSHJlZj1mdW5jdGlvbigpe3ZhciBlPXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJiYXNlXCIpLHQ9bnVsbCxuPVwiXCI7cmV0dXJuIGUubGVuZ3RoPT09MSYmKHQ9ZVswXSxuPXQuaHJlZi5yZXBsYWNlKC9bXlxcL10rJC8sXCJcIikpLG49bi5yZXBsYWNlKC9cXC8rJC8sXCJcIiksbiYmKG4rPVwiL1wiKSxufSxoLmdldEJhc2VVcmw9ZnVuY3Rpb24oKXt2YXIgZT1oLmdldEJhc2VIcmVmKCl8fGguZ2V0QmFzZVBhZ2VVcmwoKXx8aC5nZXRSb290VXJsKCk7cmV0dXJuIGV9LGguZ2V0UGFnZVVybD1mdW5jdGlvbigpe3ZhciBlPWguZ2V0U3RhdGUoITEsITEpLHQ9KGV8fHt9KS51cmx8fGguZ2V0TG9jYXRpb25IcmVmKCksbjtyZXR1cm4gbj10LnJlcGxhY2UoL1xcLyskLyxcIlwiKS5yZXBsYWNlKC9bXlxcL10rJC8sZnVuY3Rpb24oZSx0LG4pe3JldHVybi9cXC4vLnRlc3QoZSk/ZTplK1wiL1wifSksbn0saC5nZXRCYXNlUGFnZVVybD1mdW5jdGlvbigpe3ZhciBlPWguZ2V0TG9jYXRpb25IcmVmKCkucmVwbGFjZSgvWyNcXD9dLiovLFwiXCIpLnJlcGxhY2UoL1teXFwvXSskLyxmdW5jdGlvbihlLHQsbil7cmV0dXJuL1teXFwvXSQvLnRlc3QoZSk/XCJcIjplfSkucmVwbGFjZSgvXFwvKyQvLFwiXCIpK1wiL1wiO3JldHVybiBlfSxoLmdldEZ1bGxVcmw9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLHI9ZS5zdWJzdHJpbmcoMCwxKTtyZXR1cm4gdD10eXBlb2YgdD09XCJ1bmRlZmluZWRcIj8hMDp0LC9bYS16XStcXDpcXC9cXC8vLnRlc3QoZSl8fChyPT09XCIvXCI/bj1oLmdldFJvb3RVcmwoKStlLnJlcGxhY2UoL15cXC8rLyxcIlwiKTpyPT09XCIjXCI/bj1oLmdldFBhZ2VVcmwoKS5yZXBsYWNlKC8jLiovLFwiXCIpK2U6cj09PVwiP1wiP249aC5nZXRQYWdlVXJsKCkucmVwbGFjZSgvW1xcPyNdLiovLFwiXCIpK2U6dD9uPWguZ2V0QmFzZVVybCgpK2UucmVwbGFjZSgvXihcXC5cXC8pKy8sXCJcIik6bj1oLmdldEJhc2VQYWdlVXJsKCkrZS5yZXBsYWNlKC9eKFxcLlxcLykrLyxcIlwiKSksbi5yZXBsYWNlKC9cXCMkLyxcIlwiKX0saC5nZXRTaG9ydFVybD1mdW5jdGlvbihlKXt2YXIgdD1lLG49aC5nZXRCYXNlVXJsKCkscj1oLmdldFJvb3RVcmwoKTtyZXR1cm4gaC5lbXVsYXRlZC5wdXNoU3RhdGUmJih0PXQucmVwbGFjZShuLFwiXCIpKSx0PXQucmVwbGFjZShyLFwiL1wiKSxoLmlzVHJhZGl0aW9uYWxBbmNob3IodCkmJih0PVwiLi9cIit0KSx0PXQucmVwbGFjZSgvXihcXC5cXC8pKy9nLFwiLi9cIikucmVwbGFjZSgvXFwjJC8sXCJcIiksdH0saC5nZXRMb2NhdGlvbkhyZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8cixlLlVSTD09PWUubG9jYXRpb24uaHJlZj9lLmxvY2F0aW9uLmhyZWY6ZS5sb2NhdGlvbi5ocmVmPT09ZGVjb2RlVVJJQ29tcG9uZW50KGUuVVJMKT9lLlVSTDplLmxvY2F0aW9uLmhhc2gmJmRlY29kZVVSSUNvbXBvbmVudChlLmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvXlteI10rLyxcIlwiKSk9PT1lLmxvY2F0aW9uLmhhc2g/ZS5sb2NhdGlvbi5ocmVmOmUuVVJMLmluZGV4T2YoXCIjXCIpPT0tMSYmZS5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCIjXCIpIT0tMT9lLmxvY2F0aW9uLmhyZWY6ZS5VUkx8fGUubG9jYXRpb24uaHJlZn0saC5zdG9yZT17fSxoLmlkVG9TdGF0ZT1oLmlkVG9TdGF0ZXx8e30saC5zdGF0ZVRvSWQ9aC5zdGF0ZVRvSWR8fHt9LGgudXJsVG9JZD1oLnVybFRvSWR8fHt9LGguc3RvcmVkU3RhdGVzPWguc3RvcmVkU3RhdGVzfHxbXSxoLnNhdmVkU3RhdGVzPWguc2F2ZWRTdGF0ZXN8fFtdLGgubm9ybWFsaXplU3RvcmU9ZnVuY3Rpb24oKXtoLnN0b3JlLmlkVG9TdGF0ZT1oLnN0b3JlLmlkVG9TdGF0ZXx8e30saC5zdG9yZS51cmxUb0lkPWguc3RvcmUudXJsVG9JZHx8e30saC5zdG9yZS5zdGF0ZVRvSWQ9aC5zdG9yZS5zdGF0ZVRvSWR8fHt9fSxoLmdldFN0YXRlPWZ1bmN0aW9uKGUsdCl7dHlwZW9mIGU9PVwidW5kZWZpbmVkXCImJihlPSEwKSx0eXBlb2YgdD09XCJ1bmRlZmluZWRcIiYmKHQ9ITApO3ZhciBuPWguZ2V0TGFzdFNhdmVkU3RhdGUoKTtyZXR1cm4hbiYmdCYmKG49aC5jcmVhdGVTdGF0ZU9iamVjdCgpKSxlJiYobj1oLmNsb25lT2JqZWN0KG4pLG4udXJsPW4uY2xlYW5Vcmx8fG4udXJsKSxufSxoLmdldElkQnlTdGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1oLmV4dHJhY3RJZChlLnVybCksbjtpZighdCl7bj1oLmdldFN0YXRlU3RyaW5nKGUpO2lmKHR5cGVvZiBoLnN0YXRlVG9JZFtuXSE9XCJ1bmRlZmluZWRcIil0PWguc3RhdGVUb0lkW25dO2Vsc2UgaWYodHlwZW9mIGguc3RvcmUuc3RhdGVUb0lkW25dIT1cInVuZGVmaW5lZFwiKXQ9aC5zdG9yZS5zdGF0ZVRvSWRbbl07ZWxzZXtmb3IoOzspe3Q9KG5ldyBEYXRlKS5nZXRUaW1lKCkrU3RyaW5nKE1hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLFwiXCIpO2lmKHR5cGVvZiBoLmlkVG9TdGF0ZVt0XT09XCJ1bmRlZmluZWRcIiYmdHlwZW9mIGguc3RvcmUuaWRUb1N0YXRlW3RdPT1cInVuZGVmaW5lZFwiKWJyZWFrfWguc3RhdGVUb0lkW25dPXQsaC5pZFRvU3RhdGVbdF09ZX19cmV0dXJuIHR9LGgubm9ybWFsaXplU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8dHlwZW9mIGUhPVwib2JqZWN0XCIpZT17fTtpZih0eXBlb2YgZS5ub3JtYWxpemVkIT1cInVuZGVmaW5lZFwiKXJldHVybiBlO2lmKCFlLmRhdGF8fHR5cGVvZiBlLmRhdGEhPVwib2JqZWN0XCIpZS5kYXRhPXt9O3JldHVybiB0PXt9LHQubm9ybWFsaXplZD0hMCx0LnRpdGxlPWUudGl0bGV8fFwiXCIsdC51cmw9aC5nZXRGdWxsVXJsKGUudXJsP2UudXJsOmguZ2V0TG9jYXRpb25IcmVmKCkpLHQuaGFzaD1oLmdldFNob3J0VXJsKHQudXJsKSx0LmRhdGE9aC5jbG9uZU9iamVjdChlLmRhdGEpLHQuaWQ9aC5nZXRJZEJ5U3RhdGUodCksdC5jbGVhblVybD10LnVybC5yZXBsYWNlKC9cXD8/XFwmX3N1aWQuKi8sXCJcIiksdC51cmw9dC5jbGVhblVybCxuPSFoLmlzRW1wdHlPYmplY3QodC5kYXRhKSwodC50aXRsZXx8bikmJmgub3B0aW9ucy5kaXNhYmxlU3VpZCE9PSEwJiYodC5oYXNoPWguZ2V0U2hvcnRVcmwodC51cmwpLnJlcGxhY2UoL1xcPz9cXCZfc3VpZC4qLyxcIlwiKSwvXFw/Ly50ZXN0KHQuaGFzaCl8fCh0Lmhhc2grPVwiP1wiKSx0Lmhhc2grPVwiJl9zdWlkPVwiK3QuaWQpLHQuaGFzaGVkVXJsPWguZ2V0RnVsbFVybCh0Lmhhc2gpLChoLmVtdWxhdGVkLnB1c2hTdGF0ZXx8aC5idWdzLnNhZmFyaVBvbGwpJiZoLmhhc1VybER1cGxpY2F0ZSh0KSYmKHQudXJsPXQuaGFzaGVkVXJsKSx0fSxoLmNyZWF0ZVN0YXRlT2JqZWN0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17ZGF0YTplLHRpdGxlOnQsdXJsOm59O3JldHVybiByPWgubm9ybWFsaXplU3RhdGUocikscn0saC5nZXRTdGF0ZUJ5SWQ9ZnVuY3Rpb24oZSl7ZT1TdHJpbmcoZSk7dmFyIG49aC5pZFRvU3RhdGVbZV18fGguc3RvcmUuaWRUb1N0YXRlW2VdfHx0O3JldHVybiBufSxoLmdldFN0YXRlU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gdD1oLm5vcm1hbGl6ZVN0YXRlKGUpLG49e2RhdGE6dC5kYXRhLHRpdGxlOmUudGl0bGUsdXJsOmUudXJsfSxyPWwuc3RyaW5naWZ5KG4pLHJ9LGguZ2V0U3RhdGVJZD1mdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiB0PWgubm9ybWFsaXplU3RhdGUoZSksbj10LmlkLG59LGguZ2V0SGFzaEJ5U3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gdD1oLm5vcm1hbGl6ZVN0YXRlKGUpLG49dC5oYXNoLG59LGguZXh0cmFjdElkPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpO3JldHVybiBlLmluZGV4T2YoXCIjXCIpIT0tMT9pPWUuc3BsaXQoXCIjXCIpWzBdOmk9ZSxuPS8oLiopXFwmX3N1aWQ9KFswLTldKykkLy5leGVjKGkpLHI9bj9uWzFdfHxlOmUsdD1uP1N0cmluZyhuWzJdfHxcIlwiKTpcIlwiLHR8fCExfSxoLmlzVHJhZGl0aW9uYWxBbmNob3I9ZnVuY3Rpb24oZSl7dmFyIHQ9IS9bXFwvXFw/XFwuXS8udGVzdChlKTtyZXR1cm4gdH0saC5leHRyYWN0U3RhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsLHIsaTtyZXR1cm4gdD10fHwhMSxyPWguZXh0cmFjdElkKGUpLHImJihuPWguZ2V0U3RhdGVCeUlkKHIpKSxufHwoaT1oLmdldEZ1bGxVcmwoZSkscj1oLmdldElkQnlVcmwoaSl8fCExLHImJihuPWguZ2V0U3RhdGVCeUlkKHIpKSwhbiYmdCYmIWguaXNUcmFkaXRpb25hbEFuY2hvcihlKSYmKG49aC5jcmVhdGVTdGF0ZU9iamVjdChudWxsLG51bGwsaSkpKSxufSxoLmdldElkQnlVcmw9ZnVuY3Rpb24oZSl7dmFyIG49aC51cmxUb0lkW2VdfHxoLnN0b3JlLnVybFRvSWRbZV18fHQ7cmV0dXJuIG59LGguZ2V0TGFzdFNhdmVkU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gaC5zYXZlZFN0YXRlc1toLnNhdmVkU3RhdGVzLmxlbmd0aC0xXXx8dH0saC5nZXRMYXN0U3RvcmVkU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gaC5zdG9yZWRTdGF0ZXNbaC5zdG9yZWRTdGF0ZXMubGVuZ3RoLTFdfHx0fSxoLmhhc1VybER1cGxpY2F0ZT1mdW5jdGlvbihlKXt2YXIgdD0hMSxuO3JldHVybiBuPWguZXh0cmFjdFN0YXRlKGUudXJsKSx0PW4mJm4uaWQhPT1lLmlkLHR9LGguc3RvcmVTdGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gaC51cmxUb0lkW2UudXJsXT1lLmlkLGguc3RvcmVkU3RhdGVzLnB1c2goaC5jbG9uZU9iamVjdChlKSksZX0saC5pc0xhc3RTYXZlZFN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PSExLG4scixpO3JldHVybiBoLnNhdmVkU3RhdGVzLmxlbmd0aCYmKG49ZS5pZCxyPWguZ2V0TGFzdFNhdmVkU3RhdGUoKSxpPXIuaWQsdD1uPT09aSksdH0saC5zYXZlU3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGguaXNMYXN0U2F2ZWRTdGF0ZShlKT8hMTooaC5zYXZlZFN0YXRlcy5wdXNoKGguY2xvbmVPYmplY3QoZSkpLCEwKX0saC5nZXRTdGF0ZUJ5SW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyZXR1cm4gdHlwZW9mIGU9PVwidW5kZWZpbmVkXCI/dD1oLnNhdmVkU3RhdGVzW2guc2F2ZWRTdGF0ZXMubGVuZ3RoLTFdOmU8MD90PWguc2F2ZWRTdGF0ZXNbaC5zYXZlZFN0YXRlcy5sZW5ndGgrZV06dD1oLnNhdmVkU3RhdGVzW2VdLHR9LGguZ2V0Q3VycmVudEluZGV4PWZ1bmN0aW9uKCl7dmFyIGU9bnVsbDtyZXR1cm4gaC5zYXZlZFN0YXRlcy5sZW5ndGg8MT9lPTA6ZT1oLnNhdmVkU3RhdGVzLmxlbmd0aC0xLGV9LGguZ2V0SGFzaD1mdW5jdGlvbihlKXt2YXIgdD1oLmdldExvY2F0aW9uSHJlZihlKSxuO3JldHVybiBuPWguZ2V0SGFzaEJ5VXJsKHQpLG59LGgudW5lc2NhcGVIYXNoPWZ1bmN0aW9uKGUpe3ZhciB0PWgubm9ybWFsaXplSGFzaChlKTtyZXR1cm4gdD1kZWNvZGVVUklDb21wb25lbnQodCksdH0saC5ub3JtYWxpemVIYXNoPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSgvW14jXSojLyxcIlwiKS5yZXBsYWNlKC8jLiovLFwiXCIpO3JldHVybiB0fSxoLnNldEhhc2g9ZnVuY3Rpb24oZSx0KXt2YXIgbixpO3JldHVybiB0IT09ITEmJmguYnVzeSgpPyhoLnB1c2hRdWV1ZSh7c2NvcGU6aCxjYWxsYmFjazpoLnNldEhhc2gsYXJnczphcmd1bWVudHMscXVldWU6dH0pLCExKTooaC5idXN5KCEwKSxuPWguZXh0cmFjdFN0YXRlKGUsITApLG4mJiFoLmVtdWxhdGVkLnB1c2hTdGF0ZT9oLnB1c2hTdGF0ZShuLmRhdGEsbi50aXRsZSxuLnVybCwhMSk6aC5nZXRIYXNoKCkhPT1lJiYoaC5idWdzLnNldEhhc2g/KGk9aC5nZXRQYWdlVXJsKCksaC5wdXNoU3RhdGUobnVsbCxudWxsLGkrXCIjXCIrZSwhMSkpOnIubG9jYXRpb24uaGFzaD1lKSxoKX0saC5lc2NhcGVIYXNoPWZ1bmN0aW9uKHQpe3ZhciBuPWgubm9ybWFsaXplSGFzaCh0KTtyZXR1cm4gbj1lLmVuY29kZVVSSUNvbXBvbmVudChuKSxoLmJ1Z3MuaGFzaEVzY2FwZXx8KG49bi5yZXBsYWNlKC9cXCUyMS9nLFwiIVwiKS5yZXBsYWNlKC9cXCUyNi9nLFwiJlwiKS5yZXBsYWNlKC9cXCUzRC9nLFwiPVwiKS5yZXBsYWNlKC9cXCUzRi9nLFwiP1wiKSksbn0saC5nZXRIYXNoQnlVcmw9ZnVuY3Rpb24oZSl7dmFyIHQ9U3RyaW5nKGUpLnJlcGxhY2UoLyhbXiNdKikjPyhbXiNdKikjPyguKikvLFwiJDJcIik7cmV0dXJuIHQ9aC51bmVzY2FwZUhhc2godCksdH0saC5zZXRUaXRsZT1mdW5jdGlvbihlKXt2YXIgdD1lLnRpdGxlLG47dHx8KG49aC5nZXRTdGF0ZUJ5SW5kZXgoMCksbiYmbi51cmw9PT1lLnVybCYmKHQ9bi50aXRsZXx8aC5vcHRpb25zLmluaXRpYWxUaXRsZSkpO3RyeXtyLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGl0bGVcIilbMF0uaW5uZXJIVE1MPXQucmVwbGFjZShcIjxcIixcIiZsdDtcIikucmVwbGFjZShcIj5cIixcIiZndDtcIikucmVwbGFjZShcIiAmIFwiLFwiICZhbXA7IFwiKX1jYXRjaChpKXt9cmV0dXJuIHIudGl0bGU9dCxofSxoLnF1ZXVlcz1bXSxoLmJ1c3k9ZnVuY3Rpb24oZSl7dHlwZW9mIGUhPVwidW5kZWZpbmVkXCI/aC5idXN5LmZsYWc9ZTp0eXBlb2YgaC5idXN5LmZsYWc9PVwidW5kZWZpbmVkXCImJihoLmJ1c3kuZmxhZz0hMSk7aWYoIWguYnVzeS5mbGFnKXt1KGguYnVzeS50aW1lb3V0KTt2YXIgdD1mdW5jdGlvbigpe3ZhciBlLG4scjtpZihoLmJ1c3kuZmxhZylyZXR1cm47Zm9yKGU9aC5xdWV1ZXMubGVuZ3RoLTE7ZT49MDstLWUpe249aC5xdWV1ZXNbZV07aWYobi5sZW5ndGg9PT0wKWNvbnRpbnVlO3I9bi5zaGlmdCgpLGguZmlyZVF1ZXVlSXRlbShyKSxoLmJ1c3kudGltZW91dD1vKHQsaC5vcHRpb25zLmJ1c3lEZWxheSl9fTtoLmJ1c3kudGltZW91dD1vKHQsaC5vcHRpb25zLmJ1c3lEZWxheSl9cmV0dXJuIGguYnVzeS5mbGFnfSxoLmJ1c3kuZmxhZz0hMSxoLmZpcmVRdWV1ZUl0ZW09ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2FsbGJhY2suYXBwbHkoZS5zY29wZXx8aCxlLmFyZ3N8fFtdKX0saC5wdXNoUXVldWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGgucXVldWVzW2UucXVldWV8fDBdPWgucXVldWVzW2UucXVldWV8fDBdfHxbXSxoLnF1ZXVlc1tlLnF1ZXVlfHwwXS5wdXNoKGUpLGh9LGgucXVldWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIGU9PVwiZnVuY3Rpb25cIiYmKGU9e2NhbGxiYWNrOmV9KSx0eXBlb2YgdCE9XCJ1bmRlZmluZWRcIiYmKGUucXVldWU9dCksaC5idXN5KCk/aC5wdXNoUXVldWUoZSk6aC5maXJlUXVldWVJdGVtKGUpLGh9LGguY2xlYXJRdWV1ZT1mdW5jdGlvbigpe3JldHVybiBoLmJ1c3kuZmxhZz0hMSxoLnF1ZXVlcz1bXSxofSxoLnN0YXRlQ2hhbmdlZD0hMSxoLmRvdWJsZUNoZWNrZXI9ITEsaC5kb3VibGVDaGVja0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGguc3RhdGVDaGFuZ2VkPSEwLGguZG91YmxlQ2hlY2tDbGVhcigpLGh9LGguZG91YmxlQ2hlY2tDbGVhcj1mdW5jdGlvbigpe3JldHVybiBoLmRvdWJsZUNoZWNrZXImJih1KGguZG91YmxlQ2hlY2tlciksaC5kb3VibGVDaGVja2VyPSExKSxofSxoLmRvdWJsZUNoZWNrPWZ1bmN0aW9uKGUpe3JldHVybiBoLnN0YXRlQ2hhbmdlZD0hMSxoLmRvdWJsZUNoZWNrQ2xlYXIoKSxoLmJ1Z3MuaWVEb3VibGVDaGVjayYmKGguZG91YmxlQ2hlY2tlcj1vKGZ1bmN0aW9uKCl7cmV0dXJuIGguZG91YmxlQ2hlY2tDbGVhcigpLGguc3RhdGVDaGFuZ2VkfHxlKCksITB9LGgub3B0aW9ucy5kb3VibGVDaGVja0ludGVydmFsKSksaH0saC5zYWZhcmlTdGF0ZVBvbGw9ZnVuY3Rpb24oKXt2YXIgdD1oLmV4dHJhY3RTdGF0ZShoLmdldExvY2F0aW9uSHJlZigpKSxuO2lmKCFoLmlzTGFzdFNhdmVkU3RhdGUodCkpcmV0dXJuIG49dCxufHwobj1oLmNyZWF0ZVN0YXRlT2JqZWN0KCkpLGguQWRhcHRlci50cmlnZ2VyKGUsXCJwb3BzdGF0ZVwiKSxoO3JldHVybn0saC5iYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09ITEmJmguYnVzeSgpPyhoLnB1c2hRdWV1ZSh7c2NvcGU6aCxjYWxsYmFjazpoLmJhY2ssYXJnczphcmd1bWVudHMscXVldWU6ZX0pLCExKTooaC5idXN5KCEwKSxoLmRvdWJsZUNoZWNrKGZ1bmN0aW9uKCl7aC5iYWNrKCExKX0pLHAuZ28oLTEpLCEwKX0saC5mb3J3YXJkPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09ITEmJmguYnVzeSgpPyhoLnB1c2hRdWV1ZSh7c2NvcGU6aCxjYWxsYmFjazpoLmZvcndhcmQsYXJnczphcmd1bWVudHMscXVldWU6ZX0pLCExKTooaC5idXN5KCEwKSxoLmRvdWJsZUNoZWNrKGZ1bmN0aW9uKCl7aC5mb3J3YXJkKCExKX0pLHAuZ28oMSksITApfSxoLmdvPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZT4wKWZvcihuPTE7bjw9ZTsrK24paC5mb3J3YXJkKHQpO2Vsc2V7aWYoIShlPDApKXRocm93IG5ldyBFcnJvcihcIkhpc3RvcnkuZ286IEhpc3RvcnkuZ28gcmVxdWlyZXMgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIHBhc3NlZC5cIik7Zm9yKG49LTE7bj49ZTstLW4paC5iYWNrKHQpfXJldHVybiBofTtpZihoLmVtdWxhdGVkLnB1c2hTdGF0ZSl7dmFyIHY9ZnVuY3Rpb24oKXt9O2gucHVzaFN0YXRlPWgucHVzaFN0YXRlfHx2LGgucmVwbGFjZVN0YXRlPWgucmVwbGFjZVN0YXRlfHx2fWVsc2UgaC5vblBvcFN0YXRlPWZ1bmN0aW9uKHQsbil7dmFyIHI9ITEsaT0hMSxzLG87cmV0dXJuIGguZG91YmxlQ2hlY2tDb21wbGV0ZSgpLHM9aC5nZXRIYXNoKCkscz8obz1oLmV4dHJhY3RTdGF0ZShzfHxoLmdldExvY2F0aW9uSHJlZigpLCEwKSxvP2gucmVwbGFjZVN0YXRlKG8uZGF0YSxvLnRpdGxlLG8udXJsLCExKTooaC5BZGFwdGVyLnRyaWdnZXIoZSxcImFuY2hvcmNoYW5nZVwiKSxoLmJ1c3koITEpKSxoLmV4cGVjdGVkU3RhdGVJZD0hMSwhMSk6KHI9aC5BZGFwdGVyLmV4dHJhY3RFdmVudERhdGEoXCJzdGF0ZVwiLHQsbil8fCExLHI/aT1oLmdldFN0YXRlQnlJZChyKTpoLmV4cGVjdGVkU3RhdGVJZD9pPWguZ2V0U3RhdGVCeUlkKGguZXhwZWN0ZWRTdGF0ZUlkKTppPWguZXh0cmFjdFN0YXRlKGguZ2V0TG9jYXRpb25IcmVmKCkpLGl8fChpPWguY3JlYXRlU3RhdGVPYmplY3QobnVsbCxudWxsLGguZ2V0TG9jYXRpb25IcmVmKCkpKSxoLmV4cGVjdGVkU3RhdGVJZD0hMSxoLmlzTGFzdFNhdmVkU3RhdGUoaSk/KGguYnVzeSghMSksITEpOihoLnN0b3JlU3RhdGUoaSksaC5zYXZlU3RhdGUoaSksaC5zZXRUaXRsZShpKSxoLkFkYXB0ZXIudHJpZ2dlcihlLFwic3RhdGVjaGFuZ2VcIiksaC5idXN5KCExKSwhMCkpfSxoLkFkYXB0ZXIuYmluZChlLFwicG9wc3RhdGVcIixoLm9uUG9wU3RhdGUpLGgucHVzaFN0YXRlPWZ1bmN0aW9uKHQsbixyLGkpe2lmKGguZ2V0SGFzaEJ5VXJsKHIpJiZoLmVtdWxhdGVkLnB1c2hTdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJIaXN0b3J5LmpzIGRvZXMgbm90IHN1cHBvcnQgc3RhdGVzIHdpdGggZnJhZ2VtZW50LWlkZW50aWZpZXJzIChoYXNoZXMvYW5jaG9ycykuXCIpO2lmKGkhPT0hMSYmaC5idXN5KCkpcmV0dXJuIGgucHVzaFF1ZXVlKHtzY29wZTpoLGNhbGxiYWNrOmgucHVzaFN0YXRlLGFyZ3M6YXJndW1lbnRzLHF1ZXVlOml9KSwhMTtoLmJ1c3koITApO3ZhciBzPWguY3JlYXRlU3RhdGVPYmplY3QodCxuLHIpO3JldHVybiBoLmlzTGFzdFNhdmVkU3RhdGUocyk/aC5idXN5KCExKTooaC5zdG9yZVN0YXRlKHMpLGguZXhwZWN0ZWRTdGF0ZUlkPXMuaWQscC5wdXNoU3RhdGUocy5pZCxzLnRpdGxlLHMudXJsKSxoLkFkYXB0ZXIudHJpZ2dlcihlLFwicG9wc3RhdGVcIikpLCEwfSxoLnJlcGxhY2VTdGF0ZT1mdW5jdGlvbih0LG4scixpKXtpZihoLmdldEhhc2hCeVVybChyKSYmaC5lbXVsYXRlZC5wdXNoU3RhdGUpdGhyb3cgbmV3IEVycm9yKFwiSGlzdG9yeS5qcyBkb2VzIG5vdCBzdXBwb3J0IHN0YXRlcyB3aXRoIGZyYWdlbWVudC1pZGVudGlmaWVycyAoaGFzaGVzL2FuY2hvcnMpLlwiKTtpZihpIT09ITEmJmguYnVzeSgpKXJldHVybiBoLnB1c2hRdWV1ZSh7c2NvcGU6aCxjYWxsYmFjazpoLnJlcGxhY2VTdGF0ZSxhcmdzOmFyZ3VtZW50cyxxdWV1ZTppfSksITE7aC5idXN5KCEwKTt2YXIgcz1oLmNyZWF0ZVN0YXRlT2JqZWN0KHQsbixyKTtyZXR1cm4gaC5pc0xhc3RTYXZlZFN0YXRlKHMpP2guYnVzeSghMSk6KGguc3RvcmVTdGF0ZShzKSxoLmV4cGVjdGVkU3RhdGVJZD1zLmlkLHAucmVwbGFjZVN0YXRlKHMuaWQscy50aXRsZSxzLnVybCksaC5BZGFwdGVyLnRyaWdnZXIoZSxcInBvcHN0YXRlXCIpKSwhMH07aWYocyl7dHJ5e2guc3RvcmU9bC5wYXJzZShzLmdldEl0ZW0oXCJIaXN0b3J5LnN0b3JlXCIpKXx8e319Y2F0Y2gobSl7aC5zdG9yZT17fX1oLm5vcm1hbGl6ZVN0b3JlKCl9ZWxzZSBoLnN0b3JlPXt9LGgubm9ybWFsaXplU3RvcmUoKTtoLkFkYXB0ZXIuYmluZChlLFwidW5sb2FkXCIsaC5jbGVhckFsbEludGVydmFscyksaC5zYXZlU3RhdGUoaC5zdG9yZVN0YXRlKGguZXh0cmFjdFN0YXRlKGguZ2V0TG9jYXRpb25IcmVmKCksITApKSkscyYmKGgub25VbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG47dHJ5e2U9bC5wYXJzZShzLmdldEl0ZW0oXCJIaXN0b3J5LnN0b3JlXCIpKXx8e319Y2F0Y2gocil7ZT17fX1lLmlkVG9TdGF0ZT1lLmlkVG9TdGF0ZXx8e30sZS51cmxUb0lkPWUudXJsVG9JZHx8e30sZS5zdGF0ZVRvSWQ9ZS5zdGF0ZVRvSWR8fHt9O2Zvcih0IGluIGguaWRUb1N0YXRlKXtpZighaC5pZFRvU3RhdGUuaGFzT3duUHJvcGVydHkodCkpY29udGludWU7ZS5pZFRvU3RhdGVbdF09aC5pZFRvU3RhdGVbdF19Zm9yKHQgaW4gaC51cmxUb0lkKXtpZighaC51cmxUb0lkLmhhc093blByb3BlcnR5KHQpKWNvbnRpbnVlO2UudXJsVG9JZFt0XT1oLnVybFRvSWRbdF19Zm9yKHQgaW4gaC5zdGF0ZVRvSWQpe2lmKCFoLnN0YXRlVG9JZC5oYXNPd25Qcm9wZXJ0eSh0KSljb250aW51ZTtlLnN0YXRlVG9JZFt0XT1oLnN0YXRlVG9JZFt0XX1oLnN0b3JlPWUsaC5ub3JtYWxpemVTdG9yZSgpLG49bC5zdHJpbmdpZnkoZSk7dHJ5e3Muc2V0SXRlbShcIkhpc3Rvcnkuc3RvcmVcIixuKX1jYXRjaChpKXtpZihpLmNvZGUhPT1ET01FeGNlcHRpb24uUVVPVEFfRVhDRUVERURfRVJSKXRocm93IGk7cy5sZW5ndGgmJihzLnJlbW92ZUl0ZW0oXCJIaXN0b3J5LnN0b3JlXCIpLHMuc2V0SXRlbShcIkhpc3Rvcnkuc3RvcmVcIixuKSl9fSxoLmludGVydmFsTGlzdC5wdXNoKGEoaC5vblVubG9hZCxoLm9wdGlvbnMuc3RvcmVJbnRlcnZhbCkpLGguQWRhcHRlci5iaW5kKGUsXCJiZWZvcmV1bmxvYWRcIixoLm9uVW5sb2FkKSxoLkFkYXB0ZXIuYmluZChlLFwidW5sb2FkXCIsaC5vblVubG9hZCkpO2lmKCFoLmVtdWxhdGVkLnB1c2hTdGF0ZSl7aC5idWdzLnNhZmFyaVBvbGwmJmguaW50ZXJ2YWxMaXN0LnB1c2goYShoLnNhZmFyaVN0YXRlUG9sbCxoLm9wdGlvbnMuc2FmYXJpUG9sbEludGVydmFsKSk7aWYoaS52ZW5kb3I9PT1cIkFwcGxlIENvbXB1dGVyLCBJbmMuXCJ8fChpLmFwcENvZGVOYW1lfHxcIlwiKT09PVwiTW96aWxsYVwiKWguQWRhcHRlci5iaW5kKGUsXCJoYXNoY2hhbmdlXCIsZnVuY3Rpb24oKXtoLkFkYXB0ZXIudHJpZ2dlcihlLFwicG9wc3RhdGVcIil9KSxoLmdldEhhc2goKSYmaC5BZGFwdGVyLm9uRG9tTG9hZChmdW5jdGlvbigpe2guQWRhcHRlci50cmlnZ2VyKGUsXCJoYXNoY2hhbmdlXCIpfSl9fSwoIWgub3B0aW9uc3x8IWgub3B0aW9ucy5kZWxheUluaXQpJiZoLmluaXQoKX0od2luZG93KSIsIi8qIVxyXG4qIGpxdWVyeS5pbnB1dG1hc2suYnVuZGxlLmpzXHJcbiogaHR0cHM6Ly9naXRodWIuY29tL1JvYmluSGVyYm90cy9JbnB1dG1hc2tcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTAgLSAyMDE3IFJvYmluIEhlcmJvdHNcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKVxyXG4qIFZlcnNpb246IDMuMy4xMVxyXG4qL1xyXG5cclxuIWZ1bmN0aW9uKG1vZHVsZXMpIHtcclxuICAgIGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcclxuICAgICAgICBpZiAoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xyXG4gICAgICAgIHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcclxuICAgICAgICAgICAgaTogbW9kdWxlSWQsXHJcbiAgICAgICAgICAgIGw6ICExLFxyXG4gICAgICAgICAgICBleHBvcnRzOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pLCBcclxuICAgICAgICBtb2R1bGUubCA9ICEwLCBtb2R1bGUuZXhwb3J0cztcclxuICAgIH1cclxuICAgIHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XHJcbiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcclxuICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogITAsXHJcbiAgICAgICAgICAgIGdldDogZ2V0dGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuICAgICAgICB2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUuZGVmYXVsdDtcclxuICAgICAgICB9IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgXCJhXCIsIGdldHRlciksIGdldHRlcjtcclxuICAgIH0sIF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpO1xyXG4gICAgfSwgX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIiwgX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcclxufShbIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcclxuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcjtcclxuICAgICFmdW5jdGlvbihmYWN0b3J5KSB7XHJcbiAgICAgICAgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFsgX193ZWJwYWNrX3JlcXVpcmVfXygyKSBdLCB2b2lkIDAgIT09IChfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IGZhY3RvcnkpID8gX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyk7XHJcbiAgICB9KGZ1bmN0aW9uKCQpIHtcclxuICAgICAgICByZXR1cm4gJDtcclxuICAgIH0pO1xyXG59LCBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18sIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIG9iajtcclxuICAgIH0gOiBmdW5jdGlvbihvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xyXG4gICAgfTtcclxuICAgICFmdW5jdGlvbihmYWN0b3J5KSB7XHJcbiAgICAgICAgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFsgX193ZWJwYWNrX3JlcXVpcmVfXygwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMCksIF9fd2VicGFja19yZXF1aXJlX18oMTEpIF0sIFxyXG4gICAgICAgIHZvaWQgMCAhPT0gKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gZmFjdG9yeSkgPyBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKTtcclxuICAgIH0oZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gSW5wdXRtYXNrKGFsaWFzLCBvcHRpb25zLCBpbnRlcm5hbCkge1xyXG4gICAgICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW5wdXRtYXNrKSkgcmV0dXJuIG5ldyBJbnB1dG1hc2soYWxpYXMsIG9wdGlvbnMsIGludGVybmFsKTtcclxuICAgICAgICAgICAgdGhpcy5lbCA9IHVuZGVmaW5lZCwgdGhpcy5ldmVudHMgPSB7fSwgdGhpcy5tYXNrc2V0ID0gdW5kZWZpbmVkLCB0aGlzLnJlZnJlc2hWYWx1ZSA9ICExLCBcclxuICAgICAgICAgICAgITAgIT09IGludGVybmFsICYmICgkLmlzUGxhaW5PYmplY3QoYWxpYXMpID8gb3B0aW9ucyA9IGFsaWFzIDogKG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9KS5hbGlhcyA9IGFsaWFzLCBcclxuICAgICAgICAgICAgdGhpcy5vcHRzID0gJC5leHRlbmQoITAsIHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zKSwgdGhpcy5ub01hc2tzQ2FjaGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVmaW5pdGlvbnMgIT09IHVuZGVmaW5lZCwgXHJcbiAgICAgICAgICAgIHRoaXMudXNlck9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LCB0aGlzLmlzUlRMID0gdGhpcy5vcHRzLm51bWVyaWNJbnB1dCwgcmVzb2x2ZUFsaWFzKHRoaXMub3B0cy5hbGlhcywgb3B0aW9ucywgdGhpcy5vcHRzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVBbGlhcyhhbGlhc1N0ciwgb3B0aW9ucywgb3B0cykge1xyXG4gICAgICAgICAgICB2YXIgYWxpYXNEZWZpbml0aW9uID0gSW5wdXRtYXNrLnByb3RvdHlwZS5hbGlhc2VzW2FsaWFzU3RyXTtcclxuICAgICAgICAgICAgcmV0dXJuIGFsaWFzRGVmaW5pdGlvbiA/IChhbGlhc0RlZmluaXRpb24uYWxpYXMgJiYgcmVzb2x2ZUFsaWFzKGFsaWFzRGVmaW5pdGlvbi5hbGlhcywgdW5kZWZpbmVkLCBvcHRzKSwgXHJcbiAgICAgICAgICAgICQuZXh0ZW5kKCEwLCBvcHRzLCBhbGlhc0RlZmluaXRpb24pLCAkLmV4dGVuZCghMCwgb3B0cywgb3B0aW9ucyksICEwKSA6IChudWxsID09PSBvcHRzLm1hc2sgJiYgKG9wdHMubWFzayA9IGFsaWFzU3RyKSwgXHJcbiAgICAgICAgICAgICExKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVNYXNrU2V0KG9wdHMsIG5vY2FjaGUpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVNYXNrKG1hc2ssIG1ldGFkYXRhLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVnZXhNYXNrID0gITE7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gbWFzayAmJiBcIlwiICE9PSBtYXNrIHx8ICgocmVnZXhNYXNrID0gbnVsbCAhPT0gb3B0cy5yZWdleCkgPyBtYXNrID0gKG1hc2sgPSBvcHRzLnJlZ2V4KS5yZXBsYWNlKC9eKFxcXikoLiopKFxcJCkkLywgXCIkMlwiKSA6IChyZWdleE1hc2sgPSAhMCwgXHJcbiAgICAgICAgICAgICAgICBtYXNrID0gXCIuKlwiKSksIDEgPT09IG1hc2subGVuZ3RoICYmICExID09PSBvcHRzLmdyZWVkeSAmJiAwICE9PSBvcHRzLnJlcGVhdCAmJiAob3B0cy5wbGFjZWhvbGRlciA9IFwiXCIpLCBcclxuICAgICAgICAgICAgICAgIG9wdHMucmVwZWF0ID4gMCB8fCBcIipcIiA9PT0gb3B0cy5yZXBlYXQgfHwgXCIrXCIgPT09IG9wdHMucmVwZWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGVhdFN0YXJ0ID0gXCIqXCIgPT09IG9wdHMucmVwZWF0ID8gMCA6IFwiK1wiID09PSBvcHRzLnJlcGVhdCA/IDEgOiBvcHRzLnJlcGVhdDtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrID0gb3B0cy5ncm91cG1hcmtlci5zdGFydCArIG1hc2sgKyBvcHRzLmdyb3VwbWFya2VyLmVuZCArIG9wdHMucXVhbnRpZmllcm1hcmtlci5zdGFydCArIHJlcGVhdFN0YXJ0ICsgXCIsXCIgKyBvcHRzLnJlcGVhdCArIG9wdHMucXVhbnRpZmllcm1hcmtlci5lbmQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza3NldERlZmluaXRpb24sIG1hc2tkZWZLZXkgPSByZWdleE1hc2sgPyBcInJlZ2V4X1wiICsgb3B0cy5yZWdleCA6IG9wdHMubnVtZXJpY0lucHV0ID8gbWFzay5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IG1hc2s7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW21hc2tkZWZLZXldID09PSB1bmRlZmluZWQgfHwgITAgPT09IG5vY2FjaGUgPyAobWFza3NldERlZmluaXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogbWFzayxcclxuICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW46IElucHV0bWFzay5wcm90b3R5cGUuYW5hbHlzZU1hc2sobWFzaywgcmVnZXhNYXNrLCBvcHRzKSxcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZFBvc2l0aW9uczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgX2J1ZmZlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RzOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFza0xlbmd0aDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICB9LCAhMCAhPT0gbm9jYWNoZSAmJiAoSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW21hc2tkZWZLZXldID0gbWFza3NldERlZmluaXRpb24sIFxyXG4gICAgICAgICAgICAgICAgbWFza3NldERlZmluaXRpb24gPSAkLmV4dGVuZCghMCwge30sIElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrZGVmS2V5XSkpKSA6IG1hc2tzZXREZWZpbml0aW9uID0gJC5leHRlbmQoITAsIHt9LCBJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbbWFza2RlZktleV0pLCBcclxuICAgICAgICAgICAgICAgIG1hc2tzZXREZWZpbml0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5tYXNrKSAmJiAob3B0cy5tYXNrID0gb3B0cy5tYXNrKG9wdHMpKSwgJC5pc0FycmF5KG9wdHMubWFzaykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLm1hc2subGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMua2VlcFN0YXRpYyA9IG51bGwgPT09IG9wdHMua2VlcFN0YXRpYyB8fCBvcHRzLmtlZXBTdGF0aWM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsdE1hc2sgPSBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkLmVhY2gob3B0cy5udW1lcmljSW5wdXQgPyBvcHRzLm1hc2sucmV2ZXJzZSgpIDogb3B0cy5tYXNrLCBmdW5jdGlvbihuZHgsIG1zaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHRNYXNrLmxlbmd0aCA+IDEgJiYgKGFsdE1hc2sgKz0gb3B0cy5ncm91cG1hcmtlci5lbmQgKyBvcHRzLmFsdGVybmF0b3JtYXJrZXIgKyBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zay5tYXNrID09PSB1bmRlZmluZWQgfHwgJC5pc0Z1bmN0aW9uKG1zay5tYXNrKSA/IGFsdE1hc2sgKz0gbXNrIDogYWx0TWFzayArPSBtc2subWFzaztcclxuICAgICAgICAgICAgICAgICAgICB9KSwgYWx0TWFzayArPSBvcHRzLmdyb3VwbWFya2VyLmVuZCwgZ2VuZXJhdGVNYXNrKGFsdE1hc2ssIG9wdHMubWFzaywgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcHRzLm1hc2sgPSBvcHRzLm1hc2sucG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG9wdHMubWFzayAmJiBvcHRzLm1hc2subWFzayAhPT0gdW5kZWZpbmVkICYmICEkLmlzRnVuY3Rpb24ob3B0cy5tYXNrLm1hc2spID8gZ2VuZXJhdGVNYXNrKG9wdHMubWFzay5tYXNrLCBvcHRzLm1hc2ssIG9wdHMpIDogZ2VuZXJhdGVNYXNrKG9wdHMubWFzaywgb3B0cy5tYXNrLCBvcHRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbWFza1Njb3BlKGFjdGlvbk9iaiwgbWFza3NldCwgb3B0cykge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRNYXNrVGVtcGxhdGUoYmFzZU9uSW5wdXQsIG1pbmltYWxQb3MsIGluY2x1ZGVNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBtaW5pbWFsUG9zID0gbWluaW1hbFBvcyB8fCAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5keEludGx6ciwgdGVzdCwgdGVzdFBvcywgbWFza1RlbXBsYXRlID0gW10sIHBvcyA9IDAsIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgITAgPT09IGJhc2VPbklucHV0ICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdID8gKHRlc3QgPSAodGVzdFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdKS5tYXRjaCwgXHJcbiAgICAgICAgICAgICAgICAgICAgbmR4SW50bHpyID0gdGVzdFBvcy5sb2NhdG9yLnNsaWNlKCksIG1hc2tUZW1wbGF0ZS5wdXNoKCEwID09PSBpbmNsdWRlTW9kZSA/IHRlc3RQb3MuaW5wdXQgOiAhMSA9PT0gaW5jbHVkZU1vZGUgPyB0ZXN0Lm5hdGl2ZURlZiA6IGdldFBsYWNlaG9sZGVyKHBvcywgdGVzdCkpKSA6ICh0ZXN0ID0gKHRlc3RQb3MgPSBnZXRUZXN0VGVtcGxhdGUocG9zLCBuZHhJbnRsenIsIHBvcyAtIDEpKS5tYXRjaCwgXHJcbiAgICAgICAgICAgICAgICAgICAgbmR4SW50bHpyID0gdGVzdFBvcy5sb2NhdG9yLnNsaWNlKCksICghMSA9PT0gb3B0cy5qaXRNYXNraW5nIHx8IHBvcyA8IGx2cCB8fCBcIm51bWJlclwiID09IHR5cGVvZiBvcHRzLmppdE1hc2tpbmcgJiYgaXNGaW5pdGUob3B0cy5qaXRNYXNraW5nKSAmJiBvcHRzLmppdE1hc2tpbmcgPiBwb3MpICYmIG1hc2tUZW1wbGF0ZS5wdXNoKCExID09PSBpbmNsdWRlTW9kZSA/IHRlc3QubmF0aXZlRGVmIDogZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0KSkpLCBcclxuICAgICAgICAgICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKChtYXhMZW5ndGggPT09IHVuZGVmaW5lZCB8fCBwb3MgPCBtYXhMZW5ndGgpICYmIChudWxsICE9PSB0ZXN0LmZuIHx8IFwiXCIgIT09IHRlc3QuZGVmKSB8fCBtaW5pbWFsUG9zID4gcG9zKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiID09PSBtYXNrVGVtcGxhdGVbbWFza1RlbXBsYXRlLmxlbmd0aCAtIDFdICYmIG1hc2tUZW1wbGF0ZS5wb3AoKSwgZ2V0TWFza1NldCgpLm1hc2tMZW5ndGggPSBwb3MgKyAxLCBcclxuICAgICAgICAgICAgICAgIG1hc2tUZW1wbGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRNYXNrU2V0KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tzZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzZXRNYXNrU2V0KHNvZnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrc2V0ID0gZ2V0TWFza1NldCgpO1xyXG4gICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXIgPSB1bmRlZmluZWQsICEwICE9PSBzb2Z0ICYmIChtYXNrc2V0LnZhbGlkUG9zaXRpb25zID0ge30sIG1hc2tzZXQucCA9IDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldExhc3RWYWxpZFBvc2l0aW9uKGNsb3Nlc3RUbywgc3RyaWN0LCB2YWxpZFBvc2l0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZSA9IC0xLCBhZnRlciA9IC0xLCB2YWxpZHMgPSB2YWxpZFBvc2l0aW9ucyB8fCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnM7XHJcbiAgICAgICAgICAgICAgICBjbG9zZXN0VG8gPT09IHVuZGVmaW5lZCAmJiAoY2xvc2VzdFRvID0gLTEpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcG9zTmR4IGluIHZhbGlkcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwc05keCA9IHBhcnNlSW50KHBvc05keCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRzW3BzTmR4XSAmJiAoc3RyaWN0IHx8ICEwICE9PSB2YWxpZHNbcHNOZHhdLmdlbmVyYXRlZElucHV0KSAmJiAocHNOZHggPD0gY2xvc2VzdFRvICYmIChiZWZvcmUgPSBwc05keCksIFxyXG4gICAgICAgICAgICAgICAgICAgIHBzTmR4ID49IGNsb3Nlc3RUbyAmJiAoYWZ0ZXIgPSBwc05keCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xICE9PSBiZWZvcmUgJiYgY2xvc2VzdFRvIC0gYmVmb3JlID4gMSB8fCBhZnRlciA8IGNsb3Nlc3RUbyA/IGJlZm9yZSA6IGFmdGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN0cmlwVmFsaWRQb3NpdGlvbnMoc3RhcnQsIGVuZCwgbm9jaGVjaywgc3RyaWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSwgc3RhcnRQb3MgPSBzdGFydCwgcG9zaXRpb25zQ2xvbmUgPSAkLmV4dGVuZCghMCwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyksIG5lZWRzVmFsaWRhdGlvbiA9ICExO1xyXG4gICAgICAgICAgICAgICAgZm9yIChnZXRNYXNrU2V0KCkucCA9IHN0YXJ0LCBpID0gZW5kIC0gMTsgaSA+PSBzdGFydFBvczsgaS0tKSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0gIT09IHVuZGVmaW5lZCAmJiAoITAgIT09IG5vY2hlY2sgJiYgKCFnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0ubWF0Y2gub3B0aW9uYWxpdHkgJiYgZnVuY3Rpb24ocG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc01hdGNoID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc01hdGNoICE9PSB1bmRlZmluZWQgJiYgbnVsbCA9PT0gcG9zTWF0Y2gubWF0Y2guZm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZNYXRjaCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MgLSAxXSwgbmV4dE1hdGNoID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BvcyArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldk1hdGNoICE9PSB1bmRlZmluZWQgJiYgbmV4dE1hdGNoICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgIH0oaSkgfHwgITEgPT09IG9wdHMuY2FuQ2xlYXJQb3NpdGlvbihnZXRNYXNrU2V0KCksIGksIGdldExhc3RWYWxpZFBvc2l0aW9uKCksIHN0cmljdCwgb3B0cykpIHx8IGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgZm9yIChyZXNldE1hc2tTZXQoITApLCBpID0gc3RhcnRQb3MgKyAxOyBpIDw9IGdldExhc3RWYWxpZFBvc2l0aW9uKCk7ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoO2dldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tzdGFydFBvc10gIT09IHVuZGVmaW5lZDsgKSBzdGFydFBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpIDwgc3RhcnRQb3MgJiYgKGkgPSBzdGFydFBvcyArIDEpLCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0gPT09IHVuZGVmaW5lZCAmJiBpc01hc2soaSkpIGkrKzsgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZ2V0VGVzdFRlbXBsYXRlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAhMSA9PT0gbmVlZHNWYWxpZGF0aW9uICYmIHBvc2l0aW9uc0Nsb25lW3N0YXJ0UG9zXSAmJiBwb3NpdGlvbnNDbG9uZVtzdGFydFBvc10ubWF0Y2guZGVmID09PSB0Lm1hdGNoLmRlZiA/IChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbc3RhcnRQb3NdID0gJC5leHRlbmQoITAsIHt9LCBwb3NpdGlvbnNDbG9uZVtzdGFydFBvc10pLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3N0YXJ0UG9zXS5pbnB1dCA9IHQuaW5wdXQsIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpKyspIDogcG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24oc3RhcnRQb3MsIHQubWF0Y2guZGVmKSA/ICExICE9PSBpc1ZhbGlkKHN0YXJ0UG9zLCB0LmlucHV0IHx8IGdldFBsYWNlaG9sZGVyKGkpLCAhMCkgJiYgKGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpKyssIG5lZWRzVmFsaWRhdGlvbiA9ICEwKSA6IGlzTWFzayhpKSB8fCAoaSsrLCBzdGFydFBvcy0tKSwgc3RhcnRQb3MrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoITApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRldGVybWluZVRlc3RUZW1wbGF0ZSh0ZXN0cywgZ3Vlc3NOZXh0QmVzdCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdGVzdFBvcywgdGVzdFBvc2l0aW9ucyA9IHRlc3RzLCBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCBsdlRlc3QgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSB8fCBnZXRUZXN0cygwKVswXSwgbHZUZXN0QWx0QXJyID0gbHZUZXN0LmFsdGVybmF0aW9uICE9PSB1bmRlZmluZWQgPyBsdlRlc3QubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpIDogW10sIG5keCA9IDA7IG5keCA8IHRlc3RQb3NpdGlvbnMubGVuZ3RoICYmICghKCh0ZXN0UG9zID0gdGVzdFBvc2l0aW9uc1tuZHhdKS5tYXRjaCAmJiAob3B0cy5ncmVlZHkgJiYgITAgIT09IHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyIHx8ICghMSA9PT0gdGVzdFBvcy5tYXRjaC5vcHRpb25hbGl0eSB8fCAhMSA9PT0gdGVzdFBvcy5tYXRjaC5uZXdCbG9ja01hcmtlcikgJiYgITAgIT09IHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyKSAmJiAobHZUZXN0LmFsdGVybmF0aW9uID09PSB1bmRlZmluZWQgfHwgbHZUZXN0LmFsdGVybmF0aW9uICE9PSB0ZXN0UG9zLmFsdGVybmF0aW9uIHx8IHRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dICE9PSB1bmRlZmluZWQgJiYgY2hlY2tBbHRlcm5hdGlvbk1hdGNoKHRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpLCBsdlRlc3RBbHRBcnIpKSkgfHwgITAgPT09IGd1ZXNzTmV4dEJlc3QgJiYgKG51bGwgIT09IHRlc3RQb3MubWF0Y2guZm4gfHwgL1swLTlhLWJBLVpdLy50ZXN0KHRlc3RQb3MubWF0Y2guZGVmKSkpOyBuZHgrKykgO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlc3RQb3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCB0c3RQcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdIHx8IGRldGVybWluZVRlc3RUZW1wbGF0ZShnZXRUZXN0cyhwb3MsIG5keEludGx6ciA/IG5keEludGx6ci5zbGljZSgpIDogbmR4SW50bHpyLCB0c3RQcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFRlc3QocG9zKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gPyBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSA6IGdldFRlc3RzKHBvcylbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gcG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24ocG9zLCBkZWYpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHZhbGlkID0gITEsIHRlc3RzID0gZ2V0VGVzdHMocG9zKSwgdG5keCA9IDA7IHRuZHggPCB0ZXN0cy5sZW5ndGg7IHRuZHgrKykgaWYgKHRlc3RzW3RuZHhdLm1hdGNoICYmIHRlc3RzW3RuZHhdLm1hdGNoLmRlZiA9PT0gZGVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRUZXN0cyhwb3MsIG5keEludGx6ciwgdHN0UHMpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmVUZXN0RnJvbVRva2VuKG1hc2tUb2tlbiwgbmR4SW5pdGlhbGl6ZXIsIGxvb3BOZHgsIHF1YW50aWZpZXJSZWN1cnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlTWF0Y2gobWF0Y2gsIGxvb3BOZHgsIHF1YW50aWZpZXJSZWN1cnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlzRmlyc3RNYXRjaChsYXRlc3RNYXRjaCwgdG9rZW5Hcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0TWF0Y2ggPSAwID09PSAkLmluQXJyYXkobGF0ZXN0TWF0Y2gsIHRva2VuR3JvdXAubWF0Y2hlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3RNYXRjaCB8fCAkLmVhY2godG9rZW5Hcm91cC5tYXRjaGVzLCBmdW5jdGlvbihuZHgsIG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEwID09PSBtYXRjaC5pc1F1YW50aWZpZXIgJiYgKGZpcnN0TWF0Y2ggPSBpc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsIHRva2VuR3JvdXAubWF0Y2hlc1tuZHggLSAxXSkpKSByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgZmlyc3RNYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlTmR4SW5pdGlhbGl6ZXIocG9zLCBhbHRlcm5hdGVOZHgsIHRhcmdldEFsdGVybmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdE1hdGNoLCBpbmRleFBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zIC0gMV0gJiYgdGFyZ2V0QWx0ZXJuYXRpb24gJiYgZ2V0TWFza1NldCgpLnRlc3RzW3Bvc10pIGZvciAodmFyIHZwQWx0ZXJuYXRpb24gPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zIC0gMV0ubG9jYXRvciwgdHBBbHRlcm5hdGlvbiA9IGdldE1hc2tTZXQoKS50ZXN0c1twb3NdWzBdLmxvY2F0b3IsIGkgPSAwOyBpIDwgdGFyZ2V0QWx0ZXJuYXRpb247IGkrKykgaWYgKHZwQWx0ZXJuYXRpb25baV0gIT09IHRwQWx0ZXJuYXRpb25baV0pIHJldHVybiB2cEFsdGVybmF0aW9uLnNsaWNlKHRhcmdldEFsdGVybmF0aW9uICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGdldE1hc2tTZXQoKS50ZXN0c1twb3NdIHx8IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdKSAmJiAkLmVhY2goZ2V0TWFza1NldCgpLnRlc3RzW3Bvc10gfHwgWyBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSBdLCBmdW5jdGlvbihuZHgsIGxtbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0ZXJuYXRpb24gPSB0YXJnZXRBbHRlcm5hdGlvbiAhPT0gdW5kZWZpbmVkID8gdGFyZ2V0QWx0ZXJuYXRpb24gOiBsbW50LmFsdGVybmF0aW9uLCBuZHhQb3MgPSBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dICE9PSB1bmRlZmluZWQgPyBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuaW5kZXhPZihhbHRlcm5hdGVOZHgpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGluZGV4UG9zID09PSB1bmRlZmluZWQgfHwgbmR4UG9zIDwgaW5kZXhQb3MpICYmIC0xICE9PSBuZHhQb3MgJiYgKGJlc3RNYXRjaCA9IGxtbnQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4UG9zID0gbmR4UG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBiZXN0TWF0Y2ggPyBiZXN0TWF0Y2gubG9jYXRvci5zbGljZSgodGFyZ2V0QWx0ZXJuYXRpb24gIT09IHVuZGVmaW5lZCA/IHRhcmdldEFsdGVybmF0aW9uIDogYmVzdE1hdGNoLmFsdGVybmF0aW9uKSArIDEpIDogdGFyZ2V0QWx0ZXJuYXRpb24gIT09IHVuZGVmaW5lZCA/IHJlc29sdmVOZHhJbml0aWFsaXplcihwb3MsIGFsdGVybmF0ZU5keCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RQb3MgPiAxZTQpIHRocm93IFwiSW5wdXRtYXNrOiBUaGVyZSBpcyBwcm9iYWJseSBhbiBlcnJvciBpbiB5b3VyIG1hc2sgZGVmaW5pdGlvbiBvciBpbiB0aGUgY29kZS4gQ3JlYXRlIGFuIGlzc3VlIG9uIGdpdGh1YiB3aXRoIGFuIGV4YW1wbGUgb2YgdGhlIG1hc2sgeW91IGFyZSB1c2luZy4gXCIgKyBnZXRNYXNrU2V0KCkubWFzaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RQb3MgPT09IHBvcyAmJiBtYXRjaC5tYXRjaGVzID09PSB1bmRlZmluZWQpIHJldHVybiBtYXRjaGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IG1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRvcjogbG9vcE5keC5yZXZlcnNlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZDogY2FjaGVEZXBlbmRlbmN5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoLm1hdGNoZXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoLmlzR3JvdXAgJiYgcXVhbnRpZmllclJlY3Vyc2UgIT09IG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID0gaGFuZGxlTWF0Y2gobWFza1Rva2VuLm1hdGNoZXNbJC5pbkFycmF5KG1hdGNoLCBtYXNrVG9rZW4ubWF0Y2hlcykgKyAxXSwgbG9vcE5keCkpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2guaXNPcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25hbFRva2VuID0gbWF0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID0gcmVzb2x2ZVRlc3RGcm9tVG9rZW4obWF0Y2gsIG5keEluaXRpYWxpemVyLCBsb29wTmR4LCBxdWFudGlmaWVyUmVjdXJzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdE1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLm1hdGNoLCAhaXNGaXJzdE1hdGNoKGxhdGVzdE1hdGNoLCBvcHRpb25hbFRva2VuKSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRTdG9wID0gITAsIHRlc3RQb3MgPSBwb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaC5pc0FsdGVybmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFsdE1hdGNoZXMsIGFsdGVybmF0ZVRva2VuID0gbWF0Y2gsIG1hbHRlcm5hdGVNYXRjaGVzID0gW10sIGN1cnJlbnRNYXRjaGVzID0gbWF0Y2hlcy5zbGljZSgpLCBsb29wTmR4Q250ID0gbG9vcE5keC5sZW5ndGgsIGFsdEluZGV4ID0gbmR4SW5pdGlhbGl6ZXIubGVuZ3RoID4gMCA/IG5keEluaXRpYWxpemVyLnNoaWZ0KCkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgPT09IGFsdEluZGV4IHx8IFwic3RyaW5nXCIgPT0gdHlwZW9mIGFsdEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbW5keCwgY3VycmVudFBvcyA9IHRlc3RQb3MsIG5keEluaXRpYWxpemVyQ2xvbmUgPSBuZHhJbml0aWFsaXplci5zbGljZSgpLCBhbHRJbmRleEFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgYWx0SW5kZXgpIGFsdEluZGV4QXJyID0gYWx0SW5kZXguc3BsaXQoXCIsXCIpOyBlbHNlIGZvciAoYW1uZHggPSAwOyBhbW5keCA8IGFsdGVybmF0ZVRva2VuLm1hdGNoZXMubGVuZ3RoOyBhbW5keCsrKSBhbHRJbmRleEFyci5wdXNoKGFtbmR4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbmR4ID0gMDsgbmR4IDwgYWx0SW5kZXhBcnIubGVuZ3RoOyBuZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtbmR4ID0gcGFyc2VJbnQoYWx0SW5kZXhBcnJbbmR4XSksIG1hdGNoZXMgPSBbXSwgbmR4SW5pdGlhbGl6ZXIgPSByZXNvbHZlTmR4SW5pdGlhbGl6ZXIodGVzdFBvcywgYW1uZHgsIGxvb3BOZHhDbnQpIHx8IG5keEluaXRpYWxpemVyQ2xvbmUuc2xpY2UoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhMCAhPT0gKG1hdGNoID0gaGFuZGxlTWF0Y2goYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbW5keF0gfHwgbWFza1Rva2VuLm1hdGNoZXNbYW1uZHhdLCBbIGFtbmR4IF0uY29uY2F0KGxvb3BOZHgpLCBxdWFudGlmaWVyUmVjdXJzZSkgfHwgbWF0Y2gpICYmIG1hdGNoICE9PSB1bmRlZmluZWQgJiYgYWx0SW5kZXhBcnJbYWx0SW5kZXhBcnIubGVuZ3RoIC0gMV0gPCBhbHRlcm5hdGVUb2tlbi5tYXRjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudG5keCA9ICQuaW5BcnJheShtYXRjaCwgbWFza1Rva2VuLm1hdGNoZXMpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW4ubWF0Y2hlcy5sZW5ndGggPiBudG5keCAmJiAobWF0Y2ggPSBoYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1tudG5keF0sIFsgbnRuZHggXS5jb25jYXQobG9vcE5keC5zbGljZSgxLCBsb29wTmR4Lmxlbmd0aCkpLCBxdWFudGlmaWVyUmVjdXJzZSkpICYmIChhbHRJbmRleEFyci5wdXNoKG50bmR4LnRvU3RyaW5nKCkpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gobWF0Y2hlcywgZnVuY3Rpb24obmR4LCBsbW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQuYWx0ZXJuYXRpb24gPSBsb29wTmR4Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFsdE1hdGNoZXMgPSBtYXRjaGVzLnNsaWNlKCksIHRlc3RQb3MgPSBjdXJyZW50UG9zLCBtYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuZHgxID0gMDsgbmR4MSA8IG1hbHRNYXRjaGVzLmxlbmd0aDsgbmR4MSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdE1hdGNoID0gbWFsdE1hdGNoZXNbbmR4MV0sIGRyb3BNYXRjaCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdE1hdGNoLmFsdGVybmF0aW9uID0gYWx0TWF0Y2guYWx0ZXJuYXRpb24gfHwgbG9vcE5keENudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuZHgyID0gMDsgbmR4MiA8IG1hbHRlcm5hdGVNYXRjaGVzLmxlbmd0aDsgbmR4MisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbHRNYXRjaDIgPSBtYWx0ZXJuYXRlTWF0Y2hlc1tuZHgyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIGFsdEluZGV4IHx8IC0xICE9PSAkLmluQXJyYXkoYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKSwgYWx0SW5kZXhBcnIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb24oc291cmNlLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlLm1hdGNoLm5hdGl2ZURlZiA9PT0gdGFyZ2V0Lm1hdGNoLm5hdGl2ZURlZiB8fCBzb3VyY2UubWF0Y2guZGVmID09PSB0YXJnZXQubWF0Y2gubmF0aXZlRGVmIHx8IHNvdXJjZS5tYXRjaC5uYXRpdmVEZWYgPT09IHRhcmdldC5tYXRjaC5kZWY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KGFsdE1hdGNoLCBhbHRNYXRjaDIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcE1hdGNoID0gITAsIGFsdE1hdGNoLmFsdGVybmF0aW9uID09PSBhbHRNYXRjaDIuYWx0ZXJuYXRpb24gJiYgLTEgPT09IGFsdE1hdGNoMi5sb2NhdG9yW2FsdE1hdGNoMi5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5pbmRleE9mKGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dKSAmJiAoYWx0TWF0Y2gyLmxvY2F0b3JbYWx0TWF0Y2gyLmFsdGVybmF0aW9uXSA9IGFsdE1hdGNoMi5sb2NhdG9yW2FsdE1hdGNoMi5hbHRlcm5hdGlvbl0gKyBcIixcIiArIGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRNYXRjaDIuYWx0ZXJuYXRpb24gPSBhbHRNYXRjaC5hbHRlcm5hdGlvbiksIGFsdE1hdGNoLm1hdGNoLm5hdGl2ZURlZiA9PT0gYWx0TWF0Y2gyLm1hdGNoLmRlZiAmJiAoYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0gPSBhbHRNYXRjaDIubG9jYXRvclthbHRNYXRjaDIuYWx0ZXJuYXRpb25dLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWx0ZXJuYXRlTWF0Y2hlcy5zcGxpY2UobWFsdGVybmF0ZU1hdGNoZXMuaW5kZXhPZihhbHRNYXRjaDIpLCAxLCBhbHRNYXRjaCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsdE1hdGNoLm1hdGNoLmRlZiA9PT0gYWx0TWF0Y2gyLm1hdGNoLmRlZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BNYXRjaCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uKHNvdXJjZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgPT09IHNvdXJjZS5tYXRjaC5mbiAmJiBudWxsICE9PSB0YXJnZXQubWF0Y2guZm4gJiYgdGFyZ2V0Lm1hdGNoLmZuLnRlc3Qoc291cmNlLm1hdGNoLmRlZiwgZ2V0TWFza1NldCgpLCBwb3MsICExLCBvcHRzLCAhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KGFsdE1hdGNoLCBhbHRNYXRjaDIpIHx8IGZ1bmN0aW9uKHNvdXJjZSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgIT09IHNvdXJjZS5tYXRjaC5mbiAmJiBudWxsICE9PSB0YXJnZXQubWF0Y2guZm4gJiYgdGFyZ2V0Lm1hdGNoLmZuLnRlc3Qoc291cmNlLm1hdGNoLmRlZi5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlwiKSwgZ2V0TWFza1NldCgpLCBwb3MsICExLCBvcHRzLCAhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KGFsdE1hdGNoLCBhbHRNYXRjaDIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0TWF0Y2guYWx0ZXJuYXRpb24gPT09IGFsdE1hdGNoMi5hbHRlcm5hdGlvbiAmJiAtMSA9PT0gYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5pbmRleE9mKGFsdE1hdGNoMi5sb2NhdG9yW2FsdE1hdGNoMi5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIlwiKVswXSkgJiYgKGFsdE1hdGNoLm5hID0gYWx0TWF0Y2gubmEgfHwgYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTEgPT09IGFsdE1hdGNoLm5hLmluZGV4T2YoYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIlwiKVswXSkgJiYgKGFsdE1hdGNoLm5hID0gYWx0TWF0Y2gubmEgKyBcIixcIiArIGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2gyLmFsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiXCIpWzBdKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcE1hdGNoID0gITAsIGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dID0gYWx0TWF0Y2gyLmxvY2F0b3JbYWx0TWF0Y2gyLmFsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiXCIpWzBdICsgXCIsXCIgKyBhbHRNYXRjaC5sb2NhdG9yW2FsdE1hdGNoLmFsdGVybmF0aW9uXSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFsdGVybmF0ZU1hdGNoZXMuc3BsaWNlKG1hbHRlcm5hdGVNYXRjaGVzLmluZGV4T2YoYWx0TWF0Y2gyKSwgMCwgYWx0TWF0Y2gpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wTWF0Y2ggfHwgbWFsdGVybmF0ZU1hdGNoZXMucHVzaChhbHRNYXRjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgYWx0SW5kZXggJiYgKG1hbHRlcm5hdGVNYXRjaGVzID0gJC5tYXAobWFsdGVybmF0ZU1hdGNoZXMsIGZ1bmN0aW9uKGxtbnQsIG5keCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmluaXRlKG5keCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0ZXJuYXRpb24gPSBsbW50LmFsdGVybmF0aW9uLCBhbHRMb2NBcnIgPSBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gPSB1bmRlZmluZWQsIGxtbnQuYWx0ZXJuYXRpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYWxuZHggPSAwOyBhbG5keCA8IGFsdExvY0Fyci5sZW5ndGg7IGFsbmR4KyspIC0xICE9PSAkLmluQXJyYXkoYWx0TG9jQXJyW2FsbmR4XSwgYWx0SW5kZXhBcnIpICYmIChsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dICE9PSB1bmRlZmluZWQgPyAobG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSArPSBcIixcIiwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSArPSBhbHRMb2NBcnJbYWxuZHhdKSA6IGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gPSBwYXJzZUludChhbHRMb2NBcnJbYWxuZHhdKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG1udC5hbHRlcm5hdGlvbiA9IGFsdGVybmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gbG1udDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLCBtYXRjaGVzID0gY3VycmVudE1hdGNoZXMuY29uY2F0KG1hbHRlcm5hdGVNYXRjaGVzKSwgdGVzdFBvcyA9IHBvcywgaW5zZXJ0U3RvcCA9IG1hdGNoZXMubGVuZ3RoID4gMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gbWFsdGVybmF0ZU1hdGNoZXMubGVuZ3RoID4gMCwgbmR4SW5pdGlhbGl6ZXIgPSBuZHhJbml0aWFsaXplckNsb25lLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG1hdGNoID0gaGFuZGxlTWF0Y2goYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbHRJbmRleF0gfHwgbWFza1Rva2VuLm1hdGNoZXNbYWx0SW5kZXhdLCBbIGFsdEluZGV4IF0uY29uY2F0KGxvb3BOZHgpLCBxdWFudGlmaWVyUmVjdXJzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoLmlzUXVhbnRpZmllciAmJiBxdWFudGlmaWVyUmVjdXJzZSAhPT0gbWFza1Rva2VuLm1hdGNoZXNbJC5pbkFycmF5KG1hdGNoLCBtYXNrVG9rZW4ubWF0Y2hlcykgLSAxXSkgZm9yICh2YXIgcXQgPSBtYXRjaCwgcW5keCA9IG5keEluaXRpYWxpemVyLmxlbmd0aCA+IDAgPyBuZHhJbml0aWFsaXplci5zaGlmdCgpIDogMDsgcW5keCA8IChpc05hTihxdC5xdWFudGlmaWVyLm1heCkgPyBxbmR4ICsgMSA6IHF0LnF1YW50aWZpZXIubWF4KSAmJiB0ZXN0UG9zIDw9IHBvczsgcW5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuR3JvdXAgPSBtYXNrVG9rZW4ubWF0Y2hlc1skLmluQXJyYXkocXQsIG1hc2tUb2tlbi5tYXRjaGVzKSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9IGhhbmRsZU1hdGNoKHRva2VuR3JvdXAsIFsgcW5keCBdLmNvbmNhdChsb29wTmR4KSwgdG9rZW5Hcm91cCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdE1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLm1hdGNoLCBsYXRlc3RNYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgPSBxbmR4ID4gcXQucXVhbnRpZmllci5taW4gLSAxLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdE1hdGNoKGxhdGVzdE1hdGNoLCB0b2tlbkdyb3VwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHFuZHggPiBxdC5xdWFudGlmaWVyLm1pbiAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRTdG9wID0gITAsIHRlc3RQb3MgPSBwb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2ggPSByZXNvbHZlVGVzdEZyb21Ub2tlbihtYXRjaCwgbmR4SW5pdGlhbGl6ZXIsIGxvb3BOZHgsIHF1YW50aWZpZXJSZWN1cnNlKSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgdGVzdFBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0bmR4ID0gbmR4SW5pdGlhbGl6ZXIubGVuZ3RoID4gMCA/IG5keEluaXRpYWxpemVyLnNoaWZ0KCkgOiAwOyB0bmR4IDwgbWFza1Rva2VuLm1hdGNoZXMubGVuZ3RoOyB0bmR4KyspIGlmICghMCAhPT0gbWFza1Rva2VuLm1hdGNoZXNbdG5keF0uaXNRdWFudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IGhhbmRsZU1hdGNoKG1hc2tUb2tlbi5tYXRjaGVzW3RuZHhdLCBbIHRuZHggXS5jb25jYXQobG9vcE5keCksIHF1YW50aWZpZXJSZWN1cnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIHRlc3RQb3MgPT09IHBvcykgcmV0dXJuIG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVzdFBvcyA+IHBvcykgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZmlsdGVyVGVzdHModGVzdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5rZWVwU3RhdGljICYmIHBvcyA+IDAgJiYgdGVzdHMubGVuZ3RoID4gMSArIChcIlwiID09PSB0ZXN0c1t0ZXN0cy5sZW5ndGggLSAxXS5tYXRjaC5kZWYgPyAxIDogMCkgJiYgITAgIT09IHRlc3RzWzBdLm1hdGNoLm9wdGlvbmFsaXR5ICYmICEwICE9PSB0ZXN0c1swXS5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgJiYgbnVsbCA9PT0gdGVzdHNbMF0ubWF0Y2guZm4gJiYgIS9bMC05YS1iQS1aXS8udGVzdCh0ZXN0c1swXS5tYXRjaC5kZWYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zIC0gMV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuIFsgZGV0ZXJtaW5lVGVzdFRlbXBsYXRlKHRlc3RzKSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BvcyAtIDFdLmFsdGVybmF0aW9uID09PSB0ZXN0c1swXS5hbHRlcm5hdGlvbikgcmV0dXJuIFsgZGV0ZXJtaW5lVGVzdFRlbXBsYXRlKHRlc3RzKSBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BvcyAtIDFdKSByZXR1cm4gWyBkZXRlcm1pbmVUZXN0VGVtcGxhdGUodGVzdHMpIF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0cztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBsYXRlc3RNYXRjaCwgbWFza1Rva2VucyA9IGdldE1hc2tTZXQoKS5tYXNrVG9rZW4sIHRlc3RQb3MgPSBuZHhJbnRsenIgPyB0c3RQcyA6IDAsIG5keEluaXRpYWxpemVyID0gbmR4SW50bHpyID8gbmR4SW50bHpyLnNsaWNlKCkgOiBbIDAgXSwgbWF0Y2hlcyA9IFtdLCBpbnNlcnRTdG9wID0gITEsIGNhY2hlRGVwZW5kZW5jeSA9IG5keEludGx6ciA/IG5keEludGx6ci5qb2luKFwiXCIpIDogXCJcIjtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZHhJbnRsenIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0ZXN0LCBwcmV2aW91c1BvcyA9IHBvcyAtIDE7ICh0ZXN0ID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3ByZXZpb3VzUG9zXSB8fCBnZXRNYXNrU2V0KCkudGVzdHNbcHJldmlvdXNQb3NdKSA9PT0gdW5kZWZpbmVkICYmIHByZXZpb3VzUG9zID4gLTE7ICkgcHJldmlvdXNQb3MtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCAhPT0gdW5kZWZpbmVkICYmIHByZXZpb3VzUG9zID4gLTEgJiYgKG5keEluaXRpYWxpemVyID0gZnVuY3Rpb24odGVzdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdG9yID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC5pc0FycmF5KHRlc3RzKSB8fCAodGVzdHMgPSBbIHRlc3RzIF0pLCB0ZXN0cy5sZW5ndGggPiAwICYmICh0ZXN0c1swXS5hbHRlcm5hdGlvbiA9PT0gdW5kZWZpbmVkID8gMCA9PT0gKGxvY2F0b3IgPSBkZXRlcm1pbmVUZXN0VGVtcGxhdGUodGVzdHMuc2xpY2UoKSkubG9jYXRvci5zbGljZSgpKS5sZW5ndGggJiYgKGxvY2F0b3IgPSB0ZXN0c1swXS5sb2NhdG9yLnNsaWNlKCkpIDogJC5lYWNoKHRlc3RzLCBmdW5jdGlvbihuZHgsIHRzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIlwiICE9PSB0c3QuZGVmKSBpZiAoMCA9PT0gbG9jYXRvci5sZW5ndGgpIGxvY2F0b3IgPSB0c3QubG9jYXRvci5zbGljZSgpOyBlbHNlIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYXRvci5sZW5ndGg7IGkrKykgdHN0LmxvY2F0b3JbaV0gJiYgLTEgPT09IGxvY2F0b3JbaV0udG9TdHJpbmcoKS5pbmRleE9mKHRzdC5sb2NhdG9yW2ldKSAmJiAobG9jYXRvcltpXSArPSBcIixcIiArIHRzdC5sb2NhdG9yW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgbG9jYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSh0ZXN0KSwgY2FjaGVEZXBlbmRlbmN5ID0gbmR4SW5pdGlhbGl6ZXIuam9pbihcIlwiKSwgdGVzdFBvcyA9IHByZXZpb3VzUG9zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE1hc2tTZXQoKS50ZXN0c1twb3NdICYmIGdldE1hc2tTZXQoKS50ZXN0c1twb3NdWzBdLmNkID09PSBjYWNoZURlcGVuZGVuY3kpIHJldHVybiBmaWx0ZXJUZXN0cyhnZXRNYXNrU2V0KCkudGVzdHNbcG9zXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbXRuZHggPSBuZHhJbml0aWFsaXplci5zaGlmdCgpOyBtdG5keCA8IG1hc2tUb2tlbnMubGVuZ3RoICYmICEocmVzb2x2ZVRlc3RGcm9tVG9rZW4obWFza1Rva2Vuc1ttdG5keF0sIG5keEluaXRpYWxpemVyLCBbIG10bmR4IF0pICYmIHRlc3RQb3MgPT09IHBvcyB8fCB0ZXN0UG9zID4gcG9zKTsgbXRuZHgrKykgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgwID09PSBtYXRjaGVzLmxlbmd0aCB8fCBpbnNlcnRTdG9wKSAmJiBtYXRjaGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxpdHk6ICEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0b3I6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNkOiBjYWNoZURlcGVuZGVuY3lcclxuICAgICAgICAgICAgICAgIH0pLCBuZHhJbnRsenIgIT09IHVuZGVmaW5lZCAmJiBnZXRNYXNrU2V0KCkudGVzdHNbcG9zXSA/IGZpbHRlclRlc3RzKCQuZXh0ZW5kKCEwLCBbXSwgbWF0Y2hlcykpIDogKGdldE1hc2tTZXQoKS50ZXN0c1twb3NdID0gJC5leHRlbmQoITAsIFtdLCBtYXRjaGVzKSwgXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJUZXN0cyhnZXRNYXNrU2V0KCkudGVzdHNbcG9zXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEJ1ZmZlclRlbXBsYXRlKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hc2tTZXQoKS5fYnVmZmVyID09PSB1bmRlZmluZWQgJiYgKGdldE1hc2tTZXQoKS5fYnVmZmVyID0gZ2V0TWFza1RlbXBsYXRlKCExLCAxKSwgXHJcbiAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkuYnVmZmVyID09PSB1bmRlZmluZWQgJiYgKGdldE1hc2tTZXQoKS5idWZmZXIgPSBnZXRNYXNrU2V0KCkuX2J1ZmZlci5zbGljZSgpKSksIFxyXG4gICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLl9idWZmZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QnVmZmVyKG5vQ2FjaGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRNYXNrU2V0KCkuYnVmZmVyICE9PSB1bmRlZmluZWQgJiYgITAgIT09IG5vQ2FjaGUgfHwgKGdldE1hc2tTZXQoKS5idWZmZXIgPSBnZXRNYXNrVGVtcGxhdGUoITAsIGdldExhc3RWYWxpZFBvc2l0aW9uKCksICEwKSksIFxyXG4gICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLmJ1ZmZlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZWZyZXNoRnJvbUJ1ZmZlcihzdGFydCwgZW5kLCBidWZmZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpLCBwO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEwID09PSBzdGFydCkgcmVzZXRNYXNrU2V0KCksIHN0YXJ0ID0gMCwgZW5kID0gYnVmZmVyLmxlbmd0aDsgZWxzZSBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yIChwID0gc3RhcnQsIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSBpZiAocmVzZXRNYXNrU2V0KCEwKSwgYnVmZmVyW2ldICE9PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsUmVzdWx0ID0gaXNWYWxpZChwLCBidWZmZXJbaV0sICEwLCAhMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgITEgIT09IHZhbFJlc3VsdCAmJiAocmVzZXRNYXNrU2V0KCEwKSwgcCA9IHZhbFJlc3VsdC5jYXJldCAhPT0gdW5kZWZpbmVkID8gdmFsUmVzdWx0LmNhcmV0IDogdmFsUmVzdWx0LnBvcyArIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhc2luZyhlbGVtLCB0ZXN0LCBwb3MpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAob3B0cy5jYXNpbmcgfHwgdGVzdC5jYXNpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgY2FzZSBcInVwcGVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0udG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJsb3dlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwidGl0bGVcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zQmVmb3JlID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BvcyAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0gPSAwID09PSBwb3MgfHwgcG9zQmVmb3JlICYmIHBvc0JlZm9yZS5pbnB1dCA9PT0gU3RyaW5nLmZyb21DaGFyQ29kZShJbnB1dG1hc2sua2V5Q29kZS5TUEFDRSkgPyBlbGVtLnRvVXBwZXJDYXNlKCkgOiBlbGVtLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5jYXNpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyksIGVsZW0gPSBvcHRzLmNhc2luZy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja0FsdGVybmF0aW9uTWF0Y2goYWx0QXJyMSwgYWx0QXJyMiwgbmEpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIG5hTmR4LCBhbHRBcnJDID0gb3B0cy5ncmVlZHkgPyBhbHRBcnIyIDogYWx0QXJyMi5zbGljZSgwLCAxKSwgaXNNYXRjaCA9ICExLCBuYUFyciA9IG5hICE9PSB1bmRlZmluZWQgPyBuYS5zcGxpdChcIixcIikgOiBbXSwgaSA9IDA7IGkgPCBuYUFyci5sZW5ndGg7IGkrKykgLTEgIT09IChuYU5keCA9IGFsdEFycjEuaW5kZXhPZihuYUFycltpXSkpICYmIGFsdEFycjEuc3BsaWNlKG5hTmR4LCAxKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGFsbmR4ID0gMDsgYWxuZHggPCBhbHRBcnIxLmxlbmd0aDsgYWxuZHgrKykgaWYgKC0xICE9PSAkLmluQXJyYXkoYWx0QXJyMVthbG5keF0sIGFsdEFyckMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXRjaCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTWF0Y2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gaXNWYWxpZChwb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkLCBmcm9tQWx0ZXJuYXRlLCB2YWxpZGF0ZU9ubHkpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlzU2VsZWN0aW9uKHBvc09iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBpc1JUTCA/IHBvc09iai5iZWdpbiAtIHBvc09iai5lbmQgPiAxIHx8IHBvc09iai5iZWdpbiAtIHBvc09iai5lbmQgPT0gMSA6IHBvc09iai5lbmQgLSBwb3NPYmouYmVnaW4gPiAxIHx8IHBvc09iai5lbmQgLSBwb3NPYmouYmVnaW4gPT0gMTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9uICYmIDAgPT09IHBvc09iai5iZWdpbiAmJiBwb3NPYmouZW5kID09PSBnZXRNYXNrU2V0KCkubWFza0xlbmd0aCA/IFwiZnVsbFwiIDogc2VsZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gX2lzVmFsaWQocG9zaXRpb24sIGMsIHN0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByc2x0ID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQuZWFjaChnZXRUZXN0cyhwb3NpdGlvbiksIGZ1bmN0aW9uKG5keCwgdHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHRlc3QgPSB0c3QubWF0Y2gsIGxvb3BlbmQgPSBjID8gMSA6IDAsIGNocnMgPSBcIlwiLCBpID0gdGVzdC5jYXJkaW5hbGl0eTsgaSA+IGxvb3BlbmQ7IGktLSkgY2hycyArPSBnZXRCdWZmZXJFbGVtZW50KHBvc2l0aW9uIC0gKGkgLSAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjICYmIChjaHJzICs9IGMpLCBnZXRCdWZmZXIoITApLCAhMSAhPT0gKHJzbHQgPSBudWxsICE9IHRlc3QuZm4gPyB0ZXN0LmZuLnRlc3QoY2hycywgZ2V0TWFza1NldCgpLCBwb3NpdGlvbiwgc3RyaWN0LCBvcHRzLCBpc1NlbGVjdGlvbihwb3MpKSA6IChjID09PSB0ZXN0LmRlZiB8fCBjID09PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIpICYmIFwiXCIgIT09IHRlc3QuZGVmICYmIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IGdldFBsYWNlaG9sZGVyKHBvc2l0aW9uLCB0ZXN0LCAhMCkgfHwgdGVzdC5kZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IHJzbHQuYyAhPT0gdW5kZWZpbmVkID8gcnNsdC5jIDogYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtID09PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgJiYgbnVsbCA9PT0gdGVzdC5mbiA/IGdldFBsYWNlaG9sZGVyKHBvc2l0aW9uLCB0ZXN0LCAhMCkgfHwgdGVzdC5kZWYgOiBlbGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRlZFBvcyA9IHBvc2l0aW9uLCBwb3NzaWJsZU1vZGlmaWVkQnVmZmVyID0gZ2V0QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnNsdC5yZW1vdmUgIT09IHVuZGVmaW5lZCAmJiAoJC5pc0FycmF5KHJzbHQucmVtb3ZlKSB8fCAocnNsdC5yZW1vdmUgPSBbIHJzbHQucmVtb3ZlIF0pLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyc2x0LnJlbW92ZS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiAtIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgZnVuY3Rpb24obmR4LCBsbW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBWYWxpZFBvc2l0aW9ucyhsbW50LCBsbW50ICsgMSwgITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLCByc2x0Lmluc2VydCAhPT0gdW5kZWZpbmVkICYmICgkLmlzQXJyYXkocnNsdC5pbnNlcnQpIHx8IChyc2x0Lmluc2VydCA9IFsgcnNsdC5pbnNlcnQgXSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJzbHQuaW5zZXJ0LnNvcnQoZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbihuZHgsIGxtbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkKGxtbnQucG9zLCBsbW50LmMsICEwLCBmcm9tU2V0VmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLCByc2x0LnJlZnJlc2hGcm9tQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSByc2x0LnJlZnJlc2hGcm9tQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWZyZXNoRnJvbUJ1ZmZlcighMCA9PT0gcmVmcmVzaCA/IHJlZnJlc2ggOiByZWZyZXNoLnN0YXJ0LCByZWZyZXNoLmVuZCwgcG9zc2libGVNb2RpZmllZEJ1ZmZlciksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzbHQucG9zID09PSB1bmRlZmluZWQgJiYgcnNsdC5jID09PSB1bmRlZmluZWQpIHJldHVybiByc2x0LnBvcyA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsaWRhdGVkUG9zID0gcnNsdC5wb3MgIT09IHVuZGVmaW5lZCA/IHJzbHQucG9zIDogcG9zaXRpb24pICE9PSBwb3NpdGlvbikgcmV0dXJuIHJzbHQgPSAkLmV4dGVuZChyc2x0LCBpc1ZhbGlkKHZhbGlkYXRlZFBvcywgZWxlbSwgITAsIGZyb21TZXRWYWxpZCkpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoITAgIT09IHJzbHQgJiYgcnNsdC5wb3MgIT09IHVuZGVmaW5lZCAmJiByc2x0LnBvcyAhPT0gcG9zaXRpb24gJiYgKHZhbGlkYXRlZFBvcyA9IHJzbHQucG9zLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyKHBvc2l0aW9uLCB2YWxpZGF0ZWRQb3MsIGdldEJ1ZmZlcigpLnNsaWNlKCkpLCB2YWxpZGF0ZWRQb3MgIT09IHBvc2l0aW9uKSkgcmV0dXJuIHJzbHQgPSAkLmV4dGVuZChyc2x0LCBpc1ZhbGlkKHZhbGlkYXRlZFBvcywgZWxlbSwgITApKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoITAgPT09IHJzbHQgfHwgcnNsdC5wb3MgIT09IHVuZGVmaW5lZCB8fCByc2x0LmMgIT09IHVuZGVmaW5lZCkgJiYgKG5keCA+IDAgJiYgcmVzZXRNYXNrU2V0KCEwKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWxpZFBvc2l0aW9uKHZhbGlkYXRlZFBvcywgJC5leHRlbmQoe30sIHRzdCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBjYXNpbmcoZWxlbSwgdGVzdCwgdmFsaWRhdGVkUG9zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIGZyb21TZXRWYWxpZCwgaXNTZWxlY3Rpb24ocG9zKSkgfHwgKHJzbHQgPSAhMSksICExKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLCByc2x0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0VmFsaWRQb3NpdGlvbihwb3MsIHZhbGlkVGVzdCwgZnJvbVNldFZhbGlkLCBpc1NlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGlvbiB8fCBvcHRzLmluc2VydE1vZGUgJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gIT09IHVuZGVmaW5lZCAmJiBmcm9tU2V0VmFsaWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSwgcG9zaXRpb25zQ2xvbmUgPSAkLmV4dGVuZCghMCwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyksIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKHVuZGVmaW5lZCwgITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBwb3M7IGkgPD0gbHZwOyBpKyspIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdID0gJC5leHRlbmQoITAsIHt9LCB2YWxpZFRlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaiwgdmFsaWQgPSAhMCwgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zLCBuZWVkc1ZhbGlkYXRpb24gPSAhMSwgaW5pdGlhbExlbmd0aCA9IGdldE1hc2tTZXQoKS5tYXNrTGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBqID0gcG9zOyBpIDw9IGx2cDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHBvc2l0aW9uc0Nsb25lW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgIT09IHVuZGVmaW5lZCkgZm9yICh2YXIgcG9zTWF0Y2ggPSBqOyBwb3NNYXRjaCA8IGdldE1hc2tTZXQoKS5tYXNrTGVuZ3RoICYmIChudWxsID09PSB0Lm1hdGNoLmZuICYmIHZwc1tpXSAmJiAoITAgPT09IHZwc1tpXS5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgfHwgITAgPT09IHZwc1tpXS5tYXRjaC5vcHRpb25hbGl0eSkgfHwgbnVsbCAhPSB0Lm1hdGNoLmZuKTsgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc01hdGNoKyssICExID09PSBuZWVkc1ZhbGlkYXRpb24gJiYgcG9zaXRpb25zQ2xvbmVbcG9zTWF0Y2hdICYmIHBvc2l0aW9uc0Nsb25lW3Bvc01hdGNoXS5tYXRjaC5kZWYgPT09IHQubWF0Y2guZGVmKSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zTWF0Y2hdID0gJC5leHRlbmQoITAsIHt9LCBwb3NpdGlvbnNDbG9uZVtwb3NNYXRjaF0pLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zTWF0Y2hdLmlucHV0ID0gdC5pbnB1dCwgZmlsbE1pc3NpbmdOb25NYXNrKHBvc01hdGNoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IHBvc01hdGNoLCB2YWxpZCA9ICEwOyBlbHNlIGlmIChwb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbihwb3NNYXRjaCwgdC5tYXRjaC5kZWYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpc1ZhbGlkKHBvc01hdGNoLCB0LmlucHV0LCAhMCwgITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9ICExICE9PSByZXN1bHQsIGogPSByZXN1bHQuY2FyZXQgfHwgcmVzdWx0Lmluc2VydCA/IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgOiBwb3NNYXRjaCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRzVmFsaWRhdGlvbiA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoISh2YWxpZCA9ICEwID09PSB0LmdlbmVyYXRlZElucHV0KSAmJiBwb3NNYXRjaCA+PSBnZXRNYXNrU2V0KCkubWFza0xlbmd0aCAtIDEpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXNrU2V0KCkubWFza0xlbmd0aCA8IGluaXRpYWxMZW5ndGggJiYgKGdldE1hc2tTZXQoKS5tYXNrTGVuZ3RoID0gaW5pdGlhbExlbmd0aCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHJldHVybiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSAkLmV4dGVuZCghMCwge30sIHBvc2l0aW9uc0Nsb25lKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCghMCksICExO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSA9ICQuZXh0ZW5kKCEwLCB7fSwgdmFsaWRUZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzZXRNYXNrU2V0KCEwKSwgITA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBmaWxsTWlzc2luZ05vbk1hc2sobWFza1Bvcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBuZHggPSBtYXNrUG9zIC0gMTsgcG5keCA+IC0xICYmICFnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG5keF07IHBuZHgtLSkgO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0VGVtcGxhdGUsIHRlc3RzRnJvbVBvcztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHBuZHgrKzsgcG5keCA8IG1hc2tQb3M7IHBuZHgrKykgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BuZHhdID09PSB1bmRlZmluZWQgJiYgKCExID09PSBvcHRzLmppdE1hc2tpbmcgfHwgb3B0cy5qaXRNYXNraW5nID4gcG5keCkgJiYgKFwiXCIgPT09ICh0ZXN0c0Zyb21Qb3MgPSBnZXRUZXN0cyhwbmR4LCBnZXRUZXN0VGVtcGxhdGUocG5keCAtIDEpLmxvY2F0b3IsIHBuZHggLSAxKS5zbGljZSgpKVt0ZXN0c0Zyb21Qb3MubGVuZ3RoIC0gMV0ubWF0Y2guZGVmICYmIHRlc3RzRnJvbVBvcy5wb3AoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgKHRlc3RUZW1wbGF0ZSA9IGRldGVybWluZVRlc3RUZW1wbGF0ZSh0ZXN0c0Zyb21Qb3MpKSAmJiAodGVzdFRlbXBsYXRlLm1hdGNoLmRlZiA9PT0gb3B0cy5yYWRpeFBvaW50RGVmaW5pdGlvblN5bWJvbCB8fCAhaXNNYXNrKHBuZHgsICEwKSB8fCAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBnZXRCdWZmZXIoKSkgPCBwbmR4ICYmIHRlc3RUZW1wbGF0ZS5tYXRjaC5mbiAmJiB0ZXN0VGVtcGxhdGUubWF0Y2guZm4udGVzdChnZXRQbGFjZWhvbGRlcihwbmR4KSwgZ2V0TWFza1NldCgpLCBwbmR4LCAhMSwgb3B0cykpICYmICExICE9PSAocmVzdWx0ID0gX2lzVmFsaWQocG5keCwgZ2V0UGxhY2Vob2xkZXIocG5keCwgdGVzdFRlbXBsYXRlLm1hdGNoLCAhMCkgfHwgKG51bGwgPT0gdGVzdFRlbXBsYXRlLm1hdGNoLmZuID8gdGVzdFRlbXBsYXRlLm1hdGNoLmRlZiA6IFwiXCIgIT09IGdldFBsYWNlaG9sZGVyKHBuZHgpID8gZ2V0UGxhY2Vob2xkZXIocG5keCkgOiBnZXRCdWZmZXIoKVtwbmR4XSksICEwKSkgJiYgKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zIHx8IHBuZHhdLmdlbmVyYXRlZElucHV0ID0gITApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0cmljdCA9ICEwID09PSBzdHJpY3Q7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza1BvcyA9IHBvcztcclxuICAgICAgICAgICAgICAgIHBvcy5iZWdpbiAhPT0gdW5kZWZpbmVkICYmIChtYXNrUG9zID0gaXNSVEwgJiYgIWlzU2VsZWN0aW9uKHBvcykgPyBwb3MuZW5kIDogcG9zLmJlZ2luKTtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAhMCwgcG9zaXRpb25zQ2xvbmUgPSAkLmV4dGVuZCghMCwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdHMucHJlVmFsaWRhdGlvbikgJiYgIXN0cmljdCAmJiAhMCAhPT0gZnJvbVNldFZhbGlkICYmICEwICE9PSB2YWxpZGF0ZU9ubHkgJiYgKHJlc3VsdCA9IG9wdHMucHJlVmFsaWRhdGlvbihnZXRCdWZmZXIoKSwgbWFza1BvcywgYywgaXNTZWxlY3Rpb24ocG9zKSwgb3B0cykpLCBcclxuICAgICAgICAgICAgICAgICEwID09PSByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsbE1pc3NpbmdOb25NYXNrKG1hc2tQb3MpLCBpc1NlbGVjdGlvbihwb3MpICYmIChoYW5kbGVSZW1vdmUodW5kZWZpbmVkLCBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUsIHBvcywgITAsICEwKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbWFza1BvcyA9IGdldE1hc2tTZXQoKS5wKSwgbWFza1BvcyA8IGdldE1hc2tTZXQoKS5tYXNrTGVuZ3RoICYmIChtYXhMZW5ndGggPT09IHVuZGVmaW5lZCB8fCBtYXNrUG9zIDwgbWF4TGVuZ3RoKSAmJiAocmVzdWx0ID0gX2lzVmFsaWQobWFza1BvcywgYywgc3RyaWN0KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgKCFzdHJpY3QgfHwgITAgPT09IGZyb21TZXRWYWxpZCkgJiYgITEgPT09IHJlc3VsdCAmJiAhMCAhPT0gdmFsaWRhdGVPbmx5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBvc1ZhbGlkID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW21hc2tQb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRQb3NWYWxpZCB8fCBudWxsICE9PSBjdXJyZW50UG9zVmFsaWQubWF0Y2guZm4gfHwgY3VycmVudFBvc1ZhbGlkLm1hdGNoLmRlZiAhPT0gYyAmJiBjICE9PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgob3B0cy5pbnNlcnRNb2RlIHx8IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tzZWVrTmV4dChtYXNrUG9zKV0gPT09IHVuZGVmaW5lZCkgJiYgIWlzTWFzayhtYXNrUG9zLCAhMCkpIGZvciAodmFyIG5Qb3MgPSBtYXNrUG9zICsgMSwgc25Qb3MgPSBzZWVrTmV4dChtYXNrUG9zKTsgblBvcyA8PSBzblBvczsgblBvcysrKSBpZiAoITEgIT09IChyZXN1bHQgPSBfaXNWYWxpZChuUG9zLCBjLCBzdHJpY3QpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFmdW5jdGlvbihvcmlnaW5hbFBvcywgbmV3UG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2cCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tuZXdQb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodnApIGZvciAodmFyIHRhcmdldExvY2F0b3IgPSB2cC5sb2NhdG9yLCB0bGwgPSB0YXJnZXRMb2NhdG9yLmxlbmd0aCwgcHMgPSBvcmlnaW5hbFBvczsgcHMgPCBuZXdQb3M7IHBzKyspIGlmIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcHNdID09PSB1bmRlZmluZWQgJiYgIWlzTWFzayhwcywgITApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdHMgPSBnZXRUZXN0cyhwcykuc2xpY2UoKSwgYmVzdE1hdGNoID0gZGV0ZXJtaW5lVGVzdFRlbXBsYXRlKHRlc3RzLCAhMCksIGVxdWFsaXR5ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiID09PSB0ZXN0c1t0ZXN0cy5sZW5ndGggLSAxXS5tYXRjaC5kZWYgJiYgdGVzdHMucG9wKCksICQuZWFjaCh0ZXN0cywgZnVuY3Rpb24obmR4LCB0c3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRsbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0c3QubG9jYXRvcltpXSA9PT0gdW5kZWZpbmVkIHx8ICFjaGVja0FsdGVybmF0aW9uTWF0Y2godHN0LmxvY2F0b3JbaV0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksIHRhcmdldExvY2F0b3JbaV0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksIHRzdC5uYSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRBSSA9IHRhcmdldExvY2F0b3JbaV0sIGJlc3RNYXRjaEFJID0gYmVzdE1hdGNoLmxvY2F0b3JbaV0sIHRzdEFJID0gdHN0LmxvY2F0b3JbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRBSSAtIGJlc3RNYXRjaEFJID4gTWF0aC5hYnModGFyZ2V0QUkgLSB0c3RBSSkgJiYgKGJlc3RNYXRjaCA9IHRzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVhbGl0eSA8IGkgJiYgKGVxdWFsaXR5ID0gaSwgYmVzdE1hdGNoID0gdHN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgKGJlc3RNYXRjaCA9ICQuZXh0ZW5kKHt9LCBiZXN0TWF0Y2gsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZ2V0UGxhY2Vob2xkZXIocHMsIGJlc3RNYXRjaC5tYXRjaCwgITApIHx8IGJlc3RNYXRjaC5tYXRjaC5kZWZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS5nZW5lcmF0ZWRJbnB1dCA9ICEwLCBzZXRWYWxpZFBvc2l0aW9uKHBzLCBiZXN0TWF0Y2gsICEwKSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW25ld1Bvc10gPSB1bmRlZmluZWQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lzVmFsaWQobmV3UG9zLCB2cC5pbnB1dCwgITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfShtYXNrUG9zLCByZXN1bHQucG9zICE9PSB1bmRlZmluZWQgPyByZXN1bHQucG9zIDogblBvcyksIG1hc2tQb3MgPSBuUG9zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHNlZWtOZXh0KG1hc2tQb3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICExID09PSByZXN1bHQgJiYgb3B0cy5rZWVwU3RhdGljICYmICFzdHJpY3QgJiYgITAgIT09IGZyb21BbHRlcm5hdGUgJiYgKHJlc3VsdCA9IGZ1bmN0aW9uKHBvcywgYywgc3RyaWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0QWx0LCBhbHRlcm5hdGlvbiwgYWx0UG9zLCBwcmV2QWx0UG9zLCBpLCB2YWxpZFBvcywgYWx0TmR4cywgZGVjaXNpb25Qb3MsIHZhbGlkUHNDbG9uZSA9ICQuZXh0ZW5kKCEwLCB7fSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKSwgaXNWYWxpZFJzbHQgPSAhMSwgbEFsdFBvcyA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocHJldkFsdFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsQWx0UG9zXTsgbEFsdFBvcyA+PSAwOyBsQWx0UG9zLS0pIGlmICgoYWx0UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xBbHRQb3NdKSAmJiBhbHRQb3MuYWx0ZXJuYXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RBbHQgPSBsQWx0UG9zLCBhbHRlcm5hdGlvbiA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsYXN0QWx0XS5hbHRlcm5hdGlvbiwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2QWx0UG9zLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSAhPT0gYWx0UG9zLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2QWx0UG9zID0gYWx0UG9zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbHRlcm5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpc2lvblBvcyA9IHBhcnNlSW50KGxhc3RBbHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY2lzaW9uVGFrZXIgPSBwcmV2QWx0UG9zLmxvY2F0b3JbcHJldkFsdFBvcy5hbHRlcm5hdGlvbiB8fCBhbHRlcm5hdGlvbl0gIT09IHVuZGVmaW5lZCA/IHByZXZBbHRQb3MubG9jYXRvcltwcmV2QWx0UG9zLmFsdGVybmF0aW9uIHx8IGFsdGVybmF0aW9uXSA6IGFsdE5keHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpc2lvblRha2VyLmxlbmd0aCA+IDAgJiYgKGRlY2lzaW9uVGFrZXIgPSBkZWNpc2lvblRha2VyLnNwbGl0KFwiLFwiKVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2liaWxpdHlQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZGVjaXNpb25Qb3NdLCBwcmV2UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2RlY2lzaW9uUG9zIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZ2V0VGVzdHMoZGVjaXNpb25Qb3MsIHByZXZQb3MgPyBwcmV2UG9zLmxvY2F0b3IgOiB1bmRlZmluZWQsIGRlY2lzaW9uUG9zIC0gMSksIGZ1bmN0aW9uKG5keCwgdGVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdE5keHMgPSB0ZXN0LmxvY2F0b3JbYWx0ZXJuYXRpb25dID8gdGVzdC5sb2NhdG9yW2FsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1uZHggPSAwOyBtbmR4IDwgYWx0TmR4cy5sZW5ndGg7IG1uZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRJbnB1dHMgPSBbXSwgc3RhdGljSW5wdXRzQmVmb3JlUG9zID0gMCwgc3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlID0gMCwgdmVyaWZ5VmFsaWRJbnB1dCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjaXNpb25UYWtlciA8IGFsdE5keHNbbW5keF0gJiYgKHRlc3QubmEgPT09IHVuZGVmaW5lZCB8fCAtMSA9PT0gJC5pbkFycmF5KGFsdE5keHNbbW5keF0sIHRlc3QubmEuc3BsaXQoXCIsXCIpKSB8fCAtMSA9PT0gJC5pbkFycmF5KGRlY2lzaW9uVGFrZXIudG9TdHJpbmcoKSwgYWx0TmR4cykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZGVjaXNpb25Qb3NdID0gJC5leHRlbmQoITAsIHt9LCB0ZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NzaWJpbGl0aWVzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2RlY2lzaW9uUG9zXS5sb2NhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZGVjaXNpb25Qb3NdLmxvY2F0b3JbYWx0ZXJuYXRpb25dID0gcGFyc2VJbnQoYWx0TmR4c1ttbmR4XSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSB0ZXN0Lm1hdGNoLmZuID8gKHBvc3NpYmlsaXR5UG9zLmlucHV0ICE9PSB0ZXN0Lm1hdGNoLmRlZiAmJiAodmVyaWZ5VmFsaWRJbnB1dCA9ICEwLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEwICE9PSBwb3NzaWJpbGl0eVBvcy5nZW5lcmF0ZWRJbnB1dCAmJiB2YWxpZElucHV0cy5wdXNoKHBvc3NpYmlsaXR5UG9zLmlucHV0KSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlKyssIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tkZWNpc2lvblBvc10uZ2VuZXJhdGVkSW5wdXQgPSAhL1swLTlhLWJBLVpdLy50ZXN0KHRlc3QubWF0Y2guZGVmKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZGVjaXNpb25Qb3NdLmlucHV0ID0gdGVzdC5tYXRjaC5kZWYpIDogZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2RlY2lzaW9uUG9zXS5pbnB1dCA9IHBvc3NpYmlsaXR5UG9zLmlucHV0LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBkZWNpc2lvblBvcyArIDE7IGkgPCBnZXRMYXN0VmFsaWRQb3NpdGlvbih1bmRlZmluZWQsICEwKSArIDE7IGkrKykgKHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldKSAmJiAhMCAhPT0gdmFsaWRQb3MuZ2VuZXJhdGVkSW5wdXQgJiYgL1swLTlhLWJBLVpdLy50ZXN0KHZhbGlkUG9zLmlucHV0KSA/IHZhbGlkSW5wdXRzLnB1c2godmFsaWRQb3MuaW5wdXQpIDogaSA8IHBvcyAmJiBzdGF0aWNJbnB1dHNCZWZvcmVQb3MrKywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2ZXJpZnlWYWxpZElucHV0ICYmIHZhbGlkSW5wdXRzWzBdID09PSB0ZXN0Lm1hdGNoLmRlZiAmJiB2YWxpZElucHV0cy5zaGlmdCgpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCghMCksIGlzVmFsaWRSc2x0ID0gITA7IHZhbGlkSW5wdXRzLmxlbmd0aCA+IDA7ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHZhbGlkSW5wdXRzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ICE9PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgJiYgIShpc1ZhbGlkUnNsdCA9IGlzVmFsaWQoZ2V0TGFzdFZhbGlkUG9zaXRpb24odW5kZWZpbmVkLCAhMCkgKyAxLCBpbnB1dCwgITEsIGZyb21TZXRWYWxpZCwgITApKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZFJzbHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZGVjaXNpb25Qb3NdLmxvY2F0b3IgPSBwb3NzaWJpbGl0aWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRMdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbihwb3MpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBkZWNpc2lvblBvcyArIDE7IGkgPCBnZXRMYXN0VmFsaWRQb3NpdGlvbigpICsgMTsgaSsrKSAoKHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldKSA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPT0gdmFsaWRQb3MubWF0Y2guZm4pICYmIGkgPCBwb3MgKyAoc3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlIC0gc3RhdGljSW5wdXRzQmVmb3JlUG9zKSAmJiBzdGF0aWNJbnB1dHNCZWZvcmVQb3NBbHRlcm5hdGUrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkUnNsdCA9IGlzVmFsaWQoKHBvcyArPSBzdGF0aWNJbnB1dHNCZWZvcmVQb3NBbHRlcm5hdGUgLSBzdGF0aWNJbnB1dHNCZWZvcmVQb3MpID4gdGFyZ2V0THZwID8gdGFyZ2V0THZwIDogcG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCwgITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRSc2x0KSByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoKSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zID0gJC5leHRlbmQoITAsIHt9LCB2YWxpZFBzQ2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRSc2x0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0obWFza1BvcywgYywgc3RyaWN0KSksICEwID09PSByZXN1bHQgJiYgKHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXNrUG9zXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdHMucG9zdFZhbGlkYXRpb24pICYmICExICE9PSByZXN1bHQgJiYgIXN0cmljdCAmJiAhMCAhPT0gZnJvbVNldFZhbGlkICYmICEwICE9PSB2YWxpZGF0ZU9ubHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zdFJlc3VsdCA9IG9wdHMucG9zdFZhbGlkYXRpb24oZ2V0QnVmZmVyKCEwKSwgcmVzdWx0LCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zdFJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlciAmJiBwb3N0UmVzdWx0LmJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmcmVzaCA9IHBvc3RSZXN1bHQucmVmcmVzaEZyb21CdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyKCEwID09PSByZWZyZXNoID8gcmVmcmVzaCA6IHJlZnJlc2guc3RhcnQsIHJlZnJlc2guZW5kLCBwb3N0UmVzdWx0LmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICEwID09PSBwb3N0UmVzdWx0ID8gcmVzdWx0IDogcG9zdFJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgJiYgcmVzdWx0LnBvcyA9PT0gdW5kZWZpbmVkICYmIChyZXN1bHQucG9zID0gbWFza1BvcyksICExICE9PSByZXN1bHQgJiYgITAgIT09IHZhbGlkYXRlT25seSB8fCAocmVzZXRNYXNrU2V0KCEwKSwgXHJcbiAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSAkLmV4dGVuZCghMCwge30sIHBvc2l0aW9uc0Nsb25lKSksIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpc01hc2socG9zLCBzdHJpY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gZ2V0VGVzdFRlbXBsYXRlKHBvcykubWF0Y2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJcIiA9PT0gdGVzdC5kZWYgJiYgKHRlc3QgPSBnZXRUZXN0KHBvcykubWF0Y2gpLCBudWxsICE9IHRlc3QuZm4pIHJldHVybiB0ZXN0LmZuO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEwICE9PSBzdHJpY3QgJiYgcG9zID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdHMgPSBnZXRUZXN0cyhwb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0cy5sZW5ndGggPiAxICsgKFwiXCIgPT09IHRlc3RzW3Rlc3RzLmxlbmd0aCAtIDFdLm1hdGNoLmRlZiA/IDEgOiAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZWVrTmV4dChwb3MsIG5ld0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza0wgPSBnZXRNYXNrU2V0KCkubWFza0xlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MgPj0gbWFza0wpIHJldHVybiBtYXNrTDtcclxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHBvcztcclxuICAgICAgICAgICAgICAgIGZvciAoZ2V0VGVzdHMobWFza0wgKyAxKS5sZW5ndGggPiAxICYmIChnZXRNYXNrVGVtcGxhdGUoITAsIG1hc2tMICsgMSwgITApLCBtYXNrTCA9IGdldE1hc2tTZXQoKS5tYXNrTGVuZ3RoKTsgKytwb3NpdGlvbiA8IG1hc2tMICYmICghMCA9PT0gbmV3QmxvY2sgJiYgKCEwICE9PSBnZXRUZXN0KHBvc2l0aW9uKS5tYXRjaC5uZXdCbG9ja01hcmtlciB8fCAhaXNNYXNrKHBvc2l0aW9uKSkgfHwgITAgIT09IG5ld0Jsb2NrICYmICFpc01hc2socG9zaXRpb24pKTsgKSA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2Vla1ByZXZpb3VzKHBvcywgbmV3QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0cywgcG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gMCkgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKDstLXBvc2l0aW9uID4gMCAmJiAoITAgPT09IG5ld0Jsb2NrICYmICEwICE9PSBnZXRUZXN0KHBvc2l0aW9uKS5tYXRjaC5uZXdCbG9ja01hcmtlciB8fCAhMCAhPT0gbmV3QmxvY2sgJiYgIWlzTWFzayhwb3NpdGlvbikgJiYgKCh0ZXN0cyA9IGdldFRlc3RzKHBvc2l0aW9uKSkubGVuZ3RoIDwgMiB8fCAyID09PSB0ZXN0cy5sZW5ndGggJiYgXCJcIiA9PT0gdGVzdHNbMV0ubWF0Y2guZGVmKSk7ICkgO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEJ1ZmZlckVsZW1lbnQocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dID09PSB1bmRlZmluZWQgPyBnZXRQbGFjZWhvbGRlcihwb3NpdGlvbikgOiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dLmlucHV0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIsIGNhcmV0UG9zLCBldmVudCwgdHJpZ2dlcklucHV0RXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCAmJiAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvcHRzLm9uQmVmb3JlV3JpdGUuY2FsbChpbnB1dG1hc2ssIGV2ZW50LCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVmcmVzaEZyb21CdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWZyZXNoID0gcmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXIoITAgPT09IHJlZnJlc2ggPyByZWZyZXNoIDogcmVmcmVzaC5zdGFydCwgcmVmcmVzaC5lbmQsIHJlc3VsdC5idWZmZXIgfHwgYnVmZmVyKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBnZXRCdWZmZXIoITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0UG9zICE9PSB1bmRlZmluZWQgJiYgKGNhcmV0UG9zID0gcmVzdWx0LmNhcmV0ICE9PSB1bmRlZmluZWQgPyByZXN1bHQuY2FyZXQgOiBjYXJldFBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5wdXQgIT09IHVuZGVmaW5lZCAmJiAoaW5wdXQuaW5wdXRtYXNrLl92YWx1ZVNldChidWZmZXIuam9pbihcIlwiKSksIGNhcmV0UG9zID09PSB1bmRlZmluZWQgfHwgZXZlbnQgIT09IHVuZGVmaW5lZCAmJiBcImJsdXJcIiA9PT0gZXZlbnQudHlwZSA/IHJlbmRlckNvbG9yTWFzayhpbnB1dCwgY2FyZXRQb3MsIDAgPT09IGJ1ZmZlci5sZW5ndGgpIDogYW5kcm9pZCAmJiBldmVudCAmJiBcImlucHV0XCIgPT09IGV2ZW50LnR5cGUgPyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCBjYXJldFBvcyk7XHJcbiAgICAgICAgICAgICAgICB9LCAwKSA6IGNhcmV0KGlucHV0LCBjYXJldFBvcyksICEwID09PSB0cmlnZ2VySW5wdXRFdmVudCAmJiAoc2tpcElucHV0RXZlbnQgPSAhMCwgXHJcbiAgICAgICAgICAgICAgICAkKGlucHV0KS50cmlnZ2VyKFwiaW5wdXRcIikpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRQbGFjZWhvbGRlcihwb3MsIHRlc3QsIHJldHVyblBMKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHRlc3QgPSB0ZXN0IHx8IGdldFRlc3QocG9zKS5tYXRjaCkucGxhY2Vob2xkZXIgIT09IHVuZGVmaW5lZCB8fCAhMCA9PT0gcmV0dXJuUEwpIHJldHVybiAkLmlzRnVuY3Rpb24odGVzdC5wbGFjZWhvbGRlcikgPyB0ZXN0LnBsYWNlaG9sZGVyKG9wdHMpIDogdGVzdC5wbGFjZWhvbGRlcjtcclxuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSB0ZXN0LmZuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IC0xICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZUZXN0LCB0ZXN0cyA9IGdldFRlc3RzKHBvcyksIHN0YXRpY0FsdGVybmF0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVzdHMubGVuZ3RoID4gMSArIChcIlwiID09PSB0ZXN0c1t0ZXN0cy5sZW5ndGggLSAxXS5tYXRjaC5kZWYgPyAxIDogMCkpIGZvciAodmFyIGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIGlmICghMCAhPT0gdGVzdHNbaV0ubWF0Y2gub3B0aW9uYWxpdHkgJiYgITAgIT09IHRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciAmJiAobnVsbCA9PT0gdGVzdHNbaV0ubWF0Y2guZm4gfHwgcHJldlRlc3QgPT09IHVuZGVmaW5lZCB8fCAhMSAhPT0gdGVzdHNbaV0ubWF0Y2guZm4udGVzdChwcmV2VGVzdC5tYXRjaC5kZWYsIGdldE1hc2tTZXQoKSwgcG9zLCAhMCwgb3B0cykpICYmIChzdGF0aWNBbHRlcm5hdGlvbnMucHVzaCh0ZXN0c1tpXSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsID09PSB0ZXN0c1tpXS5tYXRjaC5mbiAmJiAocHJldlRlc3QgPSB0ZXN0c1tpXSksIHN0YXRpY0FsdGVybmF0aW9ucy5sZW5ndGggPiAxICYmIC9bMC05YS1iQS1aXS8udGVzdChzdGF0aWNBbHRlcm5hdGlvbnNbMF0ubWF0Y2guZGVmKSkpIHJldHVybiBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdChwb3MgJSBvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0LmRlZjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdChwb3MgJSBvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tWYWwoaW5wdXQsIHdyaXRlT3V0LCBzdHJpY3QsIG5wdHZsLCBpbml0aWF0aW5nRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlzVGVtcGxhdGVNYXRjaChuZHgsIGNoYXJDb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMSAhPT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZShuZHgsIHNlZWtOZXh0KG5keCkpLmpvaW4oXCJcIikuaW5kZXhPZihjaGFyQ29kZXMpICYmICFpc01hc2sobmR4KSAmJiBnZXRUZXN0KG5keCkubWF0Y2gubmF0aXZlRGVmID09PSBjaGFyQ29kZXMuY2hhckF0KGNoYXJDb2Rlcy5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gbnB0dmwuc2xpY2UoKSwgY2hhckNvZGVzID0gXCJcIiwgaW5pdGlhbE5keCA9IC0xLCByZXN1bHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzZXRNYXNrU2V0KCksIHN0cmljdCB8fCAhMCA9PT0gb3B0cy5hdXRvVW5tYXNrKSBpbml0aWFsTmR4ID0gc2Vla05leHQoaW5pdGlhbE5keCk7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0aWNJbnB1dCA9IGdldEJ1ZmZlclRlbXBsYXRlKCkuc2xpY2UoMCwgc2Vla05leHQoLTEpKS5qb2luKFwiXCIpLCBtYXRjaGVzID0gaW5wdXRWYWx1ZS5qb2luKFwiXCIpLm1hdGNoKG5ldyBSZWdFeHAoXCJeXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgoc3RhdGljSW5wdXQpLCBcImdcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAwICYmIChpbnB1dFZhbHVlLnNwbGljZSgwLCBtYXRjaGVzLmxlbmd0aCAqIHN0YXRpY0lucHV0Lmxlbmd0aCksIFxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxOZHggPSBzZWVrTmV4dChpbml0aWFsTmR4KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoLTEgPT09IGluaXRpYWxOZHggPyAoZ2V0TWFza1NldCgpLnAgPSBzZWVrTmV4dChpbml0aWFsTmR4KSwgaW5pdGlhbE5keCA9IDApIDogZ2V0TWFza1NldCgpLnAgPSBpbml0aWFsTmR4LCBcclxuICAgICAgICAgICAgICAgICQuZWFjaChpbnB1dFZhbHVlLCBmdW5jdGlvbihuZHgsIGNoYXJDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlICE9PSB1bmRlZmluZWQpIGlmIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbmR4XSA9PT0gdW5kZWZpbmVkICYmIGlucHV0VmFsdWVbbmR4XSA9PT0gZ2V0UGxhY2Vob2xkZXIobmR4KSAmJiBpc01hc2sobmR4LCAhMCkgJiYgITEgPT09IGlzVmFsaWQobmR4LCBpbnB1dFZhbHVlW25keF0sICEwLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgITApKSBnZXRNYXNrU2V0KCkucCsrOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXByZXNzID0gbmV3ICQuRXZlbnQoXCJfY2hlY2t2YWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXByZXNzLndoaWNoID0gY2hhckNvZGUuY2hhckNvZGVBdCgwKSwgY2hhckNvZGVzICs9IGNoYXJDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24odW5kZWZpbmVkLCAhMCksIGx2VGVzdCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdLCBuZXh0VGVzdCA9IGdldFRlc3RUZW1wbGF0ZShsdnAgKyAxLCBsdlRlc3QgPyBsdlRlc3QubG9jYXRvci5zbGljZSgpIDogdW5kZWZpbmVkLCBsdnApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVGVtcGxhdGVNYXRjaChpbml0aWFsTmR4LCBjaGFyQ29kZXMpIHx8IHN0cmljdCB8fCBvcHRzLmF1dG9Vbm1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBzdHJpY3QgPyBuZHggOiBudWxsID09IG5leHRUZXN0Lm1hdGNoLmZuICYmIG5leHRUZXN0Lm1hdGNoLm9wdGlvbmFsaXR5ICYmIGx2cCArIDEgPCBnZXRNYXNrU2V0KCkucCA/IGx2cCArIDEgOiBnZXRNYXNrU2V0KCkucDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LCBrZXlwcmVzcywgITAsICExLCBzdHJpY3QsIHBvcyksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbE5keCA9IHBvcyArIDEsIGNoYXJDb2RlcyA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXN1bHQgPSBFdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsICEwLCAhMSwgITAsIGx2cCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoITEgIT09IHJlc3VsdCAmJiAhc3RyaWN0ICYmICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlV3JpdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ1Jlc3VsdCA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPSBvcHRzLm9uQmVmb3JlV3JpdGUuY2FsbChpbnB1dG1hc2ssIGtleXByZXNzLCBnZXRCdWZmZXIoKSwgcmVzdWx0LmZvcndhcmRQb3NpdGlvbiwgb3B0cyksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3VsdCA9ICQuZXh0ZW5kKG9yaWdSZXN1bHQsIHJlc3VsdCkpICYmIHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWZyZXNoID0gcmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyKCEwID09PSByZWZyZXNoID8gcmVmcmVzaCA6IHJlZnJlc2guc3RhcnQsIHJlZnJlc2guZW5kLCByZXN1bHQuYnVmZmVyKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCEwKSwgcmVzdWx0LmNhcmV0ICYmIChnZXRNYXNrU2V0KCkucCA9IHJlc3VsdC5jYXJldCwgcmVzdWx0LmZvcndhcmRQb3NpdGlvbiA9IHJlc3VsdC5jYXJldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSwgd3JpdGVPdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gaW5wdXQgJiYgcmVzdWx0ICYmIChjYXJldFBvcyA9IG9wdHMubnVtZXJpY0lucHV0ID8gc2Vla1ByZXZpb3VzKHJlc3VsdC5mb3J3YXJkUG9zaXRpb24pIDogcmVzdWx0LmZvcndhcmRQb3NpdGlvbiksIFxyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgY2FyZXRQb3MsIGluaXRpYXRpbmdFdmVudCB8fCBuZXcgJC5FdmVudChcImNoZWNrdmFsXCIpLCBpbml0aWF0aW5nRXZlbnQgJiYgXCJpbnB1dFwiID09PSBpbml0aWF0aW5nRXZlbnQudHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gdW5tYXNrZWR2YWx1ZShpbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmlucHV0bWFzayA9PT0gdW5kZWZpbmVkKSByZXR1cm4gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuaW5wdXRtYXNrICYmIGlucHV0LmlucHV0bWFzay5yZWZyZXNoVmFsdWUgJiYgRXZlbnRIYW5kbGVycy5zZXRWYWx1ZUV2ZW50LmNhbGwoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHVtVmFsdWUgPSBbXSwgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcG5keCBpbiB2cHMpIHZwc1twbmR4XS5tYXRjaCAmJiBudWxsICE9IHZwc1twbmR4XS5tYXRjaC5mbiAmJiB1bVZhbHVlLnB1c2godnBzW3BuZHhdLmlucHV0KTtcclxuICAgICAgICAgICAgICAgIHZhciB1bm1hc2tlZFZhbHVlID0gMCA9PT0gdW1WYWx1ZS5sZW5ndGggPyBcIlwiIDogKGlzUlRMID8gdW1WYWx1ZS5yZXZlcnNlKCkgOiB1bVZhbHVlKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvcHRzLm9uVW5NYXNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJWYWx1ZSA9IChpc1JUTCA/IGdldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpIDogZ2V0QnVmZmVyKCkpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tYXNrZWRWYWx1ZSA9IG9wdHMub25Vbk1hc2suY2FsbChpbnB1dG1hc2ssIGJ1ZmZlclZhbHVlLCB1bm1hc2tlZFZhbHVlLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB1bm1hc2tlZFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhcmV0KGlucHV0LCBiZWdpbiwgZW5kLCBub3RyYW5zbGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdHJhbnNsYXRlUG9zaXRpb24ocG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwID09PSBub3RyYW5zbGF0ZSB8fCAhaXNSVEwgfHwgXCJudW1iZXJcIiAhPSB0eXBlb2YgcG9zIHx8IG9wdHMuZ3JlZWR5ICYmIFwiXCIgPT09IG9wdHMucGxhY2Vob2xkZXIgfHwgKHBvcyA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikubGVuZ3RoIC0gcG9zKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJlZ2luID09PSB1bmRlZmluZWQpIHJldHVybiBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSA/IChiZWdpbiA9IGlucHV0LnNlbGVjdGlvblN0YXJ0LCBcclxuICAgICAgICAgICAgICAgIGVuZCA9IGlucHV0LnNlbGVjdGlvbkVuZCkgOiB3aW5kb3cuZ2V0U2VsZWN0aW9uID8gKHJhbmdlID0gd2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkpLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLnBhcmVudE5vZGUgIT09IGlucHV0ICYmIHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyICE9PSBpbnB1dCB8fCAoYmVnaW4gPSByYW5nZS5zdGFydE9mZnNldCwgXHJcbiAgICAgICAgICAgICAgICBlbmQgPSByYW5nZS5lbmRPZmZzZXQpIDogZG9jdW1lbnQuc2VsZWN0aW9uICYmIGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAmJiAoZW5kID0gKGJlZ2luID0gMCAtIChyYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpKS5kdXBsaWNhdGUoKS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgLWlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpKSArIHJhbmdlLnRleHQubGVuZ3RoKSwgXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW46IHRyYW5zbGF0ZVBvc2l0aW9uKGJlZ2luKSxcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IHRyYW5zbGF0ZVBvc2l0aW9uKGVuZClcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoYmVnaW4uYmVnaW4gIT09IHVuZGVmaW5lZCAmJiAoZW5kID0gYmVnaW4uZW5kLCBiZWdpbiA9IGJlZ2luLmJlZ2luKSwgXCJudW1iZXJcIiA9PSB0eXBlb2YgYmVnaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBiZWdpbiA9IHRyYW5zbGF0ZVBvc2l0aW9uKGJlZ2luKSwgZW5kID0gXCJudW1iZXJcIiA9PSB0eXBlb2YgKGVuZCA9IHRyYW5zbGF0ZVBvc2l0aW9uKGVuZCkpID8gZW5kIDogYmVnaW47XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbENhbGMgPSBwYXJzZUludCgoKGlucHV0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93KS5nZXRDb21wdXRlZFN0eWxlID8gKGlucHV0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGlucHV0LCBudWxsKSA6IGlucHV0LmN1cnJlbnRTdHlsZSkuZm9udFNpemUpICogZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zY3JvbGxMZWZ0ID0gc2Nyb2xsQ2FsYyA+IGlucHV0LnNjcm9sbFdpZHRoID8gc2Nyb2xsQ2FsYyA6IDAsIG1vYmlsZSB8fCAhMSAhPT0gb3B0cy5pbnNlcnRNb2RlIHx8IGJlZ2luICE9PSBlbmQgfHwgZW5kKyssIFxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnNldFNlbGVjdGlvblJhbmdlKSBpbnB1dC5zZWxlY3Rpb25TdGFydCA9IGJlZ2luLCBpbnB1dC5zZWxlY3Rpb25FbmQgPSBlbmQ7IGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwgaW5wdXQuZmlyc3RDaGlsZCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPT09IGlucHV0LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGlucHV0LmZpcnN0Q2hpbGQsIGJlZ2luIDwgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCA/IGJlZ2luIDogaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQoaW5wdXQuZmlyc3RDaGlsZCwgZW5kIDwgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCA/IGVuZCA6IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCksIHNlbC5hZGRSYW5nZShyYW5nZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlucHV0LmNyZWF0ZVRleHRSYW5nZSAmJiAoKHJhbmdlID0gaW5wdXQuY3JlYXRlVGV4dFJhbmdlKCkpLmNvbGxhcHNlKCEwKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UubW92ZUVuZChcImNoYXJhY3RlclwiLCBlbmQpLCByYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgYmVnaW4pLCByYW5nZS5zZWxlY3QoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ29sb3JNYXNrKGlucHV0LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luOiBiZWdpbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBlbmRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbihyZXR1cm5EZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zLCB0ZXN0UG9zLCBidWZmZXIgPSBnZXRCdWZmZXIoKSwgYmwgPSBidWZmZXIubGVuZ3RoLCBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCBwb3NpdGlvbnMgPSB7fSwgbHZUZXN0ID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0sIG5keEludGx6ciA9IGx2VGVzdCAhPT0gdW5kZWZpbmVkID8gbHZUZXN0LmxvY2F0b3Iuc2xpY2UoKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGZvciAocG9zID0gbHZwICsgMTsgcG9zIDwgYnVmZmVyLmxlbmd0aDsgcG9zKyspIG5keEludGx6ciA9ICh0ZXN0UG9zID0gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCBwb3MgLSAxKSkubG9jYXRvci5zbGljZSgpLCBcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uc1twb3NdID0gJC5leHRlbmQoITAsIHt9LCB0ZXN0UG9zKTtcclxuICAgICAgICAgICAgICAgIHZhciBsdlRlc3RBbHQgPSBsdlRlc3QgJiYgbHZUZXN0LmFsdGVybmF0aW9uICE9PSB1bmRlZmluZWQgPyBsdlRlc3QubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZm9yIChwb3MgPSBibCAtIDE7IHBvcyA+IGx2cCAmJiAoKCh0ZXN0UG9zID0gcG9zaXRpb25zW3Bvc10pLm1hdGNoLm9wdGlvbmFsaXR5IHx8IHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyICYmIHRlc3RQb3MubWF0Y2gubmV3QmxvY2tNYXJrZXIgfHwgbHZUZXN0QWx0ICYmIChsdlRlc3RBbHQgIT09IHBvc2l0aW9uc1twb3NdLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSAmJiBudWxsICE9IHRlc3RQb3MubWF0Y2guZm4gfHwgbnVsbCA9PT0gdGVzdFBvcy5tYXRjaC5mbiAmJiB0ZXN0UG9zLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSAmJiBjaGVja0FsdGVybmF0aW9uTWF0Y2godGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksIGx2VGVzdEFsdC50b1N0cmluZygpLnNwbGl0KFwiLFwiKSkgJiYgXCJcIiAhPT0gZ2V0VGVzdHMocG9zKVswXS5kZWYpKSAmJiBidWZmZXJbcG9zXSA9PT0gZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0UG9zLm1hdGNoKSk7IHBvcy0tKSBibC0tO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkRlZmluaXRpb24gPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgbDogYmwsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmOiBwb3NpdGlvbnNbYmxdID8gcG9zaXRpb25zW2JsXS5tYXRjaCA6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgfSA6IGJsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdmFsaWRQb3MsIHJsID0gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24oKSwgYmwgPSBidWZmZXIubGVuZ3RoLCBsdiA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tnZXRMYXN0VmFsaWRQb3NpdGlvbigpXTsgcmwgPCBibCAmJiAhaXNNYXNrKHJsLCAhMCkgJiYgKHZhbGlkUG9zID0gbHYgIT09IHVuZGVmaW5lZCA/IGdldFRlc3RUZW1wbGF0ZShybCwgbHYubG9jYXRvci5zbGljZShcIlwiKSwgbHYpIDogZ2V0VGVzdChybCkpICYmICEwICE9PSB2YWxpZFBvcy5tYXRjaC5vcHRpb25hbGl0eSAmJiAoITAgIT09IHZhbGlkUG9zLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciAmJiAhMCAhPT0gdmFsaWRQb3MubWF0Y2gubmV3QmxvY2tNYXJrZXIgfHwgcmwgKyAxID09PSBibCAmJiBcIlwiID09PSAobHYgIT09IHVuZGVmaW5lZCA/IGdldFRlc3RUZW1wbGF0ZShybCArIDEsIGx2LmxvY2F0b3Iuc2xpY2UoXCJcIiksIGx2KSA6IGdldFRlc3QocmwgKyAxKSkubWF0Y2guZGVmKTsgKSBybCsrO1xyXG4gICAgICAgICAgICAgICAgZm9yICg7KHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3JsIC0gMV0pICYmIHZhbGlkUG9zICYmIHZhbGlkUG9zLm1hdGNoLm9wdGlvbmFsaXR5ICYmIHZhbGlkUG9zLmlucHV0ID09PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI7ICkgcmwtLTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXIuc3BsaWNlKHJsKSwgYnVmZmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGlzQ29tcGxldGUoYnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdHMuaXNDb21wbGV0ZSkpIHJldHVybiBvcHRzLmlzQ29tcGxldGUoYnVmZmVyLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgIGlmIChcIipcIiA9PT0gb3B0cy5yZXBlYXQpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGxldGUgPSAhMSwgbHJwID0gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24oITApLCBhbWwgPSBzZWVrUHJldmlvdXMobHJwLmwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxycC5kZWYgPT09IHVuZGVmaW5lZCB8fCBscnAuZGVmLm5ld0Jsb2NrTWFya2VyIHx8IGxycC5kZWYub3B0aW9uYWxpdHkgfHwgbHJwLmRlZi5vcHRpb25hbFF1YW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGFtbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gZ2V0VGVzdFRlbXBsYXRlKGkpLm1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gdGVzdC5mbiAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0gPT09IHVuZGVmaW5lZCAmJiAhMCAhPT0gdGVzdC5vcHRpb25hbGl0eSAmJiAhMCAhPT0gdGVzdC5vcHRpb25hbFF1YW50aWZpZXIgfHwgbnVsbCA9PT0gdGVzdC5mbiAmJiBidWZmZXJbaV0gIT09IGdldFBsYWNlaG9sZGVyKGksIHRlc3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGxldGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGlucHV0LCBrLCBwb3MsIHN0cmljdCwgZnJvbUlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgob3B0cy5udW1lcmljSW5wdXQgfHwgaXNSVEwpICYmIChrID09PSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UgPyBrID0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFIDogayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFICYmIChrID0gSW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFKSwgXHJcbiAgICAgICAgICAgICAgICBpc1JUTCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGVuZCA9IHBvcy5lbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zLmVuZCA9IHBvcy5iZWdpbiwgcG9zLmJlZ2luID0gcGVuZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGsgPT09IElucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSAmJiAocG9zLmVuZCAtIHBvcy5iZWdpbiA8IDEgfHwgITEgPT09IG9wdHMuaW5zZXJ0TW9kZSkgPyAocG9zLmJlZ2luID0gc2Vla1ByZXZpb3VzKHBvcy5iZWdpbiksIFxyXG4gICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvcy5iZWdpbl0gIT09IHVuZGVmaW5lZCAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXS5pbnB1dCA9PT0gb3B0cy5ncm91cFNlcGFyYXRvciAmJiBwb3MuYmVnaW4tLSkgOiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUgJiYgcG9zLmJlZ2luID09PSBwb3MuZW5kICYmIChwb3MuZW5kID0gaXNNYXNrKHBvcy5lbmQsICEwKSAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmVuZF0gJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvcy5lbmRdLmlucHV0ICE9PSBvcHRzLnJhZGl4UG9pbnQgPyBwb3MuZW5kICsgMSA6IHNlZWtOZXh0KHBvcy5lbmQpICsgMSwgXHJcbiAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXSAhPT0gdW5kZWZpbmVkICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dLmlucHV0ID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yICYmIHBvcy5lbmQrKyksIFxyXG4gICAgICAgICAgICAgICAgc3RyaXBWYWxpZFBvc2l0aW9ucyhwb3MuYmVnaW4sIHBvcy5lbmQsICExLCBzdHJpY3QpLCAhMCAhPT0gc3RyaWN0ICYmIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmtlZXBTdGF0aWMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdmFsaWRJbnB1dHMgPSBbXSwgbGFzdEFsdCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKC0xLCAhMCksIHBvc2l0aW9uc0Nsb25lID0gJC5leHRlbmQoITAsIHt9LCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpLCBwcmV2QWx0UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xhc3RBbHRdOyBsYXN0QWx0ID49IDA7IGxhc3RBbHQtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsYXN0QWx0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbHRQb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgIT09IGFsdFBvcy5nZW5lcmF0ZWRJbnB1dCAmJiAvWzAtOWEtYkEtWl0vLnRlc3QoYWx0UG9zLmlucHV0KSAmJiB2YWxpZElucHV0cy5wdXNoKGFsdFBvcy5pbnB1dCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF0sIGFsdFBvcy5hbHRlcm5hdGlvbiAhPT0gdW5kZWZpbmVkICYmIGFsdFBvcy5sb2NhdG9yW2FsdFBvcy5hbHRlcm5hdGlvbl0gIT09IHByZXZBbHRQb3MubG9jYXRvclthbHRQb3MuYWx0ZXJuYXRpb25dKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2QWx0UG9zID0gYWx0UG9zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0QWx0ID4gLTEpIGZvciAoZ2V0TWFza1NldCgpLnAgPSBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigtMSwgITApKTsgdmFsaWRJbnB1dHMubGVuZ3RoID4gMDsgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cHJlc3MgPSBuZXcgJC5FdmVudChcImtleXByZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cHJlc3Mud2hpY2ggPSB2YWxpZElucHV0cy5wb3AoKS5jaGFyQ29kZUF0KDApLCBFdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsICEwLCAhMSwgITEsIGdldE1hc2tTZXQoKS5wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9ICQuZXh0ZW5kKCEwLCB7fSwgcG9zaXRpb25zQ2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0oKTtcclxuICAgICAgICAgICAgICAgIHZhciBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbihwb3MuYmVnaW4sICEwKTtcclxuICAgICAgICAgICAgICAgIGlmIChsdnAgPCBwb3MuYmVnaW4pIGdldE1hc2tTZXQoKS5wID0gc2Vla05leHQobHZwKTsgZWxzZSBpZiAoITAgIT09IHN0cmljdCAmJiAoZ2V0TWFza1NldCgpLnAgPSBwb3MuYmVnaW4sIFxyXG4gICAgICAgICAgICAgICAgITAgIT09IGZyb21Jc1ZhbGlkKSkgZm9yICg7Z2V0TWFza1NldCgpLnAgPCBsdnAgJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2dldE1hc2tTZXQoKS5wXSA9PT0gdW5kZWZpbmVkOyApIGdldE1hc2tTZXQoKS5wKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbG9yTWFzayhpbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZmluZENhcmV0UG9zKGNsaWVudHgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MsIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzdHlsZSBpbiBjb21wdXRlZFN0eWxlKSBpc05hTihzdHlsZSkgJiYgLTEgIT09IHN0eWxlLmluZGV4T2YoXCJmb250XCIpICYmIChlLnN0eWxlW3N0eWxlXSA9IGNvbXB1dGVkU3R5bGVbc3R5bGVdKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnN0eWxlLnRleHRUcmFuc2Zvcm0gPSBjb21wdXRlZFN0eWxlLnRleHRUcmFuc2Zvcm0sIGUuc3R5bGUubGV0dGVyU3BhY2luZyA9IGNvbXB1dGVkU3R5bGUubGV0dGVyU3BhY2luZywgXHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIiwgZS5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIiwgZS5zdHlsZS53aWR0aCA9IFwiYXV0b1wiLCBcclxuICAgICAgICAgICAgICAgICAgICBlLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiLCBlLnN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGwsIGlucHV0VGV4dCA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSwgcHJldmlvdXNXaWR0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjYXJldFBvcyA9IDAsIGl0bCA9IGlucHV0VGV4dC5sZW5ndGg7IGNhcmV0UG9zIDw9IGl0bDsgY2FyZXRQb3MrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5pbm5lckhUTUwgKz0gaW5wdXRUZXh0LmNoYXJBdChjYXJldFBvcykgfHwgXCJfXCIsIGUub2Zmc2V0V2lkdGggPj0gY2xpZW50eCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldDEgPSBjbGllbnR4IC0gcHJldmlvdXNXaWR0aCwgb2Zmc2V0MiA9IGUub2Zmc2V0V2lkdGggLSBjbGllbnR4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5pbm5lckhUTUwgPSBpbnB1dFRleHQuY2hhckF0KGNhcmV0UG9zKSwgY2FyZXRQb3MgPSAob2Zmc2V0MSAtPSBlLm9mZnNldFdpZHRoIC8gMykgPCBvZmZzZXQyID8gY2FyZXRQb3MgLSAxIDogY2FyZXRQb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1dpZHRoID0gZS5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZSksIGNhcmV0UG9zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSAoaW5wdXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3cpLmdldENvbXB1dGVkU3R5bGUoaW5wdXQsIG51bGwpLCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5zdHlsZS53aWR0aCA9IGNvbXB1dGVkU3R5bGUud2lkdGgsIHRlbXBsYXRlLnN0eWxlLnRleHRBbGlnbiA9IGNvbXB1dGVkU3R5bGUudGV4dEFsaWduLCBcclxuICAgICAgICAgICAgICAgIChjb2xvck1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5jbGFzc05hbWUgPSBcImltLWNvbG9ybWFza1wiLCBpbnB1dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjb2xvck1hc2ssIGlucHV0KSwgXHJcbiAgICAgICAgICAgICAgICBpbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlucHV0KSwgY29sb3JNYXNrLmFwcGVuZENoaWxkKHRlbXBsYXRlKSwgY29sb3JNYXNrLmFwcGVuZENoaWxkKGlucHV0KSwgXHJcbiAgICAgICAgICAgICAgICBpbnB1dC5zdHlsZS5sZWZ0ID0gdGVtcGxhdGUub2Zmc2V0TGVmdCArIFwicHhcIiwgJChpbnB1dCkub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhcmV0KGlucHV0LCBmaW5kQ2FyZXRQb3MoZS5jbGllbnRYKSksIEV2ZW50SGFuZGxlcnMuY2xpY2tFdmVudC5jYWxsKGlucHV0LCBbIGUgXSk7XHJcbiAgICAgICAgICAgICAgICB9KSwgJChpbnB1dCkub24oXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnNoaWZ0S2V5IHx8ICExID09PSBvcHRzLmluc2VydE1vZGUgfHwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ29sb3JNYXNrKGlucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbmRlckNvbG9yTWFzayhpbnB1dCwgY2FyZXRQb3MsIGNsZWFyKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVTdGF0aWMoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTdGF0aWMgfHwgbnVsbCAhPT0gdGVzdC5mbiAmJiB0ZXN0UG9zLmlucHV0ICE9PSB1bmRlZmluZWQgPyBpc1N0YXRpYyAmJiAobnVsbCAhPT0gdGVzdC5mbiAmJiB0ZXN0UG9zLmlucHV0ICE9PSB1bmRlZmluZWQgfHwgXCJcIiA9PT0gdGVzdC5kZWYpICYmIChpc1N0YXRpYyA9ICExLCBcclxuICAgICAgICAgICAgICAgICAgICBtYXNrVGVtcGxhdGUgKz0gXCI8L3NwYW4+XCIpIDogKGlzU3RhdGljID0gITAsIG1hc2tUZW1wbGF0ZSArPSBcIjxzcGFuIGNsYXNzPSdpbS1zdGF0aWMnPlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUNhcmV0KGZvcmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgITAgIT09IGZvcmNlICYmIHBvcyAhPT0gY2FyZXRQb3MuYmVnaW4gfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQgfHwgKG1hc2tUZW1wbGF0ZSArPSBcIjxzcGFuIGNsYXNzPSdpbS1jYXJldCcgc3R5bGU9J2JvcmRlci1yaWdodC13aWR0aDogMXB4O2JvcmRlci1yaWdodC1zdHlsZTogc29saWQ7Jz48L3NwYW4+XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3QsIHRlc3RQb3MsIG5keEludGx6ciwgbWFza1RlbXBsYXRlID0gXCJcIiwgaXNTdGF0aWMgPSAhMSwgcG9zID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChjb2xvck1hc2sgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FyZXRQb3MgPT09IHVuZGVmaW5lZCA/IGNhcmV0UG9zID0gY2FyZXQoaW5wdXQpIDogY2FyZXRQb3MuYmVnaW4gPT09IHVuZGVmaW5lZCAmJiAoY2FyZXRQb3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luOiBjYXJldFBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBjYXJldFBvc1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLCAhMCAhPT0gY2xlYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNhcmV0KCksIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdID8gKHRlc3RQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0ID0gdGVzdFBvcy5tYXRjaCwgbmR4SW50bHpyID0gdGVzdFBvcy5sb2NhdG9yLnNsaWNlKCksIGhhbmRsZVN0YXRpYygpLCBtYXNrVGVtcGxhdGUgKz0gYnVmZmVyW3Bvc10pIDogKHRlc3RQb3MgPSBnZXRUZXN0VGVtcGxhdGUocG9zLCBuZHhJbnRsenIsIHBvcyAtIDEpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3QgPSB0ZXN0UG9zLm1hdGNoLCBuZHhJbnRsenIgPSB0ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKSwgKCExID09PSBvcHRzLmppdE1hc2tpbmcgfHwgcG9zIDwgbHZwIHx8IFwibnVtYmVyXCIgPT0gdHlwZW9mIG9wdHMuaml0TWFza2luZyAmJiBpc0Zpbml0ZShvcHRzLmppdE1hc2tpbmcpICYmIG9wdHMuaml0TWFza2luZyA+IHBvcykgJiYgKGhhbmRsZVN0YXRpYygpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUZW1wbGF0ZSArPSBnZXRQbGFjZWhvbGRlcihwb3MsIHRlc3QpKSksIHBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlICgobWF4TGVuZ3RoID09PSB1bmRlZmluZWQgfHwgcG9zIDwgbWF4TGVuZ3RoKSAmJiAobnVsbCAhPT0gdGVzdC5mbiB8fCBcIlwiICE9PSB0ZXN0LmRlZikgfHwgbHZwID4gcG9zIHx8IGlzU3RhdGljKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLTEgPT09IG1hc2tUZW1wbGF0ZS5pbmRleE9mKFwiaW0tY2FyZXRcIikgJiYgaGFuZGxlQ2FyZXQoITApLCBpc1N0YXRpYyAmJiBoYW5kbGVTdGF0aWMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gY29sb3JNYXNrLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IG1hc2tUZW1wbGF0ZSwgaW5wdXQuaW5wdXRtYXNrLnBvc2l0aW9uQ29sb3JNYXNrKGlucHV0LCB0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFza3NldCA9IG1hc2tzZXQgfHwgdGhpcy5tYXNrc2V0LCBvcHRzID0gb3B0cyB8fCB0aGlzLm9wdHM7XHJcbiAgICAgICAgICAgIHZhciB1bmRvVmFsdWUsICRlbCwgbWF4TGVuZ3RoLCBjb2xvck1hc2ssIGlucHV0bWFzayA9IHRoaXMsIGVsID0gdGhpcy5lbCwgaXNSVEwgPSB0aGlzLmlzUlRMLCBza2lwS2V5UHJlc3NFdmVudCA9ICExLCBza2lwSW5wdXRFdmVudCA9ICExLCBpZ25vcmFibGUgPSAhMSwgbW91c2VFbnRlciA9ICExLCBFdmVudFJ1bGVyID0ge1xyXG4gICAgICAgICAgICAgICAgb246IGZ1bmN0aW9uKGlucHV0LCBldmVudE5hbWUsIGV2ZW50SGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldiA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRtYXNrID09PSB1bmRlZmluZWQgJiYgXCJGT1JNXCIgIT09IHRoaXMubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbU9wdHMgPSAkLmRhdGEodGhpcywgXCJfaW5wdXRtYXNrX29wdHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbU9wdHMgPyBuZXcgSW5wdXRtYXNrKGltT3B0cykubWFzayh0aGlzKSA6IEV2ZW50UnVsZXIub2ZmKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic2V0dmFsdWVcIiA9PT0gZS50eXBlIHx8IFwiRk9STVwiID09PSB0aGlzLm5vZGVOYW1lIHx8ICEodGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRPbmx5ICYmICEoXCJrZXlkb3duXCIgPT09IGUudHlwZSAmJiBlLmN0cmxLZXkgJiYgNjcgPT09IGUua2V5Q29kZSB8fCAhMSA9PT0gb3B0cy50YWJUaHJvdWdoICYmIGUua2V5Q29kZSA9PT0gSW5wdXRtYXNrLmtleUNvZGUuVEFCKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImlucHV0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMCA9PT0gc2tpcElucHV0RXZlbnQpIHJldHVybiBza2lwSW5wdXRFdmVudCA9ICExLCBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBLZXlQcmVzc0V2ZW50ID0gITEsIHNraXBJbnB1dEV2ZW50ID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgPT09IHNraXBLZXlQcmVzc0V2ZW50KSByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwS2V5UHJlc3NFdmVudCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xpY2tcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGllbW9iaWxlIHx8IGlwaG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIYW5kbGVyLmFwcGx5KHRoYXQsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCksICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBldmVudEhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITEgPT09IHJldHVyblZhbCAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BQcm9wYWdhdGlvbigpKSwgcmV0dXJuVmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50TmFtZV0gPSBpbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50TmFtZV0gfHwgW10sIGlucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGV2KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgLTEgIT09ICQuaW5BcnJheShldmVudE5hbWUsIFsgXCJzdWJtaXRcIiwgXCJyZXNldFwiIF0pID8gbnVsbCAhPT0gaW5wdXQuZm9ybSAmJiAkKGlucHV0LmZvcm0pLm9uKGV2ZW50TmFtZSwgZXYpIDogJChpbnB1dCkub24oZXZlbnROYW1lLCBldik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb2ZmOiBmdW5jdGlvbihpbnB1dCwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRtYXNrICYmIGlucHV0LmlucHV0bWFzay5ldmVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPyAoZXZlbnRzID0gW10pW2V2ZW50XSA9IGlucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnRdIDogZXZlbnRzID0gaW5wdXQuaW5wdXRtYXNrLmV2ZW50cywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChldmVudHMsIGZ1bmN0aW9uKGV2ZW50TmFtZSwgZXZBcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoO2V2QXJyLmxlbmd0aCA+IDA7ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldiA9IGV2QXJyLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xICE9PSAkLmluQXJyYXkoZXZlbnROYW1lLCBbIFwic3VibWl0XCIsIFwicmVzZXRcIiBdKSA/IG51bGwgIT09IGlucHV0LmZvcm0gJiYgJChpbnB1dC5mb3JtKS5vZmYoZXZlbnROYW1lLCBldikgOiAkKGlucHV0KS5vZmYoZXZlbnROYW1lLCBldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaW5wdXQuaW5wdXRtYXNrLmV2ZW50c1tldmVudE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIEV2ZW50SGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBrZXlkb3duRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCAkaW5wdXQgPSAkKGlucHV0KSwgayA9IGUua2V5Q29kZSwgcG9zID0gY2FyZXQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UgfHwgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFIHx8IGlwaG9uZSAmJiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0VfU0FGQVJJIHx8IGUuY3RybEtleSAmJiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5YICYmICFmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLCBldk5hbWUgPSBcIm9uXCIgKyBldmVudE5hbWUsIGlzU3VwcG9ydGVkID0gZXZOYW1lIGluIGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNTdXBwb3J0ZWQgfHwgKGVsLnNldEF0dHJpYnV0ZShldk5hbWUsIFwicmV0dXJuO1wiKSwgaXNTdXBwb3J0ZWQgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGVsW2V2TmFtZV0pLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSBudWxsLCBpc1N1cHBvcnRlZDtcclxuICAgICAgICAgICAgICAgICAgICB9KFwiY3V0XCIpKSBlLnByZXZlbnREZWZhdWx0KCksIGhhbmRsZVJlbW92ZShpbnB1dCwgaywgcG9zKSwgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcighMCksIGdldE1hc2tTZXQoKS5wLCBlLCBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikpLCBcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSA/ICRpbnB1dC50cmlnZ2VyKFwiY2xlYXJlZFwiKSA6ICEwID09PSBpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKSAmJiAkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpOyBlbHNlIGlmIChrID09PSBJbnB1dG1hc2sua2V5Q29kZS5FTkQgfHwgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUEFHRV9ET1dOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhcmV0UG9zID0gc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuaW5zZXJ0TW9kZSB8fCBjYXJldFBvcyAhPT0gZ2V0TWFza1NldCgpLm1hc2tMZW5ndGggfHwgZS5zaGlmdEtleSB8fCBjYXJldFBvcy0tLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIGUuc2hpZnRLZXkgPyBwb3MuYmVnaW4gOiBjYXJldFBvcywgY2FyZXRQb3MsICEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuSE9NRSAmJiAhZS5zaGlmdEtleSB8fCBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5QQUdFX1VQID8gKGUucHJldmVudERlZmF1bHQoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIDAsIGUuc2hpZnRLZXkgPyBwb3MuYmVnaW4gOiAwLCAhMCkpIDogKG9wdHMudW5kb09uRXNjYXBlICYmIGsgPT09IElucHV0bWFzay5rZXlDb2RlLkVTQ0FQRSB8fCA5MCA9PT0gayAmJiBlLmN0cmxLZXkpICYmICEwICE9PSBlLmFsdEtleSA/IChjaGVja1ZhbChpbnB1dCwgITAsICExLCB1bmRvVmFsdWUuc3BsaXQoXCJcIikpLCBcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcImNsaWNrXCIpKSA6IGsgIT09IElucHV0bWFzay5rZXlDb2RlLklOU0VSVCB8fCBlLnNoaWZ0S2V5IHx8IGUuY3RybEtleSA/ICEwID09PSBvcHRzLnRhYlRocm91Z2ggJiYgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuVEFCID8gKCEwID09PSBlLnNoaWZ0S2V5ID8gKG51bGwgPT09IGdldFRlc3QocG9zLmJlZ2luKS5tYXRjaC5mbiAmJiAocG9zLmJlZ2luID0gc2Vla05leHQocG9zLmJlZ2luKSksIFxyXG4gICAgICAgICAgICAgICAgICAgIHBvcy5lbmQgPSBzZWVrUHJldmlvdXMocG9zLmJlZ2luLCAhMCksIHBvcy5iZWdpbiA9IHNlZWtQcmV2aW91cyhwb3MuZW5kLCAhMCkpIDogKHBvcy5iZWdpbiA9IHNlZWtOZXh0KHBvcy5iZWdpbiwgITApLCBcclxuICAgICAgICAgICAgICAgICAgICBwb3MuZW5kID0gc2Vla05leHQocG9zLmJlZ2luLCAhMCksIHBvcy5lbmQgPCBnZXRNYXNrU2V0KCkubWFza0xlbmd0aCAmJiBwb3MuZW5kLS0pLCBcclxuICAgICAgICAgICAgICAgICAgICBwb3MuYmVnaW4gPCBnZXRNYXNrU2V0KCkubWFza0xlbmd0aCAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCBjYXJldChpbnB1dCwgcG9zLmJlZ2luLCBwb3MuZW5kKSkpIDogZS5zaGlmdEtleSB8fCAhMSA9PT0gb3B0cy5pbnNlcnRNb2RlICYmIChrID09PSBJbnB1dG1hc2sua2V5Q29kZS5SSUdIVCA/IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXJldFBvcyA9IGNhcmV0KGlucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIGNhcmV0UG9zLmJlZ2luKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAwKSA6IGsgPT09IElucHV0bWFzay5rZXlDb2RlLkxFRlQgJiYgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhcmV0UG9zID0gY2FyZXQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgaXNSVEwgPyBjYXJldFBvcy5iZWdpbiArIDEgOiBjYXJldFBvcy5iZWdpbiAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDApKSA6IChvcHRzLmluc2VydE1vZGUgPSAhb3B0cy5pbnNlcnRNb2RlLCBjYXJldChpbnB1dCwgb3B0cy5pbnNlcnRNb2RlIHx8IHBvcy5iZWdpbiAhPT0gZ2V0TWFza1NldCgpLm1hc2tMZW5ndGggPyBwb3MuYmVnaW4gOiBwb3MuYmVnaW4gLSAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5vbktleURvd24uY2FsbCh0aGlzLCBlLCBnZXRCdWZmZXIoKSwgY2FyZXQoaW5wdXQpLmJlZ2luLCBvcHRzKSwgaWdub3JhYmxlID0gLTEgIT09ICQuaW5BcnJheShrLCBvcHRzLmlnbm9yYWJsZXMpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGtleXByZXNzRXZlbnQ6IGZ1bmN0aW9uKGUsIGNoZWNrdmFsLCB3cml0ZU91dCwgc3RyaWN0LCBuZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCAkaW5wdXQgPSAkKGlucHV0KSwgayA9IGUud2hpY2ggfHwgZS5jaGFyQ29kZSB8fCBlLmtleUNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoITAgPT09IGNoZWNrdmFsIHx8IGUuY3RybEtleSAmJiBlLmFsdEtleSkgJiYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgaWdub3JhYmxlKSkgcmV0dXJuIGsgPT09IElucHV0bWFzay5rZXlDb2RlLkVOVEVSICYmIHVuZG9WYWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSAmJiAodW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMCkpLCAhMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA0NiA9PT0gayAmJiAhMSA9PT0gZS5zaGlmdEtleSAmJiBcIlwiICE9PSBvcHRzLnJhZGl4UG9pbnQgJiYgKGsgPSBvcHRzLnJhZGl4UG9pbnQuY2hhckNvZGVBdCgwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3J3YXJkUG9zaXRpb24sIHBvcyA9IGNoZWNrdmFsID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW46IG5keCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogbmR4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBjYXJldChpbnB1dCksIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkud3JpdGVPdXRCdWZmZXIgPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbFJlc3VsdCA9IGlzVmFsaWQocG9zLCBjLCBzdHJpY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoITEgIT09IHZhbFJlc3VsdCAmJiAocmVzZXRNYXNrU2V0KCEwKSwgZm9yd2FyZFBvc2l0aW9uID0gdmFsUmVzdWx0LmNhcmV0ICE9PSB1bmRlZmluZWQgPyB2YWxSZXN1bHQuY2FyZXQgOiBjaGVja3ZhbCA/IHZhbFJlc3VsdC5wb3MgKyAxIDogc2Vla05leHQodmFsUmVzdWx0LnBvcyksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkucCA9IGZvcndhcmRQb3NpdGlvbiksICExICE9PSB3cml0ZU91dCAmJiAoc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMub25LZXlWYWxpZGF0aW9uLmNhbGwoaW5wdXQsIGssIHZhbFJlc3VsdCwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApLCBnZXRNYXNrU2V0KCkud3JpdGVPdXRCdWZmZXIgJiYgITEgIT09IHZhbFJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIsIG9wdHMubnVtZXJpY0lucHV0ICYmIHZhbFJlc3VsdC5jYXJldCA9PT0gdW5kZWZpbmVkID8gc2Vla1ByZXZpb3VzKGZvcndhcmRQb3NpdGlvbikgOiBmb3J3YXJkUG9zaXRpb24sIGUsICEwICE9PSBjaGVja3ZhbCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgITAgIT09IGNoZWNrdmFsICYmIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgITAgPT09IGlzQ29tcGxldGUoYnVmZmVyKSAmJiAkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQoKSwgY2hlY2t2YWwpIHJldHVybiAhMSAhPT0gdmFsUmVzdWx0ICYmICh2YWxSZXN1bHQuZm9yd2FyZFBvc2l0aW9uID0gZm9yd2FyZFBvc2l0aW9uKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbFJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcGFzdGVFdmVudDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wVmFsdWUsIGlucHV0ID0gdGhpcywgZXYgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZSwgJGlucHV0ID0gJChpbnB1dCksIGlucHV0VmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSwgY2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNSVEwgJiYgKHRlbXBWYWx1ZSA9IGNhcmV0UG9zLmVuZCwgY2FyZXRQb3MuZW5kID0gY2FyZXRQb3MuYmVnaW4sIGNhcmV0UG9zLmJlZ2luID0gdGVtcFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVCZWZvcmVDYXJldCA9IGlucHV0VmFsdWUuc3Vic3RyKDAsIGNhcmV0UG9zLmJlZ2luKSwgdmFsdWVBZnRlckNhcmV0ID0gaW5wdXRWYWx1ZS5zdWJzdHIoY2FyZXRQb3MuZW5kLCBpbnB1dFZhbHVlLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlQmVmb3JlQ2FyZXQgPT09IChpc1JUTCA/IGdldEJ1ZmZlclRlbXBsYXRlKCkucmV2ZXJzZSgpIDogZ2V0QnVmZmVyVGVtcGxhdGUoKSkuc2xpY2UoMCwgY2FyZXRQb3MuYmVnaW4pLmpvaW4oXCJcIikgJiYgKHZhbHVlQmVmb3JlQ2FyZXQgPSBcIlwiKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVBZnRlckNhcmV0ID09PSAoaXNSVEwgPyBnZXRCdWZmZXJUZW1wbGF0ZSgpLnJldmVyc2UoKSA6IGdldEJ1ZmZlclRlbXBsYXRlKCkpLnNsaWNlKGNhcmV0UG9zLmVuZCkuam9pbihcIlwiKSAmJiAodmFsdWVBZnRlckNhcmV0ID0gXCJcIiksIFxyXG4gICAgICAgICAgICAgICAgICAgIGlzUlRMICYmICh0ZW1wVmFsdWUgPSB2YWx1ZUJlZm9yZUNhcmV0LCB2YWx1ZUJlZm9yZUNhcmV0ID0gdmFsdWVBZnRlckNhcmV0LCB2YWx1ZUFmdGVyQ2FyZXQgPSB0ZW1wVmFsdWUpLCBcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xpcGJvYXJkRGF0YSAmJiB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKSBpbnB1dFZhbHVlID0gdmFsdWVCZWZvcmVDYXJldCArIHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpICsgdmFsdWVBZnRlckNhcmV0OyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFldi5jbGlwYm9hcmREYXRhIHx8ICFldi5jbGlwYm9hcmREYXRhLmdldERhdGEpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZSA9IHZhbHVlQmVmb3JlQ2FyZXQgKyBldi5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpICsgdmFsdWVBZnRlckNhcmV0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzdGVWYWx1ZSA9IGlucHV0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlUGFzdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMSA9PT0gKHBhc3RlVmFsdWUgPSBvcHRzLm9uQmVmb3JlUGFzdGUuY2FsbChpbnB1dG1hc2ssIGlucHV0VmFsdWUsIG9wdHMpKSkgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGVWYWx1ZSB8fCAocGFzdGVWYWx1ZSA9IGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tWYWwoaW5wdXQsICExLCAhMSwgaXNSVEwgPyBwYXN0ZVZhbHVlLnNwbGl0KFwiXCIpLnJldmVyc2UoKSA6IHBhc3RlVmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIlwiKSksIFxyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSksIGUsIHVuZG9WYWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSksIFxyXG4gICAgICAgICAgICAgICAgICAgICEwID09PSBpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKSAmJiAkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpLCBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaW5wdXRGYWxsQmFja0V2ZW50OiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgaW5wdXRWYWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0QnVmZmVyKCkuam9pbihcIlwiKSAhPT0gaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMSA9PT0gZnVuY3Rpb24oaW5wdXQsIGlucHV0VmFsdWUsIGNhcmV0UG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCIuXCIgPT09IGlucHV0VmFsdWUuY2hhckF0KGNhcmV0UG9zLmJlZ2luIC0gMSkgJiYgXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50ICYmICgoaW5wdXRWYWx1ZSA9IGlucHV0VmFsdWUuc3BsaXQoXCJcIikpW2NhcmV0UG9zLmJlZ2luIC0gMV0gPSBvcHRzLnJhZGl4UG9pbnQuY2hhckF0KDApLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUgPSBpbnB1dFZhbHVlLmpvaW4oXCJcIikpLCBpbnB1dFZhbHVlLmNoYXJBdChjYXJldFBvcy5iZWdpbiAtIDEpID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgaW5wdXRWYWx1ZS5sZW5ndGggPiBnZXRCdWZmZXIoKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cHJlc3MgPSBuZXcgJC5FdmVudChcImtleXByZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlwcmVzcy53aGljaCA9IG9wdHMucmFkaXhQb2ludC5jaGFyQ29kZUF0KDApLCBFdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsICEwLCAhMCwgITEsIGNhcmV0UG9zLmJlZ2luIC0gMSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KGlucHV0LCBpbnB1dFZhbHVlLCBjYXJldFBvcykpIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0VmFsdWUgPSBpbnB1dFZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChcIihcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikpICsgXCIpKlwiKSwgXCJcIiksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhMSA9PT0gZnVuY3Rpb24oaW5wdXQsIGlucHV0VmFsdWUsIGNhcmV0UG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWVtb2JpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXRDaGFyID0gaW5wdXRWYWx1ZS5yZXBsYWNlKGdldEJ1ZmZlcigpLmpvaW4oXCJcIiksIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgxID09PSBpbnB1dENoYXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlwcmVzcyA9IG5ldyAkLkV2ZW50KFwia2V5cHJlc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlwcmVzcy53aGljaCA9IGlucHV0Q2hhci5jaGFyQ29kZUF0KDApLCBFdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsICEwLCAhMCwgITEsIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tjYXJldFBvcy5iZWdpbiAtIDFdID8gY2FyZXRQb3MuYmVnaW4gOiBjYXJldFBvcy5iZWdpbiAtIDEpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KGlucHV0LCBpbnB1dFZhbHVlLCBjYXJldFBvcykpIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXRQb3MuYmVnaW4gPiBpbnB1dFZhbHVlLmxlbmd0aCAmJiAoY2FyZXQoaW5wdXQsIGlucHV0VmFsdWUubGVuZ3RoKSwgY2FyZXRQb3MgPSBjYXJldChpbnB1dCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSwgZnJvbnRQYXJ0ID0gaW5wdXRWYWx1ZS5zdWJzdHIoMCwgY2FyZXRQb3MuYmVnaW4pLCBiYWNrUGFydCA9IGlucHV0VmFsdWUuc3Vic3RyKGNhcmV0UG9zLmJlZ2luKSwgZnJvbnRCdWZmZXJQYXJ0ID0gYnVmZmVyLnN1YnN0cigwLCBjYXJldFBvcy5iZWdpbiksIGJhY2tCdWZmZXJQYXJ0ID0gYnVmZmVyLnN1YnN0cihjYXJldFBvcy5iZWdpbiksIHNlbGVjdGlvbiA9IGNhcmV0UG9zLCBlbnRyaWVzID0gXCJcIiwgaXNFbnRyeSA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJvbnRQYXJ0ICE9PSBmcm9udEJ1ZmZlclBhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5iZWdpbiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBmcGwgPSAoaXNFbnRyeSA9IGZyb250UGFydC5sZW5ndGggPj0gZnJvbnRCdWZmZXJQYXJ0Lmxlbmd0aCkgPyBmcm9udFBhcnQubGVuZ3RoIDogZnJvbnRCdWZmZXJQYXJ0Lmxlbmd0aCwgaSA9IDA7IGZyb250UGFydC5jaGFyQXQoaSkgPT09IGZyb250QnVmZmVyUGFydC5jaGFyQXQoaSkgJiYgaSA8IGZwbDsgaSsrKSBzZWxlY3Rpb24uYmVnaW4rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRW50cnkgJiYgKGVudHJpZXMgKz0gZnJvbnRQYXJ0LnNsaWNlKHNlbGVjdGlvbi5iZWdpbiwgc2VsZWN0aW9uLmVuZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tQYXJ0ICE9PSBiYWNrQnVmZmVyUGFydCAmJiAoYmFja1BhcnQubGVuZ3RoID4gYmFja0J1ZmZlclBhcnQubGVuZ3RoID8gaXNFbnRyeSAmJiAoc2VsZWN0aW9uLmVuZCA9IHNlbGVjdGlvbi5iZWdpbikgOiBiYWNrUGFydC5sZW5ndGggPCBiYWNrQnVmZmVyUGFydC5sZW5ndGggPyBzZWxlY3Rpb24uZW5kICs9IGJhY2tCdWZmZXJQYXJ0Lmxlbmd0aCAtIGJhY2tQYXJ0Lmxlbmd0aCA6IGJhY2tQYXJ0LmNoYXJBdCgwKSAhPT0gYmFja0J1ZmZlclBhcnQuY2hhckF0KDApICYmIHNlbGVjdGlvbi5lbmQrKyksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIHNlbGVjdGlvbiksIGVudHJpZXMubGVuZ3RoID4gMCA/ICQuZWFjaChlbnRyaWVzLnNwbGl0KFwiXCIpLCBmdW5jdGlvbihuZHgsIGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cHJlc3MgPSBuZXcgJC5FdmVudChcImtleXByZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cHJlc3Mud2hpY2ggPSBlbnRyeS5jaGFyQ29kZUF0KDApLCBpZ25vcmFibGUgPSAhMSwgRXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXQsIGtleXByZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkgOiAoc2VsZWN0aW9uLmJlZ2luID09PSBzZWxlY3Rpb24uZW5kIC0gMSAmJiBjYXJldChpbnB1dCwgc2Vla1ByZXZpb3VzKHNlbGVjdGlvbi5iZWdpbiArIDEpLCBzZWxlY3Rpb24uZW5kKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUua2V5Q29kZSA9IElucHV0bWFzay5rZXlDb2RlLkRFTEVURSwgRXZlbnRIYW5kbGVycy5rZXlkb3duRXZlbnQuY2FsbChpbnB1dCwgZSkpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZUV2ZW50OiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dG1hc2sucmVmcmVzaFZhbHVlID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgdmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKTtcclxuICAgICAgICAgICAgICAgICAgICAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spICYmICh2YWx1ZSA9IG9wdHMub25CZWZvcmVNYXNrLmNhbGwoaW5wdXRtYXNrLCB2YWx1ZSwgb3B0cykgfHwgdmFsdWUpLCBcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KFwiXCIpLCBjaGVja1ZhbChpbnB1dCwgITAsICExLCBpc1JUTCA/IHZhbHVlLnJldmVyc2UoKSA6IHZhbHVlKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSwgKG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgfHwgb3B0cy5jbGVhckluY29tcGxldGUpICYmIGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpICYmIGlucHV0LmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZm9jdXNFdmVudDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsIG5wdFZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuc2hvd01hc2tPbkZvY3VzICYmICghb3B0cy5zaG93TWFza09uSG92ZXIgfHwgb3B0cy5zaG93TWFza09uSG92ZXIgJiYgXCJcIiA9PT0gbnB0VmFsdWUpICYmIChpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgPyB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKSA6ICExID09PSBtb3VzZUVudGVyICYmIGNhcmV0KGlucHV0LCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSkpLCBcclxuICAgICAgICAgICAgICAgICAgICAhMCA9PT0gb3B0cy5wb3NpdGlvbkNhcmV0T25UYWIgJiYgITEgPT09IG1vdXNlRW50ZXIgJiYgXCJcIiAhPT0gbnB0VmFsdWUgJiYgKHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgY2FyZXQoaW5wdXQpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVycy5jbGlja0V2ZW50LmFwcGx5KGlucHV0LCBbIGUsICEwIF0pKSwgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWxlYXZlRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZUVudGVyID0gITEsIG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdldEJ1ZmZlcigpLnNsaWNlKCksIG5wdFZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBucHRWYWx1ZSAhPT0gaW5wdXQuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikgJiYgXCJcIiAhPT0gbnB0VmFsdWUgJiYgKC0xID09PSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpICYmIG5wdFZhbHVlID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgPyBidWZmZXIgPSBbXSA6IGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlciksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgYnVmZmVyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNsaWNrRXZlbnQ6IGZ1bmN0aW9uKGUsIHRhYmJlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRvUmFkaXhGb2N1cyhjbGlja1Bvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZwc1tjbGlja1Bvc10gPT09IHVuZGVmaW5lZCB8fCB2cHNbY2xpY2tQb3NdLmlucHV0ID09PSBnZXRQbGFjZWhvbGRlcihjbGlja1BvcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpY2tQb3MgPCBzZWVrTmV4dCgtMSkpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXhQb3MgPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBnZXRCdWZmZXIoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0xICE9PSByYWRpeFBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2cCBpbiB2cHMpIGlmIChyYWRpeFBvcyA8IHZwICYmIHZwc1t2cF0uaW5wdXQgIT09IGdldFBsYWNlaG9sZGVyKHZwKSkgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZENhcmV0ID0gY2FyZXQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmJlZCAmJiAoaXNSVEwgPyBzZWxlY3RlZENhcmV0LmVuZCA9IHNlbGVjdGVkQ2FyZXQuYmVnaW4gOiBzZWxlY3RlZENhcmV0LmJlZ2luID0gc2VsZWN0ZWRDYXJldC5lbmQpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2FyZXQuYmVnaW4gPT09IHNlbGVjdGVkQ2FyZXQuZW5kKSBzd2l0Y2ggKG9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyYWRpeEZvY3VzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvUmFkaXhGb2N1cyhzZWxlY3RlZENhcmV0LmJlZ2luKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXhQb3MgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIG9wdHMubnVtZXJpY0lucHV0ID8gc2Vla05leHQocmFkaXhQb3MpIDogcmFkaXhQb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGlja1Bvc2l0aW9uID0gc2VsZWN0ZWRDYXJldC5iZWdpbiwgbHZjbGlja1Bvc2l0aW9uID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oY2xpY2tQb3NpdGlvbiwgITApLCBsYXN0UG9zaXRpb24gPSBzZWVrTmV4dChsdmNsaWNrUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGlja1Bvc2l0aW9uIDwgbGFzdFBvc2l0aW9uKSBjYXJldChpbnB1dCwgaXNNYXNrKGNsaWNrUG9zaXRpb24sICEwKSB8fCBpc01hc2soY2xpY2tQb3NpdGlvbiAtIDEsICEwKSA/IGNsaWNrUG9zaXRpb24gOiBzZWVrTmV4dChjbGlja1Bvc2l0aW9uKSk7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHZwID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2Y2xpY2tQb3NpdGlvbl0sIHR0ID0gZ2V0VGVzdFRlbXBsYXRlKGxhc3RQb3NpdGlvbiwgbHZwID8gbHZwLm1hdGNoLmxvY2F0b3IgOiB1bmRlZmluZWQsIGx2cCksIHBsYWNlaG9sZGVyID0gZ2V0UGxhY2Vob2xkZXIobGFzdFBvc2l0aW9uLCB0dC5tYXRjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIlwiICE9PSBwbGFjZWhvbGRlciAmJiBnZXRCdWZmZXIoKVtsYXN0UG9zaXRpb25dICE9PSBwbGFjZWhvbGRlciAmJiAhMCAhPT0gdHQubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyICYmICEwICE9PSB0dC5tYXRjaC5uZXdCbG9ja01hcmtlciB8fCAhaXNNYXNrKGxhc3RQb3NpdGlvbiwgITApICYmIHR0Lm1hdGNoLmRlZiA9PT0gcGxhY2Vob2xkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdQb3MgPSBzZWVrTmV4dChsYXN0UG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrUG9zaXRpb24gPj0gbmV3UG9zIHx8IGNsaWNrUG9zaXRpb24gPT09IGxhc3RQb3NpdGlvbikgJiYgKGxhc3RQb3NpdGlvbiA9IG5ld1Bvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIGxhc3RQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGJsY2xpY2tFdmVudDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIDAsIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjdXRFdmVudDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsICRpbnB1dCA9ICQoaW5wdXQpLCBwb3MgPSBjYXJldChpbnB1dCksIGV2ID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUsIGNsaXBib2FyZERhdGEgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YSB8fCBldi5jbGlwYm9hcmREYXRhLCBjbGlwRGF0YSA9IGlzUlRMID8gZ2V0QnVmZmVyKCkuc2xpY2UocG9zLmVuZCwgcG9zLmJlZ2luKSA6IGdldEJ1ZmZlcigpLnNsaWNlKHBvcy5iZWdpbiwgcG9zLmVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dFwiLCBpc1JUTCA/IGNsaXBEYXRhLnJldmVyc2UoKS5qb2luKFwiXCIpIDogY2xpcERhdGEuam9pbihcIlwiKSksIFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kICYmIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKSwgaGFuZGxlUmVtb3ZlKGlucHV0LCBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUsIHBvcyksIFxyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgZ2V0TWFza1NldCgpLnAsIGUsIHVuZG9WYWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSksIFxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpICYmICRpbnB1dC50cmlnZ2VyKFwiY2xlYXJlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBibHVyRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKSwgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5pbnB1dG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5wdFZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLCBidWZmZXIgPSBnZXRCdWZmZXIoKS5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBucHRWYWx1ZSAmJiAob3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyAmJiAoLTEgPT09IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgJiYgbnB0VmFsdWUgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSA/IGJ1ZmZlciA9IFtdIDogY2xlYXJPcHRpb25hbFRhaWwoYnVmZmVyKSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhMSA9PT0gaXNDb21wbGV0ZShidWZmZXIpICYmIChzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJpbmNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKSwgb3B0cy5jbGVhckluY29tcGxldGUgJiYgKHJlc2V0TWFza1NldCgpLCBidWZmZXIgPSBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzID8gW10gOiBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKCkpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIsIHVuZGVmaW5lZCwgZSkpLCB1bmRvVmFsdWUgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgJiYgKHVuZG9WYWx1ZSA9IGJ1ZmZlci5qb2luKFwiXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZWVudGVyRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlRW50ZXIgPSAhMCwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQgJiYgb3B0cy5zaG93TWFza09uSG92ZXIgJiYgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpICYmIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VibWl0RXZlbnQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bmRvVmFsdWUgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgJiYgJGVsLnRyaWdnZXIoXCJjaGFuZ2VcIiksIG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgJiYgLTEgPT09IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgJiYgZWwuaW5wdXRtYXNrLl92YWx1ZUdldCAmJiBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSAmJiBlbC5pbnB1dG1hc2suX3ZhbHVlU2V0KFwiXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICBvcHRzLnJlbW92ZU1hc2tPblN1Ym1pdCAmJiAoZWwuaW5wdXRtYXNrLl92YWx1ZVNldChlbC5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpLCAhMCksIFxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGVsLCBnZXRCdWZmZXIoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMCkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlc2V0RXZlbnQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2sucmVmcmVzaFZhbHVlID0gITAsIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbC50cmlnZ2VyKFwic2V0dmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIElucHV0bWFzay5wcm90b3R5cGUucG9zaXRpb25Db2xvck1hc2sgPSBmdW5jdGlvbihpbnB1dCwgdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0LnN0eWxlLmxlZnQgPSB0ZW1wbGF0ZS5vZmZzZXRMZWZ0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVCdWZmZXI7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb25PYmogIT09IHVuZGVmaW5lZCkgc3dpdGNoIChhY3Rpb25PYmouYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgY2FzZSBcImlzQ29tcGxldGVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbCA9IGFjdGlvbk9iai5lbCwgaXNDb21wbGV0ZShnZXRCdWZmZXIoKSk7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJ1bm1hc2tlZHZhbHVlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwgIT09IHVuZGVmaW5lZCAmJiBhY3Rpb25PYmoudmFsdWUgPT09IHVuZGVmaW5lZCB8fCAodmFsdWVCdWZmZXIgPSBhY3Rpb25PYmoudmFsdWUsIFxyXG4gICAgICAgICAgICAgICAgdmFsdWVCdWZmZXIgPSAoJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVNYXNrKSA/IG9wdHMub25CZWZvcmVNYXNrLmNhbGwoaW5wdXRtYXNrLCB2YWx1ZUJ1ZmZlciwgb3B0cykgfHwgdmFsdWVCdWZmZXIgOiB2YWx1ZUJ1ZmZlcikuc3BsaXQoXCJcIiksIFxyXG4gICAgICAgICAgICAgICAgY2hlY2tWYWwodW5kZWZpbmVkLCAhMSwgITEsIGlzUlRMID8gdmFsdWVCdWZmZXIucmV2ZXJzZSgpIDogdmFsdWVCdWZmZXIpLCAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSAmJiBvcHRzLm9uQmVmb3JlV3JpdGUuY2FsbChpbnB1dG1hc2ssIHVuZGVmaW5lZCwgZ2V0QnVmZmVyKCksIDAsIG9wdHMpKSwgXHJcbiAgICAgICAgICAgICAgICB1bm1hc2tlZHZhbHVlKGVsKTtcclxuXHJcbiAgICAgICAgICAgICAgY2FzZSBcIm1hc2tcIjpcclxuICAgICAgICAgICAgICAgICFmdW5jdGlvbihlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRSdWxlci5vZmYoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzU3VwcG9ydGVkID0gZnVuY3Rpb24oaW5wdXQsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRUeXBlID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSwgaXNTdXBwb3J0ZWQgPSBcIklOUFVUXCIgPT09IGlucHV0LnRhZ05hbWUgJiYgLTEgIT09ICQuaW5BcnJheShlbGVtZW50VHlwZSwgb3B0cy5zdXBwb3J0c0lucHV0VHlwZSkgfHwgaW5wdXQuaXNDb250ZW50RWRpdGFibGUgfHwgXCJURVhUQVJFQVwiID09PSBpbnB1dC50YWdOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSBpZiAoXCJJTlBVVFwiID09PSBpbnB1dC50YWdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIGVsZW1lbnRUeXBlKSwgaXNTdXBwb3J0ZWQgPSBcInRleHRcIiA9PT0gZWwudHlwZSwgZWwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaXNTdXBwb3J0ZWQgPSBcInBhcnRpYWxcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExICE9PSBpc1N1cHBvcnRlZCA/IGZ1bmN0aW9uKG5wdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0dGVyKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0bWFzayA/IHRoaXMuaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzayA/IHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSA6IC0xICE9PSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpIHx8ICEwICE9PSBvcHRzLm51bGxhYmxlID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcyAmJiBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzID8gKGlzUlRMID8gY2xlYXJPcHRpb25hbFRhaWwoZ2V0QnVmZmVyKCkuc2xpY2UoKSkucmV2ZXJzZSgpIDogY2xlYXJPcHRpb25hbFRhaWwoZ2V0QnVmZmVyKCkuc2xpY2UoKSkpLmpvaW4oXCJcIikgOiB2YWx1ZUdldC5jYWxsKHRoaXMpIDogXCJcIiA6IHZhbHVlR2V0LmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXR0ZXIodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVNldC5jYWxsKHRoaXMsIHZhbHVlKSwgdGhpcy5pbnB1dG1hc2sgJiYgJCh0aGlzKS50cmlnZ2VyKFwic2V0dmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVHZXQsIHZhbHVlU2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFucHQuaW5wdXRtYXNrLl9fdmFsdWVHZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgIT09IG9wdHMubm9WYWx1ZVBhdGNoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiAoT2JqZWN0LmdldFByb3RvdHlwZU9mID0gXCJvYmplY3RcIiA9PT0gX3R5cGVvZihcInRlc3RcIi5fX3Byb3RvX18pID8gZnVuY3Rpb24ob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5fX3Byb3RvX187XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogZnVuY3Rpb24ob2JqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVByb3BlcnR5ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YobnB0KSwgXCJ2YWx1ZVwiKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlUHJvcGVydHkgJiYgdmFsdWVQcm9wZXJ0eS5nZXQgJiYgdmFsdWVQcm9wZXJ0eS5zZXQgPyAodmFsdWVHZXQgPSB2YWx1ZVByb3BlcnR5LmdldCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVNldCA9IHZhbHVlUHJvcGVydHkuc2V0LCBPYmplY3QuZGVmaW5lUHJvcGVydHkobnB0LCBcInZhbHVlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGdldHRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IHNldHRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6ICEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkgOiBcIklOUFVUXCIgIT09IG5wdC50YWdOYW1lICYmICh2YWx1ZUdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdmFsdWVTZXQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucHQsIFwidmFsdWVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0dGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldDogc2V0dGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18gJiYgbnB0Ll9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSAmJiAodmFsdWVHZXQgPSBucHQuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVTZXQgPSBucHQuX19sb29rdXBTZXR0ZXJfXyhcInZhbHVlXCIpLCBucHQuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsIGdldHRlciksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBucHQuX19kZWZpbmVTZXR0ZXJfXyhcInZhbHVlXCIsIHNldHRlcikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBucHQuaW5wdXRtYXNrLl9fdmFsdWVHZXQgPSB2YWx1ZUdldCwgbnB0LmlucHV0bWFzay5fX3ZhbHVlU2V0ID0gdmFsdWVTZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5wdC5pbnB1dG1hc2suX3ZhbHVlR2V0ID0gZnVuY3Rpb24ob3ZlcnJ1bGVSVEwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzUlRMICYmICEwICE9PSBvdmVycnVsZVJUTCA/IHZhbHVlR2V0LmNhbGwodGhpcy5lbCkuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiB2YWx1ZUdldC5jYWxsKHRoaXMuZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG5wdC5pbnB1dG1hc2suX3ZhbHVlU2V0ID0gZnVuY3Rpb24odmFsdWUsIG92ZXJydWxlUlRMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlU2V0LmNhbGwodGhpcy5lbCwgbnVsbCA9PT0gdmFsdWUgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiAhMCAhPT0gb3ZlcnJ1bGVSVEwgJiYgaXNSVEwgPyB2YWx1ZS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB2YWx1ZUdldCA9PT0gdW5kZWZpbmVkICYmICh2YWx1ZUdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB2YWx1ZVNldCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkLnZhbEhvb2tzICYmICgkLnZhbEhvb2tzW3R5cGVdID09PSB1bmRlZmluZWQgfHwgITAgIT09ICQudmFsSG9va3NbdHlwZV0uaW5wdXRtYXNrcGF0Y2gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaG9va0dldCA9ICQudmFsSG9va3NbdHlwZV0gJiYgJC52YWxIb29rc1t0eXBlXS5nZXQgPyAkLnZhbEhvb2tzW3R5cGVdLmdldCA6IGZ1bmN0aW9uKGVsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHZhbGhvb2tTZXQgPSAkLnZhbEhvb2tzW3R5cGVdICYmICQudmFsSG9va3NbdHlwZV0uc2V0ID8gJC52YWxIb29rc1t0eXBlXS5zZXQgOiBmdW5jdGlvbihlbGVtLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLnZhbHVlID0gdmFsdWUsIGVsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC52YWxIb29rc1t0eXBlXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGVsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uaW5wdXRtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrKSByZXR1cm4gZWxlbS5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbGhvb2tHZXQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTEgIT09IGdldExhc3RWYWxpZFBvc2l0aW9uKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBlbGVtLmlucHV0bWFzay5tYXNrc2V0LnZhbGlkUG9zaXRpb25zKSB8fCAhMCAhPT0gb3B0cy5udWxsYWJsZSA/IHJlc3VsdCA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbGhvb2tHZXQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKGVsZW0sIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQsICRlbGVtID0gJChlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9IHZhbGhvb2tTZXQoZWxlbSwgdmFsdWUpLCBlbGVtLmlucHV0bWFzayAmJiAkZWxlbS50cmlnZ2VyKFwic2V0dmFsdWVcIiksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dG1hc2twYXRjaDogITBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KG5wdC50eXBlKSwgZnVuY3Rpb24obnB0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50UnVsZXIub24obnB0LCBcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgJiYgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfShucHQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfShpbnB1dCkgOiBpbnB1dC5pbnB1dG1hc2sgPSB1bmRlZmluZWQsIGlzU3VwcG9ydGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0oZWxlbSwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCExICE9PSBpc1N1cHBvcnRlZCAmJiAoZWwgPSBlbGVtLCAkZWwgPSAkKGVsKSwgLTEgPT09IChtYXhMZW5ndGggPSBlbCAhPT0gdW5kZWZpbmVkID8gZWwubWF4TGVuZ3RoIDogdW5kZWZpbmVkKSAmJiAobWF4TGVuZ3RoID0gdW5kZWZpbmVkKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgITAgPT09IG9wdHMuY29sb3JNYXNrICYmIGluaXRpYWxpemVDb2xvck1hc2soZWwpLCBhbmRyb2lkICYmIChlbC5oYXNPd25Qcm9wZXJ0eShcImlucHV0bW9kZVwiKSAmJiAoZWwuaW5wdXRtb2RlID0gb3B0cy5pbnB1dG1vZGUsIFxyXG4gICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShcImlucHV0bW9kZVwiLCBvcHRzLmlucHV0bW9kZSkpLCBcInJ0Zm1cIiA9PT0gb3B0cy5hbmRyb2lkSGFjayAmJiAoITAgIT09IG9wdHMuY29sb3JNYXNrICYmIGluaXRpYWxpemVDb2xvck1hc2soZWwpLCBcclxuICAgICAgICAgICAgICAgICAgICBlbC50eXBlID0gXCJwYXNzd29yZFwiKSksICEwID09PSBpc1N1cHBvcnRlZCAmJiAoRXZlbnRSdWxlci5vbihlbCwgXCJzdWJtaXRcIiwgRXZlbnRIYW5kbGVycy5zdWJtaXRFdmVudCksIFxyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50UnVsZXIub24oZWwsIFwicmVzZXRcIiwgRXZlbnRIYW5kbGVycy5yZXNldEV2ZW50KSwgRXZlbnRSdWxlci5vbihlbCwgXCJtb3VzZWVudGVyXCIsIEV2ZW50SGFuZGxlcnMubW91c2VlbnRlckV2ZW50KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRSdWxlci5vbihlbCwgXCJibHVyXCIsIEV2ZW50SGFuZGxlcnMuYmx1ckV2ZW50KSwgRXZlbnRSdWxlci5vbihlbCwgXCJmb2N1c1wiLCBFdmVudEhhbmRsZXJzLmZvY3VzRXZlbnQpLCBcclxuICAgICAgICAgICAgICAgICAgICBFdmVudFJ1bGVyLm9uKGVsLCBcIm1vdXNlbGVhdmVcIiwgRXZlbnRIYW5kbGVycy5tb3VzZWxlYXZlRXZlbnQpLCAhMCAhPT0gb3B0cy5jb2xvck1hc2sgJiYgRXZlbnRSdWxlci5vbihlbCwgXCJjbGlja1wiLCBFdmVudEhhbmRsZXJzLmNsaWNrRXZlbnQpLCBcclxuICAgICAgICAgICAgICAgICAgICBFdmVudFJ1bGVyLm9uKGVsLCBcImRibGNsaWNrXCIsIEV2ZW50SGFuZGxlcnMuZGJsY2xpY2tFdmVudCksIEV2ZW50UnVsZXIub24oZWwsIFwicGFzdGVcIiwgRXZlbnRIYW5kbGVycy5wYXN0ZUV2ZW50KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRSdWxlci5vbihlbCwgXCJkcmFnZHJvcFwiLCBFdmVudEhhbmRsZXJzLnBhc3RlRXZlbnQpLCBFdmVudFJ1bGVyLm9uKGVsLCBcImRyb3BcIiwgRXZlbnRIYW5kbGVycy5wYXN0ZUV2ZW50KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRSdWxlci5vbihlbCwgXCJjdXRcIiwgRXZlbnRIYW5kbGVycy5jdXRFdmVudCksIEV2ZW50UnVsZXIub24oZWwsIFwiY29tcGxldGVcIiwgb3B0cy5vbmNvbXBsZXRlKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRSdWxlci5vbihlbCwgXCJpbmNvbXBsZXRlXCIsIG9wdHMub25pbmNvbXBsZXRlKSwgRXZlbnRSdWxlci5vbihlbCwgXCJjbGVhcmVkXCIsIG9wdHMub25jbGVhcmVkKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgYW5kcm9pZCB8fCAhMCA9PT0gb3B0cy5pbnB1dEV2ZW50T25seSA/IGVsLnJlbW92ZUF0dHJpYnV0ZShcIm1heExlbmd0aFwiKSA6IChFdmVudFJ1bGVyLm9uKGVsLCBcImtleWRvd25cIiwgRXZlbnRIYW5kbGVycy5rZXlkb3duRXZlbnQpLCBcclxuICAgICAgICAgICAgICAgICAgICBFdmVudFJ1bGVyLm9uKGVsLCBcImtleXByZXNzXCIsIEV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudCkpLCBFdmVudFJ1bGVyLm9uKGVsLCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgJC5ub29wKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRSdWxlci5vbihlbCwgXCJjb21wb3NpdGlvbnVwZGF0ZVwiLCAkLm5vb3ApLCBFdmVudFJ1bGVyLm9uKGVsLCBcImNvbXBvc2l0aW9uZW5kXCIsICQubm9vcCksIFxyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50UnVsZXIub24oZWwsIFwia2V5dXBcIiwgJC5ub29wKSwgRXZlbnRSdWxlci5vbihlbCwgXCJpbnB1dFwiLCBFdmVudEhhbmRsZXJzLmlucHV0RmFsbEJhY2tFdmVudCksIFxyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50UnVsZXIub24oZWwsIFwiYmVmb3JlaW5wdXRcIiwgJC5ub29wKSksIEV2ZW50UnVsZXIub24oZWwsIFwic2V0dmFsdWVcIiwgRXZlbnRIYW5kbGVycy5zZXRWYWx1ZUV2ZW50KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpLCBcIlwiICE9PSBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSB8fCAhMSA9PT0gb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9ICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykgPyBvcHRzLm9uQmVmb3JlTWFzay5jYWxsKGlucHV0bWFzaywgZWwuaW5wdXRtYXNrLl92YWx1ZUdldCghMCksIG9wdHMpIHx8IGVsLmlucHV0bWFzay5fdmFsdWVHZXQoITApIDogZWwuaW5wdXRtYXNrLl92YWx1ZUdldCghMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IGluaXRpYWxWYWx1ZSAmJiBjaGVja1ZhbChlbCwgITAsICExLCBpc1JUTCA/IGluaXRpYWxWYWx1ZS5zcGxpdChcIlwiKS5yZXZlcnNlKCkgOiBpbml0aWFsVmFsdWUuc3BsaXQoXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCkuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kb1ZhbHVlID0gYnVmZmVyLmpvaW4oXCJcIiksICExID09PSBpc0NvbXBsZXRlKGJ1ZmZlcikgJiYgb3B0cy5jbGVhckluY29tcGxldGUgJiYgcmVzZXRNYXNrU2V0KCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGVsICYmICgtMSA9PT0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSA/IGJ1ZmZlciA9IFtdIDogY2xlYXJPcHRpb25hbFRhaWwoYnVmZmVyKSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihlbCwgYnVmZmVyKSwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgY2FyZXQoZWwsIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KGVsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVCdWZmZXIgPSAoJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVNYXNrKSA/IG9wdHMub25CZWZvcmVNYXNrLmNhbGwoaW5wdXRtYXNrLCBhY3Rpb25PYmoudmFsdWUsIG9wdHMpIHx8IGFjdGlvbk9iai52YWx1ZSA6IGFjdGlvbk9iai52YWx1ZSkuc3BsaXQoXCJcIiksIFxyXG4gICAgICAgICAgICAgICAgY2hlY2tWYWwodW5kZWZpbmVkLCAhMCwgITEsIGlzUlRMID8gdmFsdWVCdWZmZXIucmV2ZXJzZSgpIDogdmFsdWVCdWZmZXIpLCBhY3Rpb25PYmoubWV0YWRhdGEgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlzUlRMID8gZ2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IGdldEJ1ZmZlcigpLmpvaW4oXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1hc2tTY29wZS5jYWxsKHRoaXMsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcImdldG1ldGFkYXRhXCJcclxuICAgICAgICAgICAgICAgICAgICB9LCBtYXNrc2V0LCBvcHRzKVxyXG4gICAgICAgICAgICAgICAgfSA6IGlzUlRMID8gZ2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IGdldEJ1ZmZlcigpLmpvaW4oXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJpc1ZhbGlkXCI6XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25PYmoudmFsdWUgPyAodmFsdWVCdWZmZXIgPSBhY3Rpb25PYmoudmFsdWUuc3BsaXQoXCJcIiksIGNoZWNrVmFsKHVuZGVmaW5lZCwgITAsICEwLCBpc1JUTCA/IHZhbHVlQnVmZmVyLnJldmVyc2UoKSA6IHZhbHVlQnVmZmVyKSkgOiBhY3Rpb25PYmoudmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCksIHJsID0gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24oKSwgbG1pYiA9IGJ1ZmZlci5sZW5ndGggLSAxOyBsbWliID4gcmwgJiYgIWlzTWFzayhsbWliKTsgbG1pYi0tKSA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyLnNwbGljZShybCwgbG1pYiArIDEgLSBybCksIGlzQ29tcGxldGUoYnVmZmVyKSAmJiBhY3Rpb25PYmoudmFsdWUgPT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJnZXRlbXB0eW1hc2tcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcclxuICAgICAgICAgICAgICAgIGlmIChlbCAmJiBlbC5pbnB1dG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAkZWwgPSAkKGVsKSwgZWwuaW5wdXRtYXNrLl92YWx1ZVNldChvcHRzLmF1dG9Vbm1hc2sgPyB1bm1hc2tlZHZhbHVlKGVsKSA6IGVsLmlucHV0bWFzay5fdmFsdWVHZXQoITApKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRSdWxlci5vZmYoZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YoZWwpLCBcInZhbHVlXCIpICYmIGVsLmlucHV0bWFzay5fX3ZhbHVlR2V0ICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgXCJ2YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldDogZWwuaW5wdXRtYXNrLl9fdmFsdWVTZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcclxuICAgICAgICAgICAgICAgICAgICB9KSA6IGRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18gJiYgZWwuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpICYmIGVsLmlucHV0bWFzay5fX3ZhbHVlR2V0ICYmIChlbC5fX2RlZmluZUdldHRlcl9fKFwidmFsdWVcIiwgZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQpLCBcclxuICAgICAgICAgICAgICAgICAgICBlbC5fX2RlZmluZVNldHRlcl9fKFwidmFsdWVcIiwgZWwuaW5wdXRtYXNrLl9fdmFsdWVTZXQpKSwgZWwuaW5wdXRtYXNrID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFwiZ2V0bWV0YWRhdGFcIjpcclxuICAgICAgICAgICAgICAgIGlmICgkLmlzQXJyYXkobWFza3NldC5tZXRhZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWFza1RhcmdldCA9IGdldE1hc2tUZW1wbGF0ZSghMCwgMCwgITEpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQuZWFjaChtYXNrc2V0Lm1ldGFkYXRhLCBmdW5jdGlvbihuZHgsIG10ZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10ZHQubWFzayA9PT0gbWFza1RhcmdldCkgcmV0dXJuIG1hc2tUYXJnZXQgPSBtdGR0LCAhMTtcclxuICAgICAgICAgICAgICAgICAgICB9KSwgbWFza1RhcmdldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrc2V0Lm1ldGFkYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQsIG1vYmlsZSA9IC9tb2JpbGUvaS50ZXN0KHVhKSwgaWVtb2JpbGUgPSAvaWVtb2JpbGUvaS50ZXN0KHVhKSwgaXBob25lID0gL2lwaG9uZS9pLnRlc3QodWEpICYmICFpZW1vYmlsZSwgYW5kcm9pZCA9IC9hbmRyb2lkL2kudGVzdCh1YSkgJiYgIWllbW9iaWxlO1xyXG4gICAgICAgIHJldHVybiBJbnB1dG1hc2sucHJvdG90eXBlID0ge1xyXG4gICAgICAgICAgICBkYXRhQXR0cmlidXRlOiBcImRhdGEtaW5wdXRtYXNrXCIsXHJcbiAgICAgICAgICAgIGRlZmF1bHRzOiB7XHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJfXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25hbG1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIltcIixcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwiXVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpZmllcm1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIntcIixcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwifVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogXCIoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcIilcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGFsdGVybmF0b3JtYXJrZXI6IFwifFwiLFxyXG4gICAgICAgICAgICAgICAgZXNjYXBlQ2hhcjogXCJcXFxcXCIsXHJcbiAgICAgICAgICAgICAgICBtYXNrOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmVnZXg6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvbmNvbXBsZXRlOiAkLm5vb3AsXHJcbiAgICAgICAgICAgICAgICBvbmluY29tcGxldGU6ICQubm9vcCxcclxuICAgICAgICAgICAgICAgIG9uY2xlYXJlZDogJC5ub29wLFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0OiAwLFxyXG4gICAgICAgICAgICAgICAgZ3JlZWR5OiAhMCxcclxuICAgICAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICExLFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlTWFza09uU3VibWl0OiAhMSxcclxuICAgICAgICAgICAgICAgIGNsZWFyTWFza09uTG9zdEZvY3VzOiAhMCxcclxuICAgICAgICAgICAgICAgIGluc2VydE1vZGU6ICEwLFxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbmNvbXBsZXRlOiAhMSxcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiAkLm5vb3AsXHJcbiAgICAgICAgICAgICAgICBvbkJlZm9yZU1hc2s6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBvbkJlZm9yZVBhc3RlOiBmdW5jdGlvbihwYXN0ZWRWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spID8gb3B0cy5vbkJlZm9yZU1hc2suY2FsbCh0aGlzLCBwYXN0ZWRWYWx1ZSwgb3B0cykgOiBwYXN0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvbkJlZm9yZVdyaXRlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb25Vbk1hc2s6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzaG93TWFza09uRm9jdXM6ICEwLFxyXG4gICAgICAgICAgICAgICAgc2hvd01hc2tPbkhvdmVyOiAhMCxcclxuICAgICAgICAgICAgICAgIG9uS2V5VmFsaWRhdGlvbjogJC5ub29wLFxyXG4gICAgICAgICAgICAgICAgc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcjogXCIgXCIsXHJcbiAgICAgICAgICAgICAgICBudW1lcmljSW5wdXQ6ICExLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRBbGlnbjogITEsXHJcbiAgICAgICAgICAgICAgICB1bmRvT25Fc2NhcGU6ICEwLFxyXG4gICAgICAgICAgICAgICAgcmFkaXhQb2ludDogXCJcIixcclxuICAgICAgICAgICAgICAgIHJhZGl4UG9pbnREZWZpbml0aW9uU3ltYm9sOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBncm91cFNlcGFyYXRvcjogXCJcIixcclxuICAgICAgICAgICAgICAgIGtlZXBTdGF0aWM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkNhcmV0T25UYWI6ICEwLFxyXG4gICAgICAgICAgICAgICAgdGFiVGhyb3VnaDogITEsXHJcbiAgICAgICAgICAgICAgICBzdXBwb3J0c0lucHV0VHlwZTogWyBcInRleHRcIiwgXCJ0ZWxcIiwgXCJwYXNzd29yZFwiIF0sXHJcbiAgICAgICAgICAgICAgICBpZ25vcmFibGVzOiBbIDgsIDksIDEzLCAxOSwgMjcsIDMzLCAzNCwgMzUsIDM2LCAzNywgMzgsIDM5LCA0MCwgNDUsIDQ2LCA5MywgMTEyLCAxMTMsIDExNCwgMTE1LCAxMTYsIDExNywgMTE4LCAxMTksIDEyMCwgMTIxLCAxMjIsIDEyMywgMCwgMjI5IF0sXHJcbiAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY2FuQ2xlYXJQb3NpdGlvbjogJC5ub29wLFxyXG4gICAgICAgICAgICAgICAgcHJlVmFsaWRhdGlvbjogbnVsbCxcclxuICAgICAgICAgICAgICAgIHBvc3RWYWxpZGF0aW9uOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RhdGljRGVmaW5pdGlvblN5bWJvbDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgaml0TWFza2luZzogITEsXHJcbiAgICAgICAgICAgICAgICBudWxsYWJsZTogITAsXHJcbiAgICAgICAgICAgICAgICBpbnB1dEV2ZW50T25seTogITEsXHJcbiAgICAgICAgICAgICAgICBub1ZhbHVlUGF0Y2hpbmc6ICExLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb25DYXJldE9uQ2xpY2s6IFwibHZwXCIsXHJcbiAgICAgICAgICAgICAgICBjYXNpbmc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpbnB1dG1vZGU6IFwidmVyYmF0aW1cIixcclxuICAgICAgICAgICAgICAgIGNvbG9yTWFzazogITEsXHJcbiAgICAgICAgICAgICAgICBhbmRyb2lkSGFjazogITEsXHJcbiAgICAgICAgICAgICAgICBpbXBvcnREYXRhQXR0cmlidXRlczogITBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIFwiOVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTnvvJEt77yZXVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25TeW1ib2w6IFwiKlwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYToge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbQS1aYS160JAt0Y/QgdGRw4Atw7/CtV1cIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uU3ltYm9sOiBcIipcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiKlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTnvvJEt77yZQS1aYS160JAt0Y/QgdGRw4Atw7/CtV1cIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhbGlhc2VzOiB7fSxcclxuICAgICAgICAgICAgbWFza3NDYWNoZToge30sXHJcbiAgICAgICAgICAgIG1hc2s6IGZ1bmN0aW9uKGVsZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbXBvcnRBdHRyaWJ1dGVPcHRpb25zKG5wdCwgb3B0cywgdXNlck9wdGlvbnMsIGRhdGFBdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoITAgPT09IG9wdHMuaW1wb3J0RGF0YUF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiwgZGF0YW9wdGlvbnMsIG9wdGlvbkRhdGEsIHAsIGltcG9ydE9wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbiwgb3B0aW9uRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gKG9wdGlvbkRhdGEgPSBvcHRpb25EYXRhICE9PSB1bmRlZmluZWQgPyBvcHRpb25EYXRhIDogbnB0LmdldEF0dHJpYnV0ZShkYXRhQXR0cmlidXRlICsgXCItXCIgKyBvcHRpb24pKSAmJiAoXCJzdHJpbmdcIiA9PSB0eXBlb2Ygb3B0aW9uRGF0YSAmJiAoMCA9PT0gb3B0aW9uLmluZGV4T2YoXCJvblwiKSA/IG9wdGlvbkRhdGEgPSB3aW5kb3dbb3B0aW9uRGF0YV0gOiBcImZhbHNlXCIgPT09IG9wdGlvbkRhdGEgPyBvcHRpb25EYXRhID0gITEgOiBcInRydWVcIiA9PT0gb3B0aW9uRGF0YSAmJiAob3B0aW9uRGF0YSA9ICEwKSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlck9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbkRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBhdHRyT3B0aW9ucyA9IG5wdC5nZXRBdHRyaWJ1dGUoZGF0YUF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyT3B0aW9ucyAmJiBcIlwiICE9PSBhdHRyT3B0aW9ucyAmJiAoYXR0ck9wdGlvbnMgPSBhdHRyT3B0aW9ucy5yZXBsYWNlKG5ldyBSZWdFeHAoXCInXCIsIFwiZ1wiKSwgJ1wiJyksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhb3B0aW9ucyA9IEpTT04ucGFyc2UoXCJ7XCIgKyBhdHRyT3B0aW9ucyArIFwifVwiKSksIGRhdGFvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25EYXRhID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwIGluIGRhdGFvcHRpb25zKSBpZiAoXCJhbGlhc1wiID09PSBwLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25EYXRhID0gZGF0YW9wdGlvbnNbcF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0T3B0aW9uKFwiYWxpYXNcIiwgb3B0aW9uRGF0YSksIHVzZXJPcHRpb25zLmFsaWFzICYmIHJlc29sdmVBbGlhcyh1c2VyT3B0aW9ucy5hbGlhcywgdXNlck9wdGlvbnMsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG9wdGlvbiBpbiBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YW9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25EYXRhID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocCBpbiBkYXRhb3B0aW9ucykgaWYgKHAudG9Mb3dlckNhc2UoKSA9PT0gb3B0aW9uLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uRGF0YSA9IGRhdGFvcHRpb25zW3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRPcHRpb24ob3B0aW9uLCBvcHRpb25EYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC5leHRlbmQoITAsIG9wdHMsIHVzZXJPcHRpb25zKSwgKFwicnRsXCIgPT09IG5wdC5kaXIgfHwgb3B0cy5yaWdodEFsaWduKSAmJiAobnB0LnN0eWxlLnRleHRBbGlnbiA9IFwicmlnaHRcIiksIFxyXG4gICAgICAgICAgICAgICAgICAgIChcInJ0bFwiID09PSBucHQuZGlyIHx8IG9wdHMubnVtZXJpY0lucHV0KSAmJiAobnB0LmRpciA9IFwibHRyXCIsIG5wdC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIiksIFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuaXNSVEwgPSAhMCksIG9wdHM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZWxlbXMgJiYgKGVsZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbXMpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbXMpKSwgXHJcbiAgICAgICAgICAgICAgICBlbGVtcyA9IGVsZW1zLm5vZGVOYW1lID8gWyBlbGVtcyBdIDogZWxlbXMsICQuZWFjaChlbGVtcywgZnVuY3Rpb24obmR4LCBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY29wZWRPcHRzID0gJC5leHRlbmQoITAsIHt9LCB0aGF0Lm9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMoZWwsIHNjb3BlZE9wdHMsICQuZXh0ZW5kKCEwLCB7fSwgdGhhdC51c2VyT3B0aW9ucyksIHRoYXQuZGF0YUF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hc2tzZXQgPSBnZW5lcmF0ZU1hc2tTZXQoc2NvcGVkT3B0cywgdGhhdC5ub01hc2tzQ2FjaGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2tzZXQgIT09IHVuZGVmaW5lZCAmJiAoZWwuaW5wdXRtYXNrICE9PSB1bmRlZmluZWQgJiYgKGVsLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2sgPSAhMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLnJlbW92ZSgpKSwgZWwuaW5wdXRtYXNrID0gbmV3IElucHV0bWFzayh1bmRlZmluZWQsIHVuZGVmaW5lZCwgITApLCBcclxuICAgICAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2sub3B0cyA9IHNjb3BlZE9wdHMsIGVsLmlucHV0bWFzay5ub01hc2tzQ2FjaGUgPSB0aGF0Lm5vTWFza3NDYWNoZSwgZWwuaW5wdXRtYXNrLnVzZXJPcHRpb25zID0gJC5leHRlbmQoITAsIHt9LCB0aGF0LnVzZXJPcHRpb25zKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLmlzUlRMID0gc2NvcGVkT3B0cy5pc1JUTCB8fCBzY29wZWRPcHRzLm51bWVyaWNJbnB1dCwgZWwuaW5wdXRtYXNrLmVsID0gZWwsIFxyXG4gICAgICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzay5tYXNrc2V0ID0gbWFza3NldCwgJC5kYXRhKGVsLCBcIl9pbnB1dG1hc2tfb3B0c1wiLCBzY29wZWRPcHRzKSwgbWFza1Njb3BlLmNhbGwoZWwuaW5wdXRtYXNrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJtYXNrXCJcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KSwgZWxlbXMgJiYgZWxlbXNbMF0gPyBlbGVtc1swXS5pbnB1dG1hc2sgfHwgdGhpcyA6IHRoaXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9wdGlvbjogZnVuY3Rpb24ob3B0aW9ucywgbm9yZW1hc2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBvcHRpb25zID8gdGhpcy5vcHRzW29wdGlvbnNdIDogXCJvYmplY3RcIiA9PT0gKHZvaWQgMCA9PT0gb3B0aW9ucyA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9wdGlvbnMpKSA/ICgkLmV4dGVuZCh0aGlzLnVzZXJPcHRpb25zLCBvcHRpb25zKSwgXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsICYmICEwICE9PSBub3JlbWFzayAmJiB0aGlzLm1hc2sodGhpcy5lbCksIHRoaXMpIDogdm9pZCAwO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bm1hc2tlZHZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFza3NldCA9IHRoaXMubWFza3NldCB8fCBnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIFxyXG4gICAgICAgICAgICAgICAgbWFza1Njb3BlLmNhbGwodGhpcywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJ1bm1hc2tlZHZhbHVlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrU2NvcGUuY2FsbCh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcInJlbW92ZVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0ZW1wdHltYXNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hc2tzZXQgPSB0aGlzLm1hc2tzZXQgfHwgZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCBcclxuICAgICAgICAgICAgICAgIG1hc2tTY29wZS5jYWxsKHRoaXMsIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiZ2V0ZW1wdHltYXNrXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoYXNNYXNrZWRWYWx1ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMub3B0cy5hdXRvVW5tYXNrO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc0NvbXBsZXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hc2tzZXQgPSB0aGlzLm1hc2tzZXQgfHwgZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCBcclxuICAgICAgICAgICAgICAgIG1hc2tTY29wZS5jYWxsKHRoaXMsIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiaXNDb21wbGV0ZVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0bWV0YWRhdGE6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFza3NldCA9IHRoaXMubWFza3NldCB8fCBnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIFxyXG4gICAgICAgICAgICAgICAgbWFza1Njb3BlLmNhbGwodGhpcywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJnZXRtZXRhZGF0YVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNWYWxpZDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hc2tzZXQgPSB0aGlzLm1hc2tzZXQgfHwgZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCBcclxuICAgICAgICAgICAgICAgIG1hc2tTY29wZS5jYWxsKHRoaXMsIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiaXNWYWxpZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZvcm1hdDogZnVuY3Rpb24odmFsdWUsIG1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXNrc2V0ID0gdGhpcy5tYXNrc2V0IHx8IGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgXHJcbiAgICAgICAgICAgICAgICBtYXNrU2NvcGUuY2FsbCh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcImZvcm1hdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGFcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhbmFseXNlTWFzazogZnVuY3Rpb24obWFzaywgcmVnZXhNYXNrLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXNrVG9rZW4oaXNHcm91cCwgaXNPcHRpb25hbCwgaXNRdWFudGlmaWVyLCBpc0FsdGVybmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZXMgPSBbXSwgdGhpcy5vcGVuR3JvdXAgPSBpc0dyb3VwIHx8ICExLCB0aGlzLmFsdGVybmF0b3JHcm91cCA9ICExLCB0aGlzLmlzR3JvdXAgPSBpc0dyb3VwIHx8ICExLCBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSBpc09wdGlvbmFsIHx8ICExLCB0aGlzLmlzUXVhbnRpZmllciA9IGlzUXVhbnRpZmllciB8fCAhMSwgdGhpcy5pc0FsdGVybmF0b3IgPSBpc0FsdGVybmF0b3IgfHwgITEsIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpZmllciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5zZXJ0VGVzdERlZmluaXRpb24obXRva2VuLCBlbGVtZW50LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gIT09IHVuZGVmaW5lZCA/IHBvc2l0aW9uIDogbXRva2VuLm1hdGNoZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2TWF0Y2ggPSBtdG9rZW4ubWF0Y2hlc1twb3NpdGlvbiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWdleE1hc2spIDAgPT09IGVsZW1lbnQuaW5kZXhPZihcIltcIikgfHwgZXNjYXBlZCAmJiAvXFxcXGR8XFxcXHN8XFxcXHddL2kudGVzdChlbGVtZW50KSB8fCBcIi5cIiA9PT0gZWxlbWVudCA/IG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLCAwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBuZXcgUmVnRXhwKGVsZW1lbnQsIG9wdHMuY2FzaW5nID8gXCJpXCIgOiBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tNYXJrZXI6IHByZXZNYXRjaCA9PT0gdW5kZWZpbmVkIHx8IHByZXZNYXRjaC5kZWYgIT09IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVEZWY6IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB9KSA6IChlc2NhcGVkICYmIChlbGVtZW50ID0gZWxlbWVudFtlbGVtZW50Lmxlbmd0aCAtIDFdKSwgJC5lYWNoKGVsZW1lbnQuc3BsaXQoXCJcIiksIGZ1bmN0aW9uKG5keCwgbG1udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2TWF0Y2ggPSBtdG9rZW4ubWF0Y2hlc1twb3NpdGlvbiAtIDFdLCBtdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywgMCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrTWFya2VyOiBwcmV2TWF0Y2ggPT09IHVuZGVmaW5lZCB8fCBwcmV2TWF0Y2guZGVmICE9PSBsbW50ICYmIG51bGwgIT09IHByZXZNYXRjaC5mbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogb3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sIHx8IGxtbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogb3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sICE9PSB1bmRlZmluZWQgPyBsbW50IDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRGVmOiBsbW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKSwgZXNjYXBlZCA9ICExOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hc2tkZWYgPSAob3B0cy5kZWZpbml0aW9ucyA/IG9wdHMuZGVmaW5pdGlvbnNbZWxlbWVudF0gOiB1bmRlZmluZWQpIHx8IElucHV0bWFzay5wcm90b3R5cGUuZGVmaW5pdGlvbnNbZWxlbWVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXNrZGVmICYmICFlc2NhcGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcmV2YWxpZGF0b3JzID0gbWFza2RlZi5wcmV2YWxpZGF0b3IsIHByZXZhbGlkYXRvcnNMID0gcHJldmFsaWRhdG9ycyA/IHByZXZhbGlkYXRvcnMubGVuZ3RoIDogMCwgaSA9IDE7IGkgPCBtYXNrZGVmLmNhcmRpbmFsaXR5OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmFsaWRhdG9yID0gcHJldmFsaWRhdG9yc0wgPj0gaSA/IHByZXZhbGlkYXRvcnNbaSAtIDFdIDogW10sIHZhbGlkYXRvciA9IHByZXZhbGlkYXRvci52YWxpZGF0b3IsIGNhcmRpbmFsaXR5ID0gcHJldmFsaWRhdG9yLmNhcmRpbmFsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLCAwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuOiB2YWxpZGF0b3IgPyBcInN0cmluZ1wiID09IHR5cGVvZiB2YWxpZGF0b3IgPyBuZXcgUmVnRXhwKHZhbGlkYXRvciwgb3B0cy5jYXNpbmcgPyBcImlcIiA6IFwiXCIpIDogbmV3IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXN0ID0gdmFsaWRhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KCkgOiBuZXcgUmVnRXhwKFwiLlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IGNhcmRpbmFsaXR5IHx8IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tNYXJrZXI6IHByZXZNYXRjaCA9PT0gdW5kZWZpbmVkIHx8IHByZXZNYXRjaC5kZWYgIT09IChtYXNrZGVmLmRlZmluaXRpb25TeW1ib2wgfHwgZWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogbWFza2RlZi5jYXNpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogbWFza2RlZi5kZWZpbml0aW9uU3ltYm9sIHx8IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBtYXNrZGVmLnBsYWNlaG9sZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVEZWY6IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgcHJldk1hdGNoID0gbXRva2VuLm1hdGNoZXNbcG9zaXRpb24gLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLCAwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IG1hc2tkZWYudmFsaWRhdG9yID8gXCJzdHJpbmdcIiA9PSB0eXBlb2YgbWFza2RlZi52YWxpZGF0b3IgPyBuZXcgUmVnRXhwKG1hc2tkZWYudmFsaWRhdG9yLCBvcHRzLmNhc2luZyA/IFwiaVwiIDogXCJcIikgOiBuZXcgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVzdCA9IG1hc2tkZWYudmFsaWRhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSA6IG5ldyBSZWdFeHAoXCIuXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiBtYXNrZGVmLmNhcmRpbmFsaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdCbG9ja01hcmtlcjogcHJldk1hdGNoID09PSB1bmRlZmluZWQgfHwgcHJldk1hdGNoLmRlZiAhPT0gKG1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbCB8fCBlbGVtZW50KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG1hc2tkZWYuY2FzaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogbWFza2RlZi5kZWZpbml0aW9uU3ltYm9sIHx8IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG1hc2tkZWYucGxhY2Vob2xkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRGVmOiBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLCAwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxpdHk6IG10b2tlbi5pc09wdGlvbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tNYXJrZXI6IHByZXZNYXRjaCA9PT0gdW5kZWZpbmVkIHx8IHByZXZNYXRjaC5kZWYgIT09IGVsZW1lbnQgJiYgbnVsbCAhPT0gcHJldk1hdGNoLmZuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2wgfHwgZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2wgIT09IHVuZGVmaW5lZCA/IGVsZW1lbnQgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVEZWY6IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIGVzY2FwZWQgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB2ZXJpZnlHcm91cE1hcmtlcihtYXNrVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW4gJiYgbWFza1Rva2VuLm1hdGNoZXMgJiYgJC5lYWNoKG1hc2tUb2tlbi5tYXRjaGVzLCBmdW5jdGlvbihuZHgsIHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0VG9rZW4gPSBtYXNrVG9rZW4ubWF0Y2hlc1tuZHggKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKG5leHRUb2tlbiA9PT0gdW5kZWZpbmVkIHx8IG5leHRUb2tlbi5tYXRjaGVzID09PSB1bmRlZmluZWQgfHwgITEgPT09IG5leHRUb2tlbi5pc1F1YW50aWZpZXIpICYmIHRva2VuICYmIHRva2VuLmlzR3JvdXAgJiYgKHRva2VuLmlzR3JvdXAgPSAhMSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4TWFzayB8fCAoaW5zZXJ0VGVzdERlZmluaXRpb24odG9rZW4sIG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQsIDApLCAhMCAhPT0gdG9rZW4ub3Blbkdyb3VwICYmIGluc2VydFRlc3REZWZpbml0aW9uKHRva2VuLCBvcHRzLmdyb3VwbWFya2VyLmVuZCkpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeUdyb3VwTWFya2VyKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlZmF1bHRDYXNlKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV0sIGluc2VydFRlc3REZWZpbml0aW9uKGN1cnJlbnRPcGVuaW5nVG9rZW4sIG0pLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbi5pc0FsdGVybmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IgPSBvcGVuZW5pbmdzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbW5keCA9IDA7IG1uZHggPCBhbHRlcm5hdG9yLm1hdGNoZXMubGVuZ3RoOyBtbmR4KyspIGFsdGVybmF0b3IubWF0Y2hlc1ttbmR4XS5pc0dyb3VwID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLmxlbmd0aCA+IDAgPyAoY3VycmVudE9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXSkubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpIDogY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpbnNlcnRUZXN0RGVmaW5pdGlvbihjdXJyZW50VG9rZW4sIG0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmV2ZXJzZVRva2VucyhtYXNrVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW4ubWF0Y2hlcyA9IG1hc2tUb2tlbi5tYXRjaGVzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtYXRjaCBpbiBtYXNrVG9rZW4ubWF0Y2hlcykgaWYgKG1hc2tUb2tlbi5tYXRjaGVzLmhhc093blByb3BlcnR5KG1hdGNoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW50TWF0Y2ggPSBwYXJzZUludChtYXRjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0uaXNRdWFudGlmaWVyICYmIG1hc2tUb2tlbi5tYXRjaGVzW2ludE1hdGNoICsgMV0gJiYgbWFza1Rva2VuLm1hdGNoZXNbaW50TWF0Y2ggKyAxXS5pc0dyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXQgPSBtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW4ubWF0Y2hlcy5zcGxpY2UobWF0Y2gsIDEpLCBtYXNrVG9rZW4ubWF0Y2hlcy5zcGxpY2UoaW50TWF0Y2ggKyAxLCAwLCBxdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdLm1hdGNoZXMgIT09IHVuZGVmaW5lZCA/IG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSA9IHJldmVyc2VUb2tlbnMobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdKSA6IG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSA9IGZ1bmN0aW9uKHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3QgPT09IG9wdHMub3B0aW9uYWxtYXJrZXIuc3RhcnQgPyBzdCA9IG9wdHMub3B0aW9uYWxtYXJrZXIuZW5kIDogc3QgPT09IG9wdHMub3B0aW9uYWxtYXJrZXIuZW5kID8gc3QgPSBvcHRzLm9wdGlvbmFsbWFya2VyLnN0YXJ0IDogc3QgPT09IG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQgPyBzdCA9IG9wdHMuZ3JvdXBtYXJrZXIuZW5kIDogc3QgPT09IG9wdHMuZ3JvdXBtYXJrZXIuZW5kICYmIChzdCA9IG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXNrVG9rZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2gsIG0sIG9wZW5pbmdUb2tlbiwgY3VycmVudE9wZW5pbmdUb2tlbiwgYWx0ZXJuYXRvciwgbGFzdE1hdGNoLCBncm91cFRva2VuLCB0b2tlbml6ZXIgPSAvKD86Wz8qK118XFx7WzAtOVxcK1xcKl0rKD86LFswLTlcXCtcXCpdKik/XFx9KXxbXi4/KiteJHtbXSgpfFxcXFxdK3wuL2csIHJlZ2V4VG9rZW5pemVyID0gL1xcW1xcXj9dPyg/OlteXFxcXFxcXV0rfFxcXFxbXFxTXFxzXT8pKl0/fFxcXFwoPzowKD86WzAtM11bMC03XXswLDJ9fFs0LTddWzAtN10/KT98WzEtOV1bMC05XSp8eFswLTlBLUZhLWZdezJ9fHVbMC05QS1GYS1mXXs0fXxjW0EtWmEtel18W1xcU1xcc10/KXxcXCgoPzpcXD9bOj0hXT8pP3woPzpbPyorXXxcXHtbMC05XSsoPzosWzAtOV0qKT9cXH0pXFw/P3xbXi4/KiteJHtbKCl8XFxcXF0rfC4vZywgZXNjYXBlZCA9ICExLCBjdXJyZW50VG9rZW4gPSBuZXcgTWFza1Rva2VuKCksIG9wZW5lbmluZ3MgPSBbXSwgbWFza1Rva2VucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChyZWdleE1hc2sgJiYgKG9wdHMub3B0aW9uYWxtYXJrZXIuc3RhcnQgPSB1bmRlZmluZWQsIG9wdHMub3B0aW9uYWxtYXJrZXIuZW5kID0gdW5kZWZpbmVkKTsgbWF0Y2ggPSByZWdleE1hc2sgPyByZWdleFRva2VuaXplci5leGVjKG1hc2spIDogdG9rZW5pemVyLmV4ZWMobWFzayk7ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtID0gbWF0Y2hbMF0sIHJlZ2V4TWFzaykgc3dpdGNoIChtLmNoYXJBdCgwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbSA9IFwiezAsMX1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIitcIjpcclxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBcIntcIiArIG0gKyBcIn1cIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVzY2FwZWQpIGRlZmF1bHRDYXNlKCk7IGVsc2Ugc3dpdGNoIChtLmNoYXJBdCgwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBvcHRzLmVzY2FwZUNoYXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAhMCwgcmVnZXhNYXNrICYmIGRlZmF1bHRDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5vcHRpb25hbG1hcmtlci5lbmQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIG9wdHMuZ3JvdXBtYXJrZXIuZW5kOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BlbmluZ1Rva2VuID0gb3BlbmVuaW5ncy5wb3AoKSwgb3BlbmluZ1Rva2VuLm9wZW5Hcm91cCA9ICExLCBvcGVuaW5nVG9rZW4gIT09IHVuZGVmaW5lZCkgaWYgKG9wZW5lbmluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50T3BlbmluZ1Rva2VuID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdKS5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IgPSBvcGVuZW5pbmdzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1uZHggPSAwOyBtbmR4IDwgYWx0ZXJuYXRvci5tYXRjaGVzLmxlbmd0aDsgbW5keCsrKSBhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cCA9ICExLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uYWx0ZXJuYXRvckdyb3VwID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5sZW5ndGggPiAwID8gKGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV0pLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKSA6IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbik7IGVsc2UgZGVmYXVsdENhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBvcHRzLm9wdGlvbmFsbWFya2VyLnN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbighMSwgITApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbighMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIG9wdHMucXVhbnRpZmllcm1hcmtlci5zdGFydDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1YW50aWZpZXIgPSBuZXcgTWFza1Rva2VuKCExLCAhMSwgITApLCBtcSA9IChtID0gbS5yZXBsYWNlKC9be31dL2csIFwiXCIpKS5zcGxpdChcIixcIiksIG1xMCA9IGlzTmFOKG1xWzBdKSA/IG1xWzBdIDogcGFyc2VJbnQobXFbMF0pLCBtcTEgPSAxID09PSBtcS5sZW5ndGggPyBtcTAgOiBpc05hTihtcVsxXSkgPyBtcVsxXSA6IHBhcnNlSW50KG1xWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiKlwiICE9PSBtcTEgJiYgXCIrXCIgIT09IG1xMSB8fCAobXEwID0gXCIqXCIgPT09IG1xMSA/IDAgOiAxKSwgcXVhbnRpZmllci5xdWFudGlmaWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBtcTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IG1xMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdLm1hdGNoZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWF0Y2ggPSBtYXRjaGVzLnBvcCgpKS5pc0dyb3VwIHx8ICgoZ3JvdXBUb2tlbiA9IG5ldyBNYXNrVG9rZW4oITApKS5tYXRjaGVzLnB1c2gobWF0Y2gpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gZ3JvdXBUb2tlbiksIG1hdGNoZXMucHVzaChtYXRjaCksIG1hdGNoZXMucHVzaChxdWFudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIChtYXRjaCA9IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnBvcCgpKS5pc0dyb3VwIHx8IChyZWdleE1hc2sgJiYgbnVsbCA9PT0gbWF0Y2guZm4gJiYgXCIuXCIgPT09IG1hdGNoLmRlZiAmJiAobWF0Y2guZm4gPSBuZXcgUmVnRXhwKG1hdGNoLmRlZiwgb3B0cy5jYXNpbmcgPyBcImlcIiA6IFwiXCIpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChncm91cFRva2VuID0gbmV3IE1hc2tUb2tlbighMCkpLm1hdGNoZXMucHVzaChtYXRjaCksIG1hdGNoID0gZ3JvdXBUb2tlbiksIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gobWF0Y2gpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChxdWFudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBvcHRzLmFsdGVybmF0b3JtYXJrZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJUb2tlbiA9IChjdXJyZW50T3BlbmluZ1Rva2VuID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdKS5tYXRjaGVzW2N1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNYXRjaCA9IGN1cnJlbnRPcGVuaW5nVG9rZW4ub3Blbkdyb3VwICYmIChzdWJUb2tlbi5tYXRjaGVzID09PSB1bmRlZmluZWQgfHwgITEgPT09IHN1YlRva2VuLmlzR3JvdXAgJiYgITEgPT09IHN1YlRva2VuLmlzQWx0ZXJuYXRvcikgPyBvcGVuZW5pbmdzLnBvcCgpIDogY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgbGFzdE1hdGNoID0gY3VycmVudFRva2VuLm1hdGNoZXMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0TWF0Y2guaXNBbHRlcm5hdG9yKSBvcGVuZW5pbmdzLnB1c2gobGFzdE1hdGNoKTsgZWxzZSBpZiAobGFzdE1hdGNoLmFsdGVybmF0b3JHcm91cCA/IChhbHRlcm5hdG9yID0gb3BlbmVuaW5ncy5wb3AoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNYXRjaC5hbHRlcm5hdG9yR3JvdXAgPSAhMSkgOiBhbHRlcm5hdG9yID0gbmV3IE1hc2tUb2tlbighMSwgITEsICExLCAhMCksIGFsdGVybmF0b3IubWF0Y2hlcy5wdXNoKGxhc3RNYXRjaCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLnB1c2goYWx0ZXJuYXRvciksIGxhc3RNYXRjaC5vcGVuR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNYXRjaC5vcGVuR3JvdXAgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbHRlcm5hdG9yR3JvdXAgPSBuZXcgTWFza1Rva2VuKCEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3JHcm91cC5hbHRlcm5hdG9yR3JvdXAgPSAhMCwgb3BlbmVuaW5ncy5wdXNoKGFsdGVybmF0b3JHcm91cCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKDtvcGVuZW5pbmdzLmxlbmd0aCA+IDA7ICkgb3BlbmluZ1Rva2VuID0gb3BlbmVuaW5ncy5wb3AoKSwgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChvcGVuaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgKHZlcmlmeUdyb3VwTWFya2VyKGN1cnJlbnRUb2tlbiksIG1hc2tUb2tlbnMucHVzaChjdXJyZW50VG9rZW4pKSwgXHJcbiAgICAgICAgICAgICAgICAob3B0cy5udW1lcmljSW5wdXQgfHwgb3B0cy5pc1JUTCkgJiYgcmV2ZXJzZVRva2VucyhtYXNrVG9rZW5zWzBdKSwgbWFza1Rva2VucztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIElucHV0bWFzay5leHRlbmREZWZhdWx0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgJC5leHRlbmQoITAsIElucHV0bWFzay5wcm90b3R5cGUuZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG4gICAgICAgIH0sIElucHV0bWFzay5leHRlbmREZWZpbml0aW9ucyA9IGZ1bmN0aW9uKGRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgJC5leHRlbmQoITAsIElucHV0bWFzay5wcm90b3R5cGUuZGVmaW5pdGlvbnMsIGRlZmluaXRpb24pO1xyXG4gICAgICAgIH0sIElucHV0bWFzay5leHRlbmRBbGlhc2VzID0gZnVuY3Rpb24oYWxpYXMpIHtcclxuICAgICAgICAgICAgJC5leHRlbmQoITAsIElucHV0bWFzay5wcm90b3R5cGUuYWxpYXNlcywgYWxpYXMpO1xyXG4gICAgICAgIH0sIElucHV0bWFzay5mb3JtYXQgPSBmdW5jdGlvbih2YWx1ZSwgb3B0aW9ucywgbWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIElucHV0bWFzayhvcHRpb25zKS5mb3JtYXQodmFsdWUsIG1ldGFkYXRhKTtcclxuICAgICAgICB9LCBJbnB1dG1hc2sudW5tYXNrID0gZnVuY3Rpb24odmFsdWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIElucHV0bWFzayhvcHRpb25zKS51bm1hc2tlZHZhbHVlKHZhbHVlKTtcclxuICAgICAgICB9LCBJbnB1dG1hc2suaXNWYWxpZCA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBJbnB1dG1hc2sob3B0aW9ucykuaXNWYWxpZCh2YWx1ZSk7XHJcbiAgICAgICAgfSwgSW5wdXRtYXNrLnJlbW92ZSA9IGZ1bmN0aW9uKGVsZW1zKSB7XHJcbiAgICAgICAgICAgICQuZWFjaChlbGVtcywgZnVuY3Rpb24obmR4LCBlbCkge1xyXG4gICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrICYmIGVsLmlucHV0bWFzay5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4ID0gZnVuY3Rpb24oc3RyKSB7XHJcbiAgICAgICAgICAgIHZhciBzcGVjaWFscyA9IFsgXCIvXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsIFwiP1wiLCBcInxcIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgXCJcXFxcXCIsIFwiJFwiLCBcIl5cIiBdO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChcIihcXFxcXCIgKyBzcGVjaWFscy5qb2luKFwifFxcXFxcIikgKyBcIilcIiwgXCJnaW1cIiksIFwiXFxcXCQxXCIpO1xyXG4gICAgICAgIH0sIElucHV0bWFzay5rZXlDb2RlID0ge1xyXG4gICAgICAgICAgICBBTFQ6IDE4LFxyXG4gICAgICAgICAgICBCQUNLU1BBQ0U6IDgsXHJcbiAgICAgICAgICAgIEJBQ0tTUEFDRV9TQUZBUkk6IDEyNyxcclxuICAgICAgICAgICAgQ0FQU19MT0NLOiAyMCxcclxuICAgICAgICAgICAgQ09NTUE6IDE4OCxcclxuICAgICAgICAgICAgQ09NTUFORDogOTEsXHJcbiAgICAgICAgICAgIENPTU1BTkRfTEVGVDogOTEsXHJcbiAgICAgICAgICAgIENPTU1BTkRfUklHSFQ6IDkzLFxyXG4gICAgICAgICAgICBDT05UUk9MOiAxNyxcclxuICAgICAgICAgICAgREVMRVRFOiA0NixcclxuICAgICAgICAgICAgRE9XTjogNDAsXHJcbiAgICAgICAgICAgIEVORDogMzUsXHJcbiAgICAgICAgICAgIEVOVEVSOiAxMyxcclxuICAgICAgICAgICAgRVNDQVBFOiAyNyxcclxuICAgICAgICAgICAgSE9NRTogMzYsXHJcbiAgICAgICAgICAgIElOU0VSVDogNDUsXHJcbiAgICAgICAgICAgIExFRlQ6IDM3LFxyXG4gICAgICAgICAgICBNRU5VOiA5MyxcclxuICAgICAgICAgICAgTlVNUEFEX0FERDogMTA3LFxyXG4gICAgICAgICAgICBOVU1QQURfREVDSU1BTDogMTEwLFxyXG4gICAgICAgICAgICBOVU1QQURfRElWSURFOiAxMTEsXHJcbiAgICAgICAgICAgIE5VTVBBRF9FTlRFUjogMTA4LFxyXG4gICAgICAgICAgICBOVU1QQURfTVVMVElQTFk6IDEwNixcclxuICAgICAgICAgICAgTlVNUEFEX1NVQlRSQUNUOiAxMDksXHJcbiAgICAgICAgICAgIFBBR0VfRE9XTjogMzQsXHJcbiAgICAgICAgICAgIFBBR0VfVVA6IDMzLFxyXG4gICAgICAgICAgICBQRVJJT0Q6IDE5MCxcclxuICAgICAgICAgICAgUklHSFQ6IDM5LFxyXG4gICAgICAgICAgICBTSElGVDogMTYsXHJcbiAgICAgICAgICAgIFNQQUNFOiAzMixcclxuICAgICAgICAgICAgVEFCOiA5LFxyXG4gICAgICAgICAgICBVUDogMzgsXHJcbiAgICAgICAgICAgIFdJTkRPV1M6IDkxLFxyXG4gICAgICAgICAgICBYOiA4OFxyXG4gICAgICAgIH0sIElucHV0bWFzaztcclxuICAgIH0pO1xyXG59LCBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcclxuICAgIG1vZHVsZS5leHBvcnRzID0galF1ZXJ5O1xyXG59LCBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg5KSwgX193ZWJwYWNrX3JlcXVpcmVfXygxMiksIF9fd2VicGFja19yZXF1aXJlX18oMTMpLCBcclxuICAgIF9fd2VicGFja19yZXF1aXJlX18oMTQpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcclxuICAgIHZhciBfaW5wdXRtYXNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSksIF9pbnB1dG1hc2s0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSwgX2pxdWVyeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMikpO1xyXG4gICAgX2lucHV0bWFzazQuZGVmYXVsdCA9PT0gX2pxdWVyeTIuZGVmYXVsdCAmJiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSwgd2luZG93LklucHV0bWFzayA9IF9pbnB1dG1hc2syLmRlZmF1bHQ7XHJcbn0sIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG4gICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgY29udGVudCAmJiAoY29udGVudCA9IFsgWyBtb2R1bGUuaSwgY29udGVudCwgXCJcIiBdIF0pO1xyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgaG1yOiAhMFxyXG4gICAgfTtcclxuICAgIG9wdGlvbnMudHJhbnNmb3JtID0gdm9pZCAwO1xyXG4gICAgX193ZWJwYWNrX3JlcXVpcmVfXyg3KShjb250ZW50LCBvcHRpb25zKTtcclxuICAgIGNvbnRlbnQubG9jYWxzICYmIChtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzKTtcclxufSwgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbiAgICAobW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKHZvaWQgMCkpLnB1c2goWyBtb2R1bGUuaSwgXCJzcGFuLmltLWNhcmV0IHtcXHJcXG4gICAgLXdlYmtpdC1hbmltYXRpb246IDFzIGJsaW5rIHN0ZXAtZW5kIGluZmluaXRlO1xcclxcbiAgICBhbmltYXRpb246IDFzIGJsaW5rIHN0ZXAtZW5kIGluZmluaXRlO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIGJsaW5rIHtcXHJcXG4gICAgZnJvbSwgdG8ge1xcclxcbiAgICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiBibGFjaztcXHJcXG4gICAgfVxcclxcbiAgICA1MCUge1xcclxcbiAgICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5cXHJcXG5ALXdlYmtpdC1rZXlmcmFtZXMgYmxpbmsge1xcclxcbiAgICBmcm9tLCB0byB7XFxyXFxuICAgICAgICBib3JkZXItcmlnaHQtY29sb3I6IGJsYWNrO1xcclxcbiAgICB9XFxyXFxuICAgIDUwJSB7XFxyXFxuICAgICAgICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xcclxcbiAgICB9XFxyXFxufVxcclxcblxcclxcbnNwYW4uaW0tc3RhdGljIHtcXHJcXG4gICAgY29sb3I6IGdyZXk7XFxyXFxufVxcclxcblxcclxcbmRpdi5pbS1jb2xvcm1hc2sge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGJvcmRlci1zdHlsZTogaW5zZXQ7XFxyXFxuICAgIGJvcmRlci13aWR0aDogMnB4O1xcclxcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IHRleHRmaWVsZDtcXHJcXG4gICAgLW1vei1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7XFxyXFxuICAgIGFwcGVhcmFuY2U6IHRleHRmaWVsZDtcXHJcXG59XFxyXFxuXFxyXFxuZGl2LmltLWNvbG9ybWFzayA+IGlucHV0IHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcclxcbiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XFxyXFxuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogY2FyZXQ7XFxyXFxuICAgIC1tb3otYXBwZWFyYW5jZTogY2FyZXQ7XFxyXFxuICAgIGFwcGVhcmFuY2U6IGNhcmV0O1xcclxcbiAgICBib3JkZXItc3R5bGU6IG5vbmU7XFxyXFxuICAgIGxlZnQ6IDA7IC8qY2FsY3VsYXRlZCovXFxyXFxufVxcclxcblxcclxcbmRpdi5pbS1jb2xvcm1hc2sgPiBpbnB1dDpmb2N1cyB7XFxyXFxuICAgIG91dGxpbmU6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbmRpdi5pbS1jb2xvcm1hc2sgPiBpbnB1dDo6LW1vei1zZWxlY3Rpb257XFxyXFxuICAgIGJhY2tncm91bmQ6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbmRpdi5pbS1jb2xvcm1hc2sgPiBpbnB1dDo6c2VsZWN0aW9ue1xcclxcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xcclxcbn1cXHJcXG5kaXYuaW0tY29sb3JtYXNrID4gaW5wdXQ6Oi1tb3otc2VsZWN0aW9ue1xcclxcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG5kaXYuaW0tY29sb3JtYXNrID4gZGl2IHtcXHJcXG4gICAgY29sb3I6IGJsYWNrO1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIHdpZHRoOiAxMDBweDsgLypjYWxjdWxhdGVkKi9cXHJcXG59XCIsIFwiXCIgXSk7XHJcbn0sIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xyXG4gICAgZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgXCJcIiwgY3NzTWFwcGluZyA9IGl0ZW1bM107XHJcbiAgICAgICAgaWYgKCFjc3NNYXBwaW5nKSByZXR1cm4gY29udGVudDtcclxuICAgICAgICBpZiAodXNlU291cmNlTWFwICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYnRvYSkge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKSwgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24oc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgXCIgKi9cIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBbIGNvbnRlbnQgXS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFsgc291cmNlTWFwcGluZyBdKS5qb2luKFwiXFxuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gWyBjb250ZW50IF0uam9pbihcIlxcblwiKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcclxuICAgICAgICByZXR1cm4gXCIvKiMgXCIgKyAoXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkpICsgXCIgKi9cIjtcclxuICAgIH1cclxuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XHJcbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcclxuICAgICAgICByZXR1cm4gbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVsyXSA/IFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiIDogY29udGVudDtcclxuICAgICAgICAgICAgfSkuam9pbihcIlwiKTtcclxuICAgICAgICB9LCBsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIG1vZHVsZXMgJiYgKG1vZHVsZXMgPSBbIFsgbnVsbCwgbW9kdWxlcywgXCJcIiBdIF0pO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge30sIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcclxuICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgPT0gdHlwZW9mIGlkICYmIChhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9ICEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgXCJudW1iZXJcIiA9PSB0eXBlb2YgaXRlbVswXSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dIHx8IChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdID8gaXRlbVsyXSA9IG1lZGlhUXVlcnkgOiBtZWRpYVF1ZXJ5ICYmIChpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCIpLCBcclxuICAgICAgICAgICAgICAgIGxpc3QucHVzaChpdGVtKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBsaXN0O1xyXG4gICAgfTtcclxufSwgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbiAgICBmdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHN0eWxlc1tpXSwgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuICAgICAgICAgICAgaWYgKGRvbVN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBkb21TdHlsZS5yZWZzKys7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG4gICAgICAgICAgICAgICAgZm9yICg7aiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcGFydHMgPSBbXSwgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSBwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZnM6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydHM6IHBhcnRzXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpIHtcclxuICAgICAgICBmb3IgKHZhciBzdHlsZXMgPSBbXSwgbmV3U3R5bGVzID0ge30sIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGxpc3RbaV0sIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF0sIHBhcnQgPSB7XHJcbiAgICAgICAgICAgICAgICBjc3M6IGl0ZW1bMV0sXHJcbiAgICAgICAgICAgICAgICBtZWRpYTogaXRlbVsyXSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBuZXdTdHlsZXNbaWRdID8gbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpIDogc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgICAgIHBhcnRzOiBbIHBhcnQgXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0eWxlcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byk7XHJcbiAgICAgICAgaWYgKCF0YXJnZXQpIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xyXG4gICAgICAgIHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoXCJ0b3BcIiA9PT0gb3B0aW9ucy5pbnNlcnRBdCkgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPyBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyA/IHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSA6IHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSkgOiB0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCksIFxyXG4gICAgICAgIHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7IGVsc2UgaWYgKFwiYm90dG9tXCIgPT09IG9wdGlvbnMuaW5zZXJ0QXQpIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCB8fCAhb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xyXG4gICAgICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xyXG4gICAgICAgICAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XHJcbiAgICAgICAgaWYgKG51bGwgPT09IHN0eWxlLnBhcmVudE5vZGUpIHJldHVybiAhMTtcclxuICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcclxuICAgICAgICB2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcclxuICAgICAgICBpZHggPj0gMCAmJiBzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIiwgYWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpLCBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpLCBcclxuICAgICAgICBzdHlsZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG4gICAgICAgIHJldHVybiBvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCIsIG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCIsIGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpLCBcclxuICAgICAgICBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayksIGxpbms7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBhZGRBdHRycyhlbCwgYXR0cnMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcclxuICAgICAgICAgICAgaWYgKCEocmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykpKSByZXR1cm4gZnVuY3Rpb24oKSB7fTtcclxuICAgICAgICAgICAgb2JqLmNzcyA9IHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG4gICAgICAgICAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKSwgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCAhMSksIFxyXG4gICAgICAgICAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsICEwKTtcclxuICAgICAgICB9IGVsc2Ugb2JqLnNvdXJjZU1hcCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFVSTCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgQmxvYiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGJ0b2EgPyAoc3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSwgXHJcbiAgICAgICAgdXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKSwgcmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSksIHN0eWxlLmhyZWYgJiYgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcclxuICAgICAgICB9KSA6IChzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSwgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKSwgXHJcbiAgICAgICAgcmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZShvYmopLCBmdW5jdGlvbihuZXdPYmopIHtcclxuICAgICAgICAgICAgaWYgKG5ld09iaikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XHJcbiAgICAgICAgICAgIH0gZWxzZSByZW1vdmUoKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcbiAgICAgICAgdmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG4gICAgICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTsgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSwgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgIGNoaWxkTm9kZXNbaW5kZXhdICYmIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKSwgY2hpbGROb2Rlcy5sZW5ndGggPyBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pIDogc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb2JqKSB7XHJcbiAgICAgICAgdmFyIGNzcyA9IG9iai5jc3MsIG1lZGlhID0gb2JqLm1lZGlhO1xyXG4gICAgICAgIGlmIChtZWRpYSAmJiBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSksIHN0eWxlLnN0eWxlU2hlZXQpIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzczsgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAoO3N0eWxlLmZpcnN0Q2hpbGQ7ICkgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUxpbmsobGluaywgb3B0aW9ucywgb2JqKSB7XHJcbiAgICAgICAgdmFyIGNzcyA9IG9iai5jc3MsIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXAsIGF1dG9GaXhVcmxzID0gdm9pZCAwID09PSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyAmJiBzb3VyY2VNYXA7XHJcbiAgICAgICAgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSAmJiAoY3NzID0gZml4VXJscyhjc3MpKSwgc291cmNlTWFwICYmIChjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCIpO1xyXG4gICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoWyBjc3MgXSwge1xyXG4gICAgICAgICAgICB0eXBlOiBcInRleHQvY3NzXCJcclxuICAgICAgICB9KSwgb2xkU3JjID0gbGluay5ocmVmO1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYiksIG9sZFNyYyAmJiBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcbiAgICB9XHJcbiAgICB2YXIgc3R5bGVzSW5Eb20gPSB7fSwgaXNPbGRJRSA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgdmFyIG1lbW87XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBtZW1vICYmIChtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSksIG1lbW87XHJcbiAgICAgICAgfTtcclxuICAgIH0oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xyXG4gICAgfSksIGdldEVsZW1lbnQgPSBmdW5jdGlvbihmbikge1xyXG4gICAgICAgIHZhciBtZW1vID0ge307XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IG1lbW9bc2VsZWN0b3JdKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVUYXJnZXQgPSBmbi5jYWxsKHRoaXMsIHNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lbW9bc2VsZWN0b3JdID0gc3R5bGVUYXJnZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1lbW9bc2VsZWN0b3JdO1xyXG4gICAgICAgIH07XHJcbiAgICB9KGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XHJcbiAgICB9KSwgc2luZ2xldG9uID0gbnVsbCwgc2luZ2xldG9uQ291bnRlciA9IDAsIHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXSwgZml4VXJscyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgREVCVUcgJiYgREVCVUcgJiYgXCJvYmplY3RcIiAhPSB0eXBlb2YgZG9jdW1lbnQpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuICAgICAgICAob3B0aW9ucyA9IG9wdGlvbnMgfHwge30pLmF0dHJzID0gXCJvYmplY3RcIiA9PSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA/IG9wdGlvbnMuYXR0cnMgOiB7fSwgXHJcbiAgICAgICAgb3B0aW9ucy5zaW5nbGV0b24gfHwgKG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpKSwgb3B0aW9ucy5pbnNlcnRJbnRvIHx8IChvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIiksIFxyXG4gICAgICAgIG9wdGlvbnMuaW5zZXJ0QXQgfHwgKG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiKTtcclxuICAgICAgICB2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpLCBmdW5jdGlvbihuZXdMaXN0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIG1heVJlbW92ZSA9IFtdLCBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcbiAgICAgICAgICAgICAgICAoZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXSkucmVmcy0tLCBtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3TGlzdCAmJiBhZGRTdHlsZXNUb0RvbShsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyksIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gZG9tU3R5bGUucmVmcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgdmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRleHRTdG9yZSA9IFtdO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudCwgdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9KCk7XHJcbn0sIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjc3MpIHtcclxuICAgICAgICB2YXIgbG9jYXRpb24gPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93LmxvY2F0aW9uO1xyXG4gICAgICAgIGlmICghbG9jYXRpb24pIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xyXG4gICAgICAgIGlmICghY3NzIHx8IFwic3RyaW5nXCIgIT0gdHlwZW9mIGNzcykgcmV0dXJuIGNzcztcclxuICAgICAgICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdCwgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcclxuICAgICAgICByZXR1cm4gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcclxuICAgICAgICAgICAgdmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmwudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQxO1xyXG4gICAgICAgICAgICB9KS5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJDE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC8pL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSByZXR1cm4gZnVsbE1hdGNoO1xyXG4gICAgICAgICAgICB2YXIgbmV3VXJsO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3VXJsID0gMCA9PT0gdW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA/IHVucXVvdGVkT3JpZ1VybCA6IDAgPT09IHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA/IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmwgOiBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKSwgXHJcbiAgICAgICAgICAgIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufSwgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1xyXG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLml0ZXJhdG9yO1xyXG4gICAgIWZ1bmN0aW9uKGZhY3RvcnkpIHtcclxuICAgICAgICBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gWyBfX3dlYnBhY2tfcmVxdWlyZV9fKDApLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpIF0sIFxyXG4gICAgICAgIHZvaWQgMCAhPT0gKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gZmFjdG9yeSkgPyBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKTtcclxuICAgIH0oZnVuY3Rpb24oJCwgSW5wdXRtYXNrKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc05hTih5ZWFyKSB8fCAyOSA9PT0gbmV3IERhdGUoeWVhciwgMiwgMCkuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMoe1xyXG4gICAgICAgICAgICBcImRkL21tL3l5eXlcIjoge1xyXG4gICAgICAgICAgICAgICAgbWFzazogXCIxLzIveVwiLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZGQvbW0veXl5eVwiLFxyXG4gICAgICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwxcHJlOiBuZXcgUmVnRXhwKFwiWzAtM11cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsMTogbmV3IFJlZ0V4cChcIjBbMS05XXxbMTJdWzAtOV18M1swMV1cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsMnByZTogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMS05XXxbMTJdWzAtOV18M1swMV0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMDFdKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18WzEyXVswLTldKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMS05XXwxWzAxMl0pKXwoMzBcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIigwWzEzLTldfDFbMDEyXSkpfCgzMVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMTM1NzhdfDFbMDJdKSlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxlYXBkYXk6IFwiMjkvMDIvXCIsXHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IFwiL1wiLFxyXG4gICAgICAgICAgICAgICAgeWVhcnJhbmdlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWlueWVhcjogMTkwMCxcclxuICAgICAgICAgICAgICAgICAgICBtYXh5ZWFyOiAyMDk5XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaXNJblllYXJSYW5nZTogZnVuY3Rpb24oY2hycywgbWlueWVhciwgbWF4eWVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihjaHJzKSkgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRlcmVkeWVhciA9IHBhcnNlSW50KGNocnMuY29uY2F0KG1pbnllYXIudG9TdHJpbmcoKS5zbGljZShjaHJzLmxlbmd0aCkpKSwgZW50ZXJlZHllYXIyID0gcGFyc2VJbnQoY2hycy5jb25jYXQobWF4eWVhci50b1N0cmluZygpLnNsaWNlKGNocnMubGVuZ3RoKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXNOYU4oZW50ZXJlZHllYXIpICYmIChtaW55ZWFyIDw9IGVudGVyZWR5ZWFyICYmIGVudGVyZWR5ZWFyIDw9IG1heHllYXIpIHx8ICFpc05hTihlbnRlcmVkeWVhcjIpICYmIChtaW55ZWFyIDw9IGVudGVyZWR5ZWFyMiAmJiBlbnRlcmVkeWVhcjIgPD0gbWF4eWVhcik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGV0ZXJtaW5lYmFzZXllYXI6IGZ1bmN0aW9uKG1pbnllYXIsIG1heHllYXIsIGhpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbnllYXIgPiBjdXJyZW50eWVhcikgcmV0dXJuIG1pbnllYXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heHllYXIgPCBjdXJyZW50eWVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtYXhZZWFyUHJlZml4ID0gbWF4eWVhci50b1N0cmluZygpLnNsaWNlKDAsIDIpLCBtYXhZZWFyUG9zdGZpeCA9IG1heHllYXIudG9TdHJpbmcoKS5zbGljZSgyLCA0KTsgbWF4eWVhciA8IG1heFllYXJQcmVmaXggKyBoaW50OyApIG1heFllYXJQcmVmaXgtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1heHhZZWFyID0gbWF4WWVhclByZWZpeCArIG1heFllYXJQb3N0Zml4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlueWVhciA+IG1heHhZZWFyID8gbWlueWVhciA6IG1heHhZZWFyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobWlueWVhciA8PSBjdXJyZW50eWVhciAmJiBjdXJyZW50eWVhciA8PSBtYXh5ZWFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGN1cnJlbnRZZWFyUHJlZml4ID0gY3VycmVudHllYXIudG9TdHJpbmcoKS5zbGljZSgwLCAyKTsgbWF4eWVhciA8IGN1cnJlbnRZZWFyUHJlZml4ICsgaGludDsgKSBjdXJyZW50WWVhclByZWZpeC0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFllYXJBbmRIaW50ID0gY3VycmVudFllYXJQcmVmaXggKyBoaW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFllYXJBbmRIaW50IDwgbWlueWVhciA/IG1pbnllYXIgOiBjdXJyZW50WWVhckFuZEhpbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50eWVhcjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uKGUsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUklHSFQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbCh0b2RheS5nZXREYXRlKCkudG9TdHJpbmcoKSArICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRGcm9udFZhbHVlOiBmdW5jdGlvbihtYXNrLCBidWZmZXIsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzdGFydCA9IDAsIGxlbmd0aCA9IDAsIGkgPSAwOyBpIDwgbWFzay5sZW5ndGggJiYgXCIyXCIgIT09IG1hc2suY2hhckF0KGkpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmluaXRpb24gPSBvcHRzLmRlZmluaXRpb25zW21hc2suY2hhckF0KGkpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbiA/IChzdGFydCArPSBsZW5ndGgsIGxlbmd0aCA9IGRlZmluaXRpb24uY2FyZGluYWxpdHkpIDogbGVuZ3RoKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXIuam9pbihcIlwiKS5zdWJzdHIoc3RhcnQsIGxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcG9zdFZhbGlkYXRpb246IGZ1bmN0aW9uKGJ1ZmZlciwgY3VycmVudFJlc3VsdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXlNb250aFZhbHVlLCB5ZWFyLCBidWZmZXJTdHIgPSBidWZmZXIuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMCA9PT0gb3B0cy5tYXNrLmluZGV4T2YoXCJ5XCIpID8gKHllYXIgPSBidWZmZXJTdHIuc3Vic3RyKDAsIDQpLCBkYXlNb250aFZhbHVlID0gYnVmZmVyU3RyLnN1YnN0cmluZyg0LCAxMCkpIDogKHllYXIgPSBidWZmZXJTdHIuc3Vic3RyaW5nKDYsIDEwKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgZGF5TW9udGhWYWx1ZSA9IGJ1ZmZlclN0ci5zdWJzdHIoMCwgNikpLCBjdXJyZW50UmVzdWx0ICYmIChkYXlNb250aFZhbHVlICE9PSBvcHRzLmxlYXBkYXkgfHwgaXNMZWFwWWVhcih5ZWFyKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIjFcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMS50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmljdCB8fCBpc1ZhbGlkIHx8IGNocnMuY2hhckF0KDEpICE9PSBvcHRzLnNlcGFyYXRvciAmJiAtMSA9PT0gXCItLi9cIi5pbmRleE9mKGNocnMuY2hhckF0KDEpKSB8fCAhKGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDEudGVzdChcIjBcIiArIGNocnMuY2hhckF0KDApKSkgPyBpc1ZhbGlkIDogKG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gXCIwXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogY2hycy5jaGFyQXQoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGNocnMgPSBjaHJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmFOKG1hc2tzZXQuYnVmZmVyW3BvcyArIDFdKSB8fCAocGNocnMgKz0gbWFza3NldC5idWZmZXJbcG9zICsgMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gMSA9PT0gcGNocnMubGVuZ3RoID8gb3B0cy5yZWdleC52YWwxcHJlLnRlc3QocGNocnMpIDogb3B0cy5yZWdleC52YWwxLnRlc3QocGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSAmJiAob3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGNocnMgKyBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uaW5wdXQpIHx8IChtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uaW5wdXQgPSBcIjBcIiA9PT0gY2hycyA/IFwiMVwiIDogXCIwXCIpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXN0cmljdCAmJiAhaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMS50ZXN0KGNocnMgKyBcIjBcIikpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3NdID0gY2hycywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyWysrcG9zXSA9IFwiMFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IFwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwxLnRlc3QoXCIwXCIgKyBjaHJzKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBcIjBcIiwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IF1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiMlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9udFZhbHVlID0gb3B0cy5nZXRGcm9udFZhbHVlKG1hc2tzZXQubWFzaywgbWFza3NldC5idWZmZXIsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLTEgIT09IGZyb250VmFsdWUuaW5kZXhPZihvcHRzLnBsYWNlaG9sZGVyWzBdKSAmJiAoZnJvbnRWYWx1ZSA9IFwiMDFcIiArIG9wdHMuc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3QgfHwgaXNWYWxpZCB8fCBjaHJzLmNoYXJBdCgxKSAhPT0gb3B0cy5zZXBhcmF0b3IgJiYgLTEgPT09IFwiLS4vXCIuaW5kZXhPZihjaHJzLmNoYXJBdCgxKSkgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBcIjBcIiArIGNocnMuY2hhckF0KDApKSkgPyBpc1ZhbGlkIDogKG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gXCIwXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogY2hycy5jaGFyQXQoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05hTihtYXNrc2V0LmJ1ZmZlcltwb3MgKyAxXSkgfHwgKGNocnMgKz0gbWFza3NldC5idWZmZXJbcG9zICsgMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9udFZhbHVlID0gb3B0cy5nZXRGcm9udFZhbHVlKG1hc2tzZXQubWFzaywgbWFza3NldC5idWZmZXIsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xICE9PSBmcm9udFZhbHVlLmluZGV4T2Yob3B0cy5wbGFjZWhvbGRlclswXSkgJiYgKGZyb250VmFsdWUgPSBcIjAxXCIgKyBvcHRzLnNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSAxID09PSBjaHJzLmxlbmd0aCA/IG9wdHMucmVnZXgudmFsMnByZShvcHRzLnNlcGFyYXRvcikudGVzdChmcm9udFZhbHVlICsgY2hycykgOiBvcHRzLnJlZ2V4LnZhbDIob3B0cy5zZXBhcmF0b3IpLnRlc3QoZnJvbnRWYWx1ZSArIGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkICYmIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSAmJiAob3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGNocnMgKyBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uaW5wdXQpIHx8IChtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uaW5wdXQgPSBcIjBcIiA9PT0gY2hycyA/IFwiMVwiIDogXCIwXCIpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWN0IHx8IGlzVmFsaWQgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBcIjBcIiArIGNocnMpKSA/IGlzVmFsaWQgOiAobWFza3NldC5idWZmZXJbcG9zXSA9IFwiMFwiLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5pc0luWWVhclJhbmdlKGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogNCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZShjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhclByZWZpeCA9IG9wdHMuZGV0ZXJtaW5lYmFzZXllYXIob3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhciwgY2hycyArIFwiMFwiKS50b1N0cmluZygpLnNsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZSh5ZWFyUHJlZml4ICsgY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgwKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZWFyUHJlZml4ID0gb3B0cy5kZXRlcm1pbmViYXNleWVhcihvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyLCBjaHJzICsgXCIwXCIpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMiksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKHllYXJQcmVmaXggKyBjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IHllYXJQcmVmaXguY2hhckF0KDApLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zKytdID0geWVhclByZWZpeC5jaGFyQXQoMSksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZShjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhclByZWZpeCA9IG9wdHMuZGV0ZXJtaW5lYmFzZXllYXIob3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhciwgY2hycykudG9TdHJpbmcoKS5zbGljZSgwLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPSBvcHRzLmlzSW5ZZWFyUmFuZ2UoY2hyc1swXSArIHllYXJQcmVmaXhbMV0gKyBjaHJzWzFdLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IHllYXJQcmVmaXguY2hhckF0KDEpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllYXJQcmVmaXggPSBvcHRzLmRldGVybWluZWJhc2V5ZWFyKG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIsIGNocnMpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMiksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKHllYXJQcmVmaXggKyBjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0geWVhclByZWZpeC5jaGFyQXQoMCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgxKSwgbWFza3NldC5idWZmZXJbcG9zKytdID0gY2hycy5jaGFyQXQoMCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLmlzSW5ZZWFyUmFuZ2UoY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBdXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGluc2VydE1vZGU6ICExLFxyXG4gICAgICAgICAgICAgICAgYXV0b1VubWFzazogITFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJtbS9kZC95eXl5XCI6IHtcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIm1tL2RkL3l5eXlcIixcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBcImRkL21tL3l5eXlcIixcclxuICAgICAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsMnByZTogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMTMtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiWzAtM10pfCgwMlwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiWzAtMl0pXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsMjogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMS05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIoMFsxLTldfFsxMl1bMC05XSkpfCgoMFsxMy05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMCl8KCgwWzEzNTc4XXwxWzAyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIjMxKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbDFwcmU6IG5ldyBSZWdFeHAoXCJbMDFdXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbDE6IG5ldyBSZWdFeHAoXCIwWzEtOV18MVswMTJdXCIpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbGVhcGRheTogXCIwMi8yOS9cIixcclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24oZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSBJbnB1dG1hc2sua2V5Q29kZS5SSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKCh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSArIHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInl5eXkvbW0vZGRcIjoge1xyXG4gICAgICAgICAgICAgICAgbWFzazogXCJ5LzEvMlwiLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwieXl5eS9tbS9kZFwiLFxyXG4gICAgICAgICAgICAgICAgYWxpYXM6IFwibW0vZGQveXl5eVwiLFxyXG4gICAgICAgICAgICAgICAgbGVhcGRheTogXCIvMDIvMjlcIixcclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24oZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSBJbnB1dG1hc2sua2V5Q29kZS5SSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSArIHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImRkLm1tLnl5eXlcIjoge1xyXG4gICAgICAgICAgICAgICAgbWFzazogXCIxLjIueVwiLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZGQubW0ueXl5eVwiLFxyXG4gICAgICAgICAgICAgICAgbGVhcGRheTogXCIyOS4wMi5cIixcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogXCIuXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlhczogXCJkZC9tbS95eXl5XCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJkZC1tbS15eXl5XCI6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiMS0yLXlcIixcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImRkLW1tLXl5eXlcIixcclxuICAgICAgICAgICAgICAgIGxlYXBkYXk6IFwiMjktMDItXCIsXHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IFwiLVwiLFxyXG4gICAgICAgICAgICAgICAgYWxpYXM6IFwiZGQvbW0veXl5eVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwibW0uZGQueXl5eVwiOiB7XHJcbiAgICAgICAgICAgICAgICBtYXNrOiBcIjEuMi55XCIsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJtbS5kZC55eXl5XCIsXHJcbiAgICAgICAgICAgICAgICBsZWFwZGF5OiBcIjAyLjI5LlwiLFxyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi5cIixcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBcIm1tL2RkL3l5eXlcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcIm1tLWRkLXl5eXlcIjoge1xyXG4gICAgICAgICAgICAgICAgbWFzazogXCIxLTIteVwiLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibW0tZGQteXl5eVwiLFxyXG4gICAgICAgICAgICAgICAgbGVhcGRheTogXCIwMi0yOS1cIixcclxuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogXCItXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlhczogXCJtbS9kZC95eXl5XCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJ5eXl5Lm1tLmRkXCI6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwieS4xLjJcIixcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcInl5eXkubW0uZGRcIixcclxuICAgICAgICAgICAgICAgIGxlYXBkYXk6IFwiLjAyLjI5XCIsXHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IFwiLlwiLFxyXG4gICAgICAgICAgICAgICAgYWxpYXM6IFwieXl5eS9tbS9kZFwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwieXl5eS1tbS1kZFwiOiB7XHJcbiAgICAgICAgICAgICAgICBtYXNrOiBcInktMS0yXCIsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ5eXl5LW1tLWRkXCIsXHJcbiAgICAgICAgICAgICAgICBsZWFwZGF5OiBcIi0wMi0yOVwiLFxyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi1cIixcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBcInl5eXkvbW0vZGRcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXRldGltZToge1xyXG4gICAgICAgICAgICAgICAgbWFzazogXCIxLzIveSBoOnNcIixcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImRkL21tL3l5eXkgaGg6bW1cIixcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBcImRkL21tL3l5eXlcIixcclxuICAgICAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHJzcHJlOiBuZXcgUmVnRXhwKFwiWzAxMl1cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgaHJzMjQ6IG5ldyBSZWdFeHAoXCIyWzAtNF18MVszLTldXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGhyczogbmV3IFJlZ0V4cChcIlswMV1bMC05XXwyWzAtNF1cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgYW1wbTogbmV3IFJlZ0V4cChcIl5bYXxwfEF8UF1bbXxNXVwiKSxcclxuICAgICAgICAgICAgICAgICAgICBtc3ByZTogbmV3IFJlZ0V4cChcIlswLTVdXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1zOiBuZXcgUmVnRXhwKFwiWzAtNV1bMC05XVwiKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRpbWVzZXBhcmF0b3I6IFwiOlwiLFxyXG4gICAgICAgICAgICAgICAgaG91ckZvcm1hdDogXCIyNFwiLFxyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBoOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIjI0XCIgPT09IG9wdHMuaG91ckZvcm1hdCAmJiAyNCA9PT0gcGFyc2VJbnQoY2hycywgMTApKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zIC0gMV0gPSBcIjBcIiwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3NdID0gXCIwXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IFwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lmhycy50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQgJiYgKGNocnMuY2hhckF0KDEpID09PSBvcHRzLnRpbWVzZXBhcmF0b3IgfHwgLTEgIT09IFwiLS46XCIuaW5kZXhPZihjaHJzLmNoYXJBdCgxKSkpICYmIChpc1ZhbGlkID0gb3B0cy5yZWdleC5ocnMudGVzdChcIjBcIiArIGNocnMuY2hhckF0KDApKSkpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IFwiMFwiLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBjaHJzLmNoYXJBdCgwKSwgcG9zKyssIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMudGltZXNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmIFwiMjRcIiAhPT0gb3B0cy5ob3VyRm9ybWF0ICYmIG9wdHMucmVnZXguaHJzMjQudGVzdChjaHJzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBwYXJzZUludChjaHJzLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI0ID09PSB0bXAgPyAobWFza3NldC5idWZmZXJbcG9zICsgNV0gPSBcImFcIiwgbWFza3NldC5idWZmZXJbcG9zICsgNl0gPSBcIm1cIikgOiAobWFza3NldC5idWZmZXJbcG9zICsgNV0gPSBcInBcIiwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zICsgNl0gPSBcIm1cIiksICh0bXAgLT0gMTIpIDwgMTAgPyAobWFza3NldC5idWZmZXJbcG9zXSA9IHRtcC50b1N0cmluZygpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IFwiMFwiKSA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gdG1wLnRvU3RyaW5nKCkuY2hhckF0KDEpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IHRtcC50b1N0cmluZygpLmNoYXJBdCgwKSksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3MgKyA2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG1hc2tzZXQuYnVmZmVyW3Bvc11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFsge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC5ocnNwcmUudGVzdChjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWN0IHx8IGlzVmFsaWQgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC5ocnMudGVzdChcIjBcIiArIGNocnMpKSA/IGlzVmFsaWQgOiAobWFza3NldC5idWZmZXJbcG9zXSA9IFwiMFwiLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtNV1bMC05XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXgubXNwcmUudGVzdChjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWN0IHx8IGlzVmFsaWQgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC5tcy50ZXN0KFwiMFwiICsgY2hycykpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gXCIwXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLnJlZ2V4LmFtcG0udGVzdChjaHJzICsgXCJtXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFwibG93ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaW5zZXJ0TW9kZTogITEsXHJcbiAgICAgICAgICAgICAgICBhdXRvVW5tYXNrOiAhMVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXRldGltZTEyOiB7XHJcbiAgICAgICAgICAgICAgICBtYXNrOiBcIjEvMi95IGg6cyB0XFxcXG1cIixcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImRkL21tL3l5eXkgaGg6bW0geG1cIixcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcbiAgICAgICAgICAgICAgICBob3VyRm9ybWF0OiBcIjEyXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJtbS9kZC95eXl5IGhoOm1tIHhtXCI6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiMS8yL3kgaDpzIHRcXFxcbVwiLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibW0vZGQveXl5eSBoaDptbSB4bVwiLFxyXG4gICAgICAgICAgICAgICAgYWxpYXM6IFwiZGF0ZXRpbWUxMlwiLFxyXG4gICAgICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwycHJlOiBmdW5jdGlvbihzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxMy05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMC0zXSl8KDAyXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMC0yXSlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB2YWwyOiBmdW5jdGlvbihzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIigwWzEtOV18WzEyXVswLTldKSl8KCgwWzEzLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIjMwKXwoKDBbMTM1NzhdfDFbMDJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiMzEpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsMXByZTogbmV3IFJlZ0V4cChcIlswMV1cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsMTogbmV3IFJlZ0V4cChcIjBbMS05XXwxWzAxMl1cIilcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBsZWFwZGF5OiBcIjAyLzI5L1wiLFxyXG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbihlLCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSAmJiBlLmtleUNvZGUgPT09IElucHV0bWFzay5rZXlDb2RlLlJJR0hUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwoKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiaGg6bW0gdFwiOiB7XHJcbiAgICAgICAgICAgICAgICBtYXNrOiBcImg6cyB0XFxcXG1cIixcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImhoOm1tIHhtXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlhczogXCJkYXRldGltZVwiLFxyXG4gICAgICAgICAgICAgICAgaG91ckZvcm1hdDogXCIxMlwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiaDpzIHRcIjoge1xyXG4gICAgICAgICAgICAgICAgbWFzazogXCJoOnMgdFxcXFxtXCIsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJoaDptbSB4bVwiLFxyXG4gICAgICAgICAgICAgICAgYWxpYXM6IFwiZGF0ZXRpbWVcIixcclxuICAgICAgICAgICAgICAgIGhvdXJGb3JtYXQ6IFwiMTJcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImhoOm1tOnNzXCI6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiaDpzOnNcIixcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImhoOm1tOnNzXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlhczogXCJkYXRldGltZVwiLFxyXG4gICAgICAgICAgICAgICAgYXV0b1VubWFzazogITFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJoaDptbVwiOiB7XHJcbiAgICAgICAgICAgICAgICBtYXNrOiBcImg6c1wiLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiaGg6bW1cIixcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcbiAgICAgICAgICAgICAgICBhdXRvVW5tYXNrOiAhMVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXRlOiB7XHJcbiAgICAgICAgICAgICAgICBhbGlhczogXCJkZC9tbS95eXl5XCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJtbS95eXl5XCI6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiMS95XCIsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJtbS95eXl5XCIsXHJcbiAgICAgICAgICAgICAgICBsZWFwZGF5OiBcImRvbm90dXNlXCIsXHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0b3I6IFwiL1wiLFxyXG4gICAgICAgICAgICAgICAgYWxpYXM6IFwibW0vZGQveXl5eVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNoYW1zaToge1xyXG4gICAgICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwycHJlOiBmdW5jdGlvbihzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswLTNdKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMS05XXxbMTJdWzAtOV0pKXwoKDBbMS05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMCl8KCgwWzEtNl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMSlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB2YWwxcHJlOiBuZXcgUmVnRXhwKFwiWzAxXVwiKSxcclxuICAgICAgICAgICAgICAgICAgICB2YWwxOiBuZXcgUmVnRXhwKFwiMFsxLTldfDFbMDEyXVwiKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHllYXJyYW5nZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbnllYXI6IDEzMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4eWVhcjogMTQ5OVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwieS8xLzJcIixcclxuICAgICAgICAgICAgICAgIGxlYXBkYXk6IFwiLzEyLzMwXCIsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ5eXl5L21tL2RkXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlhczogXCJtbS9kZC95eXl5XCIsXHJcbiAgICAgICAgICAgICAgICBjbGVhckluY29tcGxldGU6ICEwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwieXl5eS1tbS1kZCBoaDptbTpzc1wiOiB7XHJcbiAgICAgICAgICAgICAgICBtYXNrOiBcInktMS0yIGg6czpzXCIsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ5eXl5LW1tLWRkIGhoOm1tOnNzXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlhczogXCJkYXRldGltZVwiLFxyXG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi1cIixcclxuICAgICAgICAgICAgICAgIGxlYXBkYXk6IFwiLTAyLTI5XCIsXHJcbiAgICAgICAgICAgICAgICByZWdleDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbDJwcmU6IGZ1bmN0aW9uKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEzLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswLTNdKXwoMDJcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswLTJdKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMS05XXxbMTJdWzAtOV0pKXwoKDBbMTMtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiMzApfCgoMFsxMzU3OF18MVswMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMSlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB2YWwxcHJlOiBuZXcgUmVnRXhwKFwiWzAxXVwiKSxcclxuICAgICAgICAgICAgICAgICAgICB2YWwxOiBuZXcgUmVnRXhwKFwiMFsxLTldfDFbMDEyXVwiKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24oZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge31cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLCBJbnB1dG1hc2s7XHJcbiAgICB9KTtcclxufSwgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcclxuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcjtcclxuICAgIHZvaWQgMCAhPT0gKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcclxuICAgIH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpKSAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyk7XHJcbn0sIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XHJcbiAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuaXRlcmF0b3I7XHJcbiAgICB2b2lkIDAgIT09IChfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcclxuICAgIH0uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBleHBvcnRzLCBtb2R1bGUpKSAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyk7XHJcbn0sIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcclxuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcjtcclxuICAgICFmdW5jdGlvbihmYWN0b3J5KSB7XHJcbiAgICAgICAgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFsgX193ZWJwYWNrX3JlcXVpcmVfXygwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxKSBdLCBcclxuICAgICAgICB2b2lkIDAgIT09IChfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IGZhY3RvcnkpID8gX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyk7XHJcbiAgICB9KGZ1bmN0aW9uKCQsIElucHV0bWFzaykge1xyXG4gICAgICAgIHJldHVybiBJbnB1dG1hc2suZXh0ZW5kRGVmaW5pdGlvbnMoe1xyXG4gICAgICAgICAgICBBOiB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiW0EtWmEtetCQLdGP0IHRkcOALcO/wrVdXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgIGNhc2luZzogXCJ1cHBlclwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiJlwiOiB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOUEtWmEtetCQLdGP0IHRkcOALcO/wrVdXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgIGNhc2luZzogXCJ1cHBlclwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiI1wiOiB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOUEtRmEtZl1cIixcclxuICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgY2FzaW5nOiBcInVwcGVyXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLCBJbnB1dG1hc2suZXh0ZW5kQWxpYXNlcyh7XHJcbiAgICAgICAgICAgIHVybDoge1xyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBpOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCIuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiKFxcXFxodHRwOi8vKXwoXFxcXGh0dHBcXFxcczovLyl8KGZ0cDovLyl8KGZ0cFxcXFxzOi8vKWl7K31cIixcclxuICAgICAgICAgICAgICAgIGluc2VydE1vZGU6ICExLFxyXG4gICAgICAgICAgICAgICAgYXV0b1VubWFzazogITEsXHJcbiAgICAgICAgICAgICAgICBpbnB1dG1vZGU6IFwidXJsXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXA6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiaVtpW2ldXS5pW2lbaV1dLmlbaVtpXV0uaVtpW2ldXVwiLFxyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBpOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3MgLSAxID4gLTEgJiYgXCIuXCIgIT09IG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID8gKGNocnMgPSBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSArIGNocnMsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hycyA9IHBvcyAtIDIgPiAtMSAmJiBcIi5cIiAhPT0gbWFza3NldC5idWZmZXJbcG9zIC0gMl0gPyBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAyXSArIGNocnMgOiBcIjBcIiArIGNocnMpIDogY2hycyA9IFwiMDBcIiArIGNocnMsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIjI1WzAtNV18MlswLTRdWzAtOV18WzAxXVswLTldWzAtOV1cIikudGVzdChjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb25Vbk1hc2s6IGZ1bmN0aW9uKG1hc2tlZFZhbHVlLCB1bm1hc2tlZFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlucHV0bW9kZTogXCJudW1lcmljXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW1haWw6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiKnsxLDY0fVsuKnsxLDY0fV1bLip7MSw2NH1dWy4qezEsNjN9XUAtezEsNjN9Li17MSw2M31bLi17MSw2M31dWy4tezEsNjN9XVwiLFxyXG4gICAgICAgICAgICAgICAgZ3JlZWR5OiAhMSxcclxuICAgICAgICAgICAgICAgIG9uQmVmb3JlUGFzdGU6IGZ1bmN0aW9uKHBhc3RlZFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwYXN0ZWRWYWx1ZSA9IHBhc3RlZFZhbHVlLnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoXCJtYWlsdG86XCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCIqXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTlBLVphLXohIyQlJicqKy89P15fYHt8fX4tXVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBcImxvd2VyXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiLVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05QS1aYS16LV1cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogXCJsb3dlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uVW5NYXNrOiBmdW5jdGlvbihtYXNrZWRWYWx1ZSwgdW5tYXNrZWRWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXNrZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpbnB1dG1vZGU6IFwiZW1haWxcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtYWM6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiIyM6IyM6IyM6IyM6IyM6IyNcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB2aW46IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiVnsxM305ezR9XCIsXHJcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFY6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIltBLUhKLU5QUi1aYS1oai1ucHItelxcXFxkXVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBcInVwcGVyXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbmNvbXBsZXRlOiAhMCxcclxuICAgICAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICEwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSwgSW5wdXRtYXNrO1xyXG4gICAgfSk7XHJcbn0sIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcclxuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcjtcclxuICAgICFmdW5jdGlvbihmYWN0b3J5KSB7XHJcbiAgICAgICAgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFsgX193ZWJwYWNrX3JlcXVpcmVfXygwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxKSBdLCBcclxuICAgICAgICB2b2lkIDAgIT09IChfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IGZhY3RvcnkpID8gX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyk7XHJcbiAgICB9KGZ1bmN0aW9uKCQsIElucHV0bWFzaywgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gYXV0b0VzY2FwZSh0eHQsIG9wdHMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgZXNjYXBlZFR4dCA9IFwiXCIsIGkgPSAwOyBpIDwgdHh0Lmxlbmd0aDsgaSsrKSBJbnB1dG1hc2sucHJvdG90eXBlLmRlZmluaXRpb25zW3R4dC5jaGFyQXQoaSldIHx8IG9wdHMuZGVmaW5pdGlvbnNbdHh0LmNoYXJBdChpKV0gfHwgb3B0cy5vcHRpb25hbG1hcmtlci5zdGFydCA9PT0gdHh0LmNoYXJBdChpKSB8fCBvcHRzLm9wdGlvbmFsbWFya2VyLmVuZCA9PT0gdHh0LmNoYXJBdChpKSB8fCBvcHRzLnF1YW50aWZpZXJtYXJrZXIuc3RhcnQgPT09IHR4dC5jaGFyQXQoaSkgfHwgb3B0cy5xdWFudGlmaWVybWFya2VyLmVuZCA9PT0gdHh0LmNoYXJBdChpKSB8fCBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0ID09PSB0eHQuY2hhckF0KGkpIHx8IG9wdHMuZ3JvdXBtYXJrZXIuZW5kID09PSB0eHQuY2hhckF0KGkpIHx8IG9wdHMuYWx0ZXJuYXRvcm1hcmtlciA9PT0gdHh0LmNoYXJBdChpKSA/IGVzY2FwZWRUeHQgKz0gXCJcXFxcXCIgKyB0eHQuY2hhckF0KGkpIDogZXNjYXBlZFR4dCArPSB0eHQuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXNjYXBlZFR4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIElucHV0bWFzay5leHRlbmRBbGlhc2VzKHtcclxuICAgICAgICAgICAgbnVtZXJpYzoge1xyXG4gICAgICAgICAgICAgICAgbWFzazogZnVuY3Rpb24ob3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgwICE9PSBvcHRzLnJlcGVhdCAmJiBpc05hTihvcHRzLmludGVnZXJEaWdpdHMpICYmIChvcHRzLmludGVnZXJEaWdpdHMgPSBvcHRzLnJlcGVhdCksIFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMucmVwZWF0ID0gMCwgb3B0cy5ncm91cFNlcGFyYXRvciA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChcIi5cIiA9PT0gb3B0cy5yYWRpeFBvaW50ID8gb3B0cy5ncm91cFNlcGFyYXRvciA9IFwiLFwiIDogXCIsXCIgPT09IG9wdHMucmFkaXhQb2ludCA/IG9wdHMuZ3JvdXBTZXBhcmF0b3IgPSBcIi5cIiA6IG9wdHMuZ3JvdXBTZXBhcmF0b3IgPSBcIlwiKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIgPT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgJiYgKG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciA9IHVuZGVmaW5lZCksIG9wdHMuYXV0b0dyb3VwID0gb3B0cy5hdXRvR3JvdXAgJiYgXCJcIiAhPT0gb3B0cy5ncm91cFNlcGFyYXRvciwgXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5hdXRvR3JvdXAgJiYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIG9wdHMuZ3JvdXBTaXplICYmIGlzRmluaXRlKG9wdHMuZ3JvdXBTaXplKSAmJiAob3B0cy5ncm91cFNpemUgPSBwYXJzZUludChvcHRzLmdyb3VwU2l6ZSkpLCBcclxuICAgICAgICAgICAgICAgICAgICBpc0Zpbml0ZShvcHRzLmludGVnZXJEaWdpdHMpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VwcyA9IE1hdGguZmxvb3Iob3B0cy5pbnRlZ2VyRGlnaXRzIC8gb3B0cy5ncm91cFNpemUpLCBtb2QgPSBvcHRzLmludGVnZXJEaWdpdHMgJSBvcHRzLmdyb3VwU2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5pbnRlZ2VyRGlnaXRzID0gcGFyc2VJbnQob3B0cy5pbnRlZ2VyRGlnaXRzKSArICgwID09PSBtb2QgPyBzZXBzIC0gMSA6IHNlcHMpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5pbnRlZ2VyRGlnaXRzIDwgMSAmJiAob3B0cy5pbnRlZ2VyRGlnaXRzID0gXCIqXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCA+IDEgJiYgKG9wdHMucGxhY2Vob2xkZXIgPSBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSksIFxyXG4gICAgICAgICAgICAgICAgICAgIFwicmFkaXhGb2N1c1wiID09PSBvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrICYmIFwiXCIgPT09IG9wdHMucGxhY2Vob2xkZXIgJiYgITEgPT09IG9wdHMuaW50ZWdlck9wdGlvbmFsICYmIChvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrID0gXCJsdnBcIiksIFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuZGVmaW5pdGlvbnNbXCI7XCJdID0gb3B0cy5kZWZpbml0aW9uc1tcIn5cIl0sIG9wdHMuZGVmaW5pdGlvbnNbXCI7XCJdLmRlZmluaXRpb25TeW1ib2wgPSBcIn5cIiwgXHJcbiAgICAgICAgICAgICAgICAgICAgITAgPT09IG9wdHMubnVtZXJpY0lucHV0ICYmIChvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrID0gXCJyYWRpeEZvY3VzXCIgPT09IG9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2sgPyBcImx2cFwiIDogb3B0cy5wb3NpdGlvbkNhcmV0T25DbGljaywgXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5kaWdpdHNPcHRpb25hbCA9ICExLCBpc05hTihvcHRzLmRpZ2l0cykgJiYgKG9wdHMuZGlnaXRzID0gMiksIG9wdHMuZGVjaW1hbFByb3RlY3QgPSAhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hc2sgPSBcIlsrXVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXNrICs9IGF1dG9Fc2NhcGUob3B0cy5wcmVmaXgsIG9wdHMpLCAhMCA9PT0gb3B0cy5pbnRlZ2VyT3B0aW9uYWwgPyBtYXNrICs9IFwifnsxLFwiICsgb3B0cy5pbnRlZ2VyRGlnaXRzICsgXCJ9XCIgOiBtYXNrICs9IFwifntcIiArIG9wdHMuaW50ZWdlckRpZ2l0cyArIFwifVwiLCBcclxuICAgICAgICAgICAgICAgICAgICBvcHRzLmRpZ2l0cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMucmFkaXhQb2ludERlZmluaXRpb25TeW1ib2wgPSBvcHRzLmRlY2ltYWxQcm90ZWN0ID8gXCI6XCIgOiBvcHRzLnJhZGl4UG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcSA9IG9wdHMuZGlnaXRzLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Zpbml0ZShkcVswXSAmJiBkcVsxXSAmJiBpc0Zpbml0ZShkcVsxXSkpID8gbWFzayArPSBvcHRzLnJhZGl4UG9pbnREZWZpbml0aW9uU3ltYm9sICsgXCI7e1wiICsgb3B0cy5kaWdpdHMgKyBcIn1cIiA6IChpc05hTihvcHRzLmRpZ2l0cykgfHwgcGFyc2VJbnQob3B0cy5kaWdpdHMpID4gMCkgJiYgKG9wdHMuZGlnaXRzT3B0aW9uYWwgPyBtYXNrICs9IFwiW1wiICsgb3B0cy5yYWRpeFBvaW50RGVmaW5pdGlvblN5bWJvbCArIFwiO3sxLFwiICsgb3B0cy5kaWdpdHMgKyBcIn1dXCIgOiBtYXNrICs9IG9wdHMucmFkaXhQb2ludERlZmluaXRpb25TeW1ib2wgKyBcIjt7XCIgKyBvcHRzLmRpZ2l0cyArIFwifVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2sgKz0gYXV0b0VzY2FwZShvcHRzLnN1ZmZpeCwgb3B0cyksIG1hc2sgKz0gXCJbLV1cIiwgb3B0cy5ncmVlZHkgPSAhMSwgbWFzaztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcIixcclxuICAgICAgICAgICAgICAgIGdyZWVkeTogITEsXHJcbiAgICAgICAgICAgICAgICBkaWdpdHM6IFwiKlwiLFxyXG4gICAgICAgICAgICAgICAgZGlnaXRzT3B0aW9uYWw6ICEwLFxyXG4gICAgICAgICAgICAgICAgZW5mb3JjZURpZ2l0c09uQmx1cjogITEsXHJcbiAgICAgICAgICAgICAgICByYWRpeFBvaW50OiBcIi5cIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uQ2FyZXRPbkNsaWNrOiBcInJhZGl4Rm9jdXNcIixcclxuICAgICAgICAgICAgICAgIGdyb3VwU2l6ZTogMyxcclxuICAgICAgICAgICAgICAgIGdyb3VwU2VwYXJhdG9yOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgYXV0b0dyb3VwOiAhMSxcclxuICAgICAgICAgICAgICAgIGFsbG93TWludXM6ICEwLFxyXG4gICAgICAgICAgICAgICAgbmVnYXRpb25TeW1ib2w6IHtcclxuICAgICAgICAgICAgICAgICAgICBmcm9udDogXCItXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFjazogXCJcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGludGVnZXJEaWdpdHM6IFwiK1wiLFxyXG4gICAgICAgICAgICAgICAgaW50ZWdlck9wdGlvbmFsOiAhMCxcclxuICAgICAgICAgICAgICAgIHByZWZpeDogXCJcIixcclxuICAgICAgICAgICAgICAgIHN1ZmZpeDogXCJcIixcclxuICAgICAgICAgICAgICAgIHJpZ2h0QWxpZ246ICEwLFxyXG4gICAgICAgICAgICAgICAgZGVjaW1hbFByb3RlY3Q6ICEwLFxyXG4gICAgICAgICAgICAgICAgbWluOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbWF4OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgc3RlcDogMSxcclxuICAgICAgICAgICAgICAgIGluc2VydE1vZGU6ICEwLFxyXG4gICAgICAgICAgICAgICAgYXV0b1VubWFzazogITEsXHJcbiAgICAgICAgICAgICAgICB1bm1hc2tBc051bWJlcjogITEsXHJcbiAgICAgICAgICAgICAgICBpbnB1dG1vZGU6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgICAgICAgcHJlVmFsaWRhdGlvbjogZnVuY3Rpb24oYnVmZmVyLCBwb3MsIGMsIGlzU2VsZWN0aW9uLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiLVwiID09PSBjIHx8IGMgPT09IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpIHJldHVybiAhMCA9PT0gb3B0cy5hbGxvd01pbnVzICYmIChvcHRzLmlzTmVnYXRpdmUgPSBvcHRzLmlzTmVnYXRpdmUgPT09IHVuZGVmaW5lZCB8fCAhb3B0cy5pc05lZ2F0aXZlLCBcclxuICAgICAgICAgICAgICAgICAgICBcIlwiID09PSBidWZmZXIuam9pbihcIlwiKSB8fCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvcG9zdDogITBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoITEgPT09IGlzU2VsZWN0aW9uICYmIGMgPT09IG9wdHMucmFkaXhQb2ludCAmJiBvcHRzLmRpZ2l0cyAhPT0gdW5kZWZpbmVkICYmIChpc05hTihvcHRzLmRpZ2l0cykgfHwgcGFyc2VJbnQob3B0cy5kaWdpdHMpID4gMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl4UG9zID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0xICE9PSByYWRpeFBvcykgcmV0dXJuICEwID09PSBvcHRzLm51bWVyaWNJbnB1dCA/IHBvcyA9PT0gcmFkaXhQb3MgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcmFkaXhQb3MgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwb3N0VmFsaWRhdGlvbjogZnVuY3Rpb24oYnVmZmVyLCBjdXJyZW50UmVzdWx0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1ZmZpeCA9IG9wdHMuc3VmZml4LnNwbGl0KFwiXCIpLCBwcmVmaXggPSBvcHRzLnByZWZpeC5zcGxpdChcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJlc3VsdC5wb3MgPT09IHVuZGVmaW5lZCAmJiBjdXJyZW50UmVzdWx0LmNhcmV0ICE9PSB1bmRlZmluZWQgJiYgITAgIT09IGN1cnJlbnRSZXN1bHQuZG9wb3N0KSByZXR1cm4gY3VycmVudFJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MgPSBjdXJyZW50UmVzdWx0LmNhcmV0ICE9PSB1bmRlZmluZWQgPyBjdXJyZW50UmVzdWx0LmNhcmV0IDogY3VycmVudFJlc3VsdC5wb3MsIG1hc2tlZFZhbHVlID0gYnVmZmVyLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5udW1lcmljSW5wdXQgJiYgKGNhcmV0UG9zID0gbWFza2VkVmFsdWUubGVuZ3RoIC0gY2FyZXRQb3MgLSAxLCBtYXNrZWRWYWx1ZSA9IG1hc2tlZFZhbHVlLnJldmVyc2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJBdFBvcyA9IG1hc2tlZFZhbHVlW2NhcmV0UG9zXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhckF0UG9zID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yICYmIChjaGFyQXRQb3MgPSBtYXNrZWRWYWx1ZVtjYXJldFBvcyArPSAxXSksIFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmV0UG9zID09PSBtYXNrZWRWYWx1ZS5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGggLSAxICYmIGNoYXJBdFBvcyA9PT0gb3B0cy5yYWRpeFBvaW50KSByZXR1cm4gY3VycmVudFJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICBjaGFyQXRQb3MgIT09IHVuZGVmaW5lZCAmJiBjaGFyQXRQb3MgIT09IG9wdHMucmFkaXhQb2ludCAmJiBjaGFyQXRQb3MgIT09IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgJiYgY2hhckF0UG9zICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2sgJiYgKG1hc2tlZFZhbHVlW2NhcmV0UG9zXSA9IFwiP1wiLCBcclxuICAgICAgICAgICAgICAgICAgICBvcHRzLnByZWZpeC5sZW5ndGggPiAwICYmIGNhcmV0UG9zID49ICghMSA9PT0gb3B0cy5pc05lZ2F0aXZlID8gMSA6IDApICYmIGNhcmV0UG9zIDwgb3B0cy5wcmVmaXgubGVuZ3RoIC0gMSArICghMSA9PT0gb3B0cy5pc05lZ2F0aXZlID8gMSA6IDApID8gcHJlZml4W2NhcmV0UG9zIC0gKCExID09PSBvcHRzLmlzTmVnYXRpdmUgPyAxIDogMCldID0gXCI/XCIgOiBvcHRzLnN1ZmZpeC5sZW5ndGggPiAwICYmIGNhcmV0UG9zID49IG1hc2tlZFZhbHVlLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCAtICghMSA9PT0gb3B0cy5pc05lZ2F0aXZlID8gMSA6IDApICYmIChzdWZmaXhbY2FyZXRQb3MgLSAobWFza2VkVmFsdWUubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoIC0gKCExID09PSBvcHRzLmlzTmVnYXRpdmUgPyAxIDogMCkpXSA9IFwiP1wiKSksIFxyXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCA9IHByZWZpeC5qb2luKFwiXCIpLCBzdWZmaXggPSBzdWZmaXguam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc1ZhbHVlID0gbWFza2VkVmFsdWUuam9pbihcIlwiKS5yZXBsYWNlKHByZWZpeCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKHN1ZmZpeCwgXCJcIiksIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFwiWy1cIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KSArIFwiXVwiLCBcImdcIiksIFwiXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spICsgXCIkXCIpLCBcIlwiKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgaXNOYU4ob3B0cy5wbGFjZWhvbGRlcikgJiYgKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMucGxhY2Vob2xkZXIpLCBcImdcIiksIFwiXCIpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlLmxlbmd0aCA+IDEgJiYgMSAhPT0gcHJvY2Vzc1ZhbHVlLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KSAmJiAoXCIwXCIgPT09IGNoYXJBdFBvcyAmJiAocHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UoL15cXD8vZywgXCJcIikpLCBcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZSgvXjAvZywgXCJcIikpLCBwcm9jZXNzVmFsdWUuY2hhckF0KDApID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50ICYmICEwICE9PSBvcHRzLm51bWVyaWNJbnB1dCAmJiAocHJvY2Vzc1ZhbHVlID0gXCIwXCIgKyBwcm9jZXNzVmFsdWUpLCBcclxuICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBwcm9jZXNzVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5zcGxpdChcIlwiKSwgKCFvcHRzLmRpZ2l0c09wdGlvbmFsIHx8IG9wdHMuZW5mb3JjZURpZ2l0c09uQmx1ciAmJiBcImJsdXJcIiA9PT0gY3VycmVudFJlc3VsdC5ldmVudCkgJiYgaXNGaW5pdGUob3B0cy5kaWdpdHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXhQb3NpdGlvbiA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIHByb2Nlc3NWYWx1ZSksIHJwYiA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIG1hc2tlZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xID09PSByYWRpeFBvc2l0aW9uICYmIChwcm9jZXNzVmFsdWUucHVzaChvcHRzLnJhZGl4UG9pbnQpLCByYWRpeFBvc2l0aW9uID0gcHJvY2Vzc1ZhbHVlLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gb3B0cy5kaWdpdHM7IGkrKykgb3B0cy5kaWdpdHNPcHRpb25hbCAmJiAoIW9wdHMuZW5mb3JjZURpZ2l0c09uQmx1ciB8fCBcImJsdXJcIiAhPT0gY3VycmVudFJlc3VsdC5ldmVudCkgfHwgcHJvY2Vzc1ZhbHVlW3JhZGl4UG9zaXRpb24gKyBpXSAhPT0gdW5kZWZpbmVkICYmIHByb2Nlc3NWYWx1ZVtyYWRpeFBvc2l0aW9uICsgaV0gIT09IG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApID8gLTEgIT09IHJwYiAmJiBtYXNrZWRWYWx1ZVtycGIgKyBpXSAhPT0gdW5kZWZpbmVkICYmIChwcm9jZXNzVmFsdWVbcmFkaXhQb3NpdGlvbiArIGldID0gcHJvY2Vzc1ZhbHVlW3JhZGl4UG9zaXRpb24gKyBpXSB8fCBtYXNrZWRWYWx1ZVtycGIgKyBpXSkgOiBwcm9jZXNzVmFsdWVbcmFkaXhQb3NpdGlvbiArIGldID0gY3VycmVudFJlc3VsdC5wbGFjZWhvbGRlciB8fCBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgIT09IG9wdHMuYXV0b0dyb3VwIHx8IFwiXCIgPT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgfHwgY2hhckF0UG9zID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgY3VycmVudFJlc3VsdC5wb3MgPT09IHVuZGVmaW5lZCAmJiAhY3VycmVudFJlc3VsdC5kb3Bvc3QpIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5qb2luKFwiXCIpOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRSYWRpeCA9IHByb2Nlc3NWYWx1ZVtwcm9jZXNzVmFsdWUubGVuZ3RoIC0gMV0gPT09IG9wdHMucmFkaXhQb2ludCAmJiBjdXJyZW50UmVzdWx0LmMgPT09IG9wdHMucmFkaXhQb2ludDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NWYWx1ZSA9IElucHV0bWFzayhmdW5jdGlvbihidWZmZXIsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zdE1hc2sgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3N0TWFzayArPSBcIihcIiArIG9wdHMuZ3JvdXBTZXBhcmF0b3IgKyBcIip7XCIgKyBvcHRzLmdyb3VwU2l6ZSArIFwifSl7Kn1cIiwgXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpeFNwbGl0ID0gYnVmZmVyLmpvaW4oXCJcIikuc3BsaXQob3B0cy5yYWRpeFBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXhTcGxpdFsxXSAmJiAocG9zdE1hc2sgKz0gb3B0cy5yYWRpeFBvaW50ICsgXCIqe1wiICsgcmFkaXhTcGxpdFsxXS5tYXRjaCgvXlxcZCpcXD8/XFxkKi8pWzBdLmxlbmd0aCArIFwifVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc3RNYXNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfShwcm9jZXNzVmFsdWUsIG9wdHMpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtZXJpY0lucHV0OiAhMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqaXRNYXNraW5nOiAhMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIipcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTk/XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZvcm1hdChwcm9jZXNzVmFsdWUuam9pbihcIlwiKSksIGFkZFJhZGl4ICYmIChwcm9jZXNzVmFsdWUgKz0gb3B0cy5yYWRpeFBvaW50KSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUuY2hhckF0KDApID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yICYmIHByb2Nlc3NWYWx1ZS5zdWJzdHIoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuaXNOZWdhdGl2ZSAmJiBcImJsdXJcIiA9PT0gY3VycmVudFJlc3VsdC5ldmVudCAmJiAob3B0cy5pc05lZ2F0aXZlID0gXCIwXCIgIT09IHByb2Nlc3NWYWx1ZSksIFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NWYWx1ZSA9IHByZWZpeCArIHByb2Nlc3NWYWx1ZSwgcHJvY2Vzc1ZhbHVlICs9IHN1ZmZpeCwgb3B0cy5pc05lZ2F0aXZlICYmIChwcm9jZXNzVmFsdWUgPSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250ICsgcHJvY2Vzc1ZhbHVlLCBcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgKz0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrKSwgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnNwbGl0KFwiXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICBjaGFyQXRQb3MgIT09IHVuZGVmaW5lZCkgaWYgKGNoYXJBdFBvcyAhPT0gb3B0cy5yYWRpeFBvaW50ICYmIGNoYXJBdFBvcyAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCAmJiBjaGFyQXRQb3MgIT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykgKGNhcmV0UG9zID0gJC5pbkFycmF5KFwiP1wiLCBwcm9jZXNzVmFsdWUpKSA+IC0xID8gcHJvY2Vzc1ZhbHVlW2NhcmV0UG9zXSA9IGNoYXJBdFBvcyA6IGNhcmV0UG9zID0gY3VycmVudFJlc3VsdC5jYXJldCB8fCAwOyBlbHNlIGlmIChjaGFyQXRQb3MgPT09IG9wdHMucmFkaXhQb2ludCB8fCBjaGFyQXRQb3MgPT09IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgfHwgY2hhckF0UG9zID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0NhcmV0UG9zID0gJC5pbkFycmF5KGNoYXJBdFBvcywgcHJvY2Vzc1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLTEgIT09IG5ld0NhcmV0UG9zICYmIChjYXJldFBvcyA9IG5ld0NhcmV0UG9zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5udW1lcmljSW5wdXQgJiYgKGNhcmV0UG9zID0gcHJvY2Vzc1ZhbHVlLmxlbmd0aCAtIGNhcmV0UG9zIC0gMSwgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJldmVyc2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJzbHQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBjaGFyQXRQb3MgPT09IHVuZGVmaW5lZCB8fCBjdXJyZW50UmVzdWx0LnBvcyAhPT0gdW5kZWZpbmVkID8gY2FyZXRQb3MgKyAob3B0cy5udW1lcmljSW5wdXQgPyAtMSA6IDEpIDogY2FyZXRQb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogcHJvY2Vzc1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogY3VycmVudFJlc3VsdC5kb3Bvc3QgfHwgYnVmZmVyLmpvaW4oXCJcIikgIT09IHByb2Nlc3NWYWx1ZS5qb2luKFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnNsdC5yZWZyZXNoRnJvbUJ1ZmZlciA/IHJzbHQgOiBjdXJyZW50UmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uQmVmb3JlV3JpdGU6IGZ1bmN0aW9uKGUsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZSkgc3dpdGNoIChlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLnBvc3RWYWxpZGF0aW9uKGJ1ZmZlciwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IGNhcmV0UG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9wb3N0OiAhMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBvcHRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmx1clwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrdmFsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bm1hc2tlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uKG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMucGFyc2VNaW5NYXhPcHRpb25zID09PSB1bmRlZmluZWQgJiYgKG51bGwgIT09IG9wdHMubWluICYmIChvcHRzLm1pbiA9IG9wdHMubWluLnRvU3RyaW5nKCkucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIixcIiA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChvcHRzLm1pbiA9IG9wdHMubWluLnJlcGxhY2Uob3B0cy5yYWRpeFBvaW50LCBcIi5cIikpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMubWluID0gaXNGaW5pdGUob3B0cy5taW4pID8gcGFyc2VGbG9hdChvcHRzLm1pbikgOiBOYU4sIGlzTmFOKG9wdHMubWluKSAmJiAob3B0cy5taW4gPSBOdW1iZXIuTUlOX1ZBTFVFKSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gb3B0cy5tYXggJiYgKG9wdHMubWF4ID0gb3B0cy5tYXgudG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLFwiID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgKG9wdHMubWF4ID0gb3B0cy5tYXgucmVwbGFjZShvcHRzLnJhZGl4UG9pbnQsIFwiLlwiKSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5tYXggPSBpc0Zpbml0ZShvcHRzLm1heCkgPyBwYXJzZUZsb2F0KG9wdHMubWF4KSA6IE5hTiwgaXNOYU4ob3B0cy5tYXgpICYmIChvcHRzLm1heCA9IE51bWJlci5NQVhfVkFMVUUpKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLnBhcnNlTWluTWF4T3B0aW9ucyA9IFwiZG9uZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfShvcHRzKSwgbnVsbCAhPT0gb3B0cy5taW4gfHwgbnVsbCAhPT0gb3B0cy5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bm1hc2tlZCA9IG9wdHMub25Vbk1hc2soYnVmZmVyLmpvaW4oXCJcIiksIHVuZGVmaW5lZCwgJC5leHRlbmQoe30sIG9wdHMsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bm1hc2tBc051bWJlcjogITBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgbnVsbCAhPT0gb3B0cy5taW4gJiYgdW5tYXNrZWQgPCBvcHRzLm1pbikgcmV0dXJuIG9wdHMuaXNOZWdhdGl2ZSA9IG9wdHMubWluIDwgMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLnBvc3RWYWxpZGF0aW9uKG9wdHMubWluLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgb3B0cy5yYWRpeFBvaW50KS5zcGxpdChcIlwiKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBjYXJldFBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3Bvc3Q6ICEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gb3B0cy5tYXggJiYgdW5tYXNrZWQgPiBvcHRzLm1heCkgcmV0dXJuIG9wdHMuaXNOZWdhdGl2ZSA9IG9wdHMubWF4IDwgMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLnBvc3RWYWxpZGF0aW9uKG9wdHMubWF4LnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgb3B0cy5yYWRpeFBvaW50KS5zcGxpdChcIlwiKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBjYXJldFBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3Bvc3Q6ICEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdHMucG9zdFZhbGlkYXRpb24oYnVmZmVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogY2FyZXRQb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogXCJibHVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgb3B0cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIl9jaGVja3ZhbFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IGNhcmV0UG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZWdlclBhcnQ6IGZ1bmN0aW9uKG9wdHMsIGVtcHR5Q2hlY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q2hlY2sgPyBuZXcgUmVnRXhwKFwiW1wiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpICsgXCIrXT9cIikgOiBuZXcgUmVnRXhwKFwiW1wiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpICsgXCIrXT9cXFxcZCtcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlZ2VyTlBhcnQ6IGZ1bmN0aW9uKG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCJbXFxcXGRcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSkgKyBcIl0rXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiflwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24oY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMsIGlzU2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IHN0cmljdCA/IG5ldyBSZWdFeHAoXCJbMC05XCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvcikgKyBcIl1cIikudGVzdChjaHJzKSA6IG5ldyBSZWdFeHAoXCJbMC05XVwiKS50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEwID09PSBpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEwICE9PSBvcHRzLm51bWVyaWNJbnB1dCAmJiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10gIT09IHVuZGVmaW5lZCAmJiBcIn5cIiA9PT0gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLm1hdGNoLmRlZiAmJiAhaXNTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NWYWx1ZSA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIiksIHB2UmFkaXhTcGxpdCA9IChwcm9jZXNzVmFsdWUgPSAocHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChcIlstXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkgKyBcIl1cIiwgXCJnXCIpLCBcIlwiKSkucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spICsgXCIkXCIpLCBcIlwiKSkuc3BsaXQob3B0cy5yYWRpeFBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHZSYWRpeFNwbGl0Lmxlbmd0aCA+IDEgJiYgKHB2UmFkaXhTcGxpdFsxXSA9IHB2UmFkaXhTcGxpdFsxXS5yZXBsYWNlKC8wL2csIG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApKSksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjBcIiA9PT0gcHZSYWRpeFNwbGl0WzBdICYmIChwdlJhZGl4U3BsaXRbMF0gPSBwdlJhZGl4U3BsaXRbMF0ucmVwbGFjZSgvMC9nLCBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSkpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlID0gcHZSYWRpeFNwbGl0WzBdICsgb3B0cy5yYWRpeFBvaW50ICsgcHZSYWRpeFNwbGl0WzFdIHx8IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJUZW1wbGF0ZSA9IG1hc2tzZXQuX2J1ZmZlci5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHByb2Nlc3NWYWx1ZSA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChwcm9jZXNzVmFsdWUgPSBidWZmZXJUZW1wbGF0ZSk7IG51bGwgPT09IHByb2Nlc3NWYWx1ZS5tYXRjaChJbnB1dG1hc2suZXNjYXBlUmVnZXgoYnVmZmVyVGVtcGxhdGUpICsgXCIkXCIpOyApIGJ1ZmZlclRlbXBsYXRlID0gYnVmZmVyVGVtcGxhdGUuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSAocHJvY2Vzc1ZhbHVlID0gKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKGJ1ZmZlclRlbXBsYXRlLCBcIlwiKSkuc3BsaXQoXCJcIikpW3Bvc10gPT09IHVuZGVmaW5lZCA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHN0cmljdCB8fCBjaHJzICE9PSBvcHRzLnJhZGl4UG9pbnQgfHwgbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MgLSAxXSAhPT0gdW5kZWZpbmVkIHx8IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gXCIwXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyArIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBcIitcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5hbGxvd01pbnVzICYmIChcIi1cIiA9PT0gY2hycyB8fCBjaHJzID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBcIi1cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5hbGxvd01pbnVzICYmIGNocnMgPT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBcIjpcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXggPSBcIltcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLnJhZGl4UG9pbnQpICsgXCJdXCIsIGlzVmFsaWQgPSBuZXcgUmVnRXhwKHJhZGl4KS50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQgJiYgbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdICYmIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5tYXRjaC5wbGFjZWhvbGRlciA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChpc1ZhbGlkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBmdW5jdGlvbihvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5yYWRpeFBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uVW5NYXNrOiBmdW5jdGlvbihtYXNrZWRWYWx1ZSwgdW5tYXNrZWRWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcIlwiID09PSB1bm1hc2tlZFZhbHVlICYmICEwID09PSBvcHRzLm51bGxhYmxlKSByZXR1cm4gdW5tYXNrZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc1ZhbHVlID0gbWFza2VkVmFsdWUucmVwbGFjZShvcHRzLnByZWZpeCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG9wdHMuc3VmZml4LCBcIlwiKSwgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIiksIFxyXG4gICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApICYmIChwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApLCBcImdcIiksIFwiMFwiKSksIFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMudW5tYXNrQXNOdW1iZXIgPyAoXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50ICYmIC0xICE9PSBwcm9jZXNzVmFsdWUuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpICYmIChwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBvcHRzLnJhZGl4UG9pbnQpLCBcIi5cIikpLCBcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFwiXlwiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpKSwgXCItXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spICsgXCIkXCIpLCBcIlwiKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHByb2Nlc3NWYWx1ZSkpIDogcHJvY2Vzc1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGZ1bmN0aW9uKGJ1ZmZlciwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXNrZWRWYWx1ZSA9IGJ1ZmZlci5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIuc2xpY2UoKS5qb2luKFwiXCIpICE9PSBtYXNrZWRWYWx1ZSkgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzVmFsdWUgPSBtYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsIFwiXCIpLCBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgXCIsXCIgPT09IG9wdHMucmFkaXhQb2ludCAmJiAocHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMucmFkaXhQb2ludCksIFwiLlwiKSksIFxyXG4gICAgICAgICAgICAgICAgICAgIGlzRmluaXRlKHByb2Nlc3NWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb25CZWZvcmVNYXNrOiBmdW5jdGlvbihpbml0aWFsVmFsdWUsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5pc05lZ2F0aXZlID0gdW5kZWZpbmVkLCBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUudG9TdHJpbmcoKS5jaGFyQXQoaW5pdGlhbFZhbHVlLmxlbmd0aCAtIDEpID09PSBvcHRzLnJhZGl4UG9pbnQgPyBpbml0aWFsVmFsdWUudG9TdHJpbmcoKS5zdWJzdHIoMCwgaW5pdGlhbFZhbHVlLmxlbmd0aCAtIDEpIDogaW5pdGlhbFZhbHVlLnRvU3RyaW5nKCksIFxyXG4gICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IG9wdHMucmFkaXhQb2ludCAmJiBpc0Zpbml0ZShpbml0aWFsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2cyA9IGluaXRpYWxWYWx1ZS5zcGxpdChcIi5cIiksIGdyb3VwU2l6ZSA9IFwiXCIgIT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgPyBwYXJzZUludChvcHRzLmdyb3VwU2l6ZSkgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAyID09PSB2cy5sZW5ndGggJiYgKHZzWzBdLmxlbmd0aCA+IGdyb3VwU2l6ZSB8fCB2c1sxXS5sZW5ndGggPiBncm91cFNpemUgfHwgdnNbMF0ubGVuZ3RoIDw9IGdyb3VwU2l6ZSAmJiB2c1sxXS5sZW5ndGggPCBncm91cFNpemUpICYmIChpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZShcIi5cIiwgb3B0cy5yYWRpeFBvaW50KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrb21tYU1hdGNoZXMgPSBpbml0aWFsVmFsdWUubWF0Y2goLywvZyksIGRvdE1hdGNoZXMgPSBpbml0aWFsVmFsdWUubWF0Y2goL1xcLi9nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFZhbHVlID0gZG90TWF0Y2hlcyAmJiBrb21tYU1hdGNoZXMgPyBkb3RNYXRjaGVzLmxlbmd0aCA+IGtvbW1hTWF0Y2hlcy5sZW5ndGggPyAoaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnJlcGxhY2UoL1xcLi9nLCBcIlwiKSkucmVwbGFjZShcIixcIiwgb3B0cy5yYWRpeFBvaW50KSA6IGtvbW1hTWF0Y2hlcy5sZW5ndGggPiBkb3RNYXRjaGVzLmxlbmd0aCA/IChpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZSgvLC9nLCBcIlwiKSkucmVwbGFjZShcIi5cIiwgb3B0cy5yYWRpeFBvaW50KSA6IGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLlwiKSA8IGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLFwiKSA/IGluaXRpYWxWYWx1ZS5yZXBsYWNlKC9cXC4vZywgXCJcIikgOiBpbml0aWFsVmFsdWUucmVwbGFjZSgvLC9nLCBcIlwiKSA6IGluaXRpYWxWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICAwID09PSBvcHRzLmRpZ2l0cyAmJiAoLTEgIT09IGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLlwiKSA/IGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5zdWJzdHJpbmcoMCwgaW5pdGlhbFZhbHVlLmluZGV4T2YoXCIuXCIpKSA6IC0xICE9PSBpbml0aWFsVmFsdWUuaW5kZXhPZihcIixcIikgJiYgKGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5zdWJzdHJpbmcoMCwgaW5pdGlhbFZhbHVlLmluZGV4T2YoXCIsXCIpKSkpLCBcclxuICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBvcHRzLnJhZGl4UG9pbnQgJiYgaXNGaW5pdGUob3B0cy5kaWdpdHMpICYmIC0xICE9PSBpbml0aWFsVmFsdWUuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNQYXJ0ID0gaW5pdGlhbFZhbHVlLnNwbGl0KG9wdHMucmFkaXhQb2ludClbMV0ubWF0Y2gobmV3IFJlZ0V4cChcIlxcXFxkKlwiKSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChvcHRzLmRpZ2l0cykgPCBkZWNQYXJ0LnRvU3RyaW5nKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlnaXRzRmFjdG9yID0gTWF0aC5wb3coMTAsIHBhcnNlSW50KG9wdHMuZGlnaXRzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZShJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5yYWRpeFBvaW50KSwgXCIuXCIpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IChpbml0aWFsVmFsdWUgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoaW5pdGlhbFZhbHVlKSAqIGRpZ2l0c0ZhY3RvcikgLyBkaWdpdHNGYWN0b3IpLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgb3B0cy5yYWRpeFBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdGlhbFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNhbkNsZWFyUG9zaXRpb246IGZ1bmN0aW9uKG1hc2tzZXQsIHBvc2l0aW9uLCBsdnAsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2cCA9IG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dLCBjYW5DbGVhciA9IHZwLmlucHV0ICE9PSBvcHRzLnJhZGl4UG9pbnQgfHwgbnVsbCAhPT0gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0ubWF0Y2guZm4gJiYgITEgPT09IG9wdHMuZGVjaW1hbFByb3RlY3QgfHwgdnAuaW5wdXQgPT09IG9wdHMucmFkaXhQb2ludCAmJiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc2l0aW9uICsgMV0gJiYgbnVsbCA9PT0gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NpdGlvbiArIDFdLm1hdGNoLmZuIHx8IGlzRmluaXRlKHZwLmlucHV0KSB8fCBwb3NpdGlvbiA9PT0gbHZwIHx8IHZwLmlucHV0ID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yIHx8IHZwLmlucHV0ID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250IHx8IHZwLmlucHV0ID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFjYW5DbGVhciB8fCBcIitcIiAhPT0gdnAubWF0Y2gubmF0aXZlRGVmICYmIFwiLVwiICE9PSB2cC5tYXRjaC5uYXRpdmVEZWYgfHwgKG9wdHMuaXNOZWdhdGl2ZSA9ICExKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgY2FuQ2xlYXI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbihlLCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSkgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgSW5wdXRtYXNrLmtleUNvZGUuVVA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwocGFyc2VGbG9hdCh0aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkpICsgcGFyc2VJbnQob3B0cy5zdGVwKSksICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgSW5wdXRtYXNrLmtleUNvZGUuRE9XTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbChwYXJzZUZsb2F0KHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSkgLSBwYXJzZUludChvcHRzLnN0ZXApKSwgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGN1cnJlbmN5OiB7XHJcbiAgICAgICAgICAgICAgICBwcmVmaXg6IFwiJCBcIixcclxuICAgICAgICAgICAgICAgIGdyb3VwU2VwYXJhdG9yOiBcIixcIixcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBcIm51bWVyaWNcIixcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIjBcIixcclxuICAgICAgICAgICAgICAgIGF1dG9Hcm91cDogITAsXHJcbiAgICAgICAgICAgICAgICBkaWdpdHM6IDIsXHJcbiAgICAgICAgICAgICAgICBkaWdpdHNPcHRpb25hbDogITEsXHJcbiAgICAgICAgICAgICAgICBjbGVhck1hc2tPbkxvc3RGb2N1czogITFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVjaW1hbDoge1xyXG4gICAgICAgICAgICAgICAgYWxpYXM6IFwibnVtZXJpY1wiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGludGVnZXI6IHtcclxuICAgICAgICAgICAgICAgIGFsaWFzOiBcIm51bWVyaWNcIixcclxuICAgICAgICAgICAgICAgIGRpZ2l0czogMCxcclxuICAgICAgICAgICAgICAgIHJhZGl4UG9pbnQ6IFwiXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGVyY2VudGFnZToge1xyXG4gICAgICAgICAgICAgICAgYWxpYXM6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgICAgICAgZGlnaXRzOiAyLFxyXG4gICAgICAgICAgICAgICAgZGlnaXRzT3B0aW9uYWw6ICEwLFxyXG4gICAgICAgICAgICAgICAgcmFkaXhQb2ludDogXCIuXCIsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCIwXCIsXHJcbiAgICAgICAgICAgICAgICBhdXRvR3JvdXA6ICExLFxyXG4gICAgICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICAgICAgbWF4OiAxMDAsXHJcbiAgICAgICAgICAgICAgICBzdWZmaXg6IFwiICVcIixcclxuICAgICAgICAgICAgICAgIGFsbG93TWludXM6ICExXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSwgSW5wdXRtYXNrO1xyXG4gICAgfSk7XHJcbn0sIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztcclxuICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5pdGVyYXRvcjtcclxuICAgICFmdW5jdGlvbihmYWN0b3J5KSB7XHJcbiAgICAgICAgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFsgX193ZWJwYWNrX3JlcXVpcmVfXygwKSwgX193ZWJwYWNrX3JlcXVpcmVfXygxKSBdLCBcclxuICAgICAgICB2b2lkIDAgIT09IChfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgKF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IGZhY3RvcnkpID8gX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pIDogX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fKSAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyk7XHJcbiAgICB9KGZ1bmN0aW9uKCQsIElucHV0bWFzaykge1xyXG4gICAgICAgIGZ1bmN0aW9uIG1hc2tTb3J0KGEsIGIpIHtcclxuICAgICAgICAgICAgdmFyIG1hc2thID0gKGEubWFzayB8fCBhKS5yZXBsYWNlKC8jL2csIFwiOVwiKS5yZXBsYWNlKC9cXCkvLCBcIjlcIikucmVwbGFjZSgvWysoKSMtXS9nLCBcIlwiKSwgbWFza2IgPSAoYi5tYXNrIHx8IGIpLnJlcGxhY2UoLyMvZywgXCI5XCIpLnJlcGxhY2UoL1xcKS8sIFwiOVwiKS5yZXBsYWNlKC9bKygpIy1dL2csIFwiXCIpLCBtYXNrYXMgPSAoYS5tYXNrIHx8IGEpLnNwbGl0KFwiI1wiKVswXSwgbWFza2JzID0gKGIubWFzayB8fCBiKS5zcGxpdChcIiNcIilbMF07XHJcbiAgICAgICAgICAgIHJldHVybiAwID09PSBtYXNrYnMuaW5kZXhPZihtYXNrYXMpID8gLTEgOiAwID09PSBtYXNrYXMuaW5kZXhPZihtYXNrYnMpID8gMSA6IG1hc2thLmxvY2FsZUNvbXBhcmUobWFza2IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYW5hbHlzZU1hc2tCYXNlID0gSW5wdXRtYXNrLnByb3RvdHlwZS5hbmFseXNlTWFzaztcclxuICAgICAgICByZXR1cm4gSW5wdXRtYXNrLnByb3RvdHlwZS5hbmFseXNlTWFzayA9IGZ1bmN0aW9uKG1hc2ssIHJlZ2V4TWFzaywgb3B0cykge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiByZWR1Y2VWYXJpYXRpb25zKG1hc2tzLCBwcmV2aW91c1ZhcmlhdGlvbiwgcHJldmlvdXNtYXNrR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzVmFyaWF0aW9uID0gcHJldmlvdXNWYXJpYXRpb24gfHwgXCJcIiwgcHJldmlvdXNtYXNrR3JvdXAgPSBwcmV2aW91c21hc2tHcm91cCB8fCBtYXNrR3JvdXBzLCBcclxuICAgICAgICAgICAgICAgIFwiXCIgIT09IHByZXZpb3VzVmFyaWF0aW9uICYmIChwcmV2aW91c21hc2tHcm91cFtwcmV2aW91c1ZhcmlhdGlvbl0gPSB7fSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB2YXJpYXRpb24gPSBcIlwiLCBtYXNrR3JvdXAgPSBwcmV2aW91c21hc2tHcm91cFtwcmV2aW91c1ZhcmlhdGlvbl0gfHwgcHJldmlvdXNtYXNrR3JvdXAsIGkgPSBtYXNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgbWFza0dyb3VwW3ZhcmlhdGlvbiA9IChtYXNrID0gbWFza3NbaV0ubWFzayB8fCBtYXNrc1tpXSkuc3Vic3RyKDAsIDEpXSA9IG1hc2tHcm91cFt2YXJpYXRpb25dIHx8IFtdLCBcclxuICAgICAgICAgICAgICAgIG1hc2tHcm91cFt2YXJpYXRpb25dLnVuc2hpZnQobWFzay5zdWJzdHIoMSkpLCBtYXNrcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZHggaW4gbWFza0dyb3VwKSBtYXNrR3JvdXBbbmR4XS5sZW5ndGggPiA1MDAgJiYgcmVkdWNlVmFyaWF0aW9ucyhtYXNrR3JvdXBbbmR4XS5zbGljZSgpLCBuZHgsIG1hc2tHcm91cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVidWlsZChtYXNrR3JvdXApIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrID0gXCJcIiwgc3VibWFza3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIG5keCBpbiBtYXNrR3JvdXApICQuaXNBcnJheShtYXNrR3JvdXBbbmR4XSkgPyAxID09PSBtYXNrR3JvdXBbbmR4XS5sZW5ndGggPyBzdWJtYXNrcy5wdXNoKG5keCArIG1hc2tHcm91cFtuZHhdKSA6IHN1Ym1hc2tzLnB1c2gobmR4ICsgb3B0cy5ncm91cG1hcmtlci5zdGFydCArIG1hc2tHcm91cFtuZHhdLmpvaW4ob3B0cy5ncm91cG1hcmtlci5lbmQgKyBvcHRzLmFsdGVybmF0b3JtYXJrZXIgKyBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0KSArIG9wdHMuZ3JvdXBtYXJrZXIuZW5kKSA6IHN1Ym1hc2tzLnB1c2gobmR4ICsgcmVidWlsZChtYXNrR3JvdXBbbmR4XSkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgPT09IHN1Ym1hc2tzLmxlbmd0aCA/IG1hc2sgKz0gc3VibWFza3NbMF0gOiBtYXNrICs9IG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQgKyBzdWJtYXNrcy5qb2luKG9wdHMuZ3JvdXBtYXJrZXIuZW5kICsgb3B0cy5hbHRlcm5hdG9ybWFya2VyICsgb3B0cy5ncm91cG1hcmtlci5zdGFydCkgKyBvcHRzLmdyb3VwbWFya2VyLmVuZCwgXHJcbiAgICAgICAgICAgICAgICBtYXNrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXNrR3JvdXBzID0ge307XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRzLnBob25lQ29kZXMgJiYgKG9wdHMucGhvbmVDb2RlcyAmJiBvcHRzLnBob25lQ29kZXMubGVuZ3RoID4gMWUzICYmIChyZWR1Y2VWYXJpYXRpb25zKChtYXNrID0gbWFzay5zdWJzdHIoMSwgbWFzay5sZW5ndGggLSAyKSkuc3BsaXQob3B0cy5ncm91cG1hcmtlci5lbmQgKyBvcHRzLmFsdGVybmF0b3JtYXJrZXIgKyBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0KSksIFxyXG4gICAgICAgICAgICBtYXNrID0gcmVidWlsZChtYXNrR3JvdXBzKSksIG1hc2sgPSBtYXNrLnJlcGxhY2UoLzkvZywgXCJcXFxcOVwiKSksIGFuYWx5c2VNYXNrQmFzZS5jYWxsKHRoaXMsIG1hc2ssIHJlZ2V4TWFzaywgb3B0cyk7XHJcbiAgICAgICAgfSwgSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMoe1xyXG4gICAgICAgICAgICBhYnN0cmFjdHBob25lOiB7XHJcbiAgICAgICAgICAgICAgICBncm91cG1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIjxcIixcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwiPlwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY291bnRyeWNvZGU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBwaG9uZUNvZGVzOiBbXSxcclxuICAgICAgICAgICAgICAgIG1hc2s6IGZ1bmN0aW9uKG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5kZWZpbml0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIjXCI6IElucHV0bWFzay5wcm90b3R5cGUuZGVmaW5pdGlvbnNbOV1cclxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRzLnBob25lQ29kZXMuc29ydChtYXNrU29ydCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAga2VlcFN0YXRpYzogITAsXHJcbiAgICAgICAgICAgICAgICBvbkJlZm9yZU1hc2s6IGZ1bmN0aW9uKHZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NlZFZhbHVlID0gdmFsdWUucmVwbGFjZSgvXjB7MSwyfS8sIFwiXCIpLnJlcGxhY2UoL1tcXHNdL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAocHJvY2Vzc2VkVmFsdWUuaW5kZXhPZihvcHRzLmNvdW50cnljb2RlKSA+IDEgfHwgLTEgPT09IHByb2Nlc3NlZFZhbHVlLmluZGV4T2Yob3B0cy5jb3VudHJ5Y29kZSkpICYmIChwcm9jZXNzZWRWYWx1ZSA9IFwiK1wiICsgb3B0cy5jb3VudHJ5Y29kZSArIHByb2Nlc3NlZFZhbHVlKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb25Vbk1hc2s6IGZ1bmN0aW9uKG1hc2tlZFZhbHVlLCB1bm1hc2tlZFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tlZFZhbHVlLnJlcGxhY2UoL1soKSMtXS9nLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpbnB1dG1vZGU6IFwidGVsXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLCBJbnB1dG1hc2s7XHJcbiAgICB9KTtcclxufSwgZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1xyXG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLml0ZXJhdG9yO1xyXG4gICAgIWZ1bmN0aW9uKGZhY3RvcnkpIHtcclxuICAgICAgICBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gWyBfX3dlYnBhY2tfcmVxdWlyZV9fKDApLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpIF0sIFxyXG4gICAgICAgIHZvaWQgMCAhPT0gKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gZmFjdG9yeSkgPyBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKTtcclxuICAgIH0oZnVuY3Rpb24oJCwgSW5wdXRtYXNrKSB7XHJcbiAgICAgICAgcmV0dXJuIElucHV0bWFzay5leHRlbmRBbGlhc2VzKHtcclxuICAgICAgICAgICAgUmVnZXg6IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IFwiclwiLFxyXG4gICAgICAgICAgICAgICAgZ3JlZWR5OiAhMSxcclxuICAgICAgICAgICAgICAgIHJlcGVhdDogXCIqXCIsXHJcbiAgICAgICAgICAgICAgICByZWdleDogbnVsbCxcclxuICAgICAgICAgICAgICAgIHJlZ2V4VG9rZW5zOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyOiAvXFxbXFxeP10/KD86W15cXFxcXFxdXSt8XFxcXFtcXFNcXHNdPykqXT98XFxcXCg/OjAoPzpbMC0zXVswLTddezAsMn18WzQtN11bMC03XT8pP3xbMS05XVswLTldKnx4WzAtOUEtRmEtZl17Mn18dVswLTlBLUZhLWZdezR9fGNbQS1aYS16XXxbXFxTXFxzXT8pfFxcKCg/OlxcP1s6PSFdPyk/fCg/Ols/KitdfFxce1swLTldKyg/OixbMC05XSopP1xcfSlcXD8/fFteLj8qK14ke1soKXxcXFxcXSt8Li9nLFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpZmllckZpbHRlcjogL1swLTldK1teLF0vLFxyXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogZnVuY3Rpb24oYnVmZmVyLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAob3B0cy5yZWdleCwgb3B0cy5jYXNpbmcgPyBcImlcIiA6IFwiXCIpLnRlc3QoYnVmZmVyLmpvaW4oXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBSZWdleFRva2VuKGlzR3JvdXAsIGlzUXVhbnRpZmllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IFtdLCB0aGlzLmlzR3JvdXAgPSBpc0dyb3VwIHx8ICExLCB0aGlzLmlzUXVhbnRpZmllciA9IGlzUXVhbnRpZmllciB8fCAhMSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWFudGlmaWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW46IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMucmVwZWF0ZXJQYXJ0ID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVSZWdleFRva2VuKHRva2VuLCBmcm9tR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXN2YWxpZCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21Hcm91cCAmJiAocmVnZXhQYXJ0ICs9IFwiKFwiLCBvcGVuR3JvdXBDb3VudCsrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtbmR4ID0gMDsgbW5keCA8IHRva2VuLm1hdGNoZXMubGVuZ3RoOyBtbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoVG9rZW4gPSB0b2tlbi5tYXRjaGVzW21uZHhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgPT09IG1hdGNoVG9rZW4uaXNHcm91cCkgaXN2YWxpZCA9IHZhbGlkYXRlUmVnZXhUb2tlbihtYXRjaFRva2VuLCAhMCk7IGVsc2UgaWYgKCEwID09PSBtYXRjaFRva2VuLmlzUXVhbnRpZmllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNycm50bmR4ID0gJC5pbkFycmF5KG1hdGNoVG9rZW4sIHRva2VuLm1hdGNoZXMpLCBtYXRjaEdyb3VwID0gdG9rZW4ubWF0Y2hlc1tjcnJudG5keCAtIDFdLCByZWdleFBhcnRCYWsgPSByZWdleFBhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4obWF0Y2hUb2tlbi5xdWFudGlmaWVyLm1heCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDttYXRjaFRva2VuLnJlcGVhdGVyUGFydCAmJiBtYXRjaFRva2VuLnJlcGVhdGVyUGFydCAhPT0gcmVnZXhQYXJ0ICYmIG1hdGNoVG9rZW4ucmVwZWF0ZXJQYXJ0Lmxlbmd0aCA+IHJlZ2V4UGFydC5sZW5ndGggJiYgIShpc3ZhbGlkID0gdmFsaWRhdGVSZWdleFRva2VuKG1hdGNoR3JvdXAsICEwKSk7ICkgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpc3ZhbGlkID0gaXN2YWxpZCB8fCB2YWxpZGF0ZVJlZ2V4VG9rZW4obWF0Y2hHcm91cCwgITApKSAmJiAobWF0Y2hUb2tlbi5yZXBlYXRlclBhcnQgPSByZWdleFBhcnQpLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhcnQgPSByZWdleFBhcnRCYWsgKyBtYXRjaFRva2VuLnF1YW50aWZpZXIubWF4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgcW0gPSBtYXRjaFRva2VuLnF1YW50aWZpZXIubWF4IC0gMTsgaSA8IHFtICYmICEoaXN2YWxpZCA9IHZhbGlkYXRlUmVnZXhUb2tlbihtYXRjaEdyb3VwLCAhMCkpOyBpKyspIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhcnQgPSByZWdleFBhcnRCYWsgKyBcIntcIiArIG1hdGNoVG9rZW4ucXVhbnRpZmllci5taW4gKyBcIixcIiArIG1hdGNoVG9rZW4ucXVhbnRpZmllci5tYXggKyBcIn1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IG1hdGNoVG9rZW4ubWF0Y2hlcykgZm9yICh2YXIgayA9IDA7IGsgPCBtYXRjaFRva2VuLmxlbmd0aCAmJiAhKGlzdmFsaWQgPSB2YWxpZGF0ZVJlZ2V4VG9rZW4obWF0Y2hUb2tlbltrXSwgZnJvbUdyb3VwKSk7IGsrKykgOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0RXhwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiW1wiID09IG1hdGNoVG9rZW4uY2hhckF0KDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdEV4cCA9IHJlZ2V4UGFydCwgdGVzdEV4cCArPSBtYXRjaFRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBvcGVuR3JvdXBDb3VudDsgaisrKSB0ZXN0RXhwICs9IFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzdmFsaWQgPSAoZXhwID0gbmV3IFJlZ0V4cChcIl4oXCIgKyB0ZXN0RXhwICsgXCIpJFwiLCBvcHRzLmNhc2luZyA/IFwiaVwiIDogXCJcIikpLnRlc3QoYnVmZmVyU3RyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBmb3IgKHZhciBsID0gMCwgdGwgPSBtYXRjaFRva2VuLmxlbmd0aDsgbCA8IHRsOyBsKyspIGlmIChcIlxcXFxcIiAhPT0gbWF0Y2hUb2tlbi5jaGFyQXQobCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0RXhwID0gcmVnZXhQYXJ0LCB0ZXN0RXhwID0gKHRlc3RFeHAgKz0gbWF0Y2hUb2tlbi5zdWJzdHIoMCwgbCArIDEpKS5yZXBsYWNlKC9cXHwkLywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvcGVuR3JvdXBDb3VudDsgaisrKSB0ZXN0RXhwICs9IFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHAgPSBuZXcgUmVnRXhwKFwiXihcIiArIHRlc3RFeHAgKyBcIikkXCIsIG9wdHMuY2FzaW5nID8gXCJpXCIgOiBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXN2YWxpZCA9IGV4cC50ZXN0KGJ1ZmZlclN0cikpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXJ0ICs9IG1hdGNoVG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzdmFsaWQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUdyb3VwICYmIChyZWdleFBhcnQgKz0gXCIpXCIsIG9wZW5Hcm91cENvdW50LS0pLCBpc3ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlclN0ciwgZ3JvdXBUb2tlbiwgY2J1ZmZlciA9IG1hc2tzZXQuYnVmZmVyLnNsaWNlKCksIHJlZ2V4UGFydCA9IFwiXCIsIGlzVmFsaWQgPSAhMSwgb3Blbkdyb3VwQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gb3B0cy5yZWdleFRva2VucyAmJiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2gsIG0sIGN1cnJlbnRUb2tlbiA9IG5ldyBSZWdleFRva2VuKCksIG9wZW5ncm91cHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG9wdHMucmVnZXhUb2tlbnMgPSBbXTsgbWF0Y2ggPSBvcHRzLnRva2VuaXplci5leGVjKG9wdHMucmVnZXgpOyApIHN3aXRjaCAoKG0gPSBtYXRjaFswXSkuY2hhckF0KDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuZ3JvdXBzLnB1c2gobmV3IFJlZ2V4VG9rZW4oITApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIilcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBUb2tlbiA9IG9wZW5ncm91cHMucG9wKCksIG9wZW5ncm91cHMubGVuZ3RoID4gMCA/IG9wZW5ncm91cHNbb3Blbmdyb3Vwcy5sZW5ndGggLSAxXS5tYXRjaGVzLnB1c2goZ3JvdXBUb2tlbikgOiBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKGdyb3VwVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwie1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIitcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWFudGlmaWVyVG9rZW4gPSBuZXcgUmVnZXhUb2tlbighMSwgITApLCBtcSA9IChtID0gbS5yZXBsYWNlKC9be31dL2csIFwiXCIpKS5zcGxpdChcIixcIiksIG1xMCA9IGlzTmFOKG1xWzBdKSA/IG1xWzBdIDogcGFyc2VJbnQobXFbMF0pLCBtcTEgPSAxID09PSBtcS5sZW5ndGggPyBtcTAgOiBpc05hTihtcVsxXSkgPyBtcVsxXSA6IHBhcnNlSW50KG1xWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1YW50aWZpZXJUb2tlbi5xdWFudGlmaWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBtcTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IG1xMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvcGVuZ3JvdXBzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gb3Blbmdyb3Vwc1tvcGVuZ3JvdXBzLmxlbmd0aCAtIDFdLm1hdGNoZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWF0Y2ggPSBtYXRjaGVzLnBvcCgpKS5pc0dyb3VwIHx8ICgoZ3JvdXBUb2tlbiA9IG5ldyBSZWdleFRva2VuKCEwKSkubWF0Y2hlcy5wdXNoKG1hdGNoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGdyb3VwVG9rZW4pLCBtYXRjaGVzLnB1c2gobWF0Y2gpLCBtYXRjaGVzLnB1c2gocXVhbnRpZmllclRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIChtYXRjaCA9IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnBvcCgpKS5pc0dyb3VwIHx8ICgoZ3JvdXBUb2tlbiA9IG5ldyBSZWdleFRva2VuKCEwKSkubWF0Y2hlcy5wdXNoKG1hdGNoKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gZ3JvdXBUb2tlbiksIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gobWF0Y2gpLCBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKHF1YW50aWZpZXJUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5ncm91cHMubGVuZ3RoID4gMCA/IG9wZW5ncm91cHNbb3Blbmdyb3Vwcy5sZW5ndGggLSAxXS5tYXRjaGVzLnB1c2gobSkgOiBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5sZW5ndGggPiAwICYmIG9wdHMucmVnZXhUb2tlbnMucHVzaChjdXJyZW50VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpLCBjYnVmZmVyLnNwbGljZShwb3MsIDAsIGNocnMpLCBidWZmZXJTdHIgPSBjYnVmZmVyLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdHMucmVnZXhUb2tlbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXhUb2tlbiA9IG9wdHMucmVnZXhUb2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPSB2YWxpZGF0ZVJlZ2V4VG9rZW4ocmVnZXhUb2tlbiwgcmVnZXhUb2tlbi5pc0dyb3VwKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSwgSW5wdXRtYXNrO1xyXG4gICAgfSk7XHJcbn0sIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXywgX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xyXG4gICAgfSA6IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XHJcbiAgICB9O1xyXG4gICAgIWZ1bmN0aW9uKGZhY3RvcnkpIHtcclxuICAgICAgICBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gWyBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpIF0sIFxyXG4gICAgICAgIHZvaWQgMCAhPT0gKF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiAoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gZmFjdG9yeSkgPyBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18uYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXykgOiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18pICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKTtcclxuICAgIH0oZnVuY3Rpb24oJCwgSW5wdXRtYXNrKSB7XHJcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gJC5mbi5pbnB1dG1hc2sgJiYgKCQuZm4uaW5wdXRtYXNrID0gZnVuY3Rpb24oZm4sIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIG5wdG1hc2ssIGlucHV0ID0gdGhpc1swXTtcclxuICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gb3B0aW9ucyAmJiAob3B0aW9ucyA9IHt9KSwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZm4pIHN3aXRjaCAoZm4pIHtcclxuICAgICAgICAgICAgICBjYXNlIFwidW5tYXNrZWR2YWx1ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0ICYmIGlucHV0LmlucHV0bWFzayA/IGlucHV0LmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkgOiAkKGlucHV0KS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0bWFzayAmJiB0aGlzLmlucHV0bWFzay5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFwiZ2V0ZW1wdHltYXNrXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQgJiYgaW5wdXQuaW5wdXRtYXNrID8gaW5wdXQuaW5wdXRtYXNrLmdldGVtcHR5bWFzaygpIDogXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgY2FzZSBcImhhc01hc2tlZFZhbHVlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISghaW5wdXQgfHwgIWlucHV0LmlucHV0bWFzaykgJiYgaW5wdXQuaW5wdXRtYXNrLmhhc01hc2tlZFZhbHVlKCk7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJpc0NvbXBsZXRlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlucHV0IHx8ICFpbnB1dC5pbnB1dG1hc2sgfHwgaW5wdXQuaW5wdXRtYXNrLmlzQ29tcGxldGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgY2FzZSBcImdldG1ldGFkYXRhXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQgJiYgaW5wdXQuaW5wdXRtYXNrID8gaW5wdXQuaW5wdXRtYXNrLmdldG1ldGFkYXRhKCkgOiB2b2lkIDA7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJzZXR2YWx1ZVwiOlxyXG4gICAgICAgICAgICAgICAgJChpbnB1dCkudmFsKG9wdGlvbnMpLCBpbnB1dCAmJiB2b2lkIDAgPT09IGlucHV0LmlucHV0bWFzayAmJiAkKGlucHV0KS50cmlnZ2VySGFuZGxlcihcInNldHZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgXCJvcHRpb25cIjpcclxuICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBvcHRpb25zKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHRoaXMuaW5wdXRtYXNrKSByZXR1cm4gdGhpcy5pbnB1dG1hc2sub3B0aW9uKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgJiYgdm9pZCAwICE9PSBpbnB1dC5pbnB1dG1hc2spIHJldHVybiBpbnB1dC5pbnB1dG1hc2sub3B0aW9uKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5hbGlhcyA9IGZuLCBucHRtYXNrID0gbmV3IElucHV0bWFzayhvcHRpb25zKSwgdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5wdG1hc2subWFzayh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT0gKHZvaWQgMCA9PT0gZm4gPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihmbikpKSByZXR1cm4gbnB0bWFzayA9IG5ldyBJbnB1dG1hc2soZm4pLCBcclxuICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gZm4ubWFzayAmJiB2b2lkIDAgPT09IGZuLmFsaWFzID8gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHRoaXMuaW5wdXRtYXNrKSByZXR1cm4gdGhpcy5pbnB1dG1hc2sub3B0aW9uKGZuKTtcclxuICAgICAgICAgICAgICAgICAgICBucHRtYXNrLm1hc2sodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9KSA6IHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBucHRtYXNrLm1hc2sodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IGZuKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIChucHRtYXNrID0gbmV3IElucHV0bWFzayhvcHRpb25zKSkubWFzayh0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSksICQuZm4uaW5wdXRtYXNrO1xyXG4gICAgfSk7XHJcbn0gXSk7IiwiLy8galF1ZXJ5IE1hc2sgUGx1Z2luIHYxLjE0LjE1XHJcbi8vIGdpdGh1Yi5jb20vaWdvcmVzY29iYXIvalF1ZXJ5LU1hc2stUGx1Z2luXHJcbnZhciAkanNjb21wPXtzY29wZTp7fSxmaW5kSW50ZXJuYWw6ZnVuY3Rpb24oYSxsLGQpe2EgaW5zdGFuY2VvZiBTdHJpbmcmJihhPVN0cmluZyhhKSk7Zm9yKHZhciBwPWEubGVuZ3RoLGg9MDtoPHA7aCsrKXt2YXIgYj1hW2hdO2lmKGwuY2FsbChkLGIsaCxhKSlyZXR1cm57aTpoLHY6Yn19cmV0dXJue2k6LTEsdjp2b2lkIDB9fX07JGpzY29tcC5kZWZpbmVQcm9wZXJ0eT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxsLGQpe2lmKGQuZ2V0fHxkLnNldCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRVMzIGRvZXMgbm90IHN1cHBvcnQgZ2V0dGVycyBhbmQgc2V0dGVycy5cIik7YSE9QXJyYXkucHJvdG90eXBlJiZhIT1PYmplY3QucHJvdG90eXBlJiYoYVtsXT1kLnZhbHVlKX07XHJcbiRqc2NvbXAuZ2V0R2xvYmFsPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdz09PWE/YTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZudWxsIT1nbG9iYWw/Z2xvYmFsOmF9OyRqc2NvbXAuZ2xvYmFsPSRqc2NvbXAuZ2V0R2xvYmFsKHRoaXMpOyRqc2NvbXAucG9seWZpbGw9ZnVuY3Rpb24oYSxsLGQscCl7aWYobCl7ZD0kanNjb21wLmdsb2JhbDthPWEuc3BsaXQoXCIuXCIpO2ZvcihwPTA7cDxhLmxlbmd0aC0xO3ArKyl7dmFyIGg9YVtwXTtoIGluIGR8fChkW2hdPXt9KTtkPWRbaF19YT1hW2EubGVuZ3RoLTFdO3A9ZFthXTtsPWwocCk7bCE9cCYmbnVsbCE9bCYmJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShkLGEse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpsfSl9fTtcclxuJGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5maW5kXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihhLGQpe3JldHVybiAkanNjb21wLmZpbmRJbnRlcm5hbCh0aGlzLGEsZCkudn19LFwiZXM2LWltcGxcIixcImVzM1wiKTtcclxuKGZ1bmN0aW9uKGEsbCxkKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sYSk6XCJvYmplY3RcIj09PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWEocmVxdWlyZShcImpxdWVyeVwiKSk6YShsfHxkKX0pKGZ1bmN0aW9uKGEpe3ZhciBsPWZ1bmN0aW9uKGIsZSxmKXt2YXIgYz17aW52YWxpZDpbXSxnZXRDYXJldDpmdW5jdGlvbigpe3RyeXt2YXIgYSxyPTAsZz1iLmdldCgwKSxlPWRvY3VtZW50LnNlbGVjdGlvbixmPWcuc2VsZWN0aW9uU3RhcnQ7aWYoZSYmLTE9PT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNJRSAxMFwiKSlhPWUuY3JlYXRlUmFuZ2UoKSxhLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC1jLnZhbCgpLmxlbmd0aCkscj1hLnRleHQubGVuZ3RoO2Vsc2UgaWYoZnx8XCIwXCI9PT1mKXI9ZjtyZXR1cm4gcn1jYXRjaChDKXt9fSxzZXRDYXJldDpmdW5jdGlvbihhKXt0cnl7aWYoYi5pcyhcIjpmb2N1c1wiKSl7dmFyIGMsXHJcbmc9Yi5nZXQoMCk7Zy5zZXRTZWxlY3Rpb25SYW5nZT9nLnNldFNlbGVjdGlvblJhbmdlKGEsYSk6KGM9Zy5jcmVhdGVUZXh0UmFuZ2UoKSxjLmNvbGxhcHNlKCEwKSxjLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIixhKSxjLm1vdmVTdGFydChcImNoYXJhY3RlclwiLGEpLGMuc2VsZWN0KCkpfX1jYXRjaChCKXt9fSxldmVudHM6ZnVuY3Rpb24oKXtiLm9uKFwia2V5ZG93bi5tYXNrXCIsZnVuY3Rpb24oYSl7Yi5kYXRhKFwibWFzay1rZXljb2RlXCIsYS5rZXlDb2RlfHxhLndoaWNoKTtiLmRhdGEoXCJtYXNrLXByZXZpdXMtdmFsdWVcIixiLnZhbCgpKTtiLmRhdGEoXCJtYXNrLXByZXZpdXMtY2FyZXQtcG9zXCIsYy5nZXRDYXJldCgpKTtjLm1hc2tEaWdpdFBvc01hcE9sZD1jLm1hc2tEaWdpdFBvc01hcH0pLm9uKGEuak1hc2tHbG9iYWxzLnVzZUlucHV0P1wiaW5wdXQubWFza1wiOlwia2V5dXAubWFza1wiLGMuYmVoYXZpb3VyKS5vbihcInBhc3RlLm1hc2sgZHJvcC5tYXNrXCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5rZXlkb3duKCkua2V5dXAoKX0sXHJcbjEwMCl9KS5vbihcImNoYW5nZS5tYXNrXCIsZnVuY3Rpb24oKXtiLmRhdGEoXCJjaGFuZ2VkXCIsITApfSkub24oXCJibHVyLm1hc2tcIixmdW5jdGlvbigpe2Q9PT1jLnZhbCgpfHxiLmRhdGEoXCJjaGFuZ2VkXCIpfHxiLnRyaWdnZXIoXCJjaGFuZ2VcIik7Yi5kYXRhKFwiY2hhbmdlZFwiLCExKX0pLm9uKFwiYmx1ci5tYXNrXCIsZnVuY3Rpb24oKXtkPWMudmFsKCl9KS5vbihcImZvY3VzLm1hc2tcIixmdW5jdGlvbihiKXshMD09PWYuc2VsZWN0T25Gb2N1cyYmYShiLnRhcmdldCkuc2VsZWN0KCl9KS5vbihcImZvY3Vzb3V0Lm1hc2tcIixmdW5jdGlvbigpe2YuY2xlYXJJZk5vdE1hdGNoJiYhaC50ZXN0KGMudmFsKCkpJiZjLnZhbChcIlwiKX0pfSxnZXRSZWdleE1hc2s6ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYixjLGYsbixkPTA7ZDxlLmxlbmd0aDtkKyspKGI9bS50cmFuc2xhdGlvbltlLmNoYXJBdChkKV0pPyhjPWIucGF0dGVybi50b1N0cmluZygpLnJlcGxhY2UoLy57MX0kfF4uezF9L2csXCJcIiksZj1iLm9wdGlvbmFsLFxyXG4oYj1iLnJlY3Vyc2l2ZSk/KGEucHVzaChlLmNoYXJBdChkKSksbj17ZGlnaXQ6ZS5jaGFyQXQoZCkscGF0dGVybjpjfSk6YS5wdXNoKGZ8fGI/YytcIj9cIjpjKSk6YS5wdXNoKGUuY2hhckF0KGQpLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZyxcIlxcXFwkJlwiKSk7YT1hLmpvaW4oXCJcIik7biYmKGE9YS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXCIrbi5kaWdpdCtcIiguKlwiK24uZGlnaXQrXCIpPylcIiksXCIoJDEpP1wiKS5yZXBsYWNlKG5ldyBSZWdFeHAobi5kaWdpdCxcImdcIiksbi5wYXR0ZXJuKSk7cmV0dXJuIG5ldyBSZWdFeHAoYSl9LGRlc3Ryb3lFdmVudHM6ZnVuY3Rpb24oKXtiLm9mZihcImlucHV0IGtleWRvd24ga2V5dXAgcGFzdGUgZHJvcCBibHVyIGZvY3Vzb3V0IFwiLnNwbGl0KFwiIFwiKS5qb2luKFwiLm1hc2sgXCIpKX0sdmFsOmZ1bmN0aW9uKGEpe3ZhciBjPWIuaXMoXCJpbnB1dFwiKT9cInZhbFwiOlwidGV4dFwiO2lmKDA8YXJndW1lbnRzLmxlbmd0aCl7aWYoYltjXSgpIT09YSliW2NdKGEpO1xyXG5jPWJ9ZWxzZSBjPWJbY10oKTtyZXR1cm4gY30sY2FsY3VsYXRlQ2FyZXRQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPWIuZGF0YShcIm1hc2stcHJldml1cy12YWx1ZVwiKXx8XCJcIixlPWMuZ2V0TWFza2VkKCksZz1jLmdldENhcmV0KCk7aWYoYSE9PWUpe3ZhciBmPWIuZGF0YShcIm1hc2stcHJldml1cy1jYXJldC1wb3NcIil8fDAsZT1lLmxlbmd0aCxkPWEubGVuZ3RoLG09YT0wLGg9MCxsPTAsaztmb3Ioaz1nO2s8ZSYmYy5tYXNrRGlnaXRQb3NNYXBba107aysrKW0rKztmb3Ioaz1nLTE7MDw9ayYmYy5tYXNrRGlnaXRQb3NNYXBba107ay0tKWErKztmb3Ioaz1nLTE7MDw9aztrLS0pYy5tYXNrRGlnaXRQb3NNYXBba10mJmgrKztmb3Ioaz1mLTE7MDw9aztrLS0pYy5tYXNrRGlnaXRQb3NNYXBPbGRba10mJmwrKztnPmQ/Zz0xMCplOmY+PWcmJmYhPT1kP2MubWFza0RpZ2l0UG9zTWFwT2xkW2ddfHwoZj1nLGc9Zy0obC1oKS1hLGMubWFza0RpZ2l0UG9zTWFwW2ddJiYoZz1mKSk6Zz5mJiZcclxuKGc9ZysoaC1sKSttKX1yZXR1cm4gZ30sYmVoYXZpb3VyOmZ1bmN0aW9uKGYpe2Y9Znx8d2luZG93LmV2ZW50O2MuaW52YWxpZD1bXTt2YXIgZT1iLmRhdGEoXCJtYXNrLWtleWNvZGVcIik7aWYoLTE9PT1hLmluQXJyYXkoZSxtLmJ5UGFzc0tleXMpKXt2YXIgZT1jLmdldE1hc2tlZCgpLGc9Yy5nZXRDYXJldCgpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnNldENhcmV0KGMuY2FsY3VsYXRlQ2FyZXRQb3NpdGlvbigpKX0sYS5qTWFza0dsb2JhbHMua2V5U3Ryb2tlQ29tcGVuc2F0aW9uKTtjLnZhbChlKTtjLnNldENhcmV0KGcpO3JldHVybiBjLmNhbGxiYWNrcyhmKX19LGdldE1hc2tlZDpmdW5jdGlvbihhLGIpe3ZhciBnPVtdLGQ9dm9pZCAwPT09Yj9jLnZhbCgpOmIrXCJcIixuPTAsaD1lLmxlbmd0aCxxPTAsbD1kLmxlbmd0aCxrPTEscj1cInB1c2hcIixwPS0xLHQ9MCx5PVtdLHYsejtmLnJldmVyc2U/KHI9XCJ1bnNoaWZ0XCIsaz0tMSx2PTAsbj1oLTEscT1sLTEsej1mdW5jdGlvbigpe3JldHVybi0xPFxyXG5uJiYtMTxxfSk6KHY9aC0xLHo9ZnVuY3Rpb24oKXtyZXR1cm4gbjxoJiZxPGx9KTtmb3IodmFyIEE7eigpOyl7dmFyIHg9ZS5jaGFyQXQobiksdz1kLmNoYXJBdChxKSx1PW0udHJhbnNsYXRpb25beF07aWYodSl3Lm1hdGNoKHUucGF0dGVybik/KGdbcl0odyksdS5yZWN1cnNpdmUmJigtMT09PXA/cD1uOm49PT12JiZuIT09cCYmKG49cC1rKSx2PT09cCYmKG4tPWspKSxuKz1rKTp3PT09QT8odC0tLEE9dm9pZCAwKTp1Lm9wdGlvbmFsPyhuKz1rLHEtPWspOnUuZmFsbGJhY2s/KGdbcl0odS5mYWxsYmFjayksbis9ayxxLT1rKTpjLmludmFsaWQucHVzaCh7cDpxLHY6dyxlOnUucGF0dGVybn0pLHErPWs7ZWxzZXtpZighYSlnW3JdKHgpO3c9PT14Pyh5LnB1c2gocSkscSs9ayk6KEE9eCx5LnB1c2gocSt0KSx0KyspO24rPWt9fWQ9ZS5jaGFyQXQodik7aCE9PWwrMXx8bS50cmFuc2xhdGlvbltkXXx8Zy5wdXNoKGQpO2c9Zy5qb2luKFwiXCIpO2MubWFwTWFza2RpZ2l0UG9zaXRpb25zKGcsXHJcbnksbCk7cmV0dXJuIGd9LG1hcE1hc2tkaWdpdFBvc2l0aW9uczpmdW5jdGlvbihhLGIsZSl7YT1mLnJldmVyc2U/YS5sZW5ndGgtZTowO2MubWFza0RpZ2l0UG9zTWFwPXt9O2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspYy5tYXNrRGlnaXRQb3NNYXBbYltlXSthXT0xfSxjYWxsYmFja3M6ZnVuY3Rpb24oYSl7dmFyIGg9Yy52YWwoKSxnPWghPT1kLG09W2gsYSxiLGZdLHE9ZnVuY3Rpb24oYSxiLGMpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBmW2FdJiZiJiZmW2FdLmFwcGx5KHRoaXMsYyl9O3EoXCJvbkNoYW5nZVwiLCEwPT09ZyxtKTtxKFwib25LZXlQcmVzc1wiLCEwPT09ZyxtKTtxKFwib25Db21wbGV0ZVwiLGgubGVuZ3RoPT09ZS5sZW5ndGgsbSk7cShcIm9uSW52YWxpZFwiLDA8Yy5pbnZhbGlkLmxlbmd0aCxbaCxhLGIsYy5pbnZhbGlkLGZdKX19O2I9YShiKTt2YXIgbT10aGlzLGQ9Yy52YWwoKSxoO2U9XCJmdW5jdGlvblwiPT09dHlwZW9mIGU/ZShjLnZhbCgpLHZvaWQgMCxiLGYpOmU7bS5tYXNrPVxyXG5lO20ub3B0aW9ucz1mO20ucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGE9Yy5nZXRDYXJldCgpO20ub3B0aW9ucy5wbGFjZWhvbGRlciYmYi5yZW1vdmVBdHRyKFwicGxhY2Vob2xkZXJcIik7Yi5kYXRhKFwibWFzay1tYXhsZW5ndGhcIikmJmIucmVtb3ZlQXR0cihcIm1heGxlbmd0aFwiKTtjLmRlc3Ryb3lFdmVudHMoKTtjLnZhbChtLmdldENsZWFuVmFsKCkpO2Muc2V0Q2FyZXQoYSk7cmV0dXJuIGJ9O20uZ2V0Q2xlYW5WYWw9ZnVuY3Rpb24oKXtyZXR1cm4gYy5nZXRNYXNrZWQoITApfTttLmdldE1hc2tlZFZhbD1mdW5jdGlvbihhKXtyZXR1cm4gYy5nZXRNYXNrZWQoITEsYSl9O20uaW5pdD1mdW5jdGlvbihkKXtkPWR8fCExO2Y9Znx8e307bS5jbGVhcklmTm90TWF0Y2g9YS5qTWFza0dsb2JhbHMuY2xlYXJJZk5vdE1hdGNoO20uYnlQYXNzS2V5cz1hLmpNYXNrR2xvYmFscy5ieVBhc3NLZXlzO20udHJhbnNsYXRpb249YS5leHRlbmQoe30sYS5qTWFza0dsb2JhbHMudHJhbnNsYXRpb24sZi50cmFuc2xhdGlvbik7XHJcbm09YS5leHRlbmQoITAse30sbSxmKTtoPWMuZ2V0UmVnZXhNYXNrKCk7aWYoZCljLmV2ZW50cygpLGMudmFsKGMuZ2V0TWFza2VkKCkpO2Vsc2V7Zi5wbGFjZWhvbGRlciYmYi5hdHRyKFwicGxhY2Vob2xkZXJcIixmLnBsYWNlaG9sZGVyKTtiLmRhdGEoXCJtYXNrXCIpJiZiLmF0dHIoXCJhdXRvY29tcGxldGVcIixcIm9mZlwiKTtkPTA7Zm9yKHZhciBsPSEwO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZz1tLnRyYW5zbGF0aW9uW2UuY2hhckF0KGQpXTtpZihnJiZnLnJlY3Vyc2l2ZSl7bD0hMTticmVha319bCYmYi5hdHRyKFwibWF4bGVuZ3RoXCIsZS5sZW5ndGgpLmRhdGEoXCJtYXNrLW1heGxlbmd0aFwiLCEwKTtjLmRlc3Ryb3lFdmVudHMoKTtjLmV2ZW50cygpO2Q9Yy5nZXRDYXJldCgpO2MudmFsKGMuZ2V0TWFza2VkKCkpO2Muc2V0Q2FyZXQoZCl9fTttLmluaXQoIWIuaXMoXCJpbnB1dFwiKSl9O2EubWFza1dhdGNoZXJzPXt9O3ZhciBkPWZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxlPXt9LGY9Yi5hdHRyKFwiZGF0YS1tYXNrXCIpO1xyXG5iLmF0dHIoXCJkYXRhLW1hc2stcmV2ZXJzZVwiKSYmKGUucmV2ZXJzZT0hMCk7Yi5hdHRyKFwiZGF0YS1tYXNrLWNsZWFyaWZub3RtYXRjaFwiKSYmKGUuY2xlYXJJZk5vdE1hdGNoPSEwKTtcInRydWVcIj09PWIuYXR0cihcImRhdGEtbWFzay1zZWxlY3RvbmZvY3VzXCIpJiYoZS5zZWxlY3RPbkZvY3VzPSEwKTtpZihwKGIsZixlKSlyZXR1cm4gYi5kYXRhKFwibWFza1wiLG5ldyBsKHRoaXMsZixlKSl9LHA9ZnVuY3Rpb24oYixlLGYpe2Y9Znx8e307dmFyIGM9YShiKS5kYXRhKFwibWFza1wiKSxkPUpTT04uc3RyaW5naWZ5O2I9YShiKS52YWwoKXx8YShiKS50ZXh0KCk7dHJ5e3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBlJiYoZT1lKGIpKSxcIm9iamVjdFwiIT09dHlwZW9mIGN8fGQoYy5vcHRpb25zKSE9PWQoZil8fGMubWFzayE9PWV9Y2F0Y2godCl7fX0saD1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ7YT1cIm9uXCIrYTtkPWEgaW4gYjtkfHwoYi5zZXRBdHRyaWJ1dGUoYSxcclxuXCJyZXR1cm47XCIpLGQ9XCJmdW5jdGlvblwiPT09dHlwZW9mIGJbYV0pO3JldHVybiBkfTthLmZuLm1hc2s9ZnVuY3Rpb24oYixkKXtkPWR8fHt9O3ZhciBlPXRoaXMuc2VsZWN0b3IsYz1hLmpNYXNrR2xvYmFscyxoPWMud2F0Y2hJbnRlcnZhbCxjPWQud2F0Y2hJbnB1dHN8fGMud2F0Y2hJbnB1dHMsdD1mdW5jdGlvbigpe2lmKHAodGhpcyxiLGQpKXJldHVybiBhKHRoaXMpLmRhdGEoXCJtYXNrXCIsbmV3IGwodGhpcyxiLGQpKX07YSh0aGlzKS5lYWNoKHQpO2UmJlwiXCIhPT1lJiZjJiYoY2xlYXJJbnRlcnZhbChhLm1hc2tXYXRjaGVyc1tlXSksYS5tYXNrV2F0Y2hlcnNbZV09c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXthKGRvY3VtZW50KS5maW5kKGUpLmVhY2godCl9LGgpKTtyZXR1cm4gdGhpc307YS5mbi5tYXNrZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGF0YShcIm1hc2tcIikuZ2V0TWFza2VkVmFsKGEpfTthLmZuLnVubWFzaz1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoYS5tYXNrV2F0Y2hlcnNbdGhpcy5zZWxlY3Rvcl0pO1xyXG5kZWxldGUgYS5tYXNrV2F0Y2hlcnNbdGhpcy5zZWxlY3Rvcl07cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuZGF0YShcIm1hc2tcIik7YiYmYi5yZW1vdmUoKS5yZW1vdmVEYXRhKFwibWFza1wiKX0pfTthLmZuLmNsZWFuVmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YShcIm1hc2tcIikuZ2V0Q2xlYW5WYWwoKX07YS5hcHBseURhdGFNYXNrPWZ1bmN0aW9uKGIpe2I9Ynx8YS5qTWFza0dsb2JhbHMubWFza0VsZW1lbnRzOyhiIGluc3RhbmNlb2YgYT9iOmEoYikpLmZpbHRlcihhLmpNYXNrR2xvYmFscy5kYXRhTWFza0F0dHIpLmVhY2goZCl9O2g9e21hc2tFbGVtZW50czpcImlucHV0LHRkLHNwYW4sZGl2XCIsZGF0YU1hc2tBdHRyOlwiKltkYXRhLW1hc2tdXCIsZGF0YU1hc2s6ITAsd2F0Y2hJbnRlcnZhbDozMDAsd2F0Y2hJbnB1dHM6ITAsa2V5U3Ryb2tlQ29tcGVuc2F0aW9uOjEwLHVzZUlucHV0OiEvQ2hyb21lXFwvWzItNF1bMC05XXxTYW1zdW5nQnJvd3Nlci8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkmJlxyXG5oKFwiaW5wdXRcIiksd2F0Y2hEYXRhTWFzazohMSxieVBhc3NLZXlzOls5LDE2LDE3LDE4LDM2LDM3LDM4LDM5LDQwLDkxXSx0cmFuc2xhdGlvbjp7MDp7cGF0dGVybjovXFxkL30sOTp7cGF0dGVybjovXFxkLyxvcHRpb25hbDohMH0sXCIjXCI6e3BhdHRlcm46L1xcZC8scmVjdXJzaXZlOiEwfSxBOntwYXR0ZXJuOi9bYS16QS1aMC05XS99LFM6e3BhdHRlcm46L1thLXpBLVpdL319fTthLmpNYXNrR2xvYmFscz1hLmpNYXNrR2xvYmFsc3x8e307aD1hLmpNYXNrR2xvYmFscz1hLmV4dGVuZCghMCx7fSxoLGEuak1hc2tHbG9iYWxzKTtoLmRhdGFNYXNrJiZhLmFwcGx5RGF0YU1hc2soKTtzZXRJbnRlcnZhbChmdW5jdGlvbigpe2Euak1hc2tHbG9iYWxzLndhdGNoRGF0YU1hc2smJmEuYXBwbHlEYXRhTWFzaygpfSxoLndhdGNoSW50ZXJ2YWwpfSx3aW5kb3cualF1ZXJ5LHdpbmRvdy5aZXB0byk7XHJcbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDctMjAxNSBBcmllbCBGbGVzbGVyIC0gYWZsZXNsZXIgMCBnbWFpbCDvv70gY29tIHwgaHR0cDovL2ZsZXNsZXIuYmxvZ3Nwb3QuY29tXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVFxyXG4gKiBAYXV0aG9yIEFyaWVsIEZsZXNsZXJcclxuICogQHZlcnNpb24gMi4xLjNcclxuICovXHJcbjsoZnVuY3Rpb24oZil7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGYpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1mKHJlcXVpcmUoXCJqcXVlcnlcIikpOmYoalF1ZXJ5KX0pKGZ1bmN0aW9uKCQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oYSl7cmV0dXJuIWEubm9kZU5hbWV8fC0xIT09JC5pbkFycmF5KGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxbXCJpZnJhbWVcIixcIiNkb2N1bWVudFwiLFwiaHRtbFwiLFwiYm9keVwiXSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gJC5pc0Z1bmN0aW9uKGEpfHwkLmlzUGxhaW5PYmplY3QoYSk/YTp7dG9wOmEsbGVmdDphfX12YXIgcD0kLnNjcm9sbFRvPWZ1bmN0aW9uKGEsZCxiKXtyZXR1cm4gJCh3aW5kb3cpLnNjcm9sbFRvKGEsZCxiKX07cC5kZWZhdWx0cz17YXhpczpcInh5XCIsZHVyYXRpb246MCxsaW1pdDohMH07JC5mbi5zY3JvbGxUbz1mdW5jdGlvbihhLGQsYil7XCJvYmplY3RcIj09PSB0eXBlb2YgZCYmKGI9ZCxkPTApO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBiJiYoYj17b25BZnRlcjpifSk7XCJtYXhcIj09PWEmJihhPTlFOSk7Yj0kLmV4dGVuZCh7fSxwLmRlZmF1bHRzLGIpO2Q9ZHx8Yi5kdXJhdGlvbjt2YXIgdT1iLnF1ZXVlJiYxPGIuYXhpcy5sZW5ndGg7dSYmKGQvPTIpO2Iub2Zmc2V0PWgoYi5vZmZzZXQpO2Iub3Zlcj1oKGIub3Zlcik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIGsoYSl7dmFyIGs9JC5leHRlbmQoe30sYix7cXVldWU6ITAsZHVyYXRpb246ZCxjb21wbGV0ZTphJiZmdW5jdGlvbigpe2EuY2FsbChxLGUsYil9fSk7ci5hbmltYXRlKGYsayl9aWYobnVsbCE9PWEpe3ZhciBsPW4odGhpcykscT1sP3RoaXMuY29udGVudFdpbmRvd3x8d2luZG93OnRoaXMscj0kKHEpLGU9YSxmPXt9LHQ7c3dpdGNoKHR5cGVvZiBlKXtjYXNlIFwibnVtYmVyXCI6Y2FzZSBcInN0cmluZ1wiOmlmKC9eKFsrLV09Pyk/XFxkKyhcXC5cXGQrKT8ocHh8JSk/JC8udGVzdChlKSl7ZT0gaChlKTticmVha31lPWw/JChlKTokKGUscSk7Y2FzZSBcIm9iamVjdFwiOmlmKGUubGVuZ3RoPT09MClyZXR1cm47aWYoZS5pc3x8ZS5zdHlsZSl0PShlPSQoZSkpLm9mZnNldCgpfXZhciB2PSQuaXNGdW5jdGlvbihiLm9mZnNldCkmJmIub2Zmc2V0KHEsZSl8fGIub2Zmc2V0OyQuZWFjaChiLmF4aXMuc3BsaXQoXCJcIiksZnVuY3Rpb24oYSxjKXt2YXIgZD1cInhcIj09PWM/XCJMZWZ0XCI6XCJUb3BcIixtPWQudG9Mb3dlckNhc2UoKSxnPVwic2Nyb2xsXCIrZCxoPXJbZ10oKSxuPXAubWF4KHEsYyk7dD8oZltnXT10W21dKyhsPzA6aC1yLm9mZnNldCgpW21dKSxiLm1hcmdpbiYmKGZbZ10tPXBhcnNlSW50KGUuY3NzKFwibWFyZ2luXCIrZCksMTApfHwwLGZbZ10tPXBhcnNlSW50KGUuY3NzKFwiYm9yZGVyXCIrZCtcIldpZHRoXCIpLDEwKXx8MCksZltnXSs9dlttXXx8MCxiLm92ZXJbbV0mJihmW2ddKz1lW1wieFwiPT09Yz9cIndpZHRoXCI6XCJoZWlnaHRcIl0oKSpiLm92ZXJbbV0pKTooZD1lW21dLGZbZ109ZC5zbGljZSYmIFwiJVwiPT09ZC5zbGljZSgtMSk/cGFyc2VGbG9hdChkKS8xMDAqbjpkKTtiLmxpbWl0JiYvXlxcZCskLy50ZXN0KGZbZ10pJiYoZltnXT0wPj1mW2ddPzA6TWF0aC5taW4oZltnXSxuKSk7IWEmJjE8Yi5heGlzLmxlbmd0aCYmKGg9PT1mW2ddP2Y9e306dSYmKGsoYi5vbkFmdGVyRmlyc3QpLGY9e30pKX0pO2soYi5vbkFmdGVyKX19KX07cC5tYXg9ZnVuY3Rpb24oYSxkKXt2YXIgYj1cInhcIj09PWQ/XCJXaWR0aFwiOlwiSGVpZ2h0XCIsaD1cInNjcm9sbFwiK2I7aWYoIW4oYSkpcmV0dXJuIGFbaF0tJChhKVtiLnRvTG93ZXJDYXNlKCldKCk7dmFyIGI9XCJjbGllbnRcIitiLGs9YS5vd25lckRvY3VtZW50fHxhLmRvY3VtZW50LGw9ay5kb2N1bWVudEVsZW1lbnQsaz1rLmJvZHk7cmV0dXJuIE1hdGgubWF4KGxbaF0sa1toXSktTWF0aC5taW4obFtiXSxrW2JdKX07JC5Ud2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdD0kLlR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3A9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gJChhLmVsZW0pW2EucHJvcF0oKX0sIHNldDpmdW5jdGlvbihhKXt2YXIgZD10aGlzLmdldChhKTtpZihhLm9wdGlvbnMuaW50ZXJydXB0JiZhLl9sYXN0JiZhLl9sYXN0IT09ZClyZXR1cm4gJChhLmVsZW0pLnN0b3AoKTt2YXIgYj1NYXRoLnJvdW5kKGEubm93KTtkIT09YiYmKCQoYS5lbGVtKVthLnByb3BdKGIpLGEuX2xhc3Q9dGhpcy5nZXQoYSkpfX07cmV0dXJuIHB9KTsiLCIvKiEgQ29weXJpZ2h0IChjKSAyMDExIFBpb3RyIFJvY2hhbGEgKGh0dHA6Ly9yb2NoYS5sYSlcclxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuICogYW5kIEdQTCAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ncGwtbGljZW5zZS5waHApIGxpY2Vuc2VzLlxyXG4gKlxyXG4gKiBWZXJzaW9uOiAxLjMuMiAobW9kaWZpZWQgZm9yIGZ1bGxwYWdlLmpzKVxyXG4gKlxyXG4gKi9cclxuKGZ1bmN0aW9uKGYpe2pRdWVyeS5mbi5leHRlbmQoe3NsaW1TY3JvbGw6ZnVuY3Rpb24oZyl7dmFyIGE9Zi5leHRlbmQoe3dpZHRoOlwiYXV0b1wiLGhlaWdodDpcIjI1MHB4XCIsc2l6ZTpcIjdweFwiLGNvbG9yOlwiIzAwMFwiLHBvc2l0aW9uOlwicmlnaHRcIixkaXN0YW5jZTpcIjFweFwiLHN0YXJ0OlwidG9wXCIsb3BhY2l0eTouNCxhbHdheXNWaXNpYmxlOiExLGRpc2FibGVGYWRlT3V0OiExLHJhaWxWaXNpYmxlOiExLHJhaWxDb2xvcjpcIiMzMzNcIixyYWlsT3BhY2l0eTouMixyYWlsRHJhZ2dhYmxlOiEwLHJhaWxDbGFzczpcInNsaW1TY3JvbGxSYWlsXCIsYmFyQ2xhc3M6XCJzbGltU2Nyb2xsQmFyXCIsd3JhcHBlckNsYXNzOlwic2xpbVNjcm9sbERpdlwiLGFsbG93UGFnZVNjcm9sbDohMSx3aGVlbFN0ZXA6MjAsdG91Y2hTY3JvbGxTdGVwOjIwMCxib3JkZXJSYWRpdXM6XCI3cHhcIixyYWlsQm9yZGVyUmFkaXVzOlwiN3B4XCJ9LGcpO3RoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIHMoZCl7ZD1kfHx3aW5kb3cuZXZlbnQ7XHJcbnZhciBjPTA7ZC53aGVlbERlbHRhJiYoYz0tZC53aGVlbERlbHRhLzEyMCk7ZC5kZXRhaWwmJihjPWQuZGV0YWlsLzMpO2YoZC50YXJnZXR8fGQuc3JjVGFyZ2V0fHxkLnNyY0VsZW1lbnQpLmNsb3Nlc3QoXCIuXCIrYS53cmFwcGVyQ2xhc3MpLmlzKGIucGFyZW50KCkpJiZtKGMsITApO2QucHJldmVudERlZmF1bHQmJiFrJiZkLnByZXZlbnREZWZhdWx0KCk7a3x8KGQucmV0dXJuVmFsdWU9ITEpfWZ1bmN0aW9uIG0oZCxmLGcpe2s9ITE7dmFyIGU9ZCxoPWIub3V0ZXJIZWlnaHQoKS1jLm91dGVySGVpZ2h0KCk7ZiYmKGU9cGFyc2VJbnQoYy5jc3MoXCJ0b3BcIikpK2QqcGFyc2VJbnQoYS53aGVlbFN0ZXApLzEwMCpjLm91dGVySGVpZ2h0KCksZT1NYXRoLm1pbihNYXRoLm1heChlLDApLGgpLGU9MDxkP01hdGguY2VpbChlKTpNYXRoLmZsb29yKGUpLGMuY3NzKHt0b3A6ZStcInB4XCJ9KSk7bD1wYXJzZUludChjLmNzcyhcInRvcFwiKSkvKGIub3V0ZXJIZWlnaHQoKS1jLm91dGVySGVpZ2h0KCkpO1xyXG5lPWwqKGJbMF0uc2Nyb2xsSGVpZ2h0LWIub3V0ZXJIZWlnaHQoKSk7ZyYmKGU9ZCxkPWUvYlswXS5zY3JvbGxIZWlnaHQqYi5vdXRlckhlaWdodCgpLGQ9TWF0aC5taW4oTWF0aC5tYXgoZCwwKSxoKSxjLmNzcyh7dG9wOmQrXCJweFwifSkpO2Iuc2Nyb2xsVG9wKGUpO2IudHJpZ2dlcihcInNsaW1zY3JvbGxpbmdcIix+fmUpO3UoKTtwKCl9ZnVuY3Rpb24gQygpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyPyh0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLHMsITEpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIixzLCExKSk6ZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbm1vdXNld2hlZWxcIixzKX1mdW5jdGlvbiB2KCl7cj1NYXRoLm1heChiLm91dGVySGVpZ2h0KCkvYlswXS5zY3JvbGxIZWlnaHQqYi5vdXRlckhlaWdodCgpLEQpO2MuY3NzKHtoZWlnaHQ6citcInB4XCJ9KTt2YXIgYT1yPT1iLm91dGVySGVpZ2h0KCk/XCJub25lXCI6XCJibG9ja1wiO2MuY3NzKHtkaXNwbGF5OmF9KX1cclxuZnVuY3Rpb24gdSgpe3YoKTtjbGVhclRpbWVvdXQoQSk7bD09fn5sPyhrPWEuYWxsb3dQYWdlU2Nyb2xsLEIhPWwmJmIudHJpZ2dlcihcInNsaW1zY3JvbGxcIiwwPT1+fmw/XCJ0b3BcIjpcImJvdHRvbVwiKSk6az0hMTtCPWw7cj49Yi5vdXRlckhlaWdodCgpP2s9ITA6KGMuc3RvcCghMCwhMCkuZmFkZUluKFwiZmFzdFwiKSxhLnJhaWxWaXNpYmxlJiZoLnN0b3AoITAsITApLmZhZGVJbihcImZhc3RcIikpfWZ1bmN0aW9uIHAoKXthLmFsd2F5c1Zpc2libGV8fChBPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmRpc2FibGVGYWRlT3V0JiZ3fHx4fHx5fHwoYy5mYWRlT3V0KFwic2xvd1wiKSxoLmZhZGVPdXQoXCJzbG93XCIpKX0sMUUzKSl9dmFyIHcseCx5LEEseixyLGwsQixEPTMwLGs9ITEsYj1mKHRoaXMpO2lmKGIucGFyZW50KCkuaGFzQ2xhc3MoYS53cmFwcGVyQ2xhc3MpKXt2YXIgbj1iLnNjcm9sbFRvcCgpLGM9Yi5wYXJlbnQoKS5maW5kKFwiLlwiK2EuYmFyQ2xhc3MpLGg9Yi5wYXJlbnQoKS5maW5kKFwiLlwiK1xyXG5hLnJhaWxDbGFzcyk7digpO2lmKGYuaXNQbGFpbk9iamVjdChnKSl7aWYoXCJoZWlnaHRcImluIGcmJlwiYXV0b1wiPT1nLmhlaWdodCl7Yi5wYXJlbnQoKS5jc3MoXCJoZWlnaHRcIixcImF1dG9cIik7Yi5jc3MoXCJoZWlnaHRcIixcImF1dG9cIik7dmFyIHE9Yi5wYXJlbnQoKS5wYXJlbnQoKS5oZWlnaHQoKTtiLnBhcmVudCgpLmNzcyhcImhlaWdodFwiLHEpO2IuY3NzKFwiaGVpZ2h0XCIscSl9aWYoXCJzY3JvbGxUb1wiaW4gZyluPXBhcnNlSW50KGEuc2Nyb2xsVG8pO2Vsc2UgaWYoXCJzY3JvbGxCeVwiaW4gZyluKz1wYXJzZUludChhLnNjcm9sbEJ5KTtlbHNlIGlmKFwiZGVzdHJveVwiaW4gZyl7Yy5yZW1vdmUoKTtoLnJlbW92ZSgpO2IudW53cmFwKCk7cmV0dXJufW0obiwhMSwhMCl9fWVsc2V7YS5oZWlnaHQ9XCJhdXRvXCI9PWcuaGVpZ2h0P2IucGFyZW50KCkuaGVpZ2h0KCk6Zy5oZWlnaHQ7bj1mKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoYS53cmFwcGVyQ2xhc3MpLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLFxyXG5vdmVyZmxvdzpcImhpZGRlblwiLHdpZHRoOmEud2lkdGgsaGVpZ2h0OmEuaGVpZ2h0fSk7Yi5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIsd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9KTt2YXIgaD1mKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoYS5yYWlsQ2xhc3MpLmNzcyh7d2lkdGg6YS5zaXplLGhlaWdodDpcIjEwMCVcIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsZGlzcGxheTphLmFsd2F5c1Zpc2libGUmJmEucmFpbFZpc2libGU/XCJibG9ja1wiOlwibm9uZVwiLFwiYm9yZGVyLXJhZGl1c1wiOmEucmFpbEJvcmRlclJhZGl1cyxiYWNrZ3JvdW5kOmEucmFpbENvbG9yLG9wYWNpdHk6YS5yYWlsT3BhY2l0eSx6SW5kZXg6OTB9KSxjPWYoXCI8ZGl2PjwvZGl2PlwiKS5hZGRDbGFzcyhhLmJhckNsYXNzKS5jc3Moe2JhY2tncm91bmQ6YS5jb2xvcix3aWR0aDphLnNpemUscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLG9wYWNpdHk6YS5vcGFjaXR5LGRpc3BsYXk6YS5hbHdheXNWaXNpYmxlP1xyXG5cImJsb2NrXCI6XCJub25lXCIsXCJib3JkZXItcmFkaXVzXCI6YS5ib3JkZXJSYWRpdXMsQm9yZGVyUmFkaXVzOmEuYm9yZGVyUmFkaXVzLE1vekJvcmRlclJhZGl1czphLmJvcmRlclJhZGl1cyxXZWJraXRCb3JkZXJSYWRpdXM6YS5ib3JkZXJSYWRpdXMsekluZGV4Ojk5fSkscT1cInJpZ2h0XCI9PWEucG9zaXRpb24/e3JpZ2h0OmEuZGlzdGFuY2V9OntsZWZ0OmEuZGlzdGFuY2V9O2guY3NzKHEpO2MuY3NzKHEpO2Iud3JhcChuKTtiLnBhcmVudCgpLmFwcGVuZChjKTtiLnBhcmVudCgpLmFwcGVuZChoKTthLnJhaWxEcmFnZ2FibGUmJmMuYmluZChcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPWYoZG9jdW1lbnQpO3k9ITA7dD1wYXJzZUZsb2F0KGMuY3NzKFwidG9wXCIpKTtwYWdlWT1hLnBhZ2VZO2IuYmluZChcIm1vdXNlbW92ZS5zbGltc2Nyb2xsXCIsZnVuY3Rpb24oYSl7Y3VyclRvcD10K2EucGFnZVktcGFnZVk7Yy5jc3MoXCJ0b3BcIixjdXJyVG9wKTttKDAsYy5wb3NpdGlvbigpLnRvcCwhMSl9KTtcclxuYi5iaW5kKFwibW91c2V1cC5zbGltc2Nyb2xsXCIsZnVuY3Rpb24oYSl7eT0hMTtwKCk7Yi51bmJpbmQoXCIuc2xpbXNjcm9sbFwiKX0pO3JldHVybiExfSkuYmluZChcInNlbGVjdHN0YXJ0LnNsaW1zY3JvbGxcIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKTtyZXR1cm4hMX0pO2guaG92ZXIoZnVuY3Rpb24oKXt1KCl9LGZ1bmN0aW9uKCl7cCgpfSk7Yy5ob3ZlcihmdW5jdGlvbigpe3g9ITB9LGZ1bmN0aW9uKCl7eD0hMX0pO2IuaG92ZXIoZnVuY3Rpb24oKXt3PSEwO3UoKTtwKCl9LGZ1bmN0aW9uKCl7dz0hMTtwKCl9KTtiLmJpbmQoXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oYSxiKXthLm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGgmJih6PWEub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VZKX0pO2IuYmluZChcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGIpe2t8fGIub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO2Iub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCYmXHJcbihtKCh6LWIub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VZKS9hLnRvdWNoU2Nyb2xsU3RlcCwhMCksej1iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWSl9KTt2KCk7XCJib3R0b21cIj09PWEuc3RhcnQ/KGMuY3NzKHt0b3A6Yi5vdXRlckhlaWdodCgpLWMub3V0ZXJIZWlnaHQoKX0pLG0oMCwhMCkpOlwidG9wXCIhPT1hLnN0YXJ0JiYobShmKGEuc3RhcnQpLnBvc2l0aW9uKCkudG9wLG51bGwsITApLGEuYWx3YXlzVmlzaWJsZXx8Yy5oaWRlKCkpO0MoKX19KTtyZXR1cm4gdGhpc319KTtqUXVlcnkuZm4uZXh0ZW5kKHtzbGltc2Nyb2xsOmpRdWVyeS5mbi5zbGltU2Nyb2xsfSl9KShqUXVlcnkpOyIsIi8qISBsZy1mdWxsc2NyZWVuIC0gdjEuMC4wIC0gMjAxNi0wOS0yMFxyXG4qIGh0dHA6Ly9zYWNoaW5jaG9vbHVyLmdpdGh1Yi5pby9saWdodEdhbGxlcnlcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYgU2FjaGluIE47IExpY2Vuc2VkIEdQTHYzICovXHJcbiFmdW5jdGlvbihhLGIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZnVuY3Rpb24oKXtyZXR1cm4gYigpfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YigpOmIoKX0odGhpcyxmdW5jdGlvbigpeyFmdW5jdGlvbihhLGIsYyxkKXtcInVzZSBzdHJpY3RcIjt2YXIgZT17ZnVsbFNjcmVlbjohMH0sZj1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5jb3JlPWEoYikuZGF0YShcImxpZ2h0R2FsbGVyeVwiKSx0aGlzLiRlbD1hKGIpLHRoaXMuY29yZS5zPWEuZXh0ZW5kKHt9LGUsdGhpcy5jb3JlLnMpLHRoaXMuaW5pdCgpLHRoaXN9O2YucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT1cIlwiO2lmKHRoaXMuY29yZS5zLmZ1bGxTY3JlZW4pe2lmKCEoYy5mdWxsc2NyZWVuRW5hYmxlZHx8Yy53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZHx8Yy5tb3pGdWxsU2NyZWVuRW5hYmxlZHx8Yy5tc0Z1bGxzY3JlZW5FbmFibGVkKSlyZXR1cm47YT0nPHNwYW4gY2xhc3M9XCJsZy1mdWxsc2NyZWVuIGxnLWljb25cIj48L3NwYW4+Jyx0aGlzLmNvcmUuJG91dGVyLmZpbmQoXCIubGctdG9vbGJhclwiKS5hcHBlbmQoYSksdGhpcy5mdWxsU2NyZWVuKCl9fSxmLnByb3RvdHlwZS5yZXF1ZXN0RnVsbHNjcmVlbj1mdW5jdGlvbigpe3ZhciBhPWMuZG9jdW1lbnRFbGVtZW50O2EucmVxdWVzdEZ1bGxzY3JlZW4/YS5yZXF1ZXN0RnVsbHNjcmVlbigpOmEubXNSZXF1ZXN0RnVsbHNjcmVlbj9hLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTphLm1velJlcXVlc3RGdWxsU2NyZWVuP2EubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTphLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZhLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCl9LGYucHJvdG90eXBlLmV4aXRGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7Yy5leGl0RnVsbHNjcmVlbj9jLmV4aXRGdWxsc2NyZWVuKCk6Yy5tc0V4aXRGdWxsc2NyZWVuP2MubXNFeGl0RnVsbHNjcmVlbigpOmMubW96Q2FuY2VsRnVsbFNjcmVlbj9jLm1vekNhbmNlbEZ1bGxTY3JlZW4oKTpjLndlYmtpdEV4aXRGdWxsc2NyZWVuJiZjLndlYmtpdEV4aXRGdWxsc2NyZWVuKCl9LGYucHJvdG90eXBlLmZ1bGxTY3JlZW49ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2EoYykub24oXCJmdWxsc2NyZWVuY2hhbmdlLmxnIHdlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UubGcgbW96ZnVsbHNjcmVlbmNoYW5nZS5sZyBNU0Z1bGxzY3JlZW5DaGFuZ2UubGdcIixmdW5jdGlvbigpe2IuY29yZS4kb3V0ZXIudG9nZ2xlQ2xhc3MoXCJsZy1mdWxsc2NyZWVuLW9uXCIpfSksdGhpcy5jb3JlLiRvdXRlci5maW5kKFwiLmxnLWZ1bGxzY3JlZW5cIikub24oXCJjbGljay5sZ1wiLGZ1bmN0aW9uKCl7Yy5mdWxsc2NyZWVuRWxlbWVudHx8Yy5tb3pGdWxsU2NyZWVuRWxlbWVudHx8Yy53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8Yy5tc0Z1bGxzY3JlZW5FbGVtZW50P2IuZXhpdEZ1bGxzY3JlZW4oKTpiLnJlcXVlc3RGdWxsc2NyZWVuKCl9KX0sZi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZXhpdEZ1bGxzY3JlZW4oKSxhKGMpLm9mZihcImZ1bGxzY3JlZW5jaGFuZ2UubGcgd2Via2l0ZnVsbHNjcmVlbmNoYW5nZS5sZyBtb3pmdWxsc2NyZWVuY2hhbmdlLmxnIE1TRnVsbHNjcmVlbkNoYW5nZS5sZ1wiKX0sYS5mbi5saWdodEdhbGxlcnkubW9kdWxlcy5mdWxsc2NyZWVuPWZ9KGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpfSk7IiwiLyohIGxnLXRodW1ibmFpbCAtIHYxLjAuMCAtIDIwMTYtMDktMjBcclxuKiBodHRwOi8vc2FjaGluY2hvb2x1ci5naXRodWIuaW8vbGlnaHRHYWxsZXJ5XHJcbiogQ29weXJpZ2h0IChjKSAyMDE2IFNhY2hpbiBOOyBMaWNlbnNlZCBHUEx2MyAqL1xyXG4hZnVuY3Rpb24oYSxiKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGIoKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIoKTpiKCl9KHRoaXMsZnVuY3Rpb24oKXshZnVuY3Rpb24oYSxiLGMsZCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9e3RodW1ibmFpbDohMCxhbmltYXRlVGh1bWI6ITAsY3VycmVudFBhZ2VyUG9zaXRpb246XCJtaWRkbGVcIix0aHVtYldpZHRoOjEwMCx0aHVtYkNvbnRIZWlnaHQ6MTAwLHRodW1iTWFyZ2luOjUsZXhUaHVtYkltYWdlOiExLHNob3dUaHVtYkJ5RGVmYXVsdDohMCx0b29nbGVUaHVtYjohMCxwdWxsQ2FwdGlvblVwOiEwLGVuYWJsZVRodW1iRHJhZzohMCxlbmFibGVUaHVtYlN3aXBlOiEwLHN3aXBlVGhyZXNob2xkOjUwLGxvYWRZb3V0dWJlVGh1bWJuYWlsOiEwLHlvdXR1YmVUaHVtYlNpemU6MSxsb2FkVmltZW9UaHVtYm5haWw6ITAsdmltZW9UaHVtYlNpemU6XCJ0aHVtYm5haWxfc21hbGxcIixsb2FkRGFpbHltb3Rpb25UaHVtYm5haWw6ITB9LGY9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuY29yZT1hKGIpLmRhdGEoXCJsaWdodEdhbGxlcnlcIiksdGhpcy5jb3JlLnM9YS5leHRlbmQoe30sZSx0aGlzLmNvcmUucyksdGhpcy4kZWw9YShiKSx0aGlzLiR0aHVtYk91dGVyPW51bGwsdGhpcy50aHVtYk91dGVyV2lkdGg9MCx0aGlzLnRodW1iVG90YWxXaWR0aD10aGlzLmNvcmUuJGl0ZW1zLmxlbmd0aCoodGhpcy5jb3JlLnMudGh1bWJXaWR0aCt0aGlzLmNvcmUucy50aHVtYk1hcmdpbiksdGhpcy50aHVtYkluZGV4PXRoaXMuY29yZS5pbmRleCx0aGlzLmxlZnQ9MCx0aGlzLmluaXQoKSx0aGlzfTtmLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmNvcmUucy50aHVtYm5haWwmJnRoaXMuY29yZS4kaXRlbXMubGVuZ3RoPjEmJih0aGlzLmNvcmUucy5zaG93VGh1bWJCeURlZmF1bHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmNvcmUuJG91dGVyLmFkZENsYXNzKFwibGctdGh1bWItb3BlblwiKX0sNzAwKSx0aGlzLmNvcmUucy5wdWxsQ2FwdGlvblVwJiZ0aGlzLmNvcmUuJG91dGVyLmFkZENsYXNzKFwibGctcHVsbC1jYXB0aW9uLXVwXCIpLHRoaXMuYnVpbGQoKSx0aGlzLmNvcmUucy5hbmltYXRlVGh1bWI/KHRoaXMuY29yZS5zLmVuYWJsZVRodW1iRHJhZyYmIXRoaXMuY29yZS5pc1RvdWNoJiZ0aGlzLmNvcmUuZG9Dc3MoKSYmdGhpcy5lbmFibGVUaHVtYkRyYWcoKSx0aGlzLmNvcmUucy5lbmFibGVUaHVtYlN3aXBlJiZ0aGlzLmNvcmUuaXNUb3VjaCYmdGhpcy5jb3JlLmRvQ3NzKCkmJnRoaXMuZW5hYmxlVGh1bWJTd2lwZSgpLHRoaXMudGh1bWJDbGlja2FibGU9ITEpOnRoaXMudGh1bWJDbGlja2FibGU9ITAsdGhpcy50b29nbGUoKSx0aGlzLnRodW1ia2V5UHJlc3MoKSl9LGYucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGQsaD1lLmNvcmUuaXNWaWRlbyhhLGMpfHx7fSxpPVwiXCI7aC55b3V0dWJlfHxoLnZpbWVvfHxoLmRhaWx5bW90aW9uP2gueW91dHViZT9kPWUuY29yZS5zLmxvYWRZb3V0dWJlVGh1bWJuYWlsP1wiLy9pbWcueW91dHViZS5jb20vdmkvXCIraC55b3V0dWJlWzFdK1wiL1wiK2UuY29yZS5zLnlvdXR1YmVUaHVtYlNpemUrXCIuanBnXCI6YjpoLnZpbWVvP2UuY29yZS5zLmxvYWRWaW1lb1RodW1ibmFpbD8oZD1cIi8vaS52aW1lb2Nkbi5jb20vdmlkZW8vZXJyb3JfXCIrZytcIi5qcGdcIixpPWgudmltZW9bMV0pOmQ9YjpoLmRhaWx5bW90aW9uJiYoZD1lLmNvcmUucy5sb2FkRGFpbHltb3Rpb25UaHVtYm5haWw/XCIvL3d3dy5kYWlseW1vdGlvbi5jb20vdGh1bWJuYWlsL3ZpZGVvL1wiK2guZGFpbHltb3Rpb25bMV06Yik6ZD1iLGYrPSc8ZGl2IGRhdGEtdmltZW8taWQ9XCInK2krJ1wiIGNsYXNzPVwibGctdGh1bWItaXRlbVwiIHN0eWxlPVwid2lkdGg6JytlLmNvcmUucy50aHVtYldpZHRoK1wicHg7IG1hcmdpbi1yaWdodDogXCIrZS5jb3JlLnMudGh1bWJNYXJnaW4rJ3B4XCI+PGltZyBzcmM9XCInK2QrJ1wiIC8+PC9kaXY+JyxpPVwiXCJ9dmFyIGQsZT10aGlzLGY9XCJcIixnPVwiXCIsaD0nPGRpdiBjbGFzcz1cImxnLXRodW1iLW91dGVyXCI+PGRpdiBjbGFzcz1cImxnLXRodW1iIGdyb3VwXCI+PC9kaXY+PC9kaXY+Jztzd2l0Y2godGhpcy5jb3JlLnMudmltZW9UaHVtYlNpemUpe2Nhc2VcInRodW1ibmFpbF9sYXJnZVwiOmc9XCI2NDBcIjticmVhaztjYXNlXCJ0aHVtYm5haWxfbWVkaXVtXCI6Zz1cIjIwMHgxNTBcIjticmVhaztjYXNlXCJ0aHVtYm5haWxfc21hbGxcIjpnPVwiMTAweDc1XCJ9aWYoZS5jb3JlLiRvdXRlci5hZGRDbGFzcyhcImxnLWhhcy10aHVtYlwiKSxlLmNvcmUuJG91dGVyLmZpbmQoXCIubGdcIikuYXBwZW5kKGgpLGUuJHRodW1iT3V0ZXI9ZS5jb3JlLiRvdXRlci5maW5kKFwiLmxnLXRodW1iLW91dGVyXCIpLGUudGh1bWJPdXRlcldpZHRoPWUuJHRodW1iT3V0ZXIud2lkdGgoKSxlLmNvcmUucy5hbmltYXRlVGh1bWImJmUuY29yZS4kb3V0ZXIuZmluZChcIi5sZy10aHVtYlwiKS5jc3Moe3dpZHRoOmUudGh1bWJUb3RhbFdpZHRoK1wicHhcIixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KSx0aGlzLmNvcmUucy5hbmltYXRlVGh1bWImJmUuJHRodW1iT3V0ZXIuY3NzKFwiaGVpZ2h0XCIsZS5jb3JlLnMudGh1bWJDb250SGVpZ2h0K1wicHhcIiksZS5jb3JlLnMuZHluYW1pYylmb3IodmFyIGk9MDtpPGUuY29yZS5zLmR5bmFtaWNFbC5sZW5ndGg7aSsrKWMoZS5jb3JlLnMuZHluYW1pY0VsW2ldLnNyYyxlLmNvcmUucy5keW5hbWljRWxbaV0udGh1bWIsaSk7ZWxzZSBlLmNvcmUuJGl0ZW1zLmVhY2goZnVuY3Rpb24oYil7ZS5jb3JlLnMuZXhUaHVtYkltYWdlP2MoYSh0aGlzKS5hdHRyKFwiaHJlZlwiKXx8YSh0aGlzKS5hdHRyKFwiZGF0YS1zcmNcIiksYSh0aGlzKS5hdHRyKGUuY29yZS5zLmV4VGh1bWJJbWFnZSksYik6YyhhKHRoaXMpLmF0dHIoXCJocmVmXCIpfHxhKHRoaXMpLmF0dHIoXCJkYXRhLXNyY1wiKSxhKHRoaXMpLmZpbmQoXCJpbWdcIikuYXR0cihcInNyY1wiKSxiKX0pO2UuY29yZS4kb3V0ZXIuZmluZChcIi5sZy10aHVtYlwiKS5odG1sKGYpLGQ9ZS5jb3JlLiRvdXRlci5maW5kKFwiLmxnLXRodW1iLWl0ZW1cIiksZC5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuYXR0cihcImRhdGEtdmltZW8taWRcIik7YyYmYS5nZXRKU09OKFwiLy93d3cudmltZW8uY29tL2FwaS92Mi92aWRlby9cIitjK1wiLmpzb24/Y2FsbGJhY2s9P1wiLHtmb3JtYXQ6XCJqc29uXCJ9LGZ1bmN0aW9uKGEpe2IuZmluZChcImltZ1wiKS5hdHRyKFwic3JjXCIsYVswXVtlLmNvcmUucy52aW1lb1RodW1iU2l6ZV0pfSl9KSxkLmVxKGUuY29yZS5pbmRleCkuYWRkQ2xhc3MoXCJhY3RpdmVcIiksZS5jb3JlLiRlbC5vbihcIm9uQmVmb3JlU2xpZGUubGcudG1cIixmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksZC5lcShlLmNvcmUuaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpfSksZC5vbihcImNsaWNrLmxnIHRvdWNoZW5kLmxnXCIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXsoZS50aHVtYkNsaWNrYWJsZSYmIWUuY29yZS5sZ0J1c3l8fCFlLmNvcmUuZG9Dc3MoKSkmJihlLmNvcmUuaW5kZXg9Yi5pbmRleCgpLGUuY29yZS5zbGlkZShlLmNvcmUuaW5kZXgsITEsITApKX0sNTApfSksZS5jb3JlLiRlbC5vbihcIm9uQmVmb3JlU2xpZGUubGcudG1cIixmdW5jdGlvbigpe2UuYW5pbWF0ZVRodW1iKGUuY29yZS5pbmRleCl9KSxhKGIpLm9uKFwicmVzaXplLmxnLnRodW1iIG9yaWVudGF0aW9uY2hhbmdlLmxnLnRodW1iXCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5hbmltYXRlVGh1bWIoZS5jb3JlLmluZGV4KSxlLnRodW1iT3V0ZXJXaWR0aD1lLiR0aHVtYk91dGVyLndpZHRoKCl9LDIwMCl9KX0sZi5wcm90b3R5cGUuc2V0VHJhbnNsYXRlPWZ1bmN0aW9uKGEpe3RoaXMuY29yZS4kb3V0ZXIuZmluZChcIi5sZy10aHVtYlwiKS5jc3Moe3RyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKC1cIithK1wicHgsIDBweCwgMHB4KVwifSl9LGYucHJvdG90eXBlLmFuaW1hdGVUaHVtYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvcmUuJG91dGVyLmZpbmQoXCIubGctdGh1bWJcIik7aWYodGhpcy5jb3JlLnMuYW5pbWF0ZVRodW1iKXt2YXIgYztzd2l0Y2godGhpcy5jb3JlLnMuY3VycmVudFBhZ2VyUG9zaXRpb24pe2Nhc2VcImxlZnRcIjpjPTA7YnJlYWs7Y2FzZVwibWlkZGxlXCI6Yz10aGlzLnRodW1iT3V0ZXJXaWR0aC8yLXRoaXMuY29yZS5zLnRodW1iV2lkdGgvMjticmVhaztjYXNlXCJyaWdodFwiOmM9dGhpcy50aHVtYk91dGVyV2lkdGgtdGhpcy5jb3JlLnMudGh1bWJXaWR0aH10aGlzLmxlZnQ9KHRoaXMuY29yZS5zLnRodW1iV2lkdGgrdGhpcy5jb3JlLnMudGh1bWJNYXJnaW4pKmEtMS1jLHRoaXMubGVmdD50aGlzLnRodW1iVG90YWxXaWR0aC10aGlzLnRodW1iT3V0ZXJXaWR0aCYmKHRoaXMubGVmdD10aGlzLnRodW1iVG90YWxXaWR0aC10aGlzLnRodW1iT3V0ZXJXaWR0aCksdGhpcy5sZWZ0PDAmJih0aGlzLmxlZnQ9MCksdGhpcy5jb3JlLmxHYWxsZXJ5T24/KGIuaGFzQ2xhc3MoXCJvblwiKXx8dGhpcy5jb3JlLiRvdXRlci5maW5kKFwiLmxnLXRodW1iXCIpLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIix0aGlzLmNvcmUucy5zcGVlZCtcIm1zXCIpLHRoaXMuY29yZS5kb0NzcygpfHxiLmFuaW1hdGUoe2xlZnQ6LXRoaXMubGVmdCtcInB4XCJ9LHRoaXMuY29yZS5zLnNwZWVkKSk6dGhpcy5jb3JlLmRvQ3NzKCl8fGIuY3NzKFwibGVmdFwiLC10aGlzLmxlZnQrXCJweFwiKSx0aGlzLnNldFRyYW5zbGF0ZSh0aGlzLmxlZnQpfX0sZi5wcm90b3R5cGUuZW5hYmxlVGh1bWJEcmFnPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxkPTAsZT0wLGY9ITEsZz0hMSxoPTA7Yy4kdGh1bWJPdXRlci5hZGRDbGFzcyhcImxnLWdyYWJcIiksYy5jb3JlLiRvdXRlci5maW5kKFwiLmxnLXRodW1iXCIpLm9uKFwibW91c2Vkb3duLmxnLnRodW1iXCIsZnVuY3Rpb24oYSl7Yy50aHVtYlRvdGFsV2lkdGg+Yy50aHVtYk91dGVyV2lkdGgmJihhLnByZXZlbnREZWZhdWx0KCksZD1hLnBhZ2VYLGY9ITAsYy5jb3JlLiRvdXRlci5zY3JvbGxMZWZ0Kz0xLGMuY29yZS4kb3V0ZXIuc2Nyb2xsTGVmdC09MSxjLnRodW1iQ2xpY2thYmxlPSExLGMuJHRodW1iT3V0ZXIucmVtb3ZlQ2xhc3MoXCJsZy1ncmFiXCIpLmFkZENsYXNzKFwibGctZ3JhYmJpbmdcIikpfSksYShiKS5vbihcIm1vdXNlbW92ZS5sZy50aHVtYlwiLGZ1bmN0aW9uKGEpe2YmJihoPWMubGVmdCxnPSEwLGU9YS5wYWdlWCxjLiR0aHVtYk91dGVyLmFkZENsYXNzKFwibGctZHJhZ2dpbmdcIiksaC09ZS1kLGg+Yy50aHVtYlRvdGFsV2lkdGgtYy50aHVtYk91dGVyV2lkdGgmJihoPWMudGh1bWJUb3RhbFdpZHRoLWMudGh1bWJPdXRlcldpZHRoKSxoPDAmJihoPTApLGMuc2V0VHJhbnNsYXRlKGgpKX0pLGEoYikub24oXCJtb3VzZXVwLmxnLnRodW1iXCIsZnVuY3Rpb24oKXtnPyhnPSExLGMuJHRodW1iT3V0ZXIucmVtb3ZlQ2xhc3MoXCJsZy1kcmFnZ2luZ1wiKSxjLmxlZnQ9aCxNYXRoLmFicyhlLWQpPGMuY29yZS5zLnN3aXBlVGhyZXNob2xkJiYoYy50aHVtYkNsaWNrYWJsZT0hMCkpOmMudGh1bWJDbGlja2FibGU9ITAsZiYmKGY9ITEsYy4kdGh1bWJPdXRlci5yZW1vdmVDbGFzcyhcImxnLWdyYWJiaW5nXCIpLmFkZENsYXNzKFwibGctZ3JhYlwiKSl9KX0sZi5wcm90b3R5cGUuZW5hYmxlVGh1bWJTd2lwZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0wLGM9MCxkPSExLGU9MDthLmNvcmUuJG91dGVyLmZpbmQoXCIubGctdGh1bWJcIikub24oXCJ0b3VjaHN0YXJ0LmxnXCIsZnVuY3Rpb24oYyl7YS50aHVtYlRvdGFsV2lkdGg+YS50aHVtYk91dGVyV2lkdGgmJihjLnByZXZlbnREZWZhdWx0KCksYj1jLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCxhLnRodW1iQ2xpY2thYmxlPSExKX0pLGEuY29yZS4kb3V0ZXIuZmluZChcIi5sZy10aHVtYlwiKS5vbihcInRvdWNobW92ZS5sZ1wiLGZ1bmN0aW9uKGYpe2EudGh1bWJUb3RhbFdpZHRoPmEudGh1bWJPdXRlcldpZHRoJiYoZi5wcmV2ZW50RGVmYXVsdCgpLGM9Zi5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVgsZD0hMCxhLiR0aHVtYk91dGVyLmFkZENsYXNzKFwibGctZHJhZ2dpbmdcIiksZT1hLmxlZnQsZS09Yy1iLGU+YS50aHVtYlRvdGFsV2lkdGgtYS50aHVtYk91dGVyV2lkdGgmJihlPWEudGh1bWJUb3RhbFdpZHRoLWEudGh1bWJPdXRlcldpZHRoKSxlPDAmJihlPTApLGEuc2V0VHJhbnNsYXRlKGUpKX0pLGEuY29yZS4kb3V0ZXIuZmluZChcIi5sZy10aHVtYlwiKS5vbihcInRvdWNoZW5kLmxnXCIsZnVuY3Rpb24oKXthLnRodW1iVG90YWxXaWR0aD5hLnRodW1iT3V0ZXJXaWR0aCYmZD8oZD0hMSxhLiR0aHVtYk91dGVyLnJlbW92ZUNsYXNzKFwibGctZHJhZ2dpbmdcIiksTWF0aC5hYnMoYy1iKTxhLmNvcmUucy5zd2lwZVRocmVzaG9sZCYmKGEudGh1bWJDbGlja2FibGU9ITApLGEubGVmdD1lKTphLnRodW1iQ2xpY2thYmxlPSEwfSl9LGYucHJvdG90eXBlLnRvb2dsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jb3JlLnMudG9vZ2xlVGh1bWImJihhLmNvcmUuJG91dGVyLmFkZENsYXNzKFwibGctY2FuLXRvZ2dsZVwiKSxhLiR0aHVtYk91dGVyLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJsZy10b29nbGUtdGh1bWIgbGctaWNvblwiPjwvc3Bhbj4nKSxhLmNvcmUuJG91dGVyLmZpbmQoXCIubGctdG9vZ2xlLXRodW1iXCIpLm9uKFwiY2xpY2subGdcIixmdW5jdGlvbigpe2EuY29yZS4kb3V0ZXIudG9nZ2xlQ2xhc3MoXCJsZy10aHVtYi1vcGVuXCIpfSkpfSxmLnByb3RvdHlwZS50aHVtYmtleVByZXNzPWZ1bmN0aW9uKCl7dmFyIGM9dGhpczthKGIpLm9uKFwia2V5ZG93bi5sZy50aHVtYlwiLGZ1bmN0aW9uKGEpezM4PT09YS5rZXlDb2RlPyhhLnByZXZlbnREZWZhdWx0KCksYy5jb3JlLiRvdXRlci5hZGRDbGFzcyhcImxnLXRodW1iLW9wZW5cIikpOjQwPT09YS5rZXlDb2RlJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGMuY29yZS4kb3V0ZXIucmVtb3ZlQ2xhc3MoXCJsZy10aHVtYi1vcGVuXCIpKX0pfSxmLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jb3JlLnMudGh1bWJuYWlsJiZ0aGlzLmNvcmUuJGl0ZW1zLmxlbmd0aD4xJiYoYShiKS5vZmYoXCJyZXNpemUubGcudGh1bWIgb3JpZW50YXRpb25jaGFuZ2UubGcudGh1bWIga2V5ZG93bi5sZy50aHVtYlwiKSx0aGlzLiR0aHVtYk91dGVyLnJlbW92ZSgpLHRoaXMuY29yZS4kb3V0ZXIucmVtb3ZlQ2xhc3MoXCJsZy1oYXMtdGh1bWJcIikpfSxhLmZuLmxpZ2h0R2FsbGVyeS5tb2R1bGVzLlRodW1ibmFpbD1mfShqUXVlcnksd2luZG93LGRvY3VtZW50KX0pOyIsIi8qIE1vZGVybml6ciAyLjAuNiAoQ3VzdG9tIEJ1aWxkKSB8IE1JVCAmIEJTRFxyXG4gKiBCdWlsZDogaHR0cDovL3d3dy5tb2Rlcm5penIuY29tL2Rvd25sb2FkLyMtY3NzdHJhbnNmb3Jtcy1jc3N0cmFuc2Zvcm1zM2QtY3NzdHJhbnNpdGlvbnMtaWVwcC1jc3NjbGFzc2VzLXRlc3RzdHlsZXMtdGVzdHByb3AtdGVzdGFsbHByb3BzLXByZWZpeGVzLWRvbXByZWZpeGVzLWxvYWRcclxuICovXHJcbjt3aW5kb3cuTW9kZXJuaXpyPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBDKGEsYil7dmFyIGM9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxkPShhK1wiIFwiK28uam9pbihjK1wiIFwiKStjKS5zcGxpdChcIiBcIik7cmV0dXJuIEIoZCxiKX1mdW5jdGlvbiBCKGEsYil7Zm9yKHZhciBkIGluIGEpaWYoa1thW2RdXSE9PWMpcmV0dXJuIGI9PVwicGZ4XCI/YVtkXTohMDtyZXR1cm4hMX1mdW5jdGlvbiBBKGEsYil7cmV0dXJuISF+KFwiXCIrYSkuaW5kZXhPZihiKX1mdW5jdGlvbiB6KGEsYil7cmV0dXJuIHR5cGVvZiBhPT09Yn1mdW5jdGlvbiB5KGEsYil7cmV0dXJuIHgobi5qb2luKGErXCI7XCIpKyhifHxcIlwiKSl9ZnVuY3Rpb24geChhKXtrLmNzc1RleHQ9YX12YXIgZD1cIjIuMC42XCIsZT17fSxmPSEwLGc9Yi5kb2N1bWVudEVsZW1lbnQsaD1iLmhlYWR8fGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLGk9XCJtb2Rlcm5penJcIixqPWIuY3JlYXRlRWxlbWVudChpKSxrPWouc3R5bGUsbCxtPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbj1cIiAtd2Via2l0LSAtbW96LSAtby0gLW1zLSAta2h0bWwtIFwiLnNwbGl0KFwiIFwiKSxvPVwiV2Via2l0IE1veiBPIG1zIEtodG1sXCIuc3BsaXQoXCIgXCIpLHA9e30scT17fSxyPXt9LHM9W10sdD1mdW5jdGlvbihhLGMsZCxlKXt2YXIgZixoLGosaz1iLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYocGFyc2VJbnQoZCwxMCkpd2hpbGUoZC0tKWo9Yi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGouaWQ9ZT9lW2RdOmkrKGQrMSksay5hcHBlbmRDaGlsZChqKTtmPVtcIiZzaHk7XCIsXCI8c3R5bGU+XCIsYSxcIjwvc3R5bGU+XCJdLmpvaW4oXCJcIiksay5pZD1pLGsuaW5uZXJIVE1MKz1mLGcuYXBwZW5kQ2hpbGQoayksaD1jKGssYSksay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGspO3JldHVybiEhaH0sdSx2PXt9Lmhhc093blByb3BlcnR5LHc7IXoodixjKSYmIXoodi5jYWxsLGMpP3c9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdi5jYWxsKGEsYil9Onc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiBpbiBhJiZ6KGEuY29uc3RydWN0b3IucHJvdG90eXBlW2JdLGMpfTt2YXIgRD1mdW5jdGlvbihhLGMpe3ZhciBkPWEuam9pbihcIlwiKSxmPWMubGVuZ3RoO3QoZCxmdW5jdGlvbihhLGMpe3ZhciBkPWIuc3R5bGVTaGVldHNbYi5zdHlsZVNoZWV0cy5sZW5ndGgtMV0sZz1kLmNzc1J1bGVzJiZkLmNzc1J1bGVzWzBdP2QuY3NzUnVsZXNbMF0uY3NzVGV4dDpkLmNzc1RleHR8fFwiXCIsaD1hLmNoaWxkTm9kZXMsaT17fTt3aGlsZShmLS0paVtoW2ZdLmlkXT1oW2ZdO2UuY3NzdHJhbnNmb3JtczNkPWkuY3NzdHJhbnNmb3JtczNkLm9mZnNldExlZnQ9PT05fSxmLGMpfShbLFtcIkBtZWRpYSAoXCIsbi5qb2luKFwidHJhbnNmb3JtLTNkKSwoXCIpLGksXCIpXCIsXCJ7I2Nzc3RyYW5zZm9ybXMzZHtsZWZ0OjlweDtwb3NpdGlvbjphYnNvbHV0ZX19XCJdLmpvaW4oXCJcIildLFssXCJjc3N0cmFuc2Zvcm1zM2RcIl0pO3AuY3NzdHJhbnNmb3Jtcz1mdW5jdGlvbigpe3JldHVybiEhQihbXCJ0cmFuc2Zvcm1Qcm9wZXJ0eVwiLFwiV2Via2l0VHJhbnNmb3JtXCIsXCJNb3pUcmFuc2Zvcm1cIixcIk9UcmFuc2Zvcm1cIixcIm1zVHJhbnNmb3JtXCJdKX0scC5jc3N0cmFuc2Zvcm1zM2Q9ZnVuY3Rpb24oKXt2YXIgYT0hIUIoW1wicGVyc3BlY3RpdmVQcm9wZXJ0eVwiLFwiV2Via2l0UGVyc3BlY3RpdmVcIixcIk1velBlcnNwZWN0aXZlXCIsXCJPUGVyc3BlY3RpdmVcIixcIm1zUGVyc3BlY3RpdmVcIl0pO2EmJlwid2Via2l0UGVyc3BlY3RpdmVcImluIGcuc3R5bGUmJihhPWUuY3NzdHJhbnNmb3JtczNkKTtyZXR1cm4gYX0scC5jc3N0cmFuc2l0aW9ucz1mdW5jdGlvbigpe3JldHVybiBDKFwidHJhbnNpdGlvblByb3BlcnR5XCIpfTtmb3IodmFyIEUgaW4gcCl3KHAsRSkmJih1PUUudG9Mb3dlckNhc2UoKSxlW3VdPXBbRV0oKSxzLnB1c2goKGVbdV0/XCJcIjpcIm5vLVwiKSt1KSk7eChcIlwiKSxqPWw9bnVsbCxhLmF0dGFjaEV2ZW50JiZmdW5jdGlvbigpe3ZhciBhPWIuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmlubmVySFRNTD1cIjxlbGVtPjwvZWxlbT5cIjtyZXR1cm4gYS5jaGlsZE5vZGVzLmxlbmd0aCE9PTF9KCkmJmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gcyhhKXt2YXIgYj0tMTt3aGlsZSgrK2I8ZylhLmNyZWF0ZUVsZW1lbnQoZltiXSl9YS5pZXBwPWEuaWVwcHx8e307dmFyIGQ9YS5pZXBwLGU9ZC5odG1sNWVsZW1lbnRzfHxcImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xjYW52YXN8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW9cIixmPWUuc3BsaXQoXCJ8XCIpLGc9Zi5sZW5ndGgsaD1uZXcgUmVnRXhwKFwiKF58XFxcXHMpKFwiK2UrXCIpXCIsXCJnaVwiKSxpPW5ldyBSZWdFeHAoXCI8KC8qKShcIitlK1wiKVwiLFwiZ2lcIiksaj0vXlxccypbXFx7XFx9XVxccyokLyxrPW5ldyBSZWdFeHAoXCIoXnxbXlxcXFxuXSo/XFxcXHMpKFwiK2UrXCIpKFteXFxcXG5dKikoe1tcXFxcblxcXFx3XFxcXFddKj99KVwiLFwiZ2lcIiksbD1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtPWIuZG9jdW1lbnRFbGVtZW50LG49bS5maXJzdENoaWxkLG89Yi5jcmVhdGVFbGVtZW50KFwiYm9keVwiKSxwPWIuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLHE9L3ByaW50fGFsbC8scjtkLmdldENTUz1mdW5jdGlvbihhLGIpe2lmKGErXCJcIj09PWMpcmV0dXJuXCJcIjt2YXIgZT0tMSxmPWEubGVuZ3RoLGcsaD1bXTt3aGlsZSgrK2U8Zil7Zz1hW2VdO2lmKGcuZGlzYWJsZWQpY29udGludWU7Yj1nLm1lZGlhfHxiLHEudGVzdChiKSYmaC5wdXNoKGQuZ2V0Q1NTKGcuaW1wb3J0cyxiKSxnLmNzc1RleHQpLGI9XCJhbGxcIn1yZXR1cm4gaC5qb2luKFwiXCIpfSxkLnBhcnNlQ1NTPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM7d2hpbGUoKGM9ay5leGVjKGEpKSE9bnVsbCliLnB1c2goKChqLmV4ZWMoY1sxXSk/XCJcXG5cIjpjWzFdKStjWzJdK2NbM10pLnJlcGxhY2UoaCxcIiQxLmllcHBfJDJcIikrY1s0XSk7cmV0dXJuIGIuam9pbihcIlxcblwiKX0sZC53cml0ZUhUTUw9ZnVuY3Rpb24oKXt2YXIgYT0tMTtyPXJ8fGIuYm9keTt3aGlsZSgrK2E8Zyl7dmFyIGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShmW2FdKSxkPWMubGVuZ3RoLGU9LTE7d2hpbGUoKytlPGQpY1tlXS5jbGFzc05hbWUuaW5kZXhPZihcImllcHBfXCIpPDAmJihjW2VdLmNsYXNzTmFtZSs9XCIgaWVwcF9cIitmW2FdKX1sLmFwcGVuZENoaWxkKHIpLG0uYXBwZW5kQ2hpbGQobyksby5jbGFzc05hbWU9ci5jbGFzc05hbWUsby5pZD1yLmlkLG8uaW5uZXJIVE1MPXIuaW5uZXJIVE1MLnJlcGxhY2UoaSxcIjwkMWZvbnRcIil9LGQuX2JlZm9yZVByaW50PWZ1bmN0aW9uKCl7cC5zdHlsZVNoZWV0LmNzc1RleHQ9ZC5wYXJzZUNTUyhkLmdldENTUyhiLnN0eWxlU2hlZXRzLFwiYWxsXCIpKSxkLndyaXRlSFRNTCgpfSxkLnJlc3RvcmVIVE1MPWZ1bmN0aW9uKCl7by5pbm5lckhUTUw9XCJcIixtLnJlbW92ZUNoaWxkKG8pLG0uYXBwZW5kQ2hpbGQocil9LGQuX2FmdGVyUHJpbnQ9ZnVuY3Rpb24oKXtkLnJlc3RvcmVIVE1MKCkscC5zdHlsZVNoZWV0LmNzc1RleHQ9XCJcIn0scyhiKSxzKGwpO2QuZGlzYWJsZVBQfHwobi5pbnNlcnRCZWZvcmUocCxuLmZpcnN0Q2hpbGQpLHAubWVkaWE9XCJwcmludFwiLHAuY2xhc3NOYW1lPVwiaWVwcC1wcmludHNoaW1cIixhLmF0dGFjaEV2ZW50KFwib25iZWZvcmVwcmludFwiLGQuX2JlZm9yZVByaW50KSxhLmF0dGFjaEV2ZW50KFwib25hZnRlcnByaW50XCIsZC5fYWZ0ZXJQcmludCkpfShhLGIpLGUuX3ZlcnNpb249ZCxlLl9wcmVmaXhlcz1uLGUuX2RvbVByZWZpeGVzPW8sZS50ZXN0UHJvcD1mdW5jdGlvbihhKXtyZXR1cm4gQihbYV0pfSxlLnRlc3RBbGxQcm9wcz1DLGUudGVzdFN0eWxlcz10LGcuY2xhc3NOYW1lPWcuY2xhc3NOYW1lLnJlcGxhY2UoL1xcYm5vLWpzXFxiLyxcIlwiKSsoZj9cIiBqcyBcIitzLmpvaW4oXCIgXCIpOlwiXCIpO3JldHVybiBlfSh0aGlzLHRoaXMuZG9jdW1lbnQpLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBrKGEpe3JldHVybiFhfHxhPT1cImxvYWRlZFwifHxhPT1cImNvbXBsZXRlXCJ9ZnVuY3Rpb24gaigpe3ZhciBhPTEsYj0tMTt3aGlsZShwLmxlbmd0aC0gKytiKWlmKHBbYl0ucyYmIShhPXBbYl0ucikpYnJlYWs7YSYmZygpfWZ1bmN0aW9uIGkoYSl7dmFyIGM9Yi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLGQ7Yy5zcmM9YS5zLGMub25yZWFkeXN0YXRlY2hhbmdlPWMub25sb2FkPWZ1bmN0aW9uKCl7IWQmJmsoYy5yZWFkeVN0YXRlKSYmKGQ9MSxqKCksYy5vbmxvYWQ9Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCl9LG0oZnVuY3Rpb24oKXtkfHwoZD0xLGooKSl9LEguZXJyb3JUaW1lb3V0KSxhLmU/Yy5vbmxvYWQoKTpuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGMsbil9ZnVuY3Rpb24gaChhKXt2YXIgYz1iLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpLGQ7Yy5ocmVmPWEucyxjLnJlbD1cInN0eWxlc2hlZXRcIixjLnR5cGU9XCJ0ZXh0L2Nzc1wiO2lmKCFhLmUmJih3fHxyKSl7dmFyIGU9ZnVuY3Rpb24oYSl7bShmdW5jdGlvbigpe2lmKCFkKXRyeXthLnNoZWV0LmNzc1J1bGVzLmxlbmd0aD8oZD0xLGooKSk6ZShhKX1jYXRjaChiKXtiLmNvZGU9PTFlM3x8Yi5tZXNzYWdlPT1cInNlY3VyaXR5XCJ8fGIubWVzc2FnZT09XCJkZW5pZWRcIj8oZD0xLG0oZnVuY3Rpb24oKXtqKCl9LDApKTplKGEpfX0sMCl9O2UoYyl9ZWxzZSBjLm9ubG9hZD1mdW5jdGlvbigpe2R8fChkPTEsbShmdW5jdGlvbigpe2ooKX0sMCkpfSxhLmUmJmMub25sb2FkKCk7bShmdW5jdGlvbigpe2R8fChkPTEsaigpKX0sSC5lcnJvclRpbWVvdXQpLCFhLmUmJm4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYyxuKX1mdW5jdGlvbiBnKCl7dmFyIGE9cC5zaGlmdCgpO3E9MSxhP2EudD9tKGZ1bmN0aW9uKCl7YS50PT1cImNcIj9oKGEpOmkoYSl9LDApOihhKCksaigpKTpxPTB9ZnVuY3Rpb24gZihhLGMsZCxlLGYsaCl7ZnVuY3Rpb24gaSgpeyFvJiZrKGwucmVhZHlTdGF0ZSkmJihyLnI9bz0xLCFxJiZqKCksbC5vbmxvYWQ9bC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxtKGZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZChsKX0sMCkpfXZhciBsPWIuY3JlYXRlRWxlbWVudChhKSxvPTAscj17dDpkLHM6YyxlOmh9O2wuc3JjPWwuZGF0YT1jLCFzJiYobC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSxsLndpZHRoPWwuaGVpZ2h0PVwiMFwiLGEhPVwib2JqZWN0XCImJihsLnR5cGU9ZCksbC5vbmxvYWQ9bC5vbnJlYWR5c3RhdGVjaGFuZ2U9aSxhPT1cImltZ1wiP2wub25lcnJvcj1pOmE9PVwic2NyaXB0XCImJihsLm9uZXJyb3I9ZnVuY3Rpb24oKXtyLmU9ci5yPTEsZygpfSkscC5zcGxpY2UoZSwwLHIpLHUuaW5zZXJ0QmVmb3JlKGwscz9udWxsOm4pLG0oZnVuY3Rpb24oKXtvfHwodS5yZW1vdmVDaGlsZChsKSxyLnI9ci5lPW89MSxqKCkpfSxILmVycm9yVGltZW91dCl9ZnVuY3Rpb24gZShhLGIsYyl7dmFyIGQ9Yj09XCJjXCI/ejp5O3E9MCxiPWJ8fFwialwiLEMoYSk/ZihkLGEsYix0aGlzLmkrKyxsLGMpOihwLnNwbGljZSh0aGlzLmkrKywwLGEpLHAubGVuZ3RoPT0xJiZnKCkpO3JldHVybiB0aGlzfWZ1bmN0aW9uIGQoKXt2YXIgYT1IO2EubG9hZGVyPXtsb2FkOmUsaTowfTtyZXR1cm4gYX12YXIgbD1iLmRvY3VtZW50RWxlbWVudCxtPWEuc2V0VGltZW91dCxuPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF0sbz17fS50b1N0cmluZyxwPVtdLHE9MCxyPVwiTW96QXBwZWFyYW5jZVwiaW4gbC5zdHlsZSxzPXImJiEhYi5jcmVhdGVSYW5nZSgpLmNvbXBhcmVOb2RlLHQ9ciYmIXMsdT1zP2w6bi5wYXJlbnROb2RlLHY9YS5vcGVyYSYmby5jYWxsKGEub3BlcmEpPT1cIltvYmplY3QgT3BlcmFdXCIsdz1cIndlYmtpdEFwcGVhcmFuY2VcImluIGwuc3R5bGUseD13JiZcImFzeW5jXCJpbiBiLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikseT1yP1wib2JqZWN0XCI6dnx8eD9cImltZ1wiOlwic2NyaXB0XCIsej13P1wiaW1nXCI6eSxBPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVybiBvLmNhbGwoYSk9PVwiW29iamVjdCBBcnJheV1cIn0sQj1mdW5jdGlvbihhKXtyZXR1cm4gT2JqZWN0KGEpPT09YX0sQz1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGE9PVwic3RyaW5nXCJ9LEQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG8uY2FsbChhKT09XCJbb2JqZWN0IEZ1bmN0aW9uXVwifSxFPVtdLEY9e30sRyxIO0g9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZihhKXt2YXIgYj1hLnNwbGl0KFwiIVwiKSxjPUUubGVuZ3RoLGQ9Yi5wb3AoKSxlPWIubGVuZ3RoLGY9e3VybDpkLG9yaWdVcmw6ZCxwcmVmaXhlczpifSxnLGg7Zm9yKGg9MDtoPGU7aCsrKWc9RltiW2hdXSxnJiYoZj1nKGYpKTtmb3IoaD0wO2g8YztoKyspZj1FW2hdKGYpO3JldHVybiBmfWZ1bmN0aW9uIGUoYSxiLGUsZyxoKXt2YXIgaT1mKGEpLGo9aS5hdXRvQ2FsbGJhY2s7aWYoIWkuYnlwYXNzKXtiJiYoYj1EKGIpP2I6YlthXXx8YltnXXx8YlthLnNwbGl0KFwiL1wiKS5wb3AoKS5zcGxpdChcIj9cIilbMF1dKTtpZihpLmluc3RlYWQpcmV0dXJuIGkuaW5zdGVhZChhLGIsZSxnLGgpO2UubG9hZChpLnVybCxpLmZvcmNlQ1NTfHwhaS5mb3JjZUpTJiYvY3NzJC8udGVzdChpLnVybCk/XCJjXCI6YyxpLm5vZXhlYyksKEQoYil8fEQoaikpJiZlLmxvYWQoZnVuY3Rpb24oKXtkKCksYiYmYihpLm9yaWdVcmwsaCxnKSxqJiZqKGkub3JpZ1VybCxoLGcpfSl9fWZ1bmN0aW9uIGIoYSxiKXtmdW5jdGlvbiBjKGEpe2lmKEMoYSkpZShhLGgsYiwwLGQpO2Vsc2UgaWYoQihhKSlmb3IoaSBpbiBhKWEuaGFzT3duUHJvcGVydHkoaSkmJmUoYVtpXSxoLGIsaSxkKX12YXIgZD0hIWEudGVzdCxmPWQ/YS55ZXA6YS5ub3BlLGc9YS5sb2FkfHxhLmJvdGgsaD1hLmNhbGxiYWNrLGk7YyhmKSxjKGcpLGEuY29tcGxldGUmJmIubG9hZChhLmNvbXBsZXRlKX12YXIgZyxoLGk9dGhpcy55ZXBub3BlLmxvYWRlcjtpZihDKGEpKWUoYSwwLGksMCk7ZWxzZSBpZihBKGEpKWZvcihnPTA7ZzxhLmxlbmd0aDtnKyspaD1hW2ddLEMoaCk/ZShoLDAsaSwwKTpBKGgpP0goaCk6QihoKSYmYihoLGkpO2Vsc2UgQihhKSYmYihhLGkpfSxILmFkZFByZWZpeD1mdW5jdGlvbihhLGIpe0ZbYV09Yn0sSC5hZGRGaWx0ZXI9ZnVuY3Rpb24oYSl7RS5wdXNoKGEpfSxILmVycm9yVGltZW91dD0xZTQsYi5yZWFkeVN0YXRlPT1udWxsJiZiLmFkZEV2ZW50TGlzdGVuZXImJihiLnJlYWR5U3RhdGU9XCJsb2FkaW5nXCIsYi5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLEc9ZnVuY3Rpb24oKXtiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsRywwKSxiLnJlYWR5U3RhdGU9XCJjb21wbGV0ZVwifSwwKSksYS55ZXBub3BlPWQoKX0odGhpcyx0aGlzLmRvY3VtZW50KSxNb2Rlcm5penIubG9hZD1mdW5jdGlvbigpe3llcG5vcGUuYXBwbHkod2luZG93LFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKX07IiwiKGZ1bmN0aW9uICh3aW5kb3csIHVuZGVmaW5lZCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICAvLyB0ZXN0IGZvciBSRU0gdW5pdCBzdXBwb3J0XHJcbiAgICB2YXIgY3NzcmVtdW5pdCA9ICBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPSAnZm9udC1zaXplOiAxcmVtOyc7XHJcblxyXG4gICAgICAgIHJldHVybiAoL3JlbS8pLnRlc3QoZGl2LnN0eWxlLmZvbnRTaXplKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gZmlsdGVyIHJldHVybmVkIGxpbmtzIGZvciBzdHlsZXNoZWV0c1xyXG4gICAgaXNTdHlsZVNoZWV0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzdHlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZExpbmtzID0gW107XHJcblxyXG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoIHN0eWxlc1tpXS5yZWwudG9Mb3dlckNhc2UoKSA9PT0gJ3N0eWxlc2hlZXQnICYmIHN0eWxlc1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbm9yZW0nKSA9PT0gbnVsbCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZExpbmtzLnB1c2goIHN0eWxlc1tpXS5ocmVmICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZExpbmtzO1xyXG4gICAgfSxcclxuXHJcbiAgIHByb2Nlc3NMaW5rcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL3ByZXBhcmUgdG8gbWF0Y2ggZWFjaCBsaW5rXHJcbiAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKyApe1xyXG4gICAgICAgICAgICB4aHIoIGxpbmtzW2ldLCBzdG9yZUNTUyApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc3RvcmVDU1MgPSBmdW5jdGlvbiAoIHJlc3BvbnNlLCBsaW5rICkge1xyXG5cclxuICAgICAgICBwcmVDU1MucHVzaChyZXNwb25zZS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgIENTU0xpbmtzLnB1c2gobGluayk7XHJcblxyXG4gICAgICAgIGlmKCBDU1NMaW5rcy5sZW5ndGggPT09IGxpbmtzLmxlbmd0aCApe1xyXG4gICAgICAgICAgICBmb3IoIHZhciBqID0gMDsgaiA8ICBDU1NMaW5rcy5sZW5ndGg7IGorKyApe1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hDU1MoIHByZUNTU1tqXSwgQ1NTTGlua3Nbal0gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoICggbGlua3MgPSBpbXBvcnRMaW5rcy5zbGljZSgwKSApLmxlbmd0aCA+IDAgKXsgLy9hZnRlciBmaW5pc2hpbmcgYWxsIGN1cnJlbnQgbGlua3MsIHNldCBsaW5rcyBlcXVhbCB0byB0aGUgbmV3IGltcG9ydHMgZm91bmRcclxuICAgICAgICAgICAgICAgIENTU0xpbmtzID0gW107XHJcbiAgICAgICAgICAgICAgICBwcmVDU1MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGltcG9ydExpbmtzID0gW107XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzTGlua3MoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1aWxkQ1NTKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG1hdGNoQ1NTID0gZnVuY3Rpb24gKCBzaGVldENTUywgbGluayApIHsgLy8gY29sbGVjdCBhbGwgb2YgdGhlIHJ1bGVzIGZyb20gdGhlIHhociByZXNwb25zZSB0ZXh0cyBhbmQgbWF0Y2ggdGhlbSB0byBhIHBhdHRlcm5cclxuICAgICAgICB2YXIgY2xlYW4gPSByZW1vdmVNZWRpYVF1ZXJpZXMoIHNoZWV0Q1NTICkucmVwbGFjZSgvXFwvXFwqW1xcc1xcU10qP1xcKlxcLy9nLCAnJyksIC8vIHJlbW92ZSBNZWRpYVF1ZXJpZXMgYW5kIGNvbW1lbnRzXHJcbiAgICAgICAgICAgIHBhdHRlcm4gPSAvW1xcd1xcZFxcc1xcLVxcL1xcXFxcXFtcXF06LC4nXCIqKCk8Pit+JSNeJF89fEBdK1xce1tcXHdcXGRcXHNcXC1cXC9cXFxcJSM6ITssLidcIiooKV0rXFxkKlxcLj9cXGQrcmVtW1xcd1xcZFxcc1xcLVxcL1xcXFwlIzohOywuJ1wiKigpXSpcXH0vZywgLy9maW5kIHNlbGVjdG9ycyB0aGF0IHVzZSByZW0gaW4gb25lIG9yIG1vcmUgb2YgdGhlaXIgcnVsZXNcclxuICAgICAgICAgICAgY3VycmVudCA9IGNsZWFuLm1hdGNoKHBhdHRlcm4pLFxyXG4gICAgICAgICAgICByZW1QYXR0ZXJuID0vXFxkKlxcLj9cXGQrcmVtL2csXHJcbiAgICAgICAgICAgIHJlbUN1cnJlbnQgPSBjbGVhbi5tYXRjaChyZW1QYXR0ZXJuKSxcclxuICAgICAgICAgICAgc2hlZXRQYXRoUGF0dGVybiA9IC8oLipcXC8pLyxcclxuICAgICAgICAgICAgc2hlZXRQYXRoID0gc2hlZXRQYXRoUGF0dGVybi5leGVjKGxpbmspWzBdLCAvL3JlbGF0aXZlIHBhdGggdG8gY3NzIGZpbGUgc3BlY2lmaWVkIGluIEBpbXBvcnRcclxuICAgICAgICAgICAgaW1wb3J0UGF0dGVybiA9IC9AaW1wb3J0ICg/OnVybFxcKCk/WydcIl0/KFteJ1xcKVwiXSopWydcIl0/XFwpP1teO10qL2dtLCAvL21hdGNoZXMgYWxsIEBpbXBvcnQgdmFyaWF0aW9ucyBvdXRsaW5lZCBhdDogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0BpbXBvcnRcclxuICAgICAgICAgICAgaW1wb3J0U3RhdGVtZW50O1xyXG5cclxuICAgICAgICB3aGlsZSggKGltcG9ydFN0YXRlbWVudCA9IGltcG9ydFBhdHRlcm4uZXhlYyhzaGVldENTUykpICE9PSBudWxsICl7XHJcbiAgICAgICAgICAgIGlmKCBpbXBvcnRTdGF0ZW1lbnRbMV0uaW5kZXhPZihcIi9cIikgPT09IDAgKSB7IC8vIGNoZWNrIGlmIHRoZSB2YWx1ZSBvZiBpbXBvcnRTdGF0ZW1lbnRbMV0gaXMgYSByb290IHJlbGF0aXZlIHBhdGgsIGluIHdoaWNoIGNhc2UgaXQgc2hvdWxkbid0IGJlIGNvbmNhdGVuYXRlZCB3aXRoIHNoZWV0UGF0aFxyXG4gICAgICAgICAgICAgICAgaW1wb3J0TGlua3MucHVzaCggaW1wb3J0U3RhdGVtZW50WzFdICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbXBvcnRMaW5rcy5wdXNoKCBzaGVldFBhdGggKyBpbXBvcnRTdGF0ZW1lbnRbMV0gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIGN1cnJlbnQgIT09IG51bGwgJiYgY3VycmVudC5sZW5ndGggIT09IDAgKXtcclxuICAgICAgICAgICAgZm91bmQgPSBmb3VuZC5jb25jYXQoIGN1cnJlbnQgKTsgLy8gc2F2ZSBhbGwgb2YgdGhlIGJsb2NrcyBvZiBydWxlcyB3aXRoIHJlbSBpbiBhIHByb3BlcnR5XHJcbiAgICAgICAgICAgIGZvdW5kUHJvcHMgPSBmb3VuZFByb3BzLmNvbmNhdCggcmVtQ3VycmVudCApOyAvLyBzYXZlIGFsbCBvZiB0aGUgcHJvcGVydGllcyB3aXRoIHJlbVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgYnVpbGRDU1MgPSBmdW5jdGlvbiAoKSB7IC8vIGZpcnN0IGJ1aWxkIGVhY2ggaW5kaXZpZHVhbCBydWxlIGZyb20gZWxlbWVudHMgaW4gdGhlIGZvdW5kIGFycmF5IGFuZCB0aGVuIGFkZCBpdCB0byB0aGUgc3RyaW5nIG9mIHJ1bGVzLlxyXG4gICAgICAgIHZhciBwYXR0ZXJuID0gL1tcXHdcXGRcXHNcXC1cXC9cXFxcJSM6LC4nXCIqKCldK1xcZCpcXC4/XFxkK3JlbVtcXHdcXGRcXHNcXC1cXC9cXFxcJSM6ISwuJ1wiKigpXSpbO31dL2c7IC8vIGZpbmQgcHJvcGVydGllcyB3aXRoIHJlbSB2YWx1ZXMgaW4gdGhlbVxyXG4gICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDwgZm91bmQubGVuZ3RoOyBpKysgKXtcclxuICAgICAgICAgICAgcnVsZXMgPSBydWxlcyArIGZvdW5kW2ldLnN1YnN0cigwLGZvdW5kW2ldLmluZGV4T2YoXCJ7XCIpKzEpOyAvLyBzYXZlIHRoZSBzZWxlY3RvciBwb3J0aW9uIG9mIGVhY2ggcnVsZSB3aXRoIGEgcmVtIHZhbHVlXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gZm91bmRbaV0ubWF0Y2goIHBhdHRlcm4gKTtcclxuICAgICAgICAgICAgZm9yKCB2YXIgaiA9IDA7IGo8Y3VycmVudC5sZW5ndGg7IGorKyApeyAvLyBidWlsZCBhIG5ldyBzZXQgb2Ygd2l0aCBvbmx5IHRoZSBzZWxlY3RvciBhbmQgcHJvcGVydGllcyB0aGF0IGhhdmUgcmVtIGluIHRoZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgcnVsZXMgPSBydWxlcyArIGN1cnJlbnRbal07XHJcbiAgICAgICAgICAgICAgICBpZiggaiA9PT0gY3VycmVudC5sZW5ndGgtMSAmJiBydWxlc1tydWxlcy5sZW5ndGgtMV0gIT09IFwifVwiICl7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVsZXMgPSBydWxlcyArIFwiXFxufVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwYXJzZUNTUygpO1xyXG4gICAgfSxcclxuXHJcbiAgICBwYXJzZUNTUyA9IGZ1bmN0aW9uICgpIHsgLy8gcmVwbGFjZSBlYWNoIHNldCBvZiBwYXJlbnRoZXNlcyB3aXRoIGV2YWx1YXRlZCBjb250ZW50XHJcbiAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPCBmb3VuZFByb3BzLmxlbmd0aDsgaSsrICl7XHJcbiAgICAgICAgICAgIGNzc1tpXSA9IE1hdGgucm91bmQoIHBhcnNlRmxvYXQoZm91bmRQcm9wc1tpXS5zdWJzdHIoMCxmb3VuZFByb3BzW2ldLmxlbmd0aC0zKSpmb250U2l6ZSkgKSArICdweCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2FkQ1NTKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGxvYWRDU1MgPSBmdW5jdGlvbiAoKSB7IC8vIHJlcGxhY2UgYW5kIGxvYWQgdGhlIG5ldyBydWxlc1xyXG4gICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDwgY3NzLmxlbmd0aDsgaSsrICl7IC8vIG9ubHkgcnVuIHRoaXMgbG9vcCBhcyBtYW55IHRpbWVzIGFzIGNzcyBoYXMgZW50cmllc1xyXG4gICAgICAgICAgICBpZiggY3NzW2ldICl7XHJcbiAgICAgICAgICAgICAgICBydWxlcyA9IHJ1bGVzLnJlcGxhY2UoIGZvdW5kUHJvcHNbaV0sY3NzW2ldICk7IC8vIHJlcGxhY2Ugb2xkIHJ1bGVzIHdpdGggb3VyIHByb2Nlc3NlZCBydWxlc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZW1jc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnc3R5bGUnICk7XHJcbiAgICAgICAgcmVtY3NzLnNldEF0dHJpYnV0ZSggJ3R5cGUnLCAndGV4dC9jc3MnICk7XHJcbiAgICAgICAgcmVtY3NzLmlkID0gJ3JlbVJlcGxhY2UnO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAnaGVhZCcgKVswXS5hcHBlbmRDaGlsZCggcmVtY3NzICk7ICAgLy8gY3JlYXRlIHRoZSBuZXcgZWxlbWVudFxyXG4gICAgICAgIGlmKCByZW1jc3Muc3R5bGVTaGVldCApIHtcclxuICAgICAgICAgICAgcmVtY3NzLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJ1bGVzOyAvLyBJRTggd2lsbCBub3Qgc3VwcG9ydCBpbm5lckhUTUwgb24gcmVhZC1vbmx5IGVsZW1lbnRzLCBzdWNoIGFzIFNUWUxFXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVtY3NzLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSggcnVsZXMgKSApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgeGhyID0gZnVuY3Rpb24gKCB1cmwsIGNhbGxiYWNrICkgeyAvLyBjcmVhdGUgbmV3IFhNTEh0dHBSZXF1ZXN0IG9iamVjdCBhbmQgcnVuIGl0XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy90cnkgdG8gY3JlYXRlIGEgcmVxdWVzdCBvYmplY3RcclxuICAgICAgICAgICAgLy9hcnJhbmdpbmcgdGhlIHR3byBjb25kaXRpb25zIHRoaXMgd2F5IGlzIGZvciBJRTcvOCdzIGJlbmVmaXRcclxuICAgICAgICAgICAgLy9zbyB0aGF0IGl0IHdvcmtzIHdpdGggYW55IGNvbWJpbmF0aW9uIG9mIEFjdGl2ZVggb3IgTmF0aXZlIFhIUiBzZXR0aW5ncywgXHJcbiAgICAgICAgICAgIC8vYXMgbG9uZyBhcyBvbmUgb3IgdGhlIG90aGVyIGlzIGVuYWJsZWQ7IGJ1dCBpZiBib3RoIGFyZSBlbmFibGVkXHJcbiAgICAgICAgICAgIC8vaXQgcHJlZmVycyBBY3RpdmVYLCB3aGljaCBtZWFucyBpdCBzdGlsbCB3b3JrcyB3aXRoIGxvY2FsIGZpbGVzXHJcbiAgICAgICAgICAgIC8vKE5hdGl2ZSBYSFIgaW4gSUU3LzggaXMgYmxvY2tlZCBhbmQgdGhyb3dzIFwiYWNjZXNzIGlzIGRlbmllZFwiLFxyXG4gICAgICAgICAgICAvLyBidXQgQWN0aXZlWCBpcyBwZXJtaXR0ZWQgaWYgdGhlIHVzZXIgYWxsb3dzIGl0IFtkZWZhdWx0IGlzIHRvIHByb21wdF0pXHJcbiAgICAgICAgICAgIHZhciB4aHIgPSB3aW5kb3cuQWN0aXZlWE9iamVjdCA/ICggbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJykgfHwgbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJykgKSA6IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgICAgICAgeGhyLm9wZW4oICdHRVQnLCB1cmwsIHRydWUgKTtcclxuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHhociwgdXJsKTtcclxuICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7IGNhbGxiYWNrIGZ1bmN0aW9uIG9uIEFKQVggZXJyb3IgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgeGhyLnNlbmQoIG51bGwgKTtcclxuICAgICAgICB9IGNhdGNoIChlKXtcclxuICAgICAgICAgICAgaWYgKCB3aW5kb3cuWERvbWFpblJlcXVlc3QgKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeGRyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB4ZHIub3BlbignZ2V0JywgdXJsKTtcclxuICAgICAgICAgICAgICAgIHhkci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh4ZHIsIHVybCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGRyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHhkciBsb2FkIGZhaWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB4ZHIuc2VuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBSZW1vdmUgcXVlcmllcy5cclxuICAgIHJlbW92ZU1lZGlhUXVlcmllcyA9IGZ1bmN0aW9uKGNzcykge1xyXG4gICAgICAgIC8vIFRlc3QgZm9yIE1lZGlhIFF1ZXJ5IHN1cHBvcnRcclxuICAgICAgICBpZiAoICF3aW5kb3cubWF0Y2hNZWRpYSAmJiAhd2luZG93Lm1zTWF0Y2hNZWRpYSApIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IG1lZGlhIHF1ZXJpZXMsIHdlIGZpbmQgYWxsIEBtZWRpYSBkZWNsYXJhdGlvbnMgaW4gdGhlIENTUyBhbmQgcmVtb3ZlIHRoZW0uXHJcbiAgICAgICAgICAgIC8vIE5vdGU6IFNpbmNlIEBydWxlcyBjYW4ndCBiZSBuZXN0ZWQgaW4gdGhlIENTUyBzcGVjLCB3ZSdyZSBzYWZlIHRvIGp1c3QgY2hlY2sgZm9yIHRoZSBjbG9zZXN0IGZvbGxvd2luZyBcIn19XCIgdG8gdGhlIFwiQG1lZGlhXCIuXHJcbiAgICAgICAgICAgIGNzcyA9IGNzcy5yZXBsYWNlKC9AbWVkaWFbXFxzXFxTXSo/XFx9XFxzKlxcfS9nLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjc3M7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmKCAhY3NzcmVtdW5pdCgpICl7IC8vIHRoaXMgY2hlY2tzIGlmIHRoZSByZW0gdmFsdWUgaXMgc3VwcG9ydGVkXHJcbiAgICAgICAgdmFyIHJ1bGVzID0gJycsIC8vIGluaXRpYWxpemUgdGhlIHJ1bGVzIHZhcmlhYmxlIGluIHRoaXMgc2NvcGUgc28gaXQgY2FuIGJlIHVzZWQgbGF0ZXJcclxuICAgICAgICAgICAgbGlua3MgPSBpc1N0eWxlU2hlZXQoKSwgLy8gaW5pdGlhbGl6ZSB0aGUgYXJyYXkgaG9sZGluZyB0aGUgc2hlZXRzIHVybHMgZm9yIHVzZSBsYXRlclxyXG4gICAgICAgICAgICBpbXBvcnRMaW5rcyA9IFtdLCAvL2luaXRpYWxpemUgdGhlIGFycmF5IGhvbGRpbmcgdGhlIGltcG9ydCBzaGVldCB1cmxzIGZvciB1c2UgbGF0ZXJcclxuICAgICAgICAgICAgZm91bmQgPSBbXSwgLy8gaW5pdGlhbGl6ZSB0aGUgYXJyYXkgaG9sZGluZyB0aGUgZm91bmQgcnVsZXMgZm9yIHVzZSBsYXRlclxyXG4gICAgICAgICAgICBmb3VuZFByb3BzID0gW10sIC8vIGluaXRpYWxpemUgdGhlIGFycmF5IGhvbGRpbmcgdGhlIGZvdW5kIHByb3BlcnRpZXMgZm9yIHVzZSBsYXRlclxyXG4gICAgICAgICAgICBwcmVDU1MgPSBbXSwgLy8gaW5pdGlhbGl6ZSBhcnJheSB0aGF0IGhvbGRzIGNzcyBiZWZvcmUgYmVpbmcgcGFyc2VkXHJcbiAgICAgICAgICAgIENTU0xpbmtzID0gW10sIC8vaW5pdGlhbGl6ZSBhcnJheSBob2xkaW5nIGNzcyBsaW5rcyByZXR1cm5lZCBmcm9tIHhoclxyXG4gICAgICAgICAgICBjc3MgPSBbXSwgLy8gaW5pdGlhbGl6ZSB0aGUgYXJyYXkgaG9sZGluZyB0aGUgcGFyc2VkIHJ1bGVzIGZvciB1c2UgbGF0ZXJcclxuICAgICAgICAgICAgZm9udFNpemUgPSAnJztcclxuXHJcbiAgICAgICAgLy8gTm90aWNlOiByZW0gaXMgYSBcInJvb3QgZW1cIiB0aGF0IG1lYW5zIHRoYXQgaW4gY2FzZSB3aGVuIGh0bWwgZWxlbWVudCBzaXplIHdhcyBjaGFuZ2VkIGJ5IGNzc1xyXG4gICAgICAgIC8vIG9yIHN0eWxlIHdlIHNob3VsZCBub3QgY2hhbmdlIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5mb250U2l6ZSB0byAxZW0gLSBvbmx5IGJvZHkgc2l6ZSBzaG91bGQgYmUgY2hhbmdlZFxyXG4gICAgICAgIC8vIHRvIDFlbSBmb3IgY2FsY3VsYXRpb25cclxuXHJcbiAgICAgICAgZm9udFNpemUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQsXHJcbiAgICAgICAgICAgICAgICBkb2NFbGVtZW50ID0gZG9jLmRvY3VtZW50RWxlbWVudCxcclxuICAgICAgICAgICAgICAgIGJvZHkgPSBkb2MuYm9keSB8fCBkb2MuY3JlYXRlRWxlbWVudCgnYm9keScpLFxyXG4gICAgICAgICAgICAgICAgaXNGYWtlQm9keSA9ICFkb2MuYm9keSxcclxuICAgICAgICAgICAgICAgIGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTaXplID0gYm9keS5zdHlsZS5mb250U2l6ZSxcclxuICAgICAgICAgICAgICAgIHNpemU7XHJcblxyXG4gICAgICAgICAgICBpZiAoIGlzRmFrZUJvZHkgKSB7XHJcbiAgICAgICAgICAgICAgICBkb2NFbGVtZW50LmFwcGVuZENoaWxkKCBib2R5ICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOjFlbTsgcG9zaXRpb246YWJzb2x1dGU7IHZpc2liaWxpdHk6aGlkZGVuOyBwYWRkaW5nOiAwOyc7XHJcblxyXG4gICAgICAgICAgICBib2R5LnN0eWxlLmZvbnRTaXplID0gJzFlbSc7XHJcblxyXG4gICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKCBkaXYgKTtcclxuICAgICAgICAgICAgc2l6ZSA9IGRpdi5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAgICAgICAgIGlmICggaXNGYWtlQm9keSApIHtcclxuICAgICAgICAgICAgICAgIGRvY0VsZW1lbnQucmVtb3ZlQ2hpbGQoIGJvZHkgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoIGRpdiApO1xyXG4gICAgICAgICAgICAgICAgYm9keS5zdHlsZS5mb250U2l6ZSA9IGN1cnJlbnRTaXplO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgICAgICB9KCkpO1xyXG5cclxuICAgICAgICBwcm9jZXNzTGlua3MoKTtcclxuICAgIH0gLy8gZWxzZSB7IGRvIG5vdGhpbmcsIHlvdSBhcmUgYXdlc29tZSBhbmQgaGF2ZSBSRU0gc3VwcG9ydCB9XHJcblxyXG59KSh3aW5kb3cpO1xyXG4iLCIvKiEgUmVzcG9uZC5qcyB2MS40LjI6IG1pbi9tYXgtd2lkdGggbWVkaWEgcXVlcnkgcG9seWZpbGxcclxuICogQ29weXJpZ2h0IDIwMTQgU2NvdHQgSmVobFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVRcclxuICogaHR0cDovL2oubXAvcmVzcG9uZGpzICovXHJcblxyXG4vKiEgbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLiBBdXRob3JzICYgY29weXJpZ2h0IChjKSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcy4gRHVhbCBNSVQvQlNEIGxpY2Vuc2UgKi9cclxuLyohIE5PVEU6IElmIHlvdSdyZSBhbHJlYWR5IGluY2x1ZGluZyBhIHdpbmRvdy5tYXRjaE1lZGlhIHBvbHlmaWxsIHZpYSBNb2Rlcm5penIgb3Igb3RoZXJ3aXNlLCB5b3UgZG9uJ3QgbmVlZCB0aGlzIHBhcnQgKi9cclxuKGZ1bmN0aW9uKHcpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuICB3Lm1hdGNoTWVkaWEgPSB3Lm1hdGNoTWVkaWEgfHwgZnVuY3Rpb24oZG9jLCB1bmRlZmluZWQpIHtcclxuICAgIHZhciBib29sLCBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudCwgcmVmTm9kZSA9IGRvY0VsZW0uZmlyc3RFbGVtZW50Q2hpbGQgfHwgZG9jRWxlbS5maXJzdENoaWxkLCBmYWtlQm9keSA9IGRvYy5jcmVhdGVFbGVtZW50KFwiYm9keVwiKSwgZGl2ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBkaXYuaWQgPSBcIm1xLXRlc3QtMVwiO1xyXG4gICAgZGl2LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW1cIjtcclxuICAgIGZha2VCb2R5LnN0eWxlLmJhY2tncm91bmQgPSBcIm5vbmVcIjtcclxuICAgIGZha2VCb2R5LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24ocSkge1xyXG4gICAgICBkaXYuaW5uZXJIVE1MID0gJyZzaHk7PHN0eWxlIG1lZGlhPVwiJyArIHEgKyAnXCI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JztcclxuICAgICAgZG9jRWxlbS5pbnNlcnRCZWZvcmUoZmFrZUJvZHksIHJlZk5vZGUpO1xyXG4gICAgICBib29sID0gZGl2Lm9mZnNldFdpZHRoID09PSA0MjtcclxuICAgICAgZG9jRWxlbS5yZW1vdmVDaGlsZChmYWtlQm9keSk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbWF0Y2hlczogYm9vbCxcclxuICAgICAgICBtZWRpYTogcVxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9KHcuZG9jdW1lbnQpO1xyXG59KSh0aGlzKTtcclxuXHJcbihmdW5jdGlvbih3KSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgdmFyIHJlc3BvbmQgPSB7fTtcclxuICB3LnJlc3BvbmQgPSByZXNwb25kO1xyXG4gIHJlc3BvbmQudXBkYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuICB2YXIgcmVxdWVzdFF1ZXVlID0gW10sIHhtbEh0dHAgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB4bWxodHRwbWV0aG9kID0gZmFsc2U7XHJcbiAgICB0cnkge1xyXG4gICAgICB4bWxodHRwbWV0aG9kID0gbmV3IHcuWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgeG1saHR0cG1ldGhvZCA9IG5ldyB3LkFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHhtbGh0dHBtZXRob2Q7XHJcbiAgICB9O1xyXG4gIH0oKSwgYWpheCA9IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2spIHtcclxuICAgIHZhciByZXEgPSB4bWxIdHRwKCk7XHJcbiAgICBpZiAoIXJlcSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByZXEub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xyXG4gICAgcmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAocmVxLnJlYWR5U3RhdGUgIT09IDQgfHwgcmVxLnN0YXR1cyAhPT0gMjAwICYmIHJlcS5zdGF0dXMgIT09IDMwNCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjYWxsYmFjayhyZXEucmVzcG9uc2VUZXh0KTtcclxuICAgIH07XHJcbiAgICBpZiAocmVxLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVxLnNlbmQobnVsbCk7XHJcbiAgfSwgaXNVbnN1cHBvcnRlZE1lZGlhUXVlcnkgPSBmdW5jdGlvbihxdWVyeSkge1xyXG4gICAgcmV0dXJuIHF1ZXJ5LnJlcGxhY2UocmVzcG9uZC5yZWdleC5taW5tYXh3aCwgXCJcIikubWF0Y2gocmVzcG9uZC5yZWdleC5vdGhlcik7XHJcbiAgfTtcclxuICByZXNwb25kLmFqYXggPSBhamF4O1xyXG4gIHJlc3BvbmQucXVldWUgPSByZXF1ZXN0UXVldWU7XHJcbiAgcmVzcG9uZC51bnN1cHBvcnRlZG1xID0gaXNVbnN1cHBvcnRlZE1lZGlhUXVlcnk7XHJcbiAgcmVzcG9uZC5yZWdleCA9IHtcclxuICAgIG1lZGlhOiAvQG1lZGlhW15cXHtdK1xceyhbXlxce1xcfV0qXFx7W15cXH1cXHtdKlxcfSkrL2dpLFxyXG4gICAga2V5ZnJhbWVzOiAvQCg/OlxcLSg/Om98bW96fHdlYmtpdClcXC0pP2tleWZyYW1lc1teXFx7XStcXHsoPzpbXlxce1xcfV0qXFx7W15cXH1cXHtdKlxcfSkrW15cXH1dKlxcfS9naSxcclxuICAgIGNvbW1lbnRzOiAvXFwvXFwqW14qXSpcXCorKFteL11bXipdKlxcKispKlxcLy9naSxcclxuICAgIHVybHM6IC8odXJsXFwoKVsnXCJdPyhbXlxcL1xcKSdcIl1bXjpcXCknXCJdKylbJ1wiXT8oXFwpKS9nLFxyXG4gICAgZmluZFN0eWxlczogL0BtZWRpYSAqKFteXFx7XSspXFx7KFtcXFNcXHNdKz8pJC8sXHJcbiAgICBvbmx5OiAvKG9ubHlcXHMrKT8oW2EtekEtWl0rKVxccz8vLFxyXG4gICAgbWludzogL1xcKFxccyptaW5cXC13aWR0aFxccyo6XFxzKihcXHMqWzAtOVxcLl0rKShweHxlbSlcXHMqXFwpLyxcclxuICAgIG1heHc6IC9cXChcXHMqbWF4XFwtd2lkdGhcXHMqOlxccyooXFxzKlswLTlcXC5dKykocHh8ZW0pXFxzKlxcKS8sXHJcbiAgICBtaW5tYXh3aDogL1xcKFxccyptKGlufGF4KVxcLShoZWlnaHR8d2lkdGgpXFxzKjpcXHMqKFxccypbMC05XFwuXSspKHB4fGVtKVxccypcXCkvZ2ksXHJcbiAgICBvdGhlcjogL1xcKFteXFwpXSpcXCkvZ1xyXG4gIH07XHJcbiAgcmVzcG9uZC5tZWRpYVF1ZXJpZXNTdXBwb3J0ZWQgPSB3Lm1hdGNoTWVkaWEgJiYgdy5tYXRjaE1lZGlhKFwib25seSBhbGxcIikgIT09IG51bGwgJiYgdy5tYXRjaE1lZGlhKFwib25seSBhbGxcIikubWF0Y2hlcztcclxuICBpZiAocmVzcG9uZC5tZWRpYVF1ZXJpZXNTdXBwb3J0ZWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdmFyIGRvYyA9IHcuZG9jdW1lbnQsIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50LCBtZWRpYXN0eWxlcyA9IFtdLCBydWxlcyA9IFtdLCBhcHBlbmRlZEVscyA9IFtdLCBwYXJzZWRTaGVldHMgPSB7fSwgcmVzaXplVGhyb3R0bGUgPSAzMCwgaGVhZCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0gfHwgZG9jRWxlbSwgYmFzZSA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJhc2VcIilbMF0sIGxpbmtzID0gaGVhZC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpbmtcIiksIGxhc3RDYWxsLCByZXNpemVEZWZlciwgZW1pbnB4LCBnZXRFbVZhbHVlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcmV0LCBkaXYgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgYm9keSA9IGRvYy5ib2R5LCBvcmlnaW5hbEhUTUxGb250U2l6ZSA9IGRvY0VsZW0uc3R5bGUuZm9udFNpemUsIG9yaWdpbmFsQm9keUZvbnRTaXplID0gYm9keSAmJiBib2R5LnN0eWxlLmZvbnRTaXplLCBmYWtlVXNlZCA9IGZhbHNlO1xyXG4gICAgZGl2LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2ZvbnQtc2l6ZToxZW07d2lkdGg6MWVtXCI7XHJcbiAgICBpZiAoIWJvZHkpIHtcclxuICAgICAgYm9keSA9IGZha2VVc2VkID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO1xyXG4gICAgICBib2R5LnN0eWxlLmJhY2tncm91bmQgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICAgIGRvY0VsZW0uc3R5bGUuZm9udFNpemUgPSBcIjEwMCVcIjtcclxuICAgIGJvZHkuc3R5bGUuZm9udFNpemUgPSBcIjEwMCVcIjtcclxuICAgIGJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgIGlmIChmYWtlVXNlZCkge1xyXG4gICAgICBkb2NFbGVtLmluc2VydEJlZm9yZShib2R5LCBkb2NFbGVtLmZpcnN0Q2hpbGQpO1xyXG4gICAgfVxyXG4gICAgcmV0ID0gZGl2Lm9mZnNldFdpZHRoO1xyXG4gICAgaWYgKGZha2VVc2VkKSB7XHJcbiAgICAgIGRvY0VsZW0ucmVtb3ZlQ2hpbGQoYm9keSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBib2R5LnJlbW92ZUNoaWxkKGRpdik7XHJcbiAgICB9XHJcbiAgICBkb2NFbGVtLnN0eWxlLmZvbnRTaXplID0gb3JpZ2luYWxIVE1MRm9udFNpemU7XHJcbiAgICBpZiAob3JpZ2luYWxCb2R5Rm9udFNpemUpIHtcclxuICAgICAgYm9keS5zdHlsZS5mb250U2l6ZSA9IG9yaWdpbmFsQm9keUZvbnRTaXplO1xyXG4gICAgfVxyXG4gICAgcmV0ID0gZW1pbnB4ID0gcGFyc2VGbG9hdChyZXQpO1xyXG4gICAgcmV0dXJuIHJldDtcclxuICB9LCBhcHBseU1lZGlhID0gZnVuY3Rpb24oZnJvbVJlc2l6ZSkge1xyXG4gICAgdmFyIG5hbWUgPSBcImNsaWVudFdpZHRoXCIsIGRvY0VsZW1Qcm9wID0gZG9jRWxlbVtuYW1lXSwgY3VycldpZHRoID0gZG9jLmNvbXBhdE1vZGUgPT09IFwiQ1NTMUNvbXBhdFwiICYmIGRvY0VsZW1Qcm9wIHx8IGRvYy5ib2R5W25hbWVdIHx8IGRvY0VsZW1Qcm9wLCBzdHlsZUJsb2NrcyA9IHt9LCBsYXN0TGluayA9IGxpbmtzW2xpbmtzLmxlbmd0aCAtIDFdLCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIGlmIChmcm9tUmVzaXplICYmIGxhc3RDYWxsICYmIG5vdyAtIGxhc3RDYWxsIDwgcmVzaXplVGhyb3R0bGUpIHtcclxuICAgICAgdy5jbGVhclRpbWVvdXQocmVzaXplRGVmZXIpO1xyXG4gICAgICByZXNpemVEZWZlciA9IHcuc2V0VGltZW91dChhcHBseU1lZGlhLCByZXNpemVUaHJvdHRsZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxhc3RDYWxsID0gbm93O1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaSBpbiBtZWRpYXN0eWxlcykge1xyXG4gICAgICBpZiAobWVkaWFzdHlsZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICB2YXIgdGhpc3N0eWxlID0gbWVkaWFzdHlsZXNbaV0sIG1pbiA9IHRoaXNzdHlsZS5taW53LCBtYXggPSB0aGlzc3R5bGUubWF4dywgbWlubnVsbCA9IG1pbiA9PT0gbnVsbCwgbWF4bnVsbCA9IG1heCA9PT0gbnVsbCwgZW0gPSBcImVtXCI7XHJcbiAgICAgICAgaWYgKCEhbWluKSB7XHJcbiAgICAgICAgICBtaW4gPSBwYXJzZUZsb2F0KG1pbikgKiAobWluLmluZGV4T2YoZW0pID4gLTEgPyBlbWlucHggfHwgZ2V0RW1WYWx1ZSgpIDogMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghIW1heCkge1xyXG4gICAgICAgICAgbWF4ID0gcGFyc2VGbG9hdChtYXgpICogKG1heC5pbmRleE9mKGVtKSA+IC0xID8gZW1pbnB4IHx8IGdldEVtVmFsdWUoKSA6IDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXNzdHlsZS5oYXNxdWVyeSB8fCAoIW1pbm51bGwgfHwgIW1heG51bGwpICYmIChtaW5udWxsIHx8IGN1cnJXaWR0aCA+PSBtaW4pICYmIChtYXhudWxsIHx8IGN1cnJXaWR0aCA8PSBtYXgpKSB7XHJcbiAgICAgICAgICBpZiAoIXN0eWxlQmxvY2tzW3RoaXNzdHlsZS5tZWRpYV0pIHtcclxuICAgICAgICAgICAgc3R5bGVCbG9ja3NbdGhpc3N0eWxlLm1lZGlhXSA9IFtdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc3R5bGVCbG9ja3NbdGhpc3N0eWxlLm1lZGlhXS5wdXNoKHJ1bGVzW3RoaXNzdHlsZS5ydWxlc10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaiBpbiBhcHBlbmRlZEVscykge1xyXG4gICAgICBpZiAoYXBwZW5kZWRFbHMuaGFzT3duUHJvcGVydHkoaikpIHtcclxuICAgICAgICBpZiAoYXBwZW5kZWRFbHNbal0gJiYgYXBwZW5kZWRFbHNbal0ucGFyZW50Tm9kZSA9PT0gaGVhZCkge1xyXG4gICAgICAgICAgaGVhZC5yZW1vdmVDaGlsZChhcHBlbmRlZEVsc1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBhcHBlbmRlZEVscy5sZW5ndGggPSAwO1xyXG4gICAgZm9yICh2YXIgayBpbiBzdHlsZUJsb2Nrcykge1xyXG4gICAgICBpZiAoc3R5bGVCbG9ja3MuaGFzT3duUHJvcGVydHkoaykpIHtcclxuICAgICAgICB2YXIgc3MgPSBkb2MuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLCBjc3MgPSBzdHlsZUJsb2Nrc1trXS5qb2luKFwiXFxuXCIpO1xyXG4gICAgICAgIHNzLnR5cGUgPSBcInRleHQvY3NzXCI7XHJcbiAgICAgICAgc3MubWVkaWEgPSBrO1xyXG4gICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHNzLCBsYXN0TGluay5uZXh0U2libGluZyk7XHJcbiAgICAgICAgaWYgKHNzLnN0eWxlU2hlZXQpIHtcclxuICAgICAgICAgIHNzLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3MuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcHBlbmRlZEVscy5wdXNoKHNzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHRyYW5zbGF0ZSA9IGZ1bmN0aW9uKHN0eWxlcywgaHJlZiwgbWVkaWEpIHtcclxuICAgIHZhciBxcyA9IHN0eWxlcy5yZXBsYWNlKHJlc3BvbmQucmVnZXguY29tbWVudHMsIFwiXCIpLnJlcGxhY2UocmVzcG9uZC5yZWdleC5rZXlmcmFtZXMsIFwiXCIpLm1hdGNoKHJlc3BvbmQucmVnZXgubWVkaWEpLCBxbCA9IHFzICYmIHFzLmxlbmd0aCB8fCAwO1xyXG4gICAgaHJlZiA9IGhyZWYuc3Vic3RyaW5nKDAsIGhyZWYubGFzdEluZGV4T2YoXCIvXCIpKTtcclxuICAgIHZhciByZXBVcmxzID0gZnVuY3Rpb24oY3NzKSB7XHJcbiAgICAgIHJldHVybiBjc3MucmVwbGFjZShyZXNwb25kLnJlZ2V4LnVybHMsIFwiJDFcIiArIGhyZWYgKyBcIiQyJDNcIik7XHJcbiAgICB9LCB1c2VNZWRpYSA9ICFxbCAmJiBtZWRpYTtcclxuICAgIGlmIChocmVmLmxlbmd0aCkge1xyXG4gICAgICBocmVmICs9IFwiL1wiO1xyXG4gICAgfVxyXG4gICAgaWYgKHVzZU1lZGlhKSB7XHJcbiAgICAgIHFsID0gMTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcWw7IGkrKykge1xyXG4gICAgICB2YXIgZnVsbHEsIHRoaXNxLCBlYWNocSwgZXFsO1xyXG4gICAgICBpZiAodXNlTWVkaWEpIHtcclxuICAgICAgICBmdWxscSA9IG1lZGlhO1xyXG4gICAgICAgIHJ1bGVzLnB1c2gocmVwVXJscyhzdHlsZXMpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmdWxscSA9IHFzW2ldLm1hdGNoKHJlc3BvbmQucmVnZXguZmluZFN0eWxlcykgJiYgUmVnRXhwLiQxO1xyXG4gICAgICAgIHJ1bGVzLnB1c2goUmVnRXhwLiQyICYmIHJlcFVybHMoUmVnRXhwLiQyKSk7XHJcbiAgICAgIH1cclxuICAgICAgZWFjaHEgPSBmdWxscS5zcGxpdChcIixcIik7XHJcbiAgICAgIGVxbCA9IGVhY2hxLmxlbmd0aDtcclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlcWw7IGorKykge1xyXG4gICAgICAgIHRoaXNxID0gZWFjaHFbal07XHJcbiAgICAgICAgaWYgKGlzVW5zdXBwb3J0ZWRNZWRpYVF1ZXJ5KHRoaXNxKSkge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lZGlhc3R5bGVzLnB1c2goe1xyXG4gICAgICAgICAgbWVkaWE6IHRoaXNxLnNwbGl0KFwiKFwiKVswXS5tYXRjaChyZXNwb25kLnJlZ2V4Lm9ubHkpICYmIFJlZ0V4cC4kMiB8fCBcImFsbFwiLFxyXG4gICAgICAgICAgcnVsZXM6IHJ1bGVzLmxlbmd0aCAtIDEsXHJcbiAgICAgICAgICBoYXNxdWVyeTogdGhpc3EuaW5kZXhPZihcIihcIikgPiAtMSxcclxuICAgICAgICAgIG1pbnc6IHRoaXNxLm1hdGNoKHJlc3BvbmQucmVnZXgubWludykgJiYgcGFyc2VGbG9hdChSZWdFeHAuJDEpICsgKFJlZ0V4cC4kMiB8fCBcIlwiKSxcclxuICAgICAgICAgIG1heHc6IHRoaXNxLm1hdGNoKHJlc3BvbmQucmVnZXgubWF4dykgJiYgcGFyc2VGbG9hdChSZWdFeHAuJDEpICsgKFJlZ0V4cC4kMiB8fCBcIlwiKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBhcHBseU1lZGlhKCk7XHJcbiAgfSwgbWFrZVJlcXVlc3RzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAocmVxdWVzdFF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICB2YXIgdGhpc1JlcXVlc3QgPSByZXF1ZXN0UXVldWUuc2hpZnQoKTtcclxuICAgICAgYWpheCh0aGlzUmVxdWVzdC5ocmVmLCBmdW5jdGlvbihzdHlsZXMpIHtcclxuICAgICAgICB0cmFuc2xhdGUoc3R5bGVzLCB0aGlzUmVxdWVzdC5ocmVmLCB0aGlzUmVxdWVzdC5tZWRpYSk7XHJcbiAgICAgICAgcGFyc2VkU2hlZXRzW3RoaXNSZXF1ZXN0LmhyZWZdID0gdHJ1ZTtcclxuICAgICAgICB3LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBtYWtlUmVxdWVzdHMoKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSwgcmlwQ1NTID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBzaGVldCA9IGxpbmtzW2ldLCBocmVmID0gc2hlZXQuaHJlZiwgbWVkaWEgPSBzaGVldC5tZWRpYSwgaXNDU1MgPSBzaGVldC5yZWwgJiYgc2hlZXQucmVsLnRvTG93ZXJDYXNlKCkgPT09IFwic3R5bGVzaGVldFwiO1xyXG4gICAgICBpZiAoISFocmVmICYmIGlzQ1NTICYmICFwYXJzZWRTaGVldHNbaHJlZl0pIHtcclxuICAgICAgICBpZiAoc2hlZXQuc3R5bGVTaGVldCAmJiBzaGVldC5zdHlsZVNoZWV0LnJhd0Nzc1RleHQpIHtcclxuICAgICAgICAgIHRyYW5zbGF0ZShzaGVldC5zdHlsZVNoZWV0LnJhd0Nzc1RleHQsIGhyZWYsIG1lZGlhKTtcclxuICAgICAgICAgIHBhcnNlZFNoZWV0c1tocmVmXSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmICghL14oW2EtekEtWjpdKlxcL1xcLykvLnRlc3QoaHJlZikgJiYgIWJhc2UgfHwgaHJlZi5yZXBsYWNlKFJlZ0V4cC4kMSwgXCJcIikuc3BsaXQoXCIvXCIpWzBdID09PSB3LmxvY2F0aW9uLmhvc3QpIHtcclxuICAgICAgICAgICAgaWYgKGhyZWYuc3Vic3RyaW5nKDAsIDIpID09PSBcIi8vXCIpIHtcclxuICAgICAgICAgICAgICBocmVmID0gdy5sb2NhdGlvbi5wcm90b2NvbCArIGhyZWY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVxdWVzdFF1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgICAgIGhyZWY6IGhyZWYsXHJcbiAgICAgICAgICAgICAgbWVkaWE6IG1lZGlhXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbWFrZVJlcXVlc3RzKCk7XHJcbiAgfTtcclxuICByaXBDU1MoKTtcclxuICByZXNwb25kLnVwZGF0ZSA9IHJpcENTUztcclxuICByZXNwb25kLmdldEVtVmFsdWUgPSBnZXRFbVZhbHVlO1xyXG4gIGZ1bmN0aW9uIGNhbGxNZWRpYSgpIHtcclxuICAgIGFwcGx5TWVkaWEodHJ1ZSk7XHJcbiAgfVxyXG4gIGlmICh3LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgIHcuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBjYWxsTWVkaWEsIGZhbHNlKTtcclxuICB9IGVsc2UgaWYgKHcuYXR0YWNoRXZlbnQpIHtcclxuICAgIHcuYXR0YWNoRXZlbnQoXCJvbnJlc2l6ZVwiLCBjYWxsTWVkaWEpO1xyXG4gIH1cclxufSkodGhpcyk7IiwiLyoqXHJcbiAqIGpRdWVyeSBDU1MgQ3VzdG9taXphYmxlIFNjcm9sbGJhclxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxNSwgWXVyaXkgS2hhYmFyb3ZcclxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuXHJcbiAqXHJcbiAqIElmIHlvdSBmb3VuZCBidWcsIHBsZWFzZSBjb250YWN0IG1lIHZpYSBlbWFpbCA8MTNyZWFsMDA4QGdtYWlsLmNvbT5cclxuICpcclxuICogQGF1dGhvciBZdXJpeSBLaGFiYXJvdiBha2EgR3JvbW9cclxuICogQHZlcnNpb24gMC4yLjEwXHJcbiAqIEB1cmwgaHR0cHM6Ly9naXRodWIuY29tL2dyb21vL2pxdWVyeS5zY3JvbGxiYXIvXHJcbiAqXHJcbiAqL1xyXG47XHJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmFjdG9yeShyb290LmpRdWVyeSk7XHJcbiAgICB9XHJcbn0odGhpcywgZnVuY3Rpb24gKCQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvLyBpbml0IGZsYWdzICYgdmFyaWFibGVzXHJcbiAgICB2YXIgZGVidWcgPSBmYWxzZTtcclxuXHJcbiAgICB2YXIgYnJvd3NlciA9IHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIGluZGV4OiAwLFxyXG4gICAgICAgICAgICBuYW1lOiAnc2Nyb2xsYmFyJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWFjb3N4OiAvbWFjL2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLFxyXG4gICAgICAgIG1vYmlsZTogL2FuZHJvaWR8d2Vib3N8aXBob25lfGlwYWR8aXBvZHxibGFja2JlcnJ5L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcclxuICAgICAgICBvdmVybGF5OiBudWxsLFxyXG4gICAgICAgIHNjcm9sbDogbnVsbCxcclxuICAgICAgICBzY3JvbGxzOiBbXSxcclxuICAgICAgICB3ZWJraXQ6IC93ZWJraXQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICEvZWRnZVxcL1xcZCsvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXHJcbiAgICB9O1xyXG5cclxuICAgIGJyb3dzZXIuc2Nyb2xscy5hZGQgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZShpbnN0YW5jZSkucHVzaChpbnN0YW5jZSk7XHJcbiAgICB9O1xyXG4gICAgYnJvd3Nlci5zY3JvbGxzLnJlbW92ZSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIHdoaWxlICgkLmluQXJyYXkoaW5zdGFuY2UsIHRoaXMpID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zcGxpY2UoJC5pbkFycmF5KGluc3RhbmNlLCB0aGlzKSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgXCJhdXRvU2Nyb2xsU2l6ZVwiOiB0cnVlLCAgICAgLy8gYXV0b21hdGljYWxseSBjYWxjdWxhdGUgc2Nyb2xsc2l6ZVxyXG4gICAgICAgIFwiYXV0b1VwZGF0ZVwiOiB0cnVlLCAgICAgICAgIC8vIHVwZGF0ZSBzY3JvbGxiYXIgaWYgY29udGVudC9jb250YWluZXIgc2l6ZSBjaGFuZ2VkXHJcbiAgICAgICAgXCJkZWJ1Z1wiOiBmYWxzZSwgICAgICAgICAgICAgLy8gZGVidWcgbW9kZVxyXG4gICAgICAgIFwiZGlzYWJsZUJvZHlTY3JvbGxcIjogZmFsc2UsIC8vIGRpc2FibGUgYm9keSBzY3JvbGwgaWYgbW91c2Ugb3ZlciBjb250YWluZXJcclxuICAgICAgICBcImR1cmF0aW9uXCI6IDIwMCwgICAgICAgICAgICAvLyBzY3JvbGwgYW5pbWF0ZSBkdXJhdGlvbiBpbiBtc1xyXG4gICAgICAgIFwiaWdub3JlTW9iaWxlXCI6IGZhbHNlLCAgICAgIC8vIGlnbm9yZSBtb2JpbGUgZGV2aWNlc1xyXG4gICAgICAgIFwiaWdub3JlT3ZlcmxheVwiOiBmYWxzZSwgICAgIC8vIGlnbm9yZSBicm93c2VycyB3aXRoIG92ZXJsYXkgc2Nyb2xsYmFycyAobW9iaWxlLCBNYWNPUylcclxuICAgICAgICBcInNjcm9sbFN0ZXBcIjogMzAsICAgICAgICAgICAvLyBzY3JvbGwgc3RlcCBmb3Igc2Nyb2xsYmFyIGFycm93c1xyXG4gICAgICAgIFwic2hvd0Fycm93c1wiOiBmYWxzZSwgICAgICAgIC8vIGFkZCBjbGFzcyB0byBzaG93IGFycm93c1xyXG4gICAgICAgIFwic3RlcFNjcm9sbGluZ1wiOiB0cnVlLCAgICAgIC8vIHdoZW4gc2Nyb2xsaW5nIHRvIHNjcm9sbGJhciBtb3VzZWRvd24gcG9zaXRpb25cclxuXHJcbiAgICAgICAgXCJzY3JvbGx4XCI6IG51bGwsICAgICAgICAgICAgLy8gaG9yaXpvbnRhbCBzY3JvbGwgZWxlbWVudFxyXG4gICAgICAgIFwic2Nyb2xseVwiOiBudWxsLCAgICAgICAgICAgIC8vIHZlcnRpY2FsIHNjcm9sbCBlbGVtZW50XHJcblxyXG4gICAgICAgIFwib25EZXN0cm95XCI6IG51bGwsICAgICAgICAgIC8vIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGRlc3Ryb3ksXHJcbiAgICAgICAgXCJvbkluaXRcIjogbnVsbCwgICAgICAgICAgICAgLy8gY2FsbGJhY2sgZnVuY3Rpb24gb24gZmlyc3QgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICBcIm9uU2Nyb2xsXCI6IG51bGwsICAgICAgICAgICAvLyBjYWxsYmFjayBmdW5jdGlvbiBvbiBjb250ZW50IHNjcm9sbGluZ1xyXG4gICAgICAgIFwib25VcGRhdGVcIjogbnVsbCAgICAgICAgICAgIC8vIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGluaXQvcmVzaXplIChiZWZvcmUgc2Nyb2xsYmFyIHNpemUgY2FsY3VsYXRpb24pXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB2YXIgQmFzZVNjcm9sbGJhciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuXHJcbiAgICAgICAgaWYgKCFicm93c2VyLnNjcm9sbCkge1xyXG4gICAgICAgICAgICBicm93c2VyLm92ZXJsYXkgPSBpc1Njcm9sbE92ZXJsYXlzQ29udGVudCgpO1xyXG4gICAgICAgICAgICBicm93c2VyLnNjcm9sbCA9IGdldEJyb3dzZXJTY3JvbGxTaXplKCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoKTtcclxuXHJcbiAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcmNlVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5zY3JvbGwgJiYgKGJyb3dzZXIuc2Nyb2xsLmhlaWdodCB8fCBicm93c2VyLnNjcm9sbC53aWR0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsID0gZ2V0QnJvd3NlclNjcm9sbFNpemUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsLmhlaWdodCAhPT0gYnJvd3Nlci5zY3JvbGwuaGVpZ2h0IHx8IHNjcm9sbC53aWR0aCAhPT0gYnJvd3Nlci5zY3JvbGwud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci5zY3JvbGwgPSBzY3JvbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlVXBkYXRlID0gdHJ1ZTsgLy8gaGFuZGxlIHBhZ2Ugem9vbVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoZm9yY2VVcGRhdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gJy5zY3JvbGxiYXJfJyArIGJyb3dzZXIuZGF0YS5pbmRleCsrO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgd2luZG93LmpRdWVyeVNjcm9sbGJhck9wdGlvbnMgfHwge30pO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsVG8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xseCA9IHt9O1xyXG4gICAgICAgIHRoaXMuc2Nyb2xseSA9IHt9O1xyXG5cclxuICAgICAgICBjb250YWluZXIuZGF0YShicm93c2VyLmRhdGEubmFtZSwgdGhpcyk7XHJcbiAgICAgICAgYnJvd3Nlci5zY3JvbGxzLmFkZCh0aGlzKTtcclxuICAgIH07XHJcblxyXG4gICAgQmFzZVNjcm9sbGJhci5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZURhdGEoYnJvd3Nlci5kYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICBicm93c2VyLnNjcm9sbHMucmVtb3ZlKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gaW5pdCB2YXJpYWJsZXNcclxuICAgICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSB0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0KCk7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3AoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLndyYXBwZXIpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBcImhlaWdodFwiOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogXCJcIixcclxuICAgICAgICAgICAgICAgIFwibWF4LWhlaWdodFwiOiBcIlwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1jb250ZW50IHNjcm9sbC1zY3JvbGx4X3Zpc2libGUgc2Nyb2xsLXNjcm9sbHlfdmlzaWJsZScpXHJcbiAgICAgICAgICAgICAgICAub2ZmKHRoaXMubmFtZXNwYWNlKVxyXG4gICAgICAgICAgICAgICAgLnNjcm9sbExlZnQoc2Nyb2xsTGVmdClcclxuICAgICAgICAgICAgICAgIC5zY3JvbGxUb3Aoc2Nyb2xsVG9wKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xseC5zY3JvbGwucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1zY3JvbGx4X3Zpc2libGUnKS5maW5kKCdkaXYnKS5hbmRTZWxmKCkub2ZmKHRoaXMubmFtZXNwYWNlKTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGx5LnNjcm9sbC5yZW1vdmVDbGFzcygnc2Nyb2xsLXNjcm9sbHlfdmlzaWJsZScpLmZpbmQoJ2RpdicpLmFuZFNlbGYoKS5vZmYodGhpcy5uYW1lc3BhY2UpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgJChkb2N1bWVudCkuYWRkKCdib2R5Jykub2ZmKHRoaXMubmFtZXNwYWNlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLm9uRGVzdHJveSkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uRGVzdHJveS5hcHBseSh0aGlzLCBbdGhpcy5jb250YWluZXJdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGluaXQgdmFyaWFibGVzXHJcbiAgICAgICAgICAgIHZhciBTID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGMgPSB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgICAgICAgIGN3ID0gdGhpcy5jb250YWluZXJXcmFwcGVyIHx8IGMsXHJcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2UgPSB0aGlzLm5hbWVzcGFjZSxcclxuICAgICAgICAgICAgICAgIG8gPSAkLmV4dGVuZCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwge30pLFxyXG4gICAgICAgICAgICAgICAgcyA9IHt4OiB0aGlzLnNjcm9sbHgsIHk6IHRoaXMuc2Nyb2xseX0sXHJcbiAgICAgICAgICAgICAgICB3ID0gdGhpcy53cmFwcGVyO1xyXG5cclxuICAgICAgICAgICAgdmFyIGluaXRTY3JvbGwgPSB7XHJcbiAgICAgICAgICAgICAgICBcInNjcm9sbExlZnRcIjogYy5zY3JvbGxMZWZ0KCksXHJcbiAgICAgICAgICAgICAgICBcInNjcm9sbFRvcFwiOiBjLnNjcm9sbFRvcCgpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBkbyBub3QgaW5pdCBpZiBpbiBpZ25vcmFibGUgYnJvd3NlclxyXG4gICAgICAgICAgICBpZiAoKGJyb3dzZXIubW9iaWxlICYmIG8uaWdub3JlTW9iaWxlKVxyXG4gICAgICAgICAgICAgICAgfHwgKGJyb3dzZXIub3ZlcmxheSAmJiBvLmlnbm9yZU92ZXJsYXkpXHJcbiAgICAgICAgICAgICAgICB8fCAoYnJvd3Nlci5tYWNvc3ggJiYgIWJyb3dzZXIud2Via2l0KSAvLyBzdGlsbCByZXF1aXJlZCB0byBpZ25vcmUgbm9uV2ViS2l0IGJyb3dzZXJzIG9uIE1hY1xyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGluaXQgc2Nyb2xsIGNvbnRhaW5lclxyXG4gICAgICAgICAgICBpZiAoIXcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlciA9IHcgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdzY3JvbGwtd3JhcHBlcicpLmFkZENsYXNzKGMuYXR0cignY2xhc3MnKSlcclxuICAgICAgICAgICAgICAgICAgICAuY3NzKCdwb3NpdGlvbicsIGMuY3NzKCdwb3NpdGlvbicpID09ICdhYnNvbHV0ZScgPyAnYWJzb2x1dGUnIDogJ2ZpeGVkJylcclxuICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0QmVmb3JlKGMpLmFwcGVuZChjKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYy5pcygndGV4dGFyZWEnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyV3JhcHBlciA9IGN3ID0gJCgnPGRpdj4nKS5pbnNlcnRCZWZvcmUoYykuYXBwZW5kKGMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHcuYWRkQ2xhc3MoJ3Njcm9sbC10ZXh0YXJlYScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGN3LmFkZENsYXNzKCdzY3JvbGwtY29udGVudCcpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW4tYm90dG9tXCI6IGJyb3dzZXIuc2Nyb2xsLmhlaWdodCAqIC0xICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpbi1yaWdodFwiOiBicm93c2VyLnNjcm9sbC53aWR0aCAqIC0xICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICBcIm1heC1oZWlnaHRcIjogXCJcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYy5vbignc2Nyb2xsJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvLm9uU2Nyb2xsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvLm9uU2Nyb2xsLmNhbGwoUywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXhTY3JvbGxcIjogcy55Lm1heFNjcm9sbE9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2Nyb2xsXCI6IGMuc2Nyb2xsVG9wKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogcy55LnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZpc2libGVcIjogcy55LnZpc2libGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXhTY3JvbGxcIjogcy54Lm1heFNjcm9sbE9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2Nyb2xsXCI6IGMuc2Nyb2xsTGVmdCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzaXplXCI6IHMueC5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmxlXCI6IHMueC52aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzLnguaXNWaXNpYmxlICYmIHMueC5zY3JvbGwuYmFyLmNzcygnbGVmdCcsIGMuc2Nyb2xsTGVmdCgpICogcy54Lmt4ICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcy55LmlzVmlzaWJsZSAmJiBzLnkuc2Nyb2xsLmJhci5jc3MoJ3RvcCcsIGMuc2Nyb2xsVG9wKCkgKiBzLnkua3ggKyAncHgnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qIHByZXZlbnQgbmF0aXZlIHNjcm9sbGJhcnMgdG8gYmUgdmlzaWJsZSBvbiAjYW5jaG9yIGNsaWNrICovXHJcbiAgICAgICAgICAgICAgICB3Lm9uKCdzY3JvbGwnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdy5zY3JvbGxUb3AoMCkuc2Nyb2xsTGVmdCgwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvLmRpc2FibGVCb2R5U2Nyb2xsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZU1vdXNlU2Nyb2xsID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmVydGljYWxTY3JvbGwoZXZlbnQpID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMueS5pc1Zpc2libGUgJiYgcy55Lm1vdXNld2hlZWwoZXZlbnQpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMueC5pc1Zpc2libGUgJiYgcy54Lm1vdXNld2hlZWwoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdy5vbignTW96TW91c2VQaXhlbFNjcm9sbCcgKyBuYW1lc3BhY2UsIGhhbmRsZU1vdXNlU2Nyb2xsKTtcclxuICAgICAgICAgICAgICAgICAgICB3Lm9uKCdtb3VzZXdoZWVsJyArIG5hbWVzcGFjZSwgaGFuZGxlTW91c2VTY3JvbGwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5tb2JpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdy5vbigndG91Y2hzdGFydCcgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXSB8fCBldmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFRvdWNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFnZVhcIjogdG91Y2gucGFnZVgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYWdlWVwiOiB0b3VjaC5wYWdlWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFNjcm9sbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxlZnRcIjogYy5zY3JvbGxMZWZ0KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0b3BcIjogYy5zY3JvbGxUb3AoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCd0b3VjaG1vdmUnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXMgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdIHx8IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc2Nyb2xsTGVmdChvcmlnaW5hbFNjcm9sbC5sZWZ0ICsgb3JpZ2luYWxUb3VjaC5wYWdlWCAtIHRvdWNoLnBhZ2VYKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnNjcm9sbFRvcChvcmlnaW5hbFNjcm9sbC50b3AgKyBvcmlnaW5hbFRvdWNoLnBhZ2VZIC0gdG91Y2gucGFnZVkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCd0b3VjaGVuZCcgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYobmFtZXNwYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG8ub25Jbml0KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgby5vbkluaXQuYXBwbHkodGhpcywgW2NdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN3LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJtYXJnaW4tYm90dG9tXCI6IGJyb3dzZXIuc2Nyb2xsLmhlaWdodCAqIC0xICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpbi1yaWdodFwiOiBicm93c2VyLnNjcm9sbC53aWR0aCAqIC0xICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICBcIm1heC1oZWlnaHRcIjogXCJcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGluaXQgc2Nyb2xsYmFycyAmIHJlY2FsY3VsYXRlIHNpemVzXHJcbiAgICAgICAgICAgICQuZWFjaChzLCBmdW5jdGlvbiAoZCwgc2Nyb2xseCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxDYWxsYmFjayA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsRm9yd2FyZCA9IDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gKGQgPT09ICd4JykgPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJztcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxTdGVwID0gby5zY3JvbGxTdGVwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2Zmc2V0ID0gY1tzY3JvbGxPZmZzZXRdKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY1tzY3JvbGxPZmZzZXRdKGN1cnJlbnRPZmZzZXQgKyBzY3JvbGxTdGVwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRm9yd2FyZCA9PSAxICYmIChjdXJyZW50T2Zmc2V0ICsgc2Nyb2xsU3RlcCkgPj0gc2Nyb2xsVG9WYWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9mZnNldCA9IGNbc2Nyb2xsT2Zmc2V0XSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxGb3J3YXJkID09IC0xICYmIChjdXJyZW50T2Zmc2V0ICsgc2Nyb2xsU3RlcCkgPD0gc2Nyb2xsVG9WYWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9mZnNldCA9IGNbc2Nyb2xsT2Zmc2V0XSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjW3Njcm9sbE9mZnNldF0oKSA9PSBjdXJyZW50T2Zmc2V0ICYmIHNjcm9sbENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvVmFsdWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghc2Nyb2xseC5zY3JvbGwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGwgPSBTLl9nZXRTY3JvbGwob1snc2Nyb2xsJyArIGRdKS5hZGRDbGFzcygnc2Nyb2xsLScgKyBkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoby5zaG93QXJyb3dzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGwuYWRkQ2xhc3MoJ3Njcm9sbC1lbGVtZW50X2Fycm93c192aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGx4Lm1vdXNld2hlZWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2Nyb2xseC5pc1Zpc2libGUgfHwgKGQgPT09ICd4JyAmJiBpc1ZlcnRpY2FsU2Nyb2xsKGV2ZW50KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID09PSAneScgJiYgIWlzVmVydGljYWxTY3JvbGwoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLngubW91c2V3aGVlbChldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZXZlbnQub3JpZ2luYWxFdmVudC53aGVlbERlbHRhICogLTEgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5kZXRhaWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXhTY3JvbGxWYWx1ZSA9IHNjcm9sbHguc2l6ZSAtIHNjcm9sbHgudmlzaWJsZSAtIHNjcm9sbHgub2Zmc2V0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChkZWx0YSA+IDAgJiYgc2Nyb2xsVG9WYWx1ZSA8IG1heFNjcm9sbFZhbHVlKSB8fCAoZGVsdGEgPCAwICYmIHNjcm9sbFRvVmFsdWUgPiAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IHNjcm9sbFRvVmFsdWUgKyBkZWx0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUb1ZhbHVlIDwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1ZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUb1ZhbHVlID4gbWF4U2Nyb2xsVmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IG1heFNjcm9sbFZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMuc2Nyb2xsVG8gPSBTLnNjcm9sbFRvIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUy5zY3JvbGxUb1tzY3JvbGxPZmZzZXRdID0gc2Nyb2xsVG9WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTLnNjcm9sbFRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc3RvcCgpLmFuaW1hdGUoUy5zY3JvbGxUbywgMjQwLCAnbGluZWFyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IGNbc2Nyb2xsT2Zmc2V0XSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUy5zY3JvbGxUbyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGx4LnNjcm9sbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ01vek1vdXNlUGl4ZWxTY3JvbGwnICsgbmFtZXNwYWNlLCBzY3JvbGx4Lm1vdXNld2hlZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignbW91c2V3aGVlbCcgKyBuYW1lc3BhY2UsIHNjcm9sbHgubW91c2V3aGVlbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IGNbc2Nyb2xsT2Zmc2V0XSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIGFycm93cyAmIHNjcm9sbCBpbm5lciBtb3VzZWRvd24gZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGx4LnNjcm9sbC5maW5kKCcuc2Nyb2xsLWFycm93LCAuc2Nyb2xsLWVsZW1lbnRfdHJhY2snKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCAhPSAxKSAvLyBsbWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxGb3J3YXJkID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImV2ZW50T2Zmc2V0XCI6IGV2ZW50WyhkID09PSAneCcpID8gJ3BhZ2VYJyA6ICdwYWdlWSddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWF4U2Nyb2xsVmFsdWVcIjogc2Nyb2xseC5zaXplIC0gc2Nyb2xseC52aXNpYmxlIC0gc2Nyb2xseC5vZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzY3JvbGxiYXJPZmZzZXRcIjogc2Nyb2xseC5zY3JvbGwuYmFyLm9mZnNldCgpWyhkID09PSAneCcpID8gJ2xlZnQnIDogJ3RvcCddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2Nyb2xsYmFyU2l6ZVwiOiBzY3JvbGx4LnNjcm9sbC5iYXJbKGQgPT09ICd4JykgPyAnb3V0ZXJXaWR0aCcgOiAnb3V0ZXJIZWlnaHQnXSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSAwLCB0aW1lciA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3Njcm9sbC1hcnJvdycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRm9yd2FyZCA9ICQodGhpcykuaGFzQ2xhc3MoXCJzY3JvbGwtYXJyb3dfbW9yZVwiKSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxTdGVwID0gby5zY3JvbGxTdGVwICogc2Nyb2xsRm9yd2FyZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1ZhbHVlID0gc2Nyb2xsRm9yd2FyZCA+IDAgPyBkYXRhLm1heFNjcm9sbFZhbHVlIDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRm9yd2FyZCA9IChkYXRhLmV2ZW50T2Zmc2V0ID4gKGRhdGEuc2Nyb2xsYmFyT2Zmc2V0ICsgZGF0YS5zY3JvbGxiYXJTaXplKSA/IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoZGF0YS5ldmVudE9mZnNldCA8IGRhdGEuc2Nyb2xsYmFyT2Zmc2V0ID8gLTEgOiAwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU3RlcCA9IE1hdGgucm91bmQoc2Nyb2xseC52aXNpYmxlICogMC43NSkgKiBzY3JvbGxGb3J3YXJkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvVmFsdWUgPSAoZGF0YS5ldmVudE9mZnNldCAtIGRhdGEuc2Nyb2xsYmFyT2Zmc2V0IC1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG8uc3RlcFNjcm9sbGluZyA/IChzY3JvbGxGb3J3YXJkID09IDEgPyBkYXRhLnNjcm9sbGJhclNpemUgOiAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBNYXRoLnJvdW5kKGRhdGEuc2Nyb2xsYmFyU2l6ZSAvIDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IGNbc2Nyb2xsT2Zmc2V0XSgpICsgKHNjcm9sbFRvVmFsdWUgLyBzY3JvbGx4Lmt4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTLnNjcm9sbFRvID0gUy5zY3JvbGxUbyB8fCB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMuc2Nyb2xsVG9bc2Nyb2xsT2Zmc2V0XSA9IG8uc3RlcFNjcm9sbGluZyA/IGNbc2Nyb2xsT2Zmc2V0XSgpICsgc2Nyb2xsU3RlcCA6IHNjcm9sbFRvVmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uc3RlcFNjcm9sbGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1ZhbHVlID0gY1tzY3JvbGxPZmZzZXRdKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0SW50ZXJ2YWwoc2Nyb2xsVG8sIDQwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvLmR1cmF0aW9uICsgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUy5zY3JvbGxUbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLmFuaW1hdGUoUy5zY3JvbGxUbywgby5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMuc2Nyb2xsVG8gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTLl9oYW5kbGVNb3VzZURvd24oc2Nyb2xsQ2FsbGJhY2ssIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzY3JvbGxiYXIgZHJhZyduJ2Ryb3BcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGx4LnNjcm9sbC5iYXIub24oJ21vdXNlZG93bicgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9IDEpIC8vIGxtYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRQb3NpdGlvbiA9IGV2ZW50WyhkID09PSAneCcpID8gJ3BhZ2VYJyA6ICdwYWdlWSddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdE9mZnNldCA9IGNbc2Nyb2xsT2Zmc2V0XSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGwuYWRkQ2xhc3MoJ3Njcm9sbC1kcmFnZ2FibGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWZmID0gcGFyc2VJbnQoKGV2ZW50WyhkID09PSAneCcpID8gJ3BhZ2VYJyA6ICdwYWdlWSddIC0gZXZlbnRQb3NpdGlvbikgLyBzY3JvbGx4Lmt4LCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjW3Njcm9sbE9mZnNldF0oaW5pdE9mZnNldCArIGRpZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTLl9oYW5kbGVNb3VzZURvd24oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGwucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1kcmFnZ2FibGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvVmFsdWUgPSBjW3Njcm9sbE9mZnNldF0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBjbGFzc2VzICYgcmVzZXQgYXBwbGllZCBzdHlsZXNcclxuICAgICAgICAgICAgJC5lYWNoKHMsIGZ1bmN0aW9uIChkLCBzY3JvbGx4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsQ2xhc3MgPSAnc2Nyb2xsLXNjcm9sbCcgKyBkICsgJ192aXNpYmxlJztcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGx5ID0gKGQgPT0gXCJ4XCIpID8gcy55IDogcy54O1xyXG5cclxuICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLnJlbW92ZUNsYXNzKHNjcm9sbENsYXNzKTtcclxuICAgICAgICAgICAgICAgIHNjcm9sbHkuc2Nyb2xsLnJlbW92ZUNsYXNzKHNjcm9sbENsYXNzKTtcclxuICAgICAgICAgICAgICAgIGN3LnJlbW92ZUNsYXNzKHNjcm9sbENsYXNzKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgaW5pdCBzaXplc1xyXG4gICAgICAgICAgICAkLmVhY2gocywgZnVuY3Rpb24gKGQsIHNjcm9sbHgpIHtcclxuICAgICAgICAgICAgICAgICQuZXh0ZW5kKHNjcm9sbHgsIChkID09IFwieFwiKSA/IHtcclxuICAgICAgICAgICAgICAgICAgICBcIm9mZnNldFwiOiBwYXJzZUludChjLmNzcygnbGVmdCcpLCAxMCkgfHwgMCxcclxuICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogYy5wcm9wKCdzY3JvbGxXaWR0aCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmlzaWJsZVwiOiB3LndpZHRoKClcclxuICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJvZmZzZXRcIjogcGFyc2VJbnQoYy5jc3MoJ3RvcCcpLCAxMCkgfHwgMCxcclxuICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogYy5wcm9wKCdzY3JvbGxIZWlnaHQnKSxcclxuICAgICAgICAgICAgICAgICAgICBcInZpc2libGVcIjogdy5oZWlnaHQoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gdXBkYXRlIHNjcm9sbGJhciB2aXNpYmlsaXR5L2RpbWVuc2lvbnNcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsKCd4JywgdGhpcy5zY3JvbGx4KTtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsKCd5JywgdGhpcy5zY3JvbGx5KTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oby5vblVwZGF0ZSkpe1xyXG4gICAgICAgICAgICAgICAgby5vblVwZGF0ZS5hcHBseSh0aGlzLCBbY10pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgc2Nyb2xsIHNpemVcclxuICAgICAgICAgICAgJC5lYWNoKHMsIGZ1bmN0aW9uIChkLCBzY3JvbGx4KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGNzc09mZnNldCA9IChkID09PSAneCcpID8gJ2xlZnQnIDogJ3RvcCc7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3NzRnVsbFNpemUgPSAoZCA9PT0gJ3gnKSA/ICdvdXRlcldpZHRoJyA6ICdvdXRlckhlaWdodCc7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3NzU2l6ZSA9IChkID09PSAneCcpID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KGMuY3NzKGNzc09mZnNldCksIDEwKSB8fCAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBBcmVhU2l6ZSA9IHNjcm9sbHguc2l6ZTtcclxuICAgICAgICAgICAgICAgIHZhciBBcmVhVmlzaWJsZSA9IHNjcm9sbHgudmlzaWJsZSArIG9mZnNldDtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsU2l6ZSA9IHNjcm9sbHguc2Nyb2xsLnNpemVbY3NzRnVsbFNpemVdKCkgKyAocGFyc2VJbnQoc2Nyb2xseC5zY3JvbGwuc2l6ZS5jc3MoY3NzT2Zmc2V0KSwgMTApIHx8IDApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvLmF1dG9TY3JvbGxTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGxiYXJTaXplID0gcGFyc2VJbnQoc2Nyb2xsU2l6ZSAqIEFyZWFWaXNpYmxlIC8gQXJlYVNpemUsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGx4LnNjcm9sbC5iYXIuY3NzKGNzc1NpemUsIHNjcm9sbHguc2Nyb2xsYmFyU2l6ZSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsYmFyU2l6ZSA9IHNjcm9sbHguc2Nyb2xsLmJhcltjc3NGdWxsU2l6ZV0oKTtcclxuICAgICAgICAgICAgICAgIHNjcm9sbHgua3ggPSAoKHNjcm9sbFNpemUgLSBzY3JvbGx4LnNjcm9sbGJhclNpemUpIC8gKEFyZWFTaXplIC0gQXJlYVZpc2libGUpKSB8fCAxO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xseC5tYXhTY3JvbGxPZmZzZXQgPSBBcmVhU2l6ZSAtIEFyZWFWaXNpYmxlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGMuc2Nyb2xsTGVmdChpbml0U2Nyb2xsLnNjcm9sbExlZnQpLnNjcm9sbFRvcChpbml0U2Nyb2xsLnNjcm9sbFRvcCkudHJpZ2dlcignc2Nyb2xsJyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0IHNjcm9sbHgvc2Nyb2xseSBvYmplY3RcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7TWl4ZWR9IHNjcm9sbFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtqUXVlcnl9IHNjcm9sbCBvYmplY3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBfZ2V0U2Nyb2xsOiBmdW5jdGlvbiAoc2Nyb2xsKSB7XHJcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IHtcclxuICAgICAgICAgICAgICAgIGFkdmFuY2VkOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudFwiPicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9jb3JuZXJcIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsLWFycm93IHNjcm9sbC1hcnJvd19sZXNzXCI+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1hcnJvdyBzY3JvbGwtYXJyb3dfbW9yZVwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9vdXRlclwiPicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9zaXplXCI+PC9kaXY+JywgLy8gcmVxdWlyZWQhIHVzZWQgZm9yIHNjcm9sbGJhciBzaXplIGNhbGN1bGF0aW9uICFcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1lbGVtZW50X2lubmVyLXdyYXBwZXJcIj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsLWVsZW1lbnRfaW5uZXIgc2Nyb2xsLWVsZW1lbnRfdHJhY2tcIj4nLCAvLyB1c2VkIGZvciBoYW5kbGluZyBzY3JvbGxiYXIgY2xpY2tcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1lbGVtZW50X2lubmVyLWJvdHRvbVwiPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyXCI+JywgLy8gcmVxdWlyZWRcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1iYXJfYm9keVwiPicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyX2JvZHktaW5uZXJcIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsLWJhcl9ib3R0b21cIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsLWJhcl9jZW50ZXJcIj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXHJcbiAgICAgICAgICAgICAgICBdLmpvaW4oJycpLFxyXG4gICAgICAgICAgICAgICAgc2ltcGxlOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudFwiPicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9vdXRlclwiPicsXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9zaXplXCI+PC9kaXY+JywgLy8gcmVxdWlyZWQhIHVzZWQgZm9yIHNjcm9sbGJhciBzaXplIGNhbGN1bGF0aW9uICFcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1lbGVtZW50X3RyYWNrXCI+PC9kaXY+JywgLy8gdXNlZCBmb3IgaGFuZGxpbmcgc2Nyb2xsYmFyIGNsaWNrXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyXCI+PC9kaXY+JywgLy8gcmVxdWlyZWRcclxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xyXG4gICAgICAgICAgICAgICAgXS5qb2luKCcnKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAodHlwZXNbc2Nyb2xsXSkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gdHlwZXNbc2Nyb2xsXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXNjcm9sbCkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gdHlwZXNbJ3NpbXBsZSddO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHNjcm9sbCkgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbCA9ICQoc2Nyb2xsKS5hcHBlbmRUbyh0aGlzLndyYXBwZXIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gJChzY3JvbGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHNjcm9sbCwge1xyXG4gICAgICAgICAgICAgICAgYmFyOiBzY3JvbGwuZmluZCgnLnNjcm9sbC1iYXInKSxcclxuICAgICAgICAgICAgICAgIHNpemU6IHNjcm9sbC5maW5kKCcuc2Nyb2xsLWVsZW1lbnRfc2l6ZScpLFxyXG4gICAgICAgICAgICAgICAgdHJhY2s6IHNjcm9sbC5maW5kKCcuc2Nyb2xsLWVsZW1lbnRfdHJhY2snKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfaGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbihjYWxsYmFjaywgZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSB0aGlzLm5hbWVzcGFjZTtcclxuXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdibHVyJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkuYWRkKCdib2R5Jykub2ZmKG5hbWVzcGFjZSk7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2RyYWdzdGFydCcgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZXVwJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkuYWRkKCdib2R5Jykub2ZmKG5hbWVzcGFjZSk7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJCgnYm9keScpLm9uKCdzZWxlY3RzdGFydCcgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBldmVudCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgX3VwZGF0ZVNjcm9sbDogZnVuY3Rpb24gKGQsIHNjcm9sbHgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcldyYXBwZXIgPSB0aGlzLmNvbnRhaW5lcldyYXBwZXIgfHwgY29udGFpbmVyLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsQ2xhc3MgPSAnc2Nyb2xsLXNjcm9sbCcgKyBkICsgJ192aXNpYmxlJyxcclxuICAgICAgICAgICAgICAgIHNjcm9sbHkgPSAoZCA9PT0gJ3gnKSA/IHRoaXMuc2Nyb2xseSA6IHRoaXMuc2Nyb2xseCxcclxuICAgICAgICAgICAgICAgIG9mZnNldCA9IHBhcnNlSW50KHRoaXMuY29udGFpbmVyLmNzcygoZCA9PT0gJ3gnKSA/ICdsZWZ0JyA6ICd0b3AnKSwgMTApIHx8IDAsXHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyID0gdGhpcy53cmFwcGVyO1xyXG5cclxuICAgICAgICAgICAgdmFyIEFyZWFTaXplID0gc2Nyb2xseC5zaXplO1xyXG4gICAgICAgICAgICB2YXIgQXJlYVZpc2libGUgPSBzY3JvbGx4LnZpc2libGUgKyBvZmZzZXQ7XHJcblxyXG4gICAgICAgICAgICBzY3JvbGx4LmlzVmlzaWJsZSA9IChBcmVhU2l6ZSAtIEFyZWFWaXNpYmxlKSA+IDE7IC8vIGJ1ZyBpbiBJRTkvMTEgd2l0aCAxcHggZGlmZlxyXG4gICAgICAgICAgICBpZiAoc2Nyb2xseC5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLmFkZENsYXNzKHNjcm9sbENsYXNzKTtcclxuICAgICAgICAgICAgICAgIHNjcm9sbHkuc2Nyb2xsLmFkZENsYXNzKHNjcm9sbENsYXNzKTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcldyYXBwZXIuYWRkQ2xhc3Moc2Nyb2xsQ2xhc3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGwucmVtb3ZlQ2xhc3Moc2Nyb2xsQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xseS5zY3JvbGwucmVtb3ZlQ2xhc3Moc2Nyb2xsQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyV3JhcHBlci5yZW1vdmVDbGFzcyhzY3JvbGxDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkID09PSAneScpIHtcclxuICAgICAgICAgICAgICAgIGlmKGNvbnRhaW5lci5pcygndGV4dGFyZWEnKSB8fCBBcmVhU2l6ZSA8IEFyZWFWaXNpYmxlKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJXcmFwcGVyLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IChBcmVhVmlzaWJsZSArIGJyb3dzZXIuc2Nyb2xsLmhlaWdodCkgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heC1oZWlnaHRcIjogXCJub25lXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyV3JhcHBlci5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1wiaGVpZ2h0XCI6IFwiYXV0b1wiLCAvLyBkbyBub3QgcmVzZXQgaGVpZ2h0IHZhbHVlOiBpc3N1ZSB3aXRoIGhlaWdodDoxMDAlIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heC1oZWlnaHRcIjogKEFyZWFWaXNpYmxlICsgYnJvd3Nlci5zY3JvbGwuaGVpZ2h0KSArICdweCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHNjcm9sbHguc2l6ZSAhPSBjb250YWluZXIucHJvcCgnc2Nyb2xsV2lkdGgnKVxyXG4gICAgICAgICAgICAgICAgfHwgc2Nyb2xseS5zaXplICE9IGNvbnRhaW5lci5wcm9wKCdzY3JvbGxIZWlnaHQnKVxyXG4gICAgICAgICAgICAgICAgfHwgc2Nyb2xseC52aXNpYmxlICE9IHdyYXBwZXIud2lkdGgoKVxyXG4gICAgICAgICAgICAgICAgfHwgc2Nyb2xseS52aXNpYmxlICE9IHdyYXBwZXIuaGVpZ2h0KClcclxuICAgICAgICAgICAgICAgIHx8IHNjcm9sbHgub2Zmc2V0ICE9IChwYXJzZUludChjb250YWluZXIuY3NzKCdsZWZ0JyksIDEwKSB8fCAwKVxyXG4gICAgICAgICAgICAgICAgfHwgc2Nyb2xseS5vZmZzZXQgIT0gKHBhcnNlSW50KGNvbnRhaW5lci5jc3MoJ3RvcCcpLCAxMCkgfHwgMClcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgJC5leHRlbmQodGhpcy5zY3JvbGx4LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJvZmZzZXRcIjogcGFyc2VJbnQoY29udGFpbmVyLmNzcygnbGVmdCcpLCAxMCkgfHwgMCxcclxuICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogY29udGFpbmVyLnByb3AoJ3Njcm9sbFdpZHRoJyksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmxlXCI6IHdyYXBwZXIud2lkdGgoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkLmV4dGVuZCh0aGlzLnNjcm9sbHksIHtcclxuICAgICAgICAgICAgICAgICAgICBcIm9mZnNldFwiOiBwYXJzZUludChjb250YWluZXIuY3NzKCd0b3AnKSwgMTApIHx8IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplXCI6IHRoaXMuY29udGFpbmVyLnByb3AoJ3Njcm9sbEhlaWdodCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmlzaWJsZVwiOiB3cmFwcGVyLmhlaWdodCgpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbChkID09PSAneCcgPyAneScgOiAneCcsIHNjcm9sbHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ3VzdG9tU2Nyb2xsYmFyID0gQmFzZVNjcm9sbGJhcjtcclxuXHJcbiAgICAvKlxyXG4gICAgICogRXh0ZW5kIGpRdWVyeSBhcyBwbHVnaW5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge01peGVkfSBjb21tYW5kIHRvIGV4ZWN1dGVcclxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGFyZ3VtZW50cyBhcyBBcnJheVxyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fVxyXG4gICAgICovXHJcbiAgICAkLmZuLnNjcm9sbGJhciA9IGZ1bmN0aW9uIChjb21tYW5kLCBhcmdzKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb21tYW5kICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBhcmdzID0gY29tbWFuZDtcclxuICAgICAgICAgICAgY29tbWFuZCA9ICdpbml0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBhcmdzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghJC5pc0FycmF5KGFyZ3MpKSB7XHJcbiAgICAgICAgICAgIGFyZ3MgPSBbYXJnc107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm90KCdib2R5LCAuc2Nyb2xsLXdyYXBwZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBlbGVtZW50LmRhdGEoYnJvd3Nlci5kYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UgfHwgY29tbWFuZCA9PT0gJ2luaXQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgQ3VzdG9tU2Nyb2xsYmFyKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlW2NvbW1hbmRdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VbY29tbWFuZF0uYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29ubmVjdCBkZWZhdWx0IG9wdGlvbnMgdG8gZ2xvYmFsIG9iamVjdFxyXG4gICAgICovXHJcbiAgICAkLmZuLnNjcm9sbGJhci5vcHRpb25zID0gZGVmYXVsdHM7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgc2Nyb2xsIGNvbnRlbnQvY29udGFpbmVyIHNpemUgaXMgY2hhbmdlZFxyXG4gICAgICovXHJcblxyXG4gICAgdmFyIHVwZGF0ZVNjcm9sbGJhcnMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aW1lciA9IDAsXHJcbiAgICAgICAgICAgIHRpbWVyQ291bnRlciA9IDA7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZm9yY2UpIHtcclxuICAgICAgICAgICAgdmFyIGksIGNvbnRhaW5lciwgb3B0aW9ucywgc2Nyb2xsLCB3cmFwcGVyLCBzY3JvbGx4LCBzY3JvbGx5O1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnJvd3Nlci5zY3JvbGxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGwgPSBicm93c2VyLnNjcm9sbHNbaV07XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBzY3JvbGwuY29udGFpbmVyO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHNjcm9sbC5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlciA9IHNjcm9sbC53cmFwcGVyO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xseCA9IHNjcm9sbC5zY3JvbGx4O1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xseSA9IHNjcm9sbC5zY3JvbGx5O1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlIHx8IChvcHRpb25zLmF1dG9VcGRhdGUgJiYgd3JhcHBlciAmJiB3cmFwcGVyLmlzKCc6dmlzaWJsZScpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lci5wcm9wKCdzY3JvbGxXaWR0aCcpICE9IHNjcm9sbHguc2l6ZSB8fCBjb250YWluZXIucHJvcCgnc2Nyb2xsSGVpZ2h0JykgIT0gc2Nyb2xseS5zaXplIHx8IHdyYXBwZXIud2lkdGgoKSAhPSBzY3JvbGx4LnZpc2libGUgfHwgd3JhcHBlci5oZWlnaHQoKSAhPSBzY3JvbGx5LnZpc2libGUpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbC5pbml0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlYnVnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUubG9nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEhlaWdodDogY29udGFpbmVyLnByb3AoJ3Njcm9sbEhlaWdodCcpICsgJzonICsgc2Nyb2xsLnNjcm9sbHkuc2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoOiBjb250YWluZXIucHJvcCgnc2Nyb2xsV2lkdGgnKSArICc6JyArIHNjcm9sbC5zY3JvbGx4LnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlSGVpZ2h0OiB3cmFwcGVyLmhlaWdodCgpICsgJzonICsgc2Nyb2xsLnNjcm9sbHkudmlzaWJsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVXaWR0aDogd3JhcHBlci53aWR0aCgpICsgJzonICsgc2Nyb2xsLnNjcm9sbHgudmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJDb3VudGVyKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkZWJ1ZyAmJiB0aW1lckNvdW50ZXIgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUgJiYgY29uc29sZS5sb2coJ1Njcm9sbCB1cGRhdGVzIGV4Y2VlZCAxMCcpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlU2Nyb2xsYmFycyA9IGZ1bmN0aW9uICgpIHt9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCh1cGRhdGVTY3JvbGxiYXJzLCAzMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pKCk7XHJcblxyXG4gICAgLyogQURESVRJT05BTCBGVU5DVElPTlMgKi9cclxuICAgIC8qKlxyXG4gICAgICogR2V0IG5hdGl2ZSBicm93c2VyIHNjcm9sbGJhciBzaXplIChoZWlnaHQvd2lkdGgpXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhY3R1YWwgc2l6ZSBvciBDU1Mgc2l6ZSwgZGVmYXVsdCAtIENTUyBzaXplXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSB3aXRoIGhlaWdodCwgd2lkdGhcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0QnJvd3NlclNjcm9sbFNpemUoYWN0dWFsU2l6ZSkge1xyXG5cclxuICAgICAgICBpZiAoYnJvd3Nlci53ZWJraXQgJiYgIWFjdHVhbFNpemUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IDAsXHJcbiAgICAgICAgICAgICAgICBcIndpZHRoXCI6IDBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYnJvd3Nlci5kYXRhLm91dGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBjc3MgPSB7XHJcbiAgICAgICAgICAgICAgICBcImJvcmRlclwiOiBcIm5vbmVcIixcclxuICAgICAgICAgICAgICAgIFwiYm94LXNpemluZ1wiOiBcImNvbnRlbnQtYm94XCIsXHJcbiAgICAgICAgICAgICAgICBcImhlaWdodFwiOiBcIjIwMHB4XCIsXHJcbiAgICAgICAgICAgICAgICBcIm1hcmdpblwiOiBcIjBcIixcclxuICAgICAgICAgICAgICAgIFwicGFkZGluZ1wiOiBcIjBcIixcclxuICAgICAgICAgICAgICAgIFwid2lkdGhcIjogXCIyMDBweFwiXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGJyb3dzZXIuZGF0YS5pbm5lciA9ICQoXCI8ZGl2PlwiKS5jc3MoJC5leHRlbmQoe30sIGNzcykpO1xyXG4gICAgICAgICAgICBicm93c2VyLmRhdGEub3V0ZXIgPSAkKFwiPGRpdj5cIikuY3NzKCQuZXh0ZW5kKHtcclxuICAgICAgICAgICAgICAgIFwibGVmdFwiOiBcIi0xMDAwcHhcIixcclxuICAgICAgICAgICAgICAgIFwib3ZlcmZsb3dcIjogXCJzY3JvbGxcIixcclxuICAgICAgICAgICAgICAgIFwicG9zaXRpb25cIjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0b3BcIjogXCItMTAwMHB4XCJcclxuICAgICAgICAgICAgfSwgY3NzKSkuYXBwZW5kKGJyb3dzZXIuZGF0YS5pbm5lcikuYXBwZW5kVG8oXCJib2R5XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJvd3Nlci5kYXRhLm91dGVyLnNjcm9sbExlZnQoMTAwMCkuc2Nyb2xsVG9wKDEwMDApO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBcImhlaWdodFwiOiBNYXRoLmNlaWwoKGJyb3dzZXIuZGF0YS5vdXRlci5vZmZzZXQoKS50b3AgLSBicm93c2VyLmRhdGEuaW5uZXIub2Zmc2V0KCkudG9wKSB8fCAwKSxcclxuICAgICAgICAgICAgXCJ3aWR0aFwiOiBNYXRoLmNlaWwoKGJyb3dzZXIuZGF0YS5vdXRlci5vZmZzZXQoKS5sZWZ0IC0gYnJvd3Nlci5kYXRhLmlubmVyLm9mZnNldCgpLmxlZnQpIHx8IDApXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIG5hdGl2ZSBicm93c2VyIHNjcm9sbGJhcnMgb3ZlcmxheSBjb250ZW50XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGlzU2Nyb2xsT3ZlcmxheXNDb250ZW50KCkge1xyXG4gICAgICAgIHZhciBzY3JvbGxTaXplID0gZ2V0QnJvd3NlclNjcm9sbFNpemUodHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuICEoc2Nyb2xsU2l6ZS5oZWlnaHQgfHwgc2Nyb2xsU2l6ZS53aWR0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNWZXJ0aWNhbFNjcm9sbChldmVudCkge1xyXG4gICAgICAgIHZhciBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuICAgICAgICBpZiAoZS5heGlzICYmIGUuYXhpcyA9PT0gZS5IT1JJWk9OVEFMX0FYSVMpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAoZS53aGVlbERlbHRhWClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4dGVuZCBBbmd1bGFySlMgYXMgVUkgZGlyZWN0aXZlXHJcbiAgICAgKiBhbmQgZXhwb3NlIGEgcHJvdmlkZXIgZm9yIG92ZXJyaWRlIGRlZmF1bHQgY29uZmlnXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBpZiAod2luZG93LmFuZ3VsYXIpIHtcclxuICAgICAgICAoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2pRdWVyeVNjcm9sbGJhcicsIFtdKVxyXG4gICAgICAgICAgICAgICAgLnByb3ZpZGVyKCdqUXVlcnlTY3JvbGxiYXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRPcHRpb25zID0gZGVmYXVsdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBhbmd1bGFyLmNvcHkoZGVmYXVsdE9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZGlyZWN0aXZlKCdqcXVlcnlTY3JvbGxiYXInLCBbJ2pRdWVyeVNjcm9sbGJhcicsICckcGFyc2UnLCBmdW5jdGlvbiAoalF1ZXJ5U2Nyb2xsYmFyLCAkcGFyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlc3RyaWN0XCI6IFwiQUNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsaW5rXCI6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9ICRwYXJzZShhdHRycy5qcXVlcnlTY3JvbGxiYXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBtb2RlbChzY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNjcm9sbGJhcihvcHRpb25zIHx8IGpRdWVyeVNjcm9sbGJhci5vcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsYmFyKCdkZXN0cm95Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgIH0pKHdpbmRvdy5hbmd1bGFyKTtcclxuICAgIH1cclxufSkpO1xyXG4iLCIvKipcclxuKiBDdXN0b21pemVkIHZlcnNpb24gb2YgaVNjcm9sbC5qcyAwLjAuOFxyXG4qIEl0IGZpeGVzIGJ1Z3MgYWZmZWN0aW5nIGl0cyBpbnRlZ3JhdGlvbiB3aXRoIGZ1bGxwYWdlLmpzXHJcbiogQGxpY2Vuc2VcclxuKi9cclxuLyohIGlTY3JvbGwgdjUuMi4wIH4gKGMpIDIwMDgtMjAxNiBNYXR0ZW8gU3BpbmVsbGkgfiBodHRwOi8vY3ViaXEub3JnL2xpY2Vuc2UgKi9cclxuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50LCBNYXRoKSB7XHJcbnZhciByQUYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICB8fFxyXG4gICAgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSAgfHxcclxuICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgIHx8XHJcbiAgICB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgICB8fFxyXG4gICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICAgfHxcclxuICAgIGZ1bmN0aW9uIChjYWxsYmFjaykgeyB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTsgfTtcclxuXHJcbnZhciB1dGlscyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbWUgPSB7fTtcclxuXHJcbiAgICB2YXIgX2VsZW1lbnRTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlO1xyXG4gICAgdmFyIF92ZW5kb3IgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2ZW5kb3JzID0gWyd0JywgJ3dlYmtpdFQnLCAnTW96VCcsICdtc1QnLCAnT1QnXSxcclxuICAgICAgICAgICAgdHJhbnNmb3JtLFxyXG4gICAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgICAgbCA9IHZlbmRvcnMubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKCA7IGkgPCBsOyBpKysgKSB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybSA9IHZlbmRvcnNbaV0gKyAncmFuc2Zvcm0nO1xyXG4gICAgICAgICAgICBpZiAoIHRyYW5zZm9ybSBpbiBfZWxlbWVudFN0eWxlICkgcmV0dXJuIHZlbmRvcnNbaV0uc3Vic3RyKDAsIHZlbmRvcnNbaV0ubGVuZ3RoLTEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBfcHJlZml4U3R5bGUgKHN0eWxlKSB7XHJcbiAgICAgICAgaWYgKCBfdmVuZG9yID09PSBmYWxzZSApIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAoIF92ZW5kb3IgPT09ICcnICkgcmV0dXJuIHN0eWxlO1xyXG4gICAgICAgIHJldHVybiBfdmVuZG9yICsgc3R5bGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHlsZS5zdWJzdHIoMSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWUuZ2V0VGltZSA9IERhdGUubm93IHx8IGZ1bmN0aW9uIGdldFRpbWUgKCkgeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7IH07XHJcblxyXG4gICAgbWUuZXh0ZW5kID0gZnVuY3Rpb24gKHRhcmdldCwgb2JqKSB7XHJcbiAgICAgICAgZm9yICggdmFyIGkgaW4gb2JqICkge1xyXG4gICAgICAgICAgICB0YXJnZXRbaV0gPSBvYmpbaV07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBtZS5hZGRFdmVudCA9IGZ1bmN0aW9uIChlbCwgdHlwZSwgZm4sIGNhcHR1cmUpIHtcclxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCAhIWNhcHR1cmUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uIChlbCwgdHlwZSwgZm4sIGNhcHR1cmUpIHtcclxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuLCAhIWNhcHR1cmUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5wcmVmaXhQb2ludGVyRXZlbnQgPSBmdW5jdGlvbiAocG9pbnRlckV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5NU1BvaW50ZXJFdmVudCA/XHJcbiAgICAgICAgICAgICdNU1BvaW50ZXInICsgcG9pbnRlckV2ZW50LmNoYXJBdCg3KS50b1VwcGVyQ2FzZSgpICsgcG9pbnRlckV2ZW50LnN1YnN0cig4KTpcclxuICAgICAgICAgICAgcG9pbnRlckV2ZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5tb21lbnR1bSA9IGZ1bmN0aW9uIChjdXJyZW50LCBzdGFydCwgdGltZSwgbG93ZXJNYXJnaW4sIHdyYXBwZXJTaXplLCBkZWNlbGVyYXRpb24pIHtcclxuICAgICAgICB2YXIgZGlzdGFuY2UgPSBjdXJyZW50IC0gc3RhcnQsXHJcbiAgICAgICAgICAgIHNwZWVkID0gTWF0aC5hYnMoZGlzdGFuY2UpIC8gdGltZSxcclxuICAgICAgICAgICAgZGVzdGluYXRpb24sXHJcbiAgICAgICAgICAgIGR1cmF0aW9uO1xyXG5cclxuICAgICAgICBkZWNlbGVyYXRpb24gPSBkZWNlbGVyYXRpb24gPT09IHVuZGVmaW5lZCA/IDAuMDAwNiA6IGRlY2VsZXJhdGlvbjtcclxuXHJcbiAgICAgICAgZGVzdGluYXRpb24gPSBjdXJyZW50ICsgKCBzcGVlZCAqIHNwZWVkICkgLyAoIDIgKiBkZWNlbGVyYXRpb24gKSAqICggZGlzdGFuY2UgPCAwID8gLTEgOiAxICk7XHJcbiAgICAgICAgZHVyYXRpb24gPSBzcGVlZCAvIGRlY2VsZXJhdGlvbjtcclxuXHJcbiAgICAgICAgaWYgKCBkZXN0aW5hdGlvbiA8IGxvd2VyTWFyZ2luICkge1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbiA9IHdyYXBwZXJTaXplID8gbG93ZXJNYXJnaW4gLSAoIHdyYXBwZXJTaXplIC8gMi41ICogKCBzcGVlZCAvIDggKSApIDogbG93ZXJNYXJnaW47XHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoZGVzdGluYXRpb24gLSBjdXJyZW50KTtcclxuICAgICAgICAgICAgZHVyYXRpb24gPSBkaXN0YW5jZSAvIHNwZWVkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIGRlc3RpbmF0aW9uID4gMCApIHtcclxuICAgICAgICAgICAgZGVzdGluYXRpb24gPSB3cmFwcGVyU2l6ZSA/IHdyYXBwZXJTaXplIC8gMi41ICogKCBzcGVlZCAvIDggKSA6IDA7XHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoY3VycmVudCkgKyBkZXN0aW5hdGlvbjtcclxuICAgICAgICAgICAgZHVyYXRpb24gPSBkaXN0YW5jZSAvIHNwZWVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGVzdGluYXRpb246IE1hdGgucm91bmQoZGVzdGluYXRpb24pLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb25cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgX3RyYW5zZm9ybSA9IF9wcmVmaXhTdHlsZSgndHJhbnNmb3JtJyk7XHJcblxyXG4gICAgbWUuZXh0ZW5kKG1lLCB7XHJcbiAgICAgICAgaGFzVHJhbnNmb3JtOiBfdHJhbnNmb3JtICE9PSBmYWxzZSxcclxuICAgICAgICBoYXNQZXJzcGVjdGl2ZTogX3ByZWZpeFN0eWxlKCdwZXJzcGVjdGl2ZScpIGluIF9lbGVtZW50U3R5bGUsXHJcbiAgICAgICAgaGFzVG91Y2g6ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyxcclxuICAgICAgICBoYXNQb2ludGVyOiAhISh3aW5kb3cuUG9pbnRlckV2ZW50IHx8IHdpbmRvdy5NU1BvaW50ZXJFdmVudCksIC8vIElFMTAgaXMgcHJlZml4ZWRcclxuICAgICAgICBoYXNUcmFuc2l0aW9uOiBfcHJlZml4U3R5bGUoJ3RyYW5zaXRpb24nKSBpbiBfZWxlbWVudFN0eWxlXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKlxyXG4gICAgVGhpcyBzaG91bGQgZmluZCBhbGwgQW5kcm9pZCBicm93c2VycyBsb3dlciB0aGFuIGJ1aWxkIDUzNS4xOSAoYm90aCBzdG9jayBicm93c2VyIGFuZCB3ZWJ2aWV3KVxyXG4gICAgLSBnYWxheHkgUzIgaXMgb2tcclxuICAgIC0gMi4zLjYgOiBgQXBwbGVXZWJLaXQvNTMzLjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzMy4xYFxyXG4gICAgLSA0LjAuNCA6IGBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMGBcclxuICAgLSBnYWxheHkgUzMgaXMgYmFkQW5kcm9pZCAoc3RvY2sgYnJvd2VyLCB3ZWJ2aWV3KVxyXG4gICAgIGBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMGBcclxuICAgLSBnYWxheHkgUzQgaXMgYmFkQW5kcm9pZCAoc3RvY2sgYnJvd2VyLCB3ZWJ2aWV3KVxyXG4gICAgIGBBcHBsZVdlYktpdC81MzQuMzAgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNC4zMGBcclxuICAgLSBnYWxheHkgUzUgaXMgT0tcclxuICAgICBgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTW9iaWxlIFNhZmFyaS81MzcuMzYgKENocm9tZS8pYFxyXG4gICAtIGdhbGF4eSBTNiBpcyBPS1xyXG4gICAgIGBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNiAoQ2hyb21lLylgXHJcbiAgKi9cclxuICAgIG1lLmlzQmFkQW5kcm9pZCA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgYXBwVmVyc2lvbiA9IHdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbjtcclxuICAgICAgICAvLyBBbmRyb2lkIGJyb3dzZXIgaXMgbm90IGEgY2hyb21lIGJyb3dzZXIuXHJcbiAgICAgICAgaWYgKC9BbmRyb2lkLy50ZXN0KGFwcFZlcnNpb24pICYmICEoL0Nocm9tZVxcL1xcZC8udGVzdChhcHBWZXJzaW9uKSkpIHtcclxuICAgICAgICAgICAgdmFyIHNhZmFyaVZlcnNpb24gPSBhcHBWZXJzaW9uLm1hdGNoKC9TYWZhcmlcXC8oXFxkKy5cXGQpLyk7XHJcbiAgICAgICAgICAgIGlmKHNhZmFyaVZlcnNpb24gJiYgdHlwZW9mIHNhZmFyaVZlcnNpb24gPT09IFwib2JqZWN0XCIgJiYgc2FmYXJpVmVyc2lvbi5sZW5ndGggPj0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoc2FmYXJpVmVyc2lvblsxXSkgPCA1MzUuMTk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIG1lLmV4dGVuZChtZS5zdHlsZSA9IHt9LCB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiBfdHJhbnNmb3JtLFxyXG4gICAgICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogX3ByZWZpeFN0eWxlKCd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nKSxcclxuICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IF9wcmVmaXhTdHlsZSgndHJhbnNpdGlvbkR1cmF0aW9uJyksXHJcbiAgICAgICAgdHJhbnNpdGlvbkRlbGF5OiBfcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25EZWxheScpLFxyXG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogX3ByZWZpeFN0eWxlKCd0cmFuc2Zvcm1PcmlnaW4nKVxyXG4gICAgfSk7XHJcblxyXG4gICAgbWUuaGFzQ2xhc3MgPSBmdW5jdGlvbiAoZSwgYykge1xyXG4gICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGMgKyBcIihcXFxcc3wkKVwiKTtcclxuICAgICAgICByZXR1cm4gcmUudGVzdChlLmNsYXNzTmFtZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIG1lLmFkZENsYXNzID0gZnVuY3Rpb24gKGUsIGMpIHtcclxuICAgICAgICBpZiAoIG1lLmhhc0NsYXNzKGUsIGMpICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbmV3Y2xhc3MgPSBlLmNsYXNzTmFtZS5zcGxpdCgnICcpO1xyXG4gICAgICAgIG5ld2NsYXNzLnB1c2goYyk7XHJcbiAgICAgICAgZS5jbGFzc05hbWUgPSBuZXdjbGFzcy5qb2luKCcgJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIG1lLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24gKGUsIGMpIHtcclxuICAgICAgICBpZiAoICFtZS5oYXNDbGFzcyhlLCBjKSApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgYyArIFwiKFxcXFxzfCQpXCIsICdnJyk7XHJcbiAgICAgICAgZS5jbGFzc05hbWUgPSBlLmNsYXNzTmFtZS5yZXBsYWNlKHJlLCAnICcpO1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5vZmZzZXQgPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICB2YXIgbGVmdCA9IC1lbC5vZmZzZXRMZWZ0LFxyXG4gICAgICAgICAgICB0b3AgPSAtZWwub2Zmc2V0VG9wO1xyXG5cclxuICAgICAgICAvLyBqc2hpbnQgLVcwODRcclxuICAgICAgICB3aGlsZSAoZWwgPSBlbC5vZmZzZXRQYXJlbnQpIHtcclxuICAgICAgICAgICAgbGVmdCAtPSBlbC5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICB0b3AgLT0gZWwub2Zmc2V0VG9wO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBqc2hpbnQgK1cwODRcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGVmdDogbGVmdCxcclxuICAgICAgICAgICAgdG9wOiB0b3BcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChlbCwgZXhjZXB0aW9ucykge1xyXG4gICAgICAgIGZvciAoIHZhciBpIGluIGV4Y2VwdGlvbnMgKSB7XHJcbiAgICAgICAgICAgIGlmICggZXhjZXB0aW9uc1tpXS50ZXN0KGVsW2ldKSApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIG1lLmV4dGVuZChtZS5ldmVudFR5cGUgPSB7fSwge1xyXG4gICAgICAgIHRvdWNoc3RhcnQ6IDEsXHJcbiAgICAgICAgdG91Y2htb3ZlOiAxLFxyXG4gICAgICAgIHRvdWNoZW5kOiAxLFxyXG5cclxuICAgICAgICBtb3VzZWRvd246IDIsXHJcbiAgICAgICAgbW91c2Vtb3ZlOiAyLFxyXG4gICAgICAgIG1vdXNldXA6IDIsXHJcblxyXG4gICAgICAgIHBvaW50ZXJkb3duOiAzLFxyXG4gICAgICAgIHBvaW50ZXJtb3ZlOiAzLFxyXG4gICAgICAgIHBvaW50ZXJ1cDogMyxcclxuXHJcbiAgICAgICAgTVNQb2ludGVyRG93bjogMyxcclxuICAgICAgICBNU1BvaW50ZXJNb3ZlOiAzLFxyXG4gICAgICAgIE1TUG9pbnRlclVwOiAzXHJcbiAgICB9KTtcclxuXHJcbiAgICBtZS5leHRlbmQobWUuZWFzZSA9IHt9LCB7XHJcbiAgICAgICAgcXVhZHJhdGljOiB7XHJcbiAgICAgICAgICAgIHN0eWxlOiAnY3ViaWMtYmV6aWVyKDAuMjUsIDAuNDYsIDAuNDUsIDAuOTQpJyxcclxuICAgICAgICAgICAgZm46IGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gayAqICggMiAtIGsgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2lyY3VsYXI6IHtcclxuICAgICAgICAgICAgc3R5bGU6ICdjdWJpYy1iZXppZXIoMC4xLCAwLjU3LCAwLjEsIDEpJywgICAvLyBOb3QgcHJvcGVybHkgXCJjaXJjdWxhclwiIGJ1dCB0aGlzIGxvb2tzIGJldHRlciwgaXQgc2hvdWxkIGJlICgwLjA3NSwgMC44MiwgMC4xNjUsIDEpXHJcbiAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCggMSAtICggLS1rICogayApICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2s6IHtcclxuICAgICAgICAgICAgc3R5bGU6ICdjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSknLFxyXG4gICAgICAgICAgICBmbjogZnVuY3Rpb24gKGspIHtcclxuICAgICAgICAgICAgICAgIHZhciBiID0gNDtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoIGsgPSBrIC0gMSApICogayAqICggKCBiICsgMSApICogayArIGIgKSArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvdW5jZToge1xyXG4gICAgICAgICAgICBzdHlsZTogJycsXHJcbiAgICAgICAgICAgIGZuOiBmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCAoIGsgLz0gMSApIDwgKCAxIC8gMi43NSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA3LjU2MjUgKiBrICogaztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGsgPCAoIDIgLyAyLjc1ICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDEuNSAvIDIuNzUgKSApICogayArIDAuNzU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBrIDwgKCAyLjUgLyAyLjc1ICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICggayAtPSAoIDIuMjUgLyAyLjc1ICkgKSAqIGsgKyAwLjkzNzU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA3LjU2MjUgKiAoIGsgLT0gKCAyLjYyNSAvIDIuNzUgKSApICogayArIDAuOTg0Mzc1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbGFzdGljOiB7XHJcbiAgICAgICAgICAgIHN0eWxlOiAnJyxcclxuICAgICAgICAgICAgZm46IGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZiA9IDAuMjIsXHJcbiAgICAgICAgICAgICAgICAgICAgZSA9IDAuNDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIGsgPT09IDAgKSB7IHJldHVybiAwOyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIGsgPT0gMSApIHsgcmV0dXJuIDE7IH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCBlICogTWF0aC5wb3coIDIsIC0gMTAgKiBrICkgKiBNYXRoLnNpbiggKCBrIC0gZiAvIDQgKSAqICggMiAqIE1hdGguUEkgKSAvIGYgKSArIDEgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIG1lLnRhcCA9IGZ1bmN0aW9uIChlLCBldmVudE5hbWUpIHtcclxuICAgICAgICB2YXIgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcclxuICAgICAgICBldi5pbml0RXZlbnQoZXZlbnROYW1lLCB0cnVlLCB0cnVlKTtcclxuICAgICAgICBldi5wYWdlWCA9IGUucGFnZVg7XHJcbiAgICAgICAgZXYucGFnZVkgPSBlLnBhZ2VZO1xyXG4gICAgICAgIGUudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXYpO1xyXG4gICAgfTtcclxuXHJcbiAgICBtZS5jbGljayA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0LFxyXG4gICAgICAgICAgICBldjtcclxuXHJcbiAgICAgICAgaWYgKCAhKC8oU0VMRUNUfElOUFVUfFRFWFRBUkVBKS9pKS50ZXN0KHRhcmdldC50YWdOYW1lKSApIHtcclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvaW5pdE1vdXNlRXZlbnRcclxuICAgICAgICAgICAgLy8gaW5pdE1vdXNlRXZlbnQgaXMgZGVwcmVjYXRlZC5cclxuICAgICAgICAgICAgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCh3aW5kb3cuTW91c2VFdmVudCA/ICdNb3VzZUV2ZW50cycgOiAnRXZlbnQnKTtcclxuICAgICAgICAgICAgZXYuaW5pdEV2ZW50KCdjbGljaycsIHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICBldi52aWV3ID0gZS52aWV3IHx8IHdpbmRvdztcclxuICAgICAgICAgICAgZXYuZGV0YWlsID0gMTtcclxuICAgICAgICAgICAgZXYuc2NyZWVuWCA9IHRhcmdldC5zY3JlZW5YIHx8IDA7XHJcbiAgICAgICAgICAgIGV2LnNjcmVlblkgPSB0YXJnZXQuc2NyZWVuWSB8fCAwO1xyXG4gICAgICAgICAgICBldi5jbGllbnRYID0gdGFyZ2V0LmNsaWVudFggfHwgMDtcclxuICAgICAgICAgICAgZXYuY2xpZW50WSA9IHRhcmdldC5jbGllbnRZIHx8IDA7XHJcbiAgICAgICAgICAgIGV2LmN0cmxLZXkgPSAhIWUuY3RybEtleTtcclxuICAgICAgICAgICAgZXYuYWx0S2V5ID0gISFlLmFsdEtleTtcclxuICAgICAgICAgICAgZXYuc2hpZnRLZXkgPSAhIWUuc2hpZnRLZXk7XHJcbiAgICAgICAgICAgIGV2Lm1ldGFLZXkgPSAhIWUubWV0YUtleTtcclxuICAgICAgICAgICAgZXYuYnV0dG9uID0gMDtcclxuICAgICAgICAgICAgZXYucmVsYXRlZFRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgICAgIGV2Ll9jb25zdHJ1Y3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBtZTtcclxufSkoKTtcclxuZnVuY3Rpb24gSVNjcm9sbCAoZWwsIG9wdGlvbnMpIHtcclxuICAgIHRoaXMud3JhcHBlciA9IHR5cGVvZiBlbCA9PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpIDogZWw7XHJcbiAgICB0aGlzLnNjcm9sbGVyID0gdGhpcy53cmFwcGVyLmNoaWxkcmVuWzBdO1xyXG4gICAgdGhpcy5zY3JvbGxlclN0eWxlID0gdGhpcy5zY3JvbGxlci5zdHlsZTsgICAgICAgLy8gY2FjaGUgc3R5bGUgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuXHJcbiAgICAgICAgcmVzaXplU2Nyb2xsYmFyczogdHJ1ZSxcclxuXHJcbiAgICAgICAgbW91c2VXaGVlbFNwZWVkOiAyMCxcclxuXHJcbiAgICAgICAgc25hcFRocmVzaG9sZDogMC4zMzQsXHJcblxyXG4vLyBJTlNFUlQgUE9JTlQ6IE9QVElPTlNcclxuICAgICAgICBkaXNhYmxlUG9pbnRlciA6ICF1dGlscy5oYXNQb2ludGVyLFxyXG4gICAgICAgIGRpc2FibGVUb3VjaCA6IHV0aWxzLmhhc1BvaW50ZXIgfHwgIXV0aWxzLmhhc1RvdWNoLFxyXG4gICAgICAgIGRpc2FibGVNb3VzZSA6IHV0aWxzLmhhc1BvaW50ZXIgfHwgdXRpbHMuaGFzVG91Y2gsXHJcbiAgICAgICAgc3RhcnRYOiAwLFxyXG4gICAgICAgIHN0YXJ0WTogMCxcclxuICAgICAgICBzY3JvbGxZOiB0cnVlLFxyXG4gICAgICAgIGRpcmVjdGlvbkxvY2tUaHJlc2hvbGQ6IDUsXHJcbiAgICAgICAgbW9tZW50dW06IHRydWUsXHJcblxyXG4gICAgICAgIGJvdW5jZTogdHJ1ZSxcclxuICAgICAgICBib3VuY2VUaW1lOiA2MDAsXHJcbiAgICAgICAgYm91bmNlRWFzaW5nOiAnJyxcclxuXHJcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IHRydWUsXHJcbiAgICAgICAgcHJldmVudERlZmF1bHRFeGNlcHRpb246IHsgdGFnTmFtZTogL14oSU5QVVR8VEVYVEFSRUF8QlVUVE9OfFNFTEVDVHxMQUJFTCkkLyB9LFxyXG5cclxuICAgICAgICBIV0NvbXBvc2l0aW5nOiB0cnVlLFxyXG4gICAgICAgIHVzZVRyYW5zaXRpb246IHRydWUsXHJcbiAgICAgICAgdXNlVHJhbnNmb3JtOiB0cnVlLFxyXG4gICAgICAgIGJpbmRUb1dyYXBwZXI6IHR5cGVvZiB3aW5kb3cub25tb3VzZWRvd24gPT09IFwidW5kZWZpbmVkXCJcclxuICAgIH07XHJcblxyXG4gICAgZm9yICggdmFyIGkgaW4gb3B0aW9ucyApIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnNbaV0gPSBvcHRpb25zW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vcm1hbGl6ZSBvcHRpb25zXHJcbiAgICB0aGlzLnRyYW5zbGF0ZVogPSB0aGlzLm9wdGlvbnMuSFdDb21wb3NpdGluZyAmJiB1dGlscy5oYXNQZXJzcGVjdGl2ZSA/ICcgdHJhbnNsYXRlWigwKScgOiAnJztcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiA9IHV0aWxzLmhhc1RyYW5zaXRpb24gJiYgdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb247XHJcbiAgICB0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtID0gdXRpbHMuaGFzVHJhbnNmb3JtICYmIHRoaXMub3B0aW9ucy51c2VUcmFuc2Zvcm07XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPSB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PT0gdHJ1ZSA/ICd2ZXJ0aWNhbCcgOiB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaDtcclxuICAgIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9ICF0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCAmJiB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQ7XHJcblxyXG4gICAgLy8gSWYgeW91IHdhbnQgZXZlbnRQYXNzdGhyb3VnaCBJIGhhdmUgdG8gbG9jayBvbmUgb2YgdGhlIGF4ZXNcclxuICAgIHRoaXMub3B0aW9ucy5zY3JvbGxZID0gdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT0gJ3ZlcnRpY2FsJyA/IGZhbHNlIDogdGhpcy5vcHRpb25zLnNjcm9sbFk7XHJcbiAgICB0aGlzLm9wdGlvbnMuc2Nyb2xsWCA9IHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID09ICdob3Jpem9udGFsJyA/IGZhbHNlIDogdGhpcy5vcHRpb25zLnNjcm9sbFg7XHJcblxyXG4gICAgLy8gV2l0aCBldmVudFBhc3N0aHJvdWdoIHdlIGFsc28gbmVlZCBsb2NrRGlyZWN0aW9uIG1lY2hhbmlzbVxyXG4gICAgdGhpcy5vcHRpb25zLmZyZWVTY3JvbGwgPSB0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCAmJiAhdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2g7XHJcbiAgICB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCA9IHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID8gMCA6IHRoaXMub3B0aW9ucy5kaXJlY3Rpb25Mb2NrVGhyZXNob2xkO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucy5ib3VuY2VFYXNpbmcgPSB0eXBlb2YgdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZyA9PSAnc3RyaW5nJyA/IHV0aWxzLmVhc2VbdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZ10gfHwgdXRpbHMuZWFzZS5jaXJjdWxhciA6IHRoaXMub3B0aW9ucy5ib3VuY2VFYXNpbmc7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLnJlc2l6ZVBvbGxpbmcgPSB0aGlzLm9wdGlvbnMucmVzaXplUG9sbGluZyA9PT0gdW5kZWZpbmVkID8gNjAgOiB0aGlzLm9wdGlvbnMucmVzaXplUG9sbGluZztcclxuXHJcbiAgICBpZiAoIHRoaXMub3B0aW9ucy50YXAgPT09IHRydWUgKSB7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLnRhcCA9ICd0YXAnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jdWJpcS9pc2Nyb2xsL2lzc3Vlcy8xMDI5XHJcbiAgICBpZiAoIXRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uICYmICF0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtKSB7XHJcbiAgICAgICAgaWYoISgvcmVsYXRpdmV8YWJzb2x1dGUvaSkudGVzdCh0aGlzLnNjcm9sbGVyU3R5bGUucG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJTdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0aGlzLm9wdGlvbnMuc2hyaW5rU2Nyb2xsYmFycyA9PSAnc2NhbGUnICkge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmludmVydFdoZWVsRGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmludmVydFdoZWVsRGlyZWN0aW9uID8gLTEgOiAxO1xyXG5cclxuLy8gSU5TRVJUIFBPSU5UOiBOT1JNQUxJWkFUSU9OXHJcblxyXG4gICAgLy8gU29tZSBkZWZhdWx0c1xyXG4gICAgdGhpcy54ID0gMDtcclxuICAgIHRoaXMueSA9IDA7XHJcbiAgICB0aGlzLmRpcmVjdGlvblggPSAwO1xyXG4gICAgdGhpcy5kaXJlY3Rpb25ZID0gMDtcclxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xyXG5cclxuLy8gSU5TRVJUIFBPSU5UOiBERUZBVUxUU1xyXG5cclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgIHRoaXMuc2Nyb2xsVG8odGhpcy5vcHRpb25zLnN0YXJ0WCwgdGhpcy5vcHRpb25zLnN0YXJ0WSk7XHJcbiAgICB0aGlzLmVuYWJsZSgpO1xyXG59XHJcblxyXG5JU2Nyb2xsLnByb3RvdHlwZSA9IHtcclxuICAgIHZlcnNpb246ICc1LjIuMCcsXHJcblxyXG4gICAgX2luaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9pbml0RXZlbnRzKCk7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLnNjcm9sbGJhcnMgfHwgdGhpcy5vcHRpb25zLmluZGljYXRvcnMgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRJbmRpY2F0b3JzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5tb3VzZVdoZWVsICkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0V2hlZWwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLnNuYXAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRTbmFwKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncyApIHtcclxuICAgICAgICAgICAgdGhpcy5faW5pdEtleXMoKTtcclxuICAgICAgICB9XHJcblxyXG4vLyBJTlNFUlQgUE9JTlQ6IF9pbml0XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5faW5pdEV2ZW50cyh0cnVlKTtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0KTtcclxuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2V4ZWNFdmVudCgnZGVzdHJveScpO1xyXG4gICAgfSxcclxuXHJcbiAgICBfdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoIGUudGFyZ2V0ICE9IHRoaXMuc2Nyb2xsZXIgfHwgIXRoaXMuaXNJblRyYW5zaXRpb24gKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25UaW1lKCk7XHJcbiAgICAgICAgaWYgKCAhdGhpcy5yZXNldFBvc2l0aW9uKHRoaXMub3B0aW9ucy5ib3VuY2VUaW1lKSApIHtcclxuICAgICAgICAgICAgdGhpcy5pc0luVHJhbnNpdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgX3N0YXJ0OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIC8vIFJlYWN0IHRvIGxlZnQgbW91c2UgYnV0dG9uIG9ubHlcclxuICAgICAgICBpZiAoIHV0aWxzLmV2ZW50VHlwZVtlLnR5cGVdICE9IDEgKSB7XHJcbiAgICAgICAgICAvLyBmb3IgYnV0dG9uIHByb3BlcnR5XHJcbiAgICAgICAgICAvLyBodHRwOi8vdW5peHBhcGEuY29tL2pzL21vdXNlLmh0bWxcclxuICAgICAgICAgIHZhciBidXR0b247XHJcbiAgICAgICAgaWYgKCFlLndoaWNoKSB7XHJcbiAgICAgICAgICAvKiBJRSBjYXNlICovXHJcbiAgICAgICAgICBidXR0b24gPSAoZS5idXR0b24gPCAyKSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgICAgKChlLmJ1dHRvbiA9PSA0KSA/IDEgOiAyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLyogQWxsIG90aGVycyAqL1xyXG4gICAgICAgICAgYnV0dG9uID0gZS5idXR0b247XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIGJ1dHRvbiAhPT0gMCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCAhdGhpcy5lbmFibGVkIHx8ICh0aGlzLmluaXRpYXRlZCAmJiB1dGlscy5ldmVudFR5cGVbZS50eXBlXSAhPT0gdGhpcy5pbml0aWF0ZWQpICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCAmJiAhdXRpbHMuaXNCYWRBbmRyb2lkICYmICF1dGlscy5wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbihlLnRhcmdldCwgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uKSApIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHBvaW50ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZSxcclxuICAgICAgICAgICAgcG9zO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRpYXRlZCAgPSB1dGlscy5ldmVudFR5cGVbZS50eXBlXTtcclxuICAgICAgICB0aGlzLm1vdmVkICAgICAgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmRpc3RYICAgICAgPSAwO1xyXG4gICAgICAgIHRoaXMuZGlzdFkgICAgICA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25YID0gMDtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvblkgPSAwO1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uTG9ja2VkID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSB1dGlscy5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgdGhpcy5pc0luVHJhbnNpdGlvbiApIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvblRpbWUoKTtcclxuICAgICAgICAgICAgdGhpcy5pc0luVHJhbnNpdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwb3MgPSB0aGlzLmdldENvbXB1dGVkUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5fdHJhbnNsYXRlKE1hdGgucm91bmQocG9zLngpLCBNYXRoLnJvdW5kKHBvcy55KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V4ZWNFdmVudCgnc2Nyb2xsRW5kJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICggIXRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uICYmIHRoaXMuaXNBbmltYXRpbmcgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdzY3JvbGxFbmQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnRYICAgID0gdGhpcy54O1xyXG4gICAgICAgIHRoaXMuc3RhcnRZICAgID0gdGhpcy55O1xyXG4gICAgICAgIHRoaXMuYWJzU3RhcnRYID0gdGhpcy54O1xyXG4gICAgICAgIHRoaXMuYWJzU3RhcnRZID0gdGhpcy55O1xyXG4gICAgICAgIHRoaXMucG9pbnRYICAgID0gcG9pbnQucGFnZVg7XHJcbiAgICAgICAgdGhpcy5wb2ludFkgICAgPSBwb2ludC5wYWdlWTtcclxuXHJcbiAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdiZWZvcmVTY3JvbGxTdGFydCcpO1xyXG4gICAgfSxcclxuXHJcbiAgICBfbW92ZTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoICF0aGlzLmVuYWJsZWQgfHwgdXRpbHMuZXZlbnRUeXBlW2UudHlwZV0gIT09IHRoaXMuaW5pdGlhdGVkICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCApIHsgICAgLy8gaW5jcmVhc2VzIHBlcmZvcm1hbmNlIG9uIEFuZHJvaWQ/IFRPRE86IGNoZWNrIVxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcG9pbnQgICAgICAgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlLFxyXG4gICAgICAgICAgICBkZWx0YVggICAgICA9IHBvaW50LnBhZ2VYIC0gdGhpcy5wb2ludFgsXHJcbiAgICAgICAgICAgIGRlbHRhWSAgICAgID0gcG9pbnQucGFnZVkgLSB0aGlzLnBvaW50WSxcclxuICAgICAgICAgICAgdGltZXN0YW1wICAgPSB1dGlscy5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgIG5ld1gsIG5ld1ksXHJcbiAgICAgICAgICAgIGFic0Rpc3RYLCBhYnNEaXN0WTtcclxuXHJcbiAgICAgICAgdGhpcy5wb2ludFggICAgID0gcG9pbnQucGFnZVg7XHJcbiAgICAgICAgdGhpcy5wb2ludFkgICAgID0gcG9pbnQucGFnZVk7XHJcblxyXG4gICAgICAgIHRoaXMuZGlzdFggICAgICArPSBkZWx0YVg7XHJcbiAgICAgICAgdGhpcy5kaXN0WSAgICAgICs9IGRlbHRhWTtcclxuICAgICAgICBhYnNEaXN0WCAgICAgICAgPSBNYXRoLmFicyh0aGlzLmRpc3RYKTtcclxuICAgICAgICBhYnNEaXN0WSAgICAgICAgPSBNYXRoLmFicyh0aGlzLmRpc3RZKTtcclxuXHJcbiAgICAgICAgLy8gV2UgbmVlZCB0byBtb3ZlIGF0IGxlYXN0IDEwIHBpeGVscyBmb3IgdGhlIHNjcm9sbGluZyB0byBpbml0aWF0ZVxyXG4gICAgICAgIGlmICggdGltZXN0YW1wIC0gdGhpcy5lbmRUaW1lID4gMzAwICYmIChhYnNEaXN0WCA8IDEwICYmIGFic0Rpc3RZIDwgMTApICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB5b3UgYXJlIHNjcm9sbGluZyBpbiBvbmUgZGlyZWN0aW9uIGxvY2sgdGhlIG90aGVyXHJcbiAgICAgICAgaWYgKCAhdGhpcy5kaXJlY3Rpb25Mb2NrZWQgJiYgIXRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsICkge1xyXG4gICAgICAgICAgICBpZiAoIGFic0Rpc3RYID4gYWJzRGlzdFkgKyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uTG9ja2VkID0gJ2gnOyAgICAgLy8gbG9jayBob3Jpem9udGFsbHlcclxuICAgICAgICAgICAgfSBlbHNlIGlmICggYWJzRGlzdFkgPj0gYWJzRGlzdFggKyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uTG9ja2VkID0gJ3YnOyAgICAgLy8gbG9jayB2ZXJ0aWNhbGx5XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9ICduJzsgICAgIC8vIG5vIGxvY2tcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9PSAnaCcgKSB7XHJcbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT0gJ3ZlcnRpY2FsJyApIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICggdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT0gJ2hvcml6b250YWwnICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsdGFZID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKCB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9PSAndicgKSB7XHJcbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT0gJ2hvcml6b250YWwnICkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PSAndmVydGljYWwnICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVsdGFYID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlbHRhWCA9IHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IGRlbHRhWCA6IDA7XHJcbiAgICAgICAgZGVsdGFZID0gdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCA/IGRlbHRhWSA6IDA7XHJcblxyXG4gICAgICAgIG5ld1ggPSB0aGlzLnggKyBkZWx0YVg7XHJcbiAgICAgICAgbmV3WSA9IHRoaXMueSArIGRlbHRhWTtcclxuXHJcbiAgICAgICAgLy8gU2xvdyBkb3duIGlmIG91dHNpZGUgb2YgdGhlIGJvdW5kYXJpZXNcclxuICAgICAgICBpZiAoIG5ld1ggPiAwIHx8IG5ld1ggPCB0aGlzLm1heFNjcm9sbFggKSB7XHJcbiAgICAgICAgICAgIG5ld1ggPSB0aGlzLm9wdGlvbnMuYm91bmNlID8gdGhpcy54ICsgZGVsdGFYIC8gMyA6IG5ld1ggPiAwID8gMCA6IHRoaXMubWF4U2Nyb2xsWDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCBuZXdZID4gMCB8fCBuZXdZIDwgdGhpcy5tYXhTY3JvbGxZICkge1xyXG4gICAgICAgICAgICBuZXdZID0gdGhpcy5vcHRpb25zLmJvdW5jZSA/IHRoaXMueSArIGRlbHRhWSAvIDMgOiBuZXdZID4gMCA/IDAgOiB0aGlzLm1heFNjcm9sbFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRpcmVjdGlvblggPSBkZWx0YVggPiAwID8gLTEgOiBkZWx0YVggPCAwID8gMSA6IDA7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25ZID0gZGVsdGFZID4gMCA/IC0xIDogZGVsdGFZIDwgMCA/IDEgOiAwO1xyXG5cclxuICAgICAgICBpZiAoICF0aGlzLm1vdmVkICkge1xyXG4gICAgICAgICAgICB0aGlzLl9leGVjRXZlbnQoJ3Njcm9sbFN0YXJ0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1vdmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRlKG5ld1gsIG5ld1kpO1xyXG5cclxuLyogUkVQTEFDRSBTVEFSVDogX21vdmUgKi9cclxuXHJcbiAgICAgICAgaWYgKCB0aW1lc3RhbXAgLSB0aGlzLnN0YXJ0VGltZSA+IDMwMCApIHtcclxuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRYID0gdGhpcy54O1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0WSA9IHRoaXMueTtcclxuICAgICAgICB9XHJcblxyXG4vKiBSRVBMQUNFIEVORDogX21vdmUgKi9cclxuXHJcbiAgICB9LFxyXG5cclxuICAgIF9lbmQ6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKCAhdGhpcy5lbmFibGVkIHx8IHV0aWxzLmV2ZW50VHlwZVtlLnR5cGVdICE9PSB0aGlzLmluaXRpYXRlZCApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQgJiYgIXV0aWxzLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uKGUudGFyZ2V0LCB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHRFeGNlcHRpb24pICkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcG9pbnQgPSBlLmNoYW5nZWRUb3VjaGVzID8gZS5jaGFuZ2VkVG91Y2hlc1swXSA6IGUsXHJcbiAgICAgICAgICAgIG1vbWVudHVtWCxcclxuICAgICAgICAgICAgbW9tZW50dW1ZLFxyXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHV0aWxzLmdldFRpbWUoKSAtIHRoaXMuc3RhcnRUaW1lLFxyXG4gICAgICAgICAgICBuZXdYID0gTWF0aC5yb3VuZCh0aGlzLngpLFxyXG4gICAgICAgICAgICBuZXdZID0gTWF0aC5yb3VuZCh0aGlzLnkpLFxyXG4gICAgICAgICAgICBkaXN0YW5jZVggPSBNYXRoLmFicyhuZXdYIC0gdGhpcy5zdGFydFgpLFxyXG4gICAgICAgICAgICBkaXN0YW5jZVkgPSBNYXRoLmFicyhuZXdZIC0gdGhpcy5zdGFydFkpLFxyXG4gICAgICAgICAgICB0aW1lID0gMCxcclxuICAgICAgICAgICAgZWFzaW5nID0gJyc7XHJcblxyXG4gICAgICAgIHRoaXMuaXNJblRyYW5zaXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhdGVkID0gMDtcclxuICAgICAgICB0aGlzLmVuZFRpbWUgPSB1dGlscy5nZXRUaW1lKCk7XHJcblxyXG4gICAgICAgIC8vIHJlc2V0IGlmIHdlIGFyZSBvdXRzaWRlIG9mIHRoZSBib3VuZGFyaWVzXHJcbiAgICAgICAgaWYgKCB0aGlzLnJlc2V0UG9zaXRpb24odGhpcy5vcHRpb25zLmJvdW5jZVRpbWUpICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1kpOyAgLy8gZW5zdXJlcyB0aGF0IHRoZSBsYXN0IHBvc2l0aW9uIGlzIHJvdW5kZWRcclxuXHJcbiAgICAgICAgLy8gd2Ugc2Nyb2xsZWQgbGVzcyB0aGFuIDEwIHBpeGVsc1xyXG4gICAgICAgIGlmICggIXRoaXMubW92ZWQgKSB7XHJcbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnRhcCApIHtcclxuICAgICAgICAgICAgICAgIHV0aWxzLnRhcChlLCB0aGlzLm9wdGlvbnMudGFwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuY2xpY2sgKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlscy5jbGljayhlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdzY3JvbGxDYW5jZWwnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLl9ldmVudHMuZmxpY2sgJiYgZHVyYXRpb24gPCAyMDAgJiYgZGlzdGFuY2VYIDwgMTAwICYmIGRpc3RhbmNlWSA8IDEwMCApIHtcclxuICAgICAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdmbGljaycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzdGFydCBtb21lbnR1bSBhbmltYXRpb24gaWYgbmVlZGVkXHJcbiAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMubW9tZW50dW0gJiYgZHVyYXRpb24gPCAzMDAgKSB7XHJcbiAgICAgICAgICAgIG1vbWVudHVtWCA9IHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IHV0aWxzLm1vbWVudHVtKHRoaXMueCwgdGhpcy5zdGFydFgsIGR1cmF0aW9uLCB0aGlzLm1heFNjcm9sbFgsIHRoaXMub3B0aW9ucy5ib3VuY2UgPyB0aGlzLndyYXBwZXJXaWR0aCA6IDAsIHRoaXMub3B0aW9ucy5kZWNlbGVyYXRpb24pIDogeyBkZXN0aW5hdGlvbjogbmV3WCwgZHVyYXRpb246IDAgfTtcclxuICAgICAgICAgICAgbW9tZW50dW1ZID0gdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCA/IHV0aWxzLm1vbWVudHVtKHRoaXMueSwgdGhpcy5zdGFydFksIGR1cmF0aW9uLCB0aGlzLm1heFNjcm9sbFksIHRoaXMub3B0aW9ucy5ib3VuY2UgPyB0aGlzLndyYXBwZXJIZWlnaHQgOiAwLCB0aGlzLm9wdGlvbnMuZGVjZWxlcmF0aW9uKSA6IHsgZGVzdGluYXRpb246IG5ld1ksIGR1cmF0aW9uOiAwIH07XHJcbiAgICAgICAgICAgIG5ld1ggPSBtb21lbnR1bVguZGVzdGluYXRpb247XHJcbiAgICAgICAgICAgIG5ld1kgPSBtb21lbnR1bVkuZGVzdGluYXRpb247XHJcbiAgICAgICAgICAgIHRpbWUgPSBNYXRoLm1heChtb21lbnR1bVguZHVyYXRpb24sIG1vbWVudHVtWS5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuaXNJblRyYW5zaXRpb24gPSAxO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLnNuYXAgKSB7XHJcbiAgICAgICAgICAgIHZhciBzbmFwID0gdGhpcy5fbmVhcmVzdFNuYXAobmV3WCwgbmV3WSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBzbmFwO1xyXG4gICAgICAgICAgICB0aW1lID0gdGhpcy5vcHRpb25zLnNuYXBTcGVlZCB8fCBNYXRoLm1heChcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5hYnMobmV3WCAtIHNuYXAueCksIDEwMDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihNYXRoLmFicyhuZXdZIC0gc25hcC55KSwgMTAwMClcclxuICAgICAgICAgICAgICAgICAgICApLCAzMDApO1xyXG4gICAgICAgICAgICBuZXdYID0gc25hcC54O1xyXG4gICAgICAgICAgICBuZXdZID0gc25hcC55O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb25YID0gMDtcclxuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb25ZID0gMDtcclxuICAgICAgICAgICAgZWFzaW5nID0gdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZztcclxuICAgICAgICB9XHJcblxyXG4vLyBJTlNFUlQgUE9JTlQ6IF9lbmRcclxuXHJcbiAgICAgICAgaWYgKCBuZXdYICE9IHRoaXMueCB8fCBuZXdZICE9IHRoaXMueSApIHtcclxuICAgICAgICAgICAgLy8gY2hhbmdlIGVhc2luZyBmdW5jdGlvbiB3aGVuIHNjcm9sbGVyIGdvZXMgb3V0IG9mIHRoZSBib3VuZGFyaWVzXHJcbiAgICAgICAgICAgIGlmICggbmV3WCA+IDAgfHwgbmV3WCA8IHRoaXMubWF4U2Nyb2xsWCB8fCBuZXdZID4gMCB8fCBuZXdZIDwgdGhpcy5tYXhTY3JvbGxZICkge1xyXG4gICAgICAgICAgICAgICAgZWFzaW5nID0gdXRpbHMuZWFzZS5xdWFkcmF0aWM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG8obmV3WCwgbmV3WSwgdGltZSwgZWFzaW5nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdzY3JvbGxFbmQnKTtcclxuICAgIH0sXHJcblxyXG4gICAgX3Jlc2l6ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGF0LnJlZnJlc2goKTtcclxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMucmVzaXplUG9sbGluZyk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlc2V0UG9zaXRpb246IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLngsXHJcbiAgICAgICAgICAgIHkgPSB0aGlzLnk7XHJcblxyXG4gICAgICAgIHRpbWUgPSB0aW1lIHx8IDA7XHJcblxyXG4gICAgICAgIGlmICggIXRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCB8fCB0aGlzLnggPiAwICkge1xyXG4gICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKCB0aGlzLnggPCB0aGlzLm1heFNjcm9sbFggKSB7XHJcbiAgICAgICAgICAgIHggPSB0aGlzLm1heFNjcm9sbFg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoICF0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsIHx8IHRoaXMueSA+IDAgKSB7XHJcbiAgICAgICAgICAgIHkgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIHRoaXMueSA8IHRoaXMubWF4U2Nyb2xsWSApIHtcclxuICAgICAgICAgICAgeSA9IHRoaXMubWF4U2Nyb2xsWTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggeCA9PSB0aGlzLnggJiYgeSA9PSB0aGlzLnkgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsVG8oeCwgeSwgdGltZSwgdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZyk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIGVuYWJsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmYgPSB0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0OyAgICAgLy8gRm9yY2UgcmVmbG93XHJcblxyXG4gICAgICAgIHRoaXMud3JhcHBlcldpZHRoICAgPSB0aGlzLndyYXBwZXIuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy53cmFwcGVySGVpZ2h0ICA9IHRoaXMud3JhcHBlci5jbGllbnRIZWlnaHQ7XHJcblxyXG4vKiBSRVBMQUNFIFNUQVJUOiByZWZyZXNoICovXHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJXaWR0aCAgPSB0aGlzLnNjcm9sbGVyLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJIZWlnaHQgPSB0aGlzLnNjcm9sbGVyLm9mZnNldEhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5tYXhTY3JvbGxYICAgICA9IHRoaXMud3JhcHBlcldpZHRoIC0gdGhpcy5zY3JvbGxlcldpZHRoO1xyXG4gICAgICAgIHRoaXMubWF4U2Nyb2xsWSAgICAgPSB0aGlzLndyYXBwZXJIZWlnaHQgLSB0aGlzLnNjcm9sbGVySGVpZ2h0O1xyXG5cclxuLyogUkVQTEFDRSBFTkQ6IHJlZnJlc2ggKi9cclxuXHJcbiAgICAgICAgdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsICAgID0gdGhpcy5vcHRpb25zLnNjcm9sbFggJiYgdGhpcy5tYXhTY3JvbGxYIDwgMDtcclxuICAgICAgICB0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsICAgICAgPSB0aGlzLm9wdGlvbnMuc2Nyb2xsWSAmJiB0aGlzLm1heFNjcm9sbFkgPCAwO1xyXG5cclxuICAgICAgICBpZiAoICF0aGlzLmhhc0hvcml6b250YWxTY3JvbGwgKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4U2Nyb2xsWCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJXaWR0aCA9IHRoaXMud3JhcHBlcldpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCAhdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCApIHtcclxuICAgICAgICAgICAgdGhpcy5tYXhTY3JvbGxZID0gMDtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlckhlaWdodCA9IHRoaXMud3JhcHBlckhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW5kVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25YID0gMDtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvblkgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLndyYXBwZXJPZmZzZXQgPSB1dGlscy5vZmZzZXQodGhpcy53cmFwcGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZXhlY0V2ZW50KCdyZWZyZXNoJyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVzZXRQb3NpdGlvbigpO1xyXG5cclxuLy8gSU5TRVJUIFBPSU5UOiBfcmVmcmVzaFxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgb246IGZ1bmN0aW9uICh0eXBlLCBmbikge1xyXG4gICAgICAgIGlmICggIXRoaXMuX2V2ZW50c1t0eXBlXSApIHtcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChmbik7XHJcbiAgICB9LFxyXG5cclxuICAgIG9mZjogZnVuY3Rpb24gKHR5cGUsIGZuKSB7XHJcbiAgICAgICAgaWYgKCAhdGhpcy5fZXZlbnRzW3R5cGVdICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9ldmVudHNbdHlwZV0uaW5kZXhPZihmbik7XHJcblxyXG4gICAgICAgIGlmICggaW5kZXggPiAtMSApIHtcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBfZXhlY0V2ZW50OiBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgIGlmICggIXRoaXMuX2V2ZW50c1t0eXBlXSApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGkgPSAwLFxyXG4gICAgICAgICAgICBsID0gdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKCAhbCApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICggOyBpIDwgbDsgaSsrICkge1xyXG4gICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV1baV0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNjcm9sbEJ5OiBmdW5jdGlvbiAoeCwgeSwgdGltZSwgZWFzaW5nKSB7XHJcbiAgICAgICAgeCA9IHRoaXMueCArIHg7XHJcbiAgICAgICAgeSA9IHRoaXMueSArIHk7XHJcbiAgICAgICAgdGltZSA9IHRpbWUgfHwgMDtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxUbyh4LCB5LCB0aW1lLCBlYXNpbmcpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzY3JvbGxUbzogZnVuY3Rpb24gKHgsIHksIHRpbWUsIGVhc2luZykge1xyXG4gICAgICAgIGVhc2luZyA9IGVhc2luZyB8fCB1dGlscy5lYXNlLmNpcmN1bGFyO1xyXG5cclxuICAgICAgICB0aGlzLmlzSW5UcmFuc2l0aW9uID0gdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgdGltZSA+IDA7XHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb25UeXBlID0gdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgZWFzaW5nLnN0eWxlO1xyXG4gICAgICAgIGlmICggIXRpbWUgfHwgdHJhbnNpdGlvblR5cGUgKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0cmFuc2l0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbihlYXNpbmcuc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25UaW1lKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl90cmFuc2xhdGUoeCwgeSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZSh4LCB5LCB0aW1lLCBlYXNpbmcuZm4pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc2Nyb2xsVG9FbGVtZW50OiBmdW5jdGlvbiAoZWwsIHRpbWUsIG9mZnNldFgsIG9mZnNldFksIGVhc2luZykge1xyXG4gICAgICAgIGVsID0gZWwubm9kZVR5cGUgPyBlbCA6IHRoaXMuc2Nyb2xsZXIucXVlcnlTZWxlY3RvcihlbCk7XHJcblxyXG4gICAgICAgIGlmICggIWVsICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcG9zID0gdXRpbHMub2Zmc2V0KGVsKTtcclxuXHJcbiAgICAgICAgcG9zLmxlZnQgLT0gdGhpcy53cmFwcGVyT2Zmc2V0LmxlZnQ7XHJcbiAgICAgICAgcG9zLnRvcCAgLT0gdGhpcy53cmFwcGVyT2Zmc2V0LnRvcDtcclxuXHJcbiAgICAgICAgLy8gaWYgb2Zmc2V0WC9ZIGFyZSB0cnVlIHdlIGNlbnRlciB0aGUgZWxlbWVudCB0byB0aGUgc2NyZWVuXHJcbiAgICAgICAgaWYgKCBvZmZzZXRYID09PSB0cnVlICkge1xyXG4gICAgICAgICAgICBvZmZzZXRYID0gTWF0aC5yb3VuZChlbC5vZmZzZXRXaWR0aCAvIDIgLSB0aGlzLndyYXBwZXIub2Zmc2V0V2lkdGggLyAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCBvZmZzZXRZID09PSB0cnVlICkge1xyXG4gICAgICAgICAgICBvZmZzZXRZID0gTWF0aC5yb3VuZChlbC5vZmZzZXRIZWlnaHQgLyAyIC0gdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodCAvIDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zLmxlZnQgLT0gb2Zmc2V0WCB8fCAwO1xyXG4gICAgICAgIHBvcy50b3AgIC09IG9mZnNldFkgfHwgMDtcclxuXHJcbiAgICAgICAgcG9zLmxlZnQgPSBwb3MubGVmdCA+IDAgPyAwIDogcG9zLmxlZnQgPCB0aGlzLm1heFNjcm9sbFggPyB0aGlzLm1heFNjcm9sbFggOiBwb3MubGVmdDtcclxuICAgICAgICBwb3MudG9wICA9IHBvcy50b3AgID4gMCA/IDAgOiBwb3MudG9wICA8IHRoaXMubWF4U2Nyb2xsWSA/IHRoaXMubWF4U2Nyb2xsWSA6IHBvcy50b3A7XHJcblxyXG4gICAgICAgIHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgfHwgdGltZSA9PT0gbnVsbCB8fCB0aW1lID09PSAnYXV0bycgPyBNYXRoLm1heChNYXRoLmFicyh0aGlzLngtcG9zLmxlZnQpLCBNYXRoLmFicyh0aGlzLnktcG9zLnRvcCkpIDogdGltZTtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxUbyhwb3MubGVmdCwgcG9zLnRvcCwgdGltZSwgZWFzaW5nKTtcclxuICAgIH0sXHJcblxyXG4gICAgX3RyYW5zaXRpb25UaW1lOiBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aW1lID0gdGltZSB8fCAwO1xyXG4gICAgICAgIHZhciBkdXJhdGlvblByb3AgPSB1dGlscy5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb247XHJcbiAgICAgICAgaWYoIWR1cmF0aW9uUHJvcCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbGVyU3R5bGVbZHVyYXRpb25Qcm9wXSA9IHRpbWUgKyAnbXMnO1xyXG5cclxuICAgICAgICBpZiAoICF0aW1lICYmIHV0aWxzLmlzQmFkQW5kcm9pZCApIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlclN0eWxlW2R1cmF0aW9uUHJvcF0gPSAnMC4wMDAxbXMnO1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgMC4wMDAxbXNcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICByQUYoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZihzZWxmLnNjcm9sbGVyU3R5bGVbZHVyYXRpb25Qcm9wXSA9PT0gJzAuMDAwMW1zJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2Nyb2xsZXJTdHlsZVtkdXJhdGlvblByb3BdID0gJzBzJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLmluZGljYXRvcnMgKSB7XHJcbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gdGhpcy5pbmRpY2F0b3JzLmxlbmd0aDsgaS0tOyApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yc1tpXS50cmFuc2l0aW9uVGltZSh0aW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4vLyBJTlNFUlQgUE9JTlQ6IF90cmFuc2l0aW9uVGltZVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgX3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogZnVuY3Rpb24gKGVhc2luZykge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXJTdHlsZVt1dGlscy5zdHlsZS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25dID0gZWFzaW5nO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLmluZGljYXRvcnMgKSB7XHJcbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gdGhpcy5pbmRpY2F0b3JzLmxlbmd0aDsgaS0tOyApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yc1tpXS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24oZWFzaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4vLyBJTlNFUlQgUE9JTlQ6IF90cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25cclxuXHJcbiAgICB9LFxyXG5cclxuICAgIF90cmFuc2xhdGU6IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtICkge1xyXG5cclxuLyogUkVQTEFDRSBTVEFSVDogX3RyYW5zbGF0ZSAqL1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCcgKyB5ICsgJ3B4KScgKyB0aGlzLnRyYW5zbGF0ZVo7XHJcblxyXG4vKiBSRVBMQUNFIEVORDogX3RyYW5zbGF0ZSAqL1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4ID0gTWF0aC5yb3VuZCh4KTtcclxuICAgICAgICAgICAgeSA9IE1hdGgucm91bmQoeSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJTdHlsZS5sZWZ0ID0geCArICdweCc7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXJTdHlsZS50b3AgPSB5ICsgJ3B4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuXHJcblxyXG4gICAgaWYgKCB0aGlzLmluZGljYXRvcnMgKSB7XHJcbiAgICAgICAgZm9yICggdmFyIGkgPSB0aGlzLmluZGljYXRvcnMubGVuZ3RoOyBpLS07ICkge1xyXG4gICAgICAgICAgICB0aGlzLmluZGljYXRvcnNbaV0udXBkYXRlUG9zaXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuLy8gSU5TRVJUIFBPSU5UOiBfdHJhbnNsYXRlXHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBfaW5pdEV2ZW50czogZnVuY3Rpb24gKHJlbW92ZSkge1xyXG4gICAgICAgIHZhciBldmVudFR5cGUgPSByZW1vdmUgPyB1dGlscy5yZW1vdmVFdmVudCA6IHV0aWxzLmFkZEV2ZW50LFxyXG4gICAgICAgICAgICB0YXJnZXQgPSB0aGlzLm9wdGlvbnMuYmluZFRvV3JhcHBlciA/IHRoaXMud3JhcHBlciA6IHdpbmRvdztcclxuXHJcbiAgICAgICAgZXZlbnRUeXBlKHdpbmRvdywgJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcyk7XHJcbiAgICAgICAgZXZlbnRUeXBlKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5jbGljayApIHtcclxuICAgICAgICAgICAgZXZlbnRUeXBlKHRoaXMud3JhcHBlciwgJ2NsaWNrJywgdGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoICF0aGlzLm9wdGlvbnMuZGlzYWJsZU1vdXNlICkge1xyXG4gICAgICAgICAgICBldmVudFR5cGUodGhpcy53cmFwcGVyLCAnbW91c2Vkb3duJywgdGhpcyk7XHJcbiAgICAgICAgICAgIGV2ZW50VHlwZSh0YXJnZXQsICdtb3VzZW1vdmUnLCB0aGlzKTtcclxuICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgJ21vdXNlY2FuY2VsJywgdGhpcyk7XHJcbiAgICAgICAgICAgIGV2ZW50VHlwZSh0YXJnZXQsICdtb3VzZXVwJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHV0aWxzLmhhc1BvaW50ZXIgJiYgIXRoaXMub3B0aW9ucy5kaXNhYmxlUG9pbnRlciApIHtcclxuICAgICAgICAgICAgZXZlbnRUeXBlKHRoaXMud3JhcHBlciwgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVyZG93bicpLCB0aGlzKTtcclxuICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVybW92ZScpLCB0aGlzKTtcclxuICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVyY2FuY2VsJyksIHRoaXMpO1xyXG4gICAgICAgICAgICBldmVudFR5cGUodGFyZ2V0LCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJ1cCcpLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdXRpbHMuaGFzVG91Y2ggJiYgIXRoaXMub3B0aW9ucy5kaXNhYmxlVG91Y2ggKSB7XHJcbiAgICAgICAgICAgIGV2ZW50VHlwZSh0aGlzLndyYXBwZXIsICd0b3VjaHN0YXJ0JywgdGhpcyk7XHJcbiAgICAgICAgICAgIGV2ZW50VHlwZSh0YXJnZXQsICd0b3VjaG1vdmUnLCB0aGlzKTtcclxuICAgICAgICAgICAgZXZlbnRUeXBlKHRhcmdldCwgJ3RvdWNoY2FuY2VsJywgdGhpcyk7XHJcbiAgICAgICAgICAgIGV2ZW50VHlwZSh0YXJnZXQsICd0b3VjaGVuZCcsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnRUeXBlKHRoaXMuc2Nyb2xsZXIsICd0cmFuc2l0aW9uZW5kJywgdGhpcyk7XHJcbiAgICAgICAgZXZlbnRUeXBlKHRoaXMuc2Nyb2xsZXIsICd3ZWJraXRUcmFuc2l0aW9uRW5kJywgdGhpcyk7XHJcbiAgICAgICAgZXZlbnRUeXBlKHRoaXMuc2Nyb2xsZXIsICdvVHJhbnNpdGlvbkVuZCcsIHRoaXMpO1xyXG4gICAgICAgIGV2ZW50VHlwZSh0aGlzLnNjcm9sbGVyLCAnTVNUcmFuc2l0aW9uRW5kJywgdGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldENvbXB1dGVkUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbWF0cml4ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5zY3JvbGxlciwgbnVsbCksXHJcbiAgICAgICAgICAgIHgsIHk7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSApIHtcclxuICAgICAgICAgICAgbWF0cml4ID0gbWF0cml4W3V0aWxzLnN0eWxlLnRyYW5zZm9ybV0uc3BsaXQoJyknKVswXS5zcGxpdCgnLCAnKTtcclxuICAgICAgICAgICAgeCA9ICsobWF0cml4WzEyXSB8fCBtYXRyaXhbNF0pO1xyXG4gICAgICAgICAgICB5ID0gKyhtYXRyaXhbMTNdIHx8IG1hdHJpeFs1XSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeCA9ICttYXRyaXgubGVmdC5yZXBsYWNlKC9bXi1cXGQuXS9nLCAnJyk7XHJcbiAgICAgICAgICAgIHkgPSArbWF0cml4LnRvcC5yZXBsYWNlKC9bXi1cXGQuXS9nLCAnJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcbiAgICB9LFxyXG4gICAgX2luaXRJbmRpY2F0b3JzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGludGVyYWN0aXZlID0gdGhpcy5vcHRpb25zLmludGVyYWN0aXZlU2Nyb2xsYmFycyxcclxuICAgICAgICAgICAgY3VzdG9tU3R5bGUgPSB0eXBlb2YgdGhpcy5vcHRpb25zLnNjcm9sbGJhcnMgIT0gJ3N0cmluZycsXHJcbiAgICAgICAgICAgIGluZGljYXRvcnMgPSBbXSxcclxuICAgICAgICAgICAgaW5kaWNhdG9yO1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuaW5kaWNhdG9ycyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJzICkge1xyXG4gICAgICAgICAgICAvLyBWZXJ0aWNhbCBzY3JvbGxiYXJcclxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuc2Nyb2xsWSApIHtcclxuICAgICAgICAgICAgICAgIGluZGljYXRvciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBlbDogY3JlYXRlRGVmYXVsdFNjcm9sbGJhcigndicsIGludGVyYWN0aXZlLCB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFycyksXHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGludGVyYWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTY3JvbGxiYXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVN0eWxlOiBjdXN0b21TdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IHRoaXMub3B0aW9ucy5yZXNpemVTY3JvbGxiYXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNocmluazogdGhpcy5vcHRpb25zLnNocmlua1Njcm9sbGJhcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgZmFkZTogdGhpcy5vcHRpb25zLmZhZGVTY3JvbGxiYXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3Rlblg6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZChpbmRpY2F0b3IuZWwpO1xyXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9ycy5wdXNoKGluZGljYXRvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEhvcml6b250YWwgc2Nyb2xsYmFyXHJcbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnNjcm9sbFggKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWw6IGNyZWF0ZURlZmF1bHRTY3JvbGxiYXIoJ2gnLCBpbnRlcmFjdGl2ZSwgdGhpcy5vcHRpb25zLnNjcm9sbGJhcnMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZSxcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2Nyb2xsYmFyczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjdXN0b21TdHlsZTogY3VzdG9tU3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiB0aGlzLm9wdGlvbnMucmVzaXplU2Nyb2xsYmFycyxcclxuICAgICAgICAgICAgICAgICAgICBzaHJpbms6IHRoaXMub3B0aW9ucy5zaHJpbmtTY3JvbGxiYXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhZGU6IHRoaXMub3B0aW9ucy5mYWRlU2Nyb2xsYmFycyxcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5ZOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yLmVsKTtcclxuICAgICAgICAgICAgICAgIGluZGljYXRvcnMucHVzaChpbmRpY2F0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5pbmRpY2F0b3JzICkge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBjaGVjayBjb25jYXQgY29tcGF0aWJpbGl0eVxyXG4gICAgICAgICAgICBpbmRpY2F0b3JzID0gaW5kaWNhdG9ycy5jb25jYXQodGhpcy5vcHRpb25zLmluZGljYXRvcnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICggdmFyIGkgPSBpbmRpY2F0b3JzLmxlbmd0aDsgaS0tOyApIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JzLnB1c2goIG5ldyBJbmRpY2F0b3IodGhpcywgaW5kaWNhdG9yc1tpXSkgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIGlmIHdlIGNhbiB1c2UgYXJyYXkubWFwICh3aWRlIGNvbXBhdGliaWxpdHkgYW5kIHBlcmZvcm1hbmNlIGlzc3VlcylcclxuICAgICAgICBmdW5jdGlvbiBfaW5kaWNhdG9yc01hcCAoZm4pIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuaW5kaWNhdG9ycykge1xyXG4gICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSB0aGF0LmluZGljYXRvcnMubGVuZ3RoOyBpLS07ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuLmNhbGwodGhhdC5pbmRpY2F0b3JzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuZmFkZVNjcm9sbGJhcnMgKSB7XHJcbiAgICAgICAgICAgIHRoaXMub24oJ3Njcm9sbEVuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9pbmRpY2F0b3JzTWFwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ3Njcm9sbENhbmNlbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9pbmRpY2F0b3JzTWFwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ3Njcm9sbFN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2luZGljYXRvcnNNYXAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZSgxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ2JlZm9yZVNjcm9sbFN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2luZGljYXRvcnNNYXAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZSgxLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLm9uKCdyZWZyZXNoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfaW5kaWNhdG9yc01hcChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF9pbmRpY2F0b3JzTWFwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmluZGljYXRvcnM7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIF9pbml0V2hlZWw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB1dGlscy5hZGRFdmVudCh0aGlzLndyYXBwZXIsICd3aGVlbCcsIHRoaXMpO1xyXG4gICAgICAgIHV0aWxzLmFkZEV2ZW50KHRoaXMud3JhcHBlciwgJ21vdXNld2hlZWwnLCB0aGlzKTtcclxuICAgICAgICB1dGlscy5hZGRFdmVudCh0aGlzLndyYXBwZXIsICdET01Nb3VzZVNjcm9sbCcsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy53aGVlbFRpbWVvdXQpO1xyXG4gICAgICAgICAgICB0aGlzLndoZWVsVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHRoaXMud3JhcHBlciwgJ3doZWVsJywgdGhpcyk7XHJcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHRoaXMud3JhcHBlciwgJ21vdXNld2hlZWwnLCB0aGlzKTtcclxuICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQodGhpcy53cmFwcGVyLCAnRE9NTW91c2VTY3JvbGwnLCB0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgX3doZWVsOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICggIXRoaXMuZW5hYmxlZCApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHdoZWVsRGVsdGFYLCB3aGVlbERlbHRhWSxcclxuICAgICAgICAgICAgbmV3WCwgbmV3WSxcclxuICAgICAgICAgICAgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy53aGVlbFRpbWVvdXQgPT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgdGhhdC5fZXhlY0V2ZW50KCdzY3JvbGxTdGFydCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgc2Nyb2xsRW5kIGV2ZW50IGFmdGVyIDQwMG1zIHRoZSB3aGVlbCBzdG9wcGVkIHNjcm9sbGluZ1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLndoZWVsVGltZW91dCk7XHJcbiAgICAgICAgdGhpcy53aGVlbFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYoIXRoYXQub3B0aW9ucy5zbmFwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0Ll9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoYXQud2hlZWxUaW1lb3V0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH0sIDQwMCk7XHJcblxyXG4gICAgICAgIGlmICggJ2RlbHRhWCcgaW4gZSApIHtcclxuICAgICAgICAgICAgaWYgKGUuZGVsdGFNb2RlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB3aGVlbERlbHRhWCA9IC1lLmRlbHRhWCAqIHRoaXMub3B0aW9ucy5tb3VzZVdoZWVsU3BlZWQ7XHJcbiAgICAgICAgICAgICAgICB3aGVlbERlbHRhWSA9IC1lLmRlbHRhWSAqIHRoaXMub3B0aW9ucy5tb3VzZVdoZWVsU3BlZWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aGVlbERlbHRhWCA9IC1lLmRlbHRhWDtcclxuICAgICAgICAgICAgICAgIHdoZWVsRGVsdGFZID0gLWUuZGVsdGFZO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICggJ3doZWVsRGVsdGFYJyBpbiBlICkge1xyXG4gICAgICAgICAgICB3aGVlbERlbHRhWCA9IGUud2hlZWxEZWx0YVggLyAxMjAgKiB0aGlzLm9wdGlvbnMubW91c2VXaGVlbFNwZWVkO1xyXG4gICAgICAgICAgICB3aGVlbERlbHRhWSA9IGUud2hlZWxEZWx0YVkgLyAxMjAgKiB0aGlzLm9wdGlvbnMubW91c2VXaGVlbFNwZWVkO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoICd3aGVlbERlbHRhJyBpbiBlICkge1xyXG4gICAgICAgICAgICB3aGVlbERlbHRhWCA9IHdoZWVsRGVsdGFZID0gZS53aGVlbERlbHRhIC8gMTIwICogdGhpcy5vcHRpb25zLm1vdXNlV2hlZWxTcGVlZDtcclxuICAgICAgICB9IGVsc2UgaWYgKCAnZGV0YWlsJyBpbiBlICkge1xyXG4gICAgICAgICAgICB3aGVlbERlbHRhWCA9IHdoZWVsRGVsdGFZID0gLWUuZGV0YWlsIC8gMyAqIHRoaXMub3B0aW9ucy5tb3VzZVdoZWVsU3BlZWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hlZWxEZWx0YVggKj0gdGhpcy5vcHRpb25zLmludmVydFdoZWVsRGlyZWN0aW9uO1xyXG4gICAgICAgIHdoZWVsRGVsdGFZICo9IHRoaXMub3B0aW9ucy5pbnZlcnRXaGVlbERpcmVjdGlvbjtcclxuXHJcbiAgICAgICAgaWYgKCAhdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCApIHtcclxuICAgICAgICAgICAgd2hlZWxEZWx0YVggPSB3aGVlbERlbHRhWTtcclxuICAgICAgICAgICAgd2hlZWxEZWx0YVkgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuc25hcCApIHtcclxuICAgICAgICAgICAgbmV3WCA9IHRoaXMuY3VycmVudFBhZ2UucGFnZVg7XHJcbiAgICAgICAgICAgIG5ld1kgPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZO1xyXG5cclxuICAgICAgICAgICAgaWYgKCB3aGVlbERlbHRhWCA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdYLS07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHdoZWVsRGVsdGFYIDwgMCApIHtcclxuICAgICAgICAgICAgICAgIG5ld1grKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCB3aGVlbERlbHRhWSA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdZLS07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHdoZWVsRGVsdGFZIDwgMCApIHtcclxuICAgICAgICAgICAgICAgIG5ld1krKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5nb1RvUGFnZShuZXdYLCBuZXdZKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld1ggPSB0aGlzLnggKyBNYXRoLnJvdW5kKHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IHdoZWVsRGVsdGFYIDogMCk7XHJcbiAgICAgICAgbmV3WSA9IHRoaXMueSArIE1hdGgucm91bmQodGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCA/IHdoZWVsRGVsdGFZIDogMCk7XHJcblxyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uWCA9IHdoZWVsRGVsdGFYID4gMCA/IC0xIDogd2hlZWxEZWx0YVggPCAwID8gMSA6IDA7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25ZID0gd2hlZWxEZWx0YVkgPiAwID8gLTEgOiB3aGVlbERlbHRhWSA8IDAgPyAxIDogMDtcclxuXHJcbiAgICAgICAgaWYgKCBuZXdYID4gMCApIHtcclxuICAgICAgICAgICAgbmV3WCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmICggbmV3WCA8IHRoaXMubWF4U2Nyb2xsWCApIHtcclxuICAgICAgICAgICAgbmV3WCA9IHRoaXMubWF4U2Nyb2xsWDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggbmV3WSA+IDAgKSB7XHJcbiAgICAgICAgICAgIG5ld1kgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIG5ld1kgPCB0aGlzLm1heFNjcm9sbFkgKSB7XHJcbiAgICAgICAgICAgIG5ld1kgPSB0aGlzLm1heFNjcm9sbFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1ksIDApO1xyXG5cclxuLy8gSU5TRVJUIFBPSU5UOiBfd2hlZWxcclxuICAgIH0sXHJcblxyXG4gICAgX2luaXRTbmFwOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHt9O1xyXG5cclxuICAgICAgICBpZiAoIHR5cGVvZiB0aGlzLm9wdGlvbnMuc25hcCA9PSAnc3RyaW5nJyApIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNuYXAgPSB0aGlzLnNjcm9sbGVyLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5vcHRpb25zLnNuYXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5vbigncmVmcmVzaCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSAwLCBsLFxyXG4gICAgICAgICAgICAgICAgbSA9IDAsIG4sXHJcbiAgICAgICAgICAgICAgICBjeCwgY3ksXHJcbiAgICAgICAgICAgICAgICB4ID0gMCwgeSxcclxuICAgICAgICAgICAgICAgIHN0ZXBYID0gdGhpcy5vcHRpb25zLnNuYXBTdGVwWCB8fCB0aGlzLndyYXBwZXJXaWR0aCxcclxuICAgICAgICAgICAgICAgIHN0ZXBZID0gdGhpcy5vcHRpb25zLnNuYXBTdGVwWSB8fCB0aGlzLndyYXBwZXJIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBlbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFnZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICggIXRoaXMud3JhcHBlcldpZHRoIHx8ICF0aGlzLndyYXBwZXJIZWlnaHQgfHwgIXRoaXMuc2Nyb2xsZXJXaWR0aCB8fCAhdGhpcy5zY3JvbGxlckhlaWdodCApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuc25hcCA9PT0gdHJ1ZSApIHtcclxuICAgICAgICAgICAgICAgIGN4ID0gTWF0aC5yb3VuZCggc3RlcFggLyAyICk7XHJcbiAgICAgICAgICAgICAgICBjeSA9IE1hdGgucm91bmQoIHN0ZXBZIC8gMiApO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICggeCA+IC10aGlzLnNjcm9sbGVyV2lkdGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlc1tpXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIHkgPiAtdGhpcy5zY3JvbGxlckhlaWdodCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlc1tpXVtsXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IE1hdGgubWF4KHgsIHRoaXMubWF4U2Nyb2xsWCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBNYXRoLm1heCh5LCB0aGlzLm1heFNjcm9sbFkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHN0ZXBYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBzdGVwWSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4OiB4IC0gY3gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeTogeSAtIGN5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5IC09IHN0ZXBZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB4IC09IHN0ZXBYO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsID0gdGhpcy5vcHRpb25zLnNuYXA7XHJcbiAgICAgICAgICAgICAgICBsID0gZWwubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgbiA9IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoIDsgaSA8IGw7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGkgPT09IDAgfHwgZWxbaV0ub2Zmc2V0TGVmdCA8PSBlbFtpLTFdLm9mZnNldExlZnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoICF0aGlzLnBhZ2VzW21dICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VzW21dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB4ID0gTWF0aC5tYXgoLWVsW2ldLm9mZnNldExlZnQsIHRoaXMubWF4U2Nyb2xsWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgeSA9IE1hdGgubWF4KC1lbFtpXS5vZmZzZXRUb3AsIHRoaXMubWF4U2Nyb2xsWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3ggPSB4IC0gTWF0aC5yb3VuZChlbFtpXS5vZmZzZXRXaWR0aCAvIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN5ID0geSAtIE1hdGgucm91bmQoZWxbaV0ub2Zmc2V0SGVpZ2h0IC8gMik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZXNbbV1bbl0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBlbFtpXS5vZmZzZXRXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBlbFtpXS5vZmZzZXRIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4OiBjeCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3k6IGN5XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB4ID4gdGhpcy5tYXhTY3JvbGxYICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdvVG9QYWdlKHRoaXMuY3VycmVudFBhZ2UucGFnZVggfHwgMCwgdGhpcy5jdXJyZW50UGFnZS5wYWdlWSB8fCAwLCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzbmFwIHRocmVzaG9sZCBpZiBuZWVkZWRcclxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuc25hcFRocmVzaG9sZCAlIDEgPT09IDAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYXBUaHJlc2hvbGRYID0gdGhpcy5vcHRpb25zLnNuYXBUaHJlc2hvbGQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYXBUaHJlc2hvbGRZID0gdGhpcy5vcHRpb25zLnNuYXBUaHJlc2hvbGQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYXBUaHJlc2hvbGRYID0gTWF0aC5yb3VuZCh0aGlzLnBhZ2VzW3RoaXMuY3VycmVudFBhZ2UucGFnZVhdW3RoaXMuY3VycmVudFBhZ2UucGFnZVldLndpZHRoICogdGhpcy5vcHRpb25zLnNuYXBUaHJlc2hvbGQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbmFwVGhyZXNob2xkWSA9IE1hdGgucm91bmQodGhpcy5wYWdlc1t0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYXVt0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZXS5oZWlnaHQgKiB0aGlzLm9wdGlvbnMuc25hcFRocmVzaG9sZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5vbignZmxpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lID0gdGhpcy5vcHRpb25zLnNuYXBTcGVlZCB8fCBNYXRoLm1heChcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5hYnModGhpcy54IC0gdGhpcy5zdGFydFgpLCAxMDAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5hYnModGhpcy55IC0gdGhpcy5zdGFydFkpLCAxMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICksIDMwMCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdvVG9QYWdlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZS5wYWdlWCArIHRoaXMuZGlyZWN0aW9uWCxcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UucGFnZVkgKyB0aGlzLmRpcmVjdGlvblksXHJcbiAgICAgICAgICAgICAgICB0aW1lXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIF9uZWFyZXN0U25hcDogZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgICAgICBpZiAoICF0aGlzLnBhZ2VzLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgcGFnZVg6IDAsIHBhZ2VZOiAwIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgIGwgPSB0aGlzLnBhZ2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgbSA9IDA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGV4Y2VlZGVkIHRoZSBzbmFwIHRocmVzaG9sZFxyXG4gICAgICAgIGlmICggTWF0aC5hYnMoeCAtIHRoaXMuYWJzU3RhcnRYKSA8IHRoaXMuc25hcFRocmVzaG9sZFggJiZcclxuICAgICAgICAgICAgTWF0aC5hYnMoeSAtIHRoaXMuYWJzU3RhcnRZKSA8IHRoaXMuc25hcFRocmVzaG9sZFkgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYWdlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB4ID4gMCApIHtcclxuICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmICggeCA8IHRoaXMubWF4U2Nyb2xsWCApIHtcclxuICAgICAgICAgICAgeCA9IHRoaXMubWF4U2Nyb2xsWDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggeSA+IDAgKSB7XHJcbiAgICAgICAgICAgIHkgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIHkgPCB0aGlzLm1heFNjcm9sbFkgKSB7XHJcbiAgICAgICAgICAgIHkgPSB0aGlzLm1heFNjcm9sbFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKCA7IGkgPCBsOyBpKysgKSB7XHJcbiAgICAgICAgICAgIGlmICggeCA+PSB0aGlzLnBhZ2VzW2ldWzBdLmN4ICkge1xyXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMucGFnZXNbaV1bMF0ueDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsID0gdGhpcy5wYWdlc1tpXS5sZW5ndGg7XHJcblxyXG4gICAgICAgIGZvciAoIDsgbSA8IGw7IG0rKyApIHtcclxuICAgICAgICAgICAgaWYgKCB5ID49IHRoaXMucGFnZXNbMF1bbV0uY3kgKSB7XHJcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5wYWdlc1swXVttXS55O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggaSA9PSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYICkge1xyXG4gICAgICAgICAgICBpICs9IHRoaXMuZGlyZWN0aW9uWDtcclxuXHJcbiAgICAgICAgICAgIGlmICggaSA8IDAgKSB7XHJcbiAgICAgICAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICggaSA+PSB0aGlzLnBhZ2VzLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgIGkgPSB0aGlzLnBhZ2VzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHggPSB0aGlzLnBhZ2VzW2ldWzBdLng7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIG0gPT0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWSApIHtcclxuICAgICAgICAgICAgbSArPSB0aGlzLmRpcmVjdGlvblk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIG0gPCAwICkge1xyXG4gICAgICAgICAgICAgICAgbSA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIG0gPj0gdGhpcy5wYWdlc1swXS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICBtID0gdGhpcy5wYWdlc1swXS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB5ID0gdGhpcy5wYWdlc1swXVttXS55O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogeCxcclxuICAgICAgICAgICAgeTogeSxcclxuICAgICAgICAgICAgcGFnZVg6IGksXHJcbiAgICAgICAgICAgIHBhZ2VZOiBtXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgZ29Ub1BhZ2U6IGZ1bmN0aW9uICh4LCB5LCB0aW1lLCBlYXNpbmcpIHtcclxuICAgICAgICBlYXNpbmcgPSBlYXNpbmcgfHwgdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZztcclxuXHJcbiAgICAgICAgaWYgKCB4ID49IHRoaXMucGFnZXMubGVuZ3RoICkge1xyXG4gICAgICAgICAgICB4ID0gdGhpcy5wYWdlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIHggPCAwICkge1xyXG4gICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggeSA+PSB0aGlzLnBhZ2VzW3hdLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgeSA9IHRoaXMucGFnZXNbeF0ubGVuZ3RoIC0gMTtcclxuICAgICAgICB9IGVsc2UgaWYgKCB5IDwgMCApIHtcclxuICAgICAgICAgICAgeSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcG9zWCA9IHRoaXMucGFnZXNbeF1beV0ueCxcclxuICAgICAgICAgICAgcG9zWSA9IHRoaXMucGFnZXNbeF1beV0ueTtcclxuXHJcbiAgICAgICAgdGltZSA9IHRpbWUgPT09IHVuZGVmaW5lZCA/IHRoaXMub3B0aW9ucy5zbmFwU3BlZWQgfHwgTWF0aC5tYXgoXHJcbiAgICAgICAgICAgIE1hdGgubWF4KFxyXG4gICAgICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5hYnMocG9zWCAtIHRoaXMueCksIDEwMDApLFxyXG4gICAgICAgICAgICAgICAgTWF0aC5taW4oTWF0aC5hYnMocG9zWSAtIHRoaXMueSksIDEwMDApXHJcbiAgICAgICAgICAgICksIDMwMCkgOiB0aW1lO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0ge1xyXG4gICAgICAgICAgICB4OiBwb3NYLFxyXG4gICAgICAgICAgICB5OiBwb3NZLFxyXG4gICAgICAgICAgICBwYWdlWDogeCxcclxuICAgICAgICAgICAgcGFnZVk6IHlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbFRvKHBvc1gsIHBvc1ksIHRpbWUsIGVhc2luZyk7XHJcbiAgICB9LFxyXG5cclxuICAgIG5leHQ6IGZ1bmN0aW9uICh0aW1lLCBlYXNpbmcpIHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMuY3VycmVudFBhZ2UucGFnZVgsXHJcbiAgICAgICAgICAgIHkgPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZO1xyXG5cclxuICAgICAgICB4Kys7XHJcblxyXG4gICAgICAgIGlmICggeCA+PSB0aGlzLnBhZ2VzLmxlbmd0aCAmJiB0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsICkge1xyXG4gICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgeSsrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5nb1RvUGFnZSh4LCB5LCB0aW1lLCBlYXNpbmcpO1xyXG4gICAgfSxcclxuXHJcbiAgICBwcmV2OiBmdW5jdGlvbiAodGltZSwgZWFzaW5nKSB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYLFxyXG4gICAgICAgICAgICB5ID0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWTtcclxuXHJcbiAgICAgICAgeC0tO1xyXG5cclxuICAgICAgICBpZiAoIHggPCAwICYmIHRoaXMuaGFzVmVydGljYWxTY3JvbGwgKSB7XHJcbiAgICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgICAgICB5LS07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdvVG9QYWdlKHgsIHksIHRpbWUsIGVhc2luZyk7XHJcbiAgICB9LFxyXG5cclxuICAgIF9pbml0S2V5czogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAvLyBkZWZhdWx0IGtleSBiaW5kaW5nc1xyXG4gICAgICAgIHZhciBrZXlzID0ge1xyXG4gICAgICAgICAgICBwYWdlVXA6IDMzLFxyXG4gICAgICAgICAgICBwYWdlRG93bjogMzQsXHJcbiAgICAgICAgICAgIGVuZDogMzUsXHJcbiAgICAgICAgICAgIGhvbWU6IDM2LFxyXG4gICAgICAgICAgICBsZWZ0OiAzNyxcclxuICAgICAgICAgICAgdXA6IDM4LFxyXG4gICAgICAgICAgICByaWdodDogMzksXHJcbiAgICAgICAgICAgIGRvd246IDQwXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaTtcclxuXHJcbiAgICAgICAgLy8gaWYgeW91IGdpdmUgbWUgY2hhcmFjdGVycyBJIGdpdmUgeW91IGtleWNvZGVcclxuICAgICAgICBpZiAoIHR5cGVvZiB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MgPT0gJ29iamVjdCcgKSB7XHJcbiAgICAgICAgICAgIGZvciAoIGkgaW4gdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzW2ldID09ICdzdHJpbmcnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXSA9IHRoaXMub3B0aW9ucy5rZXlCaW5kaW5nc1tpXS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoIGkgaW4ga2V5cyApIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzW2ldID0gdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzW2ldIHx8IGtleXNbaV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1dGlscy5hZGRFdmVudCh3aW5kb3csICdrZXlkb3duJywgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgJ2tleWRvd24nLCB0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgX2tleTogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoICF0aGlzLmVuYWJsZWQgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzbmFwID0gdGhpcy5vcHRpb25zLnNuYXAsICAgLy8gd2UgYXJlIHVzaW5nIHRoaXMgYWxvdCwgYmV0dGVyIHRvIGNhY2hlIGl0XHJcbiAgICAgICAgICAgIG5ld1ggPSBzbmFwID8gdGhpcy5jdXJyZW50UGFnZS5wYWdlWCA6IHRoaXMueCxcclxuICAgICAgICAgICAgbmV3WSA9IHNuYXAgPyB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZIDogdGhpcy55LFxyXG4gICAgICAgICAgICBub3cgPSB1dGlscy5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgIHByZXZUaW1lID0gdGhpcy5rZXlUaW1lIHx8IDAsXHJcbiAgICAgICAgICAgIGFjY2VsZXJhdGlvbiA9IDAuMjUwLFxyXG4gICAgICAgICAgICBwb3M7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgdGhpcy5pc0luVHJhbnNpdGlvbiApIHtcclxuICAgICAgICAgICAgcG9zID0gdGhpcy5nZXRDb21wdXRlZFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl90cmFuc2xhdGUoTWF0aC5yb3VuZChwb3MueCksIE1hdGgucm91bmQocG9zLnkpKTtcclxuICAgICAgICAgICAgdGhpcy5pc0luVHJhbnNpdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5rZXlBY2NlbGVyYXRpb24gPSBub3cgLSBwcmV2VGltZSA8IDIwMCA/IE1hdGgubWluKHRoaXMua2V5QWNjZWxlcmF0aW9uICsgYWNjZWxlcmF0aW9uLCA1MCkgOiAwO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKCBlLmtleUNvZGUgKSB7XHJcbiAgICAgICAgICAgIGNhc2UgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzLnBhZ2VVcDpcclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsICYmICF0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ggKz0gc25hcCA/IDEgOiB0aGlzLndyYXBwZXJXaWR0aDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3WSArPSBzbmFwID8gMSA6IHRoaXMud3JhcHBlckhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy5wYWdlRG93bjpcclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsICYmICF0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ggLT0gc25hcCA/IDEgOiB0aGlzLndyYXBwZXJXaWR0aDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3WSAtPSBzbmFwID8gMSA6IHRoaXMud3JhcHBlckhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy5lbmQ6XHJcbiAgICAgICAgICAgICAgICBuZXdYID0gc25hcCA/IHRoaXMucGFnZXMubGVuZ3RoLTEgOiB0aGlzLm1heFNjcm9sbFg7XHJcbiAgICAgICAgICAgICAgICBuZXdZID0gc25hcCA/IHRoaXMucGFnZXNbMF0ubGVuZ3RoLTEgOiB0aGlzLm1heFNjcm9sbFk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MuaG9tZTpcclxuICAgICAgICAgICAgICAgIG5ld1ggPSAwO1xyXG4gICAgICAgICAgICAgICAgbmV3WSA9IDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSB0aGlzLm9wdGlvbnMua2V5QmluZGluZ3MubGVmdDpcclxuICAgICAgICAgICAgICAgIG5ld1ggKz0gc25hcCA/IC0xIDogNSArIHRoaXMua2V5QWNjZWxlcmF0aW9uPj4wO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzLnVwOlxyXG4gICAgICAgICAgICAgICAgbmV3WSArPSBzbmFwID8gMSA6IDUgKyB0aGlzLmtleUFjY2VsZXJhdGlvbj4+MDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIHRoaXMub3B0aW9ucy5rZXlCaW5kaW5ncy5yaWdodDpcclxuICAgICAgICAgICAgICAgIG5ld1ggLT0gc25hcCA/IC0xIDogNSArIHRoaXMua2V5QWNjZWxlcmF0aW9uPj4wO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgdGhpcy5vcHRpb25zLmtleUJpbmRpbmdzLmRvd246XHJcbiAgICAgICAgICAgICAgICBuZXdZIC09IHNuYXAgPyAxIDogNSArIHRoaXMua2V5QWNjZWxlcmF0aW9uPj4wO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHNuYXAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ29Ub1BhZ2UobmV3WCwgbmV3WSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggbmV3WCA+IDAgKSB7XHJcbiAgICAgICAgICAgIG5ld1ggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmtleUFjY2VsZXJhdGlvbiA9IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmICggbmV3WCA8IHRoaXMubWF4U2Nyb2xsWCApIHtcclxuICAgICAgICAgICAgbmV3WCA9IHRoaXMubWF4U2Nyb2xsWDtcclxuICAgICAgICAgICAgdGhpcy5rZXlBY2NlbGVyYXRpb24gPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBuZXdZID4gMCApIHtcclxuICAgICAgICAgICAgbmV3WSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMua2V5QWNjZWxlcmF0aW9uID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKCBuZXdZIDwgdGhpcy5tYXhTY3JvbGxZICkge1xyXG4gICAgICAgICAgICBuZXdZID0gdGhpcy5tYXhTY3JvbGxZO1xyXG4gICAgICAgICAgICB0aGlzLmtleUFjY2VsZXJhdGlvbiA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1ksIDApO1xyXG5cclxuICAgICAgICB0aGlzLmtleVRpbWUgPSBub3c7XHJcbiAgICB9LFxyXG5cclxuICAgIF9hbmltYXRlOiBmdW5jdGlvbiAoZGVzdFgsIGRlc3RZLCBkdXJhdGlvbiwgZWFzaW5nRm4pIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN0YXJ0WCA9IHRoaXMueCxcclxuICAgICAgICAgICAgc3RhcnRZID0gdGhpcy55LFxyXG4gICAgICAgICAgICBzdGFydFRpbWUgPSB1dGlscy5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgIGRlc3RUaW1lID0gc3RhcnRUaW1lICsgZHVyYXRpb247XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAgKCkge1xyXG4gICAgICAgICAgICB2YXIgbm93ID0gdXRpbHMuZ2V0VGltZSgpLFxyXG4gICAgICAgICAgICAgICAgbmV3WCwgbmV3WSxcclxuICAgICAgICAgICAgICAgIGVhc2luZztcclxuXHJcbiAgICAgICAgICAgIGlmICggbm93ID49IGRlc3RUaW1lICkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5fdHJhbnNsYXRlKGRlc3RYLCBkZXN0WSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAhdGhhdC5yZXNldFBvc2l0aW9uKHRoYXQub3B0aW9ucy5ib3VuY2VUaW1lKSApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbm93ID0gKCBub3cgLSBzdGFydFRpbWUgKSAvIGR1cmF0aW9uO1xyXG4gICAgICAgICAgICBlYXNpbmcgPSBlYXNpbmdGbihub3cpO1xyXG4gICAgICAgICAgICBuZXdYID0gKCBkZXN0WCAtIHN0YXJ0WCApICogZWFzaW5nICsgc3RhcnRYO1xyXG4gICAgICAgICAgICBuZXdZID0gKCBkZXN0WSAtIHN0YXJ0WSApICogZWFzaW5nICsgc3RhcnRZO1xyXG4gICAgICAgICAgICB0aGF0Ll90cmFuc2xhdGUobmV3WCwgbmV3WSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHRoYXQuaXNBbmltYXRpbmcgKSB7XHJcbiAgICAgICAgICAgICAgICByQUYoc3RlcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHN0ZXAoKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVFdmVudDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBzd2l0Y2ggKCBlLnR5cGUgKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvdWNoc3RhcnQnOlxyXG4gICAgICAgICAgICBjYXNlICdwb2ludGVyZG93bic6XHJcbiAgICAgICAgICAgIGNhc2UgJ01TUG9pbnRlckRvd24nOlxyXG4gICAgICAgICAgICBjYXNlICdtb3VzZWRvd24nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnQoZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndG91Y2htb3ZlJzpcclxuICAgICAgICAgICAgY2FzZSAncG9pbnRlcm1vdmUnOlxyXG4gICAgICAgICAgICBjYXNlICdNU1BvaW50ZXJNb3ZlJzpcclxuICAgICAgICAgICAgY2FzZSAnbW91c2Vtb3ZlJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX21vdmUoZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndG91Y2hlbmQnOlxyXG4gICAgICAgICAgICBjYXNlICdwb2ludGVydXAnOlxyXG4gICAgICAgICAgICBjYXNlICdNU1BvaW50ZXJVcCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ21vdXNldXAnOlxyXG4gICAgICAgICAgICBjYXNlICd0b3VjaGNhbmNlbCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvaW50ZXJjYW5jZWwnOlxyXG4gICAgICAgICAgICBjYXNlICdNU1BvaW50ZXJDYW5jZWwnOlxyXG4gICAgICAgICAgICBjYXNlICdtb3VzZWNhbmNlbCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmQoZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnb3JpZW50YXRpb25jaGFuZ2UnOlxyXG4gICAgICAgICAgICBjYXNlICdyZXNpemUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndHJhbnNpdGlvbmVuZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3dlYmtpdFRyYW5zaXRpb25FbmQnOlxyXG4gICAgICAgICAgICBjYXNlICdvVHJhbnNpdGlvbkVuZCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ01TVHJhbnNpdGlvbkVuZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uRW5kKGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3doZWVsJzpcclxuICAgICAgICAgICAgY2FzZSAnRE9NTW91c2VTY3JvbGwnOlxyXG4gICAgICAgICAgICBjYXNlICdtb3VzZXdoZWVsJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3doZWVsKGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2tleWRvd24nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fa2V5KGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NsaWNrJzpcclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5lbmFibGVkICYmICFlLl9jb25zdHJ1Y3RlZCApIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFNjcm9sbGJhciAoZGlyZWN0aW9uLCBpbnRlcmFjdGl2ZSwgdHlwZSkge1xyXG4gICAgdmFyIHNjcm9sbGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG4gICAgICAgIGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICAgIGlmICggdHlwZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICBzY3JvbGxiYXIuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Ojk5OTknO1xyXG4gICAgICAgIGluZGljYXRvci5zdHlsZS5jc3NUZXh0ID0gJy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC41KTtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC45KTtib3JkZXItcmFkaXVzOjNweCc7XHJcbiAgICB9XHJcblxyXG4gICAgaW5kaWNhdG9yLmNsYXNzTmFtZSA9ICdpU2Nyb2xsSW5kaWNhdG9yJztcclxuXHJcbiAgICBpZiAoIGRpcmVjdGlvbiA9PSAnaCcgKSB7XHJcbiAgICAgICAgaWYgKCB0eXBlID09PSB0cnVlICkge1xyXG4gICAgICAgICAgICBzY3JvbGxiYXIuc3R5bGUuY3NzVGV4dCArPSAnO2hlaWdodDo3cHg7bGVmdDoycHg7cmlnaHQ6MnB4O2JvdHRvbTowJztcclxuICAgICAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2Nyb2xsYmFyLmNsYXNzTmFtZSA9ICdpU2Nyb2xsSG9yaXpvbnRhbFNjcm9sbGJhcic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICggdHlwZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICAgICAgc2Nyb2xsYmFyLnN0eWxlLmNzc1RleHQgKz0gJzt3aWR0aDo3cHg7Ym90dG9tOjJweDt0b3A6MnB4O3JpZ2h0OjFweCc7XHJcbiAgICAgICAgICAgIGluZGljYXRvci5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2Nyb2xsYmFyLmNsYXNzTmFtZSA9ICdpU2Nyb2xsVmVydGljYWxTY3JvbGxiYXInO1xyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbGJhci5zdHlsZS5jc3NUZXh0ICs9ICc7b3ZlcmZsb3c6aGlkZGVuJztcclxuXHJcbiAgICBpZiAoICFpbnRlcmFjdGl2ZSApIHtcclxuICAgICAgICBzY3JvbGxiYXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGxiYXIuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcclxuXHJcbiAgICByZXR1cm4gc2Nyb2xsYmFyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBJbmRpY2F0b3IgKHNjcm9sbGVyLCBvcHRpb25zKSB7XHJcbiAgICB0aGlzLndyYXBwZXIgPSB0eXBlb2Ygb3B0aW9ucy5lbCA9PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5lbCkgOiBvcHRpb25zLmVsO1xyXG4gICAgdGhpcy53cmFwcGVyU3R5bGUgPSB0aGlzLndyYXBwZXIuc3R5bGU7XHJcbiAgICB0aGlzLmluZGljYXRvciA9IHRoaXMud3JhcHBlci5jaGlsZHJlblswXTtcclxuICAgIHRoaXMuaW5kaWNhdG9yU3R5bGUgPSB0aGlzLmluZGljYXRvci5zdHlsZTtcclxuICAgIHRoaXMuc2Nyb2xsZXIgPSBzY3JvbGxlcjtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgbGlzdGVuWDogdHJ1ZSxcclxuICAgICAgICBsaXN0ZW5ZOiB0cnVlLFxyXG4gICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcclxuICAgICAgICByZXNpemU6IHRydWUsXHJcbiAgICAgICAgZGVmYXVsdFNjcm9sbGJhcnM6IGZhbHNlLFxyXG4gICAgICAgIHNocmluazogZmFsc2UsXHJcbiAgICAgICAgZmFkZTogZmFsc2UsXHJcbiAgICAgICAgc3BlZWRSYXRpb1g6IDAsXHJcbiAgICAgICAgc3BlZWRSYXRpb1k6IDBcclxuICAgIH07XHJcblxyXG4gICAgZm9yICggdmFyIGkgaW4gb3B0aW9ucyApIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnNbaV0gPSBvcHRpb25zW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2l6ZVJhdGlvWCA9IDE7XHJcbiAgICB0aGlzLnNpemVSYXRpb1kgPSAxO1xyXG4gICAgdGhpcy5tYXhQb3NYID0gMDtcclxuICAgIHRoaXMubWF4UG9zWSA9IDA7XHJcblxyXG4gICAgaWYgKCB0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUgKSB7XHJcbiAgICAgICAgaWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVUb3VjaCApIHtcclxuICAgICAgICAgICAgdXRpbHMuYWRkRXZlbnQodGhpcy5pbmRpY2F0b3IsICd0b3VjaHN0YXJ0JywgdGhpcyk7XHJcbiAgICAgICAgICAgIHV0aWxzLmFkZEV2ZW50KHdpbmRvdywgJ3RvdWNoZW5kJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlUG9pbnRlciApIHtcclxuICAgICAgICAgICAgdXRpbHMuYWRkRXZlbnQodGhpcy5pbmRpY2F0b3IsIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcmRvd24nKSwgdGhpcyk7XHJcbiAgICAgICAgICAgIHV0aWxzLmFkZEV2ZW50KHdpbmRvdywgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVydXAnKSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlTW91c2UgKSB7XHJcbiAgICAgICAgICAgIHV0aWxzLmFkZEV2ZW50KHRoaXMuaW5kaWNhdG9yLCAnbW91c2Vkb3duJywgdGhpcyk7XHJcbiAgICAgICAgICAgIHV0aWxzLmFkZEV2ZW50KHdpbmRvdywgJ21vdXNldXAnLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0aGlzLm9wdGlvbnMuZmFkZSApIHtcclxuICAgICAgICB0aGlzLndyYXBwZXJTdHlsZVt1dGlscy5zdHlsZS50cmFuc2Zvcm1dID0gdGhpcy5zY3JvbGxlci50cmFuc2xhdGVaO1xyXG4gICAgICAgIHZhciBkdXJhdGlvblByb3AgPSB1dGlscy5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb247XHJcbiAgICAgICAgaWYoIWR1cmF0aW9uUHJvcCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3JhcHBlclN0eWxlW2R1cmF0aW9uUHJvcF0gPSB1dGlscy5pc0JhZEFuZHJvaWQgPyAnMC4wMDAxbXMnIDogJzBtcyc7XHJcbiAgICAgICAgLy8gcmVtb3ZlIDAuMDAwMW1zXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmKHV0aWxzLmlzQmFkQW5kcm9pZCkge1xyXG4gICAgICAgICAgICByQUYoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZihzZWxmLndyYXBwZXJTdHlsZVtkdXJhdGlvblByb3BdID09PSAnMC4wMDAxbXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi53cmFwcGVyU3R5bGVbZHVyYXRpb25Qcm9wXSA9ICcwcyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLndyYXBwZXJTdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgfVxyXG59XHJcblxyXG5JbmRpY2F0b3IucHJvdG90eXBlID0ge1xyXG4gICAgaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgc3dpdGNoICggZS50eXBlICkge1xyXG4gICAgICAgICAgICBjYXNlICd0b3VjaHN0YXJ0JzpcclxuICAgICAgICAgICAgY2FzZSAncG9pbnRlcmRvd24nOlxyXG4gICAgICAgICAgICBjYXNlICdNU1BvaW50ZXJEb3duJzpcclxuICAgICAgICAgICAgY2FzZSAnbW91c2Vkb3duJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0KGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvdWNobW92ZSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvaW50ZXJtb3ZlJzpcclxuICAgICAgICAgICAgY2FzZSAnTVNQb2ludGVyTW92ZSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ21vdXNlbW92ZSc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlKGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvdWNoZW5kJzpcclxuICAgICAgICAgICAgY2FzZSAncG9pbnRlcnVwJzpcclxuICAgICAgICAgICAgY2FzZSAnTVNQb2ludGVyVXAnOlxyXG4gICAgICAgICAgICBjYXNlICdtb3VzZXVwJzpcclxuICAgICAgICAgICAgY2FzZSAndG91Y2hjYW5jZWwnOlxyXG4gICAgICAgICAgICBjYXNlICdwb2ludGVyY2FuY2VsJzpcclxuICAgICAgICAgICAgY2FzZSAnTVNQb2ludGVyQ2FuY2VsJzpcclxuICAgICAgICAgICAgY2FzZSAnbW91c2VjYW5jZWwnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kKGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuZmFkZVNjcm9sbGJhcnMgKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZhZGVUaW1lb3V0KTtcclxuICAgICAgICAgICAgdGhpcy5mYWRlVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLmludGVyYWN0aXZlICkge1xyXG4gICAgICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh0aGlzLmluZGljYXRvciwgJ3RvdWNoc3RhcnQnLCB0aGlzKTtcclxuICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQodGhpcy5pbmRpY2F0b3IsIHV0aWxzLnByZWZpeFBvaW50ZXJFdmVudCgncG9pbnRlcmRvd24nKSwgdGhpcyk7XHJcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHRoaXMuaW5kaWNhdG9yLCAnbW91c2Vkb3duJywgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICd0b3VjaG1vdmUnLCB0aGlzKTtcclxuICAgICAgICAgICAgdXRpbHMucmVtb3ZlRXZlbnQod2luZG93LCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJtb3ZlJyksIHRoaXMpO1xyXG4gICAgICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdtb3VzZW1vdmUnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgJ3RvdWNoZW5kJywgdGhpcyk7XHJcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVydXAnKSwgdGhpcyk7XHJcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgJ21vdXNldXAnLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLmRlZmF1bHRTY3JvbGxiYXJzICkge1xyXG4gICAgICAgICAgICB0aGlzLndyYXBwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLndyYXBwZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgX3N0YXJ0OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciBwb2ludCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XHJcblxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zaXRpb25UaW1lKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdGlhdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sYXN0UG9pbnRYID0gcG9pbnQucGFnZVg7XHJcbiAgICAgICAgdGhpcy5sYXN0UG9pbnRZID0gcG9pbnQucGFnZVk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lICA9IHV0aWxzLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVUb3VjaCApIHtcclxuICAgICAgICAgICAgdXRpbHMuYWRkRXZlbnQod2luZG93LCAndG91Y2htb3ZlJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggIXRoaXMub3B0aW9ucy5kaXNhYmxlUG9pbnRlciApIHtcclxuICAgICAgICAgICAgdXRpbHMuYWRkRXZlbnQod2luZG93LCB1dGlscy5wcmVmaXhQb2ludGVyRXZlbnQoJ3BvaW50ZXJtb3ZlJyksIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoICF0aGlzLm9wdGlvbnMuZGlzYWJsZU1vdXNlICkge1xyXG4gICAgICAgICAgICB1dGlscy5hZGRFdmVudCh3aW5kb3csICdtb3VzZW1vdmUnLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuX2V4ZWNFdmVudCgnYmVmb3JlU2Nyb2xsU3RhcnQnKTtcclxuICAgIH0sXHJcblxyXG4gICAgX21vdmU6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIHBvaW50ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZSxcclxuICAgICAgICAgICAgZGVsdGFYLCBkZWx0YVksXHJcbiAgICAgICAgICAgIG5ld1gsIG5ld1ksXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcCA9IHV0aWxzLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYgKCAhdGhpcy5tb3ZlZCApIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5fZXhlY0V2ZW50KCdzY3JvbGxTdGFydCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tb3ZlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGRlbHRhWCA9IHBvaW50LnBhZ2VYIC0gdGhpcy5sYXN0UG9pbnRYO1xyXG4gICAgICAgIHRoaXMubGFzdFBvaW50WCA9IHBvaW50LnBhZ2VYO1xyXG5cclxuICAgICAgICBkZWx0YVkgPSBwb2ludC5wYWdlWSAtIHRoaXMubGFzdFBvaW50WTtcclxuICAgICAgICB0aGlzLmxhc3RQb2ludFkgPSBwb2ludC5wYWdlWTtcclxuXHJcbiAgICAgICAgbmV3WCA9IHRoaXMueCArIGRlbHRhWDtcclxuICAgICAgICBuZXdZID0gdGhpcy55ICsgZGVsdGFZO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3MobmV3WCwgbmV3WSk7XHJcblxyXG4vLyBJTlNFUlQgUE9JTlQ6IGluZGljYXRvci5fbW92ZVxyXG5cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0sXHJcblxyXG4gICAgX2VuZDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoICF0aGlzLmluaXRpYXRlZCApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbml0aWF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgJ3RvdWNobW92ZScsIHRoaXMpO1xyXG4gICAgICAgIHV0aWxzLnJlbW92ZUV2ZW50KHdpbmRvdywgdXRpbHMucHJlZml4UG9pbnRlckV2ZW50KCdwb2ludGVybW92ZScpLCB0aGlzKTtcclxuICAgICAgICB1dGlscy5yZW1vdmVFdmVudCh3aW5kb3csICdtb3VzZW1vdmUnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLnNjcm9sbGVyLm9wdGlvbnMuc25hcCApIHtcclxuICAgICAgICAgICAgdmFyIHNuYXAgPSB0aGlzLnNjcm9sbGVyLl9uZWFyZXN0U25hcCh0aGlzLnNjcm9sbGVyLngsIHRoaXMuc2Nyb2xsZXIueSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGltZSA9IHRoaXMub3B0aW9ucy5zbmFwU3BlZWQgfHwgTWF0aC5tYXgoXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKE1hdGguYWJzKHRoaXMuc2Nyb2xsZXIueCAtIHNuYXAueCksIDEwMDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihNYXRoLmFicyh0aGlzLnNjcm9sbGVyLnkgLSBzbmFwLnkpLCAxMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICksIDMwMCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHRoaXMuc2Nyb2xsZXIueCAhPSBzbmFwLnggfHwgdGhpcy5zY3JvbGxlci55ICE9IHNuYXAueSApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZXIuZGlyZWN0aW9uWCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGVyLmRpcmVjdGlvblkgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlci5jdXJyZW50UGFnZSA9IHNuYXA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGVyLnNjcm9sbFRvKHNuYXAueCwgc25hcC55LCB0aW1lLCB0aGlzLnNjcm9sbGVyLm9wdGlvbnMuYm91bmNlRWFzaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLm1vdmVkICkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLl9leGVjRXZlbnQoJ3Njcm9sbEVuZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdHJhbnNpdGlvblRpbWU6IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgdGltZSA9IHRpbWUgfHwgMDtcclxuICAgICAgICB2YXIgZHVyYXRpb25Qcm9wID0gdXRpbHMuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uO1xyXG4gICAgICAgIGlmKCFkdXJhdGlvblByb3ApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZVtkdXJhdGlvblByb3BdID0gdGltZSArICdtcyc7XHJcblxyXG4gICAgICAgIGlmICggIXRpbWUgJiYgdXRpbHMuaXNCYWRBbmRyb2lkICkge1xyXG4gICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlW2R1cmF0aW9uUHJvcF0gPSAnMC4wMDAxbXMnO1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgMC4wMDAxbXNcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICByQUYoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZihzZWxmLmluZGljYXRvclN0eWxlW2R1cmF0aW9uUHJvcF0gPT09ICcwLjAwMDFtcycpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmluZGljYXRvclN0eWxlW2R1cmF0aW9uUHJvcF0gPSAnMHMnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogZnVuY3Rpb24gKGVhc2luZykge1xyXG4gICAgICAgIHRoaXMuaW5kaWNhdG9yU3R5bGVbdXRpbHMuc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXSA9IGVhc2luZztcclxuICAgIH0sXHJcblxyXG4gICAgcmVmcmVzaDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMubGlzdGVuWCAmJiAhdGhpcy5vcHRpb25zLmxpc3RlblkgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yU3R5bGUuZGlzcGxheSA9IHRoaXMuc2Nyb2xsZXIuaGFzSG9yaXpvbnRhbFNjcm9sbCA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICAgICAgfSBlbHNlIGlmICggdGhpcy5vcHRpb25zLmxpc3RlblkgJiYgIXRoaXMub3B0aW9ucy5saXN0ZW5YICkge1xyXG4gICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLmRpc3BsYXkgPSB0aGlzLnNjcm9sbGVyLmhhc1ZlcnRpY2FsU2Nyb2xsID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLmRpc3BsYXkgPSB0aGlzLnNjcm9sbGVyLmhhc0hvcml6b250YWxTY3JvbGwgfHwgdGhpcy5zY3JvbGxlci5oYXNWZXJ0aWNhbFNjcm9sbCA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMuc2Nyb2xsZXIuaGFzSG9yaXpvbnRhbFNjcm9sbCAmJiB0aGlzLnNjcm9sbGVyLmhhc1ZlcnRpY2FsU2Nyb2xsICkge1xyXG4gICAgICAgICAgICB1dGlscy5hZGRDbGFzcyh0aGlzLndyYXBwZXIsICdpU2Nyb2xsQm90aFNjcm9sbGJhcnMnKTtcclxuICAgICAgICAgICAgdXRpbHMucmVtb3ZlQ2xhc3ModGhpcy53cmFwcGVyLCAnaVNjcm9sbExvbmVTY3JvbGxiYXInKTtcclxuXHJcbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmRlZmF1bHRTY3JvbGxiYXJzICYmIHRoaXMub3B0aW9ucy5jdXN0b21TdHlsZSApIHtcclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLmxpc3RlblggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLnJpZ2h0ID0gJzhweCc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS5ib3R0b20gPSAnOHB4JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUNsYXNzKHRoaXMud3JhcHBlciwgJ2lTY3JvbGxCb3RoU2Nyb2xsYmFycycpO1xyXG4gICAgICAgICAgICB1dGlscy5hZGRDbGFzcyh0aGlzLndyYXBwZXIsICdpU2Nyb2xsTG9uZVNjcm9sbGJhcicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuZGVmYXVsdFNjcm9sbGJhcnMgJiYgdGhpcy5vcHRpb25zLmN1c3RvbVN0eWxlICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMubGlzdGVuWCApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUucmlnaHQgPSAnMnB4JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLmJvdHRvbSA9ICcycHgnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgciA9IHRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQ7ICAvLyBmb3JjZSByZWZyZXNoXHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcHRpb25zLmxpc3RlblggKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3JhcHBlcldpZHRoID0gdGhpcy53cmFwcGVyLmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5yZXNpemUgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvcldpZHRoID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh0aGlzLndyYXBwZXJXaWR0aCAqIHRoaXMud3JhcHBlcldpZHRoIC8gKHRoaXMuc2Nyb2xsZXIuc2Nyb2xsZXJXaWR0aCB8fCB0aGlzLndyYXBwZXJXaWR0aCB8fCAxKSksIDgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS53aWR0aCA9IHRoaXMuaW5kaWNhdG9yV2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JXaWR0aCA9IHRoaXMuaW5kaWNhdG9yLmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1heFBvc1ggPSB0aGlzLndyYXBwZXJXaWR0aCAtIHRoaXMuaW5kaWNhdG9yV2lkdGg7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ2NsaXAnICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5taW5Cb3VuZGFyeVggPSAtdGhpcy5pbmRpY2F0b3JXaWR0aCArIDg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1heEJvdW5kYXJ5WCA9IHRoaXMud3JhcHBlcldpZHRoIC0gODtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWluQm91bmRhcnlYID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF4Qm91bmRhcnlYID0gdGhpcy5tYXhQb3NYO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNpemVSYXRpb1ggPSB0aGlzLm9wdGlvbnMuc3BlZWRSYXRpb1ggfHwgKHRoaXMuc2Nyb2xsZXIubWF4U2Nyb2xsWCAmJiAodGhpcy5tYXhQb3NYIC8gdGhpcy5zY3JvbGxlci5tYXhTY3JvbGxYKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5saXN0ZW5ZICkge1xyXG4gICAgICAgICAgICB0aGlzLndyYXBwZXJIZWlnaHQgPSB0aGlzLndyYXBwZXIuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5yZXNpemUgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhlaWdodCA9IE1hdGgubWF4KE1hdGgucm91bmQodGhpcy53cmFwcGVySGVpZ2h0ICogdGhpcy53cmFwcGVySGVpZ2h0IC8gKHRoaXMuc2Nyb2xsZXIuc2Nyb2xsZXJIZWlnaHQgfHwgdGhpcy53cmFwcGVySGVpZ2h0IHx8IDEpKSwgOCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IHRoaXMuaW5kaWNhdG9ySGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGVpZ2h0ID0gdGhpcy5pbmRpY2F0b3IuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1heFBvc1kgPSB0aGlzLndyYXBwZXJIZWlnaHQgLSB0aGlzLmluZGljYXRvckhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnNocmluayA9PSAnY2xpcCcgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1pbkJvdW5kYXJ5WSA9IC10aGlzLmluZGljYXRvckhlaWdodCArIDg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1heEJvdW5kYXJ5WSA9IHRoaXMud3JhcHBlckhlaWdodCAtIDg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1pbkJvdW5kYXJ5WSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1heEJvdW5kYXJ5WSA9IHRoaXMubWF4UG9zWTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tYXhQb3NZID0gdGhpcy53cmFwcGVySGVpZ2h0IC0gdGhpcy5pbmRpY2F0b3JIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZVJhdGlvWSA9IHRoaXMub3B0aW9ucy5zcGVlZFJhdGlvWSB8fCAodGhpcy5zY3JvbGxlci5tYXhTY3JvbGxZICYmICh0aGlzLm1heFBvc1kgLyB0aGlzLnNjcm9sbGVyLm1heFNjcm9sbFkpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMub3B0aW9ucy5saXN0ZW5YICYmIE1hdGgucm91bmQodGhpcy5zaXplUmF0aW9YICogdGhpcy5zY3JvbGxlci54KSB8fCAwLFxyXG4gICAgICAgICAgICB5ID0gdGhpcy5vcHRpb25zLmxpc3RlblkgJiYgTWF0aC5yb3VuZCh0aGlzLnNpemVSYXRpb1kgKiB0aGlzLnNjcm9sbGVyLnkpIHx8IDA7XHJcblxyXG4gICAgICAgIGlmICggIXRoaXMub3B0aW9ucy5pZ25vcmVCb3VuZGFyaWVzICkge1xyXG4gICAgICAgICAgICBpZiAoIHggPCB0aGlzLm1pbkJvdW5kYXJ5WCApIHtcclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5vcHRpb25zLnNocmluayA9PSAnc2NhbGUnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh0aGlzLmluZGljYXRvcldpZHRoICsgeCwgOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMubWluQm91bmRhcnlYO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB4ID4gdGhpcy5tYXhCb3VuZGFyeVggKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ3NjYWxlJyApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5tYXgodGhpcy5pbmRpY2F0b3JXaWR0aCAtICh4IC0gdGhpcy5tYXhQb3NYKSwgOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSB0aGlzLm1heFBvc1ggKyB0aGlzLmluZGljYXRvcldpZHRoIC0gdGhpcy53aWR0aDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCA9IHRoaXMubWF4Qm91bmRhcnlYO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB0aGlzLm9wdGlvbnMuc2hyaW5rID09ICdzY2FsZScgJiYgdGhpcy53aWR0aCAhPSB0aGlzLmluZGljYXRvcldpZHRoICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuaW5kaWNhdG9yV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggeSA8IHRoaXMubWluQm91bmRhcnlZICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuc2hyaW5rID09ICdzY2FsZScgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmluZGljYXRvckhlaWdodCArIHkgKiAzLCA4KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLm1pbkJvdW5kYXJ5WTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICggeSA+IHRoaXMubWF4Qm91bmRhcnlZICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLm9wdGlvbnMuc2hyaW5rID09ICdzY2FsZScgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmluZGljYXRvckhlaWdodCAtICh5IC0gdGhpcy5tYXhQb3NZKSAqIDMsIDgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yU3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSB0aGlzLm1heFBvc1kgKyB0aGlzLmluZGljYXRvckhlaWdodCAtIHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB5ID0gdGhpcy5tYXhCb3VuZGFyeVk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHRoaXMub3B0aW9ucy5zaHJpbmsgPT0gJ3NjYWxlJyAmJiB0aGlzLmhlaWdodCAhPSB0aGlzLmluZGljYXRvckhlaWdodCApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5pbmRpY2F0b3JIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMuc2Nyb2xsZXIub3B0aW9ucy51c2VUcmFuc2Zvcm0gKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9yU3R5bGVbdXRpbHMuc3R5bGUudHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUoJyArIHggKyAncHgsJyArIHkgKyAncHgpJyArIHRoaXMuc2Nyb2xsZXIudHJhbnNsYXRlWjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmluZGljYXRvclN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS50b3AgPSB5ICsgJ3B4JztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIF9wb3M6IGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgaWYgKCB4IDwgMCApIHtcclxuICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmICggeCA+IHRoaXMubWF4UG9zWCApIHtcclxuICAgICAgICAgICAgeCA9IHRoaXMubWF4UG9zWDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggeSA8IDAgKSB7XHJcbiAgICAgICAgICAgIHkgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIHkgPiB0aGlzLm1heFBvc1kgKSB7XHJcbiAgICAgICAgICAgIHkgPSB0aGlzLm1heFBvc1k7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4ID0gdGhpcy5vcHRpb25zLmxpc3RlblggPyBNYXRoLnJvdW5kKHggLyB0aGlzLnNpemVSYXRpb1gpIDogdGhpcy5zY3JvbGxlci54O1xyXG4gICAgICAgIHkgPSB0aGlzLm9wdGlvbnMubGlzdGVuWSA/IE1hdGgucm91bmQoeSAvIHRoaXMuc2l6ZVJhdGlvWSkgOiB0aGlzLnNjcm9sbGVyLnk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsZXIuc2Nyb2xsVG8oeCwgeSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGZhZGU6IGZ1bmN0aW9uICh2YWwsIGhvbGQpIHtcclxuICAgICAgICBpZiAoIGhvbGQgJiYgIXRoaXMudmlzaWJsZSApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZmFkZVRpbWVvdXQpO1xyXG4gICAgICAgIHRoaXMuZmFkZVRpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgdGltZSA9IHZhbCA/IDI1MCA6IDUwMCxcclxuICAgICAgICAgICAgZGVsYXkgPSB2YWwgPyAwIDogMzAwO1xyXG5cclxuICAgICAgICB2YWwgPSB2YWwgPyAnMScgOiAnMCc7XHJcblxyXG4gICAgICAgIHRoaXMud3JhcHBlclN0eWxlW3V0aWxzLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbl0gPSB0aW1lICsgJ21zJztcclxuXHJcbiAgICAgICAgdGhpcy5mYWRlVGltZW91dCA9IHNldFRpbWVvdXQoKGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyU3R5bGUub3BhY2l0eSA9IHZhbDtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gK3ZhbDtcclxuICAgICAgICB9KS5iaW5kKHRoaXMsIHZhbCksIGRlbGF5KTtcclxuICAgIH1cclxufTtcclxuXHJcbklTY3JvbGwudXRpbHMgPSB1dGlscztcclxuXHJcbmlmICggdHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcclxuICAgIG1vZHVsZS5leHBvcnRzID0gSVNjcm9sbDtcclxufSBlbHNlIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XHJcbiAgICAgICAgZGVmaW5lKCBmdW5jdGlvbiAoKSB7IHJldHVybiBJU2Nyb2xsOyB9ICk7XHJcbn0gZWxzZSB7XHJcbiAgICB3aW5kb3cuSVNjcm9sbCA9IElTY3JvbGw7XHJcbn1cclxuXHJcbn0pKHdpbmRvdywgZG9jdW1lbnQsIE1hdGgpO1xyXG5cclxuXHJcbi8qIVxyXG4qIFNjcm9sbG92ZXJmbG93IDIuMC4wIG1vZHVsZSBmb3IgZnVsbFBhZ2UuanMgPj0gM1xyXG4qIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm90cmlnby9mdWxsUGFnZS5qc1xyXG4qIEBsaWNlbnNlIE1JVCBsaWNlbnNlZFxyXG4qXHJcbiogQ29weXJpZ2h0IChDKSAyMDE1IGFsdmFyb3RyaWdvLmNvbSAtIEEgcHJvamVjdCBieSBBbHZhcm8gVHJpZ29cclxuKi9cclxuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50KSB7XHJcbiAgICB3aW5kb3cuZnBfc2Nyb2xsb3ZlcmZsb3cgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIC8vIGtlZXBpbmcgY2VudHJhbCBzZXQgb2YgY2xhc3NuYW1lcyBhbmQgc2VsZWN0b3JzXHJcbiAgICAgICAgdmFyIFNDUk9MTEFCTEUgPSAgICAgICAgICAgICdmcC1zY3JvbGxhYmxlJztcclxuICAgICAgICB2YXIgU0NST0xMQUJMRV9TRUwgPSAgICAgICAgJy4nICsgU0NST0xMQUJMRTtcclxuXHJcbiAgICAgICAgdmFyIEFDVElWRSA9ICAgICAgICAgICAgICAgICdhY3RpdmUnO1xyXG4gICAgICAgIHZhciBBQ1RJVkVfU0VMID0gICAgICAgICAgICAnLicgKyBBQ1RJVkU7XHJcblxyXG4gICAgICAgIHZhciBTRUNUSU9OID0gICAgICAgICAgICAgICAnZnAtc2VjdGlvbic7XHJcbiAgICAgICAgdmFyIFNFQ1RJT05fU0VMID0gICAgICAgICAgICcuJyArIFNFQ1RJT047XHJcbiAgICAgICAgdmFyIFNFQ1RJT05fQUNUSVZFX1NFTCA9ICAgIFNFQ1RJT05fU0VMICsgQUNUSVZFX1NFTDtcclxuXHJcbiAgICAgICAgdmFyIFNMSURFID0gICAgICAgICAgICAgICAgICdmcC1zbGlkZSc7XHJcbiAgICAgICAgdmFyIFNMSURFX1NFTCA9ICAgICAgICAgICAgICcuJyArIFNMSURFO1xyXG4gICAgICAgIHZhciBTTElERV9BQ1RJVkVfU0VMID0gICAgICBTTElERV9TRUwgKyBBQ1RJVkVfU0VMO1xyXG5cclxuICAgICAgICB2YXIgU0xJREVTX1dSQVBQRVIgPSAgICAgICAgJ2ZwLXNsaWRlcyc7XHJcbiAgICAgICAgdmFyIFNMSURFU19XUkFQUEVSX1NFTCA9ICAgICcuJyArIFNMSURFU19XUkFQUEVSO1xyXG5cclxuICAgICAgICB2YXIgVEFCTEVfQ0VMTCA9ICAgICAgICAgICAgJ2ZwLXRhYmxlQ2VsbCc7XHJcbiAgICAgICAgdmFyIFRBQkxFX0NFTExfU0VMID0gICAgICAgICcuJyArIFRBQkxFX0NFTEw7XHJcblxyXG4gICAgICAgIHZhciBSRVNQT05TSVZFID0gICAgICAgICAgICAnZnAtcmVzcG9uc2l2ZSc7XHJcbiAgICAgICAgdmFyIEFVVE9fSEVJR0hUX1JFU1BPTlNJVkU9ICdmcC1hdXRvLWhlaWdodC1yZXNwb25zaXZlJztcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIFR1cm5zIGlTY3JvbGwgYG1vdXNld2hlZWxgIG9wdGlvbiBvZmYgZHluYW1pY2FsbHlcclxuICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jdWJpcS9pc2Nyb2xsL2lzc3Vlcy8xMDM2XHJcbiAgICAgICAgKi9cclxuICAgICAgICBJU2Nyb2xsLnByb3RvdHlwZS53aGVlbE9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgdGhpcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIFR1cm5zIGlTY3JvbGwgYG1vdXNld2hlZWxgIG9wdGlvbiBvbiBkeW5hbWljYWxseVxyXG4gICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL2N1YmlxL2lzY3JvbGwvaXNzdWVzLzEwMzZcclxuICAgICAgICAqL1xyXG4gICAgICAgIElTY3JvbGwucHJvdG90eXBlLndoZWVsT2ZmID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgdGhpcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBSZXR1cm5zIGFuIGludGVnZXIgcmVwcmVzZW50aW5nIHRoZSBwYWRkaW5nIGRpbWVuc2lvbnMgaW4gcHguXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRQYWRkaW5ncyhlbGVtZW50KXtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBmcF91dGlscy5jbG9zZXN0KGVsZW1lbnQsIFNFQ1RJT05fU0VMKTtcclxuICAgICAgICAgICAgaWYoc2VjdGlvbiAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKHNlY3Rpb24pWydwYWRkaW5nLWJvdHRvbSddKSArIHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoc2VjdGlvbilbJ3BhZGRpbmctdG9wJ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsQmFySGFuZGxlcigpe1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNlbGYub3B0aW9ucyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihvcHRpb25zLCBpc2Nyb2xsT3B0aW9ucyl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pc2Nyb2xsT3B0aW9ucyA9IGlzY3JvbGxPcHRpb25zO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNjcm9sbEJhckZvckFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxwYWdlX2FwaS5zaGFyZWQuYWZ0ZXJSZW5kZXJBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2FmdGVyIERPTSBhbmQgaW1hZ2VzIGFyZSBsb2FkZWRcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTY3JvbGxCYXJGb3JBbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICBmdWxscGFnZV9hcGkuc2hhcmVkLmFmdGVyUmVuZGVyQWN0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBDcmVhdGVzIHRoZSBzY3JvbGxiYXIgZm9yIHRoZSBzZWN0aW9ucyBhbmQgc2xpZGVzIGluIHRoZSBzaXRlXHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNjcm9sbEJhckZvckFsbCgpe1xyXG4gICAgICAgICAgICAgICAgaWYoZnBfdXRpbHMuaGFzQ2xhc3MoZG9jdW1lbnQuYm9keSwgUkVTUE9OU0lWRSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVJlc3BvbnNpdmVTY3JvbGxPdmVyZmxvd3MoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yRWFjaFNlY3Rpb25BbmRTbGlkZShjcmVhdGVTY3JvbGxCYXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBDaGVja3MgaWYgdGhlIGVsZW1lbnQgbmVlZHMgc2Nyb2xsYmFyIGFuZCBpZiB0aGUgdXNlciB3YW50cyB0byBhcHBseSBpdC5cclxuICAgICAgICAgICAgKiBJZiBzbyBpdCBjcmVhdGVzIGl0LlxyXG4gICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgICBqUXVlcnkgb2JqZWN0IG9mIHRoZSBzZWN0aW9uIG9yIHNsaWRlXHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNjcm9sbEJhcihlbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIC8vVXNlciBkb2Vzbid0IHdhbnQgc2Nyb2xsYmFyIGhlcmU/IFNheW9uYXJhIGJhYnkhXHJcbiAgICAgICAgICAgICAgICBpZihmcF91dGlscy5oYXNDbGFzcyhlbGVtZW50LCAnZnAtbm9zY3JvbGwnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbmVjZXNzYXJ5IHRvIG1ha2UgYHNjcm9sbEhlaWdodGAgd29yayB1bmRlciBPcGVyYSAxMlxyXG4gICAgICAgICAgICAgICAgZnBfdXRpbHMuY3NzKGVsZW1lbnQsIHsnb3ZlcmZsb3cnOiAnaGlkZGVuJ30pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxPdmVyZmxvd0hhbmRsZXIgPSBzZWxmLm9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyO1xyXG4gICAgICAgICAgICAgICAgdmFyIHdyYXAgPSBzY3JvbGxPdmVyZmxvd0hhbmRsZXIud3JhcENvbnRlbnQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uID0gZnBfdXRpbHMuY2xvc2VzdChlbGVtZW50LCBTRUNUSU9OX1NFTCk7IC8vaW4gY2FzZSBlbGVtZW50IGlzIGEgc2xpZGVcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxhYmxlID0gc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnNjcm9sbGFibGUoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIHZhciBwYWRkaW5ncyA9IGdldFBhZGRpbmdzKHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaWYgdGhlcmUgd2FzIHNjcm9sbCwgdGhlIGNvbnRlbnRIZWlnaHQgd2lsbCBiZSB0aGUgb25lIGluIHRoZSBzY3JvbGxhYmxlIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgIGlmKHNjcm9sbGFibGUgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudEhlaWdodCA9IHNjcm9sbE92ZXJmbG93SGFuZGxlci5zY3JvbGxIZWlnaHQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRIZWlnaHQgPSBlbGVtZW50LnNjcm9sbEhlaWdodCAtIHBhZGRpbmdzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNlbGYub3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEhlaWdodCA9ICQoVEFCTEVfQ0VMTF9TRUwsIGVsZW1lbnQpWzBdLnNjcm9sbEhlaWdodCAtIHBhZGRpbmdzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gZnBfdXRpbHMuZ2V0V2luZG93SGVpZ2h0KCkgLSBwYWRkaW5ncztcclxuXHJcbiAgICAgICAgICAgICAgICAvL25lZWRzIHNjcm9sbD9cclxuICAgICAgICAgICAgICAgIGlmICggY29udGVudEhlaWdodCA+IHNjcm9sbEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZGlkIHdlIGFscmVhZHkgaGF2ZSBhbiBzY3JvbGxiYXIgPyBVcGRhdGluZyBpdFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNjcm9sbGFibGUgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93SGFuZGxlci51cGRhdGUoZWxlbWVudCwgc2Nyb2xsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgIC8vY3JlYXRpbmcgdGhlIHNjcm9sbGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYub3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZwX3V0aWxzLndyYXBJbm5lcigkKFRBQkxFX0NFTExfU0VMLCBlbGVtZW50KVswXSwgd3JhcC5zY3JvbGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcF91dGlscy53cmFwSW5uZXIoJChUQUJMRV9DRUxMX1NFTCwgZWxlbWVudClbMF0sIHdyYXAuc2Nyb2xsYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnBfdXRpbHMud3JhcElubmVyKGVsZW1lbnQsIHdyYXAuc2Nyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnBfdXRpbHMud3JhcElubmVyKGVsZW1lbnQsIHdyYXAuc2Nyb2xsYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLmNyZWF0ZShlbGVtZW50LCBzY3JvbGxIZWlnaHQsIHNlbGYuaXNjcm9sbE9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3JlbW92aW5nIHRoZSBzY3JvbGxpbmcgd2hlbiBpdCBpcyBub3QgbmVjZXNzYXJ5IGFueW1vcmVcclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnJlbW92ZShlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3VuZG9cclxuICAgICAgICAgICAgICAgIGZwX3V0aWxzLmNzcyhlbGVtZW50LCB7J292ZXJmbG93JzogJyd9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICogQXBwbGllcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGVhY2ggc2VjdGlvbiBpbiB0aGUgc2l0ZVxyXG4gICAgICAgICAgICAqIG9yIHRoZSBzbGlkZXMgd2l0aGluIHRoZW1cclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZnVuY3Rpb24gZm9yRWFjaFNlY3Rpb25BbmRTbGlkZShjYWxsYmFjayl7XHJcbiAgICAgICAgICAgICAgICAkKFNFQ1RJT05fU0VMKS5mb3JFYWNoKGZ1bmN0aW9uKHNlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZXMgPSAkKFNMSURFX1NFTCwgc2VjdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNsaWRlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhzbGlkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhzZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICogUmVtb3ZlcyBzY3JvbGxPdmVyZmxvdyBmb3Igc2VjdGlvbnMgdXNpbmcgdGhlIGNsYXNzIGBmcC1hdXRvLWhlaWdodC1yZXNwb25zaXZlYFxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVSZXNwb25zaXZlU2Nyb2xsT3ZlcmZsb3dzKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyID0gc2VsZi5vcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlcjtcclxuICAgICAgICAgICAgICAgIGZvckVhY2hTZWN0aW9uQW5kU2xpZGUoZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZnBfdXRpbHMuaGFzQ2xhc3MoIGZwX3V0aWxzLmNsb3Nlc3QoZWxlbWVudCwgU0VDVElPTl9TRUwpLCBBVVRPX0hFSUdIVF9SRVNQT05TSVZFKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93SGFuZGxlci5yZW1vdmUoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vcHVibGljIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZVNjcm9sbEJhckZvckFsbCA9IGNyZWF0ZVNjcm9sbEJhckZvckFsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuIG9iamVjdCB0byBoYW5kbGUgb3ZlcmZsb3cgc2Nyb2xsaW5nLlxyXG4gICAgICAgICAqIFRoaXMgdXNlcyBqcXVlcnkuc2xpbVNjcm9sbCB0byBhY2NvbXBsaXNoIG92ZXJmbG93IHNjcm9sbGluZy5cclxuICAgICAgICAgKiBJdCBpcyBwb3NzaWJsZSB0byBwYXNzIGluIGFuIGFsdGVybmF0ZSBzY3JvbGxPdmVyZmxvd0hhbmRsZXJcclxuICAgICAgICAgKiB0byB0aGUgZnVsbHBhZ2UuanMgb3B0aW9uIHRoYXQgaW1wbGVtZW50cyB0aGUgc2FtZSBmdW5jdGlvbnNcclxuICAgICAgICAgKiBhcyB0aGlzIGhhbmRsZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciAkID0gbnVsbDtcclxuICAgICAgICB2YXIgaXNjcm9sbEhhbmRsZXIgPSB7XHJcbiAgICAgICAgICAgIHJlZnJlc2hJZDogbnVsbCxcclxuICAgICAgICAgICAgaVNjcm9sbEluc3RhbmNlczogW10sXHJcblxyXG4gICAgICAgICAgICAvLyBEZWZhdWx0IG9wdGlvbnMgZm9yIGlTY3JvbGwuanMgdXNlZCB3aGVuIHVzaW5nIHNjcm9sbE92ZXJmbG93XHJcbiAgICAgICAgICAgIGlzY3JvbGxPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbW91c2VXaGVlbDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhpZGVTY3JvbGxiYXJzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZhZGVTY3JvbGxiYXJzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRpc2FibGVNb3VzZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZlU2Nyb2xsYmFyczogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICAgICAgICAgICAgICAkID0gZnBfdXRpbHMuJDtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaXNUb3VjaCA9ICgoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCAobmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwKSB8fCAobmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9maXhpbmcgYnVnIGluIGlTY3JvbGwgd2l0aCBsaW5rczogaHR0cHM6Ly9naXRodWIuY29tL2N1YmlxL2lzY3JvbGwvaXNzdWVzLzc4M1xyXG4gICAgICAgICAgICAgICAgaXNjcm9sbEhhbmRsZXIuaXNjcm9sbE9wdGlvbnMuY2xpY2sgPSBpc1RvdWNoOyAvLyBzZWUgIzIwMzVcclxuXHJcbiAgICAgICAgICAgICAgICAvL2V4dGVuZGluZyBpU2Nyb2xsIG9wdGlvbnMgd2l0aCB0aGUgdXNlciBjdXN0b20gb25lc1xyXG4gICAgICAgICAgICAgICAgaXNjcm9sbEhhbmRsZXIuaXNjcm9sbE9wdGlvbnMgPSBmcF91dGlscy5kZWVwRXh0ZW5kKGlzY3JvbGxIYW5kbGVyLmlzY3JvbGxPcHRpb25zLCBvcHRpb25zLnNjcm9sbE92ZXJmbG93T3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBzY3JvbGxCYXJIYW5kbGVyKCkuaW5pdChvcHRpb25zLCBpc2Nyb2xsSGFuZGxlci5pc2Nyb2xsT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvLyBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBtb3VzZSB3aGVlbCBmb3IgdGhlIGFjdGl2ZSBzZWN0aW9uIG9yIGFsbCBzbGlkZXMgaW4gaXRcclxuICAgICAgICAgICAgdG9nZ2xlV2hlZWw6IGZ1bmN0aW9uKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxhYmxlID0gJChTQ1JPTExBQkxFX1NFTCwgJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdKTtcclxuICAgICAgICAgICAgICAgIHNjcm9sbGFibGUuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaVNjcm9sbEluc3RhbmNlID0gaXRlbS5mcF9pc2Nyb2xsSW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaVNjcm9sbEluc3RhbmNlICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpU2Nyb2xsSW5zdGFuY2Uud2hlZWxPbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpU2Nyb2xsSW5zdGFuY2Uud2hlZWxPZmYoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICogVHVybnMgb2ZmIGlTY3JvbGwgZm9yIHRoZSBkZXN0aW5hdGlvbiBzZWN0aW9uLlxyXG4gICAgICAgICAgICAqIFdoZW4gc2Nyb2xsaW5nIHZlcnkgZmFzdCBvbiBzb21lIHRyYWNrcGFkcyAoYW5kIEFwcGxlIGxhcHRvcHMpIHRoZSBpbmVydGlhbCBzY3JvbGxpbmcgd291bGRcclxuICAgICAgICAgICAgKiBzY3JvbGwgdGhlIGRlc3RpbmF0aW9uIHNlY3Rpb24vc2xpZGUgYmVmb3JlIHRoZSBzZWN0aW9ucyBhbmltYXRpb25zIGVuZHMuXHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpc2Nyb2xsSGFuZGxlci50b2dnbGVXaGVlbChmYWxzZSk7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvLyBUdXJucyBvZmYgaVNjcm9sbCBmb3IgdGhlIGxlYXZpbmcgc2VjdGlvblxyXG4gICAgICAgICAgICBiZWZvcmVMZWF2ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlzY3JvbGxIYW5kbGVyLm9uTGVhdmUoKVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLy8gVHVybnMgb24gaVNjcm9sbCBvbiBzZWN0aW9uIGxvYWRcclxuICAgICAgICAgICAgYWZ0ZXJMb2FkOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaXNjcm9sbEhhbmRsZXIudG9nZ2xlV2hlZWwodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gb3ZlcmZsb3cgc2Nyb2xsaW5nIGlzIG5lZWRlZCBmb3IgYSBzZWN0aW9uLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgICAgICBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgY3VycmVudCBzZWN0aW9uXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge051bWJlcn0gc2Nyb2xsSGVpZ2h0IEN1cnJlbnQgd2luZG93IGhlaWdodCBpbiBwaXhlbHNcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgc2Nyb2xsSGVpZ2h0LCBpc2Nyb2xsT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbGFibGUgPSAkKFNDUk9MTEFCTEVfU0VMLCBlbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxhYmxlLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZwX3V0aWxzLmNzcyhpdGVtLCB7J2hlaWdodCc6IHNjcm9sbEhlaWdodCArICdweCd9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlTY3JvbGxJbnN0YW5jZSA9IGl0ZW0uZnBfaXNjcm9sbEluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpU2Nyb2xsSW5zdGFuY2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc2Nyb2xsSGFuZGxlci5pU2Nyb2xsSW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlTY3JvbGxJbnN0YW5jZSA9IG5ldyBJU2Nyb2xsKGl0ZW0sIGlzY3JvbGxPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICBpc2Nyb2xsSGFuZGxlci5pU2Nyb2xsSW5zdGFuY2VzLnB1c2goaVNjcm9sbEluc3RhbmNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWZwX3V0aWxzLmhhc0NsYXNzKGZwX3V0aWxzLmNsb3Nlc3QoZWxlbWVudCwgU0VDVElPTl9TRUwpLCBBQ1RJVkUpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vZmYgYnkgZGVmYXVsdCB1bnRpbCB0aGUgc2VjdGlvbiBnZXRzIGFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpU2Nyb2xsSW5zdGFuY2Uud2hlZWxPZmYoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZnBfaXNjcm9sbEluc3RhbmNlID0gaVNjcm9sbEluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogUmV0dXJuIGEgYm9vbGVhbiBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgc2Nyb2xsYWJsZSBlbGVtZW50IGlzIGFcclxuICAgICAgICAgICAgICogdGhlIGVuZCBvciBhdCB0aGUgc3RhcnQgb2YgdGhlIHNjcm9sbGluZyBkZXBlbmRpbmcgb24gdGhlIGdpdmVuIHR5cGUuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gIHR5cGUgICAgICAgRWl0aGVyICd0b3AnIG9yICdib3R0b20nXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gIHNjcm9sbGFibGUgalF1ZXJ5IG9iamVjdCBmb3IgdGhlIHNjcm9sbGFibGUgZWxlbWVudFxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaXNTY3JvbGxlZDogZnVuY3Rpb24odHlwZSwgc2Nyb2xsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbGVyID0gc2Nyb2xsYWJsZS5mcF9pc2Nyb2xsSW5zdGFuY2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9ubyBzY3JvbGxlcj9cclxuICAgICAgICAgICAgICAgIGlmICghc2Nyb2xsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3RvcCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxlci55ID49IDAgJiYgIWZwX3V0aWxzLmdldFNjcm9sbFRvcChzY3JvbGxhYmxlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAgLSBzY3JvbGxlci55KSArIGZwX3V0aWxzLmdldFNjcm9sbFRvcChzY3JvbGxhYmxlKSArIDEgKyBzY3JvbGxhYmxlLm9mZnNldEhlaWdodCA+PSBzY3JvbGxhYmxlLnNjcm9sbEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBSZXR1cm5zIHRoZSBzY3JvbGxhYmxlIGVsZW1lbnQgZm9yIHRoZSBnaXZlbiBzZWN0aW9uLlxyXG4gICAgICAgICAgICAgKiBJZiB0aGVyZSBhcmUgbGFuZHNjYXBlIHNsaWRlcywgd2lsbCBvbmx5IHJldHVybiBhIHNjcm9sbGFibGUgZWxlbWVudFxyXG4gICAgICAgICAgICAgKiBpZiBpdCBpcyBpbiB0aGUgYWN0aXZlIHNsaWRlLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBhY3RpdmVTZWN0aW9uIGpRdWVyeSBvYmplY3QgY29udGFpbmluZyBjdXJyZW50IHNlY3Rpb25cclxuICAgICAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHNjcm9sbGFibGU6IGZ1bmN0aW9uKGFjdGl2ZVNlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIGxhbmRzY2FwZSBzbGlkZXMsIHdlIGNoZWNrIGlmIHRoZSBzY3JvbGxpbmcgYmFyIGlzIGluIHRoZSBjdXJyZW50IG9uZSBvciBub3RcclxuICAgICAgICAgICAgICAgIGlmICgkKFNMSURFU19XUkFQUEVSX1NFTCwgYWN0aXZlU2VjdGlvbikubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoU0NST0xMQUJMRV9TRUwsICQoU0xJREVfQUNUSVZFX1NFTCwgYWN0aXZlU2VjdGlvbilbMF0gKVswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAkKFNDUk9MTEFCTEVfU0VMLCBhY3RpdmVTZWN0aW9uKVswXTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBSZXR1cm5zIHRoZSBzY3JvbGwgaGVpZ2h0IG9mIHRoZSB3cmFwcGVkIGNvbnRlbnQuXHJcbiAgICAgICAgICAgICAqIElmIHRoaXMgaXMgbGFyZ2VyIHRoYW4gdGhlIHdpbmRvdyBoZWlnaHQgbWludXMgc2VjdGlvbiBwYWRkaW5nLFxyXG4gICAgICAgICAgICAgKiBvdmVyZmxvdyBzY3JvbGxpbmcgaXMgbmVlZGVkLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgalF1ZXJ5IG9iamVjdCBjb250YWluaW5nIGN1cnJlbnQgc2VjdGlvblxyXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBzY3JvbGxIZWlnaHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkKCcuZnAtc2Nyb2xsZXInLCAkKFNDUk9MTEFCTEVfU0VMLCBlbGVtZW50KVswXSApWzBdLnNjcm9sbEhlaWdodDtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiBvdmVyZmxvdyBzY3JvbGxpbmcgaXMgbm8gbG9uZ2VyIG5lZWRlZCBmb3IgYSBzZWN0aW9uLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgICAgICBqUXVlcnkgb2JqZWN0IGNvbnRhaW5pbmcgY3VycmVudCBzZWN0aW9uXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxhYmxlID0gJChTQ1JPTExBQkxFX1NFTCwgZWxlbWVudClbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsYWJsZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlTY3JvbGxJbnN0YW5jZSA9IHNjcm9sbGFibGUuZnBfaXNjcm9sbEluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlTY3JvbGxJbnN0YW5jZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaVNjcm9sbEluc3RhbmNlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGFibGUuZnBfaXNjcm9sbEluc3RhbmNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy91bndyYXBwaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmZwLXNjcm9sbGVyJywgZWxlbWVudClbMF0ub3V0ZXJIVE1MID0gJCgnLmZwLXNjcm9sbGVyJywgZWxlbWVudClbMF0uaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgICQoU0NST0xMQUJMRV9TRUwsIGVsZW1lbnQpWzBdLm91dGVySFRNTCA9ICQoU0NST0xMQUJMRV9TRUwsIGVsZW1lbnQpWzBdLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiBvdmVyZmxvdyBzY3JvbGxpbmcgaGFzIGFscmVhZHkgYmVlbiBzZXR1cCBidXQgdGhlXHJcbiAgICAgICAgICAgICAqIHdpbmRvdyBoZWlnaHQgaGFzIHBvdGVudGlhbGx5IGNoYW5nZWQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudCAgICAgIGpRdWVyeSBvYmplY3QgY29udGFpbmluZyBjdXJyZW50IHNlY3Rpb25cclxuICAgICAgICAgICAgICogQHBhcmFtICB7TnVtYmVyfSBzY3JvbGxIZWlnaHQgQ3VycmVudCB3aW5kb3cgaGVpZ2h0IGluIHBpeGVsc1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCBzY3JvbGxIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIC8vdXNpbmcgYSB0aW1lb3V0IGluIG9yZGVyIHRvIGV4ZWN1dGUgdGhlIHJlZnJlc2ggZnVuY3Rpb24gb25seSBvbmNlIHdoZW4gYHVwZGF0ZWAgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluIGFcclxuICAgICAgICAgICAgICAgIC8vc2hvcnQgcGVyaW9kIG9mIHRpbWUuXHJcbiAgICAgICAgICAgICAgICAvL2l0IGFsc28gY29tZXMgb24gaGFuZHkgYmVjYXVzZSBpU2Nyb2xsIHJlcXVpcmVzIHRoZSB1c2Ugb2YgdGltZW91dCB3aGVuIHVzaW5nIGByZWZyZXNoYC5cclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpc2Nyb2xsSGFuZGxlci5yZWZyZXNoSWQpO1xyXG4gICAgICAgICAgICAgICAgaXNjcm9sbEhhbmRsZXIucmVmcmVzaElkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzY3JvbGxIYW5kbGVyLmlTY3JvbGxJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpbnN0YW5jZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdWdseSBoYWNrIHRoYXQgd2UgYXJlIGZvcmNlZCB0byB1c2UgZHVlIHRvIHRoZSB0aW1lb3V0IGRlbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb3RoZXJ3aXNlIGRvbmUgb24gdGhlIGZ1bGxwYWdlLmpzIHJlQnVpbGQgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbHBhZ2VfYXBpLnNpbGVudE1vdmVUbyhmcF91dGlscy5pbmRleCgkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0pICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCAxNTApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdXBkYXRpbmcgdGhlIHdyYXBwZXJzIGhlaWdodFxyXG4gICAgICAgICAgICAgICAgZnBfdXRpbHMuY3NzKCQoU0NST0xMQUJMRV9TRUwsIGVsZW1lbnQpWzBdLCB7J2hlaWdodCc6IHNjcm9sbEhlaWdodCArICdweCd9KTtcclxuICAgICAgICAgICAgICAgIGZwX3V0aWxzLmNzcygkKFNDUk9MTEFCTEVfU0VMLCBlbGVtZW50KVswXS5wYXJlbnROb2RlLCB7J2hlaWdodCc6IHNjcm9sbEhlaWdodCArIGdldFBhZGRpbmdzKGVsZW1lbnQpICsgJ3B4J30pO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENhbGxlZCB0byBnZXQgYW55IGFkZGl0aW9uYWwgZWxlbWVudHMgbmVlZGVkIHRvIHdyYXAgdGhlIHNlY3Rpb25cclxuICAgICAgICAgICAgICogY29udGVudCBpbiBvcmRlciB0byBmYWNpbGl0YXRlIG92ZXJmbG93IHNjcm9sbGluZy5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQHJldHVybiB7U3RyaW5nfE9iamVjdH0gQ2FuIGJlIGEgc3RyaW5nIGNvbnRhaW5pbmcgSFRNTCxcclxuICAgICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgYSBET00gZWxlbWVudCwgb3IgalF1ZXJ5IG9iamVjdC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHdyYXBDb250ZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxhYmxlLmNsYXNzTmFtZSA9IFNDUk9MTEFCTEU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxlci5jbGFzc05hbWUgPSAnZnAtc2Nyb2xsZXInO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYWJsZTogc2Nyb2xsYWJsZSxcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcjogc2Nyb2xsZXJcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpc2Nyb2xsSGFuZGxlcjogaXNjcm9sbEhhbmRsZXJcclxuICAgICAgICB9O1xyXG4gICAgfSkoKTtcclxufSkod2luZG93LCBkb2N1bWVudCk7IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuLy/Qt9Cw0LPRgNGD0LfQutCwINGE0LDQudC70L7QslxyXG4gICAgJCgnYm9keScpLm9uKFwiY2xpY2tcIiwgJy5qcy11cGxvYWQtZmlsZScsIFVwbG9hZEludm9pY2UpO1xyXG4vL9C/0L7RgdC70LUg0LLRi9Cx0L7RgNCwINGE0LDQudC70LAg0Lgg0L3QsNC20LDRgtC40LUg0LrQvdC+0L/QutC4INC+0LpcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZVwiLCAnLmpzLWZpbGUtbG9hZCcsIFVwbG9hZFNjYW5TQ2hhbmdlKTtcclxuLy/Rg9C00LDQu9C40YLRjCDQt9Cw0LPRgNGD0LbQtdC90L3Ri9C5INGE0LDQudC7XHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwgJy5qcy1pbWFnZS1nbCAuanMtZGVsbC1pbWFnZScsIERlbGxJbWFnZUJsb2NrKTtcclxuXHJcbi8v0YDQsNGB0YHRgtCw0LLQuNGC0Ywg0L3QvtC80LXRgNCwINC00LvRjyDQsdC70L7QutC+0LIg0YEg0LfQsNCz0YDRg9C30LrQvtC5INGE0LDQudC70L7QslxyXG4gICAgTnVtYmVyQmxvY2tGaWxlKCk7XHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuLy/Qt9Cw0LPRgNGD0LfQutCwINGE0LDQudC70L7QsiAtXHTQvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrRgyDQstGL0LHRgNCw0YLRjCDRhNCw0LnQu1xyXG4vLyAgfFxyXG4vLyBcXC9cclxudmFyIFVwbG9hZEludm9pY2UgPSBmdW5jdGlvbigpXHJcbntcclxuICAgIHZhciBpZF9ibG9jaz0kKHRoaXMpLmF0dHIoJ3R5cGVfYmxvY2snKTsgICAvL9C90L7QvNC10YAg0LHQu9C+0LrQsCDQsiDRhNC+0YDQvNC1XHJcbiAgICB2YXIgaWRfdHlwZT0kKHRoaXMpLmF0dHIoJ3R5cGVfbG9hZCcpOyAgICAgLy/RgtC40L8g0LfQsNCz0YDRg9C30LrQuCAxLSDRgdC10YDRgtC40YTQuNC60LDRgtGLICAyLSDRgdGA0L4g0Lgg0YLQsNC6INC00LDQu9C10LVcclxuICAgIHZhciBpZF9vYmplY3Q9JCh0aGlzKS5hdHRyKCdpZF9vYmplY3QnKTtcclxuXHJcbiAgICB2YXIgZm9ybWFhPSQoJ1tuYW1lPW15ZmlsZV0nKS5wYXJlbnRzKCdmb3JtJyk7XHJcbiAgICBmb3JtYWEuYXR0cigndHlwZV9sb2FkJyxpZF90eXBlKTtcclxuICAgIGZvcm1hYS5hdHRyKCd0eXBlX2Jsb2NrJyxpZF9ibG9jayk7XHJcbiAgICBmb3JtYWEuYXR0cignaWRfb2JqZWN0JyxpZF9vYmplY3QpO1xyXG5cclxuICAgICQoJ1tuYW1lPW15ZmlsZV0nKS50cmlnZ2VyKCdjbGljaycpO1xyXG59XHJcblxyXG4vL9GA0LDRgdGB0YLQsNCy0LjRgtGMINC90L7QvNC10YDQsCDQtNC70Y8g0LHQu9C+0LrQvtCyINGBINC30LDQs9GA0YPQt9C60L7QuSDRhNCw0LnQu9C+0LJcclxuLy8gIHxcclxuLy8gXFwvXHJcbmZ1bmN0aW9uIE51bWJlckJsb2NrRmlsZSgpIHtcclxuLy/RgNCw0YHRgdGC0LDQstC70Y/QtdGC0YHRjyDRgtC+0LvRjNC60L4g0L/RgNC4INC30LDQs9GA0YPQt9C60LUuINCyINC/0YDQvtGG0LXRgdGB0LUg0L3QtdC70YzQt9GPINC80LXQvdGP0YLRjCDQvdC+0LzQtdGA0LAg0YLQsNC6INC60LDQuiDQsiDRjdGC0L4g0LLRgNC10LzRjyDQvNC+0LbQtdGCINCz0YDRg9C30LjRgtGB0Y8g0YTQsNC50Lsg0YEg0Y3RgtC40Lwg0L3QvtC80LXRgNC+0Lwg0LHQu9C+0LrQsFxyXG4gICAgdmFyIG51bWJlcl9maWxlPTE7XHJcbiAgICAkKCcuanMtdXBsb2FkLWZpbGUnKS5lYWNoKGZ1bmN0aW9uIChpLCBlbGVtKSB7XHJcbiAgICAgICAgJCh0aGlzKS5hdHRyKCd0eXBlX2Jsb2NrJyxudW1iZXJfZmlsZSk7XHJcbiAgICAgICAgbnVtYmVyX2ZpbGUrKztcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvL9C00LvRjyDQvtGC0L/RgNCw0LLQutC4INGE0LDQudC70L7QsiDQvdGD0LbQvdCwINC/0YPRgdGC0LDRjyDRhNC+0YDQvNCwINGBIGlucHV0PWZpbGUg0LXRgdC70Lgg0L3QtdGCINGB0L7Qt9C00LDQtdC8INC10LVcclxuICAgIC8vYWxlcnQoJCgnLmZvcm1fdXAnKS5sZW5ndGgpO1xyXG4gICAgaWYoJCgnLmZvcm1fdXAnKS5sZW5ndGg9PTApXHJcbiAgICB7XHJcblxyXG4gICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxmb3JtIGNsYXNzPVwiZm9ybV91cFwiPjxpbnB1dCBjbGFzcz1cImpzLWZpbGUtbG9hZFwiIHR5cGU9XCJmaWxlXCIgbmFtZT1cIm15ZmlsZVwiPjwvZm9ybT4nKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy/Qt9Cw0LPRgNGD0LfQutCwINGE0LDQudC70L7QsiAtXHTQv9C+0YHQu9C1INCy0YvQsdC+0YDQsCDRhNCw0LnQu9CwINC90LDRh9Cw0LvQviDQt9Cw0LPRgNGD0LfQutC4XHJcbi8vICB8XHJcbi8vIFxcL1xyXG52YXIgVXBsb2FkU2NhblNDaGFuZ2UgPSBmdW5jdGlvbigpXHJcbntcclxuICAgIHZhciB0eXBlPSQodGhpcykucGFyZW50cygnZm9ybScpLmF0dHIoJ3R5cGVfbG9hZCcpO1xyXG4gICAgdmFyIG51bWJlcl9ibG9jaz0kKHRoaXMpLnBhcmVudHMoJ2Zvcm0nKS5hdHRyKCd0eXBlX2Jsb2NrJyk7XHJcblxyXG4gICAgdmFyIGlkX29iamVjdD0kKHRoaXMpLnBhcmVudHMoJ2Zvcm0nKS5hdHRyKCdpZF9vYmplY3QnKTtcclxuXHJcblxyXG4gICAgLy9hbGVydChpZF9vYmplY3QpO1xyXG4gICAgdmFyIGdsbD0kKCdkaXZbdHlwZV9ibG9jaz1cIicrbnVtYmVyX2Jsb2NrKydcIl0nKS5wYXJlbnRzKCcuanMtaW1hZ2UtZ2wnKTtcclxuXHJcbiAgICAvL9C+0L/RgNC10LTQtdC70Y/QtdC8INGB0LrQvtC70YzQutC+INC40YUg0YPQttC1INC60LDRgNGC0LjQvdC+0Log0LIg0YHQv9C40YHQutC1XHJcbiAgICB2YXIgbnVtYmVyX2xpID0gKGdsbC5maW5kKCcubGktaW1hZ2UnKS5sZW5ndGgrMSk7XHJcblxyXG4gICAgZmlsZSA9IHRoaXMuZmlsZXNbMF07XHJcbiAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIGdsbC5maW5kKCcubGlzdC1pbWFnZScpLmFwcGVuZCgnPGRpdiBudW1iZXJfbGk9XCInK251bWJlcl9saSsnXCIgY2xhc3M9XCJsaS1pbWFnZVwiPjxzcGFuIGNsYXNzPVwibmFtZS1pbWdcIj4nK3RoaXMuZmlsZXNbMF0ubmFtZSsnPC9zcGFuPjxzcGFuIGNsYXNzPVwiZGVsLWltZyBqcy1kZWxsLWltYWdlXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwic2l6ZS1pbWdcIj4nKyh0aGlzLmZpbGVzWzBdLnNpemUgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKSsnINCc0JE8L3NwYW4+PGRpdiBjbGFzcz1cInByb2dyZXNzLWltZ1wiPjxkaXYgY2xhc3M9XCJwLWltZ1wiIHN0eWxlPVwid2lkdGg6IDAlO1wiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuICAgICAgICBnbGwuZmluZCgnLmxpc3QtaW1hZ2UnKS5zaG93KCk7XHJcblxyXG4gICAgICAgIGdsbC5maW5kKCcuanMtdXBsb2FkLWZpbGUnKS5oaWRlKCkuYWRkQ2xhc3MoJ2VzaGUtbG9hZC1maWxlJyk7ICAvL9GB0L/RgNGP0YLRjCDQutC90L7Qv9C60YMg0LLRi9Cx0YDQsNGC0Ywg0YTQsNC50Lsg0L/QvtC60LAg0LPRgNGD0LfQuNGC0YHRj1xyXG5cclxuICAgICAgICAvL9C/0L7QutCw0LfRi9Cy0LDQtdC8INC30LDQs9GA0YPQt9GH0LjQuiDQtNC70Y8g0Y3RgtC+0Lkg0LrQsNGA0YLQuNC90LrQuFxyXG4gICAgICAgIGdsbC5maW5kKCdbbnVtYmVyX2xpPScrbnVtYmVyX2xpKyddIC5wLWltZycpLnNob3coKTtcclxuXHJcblxyXG4gICAgICAgIHVwbG9hZFMoZmlsZSx0eXBlLGlkX29iamVjdCxudW1iZXJfbGksbnVtYmVyX2Jsb2NrKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy/Qt9Cw0LPRgNGD0LfQutCwINGE0LDQudC70L7QsiAtXHTRg9C00LDQu9C40YLRjCDQt9Cw0LPRgNGD0LbQtdC90L3Ri9C5INGE0LDQudC7INC60YDQtdGB0YLQuNC6XHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiBEZWxsSW1hZ2VCbG9jaygpXHJcbntcclxuICAgIHZhciBsaT0kKHRoaXMpLnBhcmVudHMoJy5saS1pbWFnZScpO1xyXG4gICAgdmFyIGxpc3Q9JCh0aGlzKS5wYXJlbnRzKCcubGlzdC1pbWFnZScpO1xyXG4gICAgRGVsbEZpbGUoJCh0aGlzKS5hdHRyKCdpZCcpKTtcclxuICAgIC8v0YPQtNCw0LvQuNGC0Ywg0L3QsNC30LLQsNC90LjQtSDRhNCw0LnQu9CwINC40LcgaW5wdXRcclxuICAgICQodGhpcykucGFyZW50cygnLmpzLWltYWdlLWdsJykuZmluZCgnaW5wdXQnKS52YWwoRGVsbFZhbFN0cmluZygnZGVsbCcsJywnLCQodGhpcykucGFyZW50cygnLmpzLWltYWdlLWdsJykuZmluZCgnaW5wdXQnKS52YWwoKSwkKHRoaXMpLmF0dHIoJ2lkJykpKTtcclxuXHJcblxyXG4gICAgbGkuc2xpZGVVcChcInNsb3dcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcbiAgICAgICAgaWYgKGxpc3QuZmluZCgnLmxpLWltYWdlJykubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgbGlzdC5zbGlkZVVwKFwic2xvd1wiKTtcclxuICAgICAgICAgICAgbGlzdC5wYXJlbnRzKCcuanMtaW1hZ2UtZ2wnKS5maW5kKCcuanMtdXBsb2FkLWZpbGUnKS5yZW1vdmVDbGFzcygnZXNoZS1sb2FkLWZpbGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBudW1iZXJfbGkgPSAxO1xyXG4gICAgICAgIGxpc3QuZmluZCgnLmxpLWltYWdlJykuZWFjaChmdW5jdGlvbiAoaSwgZWxlbSkge1xyXG5cclxuICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdudW1iZXJfbGknLCBudW1iZXJfbGkpO1xyXG4gICAgICAgICAgICBudW1iZXJfbGkrKztcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbn1cclxuXHJcbi8v0LfQsNCz0YDRg9C30LrQsCDRhNCw0LnQu9C+0LIgLVx00L/RgNC+0YbQtdGB0YEg0LfQsNCz0YDRg9C30LrQuCDRhNCw0LnQu9CwINC90LAg0YHQtdGA0LLQtdGAXHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiB1cGxvYWRTKGZpbGUsdHlwZSxpZF9vYmplY3QsbnVtYmVyX2xpLG51bWJlcl9ibG9jaykge1xyXG4gICAgdmFyIGdsbD0kKCdkaXZbdHlwZV9ibG9jaz0nK251bWJlcl9ibG9jaysnXScpLnBhcmVudHMoJy5qcy1pbWFnZS1nbCcpO1xyXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LzQvtC20L3QviDQvtCx0YrQtdC00LjQvdC40YLRjCDQsiDQvtC00LjQvSxcclxuICAgIC8vINC10YHQu9C4IHN0YXR1cyA9PSAyMDAsINGC0L4g0Y3RgtC+INGD0YHQv9C10YUsINC40L3QsNGH0LUg0L7RiNC40LHQutCwXHJcbiAgICB4aHIub25sb2FkID0geGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL2FsZXJ0KHRoaXMuc3RhdHVzKTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgZ2xsLmZpbmQoJy5qcy11cGxvYWQtZmlsZScpLnNob3coKTtcclxuICAgICAgICAgICAgZ2xsLmZpbmQoJ1tudW1iZXJfbGk9JytudW1iZXJfbGkrJ10gLnAtaW1nJykud2lkdGgoMCkuaGlkZSgpO1xyXG4gICAgICAgICAgICBnbGwuZmluZCgnW251bWJlcl9saT0nK251bWJlcl9saSsnXScpLmFkZENsYXNzKCd5ZXMtbG9hZCcpO1xyXG4vL2FsZXJ0KFwiISEhXCIpO1xyXG4gICAgICAgICAgICBhbGVydF9tZXNzYWdlKCdvaycsJ9Ck0LDQudC7INC30LDQs9GA0YPQttC10L0nKTtcclxuICAgICAgICAgICAgLy/QvtGB0YLQsNC70L7RgdGMINC00L7QsdCw0LLQuNGC0Ywg0LIgaW5wdXQg0LfQsNCz0YDRg9C20LXQvdC90YvQuSBpZCDRhNCw0LnQu9CwXHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHI9SlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XHJcblxyXG4gICAgICAgICAgICBnbGwuZmluZCgnW251bWJlcl9saT0nK251bWJlcl9saSsnXSAuZGVsLWltZycpLmF0dHIoJ2lkJyxyLmVjaG8pO1xyXG5cclxuICAgICAgICAgICAgbmFtZV9zcWxfaW1hZ2U9ci5lY2hvOyAgLy9pZCDRhNC+0YLQutC4INC60L7RgtC+0YDRg9GOINC30LDQs9GA0YPQt9C40LvQuFxyXG5cclxuICAgICAgICAgICAgdmFyIGlucHU9Z2xsLmZpbmQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIC8vYWxlcnQoaW5wdS52YWwoKSk7XHJcbiAgICAgICAgICAgIGlmKGlucHUudmFsKCk9PScnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpbnB1LnZhbChuYW1lX3NxbF9pbWFnZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpbnB1LnZhbChpbnB1LnZhbCgpKycsJytuYW1lX3NxbF9pbWFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAvL1VwZGF0ZUltYWdlU3VwcGx5KGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGdsbC5maW5kKCcuanMtdXBsb2FkLWZpbGUnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIGdsbC5maW5kKCdbbnVtYmVyX2xpPScrbnVtYmVyX2xpKyddIC5wLWltZycpLndpZHRoKDApLmhpZGUoKTtcclxuICAgICAgICAgICAgZ2xsLmZpbmQoJ1tudW1iZXJfbGk9JytudW1iZXJfbGkrJ10nKS5hZGRDbGFzcygnbm8tbG9hZCcpO1xyXG4gICAgICAgICAgICBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ck0LDQudC7INC90LUg0LfQsNCz0YDRg9C20LXQvS4g0J3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YInKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnbGwuZmluZCgnW251bWJlcl9saT0nICsgbnVtYmVyX2xpICsgJ10nKS5zbGlkZVVwKFwic2xvd1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3Q9JCh0aGlzKS5wYXJlbnRzKCcubGlzdC1pbWFnZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QuZmluZCgnLmxpLWltYWdlJykubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5zbGlkZVVwKFwic2xvd1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xsLmZpbmQoJy5qcy11cGxvYWQtZmlsZScpLnJlbW92ZUNsYXNzKCdlc2hlLWxvYWQtZmlsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00LvRjyDQt9Cw0LrQsNGH0LrQuFxyXG4gICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgd2lkdGhzPU1hdGgucm91bmQoKGV2ZW50LmxvYWRlZCoxMDApL2V2ZW50LnRvdGFsKTtcclxuICAgICAgICBnbGwuZmluZCgnW251bWJlcl9saT0nK251bWJlcl9saSsnXSAucC1pbWcnKS53aWR0aCh3aWR0aHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHhoci5vcGVuKFwiUE9TVFwiLCBcIkFqYXgvZmlsZS91cGxvYWQucGhwXCIsIHRydWUpO1xyXG4gICAgLy94aHIuc2VuZChmaWxlKTtcclxuXHJcbiAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgIGZvcm1EYXRhLmFwcGVuZChcInRoZWZpbGVcIiwgZmlsZSk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJ0eXBlXCIsdHlwZSk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJvYmplY3RcIixpZF9vYmplY3QpO1xyXG4gICAgeGhyLnNlbmQoZm9ybURhdGEpO1xyXG5cclxufVxyXG5cclxuLy/Rg9C00LDQu9C40YLRjCDRhNCw0LnQuyDQvdCwINGB0LXRgNCy0LXRgNC1XHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiBEZWxsRmlsZShpZClcclxue1xyXG4gICAgaWYoaWQhPScnKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBkYXRhID0naWQ9JytpZDtcclxuXHJcbiAgICAgICAgQWpheENsaWVudCgnZmlsZScsJ2RlbGwnLCdHRVQnLGRhdGEsJ0FmdGVyWmVybycsMCwwKTtcclxuICAgIH1cclxufVxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0L/Rg9GB0YLRi9GI0LrQsFxyXG4vLyAgfFxyXG4vLyBcXC9cclxuZnVuY3Rpb24gQWZ0ZXJaZXJvKGRhdGEsdXBkYXRlKXt9XHJcbi8v0LTQvtCx0LDQstC70LXQvdC40LUg0Lgg0YPQtNCw0LvQtdC90LjQtSDQuNC3INGB0YLRgNC+0LrQuCDQt9C90LDRh9C10L3QuNC1INGBINC+0L/RgNC10LTQtdC70LXQvdC90YvQvCDRgNCw0LfQtNC10LvQuNGC0LXQu9C10LxcclxuLy8gIHxcclxuLy8gXFwvXHJcbi8vRGVsbFZhbFN0cmluZygnZGVsbCcsJywnLCcyLDUsOCcsNSkgLSA+ICDQv9C+0LvRg9GH0LjQvCDRgdGC0YDQvtC60YMgMiw4XHJcbmZ1bmN0aW9uIERlbGxWYWxTdHJpbmcoY29tbWFuZCxzZXBhcmF0b3Isc3RyaW5nLHZhbClcclxue1xyXG4vL2RlbGwgLSBhZGRcclxuICAgIHZhciB0ZXh0ID0gJyc7XHJcbiAgICBpZiAoY29tbWFuZCA9PSAnZGVsbCcpIHtcclxuXHJcbiAgICAgICAgdmFyIGNjID0gc3RyaW5nLnNwbGl0KHNlcGFyYXRvcik7XHJcbiAgICAgICAgdmFyIGxwID0gMDtcclxuICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IGNjLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjY1t0XSAhPSB2YWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjY1t0XSAhPSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChscCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBjY1t0XTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dCArIHNlcGFyYXRvciArIGNjW3RdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBscCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8v0LTQvtCx0LDQstC70LXQvdC40LVcclxuICAgICAgICBpZiAoalF1ZXJ5LnRyaW0oc3RyaW5nKSAhPSAnJykge1xyXG4gICAgICAgICAgICB0ZXh0ID0gc3RyaW5nICsgc2VwYXJhdG9yICsgdmFsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRleHQgPSB2YWw7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGV4dDtcclxufVxyXG4iLCIvLyBKYXZhU2NyaXB0IERvY3VtZW50XHJcbiQoZnVuY3Rpb24gKCl7XHJcblxyXG4vL9C00L7QsdCw0LLQuNGC0Ywg0LPRgNGD0L/Qv9GDINCyINGE0L7RgNC80LUg0LrQvdC+0L/QutCwICtcdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWFkZC1ncm91cCcsQWRkR3JvdXApO1x0XHJcbi8v0YPQtNCw0LvQuNGC0Ywg0LPRgNGD0L/Qv9GDINCyINGE0L7RgNC80LUg0LrQvdC+0L/QutCwIC1cdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWRlbGwtZ3JvdXAnLERlbGxHcm91cCk7XHRcclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG4vL9GD0LTQsNC70LjRgtGMINCz0YDRg9C/0L/RgyDQsiDRhNC+0YDQvNC1INC60L3QvtC/0LrQsCAtXHRcclxuLy8gIHxcclxuLy8gXFwvXHJcbmZ1bmN0aW9uIERlbGxHcm91cCgpXHJcbntcclxuXHR2YXIgZ3JvdXA9JCh0aGlzKS5wYXJlbnRzKCcuanMtZ3JvdXAnKTtcclxuXHRcclxuXHRncm91cC5zbGlkZVVwKFwic2xvd1wiLGZ1bmN0aW9uICgpIHtncm91cC5yZW1vdmUoKTsgIH0pO1xyXG5cdFxyXG59XHJcblxyXG5cclxuLy/QtNC+0LHQsNCy0LjRgtGMINCz0YDRg9C/0L/RgyDQsiDRhNC+0YDQvNC1INC60L3QvtC/0LrQsCArXHRcclxuLy8gIHxcclxuLy8gXFwvXHJcbmZ1bmN0aW9uIEFkZEdyb3VwKClcclxue1xyXG5cdC8vYWxlcnQoXCIhIVwiKTtcclxuXHR2YXIgZ3JvdXA9JCh0aGlzKS5wYXJlbnRzKCcuanMtZ3JvdXAnKTtcclxuXHR2YXIgY2xhc3NfZ3JvdXA9Jyc7XHJcblx0aWYoZ3JvdXAuaXMoJy5ncm91cC1yaWdodCcpKVxyXG5cdHtcclxuXHRcdFx0Y2xhc3NfZ3JvdXA9J2dyb3VwLXJpZ2h0JztcclxuXHR9XHJcblx0XHJcblx0dmFyIGdyb3VwX2h0bWw9Z3JvdXAuaHRtbCgpO1xyXG5cdFxyXG5cdGdyb3VwLmFmdGVyKCc8ZGl2IGNsYXNzPVwianMtZ3JvdXAgJytjbGFzc19ncm91cCsnIGNvbnRhY3QtZ3JvdXAgbGluZS1ncm91cFwiPicrZ3JvdXBfaHRtbCsnPC9kaXY+Jyk7XHJcblx0XHJcblx0dmFyIG5leHRfZ3JvdXA9Z3JvdXAubmV4dCgpO1xyXG5cdFxyXG5cdG5leHRfZ3JvdXAuZmluZCgnLmFjdGl2ZV9pbl8yMDE4JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9pbl8yMDE4Jyk7XHJcblx0bmV4dF9ncm91cC5maW5kKCcucmVxdWlyZWRfaW5fMjAxOCcpLnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHJcblx0XHJcblx0aWYobmV4dF9ncm91cC5maW5kKCcuanMtZGVsbC1ncm91cCcpLmxlbmd0aD09MClcclxuXHRcdHtcclxuXHRuZXh0X2dyb3VwLmZpbmQoJy5qcy1hZGQtZ3JvdXAnKS5hZnRlcignPGRpdiBkYXRhLXRvb2x0aXA9XCLQo9C00LDQu9C40YLRjFwiIGNsYXNzPVwiZGVsbC1ncm91cCBqcy1kZWxsLWdyb3VwXCI+PGRpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHRcdH1cclxuXHRUb29sVGlwKCk7XHJcblx0bmV4dF9ncm91cC5maW5kKCdpbnB1dCcpLnZhbCgnJyk7XHJcblx0bmV4dF9ncm91cC5maW5kKCd0ZXh0YXJlYScpLnZhbCgnJyk7XHJcblx0XHJcblx0Ly/Rg9C00LDQu9GP0LXQvCDQu9C40YjQvdC10LUg0LjQtyB0ZXh0YXJlYSDRgSByZXNpemUg0Lgg0LDQutGC0LjQstC40YDRg9C10Lwg0Log0L3QvtCy0YvQvCDQv9C+0LvRj9C8XHJcblx0bmV4dF9ncm91cC5maW5kKCcuanMtcmVzaXplLWJsb2NrJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHRcdFxyXG5cdFx0aWYoJCh0aGlzKS5maW5kKCd0ZXh0YXJlYScpLmxlbmd0aD09MilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCQodGhpcykuZmluZCgndGV4dGFyZWEnKS5maXJzdCgpLnJlbW92ZSgpO1xyXG5cdFx0XHRcdCQodGhpcykuZmluZCgndGV4dGFyZWEnKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG5cdFx0XHRcdCQodGhpcykuZmluZCgndGV4dGFyZWEnKS5hdXRvUmVzaXplKHtleHRyYVNwYWNlIDogMTB9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHJcblx0XHRcclxuXHR9KTtcclxuXHRcclxuXHRcclxuXHRuZXh0X2dyb3VwLmZpbmQoJy5saXN0XzIwMTgnKS5yZW1vdmVDbGFzcygnYWN0aXZlX2luXzIwMTgnKS5yZW1vdmVDbGFzcygnYWN0aXZlMV9pbl8yMDE4Jyk7XHJcblx0bmV4dF9ncm91cC5maW5kKCcubGlzdF8yMDE4IGlucHV0JykudmFsKCcnKTtcclxuXHRuZXh0X2dyb3VwLmZpbmQoJy5saXN0XzIwMTggLnNlbF9hY3RpdmUnKS5yZW1vdmVDbGFzcygnc2VsX2FjdGl2ZScpO1xyXG5cdFxyXG5cdG5leHRfZ3JvdXAuZmluZCgnLnNsY3QnKS5hdHRyKCdkYXRhX3NyYycsJycpLmVtcHR5KCk7XHJcblx0XHJcblx0Ly9qUXVlcnkuc2Nyb2xsVG8obmV4dF9ncm91cCwgMTAwMCwge29mZnNldDotNzB9KTtcclxuXHRcclxuXHRaaW5kZXgoKTtcclxuXHRTZWxlY3RVcGRhdGUoKTtcclxufS8vIEphdmFTY3JpcHQgRG9jdW1lbnRcclxuXHJcbi8v0L7QsdC90L7QstC40YLRjCDRgdC10LvQtdC60YLRiyDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0L3QvtCy0YvRhVxyXG4vLyAgfFxyXG4vLyBcXC9cclxuZnVuY3Rpb24gU2VsZWN0VXBkYXRlKClcclxue1xyXG5cdCQoXCIuc2xjdFwiKS51bmJpbmQoJ2NsaWNrLnN5cycpO1xyXG4gICAgJChcIi5zbGN0XCIpLmJpbmQoJ2NsaWNrLnN5cycsIHNsY3RjbGljayk7XHJcblx0JChcIi5kcm9wXCIpLmZpbmQoXCJsaVwiKS51bmJpbmQoJ2NsaWNrJyk7XHJcblx0JChcIi5kcm9wXCIpLmZpbmQoXCJsaVwiKS5iaW5kKCdjbGljaycsIGRyb3BsaSk7XHJcbn1cclxuIiwiJChmdW5jdGlvbiAoKXtcclxuXHJcbiAgICAvL9C40LfQvNC10L3QuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWFzc2Vzcy1lZGl0Jyxqc19lZGl0X2Fzc2Vzcyk7XHJcblxyXG4gICAgLy/Rg9C00LDQu9C40YLRjCDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtYXNzZXNzLWRlbCcsanNfYXNzZXNzX2RlbCk7XHJcblxyXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWFkZC1hc3Nlc3MnLGpzX2FkZF9hc3Nlc3MpO1xyXG5cclxuICAgIC8v0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C5INC+0LHRitC10LrRgiDQvNC10L3RjiDRgdC70LXQstCwXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5qcy1hc3Nlc3MtYWRkMFwiLCBqc19hZGRfYXNzZXNzKTtcclxuXHJcbiAgICAvL9C/0L7Qu9GD0YfQtdC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC90LDQttCw0YLQuNGOINC90LAg0L7QsdGK0LXQutGCXHJcbiAgICAkKCcuanMtY2xvdWQtYXNzZXNzJykub24oXCJjbGlja1wiLFwiLmpzLWluZm8tYXNzZXNzXCIsZG9jX2Fzc2Vzcyk7XHJcbiAgICAvL9C90LDQttCw0YLQuNC1INC90LAg0LLQutC70LDQtNC60YMg0LIg0YTQvtGA0LzQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC+0LHRitC10LrRgtGDXHJcbiAgLy8gICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcudGFic3NzJyx0YWJzX2Fzc2Vzcyk7XHJcblxyXG59KTtcclxuXHJcbi8qKtGC0LDQsdGB0Ysg0LIg0L7QutC90LUg0L7QsSDQvtCx0YrQtdC60YLQtVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdGFic19hc3Nlc3MoKSB7XHJcbiAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICAgIHZhciB1b289JCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcbiAgICBpZiAoICQodGhpcykuaXMoXCIuYWN0aXZlXCIpIClcclxuICAgIHtcclxuICAgICAgICAvL9GD0LbQtSDQsNC60YLQuNCy0L3QsNGPINCy0LrQu9Cw0LTQutCwXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICAkKCcuY2xpZW50X3dpbmRvdyAucHhfYmcnKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgJCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzc3MnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzc3NbaWQ9Jyt1b28rJ10nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIC8vdmFyIGtleV89JzAwMlUnO1xyXG5cclxuICAgICAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWRfdGFicz0nKyQodGhpcykuYXR0cihcImlkXCIpK1xyXG4gICAgICAgICAgICAnJnRrPScrJCgnLmgxMTEnKS5hdHRyKCdtb3InKStcclxuICAgICAgICAgICAgJyZpZD0nKyQoJy5oMTExJykuYXR0cignZm9yJyk7XHJcbiAgICAgICAgLy9hbGVydChkYXRhKTtcclxuICAgICAgICBBamF4Q2xpZW50KCdhc3Nlc3MnLCd0YWJzX2luZm8nLCdHRVQnLGRhdGEsJ0FmdGVyVGFic0luZm8nLCQodGhpcykuYXR0cihcImlkXCIpLDApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoq0LLRi9Cy0L7QtCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC+0LHRitC10LrRgtGDXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkb2NfYXNzZXNzKGV2ZW50KVxyXG57XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgLy/QtdGB0LvQuCDRjdGC0L4g0L3QtSDQvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDRg9C00LDQu9C40YLRjCDRgtC+INC+0YLQutGA0YvRgtC40LUg0LjQvdGE0L7RgNC80LDRhtC40LhcclxuICAgIGlmICgoISR0YXJnZXQuaGFzQ2xhc3MoJ2pzLWFzc2Vzcy1kZWwnKSkmJighJHRhcmdldC5oYXNDbGFzcygnanMtYXNzZXNzLWVkaXQnKSkpIHtcclxuXHJcblxyXG4gICAgICAgIHZhciBmb3JfaWQgPSAkKHRoaXMpLmF0dHIoJ29wX3JlbCcpO1xyXG5cclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9hc3Nlc3MvZm9ybV9kb2NfYXNzZXNzLnBocD9pZD0nICsgZm9yX2lkICsgJyZ0YWJzPTAnLFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgICAgICBUb29sVGlwKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuINC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YJcclxuICoqL1xyXG5mdW5jdGlvbiBqc19hZGRfYXNzZXNzKClcclxue1xyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL2FjY2Vzcy9mb3JtX2FkZF9hc3Nlc3MucGhwJyxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICBUb29sVGlwKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQuNC30LzQtdC90LjRgtGMINCe0LHRitC10LrRgtCwXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19lZGl0X2Fzc2VzcyhldmVudClcclxue1xyXG4gICAgLy9hbGVydChcIiFcIik7XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuYXNzZXNzX2Jsb2NrX3Bhc3MnKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvYWNjZXNzL2Zvcm1fZWRpdF9hc3Nlc3MucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19hc3Nlc3NfZGVsKGV2ZW50KVxyXG57XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZigkKHRoaXMpLmlzKCdbaWRfcmVsXScpKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy5hc3Nlc3NfYmxvY2tfcGFzcycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9hY2Nlc3MvZm9ybV9kZWxsX2Fzc2Vzcy5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxufSIsIiQoZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgLy/QutC70LjQutC90YPRgtGMINC90LAg0YfRgtC+INGC0L4g0LIg0YDQsNGB0LrRgNGL0LLQsNGO0YnQtdC8INC80LXQvdGOINC60L7RgNC30LjQvdGLXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLm1lbnVfampzIC5qcy1tZW51LWpqcy1iYXNrZXQnLG1lbnVfaXRlbV9iYXNrZXQpO1xyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsICcuanMtZGVsLWl0ZW1zLWJhc2tldCcsIGpzX2RlbF9pdGVtc19iYXNrZXQpO1xyXG5cclxuXHJcbiAgICAvL9C40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60L7RgNC30LjQvdGLINC60L7QvNC/0L7QvdC10L3RgtC+0LIg0YHQstC10YDRhdGDXHJcbiAgICBiYXNrZXRfaW5pdCgpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbi8v0YPQtNCw0LvQuNGC0Ywg0L/QvtC30LjRhtC40Y4g0LjQtyDRgdC/0LjRgdC60LAg0LIg0LrQvtGA0LfQuNC90LVcclxuZnVuY3Rpb24ganNfZGVsX2l0ZW1zX2Jhc2tldCgpXHJcbntcclxuICAgIHZhciBvcHA9JCh0aGlzKS5wYXJlbnRzKCcuaXRlbXNfYmxvY2tfcGFzc19iYXNrZXQnKS5hdHRyKCdvcF9yZWwnKTtcclxuXHJcbiAgICAkKCcuaXRlbXNfYmxvY2tfcGFzc19iYXNrZXRbb3BfcmVsPScrb3BwKyddJykuc2xpZGVVcChcInNsb3dcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5pdGVtc19ibG9ja19wYXNzX2Jhc2tldFtvcF9yZWw9JytvcHArJ10nKS5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG4gICAgQmFza2V0SXRlbXNBZGQob3BwLCQodGhpcykpO1xyXG5cclxuXHJcblxyXG5cclxuICAgIHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblxyXG4gICAgaWYodHlwZW9mKGl1KSA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICB7XHJcbiAgICAgICBpdT0kKCcudXNlcnNfcnVsZScpLmF0dHIoJ3VpJyk7XHJcblxyXG4gICAgfVxyXG4gICAgLy9hbGVydChpdSk7XHJcbiAgICB2YXIgY29va2llX25ldyA9ICQuY29va2llKCdiYXNrZXRfaXRlbV8nK2l1KTtcclxuXHJcbiAgICBpZigoY29va2llX25ldz09JycpfHwoY29va2llX25ldz09bnVsbCkpXHJcbiAgICB7XHJcbiAgICAgICAgJCggJy5hcmN0aWNtb2RhbC1jbG9zZScsICQoJy5qcy1mb3JtMicpLmNsb3Nlc3QoICcuYm94LW1vZGFsJyApKS5jbGljaygpO1xyXG4gICAgICAgIHZhciBjb3VudHM9MDtcclxuICAgIH0gZWxzZVxyXG4gICAge1xyXG5cclxuICAgICAgICB2YXIgY2MgPSBjb29raWVfbmV3LnNwbGl0KCcuJyk7XHJcbiAgICAgICAgdmFyIGNvdW50cz1jYy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmNvdW50LWJhc2tldC1pdGVtcycpLmZpbmQoJ2knKS5lbXB0eSgpLmFwcGVuZChjb3VudHMpO1xyXG59XHJcblxyXG5cclxuLy/QvtGH0LjRgdGC0LjRgtGMINC60L7RgNC30LjQvdGDXHJcbmZ1bmN0aW9uIGVyYXNlX2Jhc2tldCgpXHJcbntcclxuICAgIHZhciBpdT0kKCcudXNlcnNfcnVsZScpLmF0dHIoJ3VpJyk7XHJcbiAgICAkLmNvb2tpZShcImJhc2tldF9pdGVtX1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlLHNhbWVzaXRlOidsYXgnfSk7XHJcblxyXG4gICAgLy/QntCx0L3QvtCy0LjRgtGMINCy0YvQstC+0LQg0LrQvtGA0LfQuNC90YtcclxuICAgIGJhc2tldF9pbml0KCk7XHJcblxyXG4gICAgLy/RgdC60YDRi9GC0Ywg0LLRgdC1INGH0YLQviDQstGL0LTQtdC70LXQvdC+INCyINC+0LrQvdCw0YUg0YHQstGP0LfQsNC90L3QvtC1INGBINC60L7RgNC30LjQvdC+0LlcclxuICAgICQoJy5qcy1pdGVtcy1ibG9jayAuanMtbWVudS1yb290JykucmVtb3ZlQ2xhc3MoJ21vcmUtYWN0aXZlLXMxJyk7XHJcblxyXG4gICAgYWxlcnRfbWVzc2FnZSgnb2snLCfQmtC+0YDQt9C40L3QsCDQvtGH0LjRidC10L3QsCcpO1xyXG59XHJcblxyXG5cclxuLy/QutC70LjQutC90YPRgtGMINC90LAg0YfRgtC+INGC0L4g0LIg0YDQsNGB0LrRgNGL0LLQsNGO0YnQtdC8INC80LXQvdGOINC60L7RgNC30LjQvdGLXHJcbmZ1bmN0aW9uIG1lbnVfaXRlbV9iYXNrZXQoZXZlbnQpXHJcbntcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIHZhciByZWw9JCh0aGlzKS5maW5kKCdhJykuYXR0cigncmVsJyk7XHJcbi8vYWxlcnQocmVsKTtcclxuICAgIGlmKHJlbD09MSlcclxuICAgIHtcclxuICAgICAgICAvL9C+0YfQuNGB0YLQuNGC0Ywg0LrQvtGA0LfQuNC90YNcclxuICAgICAgICBlcmFzZV9iYXNrZXQoKTtcclxuXHJcbiAgICB9XHJcbiAgICBpZihyZWw9PTIpXHJcbiAgICB7XHJcbiAgICAgICAgLy/QtNC+0LHQsNCy0LjRgtGMINC6INGD0YHRgtGA0L7QudGB0YLQstGDXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICAgICAgdXJsOiAnZm9ybXMvaXRlbXMvZm9ybV9iYXNrZXQucGhwJyxcclxuICAgICAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vL9C40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60L7RgNC30LjQvdGLINC60L7QvNC/0L7QvdC10L3RgtC+0LIg0YHQstC10YDRhdGDXHJcbmZ1bmN0aW9uIGJhc2tldF9pbml0KClcclxue1xyXG5cclxuICAgIHZhciBpdT0kKCcudXNlcnNfcnVsZScpLmF0dHIoJ3VpJyk7XHJcblxyXG5cclxuICAgIHZhciBjb29raWVfbmV3ID0gJC5jb29raWUoJ2Jhc2tldF9pdGVtXycraXUpO1xyXG4gICAgaWYoY29va2llX25ldz09bnVsbClcclxuICAgIHtcclxuICAgICAgIGNvdW50cz0wO1xyXG4gICAgfSBlbHNlXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNjID0gY29va2llX25ldy5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICB2YXIgY291bnRzPWNjLmxlbmd0aDtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICBpZihjb3VudHM9PTApXHJcbiAgICB7XHJcbiAgICAgICAgLy/RgdC60YDRi9GC0Ywg0LrQvtGA0LfQuNC90YNcclxuICAgICAgICAkKCcuanMtYmFza2V0JykuaGlkZSgpO1xyXG4gICAgfSBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgJCgnLmpzLWJhc2tldCAubW9yZV9zdXBwbHkxJykuZmluZCgnaScpLmVtcHR5KCkuYXBwZW5kKGNvdW50cyk7XHJcbiAgICAgICAgJCgnLmpzLWJhc2tldCcpLmFkZENsYXNzKCdtb3JlLWFjdGl2ZS1zJyk7XHJcbiAgICAgICAgJCgnLmpzLWJhc2tldCcpLnNob3coKTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INC40LvQuCDRg9C00LDQu9C10L3QuNC1INC40Lcg0LrQvtGA0LfQuNC90Ysg0LrQvtC80L/QvtC90LXQvdGC0L7QslxyXG5mdW5jdGlvbiBCYXNrZXRJdGVtc0FkZChpZCx0dClcclxue1xyXG4gICAgLy9hbGVydChcIiFcIik7XHJcbiAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG4gICAgaWYodHlwZW9mKGl1KSA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICB7XHJcbiAgICAgICAgaXU9JCgnLnVzZXJzX3J1bGUnKS5hdHRyKCd1aScpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjb29raWVfbmV3ID0gJC5jb29raWUoJ2Jhc2tldF9pdGVtXycraXUpO1xyXG5cclxuICAgIC8vYWxlcnRfbWVzc2FnZSgnb2snLGNvb2tpZV9uZXcpO1xyXG5cclxuICAgIGlmKGNvb2tpZV9uZXc9PW51bGwpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGJhc2tldF9yb290PS0xO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgdmFyIGJhc2tldF9yb290ID0gQWRkRGVsbExpc3RTZXAoY29va2llX25ldywgaWQsICdhZGQnLCAnLicpO1xyXG4gICAgICAgLy8gYWxlcnQoYmFza2V0X3Jvb3QpO1xyXG4gICAgfVxyXG4gICAgaWYoYmFza2V0X3Jvb3QhPTApIHtcclxuICAgICAgIC8v0LfQvdCw0YfQuNGCINC10YnQtSDQvdC1INC00L7QsdCw0LLQu9GP0LvQuCDRgtCw0LrQvtC5INC60L7QvNC/0L7QvdC10L3RgiDQsiDQutC+0YDQt9C40L3Rg1xyXG4gICAgICAgIENvb2tpZUxpc3QoXCJiYXNrZXRfaXRlbV9cIitpdSxpZCwnYWRkJyk7XHJcblxyXG4gICAgICAgLyogaWYoJCh0dCkucGFyZW50cygnLmpzLW1lbnUtcm9vdCcpLmxlbmd0aCE9MClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8v0LfQvdCw0YfQuNGCINC90LDQttCw0YLQviAg0LIg0LzQtdC90Y4g0LrQvtC80L/QvtC90LXQvdGC0LAg0YHQsdC+0LrRg1xyXG4gICAgICAgICAgICAvLyQodHQpLnBhcmVudHMoJy5qcy1tZW51LXJvb3QnKS5hZGRDbGFzcygnbW9yZS1hY3RpdmUtczEnKTtcclxuXHJcbiAgICAgICAgICAgICQoJy5qcy1pdGVtcy1ibG9ja1tvcF9yZWw9JytpZCsnXScpLmZpbmQoJy5qcy1tZW51LXJvb3QnKS5hZGRDbGFzcygnbW9yZS1hY3RpdmUtczEnKTtcclxuXHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKCQodHQpLmlzKCcuanMtaXRlbXMtYmxvY2snKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgJCh0dCkuZmluZCgnLmpzLW1lbnUtcm9vdCcpLmFkZENsYXNzKCdtb3JlLWFjdGl2ZS1zMScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICAgICAgJCgnLmpzLWl0ZW1zLWJsb2NrW29wX3JlbD0nK2lkKyddJykuZmluZCgnLmpzLW1lbnUtcm9vdCcpLmFkZENsYXNzKCdtb3JlLWFjdGl2ZS1zMScpO1xyXG5cclxuICAgICAgICAvL2FsZXJ0X21lc3NhZ2UoJ29rJywn0L/QvtC30LjRhtC40Y8g0LTQvtCx0LDQstC70LXQvdCwINCyINC60L7RgNC30LjQvdGDJyk7XHJcblxyXG5cclxuXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICAvL9C30L3QsNGH0LjRgiDRg9C20LUg0LTQvtCx0LDQstC70Y/Qu9C4INGC0LDQutC+0Lkg0LrQvtC80L/QvtC90LXQvdGCINCyINC60L7RgNC30LjQvdGDIC0g0YPQu9Cw0L7Rj9C10LxcclxuICAgICAgICBDb29raWVMaXN0KFwiYmFza2V0X2l0ZW1fXCIraXUsaWQsJ2RlbCcpO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYoJCh0dCkucGFyZW50cygnLmpzLW1lbnUtcm9vdCcpLmxlbmd0aCE9MClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8v0LfQvdCw0YfQuNGCINC90LDQttCw0YLQviAg0LIg0LzQtdC90Y4g0LrQvtC80L/QvtC90LXQvdGC0LAg0YHQsdC+0LrRg1xyXG4gICAgICAgICAgICAkKHR0KS5wYXJlbnRzKCcuanMtbWVudS1yb290JykucmVtb3ZlQ2xhc3MoJ21vcmUtYWN0aXZlLXMxJyk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZigkKHR0KS5pcygnLmpzLWl0ZW1zLWJsb2NrJykpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICQodHQpLmZpbmQoJy5qcy1tZW51LXJvb3QnKS5yZW1vdmVDbGFzcygnbW9yZS1hY3RpdmUtczEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJCgnLmpzLWl0ZW1zLWJsb2NrW29wX3JlbD0nK2lkKyddJykuZmluZCgnLmpzLW1lbnUtcm9vdCcpLnJlbW92ZUNsYXNzKCdtb3JlLWFjdGl2ZS1zMScpO1xyXG4gICAgICAgIC8vYWxlcnRfbWVzc2FnZSgnb2snLCfQv9C+0LfQuNGG0LjRjyDRg9C00LDQu9C10L3QsCDQuNC3INC60L7RgNC30LjQvdGLJyk7XHJcblxyXG4gICAgICAgIC8v0LLQtNGA0YPQsyDQvtGC0LrRgNGL0YLQviDQvtC60L3QviDQutC+0YDQt9C40L3RiyDRgtC+0LPQtNCwINGD0LTQsNC70LjRgtGMINC10LPQviDQvtGC0YLRg9C00LBcclxuXHJcblxyXG5cclxuICAgIH1cclxuICAgIGJhc2tldF9pbml0KCk7XHJcblxyXG4gICAgLy90ci5yZW1vdmVDbGFzcyhcImNoZWNoZXJfc3VwcGx5XCIpO1xyXG5cclxuXHJcblxyXG4gICAgLy9Db29raWVMaXN0KHNzdXAraXUsaWQsJ2RlbCcpO1xyXG5cclxuXHJcblxyXG4gICAgLy/Qv9GA0L7QstC10YDQuNGC0Ywg0LXRgdGC0Ywg0LvQuCDRgtCw0LrQvtC5IGlkINGD0LbQtSDRgtCw0LxcclxuXHJcbiAgICAvL9GD0LTQsNC70LjRgtGMINC40LvQuCDQtNC+0LHQsNCy0LjRgtGMINCyINC60YPQutC60LhcclxuXHJcbiAgICAvL9C40LfQvNC10L3QuNGC0Ywg0YbQstC10YIg0LrQvdC+0L/QutC4XHJcblxyXG4gICAgLy/QuNC30LzQtdC90LjRgtGMINC60L7Qu9C40YfQtdGB0YLQstC+INC+0LHRidC10Lkg0LrQvtGA0LfQuNC90Ysg0LrQvtC80L/Qu9C10LrRgtGD0Y7RidC40YUg0L/QvtC60LDQt9Cw0YLRjCDQuNC70Lgg0YHQutGA0YvRgtGMINC10LVcclxuXHJcblxyXG59XHJcbiIsIiQoZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgLy/QuNC30LzQtdC90LjRgtGMINC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1idXNpbmVzcy1lZGl0Jyxqc19lZGl0X2J1c2luZXNzKTtcclxuXHJcbiAgICAvL9GD0LTQsNC70LjRgtGMINC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1idXNpbmVzcy1kZWwnLGpzX2J1c2luZXNzX2RlbCk7XHJcblxyXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWFkZC1idXNpbmVzcycsanNfYWRkX2J1c2luZXNzKTtcclxuXHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YIg0LzQtdC90Y4g0YHQu9C10LLQsFxyXG4gICAgJCgnLm1lbnVfeCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuanMtYnVzaW5lc3MtYWRkMFwiLCBqc19hZGRfYnVzaW5lc3MpO1xyXG5cclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG4vKipcclxuINC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YJcclxuICoqL1xyXG5mdW5jdGlvbiBqc19hZGRfYnVzaW5lc3MoKVxyXG57XHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvYnVzaW5lc3MvZm9ybV9hZGRfYnVzaW5lc3MucGhwJyxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICBUb29sVGlwKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQuNC30LzQtdC90LjRgtGMINCe0LHRitC10LrRgtCwXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19lZGl0X2J1c2luZXNzKGV2ZW50KVxyXG57XHJcbiAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgfVxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgIHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy5idXNpbmVzc19ibG9ja19wYXNzJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL2J1c2luZXNzL2Zvcm1fZWRpdF9idXNpbmVzcy5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDRg9C00LDQu9C40YLRjCDQvtCx0YrQtdC60YJcclxuICovXHJcbmZ1bmN0aW9uIGpzX2J1c2luZXNzX2RlbChldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuYnVzaW5lc3NfYmxvY2tfcGFzcycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9idXNpbmVzcy9mb3JtX2RlbGxfYnVzaW5lc3MucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbn0iLCIkKGZ1bmN0aW9uICgpe1xyXG5cclxuXHJcblxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1hZGQtZGV2aWNlcy14Jyxqc19hZGRfZGV2aWNlcyk7XHJcbiAgICAkKCdib2R5Jykub24oXCJrZXl1cFwiLCcuanMtaW5wdXQtaW52Jyxqc19pbnB1dF9kZXZpY2VzKTtcclxuICAgIC8v0LrQu9C40LrQvdGD0YLRjCDQvdCwINGH0YLQviDRgtC+INCyINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LXQvCDQvNC10L3RjiDRgtC+0YfQutC4XHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLm1lbnVfampzIC5qcy1tZW51LWpqcy1iLWRldmljZXMnLG1lbnVfZGV2aWNlcyk7XHJcblxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1kZWwtaXRlbXMtZGV2aXZlcy14Jyxqc19kZWxsX2l0ZW1zX2Zvcm0pO1xyXG5cclxuXHJcblxyXG4gICAgLy/QuNC30LzQtdC90LjRgtGMINC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1kZXZpY2VzLWVkaXQnLGpzX2VkaXRfZGV2aWNlcyk7XHJcblxyXG4gICAgLy/QutC70LjQutC90YPRgtGMINC90LAg0YfRgtC+INGC0L4g0LIg0YDQsNGB0LrRgNGL0LLQsNGO0YnQtdC8INC80LXQvdGOINGC0L7Rh9C60LhcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcubWVudV9qanMgLmpzLW1lbnUtampzLWInLG1lbnVidXR0Y2xpY2spO1xyXG5cclxuXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWluZm8tZGV2aWNlcycsZG9jX2RldmljZXMpO1xyXG4gICAgLy/QvdCw0LbQsNGC0LjQtSDQvdCwINCy0LrQu9Cw0LTQutGDINCyINGE0L7RgNC80LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvtCx0YrQtdC60YLRg1xyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy10YWJzLWRldmljZXMnLHRhYnNfZGV2aWNlcyk7XHJcblxyXG4gICAgLy/Rg9C00LDQu9C40YLRjCDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtZGV2aWNlcy1kZWwnLGpzX2RldmljZXNfZGVsKTtcclxuXHJcblxyXG5cclxuICAgIC8v0L3QsNCx0L7RgCDRgtC10LrRgdGC0LAg0LIg0L/QvtC40YHQutC1XHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXRleHQtc2VhcmNoLWRldmljZXMnLGNoYW5nZXNvcnRfc3RvY2syX2RldmljZXMpO1xyXG5cclxuICAgIC8v0LLRi9Cx0L7RgCDQsiDQvNC10L3RjyDQv9C+0LjRgdC60LAg0LIg0LrQu9C40LXQvdGC0LVcclxuICAgIHZhciBjaGFuZ2Vzb3J0MWRldmljZXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cclxuICAgICAgICAkLmNvb2tpZShcImRlXzFjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuICAgICAgICBDb29raWVMaXN0KFwiZGVfMWNcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblxyXG4gICAgfTtcclxuICAgICQoJyNzZWFyY2hfZGV2aWNlc18xJykuYmluZCgnY2hhbmdlJywgY2hhbmdlc29ydDFkZXZpY2VzKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLy/QstGL0LHQvtGAINCyINC80LXQvdGPINC/0L7QuNGB0LrQsCDQsiDQutC70LjQtdC90YLQtVxyXG4gICAgdmFyIGNoYW5nZXNvcnQyZGV2aWNlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblxyXG4gICAgICAgICQuY29va2llKFwiZGVfMmNcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pO1xyXG4gICAgICAgIENvb2tpZUxpc3QoXCJkZV8yY1wiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcclxuXHJcbiAgICB9O1xyXG4gICAgJCgnI3NlYXJjaF9kZXZpY2VzXzInKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0MmRldmljZXMpO1xyXG5cclxuXHJcblxyXG4gICAgLy/QstGL0LHQvtGAINCyINC80LXQvdGPINC/0L7QuNGB0LrQsCDQsiDQutC70LjQtdC90YLQtVxyXG4gICAgdmFyIGNoYW5nZXNvcnQ1ZGV2aWNlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblxyXG4gICAgICAgICQuY29va2llKFwiZGVfNWNcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pO1xyXG4gICAgICAgIENvb2tpZUxpc3QoXCJkZV81Y1wiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcclxuXHJcbiAgICB9O1xyXG4gICAgJCgnI3NlYXJjaF9kZXZpY2VzXzUnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0NWRldmljZXMpO1xyXG5cclxuXHJcblxyXG4gICAgLy/QstCy0L7QtCDQsiDQv9C+0LjRgdC60LVcclxuICAgIHZhciBjaGFuZ2Vzb3J0N2RldmljZXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG4gICAgICAgICQuY29va2llKFwiZGVfN2NcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pO1xyXG4gICAgICAgIENvb2tpZUxpc3QoXCJkZV83Y1wiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAkKCcjbmFtZV9zdG9ja19zZWFyY2hfZGV2aWNlcycpLmJpbmQoJ2NoYW5nZSBrZXl1cCBpbnB1dCBjbGljaycsIGNoYW5nZXNvcnQ3ZGV2aWNlcyk7XHJcblxyXG5cclxuICAgIC8v0LrRgNC10YHRgtC40Log0L/RgNC4INC/0L7QuNGB0LrQtSDQsiDQutC70LjQtdC90YLQsNGFINGH0LDRgdGC0L3Ri9C1INC70LjRhtCwXHJcbiAgICB2YXIgY2hhbmdlc29ydF9zdG9jazJfX2RldmljZXM9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcbiAgICAgICAgJCh0aGlzKS5wcmV2KCkudmFsKCcnKTtcclxuICAgICAgICAkLmNvb2tpZShcImRlXzdjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuICAgICAgICAkKCcuanMtLXNvcnQnKS5yZW1vdmVDbGFzcygnZ3JlZWlfaW5wdXQnKTtcclxuICAgICAgICAkKCcuanMtLXNvcnQnKS5maW5kKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ3JlYWRvbmx5Jyk7XHJcblxyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcclxuXHJcbiAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4vL9GD0LTQsNC70LjRgtGMINC/0L7QuNGB0Log0L/QviDRgtC10LrRgdGC0YMg0LIg0LrQu9C40LXQvdGC0LDRhVxyXG4gICAgJCgnLmRlbGxfc3RvY2tfc2VhcmNoX2RldmljZXMnKS5iaW5kKCdjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2snLCBjaGFuZ2Vzb3J0X3N0b2NrMl9fZGV2aWNlcyk7XHJcblxyXG5cclxuXHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGpzX2RlbGxfaXRlbXNfZm9ybSgpXHJcbntcclxuICAgIHZhciBpZGRzPSQodGhpcykuY2xvc2VzdCgnLmpzLWl0ZW1zLWJsb2NrJykuYXR0cignb3BfcmVsJyk7XHJcblxyXG4gICAgdmFyIGlubnB1dD0kKHRoaXMpLmNsb3Nlc3QoJy5qcy1ibG9jay1hbGwtaXRlbXMtZGV2aWNlcycpLmZpbmQoJ1tuYW1lPWl0ZW1zLW1hc3NdJyk7XHJcblxyXG4gICAgaW5ucHV0LnZhbChBZGREZWxsTGlzdChpbm5wdXQudmFsKCksaWRkcywnZGVsbCcpKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAkKHRoaXMpLmNsb3Nlc3QoJy5qcy1pdGVtcy1ibG9jaycpLnNsaWRlVXAoXCJzbG93XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5qcy1pdGVtcy1ibG9jaycpLnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2hhbmdlc29ydF9zdG9jazJfZGV2aWNlcygpIHtcclxuICAgIC8vYWxlcnQoXCIxXCIpO1xyXG4gICAgaWYoJCh0aGlzKS52YWwoKSE9JycpXHJcbiAgICB7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuc2hvdygpO1xyXG4gICAgICAgIC8v0YHQutGA0YvRgtGMINC00YDRg9Cz0LjQtSDRjdC70LXQvNC10L3RgtGLINC/0L7QuNGB0LrQsFxyXG4gICAgICAgICQoJy5qcy0tc29ydCcpLmFkZENsYXNzKCdncmVlaV9pbnB1dCcpO1xyXG4gICAgICAgICQoJy5qcy0tc29ydCcpLmZpbmQoJ2lucHV0JykucHJvcCgncmVhZG9ubHknLHRydWUpO1xyXG5cclxuICAgIH1lbHNlXHJcbiAgICB7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuaGlkZSgpO1xyXG4gICAgICAgIC8v0L/QvtC60LDQt9Cw0YLRjCDQtNGA0YPQs9C40LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LjRgdC60LBcclxuICAgICAgICAkKCcuanMtLXNvcnQnKS5yZW1vdmVDbGFzcygnZ3JlZWlfaW5wdXQnKTtcclxuICAgICAgICAkKCcuanMtLXNvcnQnKS5maW5kKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ3JlYWRvbmx5Jyk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBtZW51X2RldmljZXMoZXZlbnQpXHJcbntcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIHZhciByZWw9JCh0aGlzKS5maW5kKCdhJykuYXR0cignbWFrZScpO1xyXG5cclxuICAgIGlmKHJlbD09J2VkaXQnKVxyXG4gICAge1xyXG4gICAgICAgIC8v0LjQt9C80LXQvdC40YLRjFxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuICAgICAgICAvL2FsZXJ0KFwiIVwiKTtcclxuXHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnW29wX3JlbF0nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignb3BfcmVsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmpzLWRldmljZXMtYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9kZXZpY2VzL2Zvcm1fZWRpdF9kZXZpY2VzLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24gKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuICAgIGlmKHJlbD09J2RlbGwnKVxyXG4gICAge1xyXG4gICAgICAgIC8v0LjQt9C80LXQvdC40YLRjFxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnW29wX3JlbF0nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignb3BfcmVsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmpzLWRldmljZXMtYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9kZXZpY2VzL2Zvcm1fZGVsbF9kZXZpY2VzLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24gKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmKHJlbD09J2FkZF9wZXJzb24nKVxyXG4gICAge1xyXG4gICAgICAgIC8v0LjQt9C80LXQvdC40YLRjFxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnW29wX3JlbF0nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignb3BfcmVsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmpzLWRldmljZXMtYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICAgICAgdXJsOiAnZm9ybXMvZGV2aWNlcy9mb3JtX2FkZF9wZXJzb25fZGV2aWNlLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24gKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmKHJlbD09J2RlbGxfcGVyc29uJylcclxuICAgIHtcclxuICAgICAgICAvL9C40LfQvNC10L3QuNGC0YxcclxuICAgICAgICAvKlxyXG4gICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIGlmKCQodGhpcykuaXMoJ1tvcF9yZWxdJykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy5qcy1kZXZpY2VzLWJsb2NrJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgICAgIHVybDogJ2Zvcm1zL2RldmljZXMvZm9ybV9kZWxsX3BlcnNvbl9kZXZpY2VzLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24gKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG4gICAgaWYocmVsPT0nYWRkX2FrdCcpXHJcbiAgICB7XHJcbiAgICAgICAgLy/QuNC30LzQtdC90LjRgtGMXHJcbiAgICAgICAgLypcclxuICAgICAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG5cclxuICAgICAgICBpZigkKHRoaXMpLmlzKCdbb3BfcmVsXScpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuanMtZGV2aWNlcy1ibG9jaycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9kZXZpY2VzL2Zvcm1fYWt0X2RldmljZXMucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGpzX2lucHV0X2RldmljZXMoKVxyXG57XHJcbiAgICB2YXIgc3RfbGF0aW49JCh0aGlzKS52YWwoKTtcclxuXHJcbiAgICB2YXIgYSA9ICQoJy5qcy1pbnB1dC1pbnYxJykudmFsKCkuc3BsaXQoJy0nKTtcclxuICAgIGlmKGEubGVuZ3RoPjEpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHN0X2VuZD1qUXVlcnkudHJpbShhWzBdKSsnIC0gMCcrc3RfbGF0aW47XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHN0X2VuZD0kKCcuanMtaW5wdXQtaW52MScpLnZhbCgpO1xyXG4gICAgfVxyXG4gICAgJCgnLmpzLWlucHV0LWludjEnKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgJCgnLmpzLWlucHV0LWludjEnKS52YWwoc3RfZW5kKTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLypcclxuICog0LrQu9C40LrQvdGD0YLRjCDQvdCwINGH0YLQviDRgtC+INCyINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LXQvCDQvNC10L3RjiDRgtC+0YfQutC4XHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWVudWJ1dHRjbGljayhldmVudClcclxue1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cclxuICAgIHZhciByZWw9JCh0aGlzKS5maW5kKCdhJykuYXR0cignbWFrZScpO1xyXG5cclxuICAgIGlmKHJlbD09J2VkaXQnKVxyXG4gICAge1xyXG4gICAgICAgIC8v0LjQt9C80LXQvdC40YLRjFxyXG4gICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmJsb2NrX3Bhc3MnKS5hdHRyKCdwYXNzX3JlbCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgICAgIHVybDogJ2Zvcm1zL2RldmljZXMvZm9ybV9lZGl0X2RldmljZXMucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgfVxyXG4gICAgaWYocmVsPT0nZGVsbCcpXHJcbiAgICB7XHJcbiAgICAgICAgLy/QuNC30LzQtdC90LjRgtGMXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuYmxvY2tfcGFzcycpLmF0dHIoJ3Bhc3NfcmVsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblxyXG4gICAgICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgICAgIHVybDogJ2Zvcm1zL2RldmljZXMvZm9ybV9kZWxsX2RldmljZXMucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjaGFuZ2Vzb3J0X3N0b2NrMigpIHtcclxuICAgIC8vYWxlcnQoXCIxXCIpO1xyXG4gICAgaWYoJCh0aGlzKS52YWwoKSE9JycpXHJcbiAgICB7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuc2hvdygpO1xyXG4gICAgICAgIC8v0YHQutGA0YvRgtGMINC00YDRg9Cz0LjQtSDRjdC70LXQvNC10L3RgtGLINC/0L7QuNGB0LrQsFxyXG4gICAgICAgICQoJy5qcy0tc29ydCcpLmFkZENsYXNzKCdncmVlaV9pbnB1dCcpO1xyXG4gICAgICAgICQoJy5qcy0tc29ydCcpLmZpbmQoJ2lucHV0JykucHJvcCgncmVhZG9ubHknLHRydWUpO1xyXG5cclxuICAgIH1lbHNlXHJcbiAgICB7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuaGlkZSgpO1xyXG4gICAgICAgIC8v0L/QvtC60LDQt9Cw0YLRjCDQtNGA0YPQs9C40LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LjRgdC60LBcclxuICAgICAgICAkKCcuanMtLXNvcnQnKS5yZW1vdmVDbGFzcygnZ3JlZWlfaW5wdXQnKTtcclxuICAgICAgICAkKCcuanMtLXNvcnQnKS5maW5kKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ3JlYWRvbmx5Jyk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8q0YLQsNCx0YHRiyDQsiDQvtC60L3QtSDQvtCxINC+0LHRitC10LrRgtC1XHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiB0YWJzX2RldmljZXMoKSB7XHJcbiAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICAgIHZhciB1b289JCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcbiAgICBpZiAoICQodGhpcykuaXMoXCIuYWN0aXZlXCIpIClcclxuICAgIHtcclxuICAgICAgICAvL9GD0LbQtSDQsNC60YLQuNCy0L3QsNGPINCy0LrQu9Cw0LTQutCwXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICAkKCcuanMtY2xvdWQtaW5mby10ZXh0JykuZW1wdHkoKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlOyBtYXJnaW4tYm90dG9tOiAzMHB4O1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgICQoJy5qcy10YWJzLW1lbnUnKS5maW5kKCcuanMtdGFicy1kZXZpY2VzJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5qcy10YWJzLW1lbnUnKS5maW5kKCcuanMtdGFicy1kZXZpY2VzW2lkPScrdW9vKyddJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAvL3ZhciBrZXlfPScwMDJVJztcclxuXHJcblxyXG5cclxuICAgICAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWRfdGFicz0nKyQodGhpcykuYXR0cihcImlkXCIpK1xyXG4gICAgICAgICAgICAnJnRrPScrJCgnLmJveC1tb2RhbCAuZ2xvYWItY2MnKS5hdHRyKCdtb3InKStcclxuICAgICAgICAgICAgJyZpZD0nKyQoJy5ib3gtbW9kYWwgLmdsb2FiLWNjJykuYXR0cignZm9yJyk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy9hbGVydChkYXRhKTtcclxuICAgICAgICBBamF4Q2xpZW50KCdkZXZpY2VzJywndGFic19pbmZvJywnR0VUJyxkYXRhLCdBZnRlclRhYnNJbmZvZGV2aWNlcycsJCh0aGlzKS5hdHRyKFwiaWRcIiksMCk7XHJcbiAgICB9XHJcbn1cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQntGC0LTQtdC70LBcclxuZnVuY3Rpb24gZGV2aWNlc19hZGRzKClcclxue1xyXG4gICAgaWYodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vdmFyIGF0PSAkKHRoaXMpLmF0dHIoJ3RhYnNfZycpO1xyXG5cclxuXHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvZGV2aWNlcy9mb3JtX2FkZF9kZXZpY2VzLnBocCcsXHJcbiAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyoq0LLRi9Cy0L7QtCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC+0LHRitC10LrRgtGDXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkb2NfZGV2aWNlcyhldmVudClcclxue1xyXG4gICAgLypcclxuYWxlcnQoXCIhXCIpO1xyXG4gICAgJHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuICAgIC8v0LXRgdC70Lgg0Y3RgtC+INC90LUg0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0YPQtNCw0LvQuNGC0Ywg0YLQviDQvtGC0LrRgNGL0YLQuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4XHJcbiAgICBpZiAoKCEkdGFyZ2V0Lmhhc0NsYXNzKCdqcy1pbmZvLWRldmljZXMnKSkmJighJHRhcmdldC5oYXNDbGFzcygnbW9yZV9zdXBwbHkxJykpJiYoISR0YXJnZXQuaGFzQ2xhc3MoJ2pzLW1lbnUtampzLWItaXRlbScpKSkge1xyXG4qL1xyXG5cclxuICAgICAgICB2YXIgZm9yX2lkID0gJCh0aGlzKS5wYXJlbnRzKCcuanMtZGV2aWNlcy1ibG9jaycpLmF0dHIoJ29wX3JlbCcpO1xyXG5cclxuXHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICAgICAgdXJsOiAnZm9ybXMvZGV2aWNlcy9mb3JtX2RvY19kZXZpY2VzLnBocD9pZD0nICsgZm9yX2lkICsgJyZ0YWJzPTAnLFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/Qv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4XHJcbiAgICAgICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuLypcclxuICAgIH0qL1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiDQtNC+0LHQsNCy0LjRgtGMINC90L7QstC+0LUg0YPRgdGC0YDQvtC50YHRgtCy0L5cclxuICoqL1xyXG5mdW5jdGlvbiBqc19hZGRfZGV2aWNlcygpXHJcbntcclxuICAgIHZhciBlcnIgPSAwO1xyXG4vL2FsZXJ0KCQoJy5qcy1mb3JtLXJlZ2lzdGVyIC5nbG9hYicpLmxlbmd0aCk7XHJcbiAgICAvLyBhbGVydChcIiEhXCIpO1xyXG4gICAgJCgnLmpzLWZvcm0tZ2xvYWItZGV2aWNlIC5nbG9hYicpLmVhY2goZnVuY3Rpb24oaSxlbGVtKSB7XHJcbiAgICAgICAgaWYoJCh0aGlzKS52YWwoKSA9PSAnJykgIHsgJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcbiAgICAgICAgICAgIGVycisrO1xyXG4gICAgICAgICAgICAvL2FsZXJ0KCQodGhpcykuYXR0cignbmFtZScpKTtcclxuICAgICAgICB9IGVsc2UgeyQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5yZW1vdmVDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpOyQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7fVxyXG4gICAgfSk7XHJcblxyXG4vL1x0aWYgKCEkKFwiLmpzLXJvbGUteCBpXCIpLmlzKCBcIi5hY3RpdmVfdGFza19jYlwiICkgKSB7IGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JfQsNC/0L7Qu9C90LjRgtC1INC00L7Qu9C20L3QvtGB0YLRjCDQsiDRgdC40YHRgtC10LzQtScpOyAgZXJyKys7IH1cclxuXHJcbi8vXHRpZiAoISQoXCIuanMtZGV2aWNlcy14IGlcIikuaXMoIFwiLmFjdGl2ZV90YXNrX2NiXCIgKSApIHsgYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQl9Cw0L/QvtC70L3QuNGC0LUg0J7RgtC00LXQuycpOyAgZXJyKys7IH1cclxuXHJcbiAgICAvL2FsZXJ0KGVycik7XHJcblxyXG4gICAgaWYoZXJyPT0wKVxyXG4gICAge1xyXG5cclxuICAgICAgICAvL2NsZWFySW50ZXJ2YWwodGltZXJJZCk7IC8vIMOuw7HDssOgw63DoMOiw6vDqMOiw6DDpcOsIMOiw7vDp8Ouw6Igw7TDs8Otw6rDtsOow6ggw7fDpcOww6XDpyDDqsOgw6bDpMOzw74gw7HDpcOqw7PDrcOkXHJcbiAgICAgICAgLy8kLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICBBamF4Q2xpZW50KCdkZXZpY2VzJywnYWRkJywnUE9TVCcsMCwnYWZ0ZXJfYWRkX2RldmljZXMnLDAsJ3Zpbm9feGRfYWRkX2RldmljZScsMSk7XHJcblxyXG5cclxuICAgICAgICAkKCcuanMtYWRkLWRldmljZXMteCcpLmhpZGUoKS5hZnRlcignPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOiA0MHB4O3BhZGRpbmctdG9wOiAxN3B4O3RvcDogYXV0bztyaWdodDogYXV0bztsZWZ0OiBhdXRvOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcblxyXG5cclxuICAgIH0gZWxzZVxyXG4gICAge1xyXG4gICAgICAgIC8v0L3QsNC50LTQtdC8INGB0LDQvNGL0Lkg0LLQtdGA0YXQvdGO0Y4g0L7RiNC40LHQutGDINC4INC/0YDQvtC70LXRgdGC0L3QtdC8INC6INC90LXQuVxyXG4gICAgICAgIC8valF1ZXJ5LnNjcm9sbFRvKCcucmVxdWlyZWRfaW5fMjAxODpmaXJzdCcsIDEwMDAsIHtvZmZzZXQ6LTcwfSk7XHJcbiAgICAgICAgLy9FcnJvckJ1dCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAuanMtYWRkLXRlbmRlci1mb3JtJywn0J7RiNC40LHQutCwINC30LDQv9C+0LvQvdC10L3QuNGPIScpO1xyXG4gICAgICAgIGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0J3QtSDQstGB0LUg0L/QvtC70Y8g0LfQsNC/0L7Qu9C90LXQvdGLJyk7XHJcblxyXG5cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqINC40LfQvNC10L3QuNGC0Ywg0J7QsdGK0LXQutGC0LBcclxuICovXHJcbmZ1bmN0aW9uIGpzX2VkaXRfZGV2aWNlcyhldmVudClcclxue1xyXG4gICAgLy9hbGVydChcIiFcIik7XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuZGV2aWNlc19ibG9ja19wYXNzJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICB9XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvZGV2aWNlcy9mb3JtX2VkaXRfZGV2aWNlcy5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqINGD0LTQsNC70LjRgtGMINC+0LHRitC10LrRglxyXG4gKi9cclxuZnVuY3Rpb24ganNfZGV2aWNlc19kZWwoZXZlbnQpXHJcbntcclxuICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmRldmljZXNfYmxvY2tfcGFzcycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHJcblxyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9kZXZpY2VzL2Zvcm1fZGVsbF9kZXZpY2VzLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG59XHJcblxyXG5cclxuXHJcbi8qXHJcbiAqINC/0L7RgdGC0YTRg9C90LrRhtC40Y8g0JTQvtCx0LDQstC70LXQvdC40LUg0L7QsdGK0LXQutGC0LBcclxuICovXHJcbmZ1bmN0aW9uIGFmdGVyX2FkZF9kZXZpY2VzKGRhdGEsdXBkYXRlKVxyXG57XHJcbiAgICBpZiAoZGF0YS5zdGF0dXM9PSdvaycpXHJcbiAgICB7XHJcblxyXG4gICAgICAgIGFsZXJ0X21lc3NhZ2UoJ29rJywn0KPRgdGC0YDQvtC50YHRgtCy0L4g0LTQvtCx0LDQstC70LXQvdC+Jyk7XHJcblxyXG4gICAgICAgIHZhciBpdT0kKCcudXNlcnNfcnVsZScpLmF0dHIoJ2l1Jyk7XHJcbiAgICAgICAgJC5jb29raWUoXCJiYXNrZXRfaXRlbV9cIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZSxzYW1lc2l0ZTonbGF4J30pO1xyXG5cclxuICAgICAgICAvL9Ce0LHQvdC+0LLQuNGC0Ywg0LLRi9Cy0L7QtCDQutC+0YDQt9C40L3Ri1xyXG4gICAgICAgIGJhc2tldF9pbml0KCk7XHJcblxyXG4gICAgICAgICQoJy5qcy1hZGQtZm9ybS1kZXYnKS5zbGlkZVVwKFwic2xvd1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJy5qcy1hZGQtZm9ybS1kZXYnKS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLmpzLW5ldy1kZXYnKS5lbXB0eSgpLmFwcGVuZChkYXRhLmJsb2Nrcyk7XHJcbiAgICAgICAgJCgnLmpzLW5ldy1kZXYnKS5zbGlkZURvd24oXCJzbG93XCIpO1xyXG5cclxuXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuXHJcbiAgICAgICAgJCgnLmpzLWFkZC1kZXZpY2VzLXgnKS5zaG93KCk7XHJcbiAgICAgICAgJCgnLmpzLWFkZC1kZXZpY2VzLXgnKS5wYXJlbnRzKCcuZm9ybS1wYW5lbCcpLmZpbmQoJy5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHJcblxyXG4gICAgICAgIC8vYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQntGI0LjQsdC60LAhINCX0LDQv9C+0LvQvdC40YLQtSDQstGB0LUg0L/QvtC70Y8nKTtcclxuXHJcbiAgICAgICAgLy8kKCcuanMtZm9ybS10ZW5kZXItbmV3IC5tZXNzYWdlLWZvcm0nKS5lbXB0eSgpLmFwcGVuZCgn0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjycpLnNob3coKTtcclxuXHJcbiAgICAgICAgLy/Qv9GA0L7RhdC+0LTQuNC80Y8g0L/QviDQvNCw0YHRgdC40LLRgyDQvtGI0LjQsdC+0LpcclxuICAgICAgICAkLmVhY2goZGF0YS5lcnJvciwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgZXJyID0gWydpbnYnLCduYW1lX2RldmljZXMnLCdpbnZfYnVzeSddO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVycl9uYW1lID0gWyfQvdC10LrQvtGA0YDQtdC60YLQvdC+INC30LDQv9C+0LvQvdC10L3QviAtINCY0L3QstC10L3RgtCw0YDQvdGL0Lkg0L3QvtC80LXRgCcsJ9C90LXQutC+0YDRgNC10LrRgtC90L4g0LfQsNC/0L7Qu9C90LXQvSAtINCd0LDQt9Cy0LDQvdC40LUnLCfQmNC90LLQtdC90YLQsNGA0L3Ri9C5INC90L7QvNC10YAg0LfQsNC90Y/RgiddO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICBudW1iZXJzPSQuaW5BcnJheSh2YWx1ZSwgZXJyKTtcclxuICAgICAgICAgICAgLy9hbGVydChudW1iZXJzKTtcclxuICAgICAgICAgICAgaWYobnVtYmVycyE9LTEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICB2YXIgaW5zPW51bWJlcltudW1iZXJzXTtcclxuICAgICAgICAgICAgICAgICQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLmpzLWluJytpbnMpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykuYWRkQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTtcclxuICAgICQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLmpzLWluJytpbnMpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykuZmluZCgnLmRpdl9uZXdfMjAxOCcpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIj7QvdC10LrQvtGA0YDQtdC60YLQvdC+INC30LDQv9C+0LvQvdC10L3QviDQv9C+0LvQtTwvZGl2PicpO1xyXG4gICAgKi9cclxuICAgICAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJyxlcnJfbmFtZVtudW1iZXJzXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobnVtYmVycz09MilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ch0LvQtdC00YPRjtGJ0LjQuSDRgdCy0L7QsdC+0LTQvdGL0Lkg0LjQvdCy0LXRgNGC0LDRgNC90YvQuSDQvdC+0LzQtdGAIC0gJytkYXRhLm5kKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vJCgnLmpzLWZvcm0tcmVnaXN0ZXIgLm1lc3NhZ2UtZm9ybScpLmVtcHR5KCkuYXBwZW5kKCfQntGI0LjQsdC60LAhICcpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQntGI0LjQsdC60LAhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9qUXVlcnkuc2Nyb2xsVG8oJy5yZXF1aXJlZF9pbl8yMDE4OmZpcnN0JywgMTAwMCwge29mZnNldDotNzB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIiQoZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgLy/QuNC30LzQtdC90LjRgtGMINC+0LHRitC10LrRglxyXG4gICAgLy8kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXBhc3MtZWRpdCcsanNfZWRpdF9wYXNzKTtcclxuXHJcbiAgICAvL9GD0LTQsNC70LjRgtGMINC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1uZXh0LXN0ZXAtZXhhbScsanNfbmV4dF9zdGVwKTtcclxuXHJcblxyXG59KTtcclxudmFyIHRpbWVvdXRzID0ge307XHJcbnZhciB0aW1lZXZlbiA9IHt9O1xyXG5cclxuLy/RgdGH0LXRgtGH0LjQuiDQstGA0LXQvNC10L3QuCDQtNC+INC90LDRh9Cw0LvQsCDQsNGD0LrRhtC40L7QvdCwLlxyXG5mdW5jdGlvbiBUaW1lclRlbmRlclMoaWQsYWN0aW9uKVxyXG57XHJcbiAgICAvL9GB0L7Qt9C00LDQtdC8INGB0LrQvtGA0L7RgdGC0Ywg0YLQsNC50LzQtdGA0LAsINGB0YfQtdGC0YfQuNC6INC40YLQtdGA0LDRhtC40Lkg0Lgg0LfQsNC00LDQtdC8INCy0YDQtdC80LXQvdC90L7QuSDRiNGC0LDQvNC/INC00LvRjyDQvdCw0YfQsNC70LAg0L7RgtGB0YfQtdGC0LBcclxuICAgIHZhciBzcGVlZCA9IDEwMDAsXHJcbiAgICAgICAgY291bnRlciA9IDAsXHJcbiAgICAgICAgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAvL3ZhciBEYXRlQ2xpZW50ID0gTWF0aC5mbG9vcihzdGFydCAvIDEwMDApO1xyXG4gICAgdmFyIERhdGVDbGllbnQgPSAkKCdbbmFtZT1zZWNvbmRdJykudmFsKCk7XHJcblxyXG4gICAgLy/QvtGC0YLQsNC70LrQuNCy0LDQtdC80YHRjyDQvdCwINCy0YDQtdC80Y8g0LrQu9C40LXQvdGC0LAg0YEg0YPRh9C10YLQvtC8INC10LPQviDRgNCw0LfQvdC40YbRiyDRgSDRgdC10YDQstC10YDQvtC8XHJcbiAgICB2YXIgc2Vjb25kcyA9IERhdGVDbGllbnQ7XHQvL1xyXG5cclxuXHJcblxyXG4gICAgLy92YXIgc2Vjb25kcyA9IChEYXRlRW5kLURhdGVTZXJ2ZXIpO1xyXG4gICAgLy9hbGVydChzZWNvbmRzKTtcclxuICAgICAgICB2YXIgbWludXRlcyA9IHNlY29uZHMvNjA7IC8v0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0LzQuNC90YPRgiDQtNC+INC40YHRgtC10YfQtdC90LjRjyDRgtCw0LnQvNC10YDQsFxyXG4gICAgICAgIHZhciBob3VycyA9IG1pbnV0ZXMvNjA7IC8v0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0YfQsNGB0L7QsiDQtNC+INC40YHRgtC10YfQtdC90LjRjyDRgtCw0LnQvNC10YDQsFxyXG4gICAgICAgIC8vYWxlcnQoaG91cnMpO1xyXG4gICAgICAgLy8gbWludXRlcyA9IChob3VycyAtIE1hdGguZmxvb3IoaG91cnMpKSAqIDYwOyAvL9C/0L7QtNGB0YfQuNGC0YvQstCw0LXQvCDQutC+0Lst0LLQviDQvtGB0YLQsNCy0YjQuNGF0YHRjyDQvNC40L3Rg9GCINCyINGC0LXQutGD0YnQtdC8INGH0LDRgdC1XHJcbiAgICAgICAgaG91cnMgPSBNYXRoLmZsb29yKGhvdXJzKTsgLy/RhtC10LvQvtC1INC60L7Qu9C40YfQtdGB0YLQstC+INGH0LDRgdC+0LIg0LTQviDQuNGB0YLQtdGH0LXQvdC40Y8g0YLQsNC50LzQtdGA0LBcclxuICAgICAgICAvL3NlY29uZHMgPSBNYXRoLmZsb29yKChtaW51dGVzIC0gTWF0aC5mbG9vcihtaW51dGVzKSkgKiA2MCk7IC8v0L/QvtC00YHRh9C40YLRi9Cy0LDQtdC8INC60L7Quy3QstC+INC+0YHRgtCw0LLRiNC40YXRgdGPINGB0LXQutGD0L3QtCDQsiDRgtC10LrRg9GJ0LXQuSDQvNC40L3Rg9GC0LVcclxuICAgIGlmKG1pbnV0ZXM+PTYwKVxyXG4gICAge1xyXG4gICAgICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKG1pbnV0ZXMlNjApOyAvL9C+0LrRgNGD0LPQu9GP0LXQvCDQtNC+INGG0LXQu9C+0LPQviDQutC+0Lst0LLQviDQvtGB0YLQsNCy0YjQuNGF0YHRjyDQvNC40L3Rg9GCINCyINGC0LXQutGD0YnQtdC8INGH0LDRgdC1XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKG1pbnV0ZXMpOyAvL9C+0LrRgNGD0LPQu9GP0LXQvCDQtNC+INGG0LXQu9C+0LPQviDQutC+0Lst0LLQviDQvtGB0YLQsNCy0YjQuNGF0YHRjyDQvNC40L3Rg9GCINCyINGC0LXQutGD0YnQtdC8INGH0LDRgdC1XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNlY29uZHNzID0gc2Vjb25kcyU2MDsgLy/Qv9C+0LTRgdGH0LjRgtGL0LLQsNC10Lwg0LrQvtC7LdCy0L4g0L7RgdGC0LDQstGI0LjRhdGB0Y8g0YHQtdC60YPQvdC0INCyINGC0LXQutGD0YnQtdC5INC80LjQvdGD0YLQtVxyXG5cclxuICAgICAgICBzZXRUaW1lVGVuZGVyKGhvdXJzLG1pbnV0ZXMsc2Vjb25kc3MsaWQsYWN0aW9uKTsgLy8g0LLRi9GB0YLQsNCy0LvRj9C10Lwg0L3QsNGH0LDQu9GM0L3Ri9C1INC30L3QsNGH0LXQvdC40Y8g0YLQsNC50LzQtdGA0LBcclxuXHJcbiAgICAgICAgJCgnLmpzLXN0YXR1cy1hdWMnKS5hZGRDbGFzcygncnVuLWF1YycpO1xyXG4gICAgICAgICQoJy5qcy1zdGF0dXMtYXVjJykuZmluZCgnc3BhbicpLmVtcHR5KCkuYXBwZW5kKCdvbmxpbmUnKTtcclxuICAgICAgICAkKCcuanMtc3RlcC1tZW51Jykuc2xpZGVEb3duKFwic2xvd1wiKTtcclxuICAgICAgICAkKCcuY2xvY2stYXVjJykuc2xpZGVEb3duKFwic2xvd1wiKTtcclxuXHJcblxyXG4gICAgICAgIC8v0L/RgNC40LzQtdGAINGC0LDQudC80LXRgNCwXHJcbiAgICAgICAgZnVuY3Rpb24gaW5zdGFuY2UoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgaWYoYWN0aW9uPT0nZW5kJylcclxuICAgICAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgICAgICQoJy51cC10LXR0LScraWQpLnNsaWRlVXAoXCJzbG93XCIpO1xyXG4gICAgICAgICAgICAgICAgLy9UaW1lc0NvcnJlY3QoJ2VuZCcpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0c1thY3Rpb25dKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4qL1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChzZWNvbmRzID09IDApIHsgLy8g0LXRgdC70Lgg0YHQtdC60YPQvdC00YMg0LfQsNC60L7QvdGH0LjQu9C40YHRjCDRgtC+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gIENvbG9yRmxhc2goJCgnLmNsb2NrLWF1YycpLCcjZmVjMDQ4JywxMzUwKTtcclxuICAgICAgICAgICAgICAgIHNlY29uZHMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlY29uZHMrKzsgLy8g0YPQvNC10L3RjNGI0LDQtdC8INC60L7Quy3QstC+INGB0LXQutGD0L3QtFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkKCdbbmFtZT1zZWNvbmRdJykudmFsKHNlY29uZHMpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSBzZWNvbmRzLzYwOyAvL9C+0L/RgNC10LTQtdC70Y/QtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INC80LjQvdGD0YIg0LTQviDQuNGB0YLQtdGH0LXQvdC40Y8g0YLQsNC50LzQtdGA0LBcclxuICAgICAgICAgICAgdmFyIGhvdXJzID0gbWludXRlcy82MDsgLy/QvtC/0YDQtdC00LXQu9GP0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDRh9Cw0YHQvtCyINC00L4g0LjRgdGC0LXRh9C10L3QuNGPINGC0LDQudC80LXRgNCwXHJcbiAgICAgICAgICAgIGhvdXJzID0gTWF0aC5mbG9vcihob3Vycyk7IC8v0YbQtdC70L7QtSDQutC+0LvQuNGH0LXRgdGC0LLQviDRh9Cw0YHQvtCyINC00L4g0LjRgdGC0LXRh9C10L3QuNGPINGC0LDQudC80LXRgNCwXHJcbiAgICAgICAgICAgIC8vc2Vjb25kcyA9IE1hdGguZmxvb3IoKG1pbnV0ZXMgLSBNYXRoLmZsb29yKG1pbnV0ZXMpKSAqIDYwKTsgLy/Qv9C+0LTRgdGH0LjRgtGL0LLQsNC10Lwg0LrQvtC7LdCy0L4g0L7RgdGC0LDQstGI0LjRhdGB0Y8g0YHQtdC60YPQvdC0INCyINGC0LXQutGD0YnQtdC5INC80LjQvdGD0YLQtVxyXG5cclxuICAgICAgICAgICAgaWYobWludXRlcz49NjApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKG1pbnV0ZXMlNjApOyAvL9C+0LrRgNGD0LPQu9GP0LXQvCDQtNC+INGG0LXQu9C+0LPQviDQutC+0Lst0LLQviDQvtGB0YLQsNCy0YjQuNGF0YHRjyDQvNC40L3Rg9GCINCyINGC0LXQutGD0YnQtdC8INGH0LDRgdC1XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gTWF0aC5mbG9vcihtaW51dGVzKTsgLy/QvtC60YDRg9Cz0LvRj9C10Lwg0LTQviDRhtC10LvQvtCz0L4g0LrQvtC7LdCy0L4g0L7RgdGC0LDQstGI0LjRhdGB0Y8g0LzQuNC90YPRgiDQsiDRgtC10LrRg9GJ0LXQvCDRh9Cw0YHQtVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHNlY29uZHNzID0gc2Vjb25kcyU2MDtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVUZW5kZXIoaG91cnMsbWludXRlcyxzZWNvbmRzcyxpZCxhY3Rpb24pOyAvLyDQvtCx0L3QvtCy0LvRj9C10Lwg0LfQvdCw0YfQtdC90LjRjyDRgtCw0LnQvNC10YDQsCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuXHJcbiAgICAgICAgICAgIC8v0LLRi9GH0LjRgdC70Y/QtdC8INC40LTQtdCw0LvRjNC90L7QtSDQuCDRgNC10LDQu9GM0L3QvtC1INCy0YDQtdC80Y8g0YDQsNCx0L7RgtGLINGC0LDQudC80LXRgNCwXHJcbiAgICAgICAgICAgIC8v0YHRg9C00Y8g0L/QviDQstGB0LXQvNGDLCDQsiDQvtGA0LjQs9C40L3QsNC70LUsINCw0LLRgtC+0YAg0LjQt9C80LXQvdC40Lsg0L3QsNC30LLQsNC90LjRjyDQv9C10YDQtdC80LXQvdC90YvRhSwg0YfRgtC+0LHRiyDQuNC00LXQvdGC0LjRhNC40YbQuNGA0L7QstCw0YLRjCDRgdCy0L7QuSDQutC+0LQg0L/RgNC4INC/0LXRgNC10L/QvtGB0YLQtS5cclxuICAgICAgICAgICAgdmFyIHJlYWwgPSAoY291bnRlciAqIHNwZWVkKSxcclxuICAgICAgICAgICAgICAgIGlkZWFsID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnQpO1xyXG5cclxuICAgICAgICAgICAgLy/Rg9Cy0LXQu9C40YfQuNCy0LDQtdC8INGB0YfQtdGC0YfQuNC6XHJcbiAgICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICAgICAgLy/QstGL0YfQuNGB0LvRj9C10Lwg0Lgg0L7RgtC+0LHRgNCw0LbQsNC10Lwg0YDQsNC30L3QuNGG0YNcclxuICAgICAgICAgICAgdmFyIGRpZmYgPSAoaWRlYWwgLSByZWFsKTtcclxuICAgICAgICAgICAgLy/QtdGB0LvQuCDRhNC70LDQsyBhZGp1c3QgPT0gdHJ1ZSwg0LHRg9C00LXQvCDQstGL0YfQuNGC0LDRgtGMINGA0LDQt9C90LjRhtGDINC/0LXRgNC10LQg0L/QvtGB0LvQtdC00YPRjtGJ0LjQvCDQstGL0LfQvtCy0L7QvCAo0YLQtdC8INGB0LDQvNGL0Lwg0YDQtdCw0LvQuNC30L7QstCw0LIg0L3QtdC+0LHRhdC+0LTQuNC80L7QtSDRg9C/0YDQtdC20LTQtdC90LjQtSlcclxuICAgICAgICAgICAgdGltZW91dHNbYWN0aW9uXSA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBpbnN0YW5jZSgpOyB9LCAoc3BlZWQgLSBkaWZmKSk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8v0LTQsNC70LXQtSwg0L/RgNC+0YHRgtC+INC+0YLQsdGA0LDRgdGL0LLQsNC10Lwg0LLRgdC1INC/0YDQvtGH0Ywg0LIg0YHQu9GD0YfQsNC1INC+0LHRi9GH0L3QvtCz0L4g0YLQsNC50LzQtdGA0LBcclxuICAgICAgICB0aW1lb3V0c1thY3Rpb25dID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGluc3RhbmNlKCk7IH0sIHNwZWVkKTtcclxuXHJcblxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNldFRpbWVUZW5kZXIoaCxtLHMsaWQsYWN0aW9uKSB7IC8vINGE0YPQvdC60YbQuNGPINCy0YvRgdGC0LDQstC70LXQvdC40Y8g0YLQsNC50LzQtdGA0LAg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbi8vQ29sb3JGbGFzaCgkKCcudXAtdC1zLScraWQpLCcjZmVjMDQ4JywxMzUwKTtcclxuXHJcbiAgICBpZihtPDEwKXsgbT0nMCcrbTt9XHJcbiAgICBpZihzPDEwKXsgcz0nMCcrczt9XHJcblxyXG4gICAgaWYoYWN0aW9uPT0nc3RhcnQnKVxyXG4gICAge1xyXG4gICAgICAgICQoJy51cC10LXR0LScraWQpLnJlbW92ZUNsYXNzKCdub25lJyk7XHJcbiAgICAgICAgaDE9aDtcclxuICAgICAgICBpZihoPDEwKXsgaDE9JzAnK2g7fVxyXG4gICAgICAgIGlmKGghPTApXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgJCgnLnVwLXQtdHQtJytpZCkuZW1wdHkoKS5hcHBlbmQoJygnK2gxKyc6JyttKyc6JytzKycpJyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcudXAtdC10dC0nK2lkKS5lbXB0eSgpLmFwcGVuZCgnKCcrbSsnOicrcysnKScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGFmdGVyX25leHRfc3RlcChkYXRhLHVwZGF0ZSlcclxue1xyXG4gICAgaWYgKGRhdGEuc3RhdHVzPT0nb2snKVxyXG4gICAge1xyXG4gICAgICAgIC8vICQoJy5qcy1mb3JtLXRlbmRlci1uZXcnKS5yZW1vdmUoKTtcclxuICAgICAgICBpZigkKCdbbmFtZT10ZXN0XScpLnZhbCgpPT0wKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2UoJ29rJywgJ9Ce0YLQstC10YIg0L/RgNC40L3Rj9GCJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1VwZGF0ZUZpbmFuY2UoJzEsMCwxLDEnKTtcclxuICAgICAgICAvLyQoJy5qcy1uZXh0LXN0ZXAnKS5zdWJtaXQoKTtcclxuXHJcbiAgICAgICAgJCgnW25hbWU9dGVzdF0nKS52YWwoMCk7XHJcbiAgICAgICAgJCgnW25hbWU9bXlfeWVzXScpLnZhbCgnJyk7XHJcbiAgICAgICAgJCgnLmpzLWNvdW50LXh4LXYnKS5lbXB0eSgpLmFwcGVuZChkYXRhLnRpdGxlX3Z2KTtcclxuICAgICAgICAkKCcuanMtaW5mby1oaCcpLnNsaWRlVXAoXCJzbG93XCIpO1xyXG4gICAgICAgICQoJy5wbGFjZV9fdGl0bGUnKS5zbGlkZVVwKFwic2xvd1wiLGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICQoJy5wbGFjZV9fdGl0bGUnKS5lbXB0eSgpLmFwcGVuZChkYXRhLndvcCk7XHJcbiAgICAgICAgICAgICQoJy5wbGFjZV9fdGl0bGUnKS5zbGlkZURvd24oXCJzbG93XCIpO1xyXG5cclxuICAgICAgICAgICAgJCgnLmpzLW90di1ibG9jaycpLnNsaWRlVXAoXCJzbG93XCIsZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICQoJy5qcy1vdHYtYmxvY2snKS5lbXB0eSgpLmFwcGVuZChkYXRhLm90dik7XHJcbiAgICAgICAgICAgICAgICAkKCcuanMtb3R2LWJsb2NrJykuc2xpZGVEb3duKFwic2xvd1wiKTtcclxuICAgICAgICAgICAgICAgICQoJy5qcy1uZXh0LXN0ZXAtZXhhbScpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoJyN2aW5vX3hkX2ZpYW5jZV9wYXknKS5maW5kKCcuYl9sb2FkaW5nX3NtYWxsJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBpZihwYXJzZUludChkYXRhLnN0YXJ0cyk9PTIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmpzLW5leHQtc3RlcC1leGFtJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5qcy1uZXh0LXN0ZXAtZW5kJykucmVtb3ZlQ2xhc3MoJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvL1RpbWVyVGVuZGVyUyh1cGRhdGUsJ2VuZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dHNbJ3N0YXJ0J10pO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy51cC10LXR0LScrdXBkYXRlKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJ1tuYW1lPXF1ZXN0aW9uXScpLnZhbChkYXRhLndvcF9pZCk7XHJcblxyXG5cclxuICAgICAgICBpZiAocGFyc2VJbnQoZGF0YS5zdGFydHMpPT0xKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy/QvdCw0YfQuNC90LDQtdC8INGC0LDQudC80LXRgFxyXG4gICAgICAgICAgICBUaW1lclRlbmRlclModXBkYXRlLCdzdGFydCcpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4kKCcudGVwcycpLmNzcyhcIndpZHRoXCIsIGRhdGEucHJvYytcIiVcIik7XHJcblxyXG5cclxuXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICAkKCcuanMtbmV4dC1zdGVwLWV4YW0nKS5zaG93KCk7XHJcbiAgICAgICAgJCgnI3Zpbm9feGRfZmlhbmNlX3BheScpLmZpbmQoJy5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy9hbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ce0YjQuNCx0LrQsCEg0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjycpO1xyXG5cclxuICAgICAgICAvLyQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLm1lc3NhZ2UtZm9ybScpLmVtcHR5KCkuYXBwZW5kKCfQl9Cw0L/QvtC70L3QuNGC0LUg0LLRgdC1INC/0L7Qu9GPJykuc2hvdygpO1xyXG5cclxuICAgICAgICAvL9C/0YDQvtGF0L7QtNC40LzRjyDQv9C+INC80LDRgdGB0LjQstGDINC+0YjQuNCx0L7QulxyXG4gICAgICAgICQuZWFjaChkYXRhLmVycm9yLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpe1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBlcnIgPSBbJ25vX3Rlc3QnLCdxdWVzdGlvbiddO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVycl9uYW1lID0gWyfQntGI0LjQsdC60LAg0L/QviDQt9Cw0LTQsNC90LjRjiAtINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC10YnQtSDRgNCw0LcnLCfQntGI0LjQsdC60LAg0L/QviDQstC+0L/RgNC+0YHRgyAtINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC10YnQtSDRgNCw0LcnXTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgbnVtYmVycz0kLmluQXJyYXkodmFsdWUsIGVycik7XHJcbiAgICAgICAgICAgIC8vYWxlcnQobnVtYmVycyk7XHJcbiAgICAgICAgICAgIGlmKG51bWJlcnMhPS0xKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgdmFyIGlucz1udW1iZXJbbnVtYmVyc107XHJcbiAgICAgICAgICAgICAgICAkKCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1pbicraW5zKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcbiAgICAkKCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1pbicraW5zKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmZpbmQoJy5kaXZfbmV3XzIwMTgnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJlcnJvci1tZXNzYWdlXCI+0L3QtdC60L7RgNGA0LXQutGC0L3QviDQt9Cw0L/QvtC70L3QtdC90L4g0L/QvtC70LU8L2Rpdj4nKTtcclxuICAgICovXHJcbiAgICAgICAgICAgICAgICBhbGVydF9tZXNzYWdlKCdlcnJvcicsZXJyX25hbWVbbnVtYmVyc10pO1xyXG4gICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8kKCcuanMtZm9ybS1yZWdpc3RlciAubWVzc2FnZS1mb3JtJykuZW1wdHkoKS5hcHBlbmQoJ9Ce0YjQuNCx0LrQsCEgJyk7XHJcbiAgICAgICAgICAgICAgICBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ce0YjQuNCx0LrQsCEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2pRdWVyeS5zY3JvbGxUbygnLnJlcXVpcmVkX2luXzIwMTg6Zmlyc3QnLCAxMDAwLCB7b2Zmc2V0Oi03MH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24ganNfbmV4dF9zdGVwKClcclxue1xyXG4gICAgLy9hbGVydChcIjMzXCIpO1xyXG4gICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICAkKHRoaXMpLmJlZm9yZSgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOiA0MHB4O3BhZGRpbmctdG9wOiAyN3B4O3RvcDogYXV0bztsZWZ0OiAxMHB4O1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblxyXG4gICAgdmFyIGVyciA9IDA7XHJcbi8v0YHQvNC+0YLRgNC40Lwg0Y3RgtC+INC90LUg0L/QtdGA0LLRi9C5INC70Lgg0YjQsNCzLiDQtdGB0LvQuCDQvdC10YIg0YLQviDQv9GA0L7QstC10YDRj9C10Lwg0LLRi9Cx0YDQsNC9INC70Lgg0L7RgtCy0LXRglxyXG5cclxuICAgIGlmKCQoJ1tuYW1lPXRlc3RdJykudmFsKCk9PTApXHJcbiAgICB7XHJcbiAgICAgICAgaWYoKCQoJ1tuYW1lPW15X3llc10nKS52YWwoKT09JycpfHwoJCgnLmFuc3dlcl9leGFtW2tleT0nKyQoJ1tuYW1lPW15X3llc10nKS52YWwoKSsnXScpLmxlbmd0aD09MCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBlcnIrKztcclxuICAgICAgICAgICAgYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQktGL0LHQtdGA0LjRgtC1INC+0LTQuNC9INC40Lcg0L7RgtCy0LXRgtC+0LInKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vaWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7YWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQl9Cw0L/QvtC70L3QuNGC0LUg0J3QsNC30LLQsNC90LjQtSDQv9C+0LTQsdC+0YDQutC4Jyk7IGVycisrO1x0fVxyXG5cclxuXHJcbiAgICBpZihlcnIhPTApXHJcbiAgICB7XHJcbiAgICAgICAgJCh0aGlzKS5zaG93KCk7XHJcbiAgICAgICAgJCgnI3Zpbm9feGRfZmlhbmNlX3BheScpLmZpbmQoJy5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuICAgICAgICAvL2FsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0J3QtSDQstGB0LUg0L/QvtC70Y8g0LfQsNC/0L7Qu9C90LXQvdGLJyk7XHJcbiAgICAgICAgLypcclxuICAgICQoJy5lcnJvcl90ZXh0X2FkZC0wOScpLmVtcHR5KCkuYXBwZW5kKCfQndC1INCy0YHQtSDQv9C+0LvRjyDQt9Cw0L/QvtC70L3QtdC90YsnKS5zaG93KCk7XHJcbiAgICBzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCcuZXJyb3JfdGV4dF9hZGQtMDknKS5oaWRlKCk7IH0sIDcwMDAgKTtcclxuICAgICAgICAqL1xyXG5cclxuICAgIH0gZWxzZVxyXG4gICAge1xyXG4gICAgICAgIC8vJCgnI2xhbGFsYV9zYXZlX2Zvcm0nKS5zdWJtaXQoKTtcclxuICAgICAgICBBamF4Q2xpZW50KCdleGFtJywnbmV4dCcsJ1BPU1QnLDAsJ2FmdGVyX25leHRfc3RlcCcsJCgnW25hbWU9aWRdJykudmFsKCksJ3Zpbm9feGRfZmlhbmNlX3BheScsMSk7XHJcblxyXG4gICAgfVxyXG59IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcdFxyXG5cdC8v0LjQt9C80LXQvdC40L3QuNC1INC60YPRgNGB0LAg0Lgg0YHRgtC+0LjQvNC+0YHRgtC4INC/0YDQuCDQvtGE0L7RgNC80LvQtdC90LjQuCDRgtGD0YDQsFxyXG5cdCQoJy5qcy1mb3JtLWFkZC10b3VycycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy54ZXhjaGFuZ2VfcmF0ZXMnLHhleGNoYW5nZV9yYXRlczEpO1xyXG5cdCQoJy5qcy1mb3JtLWFkZC10b3VycycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy54Y29zdF90b18xJyx4ZXhjaGFuZ2VfcmF0ZXMyKTtcclxuXHQkKCcuanMtZm9ybS1hZGQtdG91cnMnKS5vbihcImNoYW5nZVwiLCdbbmFtZT1pZF9leGNoYW5nZV0nLGV4Y2hhbmdlX2VpY28pO1xyXG5cclxuXHQkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXRlc3QnLHRlc3RfYSk7XHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtZWRpdC0yMDIwLXVzZXInLG5vX3Jkc191c2VyKTtcclxuXHJcblx0JCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1lZGl0LW9yZy0yMDIwJyxub19yZHNfb3JnKTtcclxuXHJcblxyXG5cdCQoJy5qcy1jYWxsLW5vLXYnKS5maW5kKCcuZHJvcCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCJsaVwiLGxpc3RfbnVtYmVyKTtcclxuXHJcblx0Ly/Qv9C+0LrQsNC30LDRgtGMINGB0LrRgNGL0YLRjCDQutCw0LrQvtC5INGC0L4g0YDQtdC50YLQuNC90LNcclxuXHQkKCcud2lubmVyXzIwMjAnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWFsbC1yYXRpbmcgZGl2XCIscmF0aW5nX2xpc3QpO1xyXG5cclxuXHJcblx0Ly/QstGL0LLQvtC0INC4INGB0LrRgNGL0YLQuNC1INC+0L/Qu9Cw0YLQuNGC0Ywg0LTQviDQutCw0LrQvtCz0L5cclxuXHQkKCcuanMtZm9ybS1hZGQtdG91cnMnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMteHhfZW5kX2RhdGUnLHh4X2VuZF9kYXRlKTtcclxuXHJcbiAgICAvL9C90LDQsdC+0YAg0YLQtdC60YHRgtCwINCyINC/0L7QuNGB0LrQtVxyXG5cdCQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtdGV4dC1zZWFyY2gteCcsY2hhbmdlc29ydF9zdG9jazIpO1xyXG5cclxuXHQvL9GC0YPRgNGLIC0g0L/QvtC60LDQt9Cw0YLRjCDQsiDQoNCj0JFcclxuXHQkKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWV4Yy1jb3N0JyxleGNfY29zdCk7XHJcblxyXG4vL9GC0YPRgNGLIC0g0L/QvtGB0LzQvtGC0YDQtdGC0Ywg0LTQvtCx0LDQstC40YLRjCDQstC/0LXRh9Cw0YLQu9C10L3QuNC1XHJcblx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1jaGF0LXRvdXJzJyxjaGF0X3RvdXJzKTtcclxuXHJcblx0Ly/RgtGD0YDRiyAtINGA0LDRgdGB0YfQuNGC0LDRgtGMINC+0YHRgtCw0YLQvtC6INCyINCg0KPQkVxyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtZm9ybS1jb3N0Jyxmb3JtX2Nvc3QpO1xyXG5cclxuLy/RgtGD0YDRiyDQtNC+0LPQvtCy0L7RgCDQv9C10YDQtdC00LDQvSDQuNC70Lgg0L3QtdGCXHJcblx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1pc3N1ZS1kb2MnLGZvcm1fZG9jKTtcclxuXHJcblx0Ly/RgtGD0YDRiyDQtNC+0LHQsNCy0LjRgtGMINCy0L/QtdGH0LDRgtC70LXQuNC1XHJcblx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1jaGF0LXRvdXJzLWFkZCcsZm9ybV9kb2NfY2hhdCk7XHJcblxyXG5cdC8v0YLRg9GA0YsgLSDQvtC6INC/0L7RgdC70LUg0LLQstC+0LTQsCDQutGD0YDRgdCwINCi0J5cclxuXHQkKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLW9rLXJhdGUnLG9rX3JhdGVfZm9ybSk7XHJcblxyXG5cdC8v0YLRg9GA0YsgLSDQvtC6INC/0L7RgdC70LUg0LLQstC+0LTQsCDQutC+0LPQtNCwINC+0YLQtNCw0LvQuCDQtNC+0LPQvtCy0L7RgCDQutC70LjQtdC90YLRg1xyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtb2stcmF0ZS1kb2MnLG9rX3JhdGVfZm9ybV9kb2MpO1xyXG5cclxuXHQvL9GC0YPRgNGLIC0g0LTQvtCx0LDQstC70LXQvdC40LUg0LLQv9C10YfQsNGC0LvQtdC90LjRjyDQutC90L7Qv9C60LAg0L7QulxyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtb2stcmF0ZS1jaGF0Jyxva19yYXRlX2Zvcm1fY2hhdCk7XHJcblxyXG4gICAgLy/QvdCw0LbQsNGC0LjQtSDQvdCwINC60YPRgNGBINGH0YLQvtCx0Ysg0LjQt9C80LXQvdC40YLRjFxyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtcnJhdGUnLGpzX3JyYXRlKTtcclxuXHJcblx0Ly/RgdGA0L7QutC4INC+0L/Qu9Cw0YJcclxuXHQkKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXNyb2stbXknLHNyb2tfbXkpO1xyXG5cclxuXHQvL9C40LfQvNC10L3QtdC90LjQtSDRgdGC0L7QuNC80L7RgdGC0Lgg0L/QviDRgtGD0YDRg1xyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtYWxsLXByaWNlLXRyaXBzJyxhbGxfcHJpY2VfdHJpcHMpO1xyXG5cclxuXHQvL9Cy0L3QtdGB0YLQuCDQvtC/0LvQsNGC0YMg0L3QsNC20LDRgtGMINC60L3QvtC/0LrRgyDQvtGC0LrRgNGL0YLQuNGPINGE0L7RgNC80YtcclxuXHQkKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLW1lbnUtYnV5YnV5Jyxqc19tZW51X2J1eWJ1eSk7XHJcblxyXG5cdC8v0YHQvtC30LTQsNGC0Ywg0L3QvtCy0YPRjiDQstC10YDRgdC40Y4g0LTQvtCz0L7QstC+0YDQsCDQsiDRgtGD0YDQsNGFXHJcblx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1uZXctZG9jLXRyaXBzJyxqc19uZXdfZG9jKTtcclxuXHJcbiAgICAvL9GD0LTQsNC70LjRgtGMINC/0LvQsNGC0LXQtiDQsiDRgtGD0YDQsNGFXHJcblx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1idXktZGVsJyxqc19idXlfZGVsKTtcclxuXHJcbiAgICAvL9GA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC/0LvQsNGC0LXQtiDQsiDRgtGD0YDQsNGFXHJcblx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1idXktZWRpdCcsanNfYnV5X2VkaXQpO1xyXG5cclxuXHQkKCdib2R5Jykub24oXCJjbGlja1wiLFwiLmpzLXRvdXJvcGVyLWV5ZSwuanMtY29tbWktZXllXCIsanNfdG91cm9wZXJfZXllKTtcclxuXHJcbi8v0L/QvtGP0LLQu9C10L3QuNC1INC60L3QvtC/0LrQuCDRgdC+0YXRgNCw0L3QuNGC0Ywg0LrQvtCz0LTQsCDRh9GC0L4t0YLQviDQuNC30LzQtdC90Y/QtdC8INCyINC90LDRgdGC0YDQvtC50LrQsNGFXHJcblx0JCgnLmZvcm1fNTRfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIjbmFtZV9iLCNuYW1lX2IxLCNuYW1lX2IxeCwjcGFzc3dvcmRfYiwjbG9naW5fYiwucmFkaW9fMSwuanMtY2hlY2tib3gtZ3JvdXBcIixmdW5jdGlvbigpeyAgICQoJy5qcy1zYXZlLXNldHRpbmcnKS5zaG93KCk7ICAgIH0pO1xyXG5cclxuXHJcbi8v0L/QvtGP0LLQu9C10L3QuNC1INC60L3QvtC/0LrQuCDRgdC+0YXRgNCw0L3QuNGC0Ywg0LrQvtCz0LTQsCDRh9GC0L4t0YLQviDQuNC30LzQtdC90Y/QtdC8INC/0YDQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INGB0L7RgtGA0YPQtNC90LjQutCwXHJcblx0JCgnLmZvcm1fNTMxX3NldCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIjbmFtZV9iLC5qcy1zdGF0dXMtdHJpcHMtbW9yZVwiLGZ1bmN0aW9uKCl7ICAgJCgnLmpzLXNhdmUtc2V0Jykuc2hvdygpOyAgICB9KTtcclxuXHJcbiAgICAvL9C/0L7Rj9Cy0LvQtdC90LjQtSDQutC90L7Qv9C60Lgg0LTQvtCx0LDQstC40YLRjCDQutC+0LPQtNCwINGH0YLQvi3RgtC+INC40LfQvNC10L3Rj9C10Lwg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4INC90L7QstC+0LPQviDRgdC+0YLRgNGD0LTQvdC40LrQsFxyXG4gICAgJCgnLmZvcm1fNTMyX2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiI25hbWVfYiwjbmFtZV9iMSwjbmFtZV9iMTIsI25hbWVfYjF4LCNwYXNzd29yZF9iLCNsb2dpbl9iLC5yYWRpb18xLC5qcy1jaGVja2JveC1ncm91cFwiLGZ1bmN0aW9uKCl7ICAgJCgnLmpzLWFkZC11c2VycycpLnNob3coKTt9KTtcclxuXHJcblx0JCgnLmZvcm1fNTMxX2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiI25hbWVfYiwjbmFtZV9iMSwjbmFtZV9iMTIsI25hbWVfYjF4LCNwYXNzd29yZF9iLCNsb2dpbl9iLC5yYWRpb18xLC5qcy1jaGVja2JveC1ncm91cFwiLGZ1bmN0aW9uKCl7ICAgJCgnLmpzLXNhdmUtdXNlcnMnKS5zaG93KCk7fSk7XHJcblxyXG5cdCQoJy5mb3JtXzUzMl9zZXQnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiI25hbWVfYiwuanMtc3RhdHVzLXRyaXBzLW1vcmVcIixmdW5jdGlvbigpeyAgICQoJy5qcy1hZGQtc2V0Jykuc2hvdygpO30pO1xyXG5cclxuICAgIC8v0L3QsNC20LDRgtC40LUg0L3QsCDQvtGC0LTQtdC70YzQvdGL0LUgY2h0Y2tib3gg0LfQsNC70LrQuCDQsiDQvtC/0YDQtdC00LXQu9C10L3QvdC+0Lkg0LPRgNGD0L/Qv9C1XHJcblx0JCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1jaGVja2JveC1ncm91cCcsQ2hlY2tib3hHcm91cCk7XHJcblxyXG4gICAgLy/QvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrRgyDRgdC+0YXRgNCw0L3QuNGC0Ywg0L3QsNGB0YLRgNC+0LnQutC4XHJcblx0JCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuanMtc2F2ZS1zZXR0aW5nXCIsIHNhdmVfc2V0dGluZyk7XHJcblxyXG4gICAgLy/QvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrRgyDRgdC+0YXRgNCw0L3QuNGC0Ywg0LjQt9C80LXQvdC10L3QuNGPINC/0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOXHJcblx0JCgnLmpzLWZvcm0tZ2xvYWInKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLXNhdmUtdXNlcnNcIiwgc2F2ZV91c2Vyc18yMDIwKTtcclxuXHJcbiAgICAvL9C90LDQttCw0YLQuNC1INC90LAg0LrQvdC+0L/QutGDINGB0L7RhdGA0LDQvdC40YLRjCDQuNC30LzQtdC90LXQvdC40Y8g0L/QviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y4gLyDQtNC+0LHQsNCy0LjRgtGMINC90L7QstC+0LPQvlxyXG4gICAgJCgnLmpzLWZvcm0tZ2xvYWInKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWFkZC11c2Vyc1wiLCBhZGRfdXNlcnNfMjAyMCk7XHJcblxyXG5cdC8v0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60YMg0YHQvtGF0YDQsNC90LjRgtGMINC40LfQvNC10L3QtdC90LjRjyDQv9C+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjiAvINC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0L7Qs9C+XHJcblx0JCgnLm1lbnUtMDknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWFkZC1zZXRcIiwgYWRkX3NldF8yMDIwKTtcclxuXHJcblx0JCgnLm1lbnUtMDknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLXNhdmUtc2V0XCIsIHNhdmVfc2V0XzIwMjApO1xyXG5cclxuXHJcblxyXG5cclxuLy/Qt9Cw0LHQu9C+0LrQuNGA0L7QstCw0YLRjCDRgdC+0YLRgNGD0LTQvdC40LrQsFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXVzZXJzLWJsb2NrJyxVc2Vyc0Jsb2NrKTtcclxuXHJcbi8v0LjQt9C80LXQvdC40YLRjCDRgdGC0LDRgtGD0YEg0YLRg9GA0LAg0L/QviDQv9GA0L7QstC10YDQutC4INC+0L/Qu9Cw0YLQtVxyXG4kKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXN0YXR1cy10cmlwcycsU3RhdHVzVHJpcHMpO1xyXG5cclxuLy/QstGL0LTQtdC70LjRgtGMINGC0YPRgCDQs9Cw0LvQutC+0Lkg0LTQu9GPINC60LDQutC40YUg0YLQviDQtNC10LnRgdGC0LLQuNC5XHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtc3RhdHVzLXRyaXBzLW1vcmUnLHN0X2Rpdik7XHJcblxyXG5cdCQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtZXhhbS1tb3JlJyxzdF9kaXZfZXhhbSk7XHJcblxyXG4vL9C+0YLQutGA0YvRgtGMINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LXQtSDQvNC10L3RjiDRgtC+0YfQutC4XHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcubWVudV9qanMgLm1lbnVfY2xpY2snLG1lbnVjbGljayk7XHJcblxyXG5cclxuLy/Qv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INGA0L7Qu9C4INCyINGB0LjRgdGC0LXQvNC1INC/0L7QtNGA0YPQttCw0YLRjCDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPINC40LvQuCDRgdC60YDRi9Cy0LDRgtGMINC00LvRjyDQutC+0L3QutGA0LXRgtC90L7QuSDRgNC+0LvQuFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWNoZWNrYm94LXJvbGUnLFJvbGVOb3RpZik7XHJcblxyXG5cclxuLy/QsNC60YLQuNCy0LDRhtC40Y8g0LjQvdC/0YPRgtC+0LIgMjAxOFxyXG5cdGlucHV0XzIwMTgoKTtcclxuXHJcbi8v0L/QvtC60LDQt9Cw0YLRjCDRgdC60YDRi9GC0Ywg0L/QsNGA0L7Qu9GMINCz0LvQsNC30LjQulxyXG5cdCQoJ2JvZHknKS5vbihcImNsaWNrXCIsJy5haXMnLEV5ZSk7XHJcblx0VG9vbFRpcElucHV0KCk7XHJcbkF1dG9SZXNpemVUKCk7XHJcblxyXG5cclxufSk7XHJcblxyXG5cclxuLy/Qt9Cw0LPRgNGD0LbQsNGC0Ywg0LjQu9C4INC90LXRgiBqcyBmb3JtcyAvLyDQvdGD0LbQvdC+INC60L7Qs9C00LAg0L7RgtC60YDRi9Cy0LDQtdGC0YHRjyDQvdC10YHQutC+0LvRjNC60L4g0L7QutC+0L0g0YHRgNCw0LfRg1xyXG4vLyAgfFxyXG4vLyBcXC9cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUZvcm1zSnMoKVxyXG57XHJcblx0dHJ5IHtcclxuXHRcdGZvcm1zX2pzX2xvYWQoKTtcclxuXHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0Ly/QsCDRgtGD0YIg0YLQviwg0YfRgtC+INC00LXQu9Cw0YLRjCwg0LrQvtCz0LTQsCDQutC+0LQg0LLRi9GI0LUg0LLRi9C30LLQsNC7INC+0YjQuNCx0LrRg1xyXG5cdFx0JC5nZXRTY3JpcHQoIHdpbmRvdy5zcmNfZm9ybXMsIGZ1bmN0aW9uKCBkYXRhLCB0ZXh0U3RhdHVzLCBqcXhociApIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJ5ZXMgbG9hZCBzY3JpcHRcIik7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIExvYWRGRm8oKVxyXG57XHJcblx0Y29uc29sZS5sb2coXCLQv9GA0L7QstC10YDQutCwINC/0L7Qu9C90L7QuSDQt9Cw0LPRgNGD0LfQutC4XCIpO1xyXG5cdGlmKHdpbmRvdy55ZXNmb3JtPT0xKSB7XHJcblx0XHRjbGVhckludGVydmFsKFRpbWVyU2NyaXB0KTtcclxuXHRcdFNjcmlwdEZvcm1zKCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcbi8v0LLQvtC30LLRgNCw0YnQsNC10Lwg0YHQutGA0YPQuyDRgyDRgdCw0LnRgtCwINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCDQtdGB0LvQuCDQvtC60L7QvSDQsdC+0LvRjNGI0LUg0L3QtdGCXHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiBCb2R5U2Nyb29sKClcclxue1xyXG5cclxuXHRpZigkKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykubGVuZ3RoPT0xKVxyXG5cdHtcclxuXHRcdCQoJ2JvZHknKS5jc3MoIFwibWFyZ2luLXJpZ2h0XCIsIFwiMHB4XCIgKTtcclxuXHRcdCQoJ2JvZHknKS5jc3MoIFwib3ZlcmZsb3dcIiwgXCJhdXRvXCIgKTtcclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9C30LDQutGA0YvRgtGMINGE0L7RgNC80YMg0L/QvtC00L/QuNGB0LrQuCDQutGA0LXRgdGC0LjQulxyXG4vLyAgfFxyXG4vLyBcXC9cclxuZnVuY3Rpb24gRXllKClcclxue1xyXG5cdGlmKCQodGhpcykuaXMoJy5haXMtb3BlbicpKVxyXG5cdHtcclxuXHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2Fpcy1vcGVuJyk7XHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykuZmluZCgnLmlucHV0X25ld18yMDE4JykuYXR0cigndHlwZScsJ3Bhc3N3b3JkJyk7XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0JCh0aGlzKS5hZGRDbGFzcygnYWlzLW9wZW4nKTtcclxuXHRcdCQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuaW5wdXRfbmV3XzIwMTgnKS5hdHRyKCd0eXBlJywndGV4dCcpO1xyXG5cdH1cclxufVxyXG5cclxuLy/Qv9C+0LrQsNC30LDRgtGMINGB0LrRgNGL0YLRjCDQv9Cw0YDQvtC70Ywg0LPQu9Cw0LfQuNC6XHJcbiQoJ2JvZHknKS5vbihcImNsaWNrXCIsJy5haXMnLEV5ZSk7XHJcbi8v0L/RgNC+0YXQvtC00LjQvCDQv9C+INCy0YHQtdC8IHRleHRhcmVhIHJlc2l6ZSDQuCDQsNC60YLQuNCy0LjRgNGD0LXQvCDQuNGFXHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiBBdXRvUmVzaXplVCgpXHJcbntcclxuXHQvLyQodGhpcykuYXV0b1Jlc2l6ZSh7ZXh0cmFTcGFjZSA6IDEwfSk7XHJcblxyXG5cdCQoJy5qcy1hdXRvUmVzaXplJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHRcdCQodGhpcykuYXV0b1Jlc2l6ZSh7ZXh0cmFTcGFjZSA6IDEwfSk7XHJcblx0fSk7XHJcblxyXG59XHJcblxyXG5cclxuLy/Qv9C+0LTRgdC60LDQt9C60Lgg0L7RgdC+0LHRi9C1INC00LvRjyDRhNC+0YDQvNGLXHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiBUb29sVGlwSW5wdXQoKXtcclxuXHJcblxyXG5cclxuXHQkKFwiLmhlbHAtaWNvblwiKS5tb3VzZW1vdmUoZnVuY3Rpb24gKGV2ZW50T2JqZWN0KSB7XHJcblxyXG5cdFx0dmFyIGlucHV0eD0kKHRoaXMpLnBhcmVudHMoJy5pbnB1dF8yMDE4Jyk7XHJcblxyXG5cdFx0aWYoaW5wdXR4Lmxlbmd0aD09MClcclxuXHRcdHtcclxuXHRcdFx0dmFyIGlucHV0eD0kKHRoaXMpLnBhcmVudHMoJy5qcy1oZWxwcycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKGlucHV0eC5maW5kKCcudG9vbGhlbHAnKS5sZW5ndGg9PTApXHJcblx0XHR7XHJcblx0XHRcdGlucHV0eC5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwidG9vbGhlbHBcIj48c3Bhbj48L3NwYW4+PC9kaXY+Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHRvb2xoPWlucHV0eC5maW5kKFwiLnRvb2xoZWxwXCIpO1xyXG5cdFx0dmFyIHRvb2xocz1pbnB1dHguZmluZChcIi50b29saGVscCBzcGFuXCIpO1xyXG5cdFx0JGRhdGFfdG9vbHRpcCA9ICQodGhpcykuYXR0cihcImhlbHBcIik7XHJcblx0XHR0b29saHMudGV4dCgkZGF0YV90b29sdGlwKTtcclxuXHRcdHZhciBvZmZzZXQgPSAkKHRoaXMpLm9mZnNldCgpO1xyXG5cclxuXHJcblx0XHRpZigoZXZlbnRPYmplY3QucGFnZVgtMjUwKTw9KCQod2luZG93KS53aWR0aCgpLzIpKVxyXG5cdFx0e1xyXG5cdFx0XHR0b29saC5jc3Moe1xyXG5cdFx0XHRcdFwidG9wXCIgOiAnMHB4JyxcclxuXHRcdFx0XHRcInJpZ2h0XCIgOiAtICh0b29saC5vdXRlcldpZHRoKCkgKyA0MClcclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHRcdHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7IHRvb2xoLmZhZGVJbig1MDApOyB9LCBcdDQwMCApO1xyXG5cclxuXHJcblx0XHR9ZWxzZVxyXG5cdFx0e1xyXG5cclxuXHRcdFx0dG9vbGguaGlkZSgpO1xyXG5cclxuXHJcblx0XHR9XHJcblx0fSkubW91c2VvdXQoZnVuY3Rpb24gKCkgeyB2YXIgdG9vbGg9JCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmZpbmQoXCIudG9vbGhlbHBcIik7XHJcblxyXG5cclxuXHRcdGlmKHRvb2xoLmxlbmd0aD09MClcclxuXHRcdHtcclxuXHRcdFx0dmFyIHRvb2xoPSQodGhpcykucGFyZW50cygnLmpzLWhlbHBzJykuZmluZChcIi50b29saGVscFwiKTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0dG9vbGgucmVtb3ZlKCk7IH0pO1xyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuLy/Qv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INGA0L7Qu9C4INCyINGB0LjRgdGC0LXQvNC1INC/0L7QtNGA0YPQttCw0YLRjCDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPINC40LvQuCDRgdC60YDRi9Cy0LDRgtGMINC00LvRjyDQutC+0L3QutGA0LXRgtC90L7QuSDRgNC+0LvQuFxyXG5mdW5jdGlvbiBSb2xlTm90aWYoKVxyXG57XHJcblx0dmFyIGk9ICQodGhpcykuZmluZCgnaScpO1xyXG5cdGlmKGkuaXMoJy5hY3RpdmVfdGFza19jYicpKVxyXG5cdHtcclxuXHRcdCQoJy5qcy1wYW5lbC1ub3RpZicpLmhpZGUoKS5iZWZvcmUoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlOyB3aWR0aDogNDBweDtwYWRkaW5nLXRvcDogN3B4O3RvcDogYXV0bztyaWdodDogYXV0bztcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuXHRcdHZhciBpZF9yb2xlPWkubmV4dCgpLnZhbCgpO1xyXG5cdFx0dmFyIGlkX3U9JCgnLmpzLXBhbmVsLW5vdGlmJykuYXR0cignaXBvJyk7XHJcblx0XHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZF9yb2xlKycmaWRfdT0nK2lkX3U7XHJcblx0XHRBamF4Q2xpZW50KCd1c2VycycsJ3JvbGVfbm90aWYnLCdHRVQnLGRhdGEsJ0FmdGVyUm9sZU5vdGlmJyxpZF9yb2xlLDAsMSk7XHJcblxyXG5cdH0gZWxzZVxyXG5cdHtcclxuJCgnLmpzLXBhbmVsLW5vdGlmJykuaGlkZSgpO1xyXG5cdH1cclxufVxyXG5cclxuLy/Qv9GA0L7RhdC+0LTQuNC8INC/0L4g0LLRgdC10LwgdGV4dGFyZWEgcmVzaXplINCyINC+0YLQutGA0YvQstCw0Y7RidC10Lwg0L7QutC90LUg0Lgg0LDQutGC0LjQstC40YDRg9C10Lwg0LjRhVxyXG4vLyAgfFxyXG4vLyBcXC9cclxuZnVuY3Rpb24gQXV0b1Jlc2l6ZVRGKClcclxue1xyXG4gICAgLy8kKHRoaXMpLmF1dG9SZXNpemUoe2V4dHJhU3BhY2UgOiAxMH0pO1xyXG5cclxuICAgICQoJy5ib3gtbW9kYWwgLmpzLWF1dG9SZXNpemUtZm9ybScpLmVhY2goZnVuY3Rpb24oaSxlbGVtKSB7XHJcbiAgICAgICAgJCh0aGlzKS5hdXRvUmVzaXplKHtleHRyYVNwYWNlIDogMTB9KTtcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIEFmdGVyUm9sZU5vdGlmKGRhdGEsdXBkYXRlKSB7XHJcblx0JCgnLmpzLXBhbmVsLW5vdGlmJykucHJldigpLnJlbW92ZSgpO1xyXG5cclxuXHRpZiAoZGF0YS5zdGF0dXMgPT0gJ29rJykge1xyXG4kKCcuanMtcGFuZWwtbm90aWYnKS5lbXB0eSgpLmFwcGVuZChkYXRhLmVjaG8pO1xyXG5cdFx0JCgnLmpzLXBhbmVsLW5vdGlmJykuc2xpZGVEb3duKFwic2xvd1wiKTtcclxuXHR9XHJcblxyXG59XHJcblxyXG4vL9GD0LTQsNC70LXQvdC40LUg0L/QsNGA0LDQvNC10YLRgNCwINC40LcgdXJsXHJcbi8vdmFyIHVybCA9IFwiaHR0cDovL3NvbWVVcmwucnU/cGFyYW0xPTEyMyZwYXJhbTI9MjM0JnBhcmFtMz00MzVcIjtcclxuLy92YXIgdXJsMSA9IHJlbW92ZVBhcmFtKFwicGFyYW0xXCIsIHVybCk7XHJcbmZ1bmN0aW9uIHJlbW92ZVBhcmFtKGtleSwgc291cmNlVVJMKSB7XHJcblx0dmFyIHNwbGl0VXJsID0gc291cmNlVVJMLnNwbGl0KCc/JyksXHJcblx0XHRydG4gPSBzcGxpdFVybFswXSxcclxuXHRcdHBhcmFtLFxyXG5cdFx0cGFyYW1zX2FyciA9IFtdLFxyXG5cdFx0cXVlcnlTdHJpbmcgPSAoc291cmNlVVJMLmluZGV4T2YoXCI/XCIpICE9PSAtMSkgPyBzcGxpdFVybFsxXSA6ICcnO1xyXG5cclxuXHRpZiAocXVlcnlTdHJpbmcgIT09ICcnKSB7XHJcblx0XHRwYXJhbXNfYXJyID0gcXVlcnlTdHJpbmcuc3BsaXQoJyYnKTtcclxuXHRcdGZvciAodmFyIGkgPSBwYXJhbXNfYXJyLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XHJcblx0XHRcdHBhcmFtID0gcGFyYW1zX2FycltpXS5zcGxpdCgnPScpWzBdO1xyXG5cdFx0XHRpZiAocGFyYW0gPT09IGtleSkge1xyXG5cdFx0XHRcdHBhcmFtc19hcnIuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRydG4gPSBydG4gKyAnPycgKyBwYXJhbXNfYXJyLmpvaW4oJyYnKTtcclxuXHR9XHJcblxyXG5cdGlmKHJ0bi50b1N0cmluZygpLnNsaWNlKC0xKT09Jz8nKVxyXG5cdHtcclxuXHRcdHJ0bj1ydG4uc2xpY2UoMCwgLTEpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHJ0bjtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIEFmdGVyTW9yZVN0YXR1cyhkYXRhLHVwZGF0ZSlcclxue1xyXG5cdCQoJy5tZW51X2pqcyAubW9yZV9zdXBwbHkxJykuc2hvdygpO1xyXG5cdCQoJy5tZW51X2pqcycpLmZpbmQoJy5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHJcblx0dmFyIHN0YXR1c19jbGFzcz1wYXJzZUludChkYXRhLnJlbCktMztcclxuXHJcblx0aWYgKGRhdGEuc3RhdHVzPT0nb2snKVxyXG5cdHtcclxuXHRcdHZhciBhdyA9IHVwZGF0ZS5zcGxpdCgnLicpO1xyXG5cclxuXHRcdCQuZWFjaChhdywgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcclxuXHRcdHZhciAgYnV0dD0kKCcudHJpcHNfYmxvY2tfZ2xvYmFsW2lkX3RyaXBzPScrdmFsdWUrJ10nKTtcclxuXHRcdFx0YnV0dC5maW5kKCcuanMtc3RhdHVzLXRyaXBzJykucmVtb3ZlQ2xhc3MoJ3NfYV8wIHNfYV8xIHNfYV8yJyk7XHJcblx0XHRcdGJ1dHQuZmluZCgnLmpzLXN0YXR1cy10cmlwcycpLmFkZENsYXNzKCdzX2FfJytzdGF0dXNfY2xhc3MpLmVtcHR5KCkuYXBwZW5kKGRhdGEuZWNobyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvL9C+0YLQvNC10L3QuNGC0Ywg0LLRi9C00LXQu9C10L3QuNC1INCy0YHQtdGFINCy0YvQsdGA0LDQvdC90YVcclxuXHRcdCQoJy50cmlwc19ibG9ja19nbG9iYWwgLnRyaXBzLWItbnVtYmVyIC5jaG9pY2UtcmFkaW8nKS5maW5kKCdpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRiYXNrZXRfdHJpcHMoKTtcclxuXHRcdGFsZXJ0X21lc3NhZ2UoJ29rJywn0KHRgtCw0YLRg9GB0Ysg0LjQt9C80LXQvdC10L3RiycpO1xyXG5cdH1cclxufVxyXG5cclxuLy/RgNCw0YHQutGA0YvQstCw0Y7RidC10LUg0LzQtdC90Y4g0L/QviDQutC90L7Qv9C60LVcclxudmFyIG1lbnVjbGljayA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciB0cl9zPSQodGhpcykubmV4dChcIi5tZW51X3N1cHBseVwiKS5maW5kKCcuZHJvcHMnKTtcclxuXHRpZih0cl9zLmlzKFwiLmFjdGl2ZV9tZW51X3NcIikpXHJcblx0e1xyXG5cdFx0dHJfcy5yZW1vdmVDbGFzcyhcImFjdGl2ZV9tZW51X3NcIik7XHJcblx0XHR0cl9zLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlWSgwKVwiKTtcclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHR0cl9zLmFkZENsYXNzKFwiYWN0aXZlX21lbnVfc1wiKTtcclxuXHRcdHRyX3MuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDEpXCIpO1xyXG5cdH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHN0X2Rpdl9leGFtKCkge1xyXG5cclxuXHJcblxyXG5cdC8vYWxlcnQoc3N1cCk7XHJcblx0aWYoJCh0aGlzKS5maW5kKCcuanMtc3RhdHVzLXRyaXBzLW1vcmUxIGknKS5pcyhcIi5hY3RpdmVfdGFza19jYlwiKSlcclxuXHR7XHJcblx0XHQvL3RyLnJlbW92ZUNsYXNzKFwiY2hlY2hlcl9zdXBwbHlcIik7XHJcblx0XHQkKHRoaXMpLmZpbmQoJy5qcy1zdGF0dXMtdHJpcHMtbW9yZTEgaScpLnJlbW92ZUNsYXNzKCdhY3RpdmVfdGFza19jYicpO1xyXG5cdFx0Ly9Db29raWVMaXN0KHNzdXAraXUsdHIuYXR0cignaWRfdHJpcHMnKSwnZGVsJyk7XHJcblx0XHQvLyBhbGVydCgkKHRoaXMpLnBhcmVudHMoJ1tyZWxfaWRdJykuYXR0cigncmVsX2lkJykpO1xyXG5cdFx0Ly9iYXNrZXRfdHJpcHMoKTtcclxuXHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9leGFtJyk7XHJcblx0XHQkKCdbbmFtZT1teV95ZXNdJykudmFsKCcnKTtcclxuXHRcdC8vVG9vbFRpcCgpO1xyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdC8vdHIuYWRkQ2xhc3MoXCJjaGVjaGVyX3N1cHBseVwiKTtcclxuXHRcdCQoJy5hbnN3ZXJfZXhhbScpLmZpbmQoJy5qcy1zdGF0dXMtdHJpcHMtbW9yZTEgaScpLnJlbW92ZUNsYXNzKCdhY3RpdmVfdGFza19jYicpO1xyXG5cclxuXHRcdCQoJy5hbnN3ZXJfZXhhbScpLnJlbW92ZUNsYXNzKCdhY3RpdmVfZXhhbScpO1xyXG5cdFx0JCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlX2V4YW0nKTtcclxuXHRcdCQodGhpcykuZmluZCgnLmpzLXN0YXR1cy10cmlwcy1tb3JlMSBpJykuYWRkQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHQvL0Nvb2tpZUxpc3Qoc3N1cCtpdSx0ci5hdHRyKCdpZF90cmlwcycpLCdhZGQnKTtcclxuXHRcdC8vYmFza2V0X3RyaXBzKCk7XHJcblx0XHQvL1Rvb2xUaXAoKTtcclxuXHRcdCQoJ1tuYW1lPW15X3llc10nKS52YWwoJCh0aGlzKS5hdHRyKCdrZXknKSk7XHJcblx0fVxyXG5cclxuXHJcbn1cclxuXHJcbi8v0LTQvtCx0LDQstC70LXQvdC40LUg0LIg0LrQvtGA0LfQuNC90YMg0YLRg9GA0L7QsiDQtNC70Y8g0LjQt9C80LXQvdC10L3QuNGPINGB0YLQsNGC0YPRgdCwINC6INC+0L/Qu9Cw0YLQtS/QvtC/0LvQsNGH0LXQvdC+XHJcbmZ1bmN0aW9uIHN0X2RpdigpIHtcclxuXHJcblxyXG5cclxuXHQvL2FsZXJ0KHNzdXApO1xyXG5cdGlmKCQodGhpcykuZmluZCgnLmpzLXN0YXR1cy10cmlwcy1tb3JlMSBpJykuaXMoXCIuYWN0aXZlX3Rhc2tfY2JcIikpXHJcblx0e1xyXG5cdFx0Ly90ci5yZW1vdmVDbGFzcyhcImNoZWNoZXJfc3VwcGx5XCIpO1xyXG5cdFx0JCh0aGlzKS5maW5kKCcuanMtc3RhdHVzLXRyaXBzLW1vcmUxIGknKS5yZW1vdmVDbGFzcygnYWN0aXZlX3Rhc2tfY2InKTtcclxuXHRcdC8vQ29va2llTGlzdChzc3VwK2l1LHRyLmF0dHIoJ2lkX3RyaXBzJyksJ2RlbCcpO1xyXG5cdFx0Ly8gYWxlcnQoJCh0aGlzKS5wYXJlbnRzKCdbcmVsX2lkXScpLmF0dHIoJ3JlbF9pZCcpKTtcclxuXHRcdGJhc2tldF90cmlwcygpO1xyXG5cdFx0Ly9Ub29sVGlwKCk7XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0Ly90ci5hZGRDbGFzcyhcImNoZWNoZXJfc3VwcGx5XCIpO1xyXG5cdFx0JCh0aGlzKS5maW5kKCcuanMtc3RhdHVzLXRyaXBzLW1vcmUxIGknKS5hZGRDbGFzcygnYWN0aXZlX3Rhc2tfY2InKTtcclxuXHRcdC8vQ29va2llTGlzdChzc3VwK2l1LHRyLmF0dHIoJ2lkX3RyaXBzJyksJ2FkZCcpO1xyXG5cdFx0YmFza2V0X3RyaXBzKCk7XHJcblx0XHQvL1Rvb2xUaXAoKTtcclxuXHR9XHJcblxyXG5cclxufVxyXG5cclxuLy/QutC+0YDQt9C40L3QsCDRgdGH0LXRgtC+0LIg0L3QvtCy0YvQuS/RgtC10LrRg9GJ0LjQuVxyXG5mdW5jdGlvbiBiYXNrZXRfdHJpcHMoKVxyXG57XHJcblxyXG5cdHZhciBjb3VudF90cmlwc19zZWxlY3Q9JCgnLnF1ZXN0aW9uX2Jsb2NrX3Bhc3MgLnVzZXJzLWItbnVtYmVyJykuZmluZCgnLmFjdGl2ZV90YXNrX2NiJyk7XHJcbmlmKGNvdW50X3RyaXBzX3NlbGVjdC5sZW5ndGghPTApXHJcbntcclxuXHJcblx0dmFyIHNlbGVjdF9saSA9ICcnO1xyXG5cdGNvdW50X3RyaXBzX3NlbGVjdC5wYXJlbnRzKCcucXVlc3Rpb25fYmxvY2tfcGFzcycpLmVhY2goZnVuY3Rpb24gKGksIGVsZW0pIHtcclxuXHJcblx0XHRcdGlmIChzZWxlY3RfbGkgPT0gJycpIHtcclxuXHRcdFx0XHRzZWxlY3RfbGkgPSAkKHRoaXMpLmF0dHIoJ29wX3JlbCcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNlbGVjdF9saSA9IHNlbGVjdF9saSArICcsJyArICQodGhpcykuYXR0cignb3BfcmVsJyk7XHJcblx0XHRcdH1cclxuXHJcblx0fSk7XHJcblx0JCgnW25hbWU9c2V0XScpLnZhbChzZWxlY3RfbGkpO1xyXG5cclxuXHJcbn0gZWxzZVxyXG57XHJcblx0JCgnW25hbWU9c2V0XScpLnZhbCgnJyk7XHJcblxyXG59XHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8v0LjQt9C80LXQvdC40YLRjCDRgdGC0LDRgtGD0YEg0YLRg9GA0LAg0L/QviDQv9GA0L7QstC10YDQutC4INC+0L/Qu9Cw0YLQtVxyXG5mdW5jdGlvbiBTdGF0dXNUcmlwcygpXHJcbntcclxuXHR2YXIgaWRfdGFzaz0gJCh0aGlzKS5wYXJlbnRzKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfdHJpcHMnKTtcclxuXHJcblx0JCh0aGlzKS5oaWRlKCkuYmVmb3JlKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgd2lkdGg6IDQwcHg7cGFkZGluZy10b3A6IDBweDtsZWZ0OjBweDtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuXHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZF90YXNrO1xyXG5cdEFqYXhDbGllbnQoJ3RvdXJzJywnc3RhdHVzJywnR0VUJyxkYXRhLCdBZnRlclN0YXR1c1RyaXBzJyxpZF90YXNrLDAsMSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFmdGVyU3RhdHVzVHJpcHMoZGF0YSx1cGRhdGUpXHJcbntcclxuXHR2YXIgYnV0dD0kKCcudHJpcHNfYmxvY2tfZ2xvYmFsW2lkX3RyaXBzPScrdXBkYXRlKyddJyk7XHJcblx0YnV0dC5maW5kKCcuanMtc3RhdHVzLXRyaXBzJykuc2hvdygpO1xyXG5cdGJ1dHQuZmluZCgnLmJfbG9hZGluZ19zbWFsbCcpLnJlbW92ZSgpO1xyXG5cclxuXHRpZiAoZGF0YS5zdGF0dXM9PSdvaycpXHJcblx0e1xyXG5cdFx0YnV0dC5maW5kKCcuanMtc3RhdHVzLXRyaXBzJykucmVtb3ZlQ2xhc3MoJ3NfYV8wIHNfYV8xIHNfYV8yJyk7XHJcblx0XHRidXR0LmZpbmQoJy5qcy1zdGF0dXMtdHJpcHMnKS5hZGRDbGFzcygnc19hXycrZGF0YS5zdGF0dXNfYWRtaW4pLmVtcHR5KCkuYXBwZW5kKGRhdGEuZWNobyk7XHJcblx0XHRhbGVydF9tZXNzYWdlKCdvaycsJ9Ch0YLQsNGC0YPRgSDQuNC30LzQtdC90LXQvScpO1xyXG5cdH1cclxufVxyXG5cclxuLy/Qt9Cw0LHQu9C+0LrQuNGA0L7QstCw0YLRjCDRgdC+0YLRgNGD0LTQvdC40LrQsFxyXG5mdW5jdGlvbiBVc2Vyc0Jsb2NrKClcclxue1xyXG5cclxuICAgIHZhciBpZD0gJCh0aGlzKS5hdHRyKCdpZC1iZGF0YScpO1xyXG5cclxuXHJcbiAgICAkKHRoaXMpLmhpZGUoKS5iZWZvcmUoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlOyB3aWR0aDogNDBweDtwYWRkaW5nLXRvcDogN3B4O3RvcDogYXV0bztyaWdodDogYXV0bztsZWZ0OiBjYWxjKDUwJSAtIDIwcHgpO1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblxyXG5cclxuICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2lkO1xyXG4gICAgQWpheENsaWVudCgndXNlcnMnLCdiYW4nLCdHRVQnLGRhdGEsJ0FmdGVyVXNlcnNCbG9jaycsaWQsMCwxKTtcclxuXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBBZnRlclVzZXJzQmxvY2soZGF0YSx1cGRhdGUpXHJcbntcclxuICAgIHZhciBidXR0PSQoJy5qcy11c2Vycy1ibG9ja1tpZC1iZGF0YT0nK3VwZGF0ZSsnXScpO1xyXG4gICAgYnV0dC5wYXJlbnRzKCcudXNlcnNfYmxvY2tfMjAyMCcpLmZpbmQoJy5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHRidXR0LnBhcmVudHMoJy51c2Vyc19ibG9ja18yMDIxJykuZmluZCgnLmJfbG9hZGluZ19zbWFsbCcpLnJlbW92ZSgpO1xyXG4gICAgYnV0dC5zaG93KCk7XHJcblxyXG5cclxuICAgIGlmIChkYXRhLnN0YXR1cz09J29rJylcclxuICAgIHtcclxuXHJcblxyXG4gICAgICAgIGlmKChidXR0LnBhcmVudHMoJy51c2Vyc19ibG9ja18yMDIwJykubGVuZ3RoIT0wKXx8KGJ1dHQucGFyZW50cygnLnVzZXJzX2Jsb2NrXzIwMjEnKS5sZW5ndGghPTApKVxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgIC8vYnV0dC5wYXJlbnRzKCcudXNlcnNfYmxvY2tfMjAyMCcpLmZpbmQoJy5qcy1wYXJ0eS1zdGF0dXMnKS5lbXB0eSgpLmFwcGVuZChkYXRhLnN0KTtcclxuICAgICAgICAgICAgaWYoZGF0YS5wYXJ0eT09JzEnKVxyXG4gICAgICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICAgICAgYnV0dC5wYXJlbnRzKCcudXNlcnNfYmxvY2tfMjAyMCcpLnJlbW92ZUNsYXNzKCdyZWQtcGFydHknKTtcclxuXHRcdFx0XHRidXR0LnBhcmVudHMoJy51c2Vyc19ibG9ja18yMDIxJykucmVtb3ZlQ2xhc3MoJ3JlZC1wYXJ0eScpO1xyXG4gICAgICAgICAgICAgICAgYnV0dC5yZW1vdmVDbGFzcygnYmxvY2stcGFydHknKTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2UoJ29rJywn0JTQvtGB0YLRg9C/INC+0YLQutGA0YvRgicpO1xyXG4gICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYnV0dC5wYXJlbnRzKCcudXNlcnNfYmxvY2tfMjAyMCcpLmFkZENsYXNzKCdyZWQtcGFydHknKTtcclxuXHRcdFx0XHRidXR0LnBhcmVudHMoJy51c2Vyc19ibG9ja18yMDIxJykuYWRkQ2xhc3MoJ3JlZC1wYXJ0eScpO1xyXG4gICAgICAgICAgICAgICAgYnV0dC5hZGRDbGFzcygnYmxvY2stcGFydHknKTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2UoJ29rJywn0KPRh9Cw0YHRgtC90LjQuiDQt9Cw0LHQu9C+0LrQuNGA0L7QstCw0L0nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYXV0b1JlbG9hZEhhaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ce0YjQuNCx0LrQsCEnKTtcclxuICAgIH1cclxufVxyXG5cclxuLy/QvdCw0LbQsNGC0Ywg0L3QsCDQutC90L7Qv9C60YMg0LTQvtCx0LDQstC40YLRjCDQvdC+0LLQvtCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbmZ1bmN0aW9uIGFkZF9zZXRfMjAyMCgpXHJcbntcclxuXHJcblx0JCh0aGlzKS5maW5kKCdzcGFuJykuaGlkZSgpO1xyXG5cdCQodGhpcykuZmluZCgnc3BhbicpLmJlZm9yZSgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOiA0MHB4O3BhZGRpbmctdG9wOiA3cHg7dG9wOiBhdXRvO3JpZ2h0OiBhdXRvO2xlZnQ6IGNhbGMoNTAlIC0gMjBweCk7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcblx0dmFyIGVyciA9IDA7XHJcblx0JChcIiNuYW1lX2IsI25hbWVfYjEsI2xvZ2luX2IsI3Bhc3N3b3JkX2JcIikucmVtb3ZlQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcblx0JChcIiNuYW1lX2JcIikucGFyZW50cygnLm9rLWlucHV0LXRpdGxlLTIwMTknKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWlfMjAxOScpO1xyXG5cclxuXHJcblx0aWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7YWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQl9Cw0L/QvtC70L3QuNGC0LUg0J3QsNC30LLQsNC90LjQtSDQv9C+0LTQsdC+0YDQutC4Jyk7IGVycisrO1x0fVxyXG5cclxuXHJcblx0aWYoZXJyIT0wKVxyXG5cdHtcclxuXHRcdCQodGhpcykuZmluZCgnc3BhbicpLnNob3coKTtcclxuXHRcdCQodGhpcykuZmluZCgnLmJfbG9hZGluZ19zbWFsbCcpLnJlbW92ZSgpO1xyXG5cdFx0Ly9hbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Cd0LUg0LLRgdC1INC/0L7Qu9GPINC30LDQv9C+0LvQvdC10L3RiycpO1xyXG5cdFx0LypcclxuICAgICQoJy5lcnJvcl90ZXh0X2FkZC0wOScpLmVtcHR5KCkuYXBwZW5kKCfQndC1INCy0YHQtSDQv9C+0LvRjyDQt9Cw0L/QvtC70L3QtdC90YsnKS5zaG93KCk7XHJcbiAgICBzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCcuZXJyb3JfdGV4dF9hZGQtMDknKS5oaWRlKCk7IH0sIDcwMDAgKTtcclxuICAgICAgICAqL1xyXG5cclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHQkKCcjbGFsYWxhX2FkZF9mb3JtJykuc3VibWl0KCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuLy/QvdCw0LbQsNGC0Ywg0L3QsCDQutC90L7Qv9C60YMg0LTQvtCx0LDQstC40YLRjCDQvdC+0LLQvtCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbmZ1bmN0aW9uIHNhdmVfc2V0XzIwMjAoKVxyXG57XHJcblxyXG5cdCQodGhpcykuZmluZCgnc3BhbicpLmhpZGUoKTtcclxuXHQkKHRoaXMpLmZpbmQoJ3NwYW4nKS5iZWZvcmUoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlOyB3aWR0aDogNDBweDtwYWRkaW5nLXRvcDogN3B4O3RvcDogYXV0bztyaWdodDogYXV0bztsZWZ0OiBjYWxjKDUwJSAtIDIwcHgpO1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblxyXG5cdHZhciBlcnIgPSAwO1xyXG5cdCQoXCIjbmFtZV9iLCNuYW1lX2IxLCNsb2dpbl9iLCNwYXNzd29yZF9iXCIpLnJlbW92ZUNsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG5cdCQoXCIjbmFtZV9iXCIpLnBhcmVudHMoJy5vay1pbnB1dC10aXRsZS0yMDE5JykucmVtb3ZlQ2xhc3MoJ2Vycm9yX2Zvcm1pXzIwMTknKTtcclxuXHJcblxyXG5cdGlmKCQoXCIjbmFtZV9iXCIpLnZhbCgpID09ICcnKSAge2FsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JfQsNC/0L7Qu9C90LjRgtC1INCd0LDQt9Cy0LDQvdC40LUg0L/QvtC00LHQvtGA0LrQuCcpOyBlcnIrKztcdH1cclxuXHJcblxyXG5cdGlmKGVyciE9MClcclxuXHR7XHJcblx0XHQkKHRoaXMpLmZpbmQoJ3NwYW4nKS5zaG93KCk7XHJcblx0XHQkKHRoaXMpLmZpbmQoJy5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHRcdC8vYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQndC1INCy0YHQtSDQv9C+0LvRjyDQt9Cw0L/QvtC70L3QtdC90YsnKTtcclxuXHRcdC8qXHJcbiAgICAkKCcuZXJyb3JfdGV4dF9hZGQtMDknKS5lbXB0eSgpLmFwcGVuZCgn0J3QtSDQstGB0LUg0L/QvtC70Y8g0LfQsNC/0L7Qu9C90LXQvdGLJykuc2hvdygpO1xyXG4gICAgc2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgJCgnLmVycm9yX3RleHRfYWRkLTA5JykuaGlkZSgpOyB9LCA3MDAwICk7XHJcbiAgICAgICAgKi9cclxuXHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0JCgnI2xhbGFsYV9zYXZlX2Zvcm0nKS5zdWJtaXQoKTtcclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9C90LDQttCw0YLRjCDQvdCwINC60L3QvtC/0LrRgyDQtNC+0LHQsNCy0LjRgtGMINC90L7QstC+0LPQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuZnVuY3Rpb24gYWRkX3VzZXJzXzIwMjAoKVxyXG57XHJcblxyXG5cclxuXHJcblx0dmFyIGVyciA9IDA7XHJcbi8vYWxlcnQoJCgnLmpzLWZvcm0tcmVnaXN0ZXIgLmdsb2FiJykubGVuZ3RoKTtcclxuXHQkKCcuanMtZm9ybS1nbG9hYiAuZ2xvYWInKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdFx0aWYoJCh0aGlzKS52YWwoKSA9PSAnJykgIHsgJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdCQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdGVycisrO1xyXG5cdFx0XHQvL2FsZXJ0KCQodGhpcykuYXR0cignbmFtZScpKTtcclxuXHRcdH0gZWxzZSB7JCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7JCh0aGlzKS5wYXJlbnRzKCcubGlzdF8yMDE4JykucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTt9XHJcblx0fSk7XHJcblxyXG5cdGlmICghJChcIi5qcy1yb2xlLXggaVwiKS5pcyggXCIuYWN0aXZlX3Rhc2tfY2JcIiApICkgeyBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9CX0LDQv9C+0LvQvdC40YLQtSDQtNC+0LvQttC90L7RgdGC0Ywg0LIg0YHQuNGB0YLQtdC80LUnKTsgIGVycisrOyB9XHJcblxyXG5cdGlmICghJChcIi5qcy1vZmZpY2UteCBpXCIpLmlzKCBcIi5hY3RpdmVfdGFza19jYlwiICkgKSB7IGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JfQsNC/0L7Qu9C90LjRgtC1INC+0YTQuNGBJyk7ICBlcnIrKzsgfVxyXG5cclxuXHQvL2FsZXJ0KGVycik7XHJcblxyXG5cdGlmKGVycj09MClcclxuXHR7XHJcblx0XHQkKCcuanMtZm9ybS1hZGQtb2ZmaWNlICAuanMtYWRkLXVzZXJzJykuaGlkZSgpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgd2lkdGg6IDQwcHg7cGFkZGluZy10b3A6IDdweDt0b3A6IGF1dG87cmlnaHQ6IGF1dG87bGVmdDogY2FsYyg1MCUgLSAyMHB4KTtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuXHRcdC8vQWpheENsaWVudCgnbm90aWZpY2F0aW9uJywnZXZlbicsJ0dFVCcsZGF0YSwnQWZ0ZXJOb2ZpJywxLDAsMSk7XHJcblx0XHQvL0FqYXhDbGllbnQoJ3RlZG5lcicsJ2FkZCcsJ1BPU1QnLDAsJ0FmdGVyQWRkRm9ybVRlbmRlcicsMCwnanMtZm9ybS10ZW5kZXItbmV3JywxKTtcclxuXHRcdCQoJyNsYWxhbGFfYWRkX2Zvcm0nKS5zdWJtaXQoKTtcclxuXHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0Ly/QvdCw0LnQtNC10Lwg0YHQsNC80YvQuSDQstC10YDRhdC90Y7RjiDQvtGI0LjQsdC60YMg0Lgg0L/RgNC+0LvQtdGB0YLQvdC10Lwg0Log0L3QtdC5XHJcblx0XHRqUXVlcnkuc2Nyb2xsVG8oJy5yZXF1aXJlZF9pbl8yMDE4OmZpcnN0JywgMTAwMCwge29mZnNldDotNzB9KTtcclxuXHRcdC8vRXJyb3JCdXQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLmpzLWFkZC10ZW5kZXItZm9ybScsJ9Ce0YjQuNCx0LrQsCDQt9Cw0L/QvtC70L3QtdC90LjRjyEnKTtcclxuXHRcdGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0J3QtSDQstGB0LUg0L/QvtC70Y8g0LfQsNC/0L7Qu9C90LXQvdGLJyk7XHJcblxyXG5cclxuXHR9XHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZV91c2Vyc18yMDIwKCkge1xyXG5cclxuXHJcblx0dmFyIGVyciA9IDA7XHJcbi8vYWxlcnQoJCgnLmpzLWZvcm0tcmVnaXN0ZXIgLmdsb2FiJykubGVuZ3RoKTtcclxuXHQkKCcuanMtZm9ybS1nbG9hYiAuZ2xvYWInKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdFx0aWYoJCh0aGlzKS52YWwoKSA9PSAnJykgIHsgJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdCQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdGVycisrO1xyXG5cdFx0XHQvL2FsZXJ0KCQodGhpcykuYXR0cignbmFtZScpKTtcclxuXHRcdH0gZWxzZSB7JCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7JCh0aGlzKS5wYXJlbnRzKCcubGlzdF8yMDE4JykucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTt9XHJcblx0fSk7XHJcblxyXG5cdGlmICghJChcIi5qcy1yb2xlLXggaVwiKS5pcyggXCIuYWN0aXZlX3Rhc2tfY2JcIiApICkgeyBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9CX0LDQv9C+0LvQvdC40YLQtSDQtNC+0LvQttC90L7RgdGC0Ywg0LIg0YHQuNGB0YLQtdC80LUnKTsgIGVycisrOyB9XHJcblxyXG5cdGlmICghJChcIi5qcy1vZmZpY2UteCBpXCIpLmlzKCBcIi5hY3RpdmVfdGFza19jYlwiICkgKSB7IGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JfQsNC/0L7Qu9C90LjRgtC1INC+0YTQuNGBJyk7ICBlcnIrKzsgfVxyXG5cclxuXHQvL2FsZXJ0KGVycik7XHJcblxyXG5cdGlmKGVycj09MClcclxuXHR7XHJcblx0XHQkKCcuanMtZm9ybS1nbG9hYiAgLmpzLXNhdmUtdXNlcnMnKS5oaWRlKCkuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlOyB3aWR0aDogNDBweDtwYWRkaW5nLXRvcDogN3B4O3RvcDogYXV0bztyaWdodDogYXV0bztsZWZ0OiBjYWxjKDUwJSAtIDIwcHgpO1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblxyXG5cdFx0Ly9BamF4Q2xpZW50KCdub3RpZmljYXRpb24nLCdldmVuJywnR0VUJyxkYXRhLCdBZnRlck5vZmknLDEsMCwxKTtcclxuXHRcdC8vQWpheENsaWVudCgndGVkbmVyJywnYWRkJywnUE9TVCcsMCwnQWZ0ZXJBZGRGb3JtVGVuZGVyJywwLCdqcy1mb3JtLXRlbmRlci1uZXcnLDEpO1xyXG5cdFx0JCgnI2xhbGFsYV9hZGRfZm9ybScpLnN1Ym1pdCgpO1xyXG5cclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHQvL9C90LDQudC00LXQvCDRgdCw0LzRi9C5INCy0LXRgNGF0L3RjtGOINC+0YjQuNCx0LrRgyDQuCDQv9GA0L7Qu9C10YHRgtC90LXQvCDQuiDQvdC10LlcclxuXHRcdGpRdWVyeS5zY3JvbGxUbygnLnJlcXVpcmVkX2luXzIwMTg6Zmlyc3QnLCAxMDAwLCB7b2Zmc2V0Oi03MH0pO1xyXG5cdFx0Ly9FcnJvckJ1dCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAuanMtYWRkLXRlbmRlci1mb3JtJywn0J7RiNC40LHQutCwINC30LDQv9C+0LvQvdC10L3QuNGPIScpO1xyXG5cdFx0YWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQndC1INCy0YHQtSDQv9C+0LvRjyDQt9Cw0L/QvtC70L3QtdC90YsnKTtcclxuXHJcblxyXG5cdH1cclxuXHJcblxyXG59XHJcblxyXG5cclxuLy/QvdCw0LbQsNGC0Ywg0L3QsCDQutC90L7Qv9C60YMg0YHQvtGF0YDQsNC90LjRgtGMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5cclxuXHJcbi8v0L3QsNC20LDRgtGMINC90LAg0LrQvdC+0L/QutGDINGB0L7RhdGA0LDQvdC40YLRjCDQvdCw0YHRgtGA0L7QudC60LhcclxuZnVuY3Rpb24gc2F2ZV9zZXR0aW5nKClcclxue1xyXG5cclxuXHJcblx0dmFyIGVyciA9IDA7XHJcbi8vYWxlcnQoJCgnLmpzLWZvcm0tcmVnaXN0ZXIgLmdsb2FiJykubGVuZ3RoKTtcclxuXHQkKCcuanMtZm9ybS1nbG9hYiAuZ2xvYWInKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdFx0aWYoJCh0aGlzKS52YWwoKSA9PSAnJykgIHsgJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdCQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdGVycisrO1xyXG5cdFx0XHQvL2FsZXJ0KCQodGhpcykuYXR0cignbmFtZScpKTtcclxuXHRcdH0gZWxzZSB7JCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7JCh0aGlzKS5wYXJlbnRzKCcubGlzdF8yMDE4JykucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTt9XHJcblx0fSk7XHJcblxyXG5cdC8vYWxlcnQoZXJyKTtcclxuXHJcblx0aWYoZXJyPT0wKVxyXG5cdHtcclxuXHRcdCQoJy5qcy1mb3JtLWdsb2FiICAuanMtc2F2ZS1zZXR0aW5nJykuaGlkZSgpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgd2lkdGg6IDQwcHg7cGFkZGluZy10b3A6IDdweDt0b3A6IGF1dG87cmlnaHQ6IGF1dG87bGVmdDogY2FsYyg1MCUgLSAyMHB4KTtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuXHRcdC8vQWpheENsaWVudCgnbm90aWZpY2F0aW9uJywnZXZlbicsJ0dFVCcsZGF0YSwnQWZ0ZXJOb2ZpJywxLDAsMSk7XHJcblx0XHQvL0FqYXhDbGllbnQoJ3RlZG5lcicsJ2FkZCcsJ1BPU1QnLDAsJ0FmdGVyQWRkRm9ybVRlbmRlcicsMCwnanMtZm9ybS10ZW5kZXItbmV3JywxKTtcclxuXHRcdCQoJyNsYWxhbGFfYWRkX2Zvcm0nKS5zdWJtaXQoKTtcclxuXHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0Ly/QvdCw0LnQtNC10Lwg0YHQsNC80YvQuSDQstC10YDRhdC90Y7RjiDQvtGI0LjQsdC60YMg0Lgg0L/RgNC+0LvQtdGB0YLQvdC10Lwg0Log0L3QtdC5XHJcblx0XHQvL2pRdWVyeS5zY3JvbGxUbygnLnJlcXVpcmVkX2luXzIwMTg6Zmlyc3QnLCAxMDAwLCB7b2Zmc2V0Oi03MH0pO1xyXG5cdFx0Ly9FcnJvckJ1dCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAuanMtYWRkLXRlbmRlci1mb3JtJywn0J7RiNC40LHQutCwINC30LDQv9C+0LvQvdC10L3QuNGPIScpO1xyXG5cdFx0YWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQndC1INCy0YHQtSDQv9C+0LvRjyDQt9Cw0L/QvtC70L3QtdC90YsnKTtcclxuXHR9XHJcblxyXG5cclxufVxyXG5cclxuLy/QvdCw0LbQsNGC0LjQtSDQvdCwINC+0YLQtNC10LvRjNC90YvQtSBjaHRja2JveCDQt9Cw0LvQutC4INCyINC+0L/RgNC10LTQtdC70LXQvdC90L7QuSDQs9GA0YPQv9C/0LVcclxuLy8gIHxcclxuLy8gXFwvXHJcbmZ1bmN0aW9uIENoZWNrYm94R3JvdXAoKVxyXG57XHJcblx0LypcclxuICAgIHZhciBhY3RpdmVfb2xkID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLnNsY3RcIikuYXR0cihcImRhdGFfc3JjXCIpO1xyXG4gICAgdmFyIGFjdGl2ZV9uZXcgPSAkKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcbiAgICAqL1xyXG4vL3ZhciBmID0gJCh0aGlzKS5maW5kKFwiYVwiKS50ZXh0KCk7XHJcblx0dmFyIGUgPSAkKHRoaXMpLmZpbmQoXCJpbnB1dFwiKS5maXJzdCgpLnZhbCgpO1xyXG5cdHZhciBkcm9wX29iamVjdCA9ICQodGhpcykucGFyZW50cygnLmpzLWdyb3VwLWMnKTtcclxuXHJcblx0dmFyIGFjdGl2ZV9qaj0wO1xyXG5cclxuXHRpZiAoJCh0aGlzKS5maW5kKCdpJykuaXMoXCIuYWN0aXZlX3Rhc2tfY2JcIikpIHtcclxuXHJcblx0XHQkKHRoaXMpLmZpbmQoJ2knKS5yZW1vdmVDbGFzcyhcImFjdGl2ZV90YXNrX2NiXCIpO1xyXG5cdFx0JCh0aGlzKS5maW5kKCdpbnB1dCcpLmxhc3QoKS52YWwoMCk7XHJcblx0XHRhY3RpdmVfamo9MTtcclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdCQodGhpcykuZmluZCgnaScpLmFkZENsYXNzKFwiYWN0aXZlX3Rhc2tfY2JcIik7XHJcblx0XHQkKHRoaXMpLmZpbmQoJ2lucHV0JykubGFzdCgpLnZhbCgxKTtcclxuXHJcblx0fVxyXG5cclxuXHJcblx0Ly/Qv9GA0L7QsdC10LbQsNGC0YzRgdGPINC/0L4g0LLRgdC10Lkg0LLRi9Cx0YDQsNC90L3QvtC80YMg0YHQtdC70LXQutGC0YNcclxuXHR2YXIgc2VsZWN0X2xpID0gJyc7XHJcblx0ZHJvcF9vYmplY3QuZmluZCgnLmpzLWNoZWNrYm94LWdyb3VwJykuZWFjaChmdW5jdGlvbiAoaSwgZWxlbSkge1xyXG5cdFx0aWYgKCQodGhpcykuZmluZCgnaScpLmlzKFwiLmFjdGl2ZV90YXNrX2NiXCIpKSB7XHJcblx0XHRcdGlmIChzZWxlY3RfbGkgPT0gJycpIHtcclxuXHRcdFx0XHRzZWxlY3RfbGkgPSAkKHRoaXMpLmZpbmQoXCJpbnB1dFwiKS5maXJzdCgpLnZhbCgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHNlbGVjdF9saSA9IHNlbGVjdF9saSArICcsJyArICQodGhpcykuZmluZChcImlucHV0XCIpLmZpcnN0KCkudmFsKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblxyXG5cdC8v0LXRgdGC0Ywg0YLQuNC/INC60L7RgtC+0YDRi9C5INC/0L7Qt9Cy0L7Qu9GP0LXRgiDQstGL0LHRgNCw0YLRjCDRgtC+0LvRjNC60L4g0L7QtNC40L0g0L/Rg9C90LrRglxyXG5cdGlmIChkcm9wX29iamVjdC5pcygnLmpzLXRvbGtvLW9uZScpKSB7XHJcblxyXG5cclxuXHRcdC8vc2VsZWN0X2xpID0gb25lX2xpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblx0XHRkcm9wX29iamVjdC5maW5kKCdpJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVfdGFza19jYlwiKTtcclxuXHJcblx0XHRkcm9wX29iamVjdC5maW5kKCcuanMtY2hlY2tib3gtZ3JvdXAnKS5lYWNoKGZ1bmN0aW9uIChpLCBlbGVtKSB7XHJcblx0XHRcdCQodGhpcykuZmluZCgnaW5wdXQnKS5sYXN0KCkudmFsKDApO1xyXG5cdFx0fSk7XHJcblx0XHQvL2FsZXJ0KGFjdGl2ZV9qaik7XHJcblx0XHRpZihhY3RpdmVfamo9PTApXHJcblx0XHR7XHJcblx0XHRcdCQodGhpcykuZmluZCgnaScpLmFkZENsYXNzKFwiYWN0aXZlX3Rhc2tfY2JcIik7XHJcblx0XHRcdCQodGhpcykuZmluZCgnaW5wdXQnKS5sYXN0KCkudmFsKDEpO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cclxuXHQvL9C10YHRgtGMINC60LvQsNGB0YEg0LrQvtGC0L7RgNGL0Lkg0LPQvtCy0L7RgNC40YIg0YfRgtC+INC10YHQu9C4INCy0YvQsdGA0LDQvdC+INC/0LXRgNCy0L7QtSDQsiDRgdC/0LjRgdC60LUg0YLQviDRg9Cx0LjRgNCw0LXQvCDQs9Cw0LvQutC4INGB0L4g0LLRgdC10YUg0L7RgdGC0LDQu9GM0L3Ri9GFXHJcblx0Ly/QtdGB0LvQuCDQtdGB0YLRjCDRh9GC0L4t0YLQviDQstGL0LHRgNCw0L3QvdC+0LUg0YLQviDQv9C10YDQstC+0LUg0LIg0YHQv9C40YHQutC1INC90LUg0LPQvtGA0LjRglxyXG5cdC8v0LXRgdC70Lgg0L3QuNGH0LXQs9C+INC90LUg0LLRi9Cx0YDQsNC90L4g0L/QtdGA0LLQvtC1INCyINGB0L/QuNGB0LrQtSDQt9Cw0LbQtdGH0YxcclxuXHJcblx0aWYgKGRyb3Bfb2JqZWN0LmlzKCcuanMtb25lLWFsbC1zZWxlY3QnKSkge1xyXG5cclxuXHRcdHZhciBvbmVfbGk9ZHJvcF9vYmplY3QuZmluZCgnLmpzLWNoZWNrYm94LWdyb3VwJykuZmlyc3QoKTtcclxuXHJcblxyXG5cdFx0Ly/QtdGB0LvQuCDQvdC1INC+0LTQvdCwINCz0LDQu9C60LAg0L3QtSDQstGL0LTQtdC70LXQvdCwINGC0L4g0LfQsNC20LjQs9Cw0LXQvCDQv9C10YDQstC+0LVcclxuXHRcdGlmIChzZWxlY3RfbGkgPT0gJycpIHtcclxuXHJcblx0XHRcdG9uZV9saS50cmlnZ2VyKCdjbGljaycpO1xyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdC8v0L3QsNC20LjQvNCw0LXQvCDQvdCwINC/0LXRgNCy0L7QtSDQsiDRgdC/0LjRgdC60LUg0LrQvtCz0LTQsCDQvtC9INC90LUg0LPQvtGA0LXQuyDRgtC+0LPQtNCwINGC0YPRiNC40Lwg0LLRgdC1INC+0YHRgtCw0LvRjNC90YvQtVxyXG5cdFx0aWYgKCgkKHRoaXMpLmZpbmQoJ2knKS5pcyhcIi5hY3RpdmVfdGFza19jYlwiKSkgJiYgKGUgPT0gMCkgJiYgKChzZWxlY3RfbGkgIT0gJycpICYmIChzZWxlY3RfbGkgIT0gJzAnKSkpIHtcclxuXHJcblx0XHRcdHNlbGVjdF9saSA9IG9uZV9saS5maW5kKFwiYVwiKS5hdHRyKFwicmVsXCIpO1xyXG5cdFx0XHRkcm9wX29iamVjdC5maW5kKCdpJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVfdGFza19jYlwiKTtcclxuXHJcblx0XHRcdGRyb3Bfb2JqZWN0LmZpbmQoJy5qcy1jaGVja2JveC1ncm91cCcpLmVhY2goZnVuY3Rpb24gKGksIGVsZW0pIHtcclxuXHRcdFx0XHQkKHRoaXMpLmZpbmQoJ2lucHV0JykubGFzdCgpLnZhbCgwKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cclxuXHRcdFx0b25lX2xpLmZpbmQoJ2knKS5hZGRDbGFzcyhcImFjdGl2ZV90YXNrX2NiXCIpO1xyXG5cdFx0XHRvbmVfbGkuZmluZCgnaW5wdXQnKS5sYXN0KCkudmFsKDEpO1xyXG5cclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Ly/QtdGB0LvQuCDQstGL0LHRgNCw0LvQuCDQstGB0LUg0LrRgNC+0LzQtSDQv9C10YDQstC+0LPQviDRgtC+INC/0L7RgtGD0YjQuNGC0Ywg0LLRgdC1INCwINC/0LXRgNCy0YvQuSDQsiDRgdC/0LjRgdC60LUg0LfQsNC20LXRh9GMXHJcblx0XHRpZihlICE9IDApXHJcblx0XHR7XHJcblx0XHRcdHZhciBjb3VudF9hbGxfbGk9ZHJvcF9vYmplY3QuZmluZCgnLmpzLWNoZWNrYm94LWdyb3VwJykubGVuZ3RoO1xyXG5cdFx0XHR2YXIgY291bnRfYWN0aXZlX2xpPWRyb3Bfb2JqZWN0LmZpbmQoJy5hY3RpdmVfdGFza19jYicpLmxlbmd0aDtcclxuXHRcdFx0Ly9hbGVydChjb3VudF9hbGxfbGkpO1xyXG5cdFx0XHRpZiAocGFyc2VJbnQoY291bnRfYWN0aXZlX2xpICsgMSkgPT0gY291bnRfYWxsX2xpKSB7XHJcblx0XHRcdFx0ZHJvcF9vYmplY3QuZmluZCgnaScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlX3Rhc2tfY2JcIik7XHJcblxyXG5cdFx0XHRcdGRyb3Bfb2JqZWN0LmZpbmQoJy5qcy1jaGVja2JveC1ncm91cCcpLmVhY2goZnVuY3Rpb24gKGksIGVsZW0pIHtcclxuXHRcdFx0XHRcdCQodGhpcykuZmluZCgnaW5wdXQnKS5sYXN0KCkudmFsKDApO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHRcdFx0b25lX2xpLmZpbmQoJ2knKS5hZGRDbGFzcyhcImFjdGl2ZV90YXNrX2NiXCIpO1xyXG5cdFx0XHRcdG9uZV9saS5maW5kKCdpbnB1dCcpLmxhc3QoKS52YWwoMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblxyXG5cdFx0Ly9hbGVydChzZWxlY3RfbGlfdGV4dCk7XHJcblx0XHQvL9C10YHQu9C4INGH0YLQvi3RgtC+INCy0YvQsdGA0LDQvdC+INC60YDQvtC80LUg0L/QtdGA0LLQvtCz0L4g0YLQviDQuCDQv9C10YDQstGL0Lkg0LPQsNGA0LjQtCDRgtC+INC/0L7RgtGD0YjQuNGC0Ywg0LXQs9C+XHJcblx0XHRpZiAoKHNlbGVjdF9saSAhPSAnJykmJihzZWxlY3RfbGkgIT0gJzAnKSlcclxuXHRcdHtcclxuXHRcdFx0aWYob25lX2xpLmZpbmQoJ2knKS5pcygnLmFjdGl2ZV90YXNrX2NiJykpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRvbmVfbGkudHJpZ2dlcignY2xpY2snKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gcmF0aW5nX2xpc3QoKVxyXG57XHJcblxyXG5cdHZhciBpZD0kKHRoaXMpLmF0dHIoJ2lkX3InKTtcclxuXHR2YXIgcmF0PSQodGhpcykucGFyZW50cygnLndpbm5lcl8yMDIwJyk7XHJcblx0cmF0LmZpbmQoJy5qcy1yYXRpbmcnKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuXHRyYXQuZmluZCgnLmpzLXJhdGluZ1tpZHJyPScraWQrJ10nKS5zbGlkZURvd24oXCJzbG93XCIpO1xyXG5cdC8vc2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgcmF0LmZpbmQoJy5qcy1yYXRpbmdbaWRycj0nK2lkKyddJykuc2xpZGVEb3duKFwic2xvd1wiKTsgfSwgNTAwICk7XHJcblxyXG5cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDRgdGC0LDQstC40Lwg0LPQsNC70L7Rh9C60Lgg0LIg0YHRgNC+0LrQsNGFINC60L7RgtC+0YDRi9C1INC+0L/Qu9Cw0YfQtdC90Ysg0YPQttC1INCyINGE0L7RgNC80LUg0YLRg9GA0L7QsiDRgdGA0L7QutC4XHJcbiAqL1xyXG5mdW5jdGlvbiBzcm9raV95ZXMoKVxyXG57XHJcblx0dmFyIGlkX3Rhc2s9ICQoJy5qcy1mb3JtLXNyb2stdHJpcHMnKS5maW5kKCdbbmFtZT1pZF0nKS52YWwoKTtcclxuXHR2YXIgbXk9ICQoJy5qcy1mb3JtLXNyb2stdHJpcHMnKS5maW5kKCdbbmFtZT1teV0nKS52YWwoKTtcclxuXHJcblx0aWYobXk9PTApXHJcblx0e1xyXG5cdFx0Ly/QutC70LjQtdC90YJcclxuXHRcdHZhciBwcm9jZT0kKCcudHJpcHNfYmxvY2tfZ2xvYmFsW2lkX3RyaXBzPScraWRfdGFzaysnXScpLmZpbmQoJy50cmlwcy1iLXVzZXIgLmdyLTUwJykuYXR0cigncHJvY2NzJyk7XHJcblxyXG5cdFx0JCgnLmpzLWZvcm0tc3Jvay10cmlwcyAuc3Jva2ktdGFibCcpLmVhY2goZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xyXG4vL2FsZXJ0KCQodGhpcykuZmluZCgnLmpzLXByb2MtZm9ybS14JykudmFsKCkpO1xyXG5cdFx0XHRpZihwYXJzZUZsb2F0KCQodGhpcykuZmluZCgnLmpzLXByb2MtZm9ybS14JykudmFsKCkpPD1wYXJzZUZsb2F0KHByb2NlKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3llcy1idXkteScpO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3llcy1idXkteScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHRpZihteT09MSlcclxuXHR7XHJcblx0XHQvL9GC0YPRgNC+0L/QtdGA0LDRgtC+0YBcclxuXHRcdHZhciBwcm9jZT0kKCcudHJpcHNfYmxvY2tfZ2xvYmFsW2lkX3RyaXBzPScraWRfdGFzaysnXScpLmZpbmQoJy50cmlwcy1iLW9wZXJhdG9yIC5nci01MCcpLmF0dHIoJ3Byb2NjcycpO1xyXG5cclxuXHRcdCQoJy5qcy1mb3JtLXNyb2stdHJpcHMgLnNyb2tpLXRhYmwnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHtcclxuLy9hbGVydCgkKHRoaXMpLmZpbmQoJy5qcy1wcm9jLWZvcm0teCcpLnZhbCgpKTtcclxuXHRcdFx0aWYocGFyc2VGbG9hdCgkKHRoaXMpLmZpbmQoJy5qcy1wcm9jLWZvcm0teCcpLnZhbCgpKTw9cGFyc2VGbG9hdChwcm9jZSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCd5ZXMtYnV5LXknKTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCd5ZXMtYnV5LXknKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBhbGxfcHJpY2VfdHJpcHMoKVxyXG57XHJcblx0dmFyIGlkX3Rhc2s9ICQodGhpcykucGFyZW50cygnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLmF0dHIoJ2lkX3RyaXBzJyk7XHJcblxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG5cdFx0dHlwZTogJ2FqYXgnLFxyXG5cdFx0dXJsOiAnZm9ybXMvZm9ybV9lZGl0X3ByaWNlLnBocD9pZD0nK2lkX3Rhc2ssXHJcblx0XHRiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcblx0XHR9LFxyXG5cdFx0YWZ0ZXJPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFx0VG9vbFRpcCgpO1xyXG5cdFx0fSxcclxuXHRcdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdFx0XHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDQvtGC0LrRgNGL0YLQuNC1INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDRhNC40L3QsNC90YHQvtCy0L7Qs9C+INC/0LvQsNC90LBcclxuICovXHJcbmZ1bmN0aW9uIHBsYW5lX2VkaXQoKVxyXG57XHJcblx0Ly93aW5kb3cuY2hhcnQxLmRhdGEgPSB3aW5kb3cuZGF0YXh4O1xyXG5cdC8qXHJcblx0d2luZG93LnBpZVNlcmllczEuZGF0YUl0ZW1zLmVhY2goZnVuY3Rpb24ocm93LCBpKSB7XHJcblx0XHRhbGVydChcIjIyXCIpO1xyXG5cdH0pO1xyXG5cdCovXHJcblxyXG5cclxuXHQkLmFyY3RpY21vZGFsKHtcclxuXHRcdHR5cGU6ICdhamF4JyxcclxuXHRcdHVybDogJ2Zvcm1zL2Zvcm1fZWRpdF9wbGFuZS5waHAnLFxyXG5cdFx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblxyXG5cdFx0fSxcclxuXHRcdGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFRvb2xUaXAoKTtcclxuXHRcdH0sXHJcblx0XHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqINC+0YLQutGA0YvRgtC40LUg0YTQvtGA0LzRiyDRgdGA0L7QutC4INC+0L/Qu9Cw0YJcclxuICovXHJcbmZ1bmN0aW9uIHNyb2tfbXkoKVxyXG57XHJcblx0dmFyIGlkX3Rhc2s9ICQodGhpcykucGFyZW50cygnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLmF0dHIoJ2lkX3RyaXBzJyk7XHJcbiAgICB2YXIgbXk9JCh0aGlzKS5hdHRyKCdteScpO1xyXG5cclxuXHQkLmFyY3RpY21vZGFsKHtcclxuXHRcdHR5cGU6ICdhamF4JyxcclxuXHRcdHVybDogJ2Zvcm1zL2Zvcm1fZWRpdF9zcm9rLnBocD9pZD0nK2lkX3Rhc2srJyZteT0nK215LFxyXG5cdFx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblxyXG5cdFx0fSxcclxuXHRcdGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFRvb2xUaXAoKTtcclxuXHRcdH0sXHJcblx0XHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKipcclxuICog0L/Rg9GB0YLQsNGPINC/0L7RgdGC0YTRg9C90LrRhtC40Y9cclxuICovXHJcbmZ1bmN0aW9uIEFmdGVyWmVybyhkYXRhLHVwZGF0ZSkge1xyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHRlc3RfYSgpXHJcbntcclxuYWxlcnQoXCIhXCIpO1xyXG5cdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrXHJcblx0XHQnJmlkPTM0JnRleHQ9JytlYygn0L/RgNC40LLQtdGCJyk7XHJcblxyXG5cclxuXHJcblx0QWpheENsaWVudCgndGVzdCcsJ3Rlc3QnLCdHRVQnLGRhdGEsJ0FmdGVyVGVzdCcsMywwLDEpO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKipcclxuICog0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0L/Qu9Cw0YLQtdC2INCyINGC0YPRgNCw0YVcclxuICovXHJcbmZ1bmN0aW9uIGpzX2J1eV9lZGl0KClcclxue1xyXG5cdHZhciBpZF90cmlwcz0gJCh0aGlzKS5wYXJlbnRzKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfdHJpcHMnKTtcclxuXHR2YXIgaWRfYnV5PSAkKHRoaXMpLnBhcmVudHMoJy5idXlfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfYnV5Jyk7XHJcblxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG5cdFx0dHlwZTogJ2FqYXgnLFxyXG5cdFx0dXJsOiAnZm9ybXMvZm9ybV9lZGl0X2J1eS5waHA/aWQ9JytpZF90cmlwcysnJmlkX2J1eT0nK2lkX2J1eSxcclxuXHRcdGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0Ly9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcblx0XHR9LFxyXG5cdFx0YWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuXHRcdH0sXHJcblx0XHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcbn1cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqINGD0LTQsNC70LjRgtGMINC/0LvQsNGC0LXQtiDQsiDRgtGD0YDQsNGFXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19idXlfZGVsKClcclxue1xyXG5cdHZhciBpZF90cmlwcz0gJCh0aGlzKS5wYXJlbnRzKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfdHJpcHMnKTtcclxuXHR2YXIgaWRfYnV5PSAkKHRoaXMpLnBhcmVudHMoJy5idXlfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfYnV5Jyk7XHJcblxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG5cdFx0dHlwZTogJ2FqYXgnLFxyXG5cdFx0dXJsOiAnZm9ybXMvZm9ybV9kZWxsX2J1eS5waHA/aWQ9JytpZF90cmlwcysnJmlkX2J1eT0nK2lkX2J1eSxcclxuXHRcdGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0Ly9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcblx0XHR9LFxyXG5cdFx0YWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuXHRcdH0sXHJcblx0XHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDRgdC+0LfQtNCw0YLRjCDQvdC+0LLRg9GOINCy0LXRgNGB0LjRjiDQtNC+0LPQvtCy0L7RgNCwINCyINGC0YPRgNCw0YUg0LrQvdC+0L/QutGDXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19uZXdfZG9jKClcclxue1xyXG5cdHZhciBpZF90cmlwcz0gJCh0aGlzKS5wYXJlbnRzKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfdHJpcHMnKTtcclxuXHJcblx0JCh0aGlzKS5oaWRlKCkuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlOyB3aWR0aDogNDBweDtwYWRkaW5nLXRvcDogN3B4O3RvcDogYXV0bztyaWdodDogYXV0bztsZWZ0OiBjYWxjKDUwJSAtIDIwcHgpO1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblxyXG5cclxuXHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZF90cmlwcztcclxuXHRBamF4Q2xpZW50KCd0b3VycycsJ25ld19kb2MnLCdHRVQnLGRhdGEsJ0FmdGVyanNfbmV3X2RvYycsaWRfdHJpcHMsMCwxKTtcclxuXHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gY2hhbmdlc29ydF9zdG9jazIoKSB7XHJcblx0Ly9hbGVydChcIjFcIik7XHJcblx0aWYoJCh0aGlzKS52YWwoKSE9JycpXHJcblx0e1xyXG5cdFx0JCh0aGlzKS5uZXh0KCkuc2hvdygpO1xyXG5cdFx0Ly/RgdC60YDRi9GC0Ywg0LTRgNGD0LPQuNC1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC40YHQutCwXHJcblx0XHQkKCcuanMtLXNvcnQnKS5hZGRDbGFzcygnZ3JlZWlfaW5wdXQnKTtcclxuXHRcdCQoJy5qcy0tc29ydCcpLmZpbmQoJ2lucHV0JykucHJvcCgncmVhZG9ubHknLHRydWUpO1xyXG5cclxuXHR9ZWxzZVxyXG5cdHtcclxuXHRcdCQodGhpcykubmV4dCgpLmhpZGUoKTtcclxuXHRcdC8v0L/QvtC60LDQt9Cw0YLRjCDQtNGA0YPQs9C40LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LjRgdC60LBcclxuXHRcdCQoJy5qcy0tc29ydCcpLnJlbW92ZUNsYXNzKCdncmVlaV9pbnB1dCcpO1xyXG5cdFx0JCgnLmpzLS1zb3J0JykuZmluZCgnaW5wdXQnKS5yZW1vdmVBdHRyKCdyZWFkb25seScpO1xyXG5cclxuXHR9XHJcbn1cclxuXHJcblxyXG5cclxuLyoqXHJcbtCy0L3QtdGB0YLQuCDQvtC/0LvQsNGC0YMg0L3QsNC20LDRgtGMINC60L3QvtC/0LrRgyDQvtGC0LrRgNGL0YLQuNGPINGE0L7RgNC80YtcclxuICoqL1xyXG5mdW5jdGlvbiBqc19tZW51X2J1eWJ1eSgpXHJcbntcclxuXHR2YXIgaWRfdGFzaz0gJCh0aGlzKS5wYXJlbnRzKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfdHJpcHMnKTtcclxuXHJcblx0JC5hcmN0aWNtb2RhbCh7XHJcblx0XHR0eXBlOiAnYWpheCcsXHJcblx0XHR1cmw6ICdmb3Jtcy9mb3JtX2FkZF9idXkucGhwP2lkPScraWRfdGFzayxcclxuXHRcdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cclxuXHRcdH0sXHJcblx0XHRhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0XHRUb29sVGlwKCk7XHJcblx0XHR9LFxyXG5cdFx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0XHRcdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAg0L3QsNC20LDRgtC40LUg0L3QsCDQutGD0YDRgSDRh9GC0L7QsdGLINC40LfQvNC10L3QuNGC0YxcclxuICoqL1xyXG5mdW5jdGlvbiBqc19ycmF0ZSgpXHJcbntcclxuICAgLy/QvtGC0LrRgNGL0YLRjCDRhNC+0YDQvNGDXHJcblx0JCh0aGlzKS5wYXJlbnRzKCcuanMtdHJpcHMtY29tbScpLmZpbmQoJy5mb3JtLXJhdGUtb2snKS5hZGRDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxufVxyXG5cclxuXHJcblxyXG4vKipcclxuICog0YLRg9GA0YsgLSDQvtC6INC/0L7RgdC70LUg0LLQstC+0LTQsCDQtNCw0YLRiyDQutC+0LPQtNCwINC+0YLQtNCw0LvQuCDQtNC+0LPQvtCy0L7RgFxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gb2tfcmF0ZV9mb3JtX2RvYyhldmVudClcclxue1xyXG5cclxuXHQvL9C/0YDQvtCy0LXRgNGP0LXQvCDRh9GC0L4g0LLQstC10LTQtdC9INC60YPRgNGBXHJcblx0dmFyIHJhdGVfYj0gJCh0aGlzKS5wYXJlbnRzKCcuZm9ybS1yYXRlLW9rJykuZmluZCgnW25hbWU9ZG9jX2RhdGVdJykudmFsKCk7XHJcblx0aWYoKHJhdGVfYiE9JzAwLjAwLjAwMDAnKSYmKGpRdWVyeS50cmltKHJhdGVfYikhPScnKSlcclxuXHR7XHJcblx0XHQvL9CS0YHQtSDQvtC6INGA0LDRgdGB0YfQuNGC0YvQstCw0LXQvCDQuCDRgdC60YDRi9Cy0LDQtdC8INGN0YLRgyDRhNC+0YDQvNGDXHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5pc3N1ZS1ibG9jaycpLmZpbmQoJy5qcy1pc3N1ZS1kb2MnKS5yZW1vdmVDbGFzcygncmVkLWpqJyk7XHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5pc3N1ZS1ibG9jaycpLmZpbmQoJy5qcy1pc3N1ZS1kb2MnKS5hZGRDbGFzcygnZ3JlZW4tamonKTtcclxuXHRcdCQodGhpcykucGFyZW50cygnLmlzc3VlLWJsb2NrJykuZmluZCgnLmpzLWlzc3VlLWRvYycpLmVtcHR5KCkuYXBwZW5kKCfQstGL0LTQsNC9ICcrcmF0ZV9iKTtcclxuXHRcdCQodGhpcykucGFyZW50cygnLmZvcm0tcmF0ZS1vaycpLnJlbW92ZUNsYXNzKCdzaG93LWZvcm0tcmF0ZScpO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcItCe0LHRgNCw0LHQvtGC0YfQuNC6INC/0LDRgNCw0LPRgNCw0YTQsC5cIik7XHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcuaXNzdWUtYmxvY2snKS5maW5kKCcuanMtaXNzdWUtZG9jJykuYWRkQ2xhc3MoJ3JlZC1qaicpO1xyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcuaXNzdWUtYmxvY2snKS5maW5kKCcuanMtaXNzdWUtZG9jJykucmVtb3ZlQ2xhc3MoJ2dyZWVuLWpqJyk7XHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5pc3N1ZS1ibG9jaycpLmZpbmQoJy5qcy1pc3N1ZS1kb2MnKS5lbXB0eSgpLmFwcGVuZCgn0L3QtSDQstGL0LTQsNC9Jyk7XHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5mb3JtLXJhdGUtb2snKS5yZW1vdmVDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdH1cclxuXHJcblxyXG5cdHZhciBpZF90cmlwcz0gJCh0aGlzKS5wYXJlbnRzKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfdHJpcHMnKTtcclxuXHJcblxyXG5cclxuXHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZF90cmlwcysnJmRhdGU9JytyYXRlX2I7XHJcblx0QWpheENsaWVudCgndG91cnMnLCdpc3N1ZV9kb2MnLCdHRVQnLGRhdGEsJ0FmdGVyX29rX3JhdGVfZm9ybV9kb2MnLGlkX3RyaXBzLDAsMSk7XHJcblxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqINGC0YPRgNGLIC0g0L7QuiDQv9C+0YHQu9C1INCy0LLQvtC00LAg0JLQv9C10YfQsNGC0LvQtdC90LjRjyDQv9C+INGC0YPRgNGDXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBva19yYXRlX2Zvcm1fY2hhdChldmVudClcclxue1xyXG5cclxuXHQvL9C/0YDQvtCy0LXRgNGP0LXQvCDRh9GC0L4g0LLQstC10LTQtdC9INC60YPRgNGBXHJcblx0dmFyIHJhdGVfYj0gJCh0aGlzKS5wYXJlbnRzKCcuZm9ybS1yYXRlLW9rJykuZmluZCgnW25hbWU9Y2hhdF90ZXh0XScpLnZhbCgpO1xyXG5cdGlmKGpRdWVyeS50cmltKHJhdGVfYikhPScnKVxyXG5cdHtcclxuXHRcdC8v0JLRgdC1INC+0Log0YDQsNGB0YHRh9C40YLRi9Cy0LDQtdC8INC4INGB0LrRgNGL0LLQsNC10Lwg0Y3RgtGDINGE0L7RgNC80YNcclxuXHRcdCQodGhpcykucGFyZW50cygnLmZvcm0tcmF0ZS1vaycpLnJlbW92ZUNsYXNzKCdzaG93LWZvcm0tcmF0ZScpO1xyXG5cdFx0Ly9jb25zb2xlLmxvZyhcItCe0LHRgNCw0LHQvtGC0YfQuNC6INC/0LDRgNCw0LPRgNCw0YTQsC5cIik7XHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy50cmlwc19ibG9ja19nbG9iYWwnKS5maW5kKCcuanMtY2hhdC10b3Vycy1hZGQnKS5oaWRlKCk7XHJcblx0XHR2YXIgaWRfdHJpcHM9ICQodGhpcykucGFyZW50cygnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLmF0dHIoJ2lkX3RyaXBzJyk7XHJcblxyXG5cclxuXHRcdC8v0YHQvtC30LTQsNGC0YwgcG9zdCBmb3JtdVxyXG5cclxuXHJcblxyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcuZm9ybS1yYXRlLW9rJykuZmluZCgnLmpzLXBycycpLnJlbW92ZUNsYXNzKCdlcnJvcl90ZXh0YXJlYV8yMDE4Jyk7XHJcblxyXG5cclxuXHJcblx0XHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZF90cmlwcysnJi5jaGF0PScrcmF0ZV9iO1xyXG5cclxuXHRcdGNyZWF0ZV9wb3N0X2Zvcm0oZGF0YSwnZm9ybV9ib2R5X2FjdGlvbicpO1xyXG5cdFx0QWpheENsaWVudCgndG91cnMnLCdhZGRfY2hhdCcsJ1BPU1QnLDAsJ0FmdGVyX29rX3JhdGVfZm9ybV9jaGF0JyxpZF90cmlwcywnZm9ybV9ib2R5X2FjdGlvbicsMSk7XHJcblxyXG5cdFx0JCgnI2Zvcm1fYm9keV9hY3Rpb24nKS5yZW1vdmUoKTtcclxuXHJcblx0Ly9cdEFqYXhDbGllbnQoJ3RvdXJzJywnYWRkX2NoYXQnLCdHRVQnLGRhdGEsJ0FmdGVyX29rX3JhdGVfZm9ybV9jaGF0JyxpZF90cmlwcywwLDEpO1xyXG5cclxuXHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8kKHRoaXMpLnBhcmVudHMoJy5mb3JtLXJhdGUtb2snKS5yZW1vdmVDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxuXHRcdCQodGhpcykucGFyZW50cygnLmZvcm0tcmF0ZS1vaycpLmZpbmQoJy5qcy1wcnMnKS5hZGRDbGFzcygnZXJyb3JfdGV4dGFyZWFfMjAxOCcpO1xyXG5cdFx0YWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQl9Cw0L/QvtC70L3QuNGC0LUg0LLQv9C10YfQsNGC0LvQtdC90LjQtSDQv9C+INGC0YPRgNGDJyk7XHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHR9XHJcblxyXG5cclxuXHJcblxyXG59XHJcblxyXG4vKipcclxuICog0YLRg9GA0YsgLSDQvtC6INC/0L7RgdC70LUg0LLQstC+0LTQsCDQutGD0YDRgdCwINCi0J5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIG9rX3JhdGVfZm9ybShldmVudClcclxue1xyXG5cclxuXHQvL9C/0YDQvtCy0LXRgNGP0LXQvCDRh9GC0L4g0LLQstC10LTQtdC9INC60YPRgNGBXHJcblx0dmFyIHJhdGVfYj0gJCh0aGlzKS5wYXJlbnRzKCcuZm9ybS1yYXRlLW9rJykuZmluZCgnW25hbWU9ZXhjaGFuZ2VfcmF0ZXNdJykudmFsKCk7XHJcblx0aWYoKHJhdGVfYiE9MCkmJihyYXRlX2IhPScnKSlcclxuXHR7XHJcblx0XHQvL9CS0YHQtSDQvtC6INGA0LDRgdGB0YfQuNGC0YvQstCw0LXQvCDQuCDRgdC60YDRi9Cy0LDQtdC8INGN0YLRgyDRhNC+0YDQvNGDXHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5mb3JtLXJhdGUtb2snKS5maW5kKCcuaW5wdXRfMjAxOCcpLnJlbW92ZUNsYXNzKCdlcnJvcl8yMDE4Jyk7XHJcblxyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcuanMtZm9ybS1jb3N0JykuYXR0cigncmF0ZScscmF0ZV9iKTtcclxuXHJcblx0XHQvL3ZhciBjb2RlX3JhdGU9JCh0aGlzKS5wYXJlbnRzKCcudHJpcHMtYi11c2VyJykuZmluZCgnLmV5ZS1teScpLmF0dHIoJ2NvZGUnKTtcclxuXHRcdHZhciBjb2RlX3JhdGU9J3l5eSc7XHJcblx0XHQvL2FsZXJ0KCQodGhpcykucGFyZW50cygnLnRyaXBzLWItdXNlcicpLmZpbmQoJy5leWUtd2FsbC10cmlwcycpLmlzKCcuZXllLW15JykpO1xyXG5cclxuXHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5qcy10cmlwcy1jb21tJykuZmluZCgnLmV5ZS13YWxsLXRyaXBzJykuYWRkQ2xhc3MoJ2V5ZS1teScpO1xyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcuanMtdHJpcHMtY29tbScpLmZpbmQoJy5jYWxjdWxhdGUtYmFsYW5jZScpLnJlbW92ZUNsYXNzKCdleWUtbXknKTtcclxuXHJcblx0XHR2YXIgZGl2X21hbWE9JCh0aGlzKS5wYXJlbnRzKCcuanMtdHJpcHMtY29tbScpO1xyXG4gICAgICAgIHZhciBvc3RhdD0gJCh0aGlzKS5wYXJlbnRzKCcuZm9ybS1yYXRlLW9rJykuYXR0cignYmFsYW5jZScpO1xyXG5cclxuICAgICAgICB2YXIgaGlpPXBhcnNlRmxvYXQocmF0ZV9iKTtcclxuXHRcdGRpdl9tYW1hLmZpbmQoJy5jYWNsLXJyYXRlJykuZW1wdHkoKS5hcHBlbmQoJC5udW1iZXIoaGlpLnRvRml4ZWQoMiksIDIsICcuJywgJyAnKSkuc2hvdygpO1xyXG5cclxuXHRcdHZhciBjdXJzPShwYXJzZUZsb2F0KGN0cmltKG9zdGF0KSkqcGFyc2VGbG9hdChjdHJpbShyYXRlX2IpKSk7XHJcblx0XHR2YXIgY3Vycz0kLm51bWJlcihjdXJzLnRvRml4ZWQoMiksIDIsICcuJywgJyAnKTtcclxuXHJcblx0XHRkaXZfbWFtYS5maW5kKCcuanMtYWxsLWNvc3QnKS5hZGRDbGFzcygnaGlkZS1jb3N0Jyk7XHJcblx0XHRkaXZfbWFtYS5maW5kKCcuanMtYWxsLWNvc3QucmF0ZV8nK2NvZGVfcmF0ZSkuZW1wdHkoKS5hcHBlbmQoY3Vycyk7XHJcblx0XHRkaXZfbWFtYS5maW5kKCcuanMtYWxsLWNvc3QucmF0ZV8nK2NvZGVfcmF0ZSkucmVtb3ZlQ2xhc3MoJ2hpZGUtY29zdCcpO1xyXG5cclxuXHRcdGRpdl9tYW1hLmZpbmQoJy5jb3N0X2FsbF90cmlwcycpLmFkZENsYXNzKCdoaWRlLWNvc3QnKTtcclxuXHRcdGRpdl9tYW1hLmZpbmQoJy5jb3N0X2FsbF90cmlwcyAucmF0ZV8nK2NvZGVfcmF0ZSkucGFyZW50cygnLmNvc3RfYWxsX3RyaXBzJykucmVtb3ZlQ2xhc3MoJ2hpZGUtY29zdCcpO1xyXG5cclxuXHJcblxyXG5cdFx0Ly8kKHRoaXMpLnBhcmVudHMoJy5mb3JtLXJhdGUtb2snKS5yZW1vdmVDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxuXHRcdC8vc2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgJCh0aGlzKS5wYXJlbnRzKCcuZm9ybS1yYXRlLW9rJykucmVtb3ZlQ2xhc3MoJ3Nob3ctZm9ybS1yYXRlJyk7IH0sIDEwMDAgKTtcclxuXHRcdCQodGhpcykucGFyZW50cygnLmZvcm0tcmF0ZS1vaycpLnJlbW92ZUNsYXNzKCdzaG93LWZvcm0tcmF0ZScpO1xyXG5cclxuXHRcdC8vY29uc29sZS5sb2coXCLQntCx0YDQsNCx0L7RgtGH0LjQuiDQv9Cw0YDQsNCz0YDQsNGE0LAuXCIpO1xyXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdC8v0L7RiNC40LHQutCwINC30LDQv9C+0LvQvdC10L3QuNGPXHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5mb3JtLXJhdGUtb2snKS5maW5kKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdlcnJvcl8yMDE4Jyk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiDQtNC+0LPQvtCy0L7RgCDQvtGC0LTQsNC9XHJcbiAqKi9cclxuZnVuY3Rpb24gZm9ybV9kb2MoKSB7XHJcblxyXG5cclxuXHRpZiAoISQodGhpcykucGFyZW50cygnLmlzc3VlLWJsb2NrJykuZmluZCgnLmZvcm0tcmF0ZS1vaycpLmlzKFwiLnNob3ctZm9ybS1yYXRlXCIpKSB7XHJcblx0XHQvL2FsZXJ0KFwiISFcIik7XHJcblxyXG5cclxuXHRcdHZhciByYXRlID0gJCh0aGlzKS5wYXJlbnRzKCcuaXNzdWUtYmxvY2snKS5hdHRyKCdkb2MnKTtcclxuXHJcblx0XHRpZiAoKHJhdGUgPT0gJycpICYmIChyYXRlID09IDApKSB7XHJcblx0XHRcdGlmICgkKHRoaXMpLnBhcmVudHMoJy5pc3N1ZS1ibG9jaycpLmZpbmQoJy5mb3JtLXJhdGUtb2snKS5sZW5ndGggIT0gMCkge1xyXG5cdFx0XHRcdCQoJy5mb3JtLXJhdGUtb2snKS5yZW1vdmVDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxuXHRcdFx0XHQkKHRoaXMpLnBhcmVudHMoJy5pc3N1ZS1ibG9jaycpLmZpbmQoJy5mb3JtLXJhdGUtb2snKS5hZGRDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxuXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHQkKHRoaXMpLnBhcmVudHMoJy5pc3N1ZS1ibG9jaycpLmZpbmQoJy5mb3JtLXJhdGUtb2sgLmpzLWRvY2MnKS52YWwocmF0ZSk7XHJcblx0XHRcdGlmICgkKHRoaXMpLnBhcmVudHMoJy5pc3N1ZS1ibG9jaycpLmZpbmQoJy5mb3JtLXJhdGUtb2snKS5sZW5ndGggIT0gMCkge1xyXG5cdFx0XHRcdCQoJy5mb3JtLXJhdGUtb2snKS5yZW1vdmVDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxuXHRcdFx0XHQkKHRoaXMpLnBhcmVudHMoJy5pc3N1ZS1ibG9jaycpLmZpbmQoJy5mb3JtLXJhdGUtb2snKS5hZGRDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aW5wdXRfMjAxOCgpO1xyXG5cclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQtNC+0LHQsNCy0LjRgtGMINCy0L/QtdGH0LDRgtC70LXQvdC40LUg0LIg0YLRg9GA0LVcclxuICovXHJcbmZ1bmN0aW9uIGZvcm1fZG9jX2NoYXQoKSB7XHJcblxyXG5cclxuXHRpZiAoISQodGhpcykucGFyZW50cygnLnRyaXBzLWItbnVtYmVyJykuZmluZCgnLmZvcm0tcmF0ZS1vaycpLmlzKFwiLnNob3ctZm9ybS1yYXRlXCIpKSB7XHJcblx0XHQvL2FsZXJ0KFwiISFcIik7XHJcblxyXG5cclxuXHRcdFx0aWYgKCQodGhpcykucGFyZW50cygnLnRyaXBzLWItbnVtYmVyJykuZmluZCgnLmZvcm0tcmF0ZS1vaycpLmxlbmd0aCAhPSAwKSB7XHJcblx0XHRcdFx0JCgnLmZvcm0tcmF0ZS1vaycpLnJlbW92ZUNsYXNzKCdzaG93LWZvcm0tcmF0ZScpO1xyXG5cdFx0XHRcdCQodGhpcykucGFyZW50cygnLnRyaXBzLWItbnVtYmVyJykuZmluZCgnLmZvcm0tcmF0ZS1vaycpLmFkZENsYXNzKCdzaG93LWZvcm0tcmF0ZScpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdGlucHV0XzIwMTgoKTtcclxuXHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICog0YHQvtC30LTQsNC90LjQtSBwb3N0INGE0L7RgNC80Ysg0L3QsCDQu9C10YLRgyDRh9GC0L7QsdGLINC+0YLQv9GA0LDQstC40YLRjCDRh9C10YDQtdC3IGFqYXguINCz0LTQtSBHRVQg0L3QtSDQv9C+0LTRhdC+0LTQuNGCINC40Lct0LfQsCDRgNCw0LfQvNC10YDQsCB1cmxcclxuICpcclxuICovXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVfcG9zdF9mb3JtKGRhdGEsaWRfZm9ybSlcclxue1xyXG5cdC8vdmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJmlkPScraWRfdHJpcHMrJyZjaGF0PScrZW5jb2RlVVJJQ29tcG9uZW50KHJhdGVfYik7XHJcblx0dmFyIGRhdGFfZm9ybXM9ZGF0YS5zcGxpdCgnJicpO1xyXG5cclxuXHR2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuXHRmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgJy8nKTtcclxuXHRmb3JtLnNldEF0dHJpYnV0ZSgnbWV0aG9kJywgJ1BPU1QnKTtcclxuXHRmb3JtLnNldEF0dHJpYnV0ZSgnaWQnLCBpZF9mb3JtKTtcclxuXHRmb3JtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbm9uZScpO1xyXG5cclxuXHQkLmVhY2goZGF0YV9mb3JtcywgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcclxuXHJcblx0XHR2YXIgZGF0YV9mb3Jtcz12YWx1ZS5zcGxpdCgnPScpO1xyXG5cclxuaWYoZGF0YV9mb3Jtc1swXVswXT09Jy4nKSB7XHJcblxyXG5cdHZhciBpbnB1dDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG5cdGlucHV0MS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBkYXRhX2Zvcm1zWzBdLnNsaWNlKDEpKTtcclxuXHRpbnB1dDEudmFsdWU9ZGF0YV9mb3Jtc1sxXTtcclxuXHRmb3JtLmFwcGVuZENoaWxkKGlucHV0MSk7XHJcbn0gZWxzZSB7XHJcblx0dmFyIGlucHV0MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblx0aW5wdXQxLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XHJcblx0aW5wdXQxLnNldEF0dHJpYnV0ZSgnbmFtZScsIGRhdGFfZm9ybXNbMF0pO1xyXG5cdGlucHV0MS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZGF0YV9mb3Jtc1sxXSk7XHJcblx0Zm9ybS5hcHBlbmRDaGlsZChpbnB1dDEpO1xyXG59XHJcblxyXG5cclxuXHR9KTtcclxuXHQkKCdib2R5JykuYXBwZW5kKGZvcm0pO1xyXG5cclxuXHJcbn1cclxuXHJcbi8v0LrQvdC+0L/QutCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC60LvQuNC10L3RgtCwXHJcbmZ1bmN0aW9uIG5vX3Jkc191c2VyKClcclxue1xyXG5cdCQoJy5qcy10YWJzXzAnKS5oaWRlKCk7XHJcblx0JCgnLmppcHBfZmxsJykuc2xpZGVEb3duKCBcInNsb3dcIiApO1xyXG5cdCQoJy5qaXBwX2ZsbF9zdGFydCcpLnNsaWRlVXAoIFwic2xvd1wiICk7XHJcblxyXG5cdFRvb2xUaXAoKTtcclxuXHJcblx0JChcIi5zbGN0XCIpLnVuYmluZCgnY2xpY2suc3lzJyk7XHJcblx0JChcIi5zbGN0XCIpLmJpbmQoJ2NsaWNrLnN5cycsIHNsY3RjbGljayk7XHJcblx0JChcIi5kcm9wXCIpLmZpbmQoXCJsaVwiKS51bmJpbmQoJ2NsaWNrJyk7XHJcblx0JChcIi5kcm9wXCIpLmZpbmQoXCJsaVwiKS5iaW5kKCdjbGljaycsIGRyb3BsaSk7XHJcblx0JCgnI3R5cGVzYXknKS51bmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNheSk7XHJcblx0JCgnI3R5cGVzYXknKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2VzYXkpO1xyXG5cdGlucHV0XzIwMTgoKTtcclxuXHJcblx0JCgnLmRhdGVfcGlja2VyX3gnKS5pbnB1dG1hc2soXCJkYXRldGltZVwiLHtcclxuXHRcdG1hc2s6IFwiMS4yLnlcIixcclxuXHRcdHBsYWNlaG9sZGVyOiBcImRkLm1tLnl5eXlcIixcclxuXHRcdHNlcGFyYXRvcjogXCIuXCIsXHJcblx0XHRhbGlhczogXCJkZC5tbS55eXl5XCJcclxuXHR9KTtcclxufVxyXG5cclxuLy/QutC90L7Qv9C60LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0LrQu9C40LXQvdGC0LBcclxuLypcclxuJCgnI25vX3JkeCcpLm9uKCBcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG5cdCQoJy5qcy10YWJzXzAnKS5oaWRlKCk7XHJcblx0JCgnLmppcHBfZmxsJykuc2xpZGVEb3duKCBcInNsb3dcIiApO1xyXG5cdCQoJy5qaXBwX2ZsbF9zdGFydCcpLnNsaWRlVXAoIFwic2xvd1wiICk7XHJcblxyXG5cdFRvb2xUaXAoKTtcclxuXHJcblx0JChcIi5zbGN0XCIpLnVuYmluZCgnY2xpY2suc3lzJyk7XHJcblx0JChcIi5zbGN0XCIpLmJpbmQoJ2NsaWNrLnN5cycsIHNsY3RjbGljayk7XHJcblx0JChcIi5kcm9wXCIpLmZpbmQoXCJsaVwiKS51bmJpbmQoJ2NsaWNrJyk7XHJcblx0JChcIi5kcm9wXCIpLmZpbmQoXCJsaVwiKS5iaW5kKCdjbGljaycsIGRyb3BsaSk7XHJcblx0JCgnI3R5cGVzYXknKS51bmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNheSk7XHJcblx0JCgnI3R5cGVzYXknKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2VzYXkpO1xyXG5cdGlucHV0XzIwMTgoKTtcclxuXHJcblx0JCgnLmRhdGVfcGlja2VyX3gnKS5pbnB1dG1hc2soXCJkYXRldGltZVwiLHtcclxuXHRcdG1hc2s6IFwiMS4yLnlcIixcclxuXHRcdHBsYWNlaG9sZGVyOiBcImRkLm1tLnl5eXlcIixcclxuXHRcdHNlcGFyYXRvcjogXCIuXCIsXHJcblx0XHRhbGlhczogXCJkZC5tbS55eXl5XCJcclxuXHR9KTtcclxuXHJcbn0pO1xyXG4qL1xyXG4vL9C60L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDQvtGA0LPQsNC90LjQt9Cw0YbQuNGOXHJcbmZ1bmN0aW9uIG5vX3Jkc19vcmcoKSB7XHJcblx0JCgnLmpzLXRhYnNfMCcpLmhpZGUoKTtcclxuXHQkKCcuamlwcF9mbGwnKS5zbGlkZURvd24oIFwic2xvd1wiICk7XHJcblx0JCgnLmppcHBfZmxsX3N0YXJ0Jykuc2xpZGVVcCggXCJzbG93XCIgKTtcclxuXHJcblx0VG9vbFRpcCgpO1xyXG5cdCQoJy5yZWRhX29yZ19jb21tZW50JykuYXV0b1Jlc2l6ZSh7ZXh0cmFTcGFjZSA6IDEwfSkudHJpZ2dlcigna2V5dXAnKTtcclxuXHQkKCcuanMtcGFkZWpfd29vX2VuZCcpLmF1dG9SZXNpemUoe2V4dHJhU3BhY2UgOiAxMH0pLnRyaWdnZXIoJ2tleXVwJyk7XHJcblxyXG5cdCQoXCIuc2xjdFwiKS51bmJpbmQoJ2NsaWNrLnN5cycpO1xyXG5cdCQoXCIuc2xjdFwiKS5iaW5kKCdjbGljay5zeXMnLCBzbGN0Y2xpY2spO1xyXG5cdCQoXCIuZHJvcFwiKS5maW5kKFwibGlcIikudW5iaW5kKCdjbGljaycpO1xyXG5cdCQoXCIuZHJvcFwiKS5maW5kKFwibGlcIikuYmluZCgnY2xpY2snLCBkcm9wbGkpO1xyXG5cdCQoJyN0eXBlc2F5JykudW5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2VzYXkpO1xyXG5cdCQoJyN0eXBlc2F5JykuYmluZCgnY2hhbmdlJywgY2hhbmdlc2F5KTtcclxuXHRpbnB1dF8yMDE4KCk7XHJcblxyXG5cdCQoJy5kYXRlX3BpY2tlcl94JykuaW5wdXRtYXNrKFwiZGF0ZXRpbWVcIix7XHJcblx0XHRtYXNrOiBcIjEuMi55XCIsXHJcblx0XHRwbGFjZWhvbGRlcjogXCJkZC5tbS55eXl5XCIsXHJcblx0XHRzZXBhcmF0b3I6IFwiLlwiLFxyXG5cdFx0YWxpYXM6IFwiZGQubW0ueXl5eVwiXHJcblx0fSk7XHJcblxyXG59XHJcbi8qXHJcbiQoJyNub19yZHhfb3JnJykub24oIFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcblx0JCgnLmpzLXRhYnNfMCcpLmhpZGUoKTtcclxuXHQkKCcuamlwcF9mbGwnKS5zbGlkZURvd24oIFwic2xvd1wiICk7XHJcblx0JCgnLmppcHBfZmxsX3N0YXJ0Jykuc2xpZGVVcCggXCJzbG93XCIgKTtcclxuXHJcblx0VG9vbFRpcCgpO1xyXG5cdCQoJy5yZWRhX29yZ19jb21tZW50JykuYXV0b1Jlc2l6ZSh7ZXh0cmFTcGFjZSA6IDEwfSkudHJpZ2dlcigna2V5dXAnKTtcclxuXHQkKCcuanMtcGFkZWpfd29vX2VuZCcpLmF1dG9SZXNpemUoe2V4dHJhU3BhY2UgOiAxMH0pLnRyaWdnZXIoJ2tleXVwJyk7XHJcblxyXG5cdCQoXCIuc2xjdFwiKS51bmJpbmQoJ2NsaWNrLnN5cycpO1xyXG5cdCQoXCIuc2xjdFwiKS5iaW5kKCdjbGljay5zeXMnLCBzbGN0Y2xpY2spO1xyXG5cdCQoXCIuZHJvcFwiKS5maW5kKFwibGlcIikudW5iaW5kKCdjbGljaycpO1xyXG5cdCQoXCIuZHJvcFwiKS5maW5kKFwibGlcIikuYmluZCgnY2xpY2snLCBkcm9wbGkpO1xyXG5cdCQoJyN0eXBlc2F5JykudW5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2VzYXkpO1xyXG5cdCQoJyN0eXBlc2F5JykuYmluZCgnY2hhbmdlJywgY2hhbmdlc2F5KTtcclxuXHRpbnB1dF8yMDE4KCk7XHJcblxyXG5cdCQoJy5kYXRlX3BpY2tlcl94JykuaW5wdXRtYXNrKFwiZGF0ZXRpbWVcIix7XHJcblx0XHRtYXNrOiBcIjEuMi55XCIsXHJcblx0XHRwbGFjZWhvbGRlcjogXCJkZC5tbS55eXl5XCIsXHJcblx0XHRzZXBhcmF0b3I6IFwiLlwiLFxyXG5cdFx0YWxpYXM6IFwiZGQubW0ueXl5eVwiXHJcblx0fSk7XHJcblxyXG59KTtcclxuXHJcbiovXHJcblxyXG4vL9C60L3QvtC/0LrQsCDQvtGC0LzQtdC90LjRgtGMINC30LDQutGA0YvRgtGMINGE0L7RgNC80YNcclxuJCgnI25vX3JkJykub24oIFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuXHQkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG59KTtcclxuXHJcblxyXG4vKipcclxuINGA0LDRgdGB0YfQuNGC0LDRgtGMINC+0YHRgtCw0YLQvtC6INCyINGA0YPQsdC70Y/RhVxyXG4gKiovXHJcbmZ1bmN0aW9uIGZvcm1fY29zdCgpIHtcclxuXHJcblxyXG5cdGlmICghJCh0aGlzKS5maW5kKCcuZm9ybS1yYXRlLW9rJykuaXMoXCIuc2hvdy1mb3JtLXJhdGVcIikpIHtcclxuXHQvL2FsZXJ0KFwiISFcIik7XHJcblxyXG5cdHZhciBjb2RlX3JhdGUgPSAkKHRoaXMpLmZpbmQoJy5leWUtbXknKS5hdHRyKCdjb2RlJyk7XHJcblx0XHR2YXIgZGl2X21hbWE9JCh0aGlzKS5wYXJlbnRzKCcuanMtdHJpcHMtY29tbScpO1xyXG4vL2FsZXJ0KGNvZGVfcmF0ZSk7XHJcblx0aWYgKCEkKHRoaXMpLmZpbmQoJy5leWUtbXknKS5pcyhcIi5jYWxjdWxhdGUtYmFsYW5jZVwiKSkge1xyXG4vL9C10YHQu9C4INGN0YLQviDQvdC1INC60L3QvtC/0LrQsCDRgNCw0YHRgdGH0LjRgtCw0YLRjCDQvtGB0YLQsNGC0L7QuiDQsiDRgNGD0LHQu9GP0YVcclxuXHRcdCQodGhpcykuZmluZCgnLmV5ZS13YWxsLXRyaXBzJykuYWRkQ2xhc3MoJ2V5ZS1teScpO1xyXG5cdFx0JCh0aGlzKS5maW5kKCdbY29kZT0nICsgY29kZV9yYXRlICsgJ10nKS5yZW1vdmVDbGFzcygnZXllLW15Jyk7XHJcblxyXG5cclxuXHJcblx0XHRkaXZfbWFtYS5maW5kKCcuanMtYWxsLWNvc3QnKS5hZGRDbGFzcygnaGlkZS1jb3N0Jyk7XHJcblx0XHRkaXZfbWFtYS5maW5kKCcuanMtYWxsLWNvc3QucmF0ZV8nK2NvZGVfcmF0ZSkucmVtb3ZlQ2xhc3MoJ2hpZGUtY29zdCcpO1xyXG5cclxuXHRcdGRpdl9tYW1hLmZpbmQoJy5jb3N0X2FsbF90cmlwcycpLmFkZENsYXNzKCdoaWRlLWNvc3QnKTtcclxuXHRcdGRpdl9tYW1hLmZpbmQoJy5jb3N0X2FsbF90cmlwcyAucmF0ZV8nK2NvZGVfcmF0ZSkucGFyZW50cygnLmNvc3RfYWxsX3RyaXBzJykucmVtb3ZlQ2xhc3MoJ2hpZGUtY29zdCcpO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHR9XHJcblx0dmFyIHJhdGUgPSAkKHRoaXMpLmF0dHIoJ3JhdGUnKTtcclxuXHJcblx0aWYgKChyYXRlID09ICcnKSAmJiAocmF0ZSA9PSAwKSkge1xyXG5cdFx0aWYgKCQodGhpcykuZmluZCgnLmZvcm0tcmF0ZS1vaycpLmxlbmd0aCAhPSAwKSB7XHJcblx0XHRcdCQoJy5mb3JtLXJhdGUtb2snKS5yZW1vdmVDbGFzcygnc2hvdy1mb3JtLXJhdGUnKTtcclxuXHRcdFx0JCh0aGlzKS5maW5kKCcuZm9ybS1yYXRlLW9rJykuYWRkQ2xhc3MoJ3Nob3ctZm9ybS1yYXRlJyk7XHJcblx0XHR9XHJcblx0XHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdFx0Ly/Rg9C20LUg0LrRg9GA0YEg0LfQsNC00LDQvS4g0L/RgNC+0YHRgtC+INC/0L7QutCw0LfQsNGC0Ywg0L7RgdGC0LDRgtC+0Log0LIg0YDRg9Cx0LvRj9GFINC/0L4g0LrRg9GA0YHRgyDQt9Cw0LTQsNC90L3QvtC80YNcclxuXHRcdFx0ZGl2X21hbWEuZmluZCgnLmpzLWFsbC1jb3N0JykuYWRkQ2xhc3MoJ2hpZGUtY29zdCcpO1xyXG5cdFx0XHRkaXZfbWFtYS5maW5kKCcuanMtYWxsLWNvc3QucmF0ZV8nK2NvZGVfcmF0ZSkucmVtb3ZlQ2xhc3MoJ2hpZGUtY29zdCcpO1xyXG5cclxuXHRcdFx0ZGl2X21hbWEuZmluZCgnLmNvc3RfYWxsX3RyaXBzJykuYWRkQ2xhc3MoJ2hpZGUtY29zdCcpO1xyXG5cdFx0XHRkaXZfbWFtYS5maW5kKCcuY29zdF9hbGxfdHJpcHMgLnJhdGVfJytjb2RlX3JhdGUpLnBhcmVudHMoJy5jb3N0X2FsbF90cmlwcycpLnJlbW92ZUNsYXNzKCdoaWRlLWNvc3QnKTtcclxuXHJcblx0XHRcdCQodGhpcykuZmluZCgnLmV5ZS13YWxsLXRyaXBzJykuYWRkQ2xhc3MoJ2V5ZS1teScpO1xyXG5cdFx0XHQkKHRoaXMpLmZpbmQoJ1tjb2RlPScgKyBjb2RlX3JhdGUgKyAnXScpLnJlbW92ZUNsYXNzKCdleWUtbXknKTtcclxuXHJcblx0XHR9XHJcblxyXG59XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQv9C+0LrQsNC30LDRgtGMINGB0LrRgNGL0YLRjCDQstC/0LXRh9Cw0YLQu9C10L3QuNC1INC/0L4g0YLRg9GA0YNcclxuICovXHJcbmZ1bmN0aW9uIGNoYXRfdG91cnMoKVxyXG57XHJcbnZhciBjaGF0PSQodGhpcykucGFyZW50cygnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLmZpbmQoJy5jaGF0LXRvdXJzJyk7XHJcblx0aWYoIGNoYXQuaXMoJzp2aXNpYmxlJykgKSB7IGNoYXQuaGlkZShcInNsb3dcIik7XHJcblxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdGNoYXQuc2hvdyhcInNsb3dcIik7XHJcblx0XHRqUXVlcnkuc2Nyb2xsVG8oY2hhdCwgMTAwMCwge29mZnNldDotMTIwfSk7XHJcblx0fVxyXG5cclxufVxyXG5cclxuXHJcblxyXG4vKipcclxuICog0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60YMg0LIg0YHQv9C40YHQutC1INGC0YPRgNC+0LIg0L/QvtC60LDQt9Cy0LDRgtGMINCyINGA0YPQsdC70Y/RhVxyXG4gKlxyXG4gKiovXHJcbmZ1bmN0aW9uIGV4Y19jb3N0KClcclxue1xyXG4gICAgdmFyIGNvZGVfcmF0ZT0kKHRoaXMpLmZpbmQoJy5leWUtbXknKS5hdHRyKCdjb2RlJyk7XHJcblx0JCh0aGlzKS5maW5kKCcuZXllLXdhbGwtdHJpcHMnKS5hZGRDbGFzcygnZXllLW15Jyk7XHJcblx0JCh0aGlzKS5maW5kKCdbY29kZT0nK2NvZGVfcmF0ZSsnXScpLnJlbW92ZUNsYXNzKCdleWUtbXknKTtcclxuXHJcbiAgICB2YXIgZGl2X21hbWE9JCh0aGlzKS5wYXJlbnRzKCcuanMtdHJpcHMtY29tbScpO1xyXG5cclxuXHRkaXZfbWFtYS5maW5kKCcuanMtYWxsLWNvc3QnKS5hZGRDbGFzcygnaGlkZS1jb3N0Jyk7XHJcblx0ZGl2X21hbWEuZmluZCgnLmpzLWFsbC1jb3N0LnJhdGVfJytjb2RlX3JhdGUpLnJlbW92ZUNsYXNzKCdoaWRlLWNvc3QnKTtcclxuXHJcblx0ZGl2X21hbWEuZmluZCgnLmNvc3RfYWxsX3RyaXBzJykuYWRkQ2xhc3MoJ2hpZGUtY29zdCcpO1xyXG5cdGRpdl9tYW1hLmZpbmQoJy5jb3N0X2FsbF90cmlwcycpLmZpbmQoJy5yYXRlXycrY29kZV9yYXRlKS5wYXJlbnRzKCcuY29zdF9hbGxfdHJpcHMnKS5yZW1vdmVDbGFzcygnaGlkZS1jb3N0Jyk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBBZGRGb3JtVGVuZGVyKClcclxue1xyXG5cdFxyXG5cdHZhciBlcnIgPSAwO1xyXG5cdHZhciBlcnIxID0gMDtcclxuLy9hbGVydCgkKCcuanMtZm9ybS1yZWdpc3RlciAuZ2xvYWInKS5sZW5ndGgpO1xyXG5cdCQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLmdsb2FiJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHRpZigkKHRoaXMpLnZhbCgpID09ICcnKSAgeyQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuZXJyb3ItbWVzc2FnZScpLmVtcHR5KCkuYXBwZW5kKCfQv9C+0LvQtSDQvdC1INC30LDQv9C+0LvQvdC10L3QvicpO1x0ICQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpOyAgXHJcblx0JCh0aGlzKS5wYXJlbnRzKCcubGlzdF8yMDE4JykuYWRkQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTtcdFx0XHRcdFx0XHQgIFxyXG5cdGVycisrO1x0XHJcblx0XHRcdFx0XHRcdFx0ICBcclxuXHRcdFx0XHRcdFx0XHQgIFxyXG5cdFx0XHRcdFx0XHRcdCAgXHJcblx0Ly9hbGVydCgkKHRoaXMpLmF0dHIoJ25hbWUnKSk7XHRcdFx0XHRcdCBcclxufSBlbHNlIHskKHRoaXMpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTskKHRoaXMpLnBhcmVudHMoJy5saXN0XzIwMTgnKS5yZW1vdmVDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO31cdFx0XHJcbn0pO1xyXG5cdGlmKGVycj09MClcclxuXHRcdHtcclxuXHRpZigkKCcudG90X2J1eV9pZCcpLnZhbCgpPT0gJycpIHsgZXJyMSsrOyAgIGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JLRi9Cx0LXRgNC40YLQtSDQv9C+0LrRg9C/0LDRgtC10LvRjyDRgtGD0YDQsCcpOyBqUXVlcnkuc2Nyb2xsVG8oJy5qcy1idXktdHVycy1jbGllbnQnLCAxMDAwLCB7b2Zmc2V0Oi0xMjB9KTsgIH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHRcclxuXHRcdFx0XHRpZigkKCcudG90X2ZseV9pZCcpLnZhbCgpPT0gJycpIHsgZXJyMSsrOyAgIGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JLRi9Cx0LXRgNC40YLQtSDRgtGD0YDQuNGB0YLQvtCyJyk7IGpRdWVyeS5zY3JvbGxUbygnLmpzLWZseS10dXJzLWNsaWVudCcsIDEwMDAsIHtvZmZzZXQ6LTEyMH0pOyAgfVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHRcdH1cclxuXHRcclxuXHRcclxuXHQvL2FsZXJ0KGVycik7XHJcblx0XHJcblx0aWYoKGVycj09MCkmJihlcnIxPT0wKSlcclxuXHRcdHtcclxuXHRcdFx0JCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAgLmpzLWFkZC10ZW5kZXItZm9ybScpLmhpZGUoKS5hZnRlcignPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOiA0MHB4O3BhZGRpbmctdG9wOiA3cHg7dG9wOiBhdXRvO3JpZ2h0OiBhdXRvO2xlZnQ6IGNhbGMoNTAlIC0gMjBweCk7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHRcdFx0XHJcblx0XHRcdCQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLm1lc3NhZ2UtZm9ybScpLmhpZGUoKTtcclxuXHRcdCAgICAvL0FqYXhDbGllbnQoJ25vdGlmaWNhdGlvbicsJ2V2ZW4nLCdHRVQnLGRhdGEsJ0FmdGVyTm9maScsMSwwLDEpO1x0XHRcclxuXHRcdEFqYXhDbGllbnQoJ3RvdXJzJywnYWRkJywnUE9TVCcsMCwnQWZ0ZXJBZGRGb3JtVGVuZGVyJywwLCdqcy1mb3JtLXRlbmRlci1uZXcnLDApO1xyXG5cdFx0XHRcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR7ICAgXHJcblx0XHRcdFx0aWYoZXJyIT0wKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdC8v0L3QsNC50LTQtdC8INGB0LDQvNGL0Lkg0LLQtdGA0YXQvdGO0Y4g0L7RiNC40LHQutGDINC4INC/0YDQvtC70LXRgdGC0L3QtdC8INC6INC90LXQuVxyXG5cdFx0XHRcdGpRdWVyeS5zY3JvbGxUbygnLnJlcXVpcmVkX2luXzIwMTg6Zmlyc3QnLCAxMDAwLCB7b2Zmc2V0Oi03MH0pO1xyXG5cdFx0XHRcdC8vRXJyb3JCdXQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLmpzLWFkZC10ZW5kZXItZm9ybScsJ9Ce0YjQuNCx0LrQsCDQt9Cw0L/QvtC70L3QtdC90LjRjyEnKTtcclxuXHRcdFx0XHRhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Cd0LUg0LLRgdC1INC/0L7Qu9GPINC30LDQv9C+0LvQvdC10L3RiycpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHRcclxuXHRcclxufVxyXG5cclxuZnVuY3Rpb24gRWRpdEZvcm1UZW5kZXIoKVxyXG57XHJcblxyXG5cdHZhciBlcnIgPSAwO1xyXG5cdHZhciBlcnIxID0gMDtcclxuLy9hbGVydCgkKCcuanMtZm9ybS1yZWdpc3RlciAuZ2xvYWInKS5sZW5ndGgpO1xyXG5cdCQoJy5qcy1mb3JtLXRlbmRlci1lZGl0IC5nbG9hYicpLmVhY2goZnVuY3Rpb24oaSxlbGVtKSB7XHJcblx0XHRpZigkKHRoaXMpLnZhbCgpID09ICcnKSAgeyQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuZXJyb3ItbWVzc2FnZScpLmVtcHR5KCkuYXBwZW5kKCfQv9C+0LvQtSDQvdC1INC30LDQv9C+0LvQvdC10L3QvicpO1x0ICQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1xyXG5cdFx0XHQkKHRoaXMpLnBhcmVudHMoJy5saXN0XzIwMTgnKS5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1xyXG5cdFx0XHRlcnIrKztcclxuXHJcblxyXG5cclxuXHRcdFx0Ly9hbGVydCgkKHRoaXMpLmF0dHIoJ25hbWUnKSk7XHJcblx0XHR9IGVsc2UgeyQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5yZW1vdmVDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpOyQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7fVxyXG5cdH0pO1xyXG5cdGlmKGVycj09MClcclxuXHR7XHJcblx0XHRpZigkKCcudG90X2J1eV9pZCcpLnZhbCgpPT0gJycpIHsgZXJyMSsrOyAgIGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JLRi9Cx0LXRgNC40YLQtSDQv9C+0LrRg9C/0LDRgtC10LvRjyDRgtGD0YDQsCcpOyBqUXVlcnkuc2Nyb2xsVG8oJy5qcy1idXktdHVycy1jbGllbnQnLCAxMDAwLCB7b2Zmc2V0Oi0xMjB9KTsgIH0gZWxzZVxyXG5cdFx0e1xyXG5cclxuXHRcdFx0aWYoJCgnLnRvdF9mbHlfaWQnKS52YWwoKT09ICcnKSB7IGVycjErKzsgICBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9CS0YvQsdC10YDQuNGC0LUg0YLRg9GA0LjRgdGC0L7QsicpOyBqUXVlcnkuc2Nyb2xsVG8oJy5qcy1mbHktdHVycy1jbGllbnQnLCAxMDAwLCB7b2Zmc2V0Oi0xMjB9KTsgIH1cclxuXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0Ly9hbGVydChlcnIpO1xyXG5cclxuXHRpZigoZXJyPT0wKSYmKGVycjE9PTApKVxyXG5cdHtcclxuXHRcdCQoJy5qcy1mb3JtLXRlbmRlci1lZGl0ICAuanMtZWRpdC10ZW5kZXItZm9ybScpLmhpZGUoKS5hZnRlcignPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOiA0MHB4O3BhZGRpbmctdG9wOiA3cHg7dG9wOiBhdXRvO3JpZ2h0OiBhdXRvO2xlZnQ6IGNhbGMoNTAlIC0gMjBweCk7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcblx0XHQkKCcuanMtZm9ybS10ZW5kZXItZWRpdCAubWVzc2FnZS1mb3JtJykuaGlkZSgpO1xyXG5cdFx0Ly9BamF4Q2xpZW50KCdub3RpZmljYXRpb24nLCdldmVuJywnR0VUJyxkYXRhLCdBZnRlck5vZmknLDEsMCwxKTtcclxuXHRcdEFqYXhDbGllbnQoJ3RvdXJzJywnZWRpdCcsJ1BPU1QnLDAsJ0FmdGVyRWRpdEZvcm1UZW5kZXInLDAsJ2pzLWZvcm0tdGVuZGVyLWVkaXQnLDEpO1xyXG5cclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHRpZihlcnIhPTApXHJcblx0XHR7XHJcblx0XHRcdC8v0L3QsNC50LTQtdC8INGB0LDQvNGL0Lkg0LLQtdGA0YXQvdGO0Y4g0L7RiNC40LHQutGDINC4INC/0YDQvtC70LXRgdGC0L3QtdC8INC6INC90LXQuVxyXG5cdFx0XHRqUXVlcnkuc2Nyb2xsVG8oJy5yZXF1aXJlZF9pbl8yMDE4OmZpcnN0JywgMTAwMCwge29mZnNldDotNzB9KTtcclxuXHRcdFx0Ly9FcnJvckJ1dCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAuanMtYWRkLXRlbmRlci1mb3JtJywn0J7RiNC40LHQutCwINC30LDQv9C+0LvQvdC10L3QuNGPIScpO1xyXG5cdFx0XHRhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Cd0LUg0LLRgdC1INC/0L7Qu9GPINC30LDQv9C+0LvQvdC10L3RiycpO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBBZnRlcl9va19yYXRlX2Zvcm1fY2hhdChkYXRhLHVwZGF0ZSlcclxue1xyXG5cdGlmIChkYXRhLnN0YXR1cz09J29rJylcclxuXHR7XHJcblx0XHRhbGVydF9tZXNzYWdlKCdvaycsJ9CS0L/QtdGH0LDRgtC70LXQvdC40LUg0L/QviDRgtGD0YDRgyDQtNC+0LHQsNCy0LvQtdC90L4nKTtcclxuXHRcdFVwZGF0ZVRyaXBzQSh1cGRhdGUsJ2J1eScsMSk7XHJcblxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdCQoJy50cmlwc19ibG9ja19nbG9iYWxbaWRfdHJpcHM9Jyt1cGRhdGUrJ10nKS5maW5kKCcuanMtY2hhdC10b3Vycy1hZGQnKS5zaG93KCk7XHJcblx0XHRhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ce0YjQuNCx0LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjycpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gQWZ0ZXJfb2tfcmF0ZV9mb3JtX2RvYyhkYXRhLHVwZGF0ZSlcclxue1xyXG5cdGlmIChkYXRhLnN0YXR1cyE9J29rJylcclxuXHR7XHJcblxyXG5cdFx0dmFyIGRkb2M9JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbFtpZF90cmlwcz0nK3VwZGF0ZSsnXScpLmZpbmQoJy5pc3N1ZS1ibG9jaycpLmF0dHIoJ2RvYycpO1xyXG5cdFx0dmFyIGlzc29lPSQoJy50cmlwc19ibG9ja19nbG9iYWxbaWRfdHJpcHM9Jyt1cGRhdGUrJ10nKS5maW5kKCcuaXNzdWUtYmxvY2sgLmpzLWlzc3VlLWRvYycpO1xyXG5cdFx0aWYoZGRvYyE9JycpXHJcblx0XHR7XHJcblxyXG5cdFx0XHRpc3NvZS5lbXB0eSgpLmFwcGVuZCgn0LLRi9C00LDQvSAnK2Rkb2MpO1xyXG5cdFx0XHRpc3NvZS5yZW1vdmVDbGFzcygncmVkLWpqJyk7XHJcblx0XHRcdGlzc29lLmFkZENsYXNzKCdncmVlbi1qaicpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblxyXG5cdFx0XHRpc3NvZS5lbXB0eSgpLmFwcGVuZCgn0L3QtSDQstGL0LTQsNC9Jyk7XHJcblx0XHRcdGlzc29lLmFkZENsYXNzKCdyZWQtamonKTtcclxuXHRcdFx0aXNzb2UucmVtb3ZlQ2xhc3MoJ2dyZWVuLWpqJyk7XHJcblx0XHR9XHJcblxyXG5cclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHQkKCcudHJpcHNfYmxvY2tfZ2xvYmFsW2lkX3RyaXBzPScrdXBkYXRlKyddJykuZmluZCgnLmlzc3VlLWJsb2NrJykuYXR0cignZG9jJyxkYXRhLmRvd25sb2FkKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFmdGVyVXBkYXRlVHJpcHNBKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0aWYgKGRhdGEuc3RhdHVzPT0nb2snKVxyXG5cdHtcclxuXHRcdC8v0L7QsdC90L7QstC40YLRjCDQvtCx0YnQuNC5INCx0LvQvtC6XHJcblx0XHQkKCcudHJpcHNfYmxvY2tfZ2xvYmFsW2lkX3RyaXBzPScrdXBkYXRlKyddJykuZmluZCgnLmpzLXVwZGF0ZS1ibG9jay10cmlwcycpLmVtcHR5KCkuYXBwZW5kKGRhdGEucXVlcnkpO1xyXG5cclxuICAgICAgICAvL9C+0LHQvdC+0LLQuNGC0Ywg0LjQvdGE0L7RgNC80LDRhtC40Y4g0LIg0LzQtdC90Y4g0YEg0YHQvtGF0YDQsNC90LXQvdC40LXQvCDQvtGC0LrRgNGL0YLQvtC5INCy0LrQu9Cw0LTQutC4XHJcblx0XHQkKCcudHJpcHNfYmxvY2tfZ2xvYmFsW2lkX3RyaXBzPScrdXBkYXRlKyddJykuZmluZCgnLmpzLXRhYnMtbWVudScpLmVtcHR5KCkuYXBwZW5kKGRhdGEuZWNobyk7XHJcblxyXG5cdFx0aWYoZGF0YS51cGxvYWRfbW09PTEpIHtcclxuXHRcdFx0Ly/QvtCx0L3QvtCy0LjRgtGMINC40L3RhNC+0YDQvNCw0YbQuNGOINCyINC+0YLQutGA0YvRgtC+0Lkg0LLQutC70LDQtNC60LUg0LXRgdC70Lgg0Y3RgtC+INC90LDQtNC+XHJcblx0XHRcdCQoJy50cmlwc19ibG9ja19nbG9iYWxbaWRfdHJpcHM9JyArIHVwZGF0ZSArICddJykuZmluZCgnLnB4X2JnX3RyaXBzJykuZW1wdHkoKS5hcHBlbmQoZGF0YS5lY2hvX21vcmUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQoJy50cmlwc19ibG9ja19nbG9iYWxbaWRfdHJpcHM9Jyt1cGRhdGUrJ10nKS5maW5kKCcuY2lyY2xlc3RhdCcpLmNpcmNsaWZ1bCgpO1xyXG5cdFx0JCgnLmRhdGVfcGlja2VyX3hlJykuaW5wdXRtYXNrKFwiZGF0ZXRpbWVcIix7XHJcblx0XHRcdG1hc2s6IFwiMS4yLnlcIixcclxuXHRcdFx0cGxhY2Vob2xkZXI6IFwiZGQubW0ueXl5eVwiLFxyXG5cdFx0XHRzZXBhcmF0b3I6IFwiLlwiLFxyXG5cdFx0XHRhbGlhczogXCJkZC5tbS55eXl5XCJcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7Qs9C+INC00L7Qs9C+0LLQvtGA0LAg0LIg0YLRg9GA0LVcclxuZnVuY3Rpb24gQWZ0ZXJqc19uZXdfZG9jKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0aWYgKGRhdGEuc3RhdHVzPT0nb2snKVxyXG5cdHtcclxuXHRcdCQoJy50cmlwc19ibG9ja19nbG9iYWxbaWRfdHJpcHM9Jyt1cGRhdGUrJ10nKS5maW5kKCcucHhfYmdfdHJpcHMnKS5wcmVwZW5kKGRhdGEuZG93bmxvYWQpO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGNvdW50X3Y9JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbFtpZF90cmlwcz0nK3VwZGF0ZSsnXSAudmVycy1kb2MtY29sb3InKS5sZW5ndGg7XHJcblx0XHR2YXIgaV92PWNvdW50X3Y7XHJcblxyXG5cdFx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbFtpZF90cmlwcz0nK3VwZGF0ZSsnXSAudmVycy1kb2MtY29sb3InKS5lbXB0eSgpLnJlbW92ZUNsYXNzKCdncmVlbi10cmlwcyByZWQtdHJpcHMnKTtcclxuXHJcblx0XHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCAnLm5ldy1zYXktZG9jICcgKS5yZW1vdmVDbGFzcygnbmV3LXNheS1kb2MnKTsgfSwgNDAwMCApO1xyXG5cclxuXHJcblxyXG5cdFx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbFtpZF90cmlwcz0nK3VwZGF0ZSsnXSAudmVycy1kb2MtY29sb3InKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cclxuXHRcdFx0JCh0aGlzKS5hcHBlbmQoJyjQktC10YDRgdC40Y8g4oSWJytpX3YrJyknKTtcclxuXHRcdFx0aWYoaV92PT1jb3VudF92KVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnZ3JlZW4tdHJpcHMnKTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdyZWQtdHJpcHMnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpX3YtLTtcclxuXHJcblx0XHR9KTtcclxuXHRcdCQoJy50cmlwc19ibG9ja19nbG9iYWxbaWRfdHJpcHM9Jyt1cGRhdGUrJ10nKS5maW5kKCcucHhfYmdfdHJpcHMgLmJfbG9hZGluZ19zbWFsbCcpLnJlbW92ZSgpO1xyXG5cdFx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbFtpZF90cmlwcz0nK3VwZGF0ZSsnXScpLmZpbmQoJy5qcy1uZXctZG9jLXRyaXBzJykuc2hvdygpO1xyXG5cclxuXHR9IGVsc2VcclxuXHR7XHJcblx0ICAgICQoJy50cmlwc19ibG9ja19nbG9iYWxbaWRfdHJpcHM9Jyt1cGRhdGUrJ10nKS5maW5kKCcucHhfYmdfdHJpcHMgLmJfbG9hZGluZ19zbWFsbCcpLnJlbW92ZSgpO1xyXG5cdFx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbFtpZF90cmlwcz0nK3VwZGF0ZSsnXScpLmZpbmQoJy5qcy1uZXctZG9jLXRyaXBzJykuc2hvdygpO1xyXG5cclxuXHRcdC8v0L/RgNC+0YXQvtC00LjQvNGPINC/0L4g0LzQsNGB0YHQuNCy0YMg0L7RiNC40LHQvtC6XHJcblx0XHQkLmVhY2goZGF0YS5lcnJvciwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcclxuXHJcblxyXG5cdFx0XHR2YXIgZXJyID0gWydub19hbGxfcGFzc3dvcmRfYnV5Jywnbm9fYWxsX3Bhc3N3b3JkX2ZseScsJ25vX3Bob25lX3RlbGxfYnV5Jywnbm9fYWxsX3Bhc3N3b3JkX3gnLCdub19hbGxfaW5mb19vcmcnLCdub19hbGxfaW5mb19yZl9vcmcnLCdudW1iZXJfY29udHJhY3RfYnVzeSddO1xyXG5cclxuXHRcdFx0dmFyIGVycl9uYW1lID0gWyfQn9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC60YPQv9Cw0YLQtdC70Y8nLCfQn9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0YLRg9GA0LjRgdGC0L7QsicsJ9Ci0LXQu9C10YTQvtC9LCDQsNC00YDQtdGBINC/0L7QutGD0L/QsNGC0LXQu9GPJywn0L/QsNGB0L/QvtGA0YIg0KDQpCDQv9C+0LrRg9C/0LDRgtC10LvRjycsJ9C00LDQvdC90YvQtSDQv9C+INC+0YDQs9Cw0L3QuNC30LDRhtC40LgnLCfQv9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0YDRg9C60L7QstC+0LTQuNGC0LXQu9GPJywnJ107XHJcblxyXG5cdFx0XHRudW1iZXJzPSQuaW5BcnJheSh2YWx1ZSwgZXJyKTtcclxuXHRcdFx0Ly9hbGVydChudW1iZXJzKTtcclxuXHRcdFx0aWYobnVtYmVycyE9LTEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZih2YWx1ZT09J251bWJlcl9jb250cmFjdF9idXN5JylcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRhbGVydF9tZXNzYWdlKCdlcnJvcicsICfQndC+0LzQtdGAINC00L7Qs9C+0LLQvtGA0LAg0LfQsNC90Y/Rgi4g0KHQu9C10LTRg9GO0YnQuNC5INGB0LLQvtCx0L7QtNC90YvQuSAtICcgKyBkYXRhLm51bWJlcik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywgJ9C90LXQutC+0YDRgNC10LrRgtC90L4g0LfQsNC/0L7Qu9C90LXQvdC+IC0gJyArIGVycl9uYW1lW251bWJlcnNdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQntGI0LjQsdC60LAhJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gQWZ0ZXJBZGRGb3JtVGVuZGVyKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0aWYgKGRhdGEuc3RhdHVzPT0nb2snKVxyXG4gICAge1xyXG5cdCAgIC8vICQoJy5qcy1mb3JtLXRlbmRlci1uZXcnKS5yZW1vdmUoKTtcclxuXHRcdFxyXG5cdFx0YWxlcnRfbWVzc2FnZSgnb2snLCfQndC+0LLRi9C5INGC0YPRgCDQtNC+0LHQsNCy0LvQtdC9Jyk7XHJcblx0XHQvLyQoJy5qcy1uZXh0LXN0ZXAnKS5zdWJtaXQoKTtcclxuXHJcblx0XHQvLyQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLmpzLWFsZXJ0LWRvYycpLmVtcHR5KCkuYXBwZW5kKGRhdGEuZG93bmxvYWQpO1xyXG5cdFx0Ly8kKCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1kb2MtY3JlYXRlJykuc2xpZGVEb3duKCBcInNsb3dcIiApO1xyXG4gICAgICAgIC8vJCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAgLmpzLWRvYy15ZXMtaGlkZScpLnNsaWRlVXAoIFwic2xvd1wiICk7XHJcblxyXG5cdFx0JCgnI2pzLWZvcm0tZWRpdC1lZGl0LWEnKS5hdHRyKCdhY3Rpb24nLCd0b3Vycy8uaWQtJytkYXRhLmZvcl9pZCk7XHJcblx0XHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCcjanMtZm9ybS1lZGl0LWVkaXQtYScpLnN1Ym1pdCgpOyB9LCAxMDAwICk7XHJcblxyXG5cdH0gZWxzZVxyXG5cdFx0e1xyXG5cdCBcdCAgJCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAuanMtYWRkLXRlbmRlci1mb3JtJykuc2hvdygpO1xyXG5cdFx0ICAkKCcuanMtZm9ybS10ZW5kZXItbmV3IC5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHRcdFx0XHJcblx0XHQgLy9hbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ce0YjQuNCx0LrQsCEg0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjycpO1xyXG5cdFxyXG5cdFx0ICAvLyQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLm1lc3NhZ2UtZm9ybScpLmVtcHR5KCkuYXBwZW5kKCfQl9Cw0L/QvtC70L3QuNGC0LUg0LLRgdC1INC/0L7Qu9GPJykuc2hvdygpO1x0XHJcblx0XHRcdFxyXG5cdFx0Ly/Qv9GA0L7RhdC+0LTQuNC80Y8g0L/QviDQvNCw0YHRgdC40LLRgyDQvtGI0LjQsdC+0LpcclxuXHRcdCQuZWFjaChkYXRhLmVycm9yLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpe1x0XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHR2YXIgZXJyID0gWydudW1iZXJfY29udHJhY3QnLCdpZF9vcGVyYXRvcicsJ2lkX2V4Y2hhbmdlJywnZGF0ZV9zZWxlX2RvYycsJ2J1eV9pZCcsJ2NvdW50X2NsaWVudHMnLCdpZF9jb3VudHJ5JywnZGF0ZV9zdGFydCcsJ2RhdGVfZW5kJywnY291bnRfZGF5JywnaG90ZWwnLCdmbGlnaHRfdGhlcmVfcm91dGUnLCdmbGlnaHRfdGhlcmVfY2xhc3MnLCdmbGlnaHRfdGhlcmVfbnVtYmVyJywnZmxpZ2h0X2JhY2tfcm91dGUnLCdmbGlnaHRfYmFja19jbGFzcycsJ2ZsaWdodF9iYWNrX251bWJlcicsJ3RyYW5zZmVyX3JvdXRlJywndHJhbnNmZXJfdHlwZScsJ2Nvc3RfY2xpZW50Jywnbm9fYWxsX3Bhc3N3b3JkX2J1eScsJ25vX2FsbF9wYXNzd29yZF9mbHknLCdub19waG9uZV90ZWxsX2J1eScsJ25vX2FsbF9wYXNzd29yZF94Jywnbm9fYWxsX2luZm9fb3JnJywnbm9fYWxsX2luZm9fcmZfb3JnJywnbnVtYmVyX2NvbnRyYWN0X2J1c3knLCdleGNoYW5nZV9yYXRlcycsJ251bWJlcl9jb250cmFjdF9mb3JtYXQnXTtcclxuXHRcclxuXHR2YXIgZXJyX25hbWUgPSBbJ9Cd0L7QvNC10YAg0LTQvtCz0L7QstC+0YDQsCcsJ9Ci0YPRgNC+0L/QtdGA0LDRgtC+0YAnLCfQktCw0LvRjtGC0LAnLCfQlNCw0YLQsCDQtNC+0LPQvtCy0L7RgNCwJywn0J/QvtC60YPQv9Cw0YLQtdC70Ywg0YLRg9GA0LAnLCfQmtC+0Lst0LLQviDRh9C10LvQvtCy0LXQuicsJ9Ch0YLRgNCw0L3QsCcsJ9CU0LDRgtCwINC90LDRh9Cw0LvQsCDRgtGD0YDQsCcsJ9CU0LDRgtCwINC+0LrQvtC90YfQsNC90LjRjyDRgtGD0YDQsCcsJ9Ca0L7Quy3QstC+INC00L3QtdC5Jywn0J7RgtC10LvRjCcsJ9Cc0LDRgNGI0YDRg9GCINGC0YPQtNCwJywn0JrQu9Cw0YHRgSDRgtGD0LTQsCcsJ9Cd0L7QvNC10YAg0YDQtdC50YHQsCDRgtGD0LTQsCcsJ9Cc0LDRgNGI0YDRg9GCINC+0LHRgNCw0YLQvdC+Jywn0JrQu9Cw0YHRgSDQvtCx0YDQsNGC0L3QvicsJ9Cd0L7QvNC10YAg0YDQtdC50YHQsCDQvtCx0YDQsNGC0L3QvicsJ9Cc0LDRgNGI0YDRg9GCINGC0YDQsNC90YHRhNC10YDQsCcsJ9Ci0LjQvyDRgtGA0LDQvdGB0YTQtdGA0LAnLCfQodGC0L7QuNC80L7RgdGC0Ywg0YLRg9GA0LAnLCfQn9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC60YPQv9Cw0YLQtdC70Y8nLCfQn9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0YLRg9GA0LjRgdGC0L7QsicsJ9Ci0LXQu9C10YTQvtC9LCDQsNC00YDQtdGBINC/0L7QutGD0L/QsNGC0LXQu9GPJywn0L/QsNGB0L/QvtGA0YIg0KDQpCDQv9C+0LrRg9C/0LDRgtC10LvRjycsJ9C00LDQvdC90YvQtSDQv9C+INC+0YDQs9Cw0L3QuNC30LDRhtC40LgnLCfQv9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0YDRg9C60L7QstC+0LTQuNGC0LXQu9GPJywnJywn0JrRg9GA0YEg0LLQsNC70Y7RgtGLICjQotCeKScsJ9Cd0L7QvNC10YAg0LTQvtCz0L7QstC+0YDQsCddO1xyXG5cdFx0XHRcclxuXHQvL3ZhciBudW1iZXIgPSBbMiwxLDQsNSwzLDYsNyw4LDExLDEyLDEzLDIyLDE0LDE1LDE4LDE5LDE2LDE3LDIwLDIxXTtcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdG51bWJlcnM9JC5pbkFycmF5KHZhbHVlLCBlcnIpO1xyXG5cdFx0XHRcdC8vYWxlcnQobnVtYmVycyk7XHJcblx0XHRcdFx0aWYobnVtYmVycyE9LTEpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdC8qXHJcblx0XHRcdFx0XHRcdHZhciBpbnM9bnVtYmVyW251bWJlcnNdO1xyXG5cdFx0XHRcdFx0XHQkKCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1pbicraW5zKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdCQoJy5qcy1mb3JtLXRlbmRlci1uZXcgLmpzLWluJytpbnMpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykuZmluZCgnLmRpdl9uZXdfMjAxOCcpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIj7QvdC10LrQvtGA0YDQtdC60YLQvdC+INC30LDQv9C+0LvQvdC10L3QviDQv9C+0LvQtTwvZGl2PicpO1xyXG5cdFx0XHQqL1xyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZT09J251bWJlcl9jb250cmFjdF9idXN5JylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywgJ9Cd0L7QvNC10YAg0LTQvtCz0L7QstC+0YDQsCDQt9Cw0L3Rj9GCLiDQodC70LXQtNGD0Y7RidC40Lkg0YHQstC+0LHQvtC00L3Ri9C5IC0gJyArIGRhdGEubnVtYmVyKTtcclxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuc2Nyb2xsVG8oJ1tuYW1lPW51bWJlcl9jb250cmFjdF0nLCAxMDAwLCB7b2Zmc2V0Oi0xODB9KTtcclxuXHJcblxyXG5cdFx0XHRcdFx0XHRcdCQoJ1tuYW1lPW51bWJlcl9jb250cmFjdF0nKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmZpbmQoJy5lcnJvci1tZXNzYWdlJykuZW1wdHkoKS5hcHBlbmQoJ9C/0L7Qu9C1INC90LUg0LfQsNC/0L7Qu9C90LXQvdC+Jyk7XHQgJCgnW25hbWU9bnVtYmVyX2NvbnRyYWN0XScpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykuYWRkQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTtcclxuXHRcdFx0XHRcdFx0XHQkKCdbbmFtZT1udW1iZXJfY29udHJhY3RdJykucGFyZW50cygnLmxpc3RfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0YWxlcnRfbWVzc2FnZSgnZXJyb3InLCAn0L3QtdC60L7RgNGA0LXQutGC0L3QviDQt9Cw0L/QvtC70L3QtdC90L4gLSAnICsgZXJyX25hbWVbbnVtYmVyc10pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvLyQoJy5qcy1mb3JtLXJlZ2lzdGVyIC5tZXNzYWdlLWZvcm0nKS5lbXB0eSgpLmFwcGVuZCgn0J7RiNC40LHQutCwISAnKTtcclxuXHRcdFx0XHRcdFx0YWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQntGI0LjQsdC60LAhJyk7XHJcblx0XHRcdFx0XHR9XHRcdFx0XHRcdFx0XHJcblx0ICAgICAgICAvL2pRdWVyeS5zY3JvbGxUbygnLnJlcXVpcmVkX2luXzIwMTg6Zmlyc3QnLCAxMDAwLCB7b2Zmc2V0Oi03MH0pO1x0XHRcclxuXHRcdH0pO1xyXG5cdFx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBBZnRlckVkaXRGb3JtVGVuZGVyKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0aWYgKGRhdGEuc3RhdHVzPT0nb2snKVxyXG5cdHtcclxuXHRcdC8vICQoJy5qcy1mb3JtLXRlbmRlci1uZXcnKS5yZW1vdmUoKTtcclxuXHJcblx0XHRhbGVydF9tZXNzYWdlKCdvaycsJ9CU0LDQvdC90YvQtSDQv9C+INGC0YPRgNGDINGB0L7RhdGA0LDQvdC10L3RiycpO1xyXG5cdFx0Ly8kKCcuanMtbmV4dC1zdGVwJykuc3VibWl0KCk7XHJcblxyXG5cdFx0Ly8kKCcuanMtZm9ybS10ZW5kZXItZWRpdCAuanMtYWxlcnQtZG9jJykuZW1wdHkoKS5hcHBlbmQoZGF0YS5kb3dubG9hZCk7XHJcblx0XHQvLyQoJy5qcy1mb3JtLXRlbmRlci1lZGl0IC5qcy1kb2MtY3JlYXRlJykuc2xpZGVEb3duKCBcInNsb3dcIiApO1xyXG5cdFx0Ly8kKCcuanMtZm9ybS10ZW5kZXItZWRpdCAgLmpzLWRvYy15ZXMtaGlkZScpLnNsaWRlVXAoIFwic2xvd1wiICk7XHJcblxyXG5cdFx0JCgnLmpzLWZvcm0tdGVuZGVyLWVkaXQgLmpzLWVkaXQtdGVuZGVyLWZvcm0nKS5zaG93KCk7XHJcblx0XHQkKCcuanMtZm9ybS10ZW5kZXItZWRpdCAuYl9sb2FkaW5nX3NtYWxsJykucmVtb3ZlKCk7XHJcblxyXG5cdFx0Ly/Qv9C10YDQtdCw0LTRgNC10YHRgdCw0YbQuNGPXHJcblxyXG5cdFx0c2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgJCgnI2pzLWZvcm0tZWRpdC1lZGl0Jykuc3VibWl0KCk7IH0sIDEwMDAgKTtcclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHQkKCcuanMtZm9ybS10ZW5kZXItZWRpdCAuanMtZWRpdC10ZW5kZXItZm9ybScpLnNob3coKTtcclxuXHRcdCQoJy5qcy1mb3JtLXRlbmRlci1lZGl0IC5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHJcblx0XHQvL2FsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0J7RiNC40LHQutCwISDQl9Cw0L/QvtC70L3QuNGC0LUg0LLRgdC1INC/0L7Qu9GPJyk7XHJcblxyXG5cdFx0Ly8kKCcuanMtZm9ybS10ZW5kZXItbmV3IC5tZXNzYWdlLWZvcm0nKS5lbXB0eSgpLmFwcGVuZCgn0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjycpLnNob3coKTtcclxuXHJcblx0XHQvL9C/0YDQvtGF0L7QtNC40LzRjyDQv9C+INC80LDRgdGB0LjQstGDINC+0YjQuNCx0L7QulxyXG5cdFx0JC5lYWNoKGRhdGEuZXJyb3IsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSl7XHJcblxyXG5cclxuXHRcdFx0dmFyIGVyciA9IFsnbnVtYmVyX2NvbnRyYWN0JywnaWRfb3BlcmF0b3InLCdpZF9leGNoYW5nZScsJ2RhdGVfc2VsZV9kb2MnLCdidXlfaWQnLCdjb3VudF9jbGllbnRzJywnaWRfY291bnRyeScsJ2RhdGVfc3RhcnQnLCdkYXRlX2VuZCcsJ2NvdW50X2RheScsJ2hvdGVsJywnZmxpZ2h0X3RoZXJlX3JvdXRlJywnZmxpZ2h0X3RoZXJlX2NsYXNzJywnZmxpZ2h0X3RoZXJlX251bWJlcicsJ2ZsaWdodF9iYWNrX3JvdXRlJywnZmxpZ2h0X2JhY2tfY2xhc3MnLCdmbGlnaHRfYmFja19udW1iZXInLCd0cmFuc2Zlcl9yb3V0ZScsJ3RyYW5zZmVyX3R5cGUnLCdjb3N0X2NsaWVudCcsJ25vX2FsbF9wYXNzd29yZF9idXknLCdub19hbGxfcGFzc3dvcmRfZmx5Jywnbm9fcGhvbmVfdGVsbF9idXknLCdub19hbGxfcGFzc3dvcmRfeCcsJ25vX2FsbF9pbmZvX29yZycsJ25vX2FsbF9pbmZvX3JmX29yZycsJ251bWJlcl9jb250cmFjdF9idXN5J107XHJcblxyXG5cdFx0XHR2YXIgZXJyX25hbWUgPSBbJ9Cd0L7QvNC10YAg0LTQvtCz0L7QstC+0YDQsCcsJ9Ci0YPRgNC+0L/QtdGA0LDRgtC+0YAnLCfQktCw0LvRjtGC0LAnLCfQlNCw0YLQsCDQtNC+0LPQvtCy0L7RgNCwJywn0J/QvtC60YPQv9Cw0YLQtdC70Ywg0YLRg9GA0LAnLCfQmtC+0Lst0LLQviDRh9C10LvQvtCy0LXQuicsJ9Ch0YLRgNCw0L3QsCcsJ9CU0LDRgtCwINC90LDRh9Cw0LvQsCDRgtGD0YDQsCcsJ9CU0LDRgtCwINC+0LrQvtC90YfQsNC90LjRjyDRgtGD0YDQsCcsJ9Ca0L7Quy3QstC+INC00L3QtdC5Jywn0J7RgtC10LvRjCcsJ9Cc0LDRgNGI0YDRg9GCINGC0YPQtNCwJywn0JrQu9Cw0YHRgSDRgtGD0LTQsCcsJ9Cd0L7QvNC10YAg0YDQtdC50YHQsCDRgtGD0LTQsCcsJ9Cc0LDRgNGI0YDRg9GCINC+0LHRgNCw0YLQvdC+Jywn0JrQu9Cw0YHRgSDQvtCx0YDQsNGC0L3QvicsJ9Cd0L7QvNC10YAg0YDQtdC50YHQsCDQvtCx0YDQsNGC0L3QvicsJ9Cc0LDRgNGI0YDRg9GCINGC0YDQsNC90YHRhNC10YDQsCcsJ9Ci0LjQvyDRgtGA0LDQvdGB0YTQtdGA0LAnLCfQodGC0L7QuNC80L7RgdGC0Ywg0YLRg9GA0LAnLCfQn9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC60YPQv9Cw0YLQtdC70Y8nLCfQn9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0YLRg9GA0LjRgdGC0L7QsicsJ9Ci0LXQu9C10YTQvtC9LCDQsNC00YDQtdGBINC/0L7QutGD0L/QsNGC0LXQu9GPJywn0L/QsNGB0L/QvtGA0YIg0KDQpCDQv9C+0LrRg9C/0LDRgtC10LvRjycsJ9C00LDQvdC90YvQtSDQv9C+INC+0YDQs9Cw0L3QuNC30LDRhtC40LgnLCfQv9Cw0YHQv9C+0YDRgtC90YvQtSDQtNCw0L3QvdGL0LUg0YDRg9C60L7QstC+0LTQuNGC0LXQu9GPJywnJ107XHJcblxyXG5cdFx0XHQvL3ZhciBudW1iZXIgPSBbMiwxLDQsNSwzLDYsNyw4LDExLDEyLDEzLDIyLDE0LDE1LDE4LDE5LDE2LDE3LDIwLDIxXTtcclxuXHJcblxyXG5cdFx0XHRudW1iZXJzPSQuaW5BcnJheSh2YWx1ZSwgZXJyKTtcclxuXHRcdFx0Ly9hbGVydChudW1iZXJzKTtcclxuXHRcdFx0aWYobnVtYmVycyE9LTEpXHJcblx0XHRcdHtcclxuXHRcdFx0XHQvKlxyXG4gICAgICAgICAgICAgICAgdmFyIGlucz1udW1iZXJbbnVtYmVyc107XHJcbiAgICAgICAgICAgICAgICAkKCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1pbicraW5zKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcbiAgICAkKCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1pbicraW5zKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmZpbmQoJy5kaXZfbmV3XzIwMTgnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJlcnJvci1tZXNzYWdlXCI+0L3QtdC60L7RgNGA0LXQutGC0L3QviDQt9Cw0L/QvtC70L3QtdC90L4g0L/QvtC70LU8L2Rpdj4nKTtcclxuICAgICovaWYodmFsdWU9PSdudW1iZXJfY29udHJhY3RfYnVzeScpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhbGVydF9tZXNzYWdlKCdlcnJvcicsICfQndC+0LzQtdGAINC00L7Qs9C+0LLQvtGA0LAg0LfQsNC90Y/Rgi4g0KHQu9C10LTRg9GO0YnQuNC5INGB0LLQvtCx0L7QtNC90YvQuSAtICcgKyBkYXRhLm51bWJlcik7XHJcblx0XHRcdFx0alF1ZXJ5LnNjcm9sbFRvKCdbbmFtZT1udW1iZXJfY29udHJhY3RdJywgMTAwMCwge29mZnNldDotMTgwfSk7XHJcblxyXG5cclxuXHRcdFx0XHQkKCdbbmFtZT1udW1iZXJfY29udHJhY3RdJykucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuZXJyb3ItbWVzc2FnZScpLmVtcHR5KCkuYXBwZW5kKCfQv9C+0LvQtSDQvdC1INC30LDQv9C+0LvQvdC10L3QvicpO1x0ICQoJ1tuYW1lPW51bWJlcl9jb250cmFjdF0nKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdFx0JCgnW25hbWU9bnVtYmVyX2NvbnRyYWN0XScpLnBhcmVudHMoJy5saXN0XzIwMTgnKS5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1xyXG5cdFx0XHRcdGVycisrO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YWxlcnRfbWVzc2FnZSgnZXJyb3InLCAn0L3QtdC60L7RgNGA0LXQutGC0L3QviDQt9Cw0L/QvtC70L3QtdC90L4gLSAnICsgZXJyX25hbWVbbnVtYmVyc10pO1xyXG5cdFx0XHR9XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Ly8kKCcuanMtZm9ybS1yZWdpc3RlciAubWVzc2FnZS1mb3JtJykuZW1wdHkoKS5hcHBlbmQoJ9Ce0YjQuNCx0LrQsCEgJyk7XHJcblx0XHRcdFx0YWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQntGI0LjQsdC60LAhJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9qUXVlcnkuc2Nyb2xsVG8oJy5yZXF1aXJlZF9pbl8yMDE4OmZpcnN0JywgMTAwMCwge29mZnNldDotNzB9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG4vL9C+0YLQutGA0YvRgtGMINC+0LrQvdC+INC30LDQtNCw0YfQuFxyXG5mdW5jdGlvbiBvcGVuX3Rhc2soKVxyXG57XHJcblx0dmFyIGlkX3Rhc2s9ICQodGhpcykucGFyZW50cygnLnRhc2tfY2xvY2tfc2VsZWN0aW9uJykuYXR0cignaWRfdGFzaycpO1xyXG5cclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZG9jX3Rhc2sucGhwP2lkPScraWRfdGFzaysnJnRhYnM9MCcsXHJcblx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHJcblx0XHRcclxuICAgIH0sXHJcbiAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRUb29sVGlwKCk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcbiAgfSk7XHRcdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG59XHJcblxyXG5cdFxyXG4vKlxyXG53aW5kb3cuc2VhcmNoX21pbjIgPSAwOyAgLy/QvNC40L0g0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQuNC80LLQvtC70L7QsiDQtNC70Y8g0LHRi9GB0YLRgNC+0LPQviDQv9C+0LjRgdC60LBcclxud2luZG93LnNlYXJjaF9kZWxleTI9NzAwO1x0Ly/Qt9Cw0LTQtdGA0LbQutCwINC80LXQttC00YMg0LLQstC+0LTQsNC80Lgg0YHQuNC80LLQvtC70L7QsiAtINC90LDRh9Cw0LvQviDQv9C+0LjRgdC60LBcclxuKi9cclxuXHJcbi8vd2luZG93LnNlYXJjaF9pbnB1dDI9JCgnLmpzLWtleXVwLXNlYXJjaCcpO1x0XHRcdFxyXG5cclxuLypcclxuLy/Qv9GA0L7QstC10YDQutCwINC90LDQu9C40YfQutC+0Lkg0LjQu9C4INC90LXRgiDQsdGL0LvQsCDQvtC/0LvQsNGC0LAg0LXRgdC70Lgg0Y3RgtC+INC+0L/Qu9Cw0YLQsCDQutC70LjQtdC90YLQvtC8LiDRgdC60YDRi9GC0Ywg0L3QtdC90YPQttC90YvQtSDQvNC10YLQvtC00YtcclxuICovXHJcblxyXG5cclxuZnVuY3Rpb24gbmFsbF9idXlfdGlwcyhsb2FkKSB7XHJcblx0Ly9hbGVydChcIiFcIik7XHJcblx0bG9hZCA9IGxvYWQgfHwgMDtcclxuXHQvL2xlcnQoJCgnLnRyaXBzX3BheW1lbnRfbWV0aG9kJykuYXR0cignbmFsbCcpKTtcclxuXHRpZiAoJCgnLmtvbXlfdHJpcHMnKS52YWwoKSA9PSAxKSB7XHJcblx0XHRpZiAoJCgnLmpzX3RyaXBzX3BheW1lbnRfbWV0aG9kJykuYXR0cignbmFsbCcpID09IDEpIHtcclxuXHJcblx0XHRcdCQoJy5qcy12aXNpYmxlLW10JykuZmluZCgnW25hbGw9MV0nKS5wYXJlbnRzKCdsaScpLmFkZENsYXNzKCdoaWRlLW10Jyk7XHJcblx0XHRcdC8v0LXRgdC70Lgg0YfRgtC+LdGC0L4g0LLRi9Cx0YDQsNC90L4g0YfRgtC+INC90LXQu9GM0LfRjyDRgtC+0LPQtNCwINC40LfQvNC10L3Rj9C10Lwg0LLRi9Cx0L7RgCDQvdCwINC90LDQu9C40YfQvdGL0LVcclxuXHRcdFx0dmFyIHpuYSA9ICQoJy5qcy12aXNpYmxlLW10JykuZmluZCgnW25hbGw9MF0nKS5hdHRyKCdyZWwnKTtcclxuXHRcdFx0aWYobG9hZD09MCkge1xyXG5cdFx0XHRcdCQoJy5qc190cmlwc19wYXltZW50X21ldGhvZCcpLnZhbCh6bmEpO1xyXG5cdFx0XHRcdCQoJy5qcy12aXNpYmxlLW10JykuZmluZCgnW25hbGw9MF0nKS50cmlnZ2VyKCdjbGljaycpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fWVsc2Uge1xyXG5cdFx0XHQvL9C/0L7QutCw0LfRi9Cy0LDQtdC8INCy0YHQtSDQvNC10YLQvtC00YsgLSDQvtC/0LvQsNGC0LAg0YLRg9GA0L7Qv9C10YDQsNGC0L7RgNGDXHJcblx0XHRcdCQoJy5qcy12aXNpYmxlLW10JykuZmluZCgnbGknKS5yZW1vdmVDbGFzcygnaGlkZS1tdCcpO1xyXG5cdFx0fVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBvcGVuX3Rhc2tfbmV3KClcclxue1xyXG5cdHZhciBpZF90YXNrPSAkKHRoaXMpLmF0dHIoJ2lkX3Rhc2snKTtcclxuXHJcblx0JC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9mb3JtX2RvY190YXNrLnBocD9pZD0nK2lkX3Rhc2srJyZ0YWJzPTAnLFxyXG5cdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0XHRcdFx0XHRcclxuICAgIH0sXHJcbiAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0VG9vbFRpcCgpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcdFx0XHJcblx0XHJcblx0XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gaGlkZV9maW5hbmNlX3Bhc3MoKVxyXG57XHJcblx0Ly9hbGVydChcIiFcIik7XHJcblx0JCgnLmpzLXZpZC1vcGVyJykuc2xpZGVVcChcInNsb3dcIik7XHJcblx0JCgnLmpzLWZvcm0tcGF5LWZpbmFuY2UtZWRpdCAucGFzc3dvcmRfdHVycycpLnNsaWRlVXAoXCJzbG93XCIpO1xyXG59XHJcblxyXG5cclxuLy/QuNC30LzQtdC90LXQvdC40LUg0LLQsNC70Y7RgtGLXHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiBleGNoYW5nZV9laWNvKClcclxue1xyXG5cdC8vYWxlcnRfbWVzc2FnZSgnZXJyb3InLCQodGhpcykudmFsKCkpO1xyXG5cdHZhciBjaGFyPSQodGhpcykudmFsKCk7XHJcblx0aWYoJCgnLnZhbF9yYXRlJykuZmluZCgnW3JlbD0nK2NoYXIrJ10nKS5hdHRyKCdjaGFyJyk9PSfigr0nKVxyXG5cdHtcclxuXHRcdCQoJy5yYXRlc192aXNpYmxlJykuc2xpZGVVcChcInNsb3dcIik7XHJcblx0XHQkKCcueGV4Y2hhbmdlX3JhdGVzJykudmFsKCcnKS50cmlnZ2VyKCdjbGljaycpO1xyXG5cdH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHQkKCcucmF0ZXNfdmlzaWJsZScpLnNsaWRlRG93bihcInNsb3dcIik7XHJcblx0XHRcdCQoJy54ZXhjaGFuZ2VfcmF0ZXMnKS50cmlnZ2VyKCdjbGljaycpO1xyXG5cdFx0fVxyXG5cdFxyXG59XHJcblxyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDQstGL0LLQvtC00LAg0LrQvtCz0LTQsCDQvdCw0LTQviDQvtC/0LvQsNGC0LjRgtGMINC60L7QvdC10YfQvdC+XHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiB4eF9lbmRfZGF0ZSgpXHJcbntcclxuXHR2YXIgdXl5PTA7XHJcblx0dmFyIGRwICA9IG5ldyBBcnJheSgpO1xyXG5cdC8vYWxlcnQoJCgnLnhjb3N0X3RvXzEnKS5sZW5ndGgpO1xyXG5cdCQoJy54Y29zdF90b18xJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcdFx0XHJcblx0XHRpZigoJCh0aGlzKS52YWwoKSE9MCkmJigkKHRoaXMpLnZhbCgpIT0nJykpXHJcblx0XHR7XHJcblx0XHRcdC8vYWxlcnQoJCh0aGlzKS52YWwoKSk7XHJcblx0XHQgICB1eXkrKztcclxuXHRcdFx0Ly9hbGVydChpKTtcclxuXHRcdCAgIGRwW2ldPSQodGhpcykudmFsKCk7XHJcblx0XHR9XHJcblx0fSk7XHRcclxuXHRpZigoZHBbMF09PWRwWzFdKSYmKHV5eT09MikpXHRcdFx0XHJcblx0e1xyXG5cdFx0Ly/RgdC60YDRi9GC0YxcclxuXHRcdCQoJy5qcy1kYXRlX3BvbG5heScpLnNsaWRlVXAoXCJzbG93XCIpO1x0XHRcclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHRpZih1eXk9PTIpIHtcclxuXHRcdFx0JCgnLmpzLWRhdGVfcG9sbmF5Jykuc2xpZGVEb3duKFwic2xvd1wiKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHQkKCcuanMtZGF0ZV9wb2xuYXknKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC/0LXRgNC10YHRh9C10YLQsCDRgdGC0L7QuNC80L7RgdGC0Lgg0LIg0LLQsNC70Y7RgtC1INC/0YDQuCDQuNC30LzQtdC90LXQvdC40LUg0YHQsNC80L7QuSDRgdGC0L7QuNC80L7RgdGC0Lgg0LIg0YDRg9Cx0LvRj9GFXHJcbi8vICB8XHJcbi8vIFxcL1xyXG5mdW5jdGlvbiB4ZXhjaGFuZ2VfcmF0ZXMyKClcclxue1xyXG5cdHZhciBjdXJzcz0kKCcueGV4Y2hhbmdlX3JhdGVzJykudmFsKCk7XHJcblx0dmFyIGpzXzIwMD0kKHRoaXMpLnBhcmVudHMoJy5qai1sJykuZmluZCgnLm9wZXJfbmFtZScpO1xyXG5cdFx0XHJcblx0Ly9hbGVydF9tZXNzYWdlKCdlcnJvcicsY3Vyc3MpO1xyXG5cdFxyXG5cdCAgIGlmKChjdXJzcyE9JycpJiYoY3Vyc3MhPTApJiYoJCh0aGlzKS52YWwoKSE9JycpJiYoJCh0aGlzKS52YWwoKSE9MCkpXHJcblx0XHR7XHJcblx0XHRcdFx0dmFyIGNoYXI9JCgnLnZhbF9yYXRlJykuZmluZCgnW3JlbD0nKyQoJyNleGNoYW5nZV9yYXRlcycpLnZhbCgpKyddJykuYXR0cignY2hhcicpO1xyXG5cdFx0XHRcdHZhciBjdXJzPShwYXJzZUZsb2F0KGN0cmltKCQodGhpcykudmFsKCkpKS9wYXJzZUZsb2F0KGN1cnNzKSk7XHJcblx0XHRcdFx0anNfMjAwLmVtcHR5KCkuYXBwZW5kKGNoYXIrJyAnKyQubnVtYmVyKGN1cnMudG9GaXhlZCgyKSwgMiwgJy4nLCAnICcpKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHQgXHJcblx0XHRcdCAgICB2YXIgam9pPWpzXzIwMC5hdHRyKCdqb2knKTtcclxuXHRcdFx0ICAgIGpzXzIwMC5lbXB0eSgpLmFwcGVuZChqb2kpO1xyXG5cdFx0fVxyXG5cdFx0XHJcbn1cclxuLy/RhNGD0L3QutGG0LjRjyDQv9C10YDQtdGB0YfQtdGC0LAg0YHRgtC+0LjQvNC+0YHRgtC4INCyINCy0LDQu9GO0YLQtSDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC1INCy0LLQvtC00LUg0LrRg9GA0YHQsFxyXG4vLyAgfFxyXG4vLyBcXC9cclxuZnVuY3Rpb24geGV4Y2hhbmdlX3JhdGVzMSgpXHJcbntcclxuXHRpZigkKHRoaXMpLnZhbCgpIT0nJylcclxuXHRcdHtcclxuXHR2YXIgd3h4eD0kKHRoaXMpLnZhbCgpO1xyXG5cdHZhciBjaGFyPSQoJy52YWxfcmF0ZScpLmZpbmQoJ1tyZWw9JyskKCcjZXhjaGFuZ2VfcmF0ZXMnKS52YWwoKSsnXScpLmF0dHIoJ2NoYXInKTtcclxuXHRcdFx0XHJcblx0JCgnLmpqLWwnKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdGlmKCgkKHRoaXMpLmZpbmQoJy5nbG9hYicpLnZhbCgpICE9ICcnKSYmKCQodGhpcykuZmluZCgnLmdsb2FiJykudmFsKCkgIT0gMCkpICB7IFxyXG5cdHZhciBjdXJzPShwYXJzZUZsb2F0KGN0cmltKCQodGhpcykuZmluZCgnLmdsb2FiJykudmFsKCkpKS9wYXJzZUZsb2F0KHd4eHgpKTtcclxuXHRcdC8vYWxlcnQoJCh0aGlzKS5maW5kKCcuZ2xvYWInKS52YWwoKSk7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmZpbmQoJy5vcGVyX25hbWUnKS5lbXB0eSgpLmFwcGVuZChjaGFyKycgJyskLm51bWJlcihjdXJzLnRvRml4ZWQoMiksIDIsICcuJywgJyAnKSk7XHJcblx0XHJcblx0fSBlbHNlIHt2YXIgam9pPSQodGhpcykuZmluZCgnLm9wZXJfbmFtZScpLmF0dHIoJ2pvaScpO1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5maW5kKCcub3Blcl9uYW1lJykuZW1wdHkoKS5hcHBlbmQoam9pKTt9XHRcdFxyXG59KTtcdFx0XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCQoJy5qai1sJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHRcdFx0XHRcdHZhciBqb2k9JCh0aGlzKS5maW5kKCcub3Blcl9uYW1lJykuYXR0cignam9pJyk7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmZpbmQoJy5vcGVyX25hbWUnKS5lbXB0eSgpLmFwcGVuZChqb2kpO1xyXG5cdFx0XHRcdH0pO1x0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcbn1cclxuXHJcblxyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDQv9C+0LrQsNC30LAg0YDQtdC30YPQu9GM0YLQsNGC0LAg0L3QsCDQutC90L7Qv9C60LVcclxuLy8gIHxcclxuLy8gXFwvXHJcbi8vRXJyb3JCdXQoJy5mb3JtLW9wZW4gLmpzLWxvZycsJ9Ce0YjQuNCx0LrQsCDQt9Cw0L/QvtC70L3QtdC90LjRjyEnKTtcclxuZnVuY3Rpb24gWWVzQnV0KGJ1dCx0ZXh0KVxyXG57XHJcblx0dmFyIGVsZW1lbnQ9JChidXQpO1xyXG5cdHZhciB0ZXh0X2JiMjIgPSBlbGVtZW50Lmh0bWwoKTtcclxuXHRcdFx0XHRlbGVtZW50LmVtcHR5KCkuYXBwZW5kKHRleHQpO1xyXG5cdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ25ldy1zYXkteWVzJyk7XHJcblx0XHRcdFx0c2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgZWxlbWVudC5yZW1vdmVDbGFzcygnbmV3LXNheS15ZXMnKTsgZWxlbWVudC5lbXB0eSgpLmFwcGVuZCh0ZXh0X2JiMjIpOyAgfSwgNDAwMCApO1xyXG59XHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC/0L7QutCw0LfQsCDQvtGI0LjQsdC60Lgg0L3QsCDQutC90L7Qv9C60Lgg0L7RgtC/0YDQsNCy0LrQuFxyXG4vLyAgfFxyXG4vLyBcXC9cclxuLy9FcnJvckJ1dCgnLmpzLWZvcm0tb3BlbiAuanMtbG9nJywn0J7RiNC40LHQutCwINC30LDQv9C+0LvQvdC10L3QuNGPIScpO1xyXG5mdW5jdGlvbiBFcnJvckJ1dChidXQsdGV4dClcclxue1xyXG5cdHZhciBlbGVtZW50PSQoYnV0KTtcclxuXHR2YXIgdGV4dF9iYjIyID0gZWxlbWVudC5odG1sKCk7XHJcblx0XHRcdFx0ZWxlbWVudC5lbXB0eSgpLmFwcGVuZCh0ZXh0KTtcclxuXHRcdFx0XHRlbGVtZW50LmFkZENsYXNzKCduZXctc2F5MScpO1xyXG5cdFx0XHRcdHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7IGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ25ldy1zYXkxJyk7IGVsZW1lbnQuZW1wdHkoKS5hcHBlbmQodGV4dF9iYjIyKTsgIH0sIDQwMDAgKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHZhbGlkRGF0ZShkYXRlKXsgLy8gZGF0ZSDQsiDRhNC+0YDQvNCw0YLQtSAzMS4xMi4yMDE0XHJcbiAgdmFyIGRfYXJyID0gZGF0ZS5zcGxpdCgnLicpO1xyXG4gIHZhciBkID0gbmV3IERhdGUoZF9hcnJbMl0rJy8nK2RfYXJyWzFdKycvJytkX2FyclswXSsnJyk7IC8vINC00LDRgtCwINCyINGE0L7RgNC80LDRgtC1IDIwMTQvMTIvMzFcclxuICBpZiAoZF9hcnJbMl0hPWQuZ2V0RnVsbFllYXIoKSB8fCBkX2FyclsxXSE9KGQuZ2V0TW9udGgoKSArIDEpIHx8IGRfYXJyWzBdIT1kLmdldERhdGUoKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlOyAvLyDQvdC10LrQutC+0YDQtdC60YLQvdCw0Y8g0LTQsNGC0LBcclxuICB9O1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5cclxuLy/RgNCw0LfQvdC40YbQsCDQvNC10LbQtNGDINC00LLRg9GFINC00LDRgiDQuCDQvtC/0YDQtdC00LXQu9C10L3QuNC1INC60L7Qu9C4LdCy0L4g0L3QvtGH0LXQuVxyXG5mdW5jdGlvbiBkYXRlX25haXQoKVxyXG57XHJcblx0dmFyIGRhdGUyID0gJCgnLmpzLWRhdGUtbmFpdDInKS52YWwoKTtcclxuICAgIHZhciBkYXRlMSA9ICAkKCcuanMtZGF0ZS1uYWl0MScpLnZhbCgpO1xyXG5cdFxyXG5cdGlmICgodmFsaWREYXRlKGRhdGUxKSkmJih2YWxpZERhdGUoZGF0ZTIpKSkge1xyXG5cdFx0Ly9hbGVydChcIiExXCIpO1xyXG5cdFx0XHJcblx0dmFyIGRfYXJyMSA9IGRhdGUxLnNwbGl0KCcuJyk7XHJcbiAgdmFyIGQxID0gbmV3IERhdGUoZF9hcnIxWzJdKycvJytkX2FycjFbMV0rJy8nK2RfYXJyMVswXSsnJyk7XHJcblx0XHRcclxuXHR2YXIgZF9hcnIyID0gZGF0ZTIuc3BsaXQoJy4nKTtcclxuICB2YXIgZDIgPSBuZXcgRGF0ZShkX2FycjJbMl0rJy8nK2RfYXJyMlsxXSsnLycrZF9hcnIyWzBdKycnKTtcclxuXHRcclxuICAgIHZhciBkYXlzTGFnID0gTWF0aC5jZWlsKE1hdGguYWJzKGQyLmdldFRpbWUoKSAtIGQxLmdldFRpbWUoKSkgLyAoMTAwMCAqIDM2MDAgKiAyNCkpO1xyXG5cdGlmKCgkLmlzTnVtZXJpYyhkYXlzTGFnKSkmJihkYXlzTGFnPj0wKSlcclxuXHR7XHJcbiAgICAgICAkKCcuanMtZGF0ZS1uYWl0LWl0b2cnKS52YWwoZGF5c0xhZyk7XHJcblx0XHRpbnB1dF8yMDE4KCk7XHJcblx0fVxyXG4gIH1cclxufVxyXG5cclxuLy/QntCx0L3QvtCy0LvQtdC90LjQtSDQstGL0LLQvtC00LAg0L/QviDRgtGD0YDRg1xyXG5cclxuZnVuY3Rpb24gVXBkYXRlVHJpcHNBKGlkLG9wZXJhdGlvbix1cGxvYWRfbW0pXHJcbntcclxuXHRpZiAodXBsb2FkX21tID09IHVuZGVmaW5lZCkgdXBsb2FkX21tID0gMDtcclxuXHQvL9C/0L7RgdC80L7RgtGA0LXRgtGMINC60LDQutC+0LUg0LzQtdC90Y4g0L7RgtC60YDRi9GC0L4sINC10YHQu9C4INCw0LrRgtC40LLQvdC+INC60LDQutC+0LUg0YLQvlxyXG52YXIgYWN0aXZlX21lbnVfaWQ9JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbFtpZF90cmlwcz0nK2lkKyddJykuZmluZCgnLmpzLXRhYnMtbWVudSAuYWN0aXZlJykuYXR0cignaWQnKTtcclxuXHQvL2FsZXJ0KGFjdGl2ZV9tZW51X2lkKTtcclxuXHJcblxyXG5cdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2lkKycmbWVudV9pZD0nK2FjdGl2ZV9tZW51X2lkKycmb3A9JytvcGVyYXRpb24rJyZtbT0nK3VwbG9hZF9tbTtcclxuXHRBamF4Q2xpZW50KCd0b3VycycsJ3VwZGF0ZV90cmlwcycsJ0dFVCcsZGF0YSwnQWZ0ZXJVcGRhdGVUcmlwc0EnLGlkLDAsMSk7XHJcbn1cclxuXHJcblxyXG5cclxuLy/QvtCx0L3QvtCy0LvQtdC90LjQtSDQstGL0LLQvtC00LAg0L/QviDQt9Cw0LTQsNGH0LVcclxuZnVuY3Rpb24gVXBkYXRlVGFza0JpKGlkKVxyXG57XHJcblx0dmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJmlkPScraWQ7XHJcblx0XHRcdFx0XHJcblx0QWpheENsaWVudCgndGFzaycsJ3Rhc2tfdXBkYXRlJywnR0VUJyxkYXRhLCdBZnRlclVwZGF0ZVRhc2tCaScsaWQsMCwxKTtcclxufVxyXG5mdW5jdGlvbiBVcGRhdGVUYXNrQmlBZGQoaWQpXHJcbntcclxuXHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZDtcclxuXHRcdFx0XHRcclxuXHRBamF4Q2xpZW50KCd0YXNrJywndGFza191cGRhdGUnLCdHRVQnLGRhdGEsJ0FmdGVyVXBkYXRlVGFza0JpQWRkJyxpZCwwLDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb3VudF90YXNrKClcclxue1xyXG5cdCQoJy5oaWRkZW4tY291bnQtdGFzaycpXHJcblx0XHJcblx0JCgnLnNlYXJjaC1jb3VudC10YXNrJykuZW1wdHkoKS5hcHBlbmQoJCgnLmhpZGRlbi1jb3VudC10YXNrJykudGV4dCgpKTtcclxuXHQvLyQoJy5zZWFyY2gtY291bnQtdGFzaycpLnNsaWRlRG93biggXCJzbG93XCIgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbl90YXNrMSgpXHJcbntcclxuXHR2YXIgaWRfdGFzaz0gJCh0aGlzKS5wYXJlbnRzKCcudGFza19ibG9ja19nbG9iYWwnKS5hdHRyKCdpZF90YXNrJyk7XHJcblxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9kb2NfdGFzay5waHA/aWQ9JytpZF90YXNrKycmdGFicz0wJyxcclxuXHRiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG5cdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFx0XHRcdFx0XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFRvb2xUaXAoKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHRcdFxyXG5cdFxyXG5cdFxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYW5pbWF0aW9uX3RlcHMoKVxyXG57XHJcblx0JCgnLnRlcHMnKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdCQodGhpcykuYW5pbWF0ZSh7d2lkdGg6ICQodGhpcykuYXR0cigncmVsX3cnKStcIiVcIn0sIDIwMDAsIGZ1bmN0aW9uKCkgeyAgfSk7XHJcbn0pO1xyXG59XHJcbmZ1bmN0aW9uIGFuaW1hdGlvbl9ncmFmKClcclxue1xyXG5cdCQoJy5saW5lLWZpbicpLmVhY2goZnVuY3Rpb24oaSxlbGVtKSB7XHJcblx0XHQkKHRoaXMpLmFuaW1hdGUoe3dpZHRoOiAkKHRoaXMpLmF0dHIoJ3JlbF93JykrXCIlXCJ9LCAyMDAwLCBmdW5jdGlvbigpIHsgIH0pO1xyXG5cdH0pO1xyXG59XHJcblxyXG4vKipcclxuICog0LLRi9Cx0YDQsNGC0Ywg0YfRgtC+LdGC0L4g0LIg0LHRi9GB0YLRgNGL0YUg0YTQuNC70YzRgtGA0LDRhSDQsiDRgtGD0YDQsNGFXHJcbiAqIEBwYXJhbSBlXHJcbiAqKi9cclxuZnVuY3Rpb24gZmlsdGVyX2FjdGl2ZV9hX3QoZSlcclxue1xyXG5cdHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdHZhciBpZF9mPSQodGhpcykucGFyZW50cygnLmZpLWF0JykuYXR0cignaWQnKTtcclxuXHJcblx0JC5jb29raWUoXCJzdV83ZnR1XCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRDb29raWVMaXN0KFwic3VfN2Z0dVwiK2l1LCBpZF9mLCdhZGQnKTtcclxuXHRsb2NhdGlvbi5ocmVmPSQodGhpcykuYXR0cignaHJlZicpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gbGlzdF9udW1iZXIoKSB7XHJcblx0Ly9hbGVydChcIiFcIik7XHJcbi8vLm5leHQoKS5maW5kKCdsaScpXHJcblx0dmFyIGFjdGl2ZV9uZXc9JCh0aGlzKS5maW5kKCdhJykuYXR0cihcInJlbFwiKTtcclxuXHQvL2FsZXJ0KGFjdGl2ZV9uZXcpO1xyXG5cdGlmKGFjdGl2ZV9uZXc9PTIpXHJcblx0e1xyXG5cdFx0JChcIiNkYXRlX3RhYmxlXCIpLnNob3coKTtcclxuXHRcdC8vJChcIiNkYXRlX3RhYmxlXCIpLmZvY3VzKCk7XHJcblx0XHQkKCcuYm9va2luZ0JveF9yYW5nZScpLmNzcyh7XHJcblx0XHRcdGRpc3BsYXk6J2Jsb2NrJ1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGZpbHRlcl9hY3RpdmVfYShlKVxyXG57XHJcblx0dmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0dmFyIGlkX2Y9JCh0aGlzKS5wYXJlbnRzKCcuZmktYScpLmF0dHIoJ2lkJyk7XHJcblx0XHJcblx0JC5jb29raWUoXCJzdV83ZnRhXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuICAgIENvb2tpZUxpc3QoXCJzdV83ZnRhXCIraXUsIGlkX2YsJ2FkZCcpO1x0XHJcblx0bG9jYXRpb24uaHJlZj0kKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxufVxyXG4vKipcclxu0LLRi9Cx0YDQsNGC0Ywg0LHRi9GB0YLRgNGL0LUg0YTQuNC70YzRgtGA0Ysg0LIg0LfQsNC00LDRh9Cw0YVcclxuICoqL1xyXG5mdW5jdGlvbiBmaWx0ZXJfYWN0aXZlKClcclxuXHR7XHJcblx0XHR2YXIgYWN0aXZlX25ldz0kKHRoaXMpLmZpbmQoJy5jaG9pY2UtcmFkaW8gaScpO1xyXG5cdFx0dmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHRcdFxyXG5cdFx0aWYoIWFjdGl2ZV9uZXcuaXMoJy5hY3RpdmVfdGFza19jYicpKVxyXG5cdFx0e1xyXG5cdFx0XHQvL9CU0LXQu9Cw0LXQvCDQtdCz0L4g0LDQutGC0LjQstC90YvQvFxyXG5cdFx0XHQkKCcuanMtaDEtZmlsdGVyJykuZmluZCgnLmNob2ljZS1yYWRpbyBpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRcdGFjdGl2ZV9uZXcuYWRkQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRcdC8v0LfQsNC90L7RgdC40Lwg0LIgY29va2llXHJcblx0XHRcdCQuY29va2llKFwic3VfN3RhXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuICAgICAgICAgICAgQ29va2llTGlzdChcInN1Xzd0YVwiK2l1LCQodGhpcykuZmluZCgnLmNob2ljZS1yYWRpbyBpbnB1dCcpLnZhbCgpLCdhZGQnKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmKCQodGhpcykuZmluZCgnLmNob2ljZS1yYWRpbyBpbnB1dCcpLnZhbCgpPT0yKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0JCgnLmZpbHRlci13b2lzJykuYWRkQ2xhc3MoXCJhY3RpdmUtZmlsdGVyLXNcIik7IFxyXG5cdFx0XHRcdFx0ICQoJy5qcy1wbHVzLWZpbHRlcicpLnJlbW92ZUNsYXNzKFwiYWN0aXZlLWZpbHRlci1zXCIpOyAkKCcuanMtcGx1cy1maWx0ZXInKS5hZGRDbGFzcyhcIm5vLWFjdGl2ZVwiKTsgXHJcblx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdCAgICAkKCcuZmlsdGVyLXdvaXMnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZS1maWx0ZXItc1wiKTsgXHJcblx0XHRcdFx0XHQgICAgJCgnLmpzLXBsdXMtZmlsdGVyJykuYWRkQ2xhc3MoXCJhY3RpdmUtZmlsdGVyLXNcIik7ICQoJy5qcy1wbHVzLWZpbHRlcicpLnJlbW92ZUNsYXNzKFwibm8tYWN0aXZlXCIpOyBcclxuXHRcdFx0XHRcdFx0JCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxuXHJcbi8qKlxyXG4g0LLRi9Cx0YDQsNGC0Ywg0LHRi9GB0YLRgNGL0LUg0YTQuNC70YzRgtGA0Ysg0LIg0YLRg9GA0LDRhVxyXG4gKiovXHJcbmZ1bmN0aW9uIGZpbHRlcl9hY3RpdmVfdHVycygpXHJcbntcclxuXHR2YXIgYWN0aXZlX25ldz0kKHRoaXMpLmZpbmQoJy5jaG9pY2UtcmFkaW8gaScpO1xyXG5cdHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblxyXG5cdGlmKCFhY3RpdmVfbmV3LmlzKCcuYWN0aXZlX3Rhc2tfY2InKSlcclxuXHR7XHJcblx0XHQvL9CU0LXQu9Cw0LXQvCDQtdCz0L4g0LDQutGC0LjQstC90YvQvFxyXG5cdFx0JCgnLmpzLWgxLWZpbHRlci10dXJzJykuZmluZCgnLmNob2ljZS1yYWRpbyBpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRhY3RpdmVfbmV3LmFkZENsYXNzKCdhY3RpdmVfdGFza19jYicpO1xyXG5cdFx0Ly/Qt9Cw0L3QvtGB0LjQvCDQsiBjb29raWVcclxuXHRcdCQuY29va2llKFwic3VfN3R1XCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRcdENvb2tpZUxpc3QoXCJzdV83dHVcIitpdSwkKHRoaXMpLmZpbmQoJy5jaG9pY2UtcmFkaW8gaW5wdXQnKS52YWwoKSwnYWRkJyk7XHJcblxyXG5cdFx0aWYoJCh0aGlzKS5maW5kKCcuY2hvaWNlLXJhZGlvIGlucHV0JykudmFsKCk9PTIpXHJcblx0XHR7XHJcblxyXG5cdFx0XHQkKCcuZmlsdGVyLXdvaXMnKS5hZGRDbGFzcyhcImFjdGl2ZS1maWx0ZXItc1wiKTtcclxuXHRcdFx0JCgnLmpzLXBsdXMtZmlsdGVyJykucmVtb3ZlQ2xhc3MoXCJhY3RpdmUtZmlsdGVyLXNcIik7ICQoJy5qcy1wbHVzLWZpbHRlcicpLmFkZENsYXNzKFwibm8tYWN0aXZlXCIpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblxyXG5cdFx0XHQkKCcuZmlsdGVyLXdvaXMnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZS1maWx0ZXItc1wiKTtcclxuXHRcdFx0JCgnLmpzLXBsdXMtZmlsdGVyJykuYWRkQ2xhc3MoXCJhY3RpdmUtZmlsdGVyLXNcIik7ICQoJy5qcy1wbHVzLWZpbHRlcicpLnJlbW92ZUNsYXNzKFwibm8tYWN0aXZlXCIpO1xyXG5cdFx0XHQkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0fVxyXG59XHJcblxyXG5cclxuLy/QsdGL0YHRgtGA0YvQuSDQv9C+0LjRgdC6INC60LvQuNC10L3RgtCwINC+0YLQutGA0YvRgtC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L3QsNC50LTQtdC90L3QvtC8XHJcbmZ1bmN0aW9uIGNob2ljZV91c2VyX3Rhc2sxX3VtYSh0YWJzLGlkX2xpc3QpXHJcbntcclxuXHRcdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7IC8vIMOuw7HDssOgw63DoMOiw6vDqMOiw6DDpcOsIMOiw7vDp8Ouw6Igw7TDs8Otw6rDtsOow6ggw7fDpcOww6XDpyDDqsOgw6bDpMOzw74gw7HDpcOqw7PDrcOkXHJcblx0JC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHRpZih0YWJzPT0yKVxyXG5cdCAgIHtcclxuXHQgICBcdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9kb2Nfb3JnLnBocD9pZD0nK2lkX2xpc3QrJyZ0YWJzPTAnLFxyXG5cdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0XHRcdFx0XHRcclxuICAgIH0sXHJcbiAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0VG9vbFRpcCgpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxuXHQgICB9IGVsc2VcclxuXHRcdCAgIHtcclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZG9jX3VzZXIucGhwP2lkPScraWRfbGlzdCsnJnRhYnM9MCcsXHJcblx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRUb29sVGlwKCk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1x0XHQgICBcclxuXHRcdCAgIH1cclxufVxyXG5cclxuXHJcblxyXG4vKlx0XHJcblxyXG52YXIgc2VhcmNoX2lucHV0Ml9zZWFyY2hfYz0kKCcuanMtY2hvaWNlLWtleXVwJyk7XHJcblx0XHJcblx0XHJcbnNlYXJjaF9pbnB1dDJfc2VhcmNoX2Mua2V5dXAoZnVuY3Rpb24oKSB7XHJcblx0Ly/QvtCx0L3Rg9C70Y/QtdC8INCy0YvQsdC+0YBcclxuXHRcdFx0XHRcclxuICAgIGRlbGF5cyhmdW5jdGlvbigpe1xyXG5cdFx0XHJcblx0XHRpZigoalF1ZXJ5LnRyaW0oc2VhcmNoX2lucHV0Ml9zZWFyY2hfYy52YWwoKS5sZW5ndGgpID49IHNlYXJjaF9taW4yX3NlYXJjaF9jKXx8KGpRdWVyeS50cmltKHNlYXJjaF9pbnB1dDJfc2VhcmNoX2MudmFsKCkubGVuZ3RoKT09MCkpXHJcblx0XHR7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdmFsMT0gJCgnLmpzLXRhYnMtbWVudS1jaG9pY2hlJykuZmluZCgnLmFjdGl2ZScpLmF0dHIoJ2lkJyk7XHJcblx0XHRcdFxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZitcclxuXHRcdFx0XHRcdCcmYWxsPScrJCgnLmpzLWVzaGUtY2xpZW50LXgnKS5hdHRyKFwiYWxsXCIpK1xyXG5cdFx0XHRcdFx0JyZzZWFyY2g9JytlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoX2lucHV0Ml9zZWFyY2hfYy52YWwoKSkrXHJcblx0XHRcdFx0JyZ0YWJzPScrdmFsMTtcdFxyXG5cdFx0XHQkKCcuanMtaWNvbi1sb2FkJykuaGlkZSgpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6LTIwcHg7IHBvc2l0aW9uOnJlbGF0aXZlOyB0b3A6IDBweDsgcmlnaHQ6IDBweDsgcGFkZGluZy10b3A6MHB4O1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICBBamF4Q2xpZW50KCdjbGllbnRzJywnc2VhcmNoX2NsaWVudF90b3VycycsJ0dFVCcsZGF0YSwnQWZ0ZXJTZWFyY2hDbGllbnRUJywxLDApO1x0XHRcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0XHJcbiAgICB9LCBzZWFyY2hfZGVsZXkyX3NlYXJjaF9jKTtcclxufSk7XHRcdFxyXG5cdCovXHJcblxyXG4vL9C40LfQvNC10L3QuNGC0Ywg0LIg0L/QvtC70LUg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0Lgg0LLRi9Cx0L7RgNC1INCyINGB0L/QuNGB0LrQtVxyXG5mdW5jdGlvbiB1cGRhdGVfZWRpdF9pbnB1dF9laWNvKClcclxue1xyXG5cdHZhciB0ZT0kKHRoaXMpLnBhcmVudHMoJy5zZWxlY3QnKS5maW5kKCdhLnNsY3QnKS50ZXh0KCk7XHJcblx0Ly9hbGVydCh0ZSk7XHJcblx0JCh0aGlzKS5wYXJlbnRzKCcuanMtZWRpdC1pbnB1dC1saXN0JykuZmluZCgnLmVkaXQtcG9sZS1laWNvIGlucHV0JykudmFsKHRlKTtcclxufVxyXG5cclxuXHJcbi8v0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0LLRi9C00LDQtNCw0Y7RidC40Lkg0YHQv9C40YHQvtC6IFxyXG5mdW5jdGlvbiBlZGl0X2VpY29fbGlzdCgpXHJcbntcclxuXHQkKHRoaXMpLnBhcmVudHMoJy5qcy1lZGl0LWlucHV0LWxpc3QnKS5yZW1vdmVDbGFzcygnbm8tYWN0aXZlLWVkaXQtMjAnKTtcclxuXHR2YXIgdHllPSQodGhpcykucGFyZW50cygnLmpzLWVkaXQtaW5wdXQtbGlzdCcpLmZpbmQoJy5lZGl0LXBvbGUtZWljbyBpbnB1dCcpLnZhbCgpO1xyXG5cdCQodGhpcykucGFyZW50cygnLmpzLWVkaXQtaW5wdXQtbGlzdCcpLmZpbmQoJy5lZGl0LXBvbGUtZWljbyBpbnB1dCcpLnZhbCgnJykuZm9jdXMoKS52YWwodHllKTtcclxuXHRcclxufVxyXG5cclxuXHJcbi8v0Y8g0LbQtNGDINC90LAg0LHQtdGA0YPRgdGMINC30LAg0Y3RgtGDINC30LDQtNCw0YfRg1xyXG5mdW5jdGlvbiBjaG9pY2VfdGFza195b3UoKVxyXG57XHJcblxyXG5cdHZhciBpX2M9JCh0aGlzKS5maW5kKCdpJyk7XHJcblx0dmFyIGNiX2g9JCh0aGlzKS5maW5kKCdpbnB1dCcpLnZhbCgpO1xyXG5cdFxyXG5cdGlmKCQodGhpcykucGFyZW50cygnLnRhc2tfY2xvY2tfc2VsZWN0aW9uJykubGVuZ3RoID4gMClcclxuXHRcdHtcclxuXHRcclxuXHR2YXIgaWRfdGFzaz0kKHRoaXMpLnBhcmVudHMoJy50YXNrX2Nsb2NrX3NlbGVjdGlvbicpLmF0dHIoJ2lkX3Rhc2snKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR7XHJcblx0XHR2YXIgaWRfdGFzaz0kKHRoaXMpLnBhcmVudHMoJy50YXNrX2Jsb2NrX2dsb2JhbCcpLmF0dHIoJ2lkX3Rhc2snKTtcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFxyXG5cdGlmKGlfYy5pcygnOnZpc2libGUnKSkgXHJcblx0ICAge1xyXG5cdFxyXG5cdGlmKChjYl9oPT0wKSYmKCFpX2MuaXMoJy5hY3RpdmVfdGFza19jYicpKSlcclxuXHRcdHtcclxuXHRcdFx0ICAkKHRoaXMpLmZpbmQoJ2lucHV0JykudmFsKDEpO1xyXG5cdFx0XHQgICQodGhpcykuZmluZCgnLmNob2ljZS1yYWRpbyBpJykuYWRkQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRcdCAgJCh0aGlzKS5maW5kKCcuY2hvaWNlLWhlYWQnKS5lbXB0eSgpLmFwcGVuZCgn0JLRiyDQstC30Y/Qu9C40YHRjCDQt9CwINCy0YvQv9C+0LvQvdC10L3QuNC1Jyk7XHJcblx0XHRcdCBcclxuXHRcdFx0XHJcblx0XHRcdC8v0L7RgtC/0YDQsNCy0LvRj9C10Lwg0L3QsCDRgdC10YDQstC10YBcclxuXHRcdFx0dmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJmlkPScraWRfdGFzaysnJmNob2ljZT0xJztcdFx0XHRcclxuXHQgICAgICAgIEFqYXhDbGllbnQoJ3Rhc2snLCd0YXNrX215X3Rhc2snLCdHRVQnLGRhdGEsJ0FmdGVyTXlUYXNrJyxpZF90YXNrLDApO1xyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0ICAkKHRoaXMpLmZpbmQoJ2lucHV0JykudmFsKDApO1xyXG5cdFx0XHQgICQodGhpcykuZmluZCgnLmNob2ljZS1yYWRpbyBpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdCAgXHRcdFx0Ly/QvtGC0L/RgNCw0LLQu9GP0LXQvCDQvdCwINGB0LXRgNCy0LXRgFxyXG5cdFx0XHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZF90YXNrKycmY2hvaWNlPTAnO1x0XHRcdFxyXG5cdCAgICAgICAgQWpheENsaWVudCgndGFzaycsJ3Rhc2tfbXlfdGFzaycsJ0dFVCcsZGF0YSwnQWZ0ZXJNeVRhc2snLGlkX3Rhc2ssMCk7XHJcblx0XHRcdFx0JCh0aGlzKS5maW5kKCcuY2hvaWNlLWhlYWQnKS5lbXB0eSgpLmFwcGVuZCgn0JfQsNCx0YDQsNGC0Ywg0LfQsNC00LDRh9GDINC90LAg0YHQtdCx0Y8nKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0ICBcclxuXHRcdFx0fVxyXG59XHJcbn1cclxuXHJcbi8v0LXQttC10LzQtdGB0Y/Rh9C90YvQuSDQv9C70LDRgtC10LZcclxuZnVuY3Rpb24gY2hvaWNlX2J1eV95b3UoKVxyXG57XHJcblxyXG5cdHZhciBpX2M9JCh0aGlzKS5maW5kKCdpJyk7XHJcblx0dmFyIGNiX2g9JCh0aGlzKS5maW5kKCdpbnB1dCcpLnZhbCgpO1xyXG5cclxuXHJcblx0XHR2YXIgaWRfdGFzaz0kKHRoaXMpLnBhcmVudHMoJy5idXlfYmxvY2tfZ2xvYmFsJykuYXR0cignaWRfYnV5Jyk7XHJcblxyXG5cclxuXHRpZihpX2MuaXMoJzp2aXNpYmxlJykpXHJcblx0e1xyXG5cclxuXHRcdGlmKChjYl9oPT0wKSYmKCFpX2MuaXMoJy5hY3RpdmVfdGFza19jYicpKSlcclxuXHRcdHtcclxuXHRcdFx0JCh0aGlzKS5maW5kKCdpbnB1dCcpLnZhbCgxKTtcclxuXHRcdFx0JCh0aGlzKS5maW5kKCcuY2hvaWNlLXJhZGlvIGknKS5hZGRDbGFzcygnYWN0aXZlX3Rhc2tfY2InKTtcclxuXHRcdFx0Ly8kKHRoaXMpLmZpbmQoJy5jaG9pY2UtaGVhZCcpLmVtcHR5KCkuYXBwZW5kKCfQktGLINCy0LfRj9C70LjRgdGMINC30LAg0LLRi9C/0L7Qu9C90LXQvdC40LUnKTtcclxuXHJcblxyXG5cdFx0XHQvL9C+0YLQv9GA0LDQstC70Y/QtdC8INC90LAg0YHQtdGA0LLQtdGAXHJcblx0XHRcdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2lkX3Rhc2srJyZjaG9pY2U9MSc7XHJcblx0XHRcdEFqYXhDbGllbnQoJ2ZpbmFuY2UnLCdjb25zdGFudCcsJ0dFVCcsZGF0YSwnQWZ0ZXJDb25zdEJ1eScsaWRfdGFzaywwLDEpO1xyXG5cclxuXHJcblxyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHRcdCQodGhpcykuZmluZCgnaW5wdXQnKS52YWwoMCk7XHJcblx0XHRcdCQodGhpcykuZmluZCgnLmNob2ljZS1yYWRpbyBpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblxyXG5cdFx0XHQvL9C+0YLQv9GA0LDQstC70Y/QtdC8INC90LAg0YHQtdGA0LLQtdGAXHJcblx0XHRcdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2lkX3Rhc2srJyZjaG9pY2U9MCc7XHJcblx0XHRcdEFqYXhDbGllbnQoJ2ZpbmFuY2UnLCdjb25zdGFudCcsJ0dFVCcsZGF0YSwnQWZ0ZXJDb25zdEJ1eScsaWRfdGFzaywwLDEpO1xyXG5cdFx0XHQvLyQodGhpcykuZmluZCgnLmNob2ljZS1oZWFkJykuZW1wdHkoKS5hcHBlbmQoJ9CX0LDQsdGA0LDRgtGMINC30LDQtNCw0YfRgyDQvdCwINGB0LXQsdGPJyk7XHJcblxyXG5cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9C/0L7RgdC70LUg0YHQstGP0LfQuCDRgSDQutC70LjQtdC90YLQvtC8INC30LDQtNCw0YfQuFxyXG5mdW5jdGlvbiBjaG9pY2VfdXNlcl90YXNrX3VtYSh0YWJzLGlkX2xpc3QpXHJcbntcclxuXHRcclxuXHRcclxuXHQkKCcuanMtaWQtY2xpZW50LXRhc2snKS52YWwoaWRfbGlzdCk7XHJcblx0JCgnLmpzLWNsaWVudC10eXBlLXRhc2snKS52YWwodGFicyk7XHJcblx0JCgnLmpzLXN2LXVzZXItdGFzayBzcGFuJykuZW1wdHkoKS5hcHBlbmQoJCgnLm5uYW1lX2Nob2ljZVtpZF9jaD0nK2lkX2xpc3QrJ10nKS5maW5kKCcudGl0JykudGV4dCgpKTtcclxuXHRcclxuXHQkKCcuanMtc3YtdXNlci10YXNrJykuc2hvdygpO1x0XHJcblx0XHJcblx0JCggJy5hcmN0aWNtb2RhbC1jbG9zZScsICQoJy5qcy1zX2Zvcm1feHgnKS5jbG9zZXN0KCAnLmJveC1tb2RhbCcgKSkuY2xpY2soKTtcclxufVxyXG5cclxuXHJcbi8v0LTQvtCx0LDQstC70LXQvdC40LUg0LIg0YTQvtGA0LzRgyDRgtC+INGH0YLQviDQsdGL0LvQviDQstGL0LHRgNCw0L3QvlxyXG5mdW5jdGlvbiBjaG9pY2VfYWZ0ZXJfZW5kX3VtYSh0YWJzLGlkX2xpc3QpXHJcbntcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpOyAvLyDDrsOxw7LDoMOtw6DDosOrw6jDosOgw6XDrCDDosO7w6fDrsOiIMO0w7PDrcOqw7bDqMOoIMO3w6XDsMOlw6cgw6rDoMOmw6TDs8O+IMOxw6XDqsOzw63DpFxyXG5cdCQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblx0XHJcblx0XHJcblx0JCgnLmpzLWJ1eS10dXJzLWNsaWVudCcpLnBhcmVudHMoJy5idXlfdHVycycpLmhpZGUoKTtcclxuXHRcclxuXHQkKCcuanMtYnV5LXR1cnMtY2xpZW50JykucGFyZW50cygnLmJ1eV90dXJzJykuYmVmb3JlKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cdFxyXG5cdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZ0eXBlPTEnKycmdGFicz0nK3RhYnMrJyZpZF90YWJzPScraWRfbGlzdCsnJnRrPScrJCgnLmgxMTEnKS5hdHRyKCdtb3InKSsnJmlkPScrJCgnLmgxMTEnKS5hdHRyKCdmb3InKTtcclxuICAgIFxyXG5cdEFqYXhDbGllbnQoJ3RvdXJzJywnY2FyZF9jbGllbnQnLCdHRVQnLGRhdGEsJ0FmdGVyQ2FyZENsaWVudCcsMSwwKTtcdFx0XHJcblx0XHJcblx0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNob2ljZV9hZnRlcl9lbmRfZmx5X3VtYSh0YWJzLGlkX2xpc3QpXHJcbntcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpOyAvLyDDrsOxw7LDoMOtw6DDosOrw6jDosOgw6XDrCDDosO7w6fDrsOiIMO0w7PDrcOqw7bDqMOoIMO3w6XDsMOlw6cgw6rDoMOmw6TDs8O+IMOxw6XDqsOzw63DpFxyXG5cdCQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblx0XHJcblx0Ly9hbGVydChpZF9saXN0KTtcclxuXHRcclxuXHQkKCcuanMtZmx5LXR1cnMtY2xpZW50JykucGFyZW50cygnLmJ1eV90dXJzJykuaGlkZSgpO1xyXG5cdFxyXG5cdCQoJy5qcy1mbHktdHVycy1jbGllbnQnKS5wYXJlbnRzKCcuYnV5X3R1cnMnKS5iZWZvcmUoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlO1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblx0XHJcblx0dmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJnR5cGU9MicrJyZ0YWJzPScrdGFicysnJmlkX3RhYnM9JytpZF9saXN0KycmdGs9JyskKCcuaDExMScpLmF0dHIoJ21vcicpKycmaWQ9JyskKCcuaDExMScpLmF0dHIoJ2ZvcicpO1xyXG4gICAgXHJcblx0QWpheENsaWVudCgndG91cnMnLCdjYXJkX2NsaWVudCcsJ0dFVCcsZGF0YSwnQWZ0ZXJDYXJkQ2xpZW50JywyLDApO1x0XHRcclxuXHRcclxuXHRcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8v0L7QutC+0L3Rh9Cw0L3QuNC1INCy0YvQsdC+0YDQsCDQsiDQvtC60L3QtSDQstGL0LHQvtGA0LAg0LrQu9C40LXQvdGC0LAg0L3QsNC20LDRgtC40LUg0LLRi9Cx0YDQsNGC0YxcclxuZnVuY3Rpb24gY2hvaWNlX2NsaWVudF9lbmQoKVxyXG57XHJcblx0dmFyIGNob2ljZV9pZD0kKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG5cdHZhciBjaG9pY2VfdGFicz0kKHRoaXMpLmF0dHIoJ3RhYnMnKTtcclxuXHRpZihjaG9pY2VfaWQ9PTApXHJcblx0e1xyXG5cdFx0XHR2YXIgdGV4dF9iYjIyID0gJCgnLmpzLWNob2ljZS15eXknKS5maW5kKCdpJykudGV4dCgpO1xyXG5cdFx0XHQkKCcuanMtY2hvaWNlLXl5eScpLmZpbmQoJ2knKS5lbXB0eSgpLmFwcGVuZCgn0J7RiNC40LHQutCwIScpO1xyXG5cdFx0XHQkKCcuanMtY2hvaWNlLXl5eScpLmFkZENsYXNzKCduZXctem5heTEnKTtcclxuXHRcdFx0c2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgJCgnLmpzLWNob2ljZS15eXknKS5yZW1vdmVDbGFzcygnbmV3LXpuYXkxJyk7ICQoJy5qcy1jaG9pY2UteXl5JykuZmluZCgnaScpLmVtcHR5KCkuYXBwZW5kKHRleHRfYmIyMik7ICB9LCA0MDAwICk7XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0dmFyIGZ1bj0gJCgnW25hbWU9cG9zdGFdJykudmFsKCk7XHJcbiAgICAgICAgJC5nbG9iYWxFdmFsKGZ1bisnX3VtYSgnK2Nob2ljZV90YWJzKycsXFwnJytjaG9pY2VfaWQrJ1xcJyknKTtcdFxyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy/Rg9C00LDQu9C40YLRjCDQuNC3INCy0YvQsdGA0LDQvdC90L7Qs9C+INCyINC+0LrQvdC1INC/0YDQuCDQstGL0LHQvtGA0LUg0LrQu9C40LXQvdGC0LBcclxuZnVuY3Rpb24gcnJ1YmVfY2hvaWNlKClcclxue1xyXG5cdHZhciBkZWxfcmVsPSQodGhpcykucGFyZW50cygnLm5uYW1lX2Nob2ljZScpLmF0dHIoJ2lkX2NoJyk7XHJcblx0JCh0aGlzKS5wYXJlbnRzKCcubm5hbWVfY2hvaWNlJykucmVtb3ZlKCk7XHJcblx0JCgnLmxpc3RfY2xpZW50X2Nob2ljZVtyZWxfbm90aWI9JytkZWxfcmVsKyddJykucmVtb3ZlQ2xhc3MoJ3llc3NzLWNoJyk7XHJcblx0XHJcblx0XHRcdFx0XHR2YXIgbmV3X2Nob2ljZT0nJztcclxuXHRcdFx0XHR2YXIgbm9fY2hvaWNlPWRlbF9yZWw7XHJcblx0XHRcdFx0dmFyIGFhYWEgPSAkKCcuanMtY2hvaWNlLXl5eScpLmF0dHIoJ2lkX3JlbCcpLnNwbGl0KCcsJyk7XHJcblxyXG5cdFx0XHRcdHZhciBpc19jPTA7XHJcblx0XHQgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgYWFhYS5sZW5ndGg7IHQrKykgXHJcblx0XHQgICAgICAgIHsgXHJcblx0XHRcdFx0XHRpZihhYWFhW3RdIT1ub19jaG9pY2UpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmKGlzX2M9PTApIHsgbmV3X2Nob2ljZT1hYWFhW3RdOyAgfSBlbHNlIHsgbmV3X2Nob2ljZT1uZXdfY2hvaWNlKycsJythYWFhW3RdOyB9XHJcblx0XHRcdFx0XHRcdGlzX2MrKztcdFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZihuZXdfY2hvaWNlPT0nJylcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkKCcuanMtY2hvaWNlLXl5eScpLnJlbW92ZUNsYXNzKCd5ZXNfY2hvaWNlX2NsaWVudCcpO1xyXG5cdCAgICAgICAgICAgICAgICAkKCcuanMtY2hvaWNlLXl5eScpLmF0dHIoJ2lkX3JlbCcsMCk7XHRcclxuXHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkKCcuanMtY2hvaWNlLXl5eScpLmF0dHIoJ2lkX3JlbCcsbmV3X2Nob2ljZSk7XHRcclxuXHRcdFx0XHR9XHJcblx0XHJcbn1cclxuXHJcblxyXG4vL9C60LvQuNC6INC90LAg0LrQu9C40LXQvdGC0LUg0L/RgNC4INCy0YvQsdC+0YDQtSDQutC70LjQtdC90YLQsCDQsiDRgdC/0LjRgdC60LVcclxuZnVuY3Rpb24gY2xpY2tfY2xpZW50X2Nob2ljZSgpXHJcbntcclxuXHR2YXIgc2V2ZXJhbCA9ICQoJ1tuYW1lPXNldmVyYWxfY2hvaWNlXScpLnZhbCgpO1xyXG5cdGlmKCQodGhpcykuaXMoJy55ZXNzcy1jaCcpKVxyXG5cdFx0e1xyXG5cdFx0XHQvL9GD0LbQtSDQstGL0LTQtdC70LXQvVxyXG5cdFx0XHQvL9C+0YLQvNC10L3Rj9C10Lwg0LLRi9C00LXQu9C10L3QuNC1XHJcblx0XHRcdGlmKHNldmVyYWw9PTApXHJcblx0XHR7XHJcblx0XHRcdC8v0LLRi9Cx0L7RgCDRgtC+0LvRjNC60L4g0L7QtNC90L7Qs9C+INCy0L7Qt9C80L7QttC90L7Qs9C+XHJcblx0JCh0aGlzKS5yZW1vdmVDbGFzcygneWVzc3MtY2gnKTtcclxuXHQkKCcuanMtY2hvaWNlLXl5eScpLnJlbW92ZUNsYXNzKCd5ZXNfY2hvaWNlX2NsaWVudCcpO1xyXG5cdCQoJy5qcy1jaG9pY2UteXl5JykuYXR0cignaWRfcmVsJywwKTtcclxuXHRcdFx0XHJcblx0JCgnLmxpc3RfY2hvaWNlX3llcycpLmVtcHR5KCk7XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3llc3NzLWNoJyk7XHJcblx0XHRcdFx0dmFyIG5ld19jaG9pY2U9Jyc7XHJcblx0XHRcdFx0dmFyIG5vX2Nob2ljZT0kKHRoaXMpLmF0dHIoJ3JlbF9ub3RpYicpO1xyXG5cdFx0XHRcdHZhciBhYWFhID0gJCgnLmpzLWNob2ljZS15eXknKS5hdHRyKCdpZF9yZWwnKS5zcGxpdCgnLCcpO1xyXG5cclxuXHRcdFx0XHR2YXIgaXNfYz0wO1xyXG5cdFx0ICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IGFhYWEubGVuZ3RoOyB0KyspIFxyXG5cdFx0ICAgICAgICB7IFxyXG5cdFx0XHRcdFx0aWYoYWFhYVt0XSE9bm9fY2hvaWNlKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZihpc19jPT0wKSB7IG5ld19jaG9pY2U9YWFhYVt0XTsgIH0gZWxzZSB7IG5ld19jaG9pY2U9bmV3X2Nob2ljZSsnLCcrYWFhYVt0XTsgfVxyXG5cdFx0XHRcdFx0XHRpc19jKys7XHRcclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQkKCcubGlzdF9jaG9pY2VfeWVzJykuZmluZCgnW2lkX2NoPScrbm9fY2hvaWNlKyddJykucmVtb3ZlKCk7XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYobmV3X2Nob2ljZT09JycpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JCgnLmpzLWNob2ljZS15eXknKS5yZW1vdmVDbGFzcygneWVzX2Nob2ljZV9jbGllbnQnKTtcclxuXHQgICAgICAgICAgICAgICAgJCgnLmpzLWNob2ljZS15eXknKS5hdHRyKCdpZF9yZWwnLDApO1x0XHJcblx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JCgnLmpzLWNob2ljZS15eXknKS5hdHRyKCdpZF9yZWwnLG5ld19jaG9pY2UpO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHtcclxuXHRpZihzZXZlcmFsPT0wKVxyXG5cdFx0e1xyXG5cdFx0XHQvL9Cy0YvQsdC+0YAg0YLQvtC70YzQutC+INC+0LTQvdC+0LPQviDQstC+0LfQvNC+0LbQvdC+0LPQvlxyXG5cdCQoJy55ZXNzcy1jaCcpLnJlbW92ZUNsYXNzKCd5ZXNzcy1jaCcpO1xyXG5cdHZhciB2YWw9JCh0aGlzKS5hdHRyKCdyZWxfbm90aWInKTtcclxuXHR2YXIgdmFsMT0gJCgnLmpzLXRhYnMtbWVudS1jaG9pY2hlJykuZmluZCgnLmFjdGl2ZScpLmF0dHIoJ2lkJyk7XHJcblx0JCh0aGlzKS5hZGRDbGFzcygneWVzc3MtY2gnKTtcclxuXHQkKCcuanMtY2hvaWNlLXl5eScpLmFkZENsYXNzKCd5ZXNfY2hvaWNlX2NsaWVudCcpO1xyXG5cdCQoJy5qcy1jaG9pY2UteXl5JykuYXR0cignaWRfcmVsJyx2YWwpO1xyXG5cdCQoJy5qcy1jaG9pY2UteXl5JykuYXR0cigndGFicycsdmFsMSk7XHJcblx0XHRcdFxyXG5cdCQoJy5saXN0X2Nob2ljZV95ZXMnKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm5uYW1lX2Nob2ljZVwiIGlkX2NoPVwiJyt2YWwrJ1wiPjxzcGFuIGNsYXNzPVwidGl0XCI+JyskKHRoaXMpLmZpbmQoJy5oX2NiIHNwYW4nKS50ZXh0KCkrJzwvc3Bhbj48c3BhbiBjbGFzcz1cInJydWJlX2Nob2ljZVwiPjwvc3Bhbj48L2Rpdj4nKTtcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHQvL9C80L7QttC90L4g0LLRi9Cx0YDQsNGC0Ywg0L3QtdGB0LrQvtC70YzQutC+IFx0XHJcblx0dmFyIHZhbD0kKHRoaXMpLmF0dHIoJ3JlbF9ub3RpYicpO1xyXG5cdHZhciB2YWwxPSAkKCcuanMtdGFicy1tZW51LWNob2ljaGUnKS5maW5kKCcuYWN0aXZlJykuYXR0cignaWQnKTtcclxuXHQkKHRoaXMpLmFkZENsYXNzKCd5ZXNzcy1jaCcpO1xyXG5cdCQoJy5qcy1jaG9pY2UteXl5JykucmVtb3ZlQ2xhc3MoJ3llc19jaG9pY2VfY2xpZW50JykuYWRkQ2xhc3MoJ3llc19jaG9pY2VfY2xpZW50Jyk7XHJcblx0JCgnLmpzLWNob2ljZS15eXknKS5hdHRyKCd0YWJzJyx2YWwxKTtcclxuXHRcdFx0XHJcblx0dmFyIGlkX3JyPSQoJy5qcy1jaG9pY2UteXl5JykuYXR0cignaWRfcmVsJyk7XHJcblx0XHRpZihpZF9ycj09MClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdC8v0L/QtdGA0LLRi9C5INCy0YvQsdC+0YBcclxuXHQkKCcuanMtY2hvaWNlLXl5eScpLmF0dHIoJ2lkX3JlbCcsdmFsKTtcclxuXHRcdCQoJy5saXN0X2Nob2ljZV95ZXMnKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm5uYW1lX2Nob2ljZVwiIGlkX2NoPVwiJyt2YWwrJ1wiPjxzcGFuIGNsYXNzPVwidGl0XCI+JyskKHRoaXMpLmZpbmQoJy5oX2NiIHNwYW4nKS50ZXh0KCkrJzwvc3Bhbj48c3BhbiBjbGFzcz1cInJydWJlX2Nob2ljZVwiPjwvc3Bhbj48L2Rpdj4nKTtcdFx0XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdC8v0LLRgtC+0YDQvtC5INC4INC/0L7RgdC70LXQtNGD0Y7RidC40Lkg0LLRi9Cx0L7RgFxyXG5cdFx0XHRcdFx0JCgnLmpzLWNob2ljZS15eXknKS5hdHRyKCdpZF9yZWwnLGlkX3JyKycsJyt2YWwpO1xyXG5cdFx0XHRcdFx0JCgnLmxpc3RfY2hvaWNlX3llcycpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm5uYW1lX2Nob2ljZVwiIGlkX2NoPVwiJyt2YWwrJ1wiPjxzcGFuIGNsYXNzPVwidGl0XCI+JyskKHRoaXMpLmZpbmQoJy5oX2NiIHNwYW4nKS50ZXh0KCkrJzwvc3Bhbj48c3BhbiBjbGFzcz1cInJydWJlX2Nob2ljZVwiPjwvc3Bhbj48L2Rpdj4nKTtcdFx0XHJcblx0XHRcdFx0fVxyXG5cdFxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHRcdFx0fVxyXG59XHJcblxyXG5cclxuLy/QstGL0LHQvtGAINC/0L7QutGD0L/QsNGC0LXQu9GPINGC0YPRgNCwXHJcbmZ1bmN0aW9uIGpzX2J1eV90dXJzX2NsaWVudCgpXHJcbntcdFxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9jaG9pY2VfY2xpZW50LnBocD90YWJzPTEmc2V2ZXJhbD0wJnBvc3RhPWNob2ljZV9hZnRlcl9lbmQnLFxyXG5cdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1x0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFRvb2xUaXAoKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuICB9KTtcdFx0XHJcbn1cclxuXHJcblxyXG4vL9Cy0YvQsdC+0YAg0YLRg9GA0LjRgdGC0LAg0LIg0YLRg9GAXHJcbmZ1bmN0aW9uIGpzX2ZseV90dXJzX2NsaWVudCgpXHJcbntcdFxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9jaG9pY2VfY2xpZW50LnBocD90YWJzPTQmdGFic3M9MCZzZXZlcmFsPTEmcG9zdGE9Y2hvaWNlX2FmdGVyX2VuZF9mbHknLFxyXG5cdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1x0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFRvb2xUaXAoKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuICB9KTtcdFx0XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8v0YTRg9C90LrRhtC40Y8g0L7QsdC90L7QstC70LXQvdC40LUg0YbQuNGE0YAg0YLRg9GA0LjRgdGC0L7QsiDQv9GA0Lgg0L7RhNC+0YDQvNC70LXQvdC40Lgg0LTQvtCz0L7QstC+0YDQsFxyXG5mdW5jdGlvbiBVcGRhdGVOdW1iZXJUdXJpcygpXHJcbntcclxuXHR2YXIgbnVtYmVyX3Nzcj0xO1xyXG5cdCQoJy5hY3RpdmUtdHVyaXN0LXR1cnMnKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdCQodGhpcykuZmluZCgnLnNwYW4tNDQnKS5lbXB0eSgpLmFwcGVuZChudW1iZXJfc3NyKTtcclxuXHRudW1iZXJfc3NyKys7XHJcbn0pO1xyXG59XHJcblxyXG5cclxuLy/Qu9C10YLQuNGCINC40LvQuCDRgtC+0LvRjNC60L4g0L/QvtC60YPQv9Cw0LXRglxyXG5mdW5jdGlvbiBsb2xpX2J1dHQoKVxyXG57XHJcblx0dmFyIGNiX2g9JCh0aGlzKS5wYXJlbnRzKCcubG9saV90dXJzJykuZmluZCgnaW5wdXQnKTtcclxuXHQvL3ZhciBibG9vPSQodGhpcykucGFyZW50cygnLmluZm8tY2xpZW50LXJ1bGVyJyk7XHJcblx0aWYoY2JfaC52YWwoKT09MClcclxuXHRcdHtcclxuXHRcdFx0ICBjYl9oLnZhbCgxKTtcclxuXHRcdFx0XHJcblx0XHRcdCAgJCh0aGlzKS5maW5kKCcuY2hvaWNlLXJhZGlvIGknKS5hZGRDbGFzcygnYWN0aXZlX3Rhc2tfY2InKTtcclxuXHRcdFx0ICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmVfcGFzcycpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly/QvtC/0YDQtdC00LXQu9GP0LXQvCDQutCw0LrQvtC5IGlkINGD0LTQsNC70LjRgtGMXHJcblx0XHRcdHZhciBpZF9kZWxpID0gJCh0aGlzKS5wYXJlbnRzKCcuaW5mby1jbGllbnQtcnVsZXInKS5hdHRyKCdpZF9ydWxlcycpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly/Rg9C00LDQu9C40YLRjCDQuNC3INGC0YPRgNC40YHRgtC+0LJcclxuXHRcdFx0JCgnLnRvdF9mbHlfaWQnKS52YWwoQWRkRGVsbExpc3QoJCgnLnRvdF9mbHlfaWQnKS52YWwoKSxpZF9kZWxpLCdkZWxsJykpO1xyXG5cdFx0XHQvL9GD0LzQtdC90YzRiNC40YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviDRgtGD0YDQuNGB0YLQvtCyXHJcblx0XHRcdHZhciBjb3VudF90dXJpPXBhcnNlRmxvYXQoJCgnLnRvdF9mbHlfY291bnQnKS52YWwoKSk7XHJcblx0XHRcdGlmKGNvdW50X3R1cmkhPTApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHQkKCcudG90X2ZseV9jb3VudCcpLnZhbChjb3VudF90dXJpLTEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHQkKCcuaW5mby1jbGllbnQtcnVsZXJbaWRfcnVsZXM9JytpZF9kZWxpKyddJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS10dXJpc3QtdHVycycpO1xyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdFVwZGF0ZU51bWJlclR1cmlzKCk7XHJcblx0XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHR9ICBlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0ICBjYl9oLnZhbCgwKTtcclxuXHRcdFx0XHJcblx0XHRcdCAgJCh0aGlzKS5maW5kKCcuY2hvaWNlLXJhZGlvIGknKS5yZW1vdmVDbGFzcygnYWN0aXZlX3Rhc2tfY2InKTtcclxuXHRcdFx0ICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmVfcGFzcycpO1x0XHJcblx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFxyXG5cdFx0XHQvL9C+0L/RgNC10LTQtdC70Y/QtdC8INC60LDQutC+0LkgaWQg0LTQvtCx0LDQstC40YLRjCDQsiDRgtGD0YDQuNGB0YLQvtCyXHJcblx0XHRcdHZhciBpZF9kZWxpID0gJCh0aGlzKS5wYXJlbnRzKCcuaW5mby1jbGllbnQtcnVsZXInKS5hdHRyKCdpZF9ydWxlcycpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly/QtNC+0LHQsNCy0LjRgtGMINCyINGC0YPRgNC40YHRgtC+0LJcclxuXHRcdFx0XHR2YXIgYWRkXzIwMD1BZGREZWxsTGlzdCgkKCcudG90X2ZseV9pZCcpLnZhbCgpLGlkX2RlbGksJ2FkZCcpO1xyXG5cdFx0XHRcdGlmKGFkZF8yMDAhPTApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdCQoJy50b3RfZmx5X2lkJykudmFsKEFkZERlbGxMaXN0KCQoJy50b3RfZmx5X2lkJykudmFsKCksaWRfZGVsaSwnYWRkJykpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL9GD0LLQtdC70LjRh9C40YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviDRgtGD0YDQuNGB0YLQvtCyXHJcblx0XHRcdHZhciBjb3VudF90dXJpPXBhcnNlRmxvYXQoJCgnLnRvdF9mbHlfY291bnQnKS52YWwoKSk7XHJcblx0XHRcdC8qXHJcblx0XHRcdFx0XHRcdGlmKGNvdW50X3R1cmkhPTApXHJcblx0XHRcdFx0eyovXHJcblx0XHRcdCQoJy50b3RfZmx5X2NvdW50JykudmFsKGNvdW50X3R1cmkrMSk7XHJcblx0XHRcdC8vXHR9XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly/QtNC+0LHQsNCy0LjRgtGMINCyINGC0YPRgNC40YHRgtC+0LIg0LrQsNGA0YLQvtGH0LrRgyDQuNC3INC/0L7QutGD0L/QsNGC0LXQu9GPXHJcblx0XHRcdFx0XHQvLyoqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHRcdFx0XHRcdCQoJy5pbmZvLWNsaWVudC1ydWxlcltpZF9ydWxlcz0nK2lkX2RlbGkrJ10nKS5hZGRDbGFzcygnYWN0aXZlLXR1cmlzdC10dXJzJyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0VXBkYXRlTnVtYmVyVHVyaXMoKTtcdFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0fVxyXG59XHJcblxyXG5cclxuLy/QstGL0LHQvtGAINC60LDQutC+0Lkg0L/QsNGB0L/QvtGA0YJcclxuZnVuY3Rpb24gcGFzc3dvcmRfYnV0dCgpXHJcbntcclxuXHR2YXIgY2JfaD0kKHRoaXMpLnBhcmVudHMoJy5wYXNzd29yZF90dXJzJykuZmluZCgnaW5wdXQnKTtcclxuXHRpZihjYl9oLnZhbCgpIT0kKHRoaXMpLmF0dHIoJ2lkJykpXHJcblx0XHR7XHJcblx0XHRcdCAgY2JfaC52YWwoJCh0aGlzKS5hdHRyKCdpZCcpKTtcclxuXHRcdFx0ICBcclxuXHRcdFx0ICAkKHRoaXMpLnBhcmVudHMoJy5wYXNzd29yZF90dXJzJykuZmluZCgnLmNob2ljZS1yYWRpbyBpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRcdCAgJCh0aGlzKS5wYXJlbnRzKCcucGFzc3dvcmRfdHVycycpLmZpbmQoJy5pbnB1dC1jaG9pY2UtY2xpY2stcGFzcycpLnJlbW92ZUNsYXNzKCdhY3RpdmVfcGFzcycpO1xyXG5cdFx0XHRcclxuXHRcdFx0ICAkKHRoaXMpLmZpbmQoJy5jaG9pY2UtcmFkaW8gaScpLmFkZENsYXNzKCdhY3RpdmVfdGFza19jYicpO1xyXG5cdFx0XHQgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZV9wYXNzJyk7XHJcblx0XHR9IFxyXG59XHJcblxyXG5cclxuLy/QpNC40L5cclxuLy/QlNC10L3RjCDRgNC+0LbQtNC10L3QuNC1XHJcbi8v0L/QvtGB0LvQtdC00L3QtdC1INGB0L7QvtCx0YnQtdC90LjQtVxyXG4vL9Cy0YvQu9C10YJcclxuLy/Qv9GA0LjQu9C10YJcclxuLy/RgtC10LvQtdGE0L7QvVxyXG5cclxuLy/Qv9C+0LtcclxuLy/Qu9Cw0YLQuNC90LjRhtCwXHJcblxyXG4vL9C30LDQs9GA0LDQvSDRgdC10YDQuNGPXHJcbi8v0LfQsNCz0YDQsNC9INC90L7QvNC10YBcclxuLy/Qt9Cw0LPRgNCw0L0g0LrQtdC8XHJcbi8v0LfQsNCz0YDQsNC9INC60L7Qs9C00LAg0LLRi9C00LDQvVxyXG4vL9C30LDQs9GA0LDQvSDQtNC+INC60LDQutC+0LPQvlxyXG5cclxuLy/QstC90L/QsNGB0L/QvtGA0YIg0YHQtdGA0LjRj1xyXG4vL9Cy0L3Qv9Cw0YHQv9C+0YDRgiDQvdC+0LzQtdGAXHJcbi8v0LLQvdC/0LDRgdC/0L7RgNGCINC60LXQvFxyXG4vL9Cy0L3Qv9Cw0YHQv9C+0YDRgiDQutC+0LPQtNCwINCy0YvQtNCw0L1cclxuXHJcbi8v0LXRgdC70Lgg0YfRgtC+INGC0L4g0L3QsNC00L4g0L/QvtC70YPRh9C40YLRjCDRgtC+IDEg0LjQvdCw0YfQtSAwXHJcbi8v0L7QsdC90L7QstC70LXQvdC40LUg0LrQsNC60LjRhSDQu9C40LHQviDQtNCw0L3QvdGL0YUg0L/QviDQutC70LjQtdC90YLRg1xyXG5mdW5jdGlvbiBVcGRhdGVHbG9iYWwoaWRfdXNlcixhcnIpXHJcbntcdFxyXG5cdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZ0az0nKyQoJy5oMTExJykuYXR0cignbW9yJykrJyZpZD0nK2lkX3VzZXIrJyZhcnI9JythcnI7XHJcblx0XHRcdFx0XHJcblx0QWpheENsaWVudCgnY2xpZW50cycsJ3VwZGF0ZV91c2VyX2dsb2JhbCcsJ0dFVCcsZGF0YSwnQWZ0ZXJVcGRhdGVVc2VyJyxpZF91c2VyLDAsMSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZUZpbmFuY2UoYXJyKVxyXG57XHJcblx0dmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJmFycj0nK2FycjtcclxuXHRBamF4Q2xpZW50KCdmaW5hbmNlJywndXBkYXRlJywnR0VUJyxkYXRhLCdBZnRlclVwZGF0ZUZpbmFuY2UnLGFyciwwLDEpO1xyXG59XHJcblxyXG5cclxuXHJcbi8v0J3QsNC30LLQsNC90LjQtSDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4XHJcbi8v0LTQuNGA0LXQutGC0L7RgFxyXG4vL9GO0YAg0LDQtNGA0LXRgVxyXG5cclxuLy/QtdGB0LvQuCDRh9GC0L4g0YLQviDQvdCw0LTQviDQv9C+0LvRg9GH0LjRgtGMINGC0L4gMSDQuNC90LDRh9C1IDBcclxuLy/QvtCx0L3QvtCy0LvQtdC90LjQtSDQutCw0LrQuNGFINC70LjQsdC+INC00LDQvdC90YvRhSDQv9C+INC+0YDQs9Cw0L3QuNC30LDRhtC40LhcclxuZnVuY3Rpb24gVXBkYXRlR2xvYmFsTyhpZF9vcmcsYXJyKVxyXG57XHRcclxuXHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmdGs9JyskKCcuaDExMScpLmF0dHIoJ21vcicpKycmaWQ9JytpZF9vcmcrJyZhcnI9JythcnI7XHJcblx0XHRcdFx0XHJcblx0QWpheENsaWVudCgnY2xpZW50cycsJ3VwZGF0ZV9vcmdfZ2xvYmFsJywnR0VUJyxkYXRhLCdBZnRlclVwZGF0ZU9yZycsaWRfb3JnLDAsMSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog0KHQutC70L7QvdC10L3QuNC1INGA0YPRgdGB0LrQuNGFINC40LzRkdC9INC4INGE0LDQvNC40LvQuNC5XHJcbiAqXHJcbiAqIHZhciBybiA9IG5ldyBSdXNzaWFuTmFtZSgn0J/QsNC90LjQutC+0LLRgdC60LjQuSDQnNC40YXQsNC40Lsg0KHQsNC80YPRjdC70YzQtdCy0LjRhycpO1xyXG4gKiBybi5mdWxsTmFtZShybi5nY2FzZVJvZCk7IC8vINCf0LDQvdC40LrQvtCy0YHQutC+0LPQviDQnNC40YXQsNC40LvQsCDQodCw0LzRg9GN0LvRjNC10LLQuNGH0LBcclxuICpcclxuICog0KHQv9C40YHQvtC6INC60L7QvdGB0YLQsNC90YIg0L/QviDQv9Cw0LTQtdC20LDQvCDRgdC8LiDQvdC40LbQtSDQsiDQutC+0LTQtS5cclxuICpcclxuICog0J/QvtC20LDQu9GD0LnRgdGC0LAsINC/0YDQuNGB0YvQu9Cw0LnRgtC1INGB0LLQvtC4INGD0YLQvtGH0L3QtdC90LjRjyDQvNC90LUg0L3QsCDQv9C+0YfRgtGDLiDQodC/0LDRgdC40LHQvi5cclxuICpcclxuICogQHZlcnNpb24gIDAuMS40XHJcbiAqIEBhdXRob3IgICBKb2hubnkgV29vIDxhZ2Fsa2luQGFnYWxraW4ucnU+XHJcbiAqL1xyXG5cclxudmFyIFJ1c3NpYW5OYW1lUHJvY2Vzc29yID0ge1xyXG5cdHNleE06ICdtJyxcclxuXHRzZXhGOiAnZicsXHJcblx0Z2Nhc2VJbTogICAnbm9taW5hdGl2ZScsICAgICAgZ2Nhc2VOb206ICdub21pbmF0aXZlJywgICAgICAvLyDQuNC80LXQvdC40YLQtdC70YzQvdGL0LlcclxuXHRnY2FzZVJvZDogICdnZW5pdGl2ZScsICAgICAgICBnY2FzZUdlbjogJ2dlbml0aXZlJywgICAgICAgIC8vINGA0L7QtNC40YLQtdC70YzQvdGL0LlcclxuXHRnY2FzZURhdDogICdkYXRpdmUnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINC00LDRgtC10LvRjNC90YvQuVxyXG5cdGdjYXNlVmluOiAgJ2FjY3VzYXRpdmUnLCAgICAgIGdjYXNlQWNjOiAnYWNjdXNhdGl2ZScsICAgICAgLy8g0LLQuNC90LjRgtC10LvRjNC90YvQuVxyXG5cdGdjYXNlVHZvcjogJ2luc3RydW1lbnRhdGl2ZScsIGdjYXNlSW5zOiAnaW5zdHJ1bWVudGF0aXZlJywgLy8g0YLQstC+0YDQuNGC0LXQu9GM0L3Ri9C5XHJcblx0Z2Nhc2VQcmVkOiAncHJlcG9zaXRpb25hbCcsICAgZ2Nhc2VQb3M6ICdwcmVwb3NpdGlvbmFsJywgICAvLyDQv9GA0LXQtNC70L7QttC90YvQuVxyXG5cdFxyXG5cdHJ1bGVzOiB7XHJcblx0XHRsYXN0TmFtZToge1xyXG5cdFx0XHRleGNlcHRpb25zOiBbXHJcblx0XHRcdFx0J1x00LTRjtC80LAs0YLQvtC80LAs0LTQtdCz0LAs0LvRjtC60LAs0YTQtdGA0LzQsCzQs9Cw0LzQsNGA0YDQsCzQv9C10YLQuNC/0LAs0YjQsNC90LTRgNCwIC4gLiAuIC4gLicsXHJcblx0XHRcdFx0J1x00LPRg9GB0Yws0YDQtdC80LXQvdGMLNC60LDQvNC10L3RjCzQvtC90YPQuizQsdC+0LPQvtC00LAs0L3QtdGH0LjQv9Cw0YEs0LTQvtC70LPQvtC/0LDQu9C10YYs0LzQsNC90LXQvdC+0Los0YDQtdCy0LAs0LrQuNCy0LAgLiAuIC4gLiAuJyxcclxuXHRcdFx0XHQnXHTQstC40Lks0YHQvtC5LNGG0L7QuSzRhdC+0LkgLdGPIC3RjiAt0Y8gLdC10LwgLdC1J1xyXG5cdFx0XHRdLFxyXG5cdFx0XHRzdWZmaXhlczogW1xyXG5cdFx0XHRcdCdmXHTQsSzQsizQsyzQtCzQtizQtyzQuSzQuizQuyzQvCzQvSzQvyzRgCzRgSzRgizRhCzRhSzRhizRhyzRiCzRiSzRiizRjCAuIC4gLiAuIC4nLFxyXG5cdFx0XHRcdCdmXHTRgdC60LAs0YbQutCwICAt0L7QuSAt0L7QuSAt0YPRjiAt0L7QuSAt0L7QuScsXHJcblx0XHRcdFx0J2ZcdNCw0Y8gICAgICAgLS3QvtC5IC0t0L7QuSAtLdGD0Y4gLS3QvtC5IC0t0L7QuScsXHJcblx0XHRcdFx0J1x00YHQutCw0Y8gICAgIC0t0L7QuSAtLdC+0LkgLS3Rg9GOIC0t0L7QuSAtLdC+0LknLFxyXG5cdFx0XHRcdCdmXHTQvdCwICAgICAgIC3QvtC5IC3QvtC5IC3RgyAt0L7QuSAt0L7QuScsXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0J1x00LjQvdC+0LkgLdGPIC3RjiAt0Y8gLdC10LwgLdC1JyxcclxuXHRcdFx0XHQnXHTRg9C5ICAgLdGPIC3RjiAt0Y8gLdC10LwgLdC1JyxcclxuXHRcdFx0XHQnXHTRhtCwICAgLdGLIC3QtSAt0YMgLdC10LkgLdC1JyxcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdCdcdNGA0LjRhSAg0LAg0YMg0LAg0L7QvCDQtScsXHJcblx0XHRcclxuXHRcdFx0XHQnXHTQuNGPICAgICAgICAgICAgICAgICAgICAgIC4gLiAuIC4gLicsXHJcblx0XHRcdFx0J1x00LjQsCzQsNCwLNC+0LAs0YPQsCzRi9CwLNC10LAs0Y7QsCzRjdCwIC4gLiAuIC4gLicsXHJcblx0XHRcdFx0J1x00LjRhSzRi9GFICAgICAgICAgICAgICAgICAgIC4gLiAuIC4gLicsXHJcblx0XHRcdFx0J1x00L4s0LUs0Y0s0Lgs0Yss0YMs0Y4gICAgICAgICAgIC4gLiAuIC4gLicsXHJcblx0XHRcclxuXHRcdFx0XHQnXHTQvtCy0LAs0LXQstCwICAgICAgICAgICAgLdC+0LkgLdC+0LkgLdGDIC3QvtC5IC3QvtC5JyxcclxuXHRcdFx0XHQnXHTQs9CwLNC60LAs0YXQsCzRh9CwLNGJ0LAs0LbQsCAgLdC4IC3QtSAt0YMgLdC+0LkgLdC1JyxcclxuXHRcdFx0XHQnXHTRhtCwICAt0LggLdC1IC3RgyAt0LXQuSAt0LUnLFxyXG5cdFx0XHRcdCdcdNCwICAgLdGLIC3QtSAt0YMgLdC+0LkgLdC1JyxcclxuXHRcdFxyXG5cdFx0XHRcdCdcdNGMICAgLdGPIC3RjiAt0Y8gLdC10LwgLdC1JyxcclxuXHRcdFxyXG5cdFx0XHRcdCdcdNC40Y8gIC3QuCAt0LggLdGOIC3QtdC5IC3QuCcsXHJcblx0XHRcdFx0J1x00Y8gICAt0LggLdC1IC3RjiAt0LXQuSAt0LUnLFxyXG5cdFx0XHRcdCdcdNC10LkgIC3RjyAt0Y4gLdGPIC3QtdC8IC3QtScsXHJcblx0XHRcclxuXHRcdFx0XHQnXHTRj9C9LNCw0L0s0LnQvSAgINCwINGDINCwINC+0Lwg0LUnLFxyXG5cdFx0XHJcblx0XHRcdFx0J1x00YvQvdC10YYs0L7QsdC10YYgIC0t0YbQsCAtLdGG0YMgLS3RhtCwIC0t0YbQtdC8IC0t0YbQtScsXHJcblx0XHRcdFx0J1x00L7QvdC10YYs0L7QstC10YYgIC0t0YbQsCAtLdGG0YMgLS3RhtCwIC0t0YbQvtC8IC0t0YbQtScsXHJcblx0XHRcclxuXHRcdFx0XHQnXHTRhizRhyzRiCzRiSAgINCwINGDINCwINC10Lwg0LUnLFxyXG5cdFx0XHJcblx0XHRcdFx0J1x00LDQuSAgLdGPIC3RjiAt0Y8gLdC10LwgLdC1JyxcclxuXHRcdFx0XHQnXHTQs9C+0Lks0LrQvtC5ICAt0LPQviAt0LzRgyAt0LPQviAtLdC40LwgLdC8JyxcclxuXHRcdFx0XHQnXHTQvtC5ICAt0LPQviAt0LzRgyAt0LPQviAtLdGL0LwgLdC8JyxcclxuXHRcdFx0XHQnXHTQsNGFLNC40LIgICDQsCDRgyDQsCDQvtC8INC1JyxcclxuXHRcdFxyXG5cdFx0XHRcdCdcdNGI0LjQuSzRidC40Lks0LbQuNC5LNC90LjQuSAgLS3QtdCz0L4gLS3QtdC80YMgLS3QtdCz0L4gLdC8IC0t0LXQvCcsXHJcblx0XHRcdFx0J1x00LrQuNC5LNGL0LkgICAtLdC+0LPQviAtLdC+0LzRgyAtLdC+0LPQviAt0LwgLS3QvtC8JyxcclxuXHRcdFx0XHQnXHTQuNC5ICAgICAgIC3RjyAt0Y4gLdGPIC3QtdC8IC3QuCcsXHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHQnXHTQvtC6ICAtLdC60LAgLS3QutGDIC0t0LrQsCAtLdC60L7QvCAtLdC60LUnLFxyXG5cdFx0XHRcdCdcdNC10YYgIC0t0YbQsCAtLdGG0YMgLS3RhtCwIC0t0YbQvtC8IC0t0YbQtScsXHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHQnXHTQsizQvSAgINCwINGDINCwINGL0Lwg0LUnLFxyXG5cdFx0XHRcdCdcdNCxLNCzLNC0LNC2LNC3LNC6LNC7LNC8LNC/LNGALNGBLNGCLNGELNGFICAg0LAg0YMg0LAg0L7QvCDQtSdcclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdGZpcnN0TmFtZToge1xyXG5cdFx0XHRleGNlcHRpb25zOiBbXHJcblx0XHRcdFx0J1x00LvQtdCyICAgIC0t0YzQstCwIC0t0YzQstGDIC0t0YzQstCwIC0t0YzQstC+0LwgLS3RjNCy0LUnLFxyXG5cdFx0XHRcdCdcdNC/0LDQstC10LsgIC0t0LvQsCAgLS3Qu9GDICAtLdC70LAgIC0t0LvQvtC8ICAtLdC70LUnLFxyXG5cdFx0XHRcdCdtXHTRiNC+0YLQsCAgIC4gLiAuIC4gLicsXHJcblx0XHRcdFx0J2ZcdNGA0LDRiNC10LvRjCzQvdC40L3QtdC70Yws0L3QuNC60L7Qu9GMLNCz0LDQsdGA0LjRjdC70Yws0LTQsNC90LjRjdC70YwgICAuIC4gLiAuIC4nXHJcblx0XHRcdF0sXHJcblx0XHRcdHN1ZmZpeGVzOiBbXHJcblx0XHRcdFx0J1x00LUs0ZEs0Lgs0L4s0YMs0Yss0Y0s0Y4gICAuIC4gLiAuIC4nLFxyXG5cdFx0XHRcdCdmXHTQsSzQsizQsyzQtCzQtizQtyzQuSzQuizQuyzQvCzQvSzQvyzRgCzRgSzRgizRhCzRhSzRhizRhyzRiCzRiSzRiiAgIC4gLiAuIC4gLicsXHJcblxyXG5cdFx0XHRcdCdmXHTRjCAgIC3QuCAt0LggLiDRjiAt0LgnLFxyXG5cdFx0XHRcdCdtXHTRjCAgIC3RjyAt0Y4gLdGPIC3QtdC8IC3QtScsXHJcblxyXG5cdFx0XHRcdCdcdNCz0LAs0LrQsCzRhdCwLNGH0LAs0YnQsCzQttCwICAt0LggLdC1IC3RgyAt0L7QuSAt0LUnLFxyXG5cdFx0XHRcdCdcdNCwICAgLdGLIC3QtSAt0YMgLdC+0LkgLdC1JyxcclxuXHRcdFx0XHQnXHTQuNGPICAt0LggLdC4IC3RjiAt0LXQuSAt0LgnLFxyXG5cdFx0XHRcdCdcdNGPICAgLdC4IC3QtSAt0Y4gLdC10LkgLdC1JyxcclxuXHRcdFx0XHQnXHTQtdC5ICAt0Y8gLdGOIC3RjyAt0LXQvCAt0LUnLFxyXG5cdFx0XHRcdCdcdNC40LkgIC3RjyAt0Y4gLdGPIC3QtdC8IC3QuCcsXHJcblx0XHRcdFx0J1x00LkgICAt0Y8gLdGOIC3RjyAt0LXQvCAt0LUnLFxyXG5cdFx0XHRcdCdcdNCxLNCyLNCzLNC0LNC2LNC3LNC6LNC7LNC8LNC9LNC/LNGALNGBLNGCLNGELNGFLNGGLNGHXHQg0LAg0YMg0LAg0L7QvCDQtSdcclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdG1pZGRsZU5hbWU6IHtcclxuXHRcdFx0c3VmZml4ZXM6IFtcclxuXHRcdFx0XHQnXHTQuNGHICAg0LAgINGDICDQsCAg0LXQvCAg0LUnLFxyXG5cdFx0XHRcdCdcdNC90LAgIC3RiyAt0LUgLdGDIC3QvtC5IC3QtSdcclxuXHRcdFx0XVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdGluaXRpYWxpemVkOiBmYWxzZSxcclxuXHRpbml0OiBmdW5jdGlvbigpIHtcclxuXHRcdGlmKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybjtcclxuXHRcdHRoaXMucHJlcGFyZVJ1bGVzKCk7XHJcblx0XHR0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRwcmVwYXJlUnVsZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0Zm9yKHZhciB0eXBlIGluIHRoaXMucnVsZXMpIHtcclxuXHRcdFx0Zm9yKHZhciBrZXkgaW4gdGhpcy5ydWxlc1t0eXBlXSkge1xyXG5cdFx0XHRcdGZvcih2YXIgaSA9IDAsIG4gPSB0aGlzLnJ1bGVzW3R5cGVdW2tleV0ubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0XHR0aGlzLnJ1bGVzW3R5cGVdW2tleV1baV0gPSB0aGlzLnJ1bGUodGhpcy5ydWxlc1t0eXBlXVtrZXldW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRydWxlOiBmdW5jdGlvbihydWxlKSB7XHJcblx0XHR2YXIgbSA9IHJ1bGUubWF0Y2goL15cXHMqKFtmbV0/KVxccyooXFxTKylcXHMrKFxcUyspXFxzKyhcXFMrKVxccysoXFxTKylcXHMrKFxcUyspXFxzKyhcXFMrKVxccyokLyk7XHJcblx0XHRpZihtKSByZXR1cm4ge1xyXG5cdFx0XHRzZXg6IG1bMV0sXHJcblx0XHRcdHRlc3Q6IG1bMl0uc3BsaXQoJywnKSxcclxuXHRcdFx0bW9kczogW21bM10sIG1bNF0sIG1bNV0sIG1bNl0sIG1bN11dXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fSxcclxuXHRcclxuXHQvLyDRgdC60LvQvtC90Y/QtdC8INGB0LvQvtCy0L4g0L/QviDRg9C60LDQt9Cw0L3QvdC+0LzRgyDQvdCw0LHQvtGA0YMg0L/RgNCw0LLQuNC7INC4INC40YHQutC70Y7Rh9C10L3QuNC5XHJcblx0d29yZDogZnVuY3Rpb24od29yZCwgc2V4LCB3b3JkVHlwZSwgZ2Nhc2UpIHtcclxuXHRcdC8vINC40YHRhdC+0LTQvdC+0LUg0YHQu9C+0LLQviDQvdCw0YXQvtC00LjRgtGB0Y8g0LIg0LjQvNC10L3QuNGC0LXQu9GM0L3QvtC8INC/0LDQtNC10LbQtVxyXG5cdFx0aWYoZ2Nhc2UgPT0gdGhpcy5nY2FzZU5vbSkgcmV0dXJuIHdvcmQ7XHJcblx0XHRcclxuXHRcdC8vINGB0L7RgdGC0LDQstC90YvQtSDRgdC70L7QstCwXHJcblx0XHRpZih3b3JkLm1hdGNoKC9bLV0vKSkge1xyXG5cdFx0XHR2YXIgbGlzdCA9IHdvcmQuc3BsaXQoJy0nKTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMCwgbiA9IGxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdFx0bGlzdFtpXSA9IHRoaXMud29yZChsaXN0W2ldLCBzZXgsIHdvcmRUeXBlLCBnY2FzZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGxpc3Quam9pbignLScpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyDQmNCy0LDQvdC+0LIg0JguINCYLlxyXG5cdFx0aWYod29yZC5tYXRjaCgvXlvQkC3Qr9CBXVxcLj8kL2kpKSByZXR1cm4gd29yZDtcclxuXHRcdFxyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0XHR2YXIgcnVsZXMgPSB0aGlzLnJ1bGVzW3dvcmRUeXBlXTtcclxuXHJcblx0XHRpZihydWxlcy5leGNlcHRpb25zKSB7XHJcblx0XHRcdHZhciBwaWNrID0gdGhpcy5waWNrKHdvcmQsIHNleCwgZ2Nhc2UsIHJ1bGVzLmV4Y2VwdGlvbnMsIHRydWUpO1xyXG5cdFx0XHRpZihwaWNrKSByZXR1cm4gcGljaztcclxuXHRcdH1cclxuXHRcdHZhciBwaWNrID0gdGhpcy5waWNrKHdvcmQsIHNleCwgZ2Nhc2UsIHJ1bGVzLnN1ZmZpeGVzLCBmYWxzZSk7XHJcblx0XHRyZXR1cm4gcGljayB8fCB3b3JkO1xyXG5cdH0sXHJcblx0XHJcblx0Ly8g0LLRi9Cx0LjRgNCw0LXQvCDQuNC3INGB0L/QuNGB0LrQsCDQv9GA0LDQstC40Lsg0L/QtdGA0LLQvtC1INC/0L7QtNGF0L7QtNGP0YnQtdC1INC4INC/0YDQuNC80LXQvdGP0LXQvCBcclxuXHRwaWNrOiBmdW5jdGlvbih3b3JkLCBzZXgsIGdjYXNlLCBydWxlcywgbWF0Y2hXaG9sZVdvcmQpIHtcclxuXHRcdHdvcmRMb3dlciA9IHdvcmQudG9Mb3dlckNhc2UoKTtcclxuXHRcdGZvcih2YXIgaSA9IDAsIG4gPSBydWxlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuXHRcdFx0aWYodGhpcy5ydWxlTWF0Y2god29yZExvd2VyLCBzZXgsIHJ1bGVzW2ldLCBtYXRjaFdob2xlV29yZCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5hcHBseU1vZCh3b3JkLCBnY2FzZSwgcnVsZXNbaV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fSxcclxuXHRcclxuXHQvLyDQv9GA0L7QstC10YDRj9C10LwsINC/0L7QtNGF0L7QtNC40YIg0LvQuCDQv9GA0LDQstC40LvQviDQuiDRgdC70L7QstGDXHJcblx0cnVsZU1hdGNoOiBmdW5jdGlvbih3b3JkLCBzZXgsIHJ1bGUsIG1hdGNoV2hvbGVXb3JkKSB7XHJcblx0XHRpZihydWxlLnNleCA9PSB0aGlzLnNleE0gJiYgc2V4ID09IHRoaXMuc2V4RikgcmV0dXJuIGZhbHNlOyAvLyBtYWxlIGJ5IGRlZmF1bHRcclxuXHRcdGlmKHJ1bGUuc2V4ID09IHRoaXMuc2V4RiAmJiBzZXggIT0gdGhpcy5zZXhGKSByZXR1cm4gZmFsc2U7XHJcblx0XHRmb3IodmFyIGkgPSAwLCBuID0gcnVsZS50ZXN0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG5cdFx0XHR2YXIgdGVzdCA9IG1hdGNoV2hvbGVXb3JkID8gd29yZCA6IHdvcmQuc3Vic3RyKE1hdGgubWF4KHdvcmQubGVuZ3RoIC0gcnVsZS50ZXN0W2ldLmxlbmd0aCwgMCkpO1xyXG5cdFx0XHRpZih0ZXN0ID09IHJ1bGUudGVzdFtpXSkgcmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fSxcclxuXHRcclxuXHQvLyDRgdC60LvQvtC90Y/QtdC8INGB0LvQvtCy0L4gKNC/0YDQsNCy0LjQvCDQvtC60L7QvdGH0LDQvdC40LUpXHJcblx0YXBwbHlNb2Q6IGZ1bmN0aW9uKHdvcmQsIGdjYXNlLCBydWxlKSB7XHJcblx0XHRzd2l0Y2goZ2Nhc2UpIHtcclxuXHRcdFx0Y2FzZSB0aGlzLmdjYXNlTm9tOiB2YXIgbW9kID0gJy4nOyBicmVhaztcclxuXHRcdFx0Y2FzZSB0aGlzLmdjYXNlR2VuOiB2YXIgbW9kID0gcnVsZS5tb2RzWzBdOyBicmVhaztcclxuXHRcdFx0Y2FzZSB0aGlzLmdjYXNlRGF0OiB2YXIgbW9kID0gcnVsZS5tb2RzWzFdOyBicmVhaztcclxuXHRcdFx0Y2FzZSB0aGlzLmdjYXNlQWNjOiB2YXIgbW9kID0gcnVsZS5tb2RzWzJdOyBicmVhaztcclxuXHRcdFx0Y2FzZSB0aGlzLmdjYXNlSW5zOiB2YXIgbW9kID0gcnVsZS5tb2RzWzNdOyBicmVhaztcclxuXHRcdFx0Y2FzZSB0aGlzLmdjYXNlUG9zOiB2YXIgbW9kID0gcnVsZS5tb2RzWzRdOyBicmVhaztcclxuXHRcdFx0ZGVmYXVsdDogdGhyb3cgXCJVbmtub3duIGdyYW1tYXRpYyBjYXNlOiBcIitnY2FzZTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDAsIG4gPSBtb2QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcblx0XHRcdHZhciBjID0gbW9kLnN1YnN0cihpLCAxKTtcclxuXHRcdFx0c3dpdGNoKGMpIHtcclxuXHRcdFx0XHRjYXNlICcuJzogYnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnLSc6IHdvcmQgPSB3b3JkLnN1YnN0cigwLCB3b3JkLmxlbmd0aCAtIDEpOyBicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OiB3b3JkICs9IGM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiB3b3JkO1xyXG5cdH1cclxufVxyXG5cclxuLy8gbmV3IFJ1c3NpYW5OYW1lKCfQmtC+0LfQu9C+0LIg0JXQstCz0LXQvdC40Lkg0J/QsNCy0LvQvtCy0LjRhycpICAgICAgLy8g0LPQvtC00LjRgtGB0Y8g0L7QsdGL0YfQvdCw0Y8g0YTQvtGA0LzQsFxyXG4vLyBuZXcgUnVzc2lhbk5hbWUoJ9CV0LLQs9C10L3QuNC5INCf0LDQstC70L7QstC40Ycg0JrQvtC30LvQvtCyJykgICAgICAvLyDQsiDRgtCw0LrQvtC8INCy0LjQtNC1INGC0L7QttC1XHJcbi8vIG5ldyBSdXNzaWFuTmFtZSgn0JrQvtC30LvQvtCyJywgJ9CV0LLQs9C10L3QuNC5JykgICAgICAgIC8vINC80L7QttC90L4g0Y/QstC90L4g0YPQutCw0LfQsNGC0Ywg0YHQvtGB0YLQsNCy0LvRj9GO0YnQuNC1XHJcbi8vIG5ldyBSdXNzaWFuTmFtZSgn0JrRg9C90YLQuNC00LjRjycsICfQo9Cx0LjRgNC10LrQvicsICcnLCAnZicpIC8vINC80L7QttC90L4g0Y/QstC90L4g0YPQutCw0LfQsNGC0Ywg0L/QvtC7ICgnbScg0LjQu9C4ICdmJylcclxudmFyIFJ1c3NpYW5OYW1lID0gZnVuY3Rpb24obGFzdE5hbWUsIGZpcnN0TmFtZSwgbWlkZGxlTmFtZSwgc2V4KSB7XHJcblx0aWYodHlwZW9mIGZpcnN0TmFtZSA9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0dmFyIG0gPSBsYXN0TmFtZS5tYXRjaCgvXlxccyooXFxTKykoXFxzKyhcXFMrKShcXHMrKFxcUyspKT8pP1xccyokLyk7XHJcblx0XHRpZighbSkgdGhyb3cgXCJDYW5ub3QgcGFyc2Ugc3VwcGxpZWQgbmFtZVwiO1xyXG5cdFx0aWYobVs1XSAmJiBtWzNdLm1hdGNoKC8o0LjRh3zQvdCwKSQvKSAmJiAhbVs1XS5tYXRjaCgvKNC40Yd80L3QsCkkLykpIHtcclxuXHRcdFx0Ly8g0JjQstCw0L0g0J/QtdGC0YDQvtCy0LjRhyDQodC40LTQvtGA0L7QslxyXG5cdFx0XHRsYXN0TmFtZSA9IG1bNV07XHJcblx0XHRcdGZpcnN0TmFtZSA9IG1bMV07XHJcblx0XHRcdG1pZGRsZU5hbWUgPSBtWzNdO1xyXG5cdFx0XHR0aGlzLmZ1bGxOYW1lU3VybmFtZUxhc3QgPSB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8g0KHQuNC00L7RgNC+0LIg0JjQstCw0L0g0J/QtdGC0YDQvtCy0LjRh1xyXG5cdFx0XHRsYXN0TmFtZSA9IG1bMV07XHJcblx0XHRcdGZpcnN0TmFtZSA9IG1bM107XHJcblx0XHRcdG1pZGRsZU5hbWUgPSBtWzVdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHR0aGlzLmxuID0gbGFzdE5hbWU7XHJcblx0dGhpcy5mbiA9IGZpcnN0TmFtZSB8fCAnJztcclxuXHR0aGlzLm1uID0gbWlkZGxlTmFtZSB8fCAnJztcclxuXHR0aGlzLnNleCA9IHNleCB8fCB0aGlzLmdldFNleCgpO1xyXG59XHJcblJ1c3NpYW5OYW1lLnByb3RvdHlwZSA9IHtcclxuXHQvLyBjb25zdGFudHNcclxuXHRzZXhNOiBSdXNzaWFuTmFtZVByb2Nlc3Nvci5zZXhNLFxyXG5cdHNleEY6IFJ1c3NpYW5OYW1lUHJvY2Vzc29yLnNleEYsXHJcblx0Z2Nhc2VJbTogICBSdXNzaWFuTmFtZVByb2Nlc3Nvci5nY2FzZUltLCAgIGdjYXNlTm9tOiBSdXNzaWFuTmFtZVByb2Nlc3Nvci5nY2FzZU5vbSwgLy8g0LjQvNC10L3QuNGC0LXQu9GM0L3Ri9C5XHJcblx0Z2Nhc2VSb2Q6ICBSdXNzaWFuTmFtZVByb2Nlc3Nvci5nY2FzZVJvZCwgIGdjYXNlR2VuOiBSdXNzaWFuTmFtZVByb2Nlc3Nvci5nY2FzZUdlbiwgLy8g0YDQvtC00LjRgtC10LvRjNC90YvQuVxyXG5cdGdjYXNlRGF0OiAgUnVzc2lhbk5hbWVQcm9jZXNzb3IuZ2Nhc2VEYXQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINC00LDRgtC10LvRjNC90YvQuVxyXG5cdGdjYXNlVmluOiAgUnVzc2lhbk5hbWVQcm9jZXNzb3IuZ2Nhc2VWaW4sICBnY2FzZUFjYzogUnVzc2lhbk5hbWVQcm9jZXNzb3IuZ2Nhc2VBY2MsIC8vINCy0LjQvdC40YLQtdC70YzQvdGL0LlcclxuXHRnY2FzZVR2b3I6IFJ1c3NpYW5OYW1lUHJvY2Vzc29yLmdjYXNlVHZvciwgZ2Nhc2VJbnM6IFJ1c3NpYW5OYW1lUHJvY2Vzc29yLmdjYXNlSW5zLCAvLyDRgtCy0L7RgNC40YLQtdC70YzQvdGL0LlcclxuXHRnY2FzZVByZWQ6IFJ1c3NpYW5OYW1lUHJvY2Vzc29yLmdjYXNlUHJlZCwgZ2Nhc2VQb3M6IFJ1c3NpYW5OYW1lUHJvY2Vzc29yLmdjYXNlUG9zLCAvLyDQv9GA0LXQtNC70L7QttC90YvQuVxyXG5cdFxyXG5cdGZ1bGxOYW1lU3VybmFtZUxhc3Q6IGZhbHNlLFxyXG5cdFxyXG5cdGxuOiAnJywgZm46ICcnLCBtbjogJycsIHNleDogJycsXHJcblx0Ly8g0LXRgdC70Lgg0L/QvtC7INGP0LLQvdC+INC90LUg0YPQutCw0LfQsNC9LCDQtdCz0L4g0LzQvtC20L3QviDQu9C10LPQutC+INGD0LfQvdCw0YLRjCDQv9C+INC+0YLRh9C10YHRgtCy0YNcclxuXHRnZXRTZXg6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYodGhpcy5tbi5sZW5ndGggPiAyKSB7XHJcblx0XHRcdHN3aXRjaCh0aGlzLm1uLnN1YnN0cih0aGlzLm1uLmxlbmd0aCAtIDIpKSB7XHJcblx0XHRcdFx0Y2FzZSAn0LjRhyc6IHJldHVybiB0aGlzLnNleE07XHJcblx0XHRcdFx0Y2FzZSAn0L3QsCc6IHJldHVybiB0aGlzLnNleEY7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiAnJztcclxuXHR9LFxyXG5cdFxyXG5cdGZ1bGxOYW1lOiBmdW5jdGlvbihnY2FzZSkge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0KHRoaXMuZnVsbE5hbWVTdXJuYW1lTGFzdCA/ICcnIDogdGhpcy5sYXN0TmFtZShnY2FzZSkgKyAnICcpXHJcblx0XHRcdCsgdGhpcy5maXJzdE5hbWUoZ2Nhc2UpICsgJyAnICsgdGhpcy5taWRkbGVOYW1lKGdjYXNlKSArXHJcblx0XHRcdCh0aGlzLmZ1bGxOYW1lU3VybmFtZUxhc3QgPyAnICcgKyB0aGlzLmxhc3ROYW1lKGdjYXNlKSA6ICcnKVxyXG5cdFx0KS5yZXBsYWNlKC9eICt8ICskL2csICcnKTtcclxuXHR9LFxyXG5cdGxhc3ROYW1lOiBmdW5jdGlvbihnY2FzZSkge1xyXG5cdFx0cmV0dXJuIFJ1c3NpYW5OYW1lUHJvY2Vzc29yLndvcmQodGhpcy5sbiwgdGhpcy5zZXgsICdsYXN0TmFtZScsIGdjYXNlKTtcclxuXHR9LFxyXG5cdGZpcnN0TmFtZTogZnVuY3Rpb24oZ2Nhc2UpIHtcclxuXHRcdHJldHVybiBSdXNzaWFuTmFtZVByb2Nlc3Nvci53b3JkKHRoaXMuZm4sIHRoaXMuc2V4LCAnZmlyc3ROYW1lJywgZ2Nhc2UpO1xyXG5cdH0sXHJcblx0bWlkZGxlTmFtZTogZnVuY3Rpb24oZ2Nhc2UpIHtcclxuXHRcdHJldHVybiBSdXNzaWFuTmFtZVByb2Nlc3Nvci53b3JkKHRoaXMubW4sIHRoaXMuc2V4LCAnbWlkZGxlTmFtZScsIGdjYXNlKTtcclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9C40LrRgNCw0L3QuNGA0L7QstCw0L3QuNGPINGPINC/0LXRgNC10L3QvtGB0LAg0YLQtdC60YHRgtCwINGH0LXRgNC10LcgYWpheCBnZXQg0LzQtdGC0L7QtNC+0LxcclxuZnVuY3Rpb24gZWModnYpXHJcbntcclxuXHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZ2KTtcclxufVxyXG5cclxuLy/Qv9Cw0LTQtdC2INC40LzQtdC90Lgg0Lgg0LTQvtC70LbQvdC+0YHRgtC4INC00LvRjyDRgtC10LrRgdGC0LAg0YPRgdGC0LDQstCwXHJcbmZ1bmN0aW9uIHBhZGVqX3dvbygpXHJcbntcclxuXHR2YXIgbmFtZV93b289JCgnLndvbzEnKS52YWwoKTtcclxuXHR2YXIgaGVhZF93b289JCgnLndvbzInKS52YWwoKTtcclxuXHRpZihuYW1lX3dvbz09JycpXHJcblx0e1xyXG5cdFx0bmFtZV93b289J19fX19fX19fJztcclxuXHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdFx0dmFyIHJuID0gbmV3IFJ1c3NpYW5OYW1lKG5hbWVfd29vKTtcclxuXHQgICBuYW1lX3dvbz1ybi5mdWxsTmFtZShybi5nY2FzZVJvZCk7XHJcblx0XHR9XHJcblx0aWYoaGVhZF93b289PScnKVxyXG5cdHtcclxuXHRcdGhlYWRfd29vPSdfX19fX19fXyc7XHJcblx0fVx0ZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHR2YXIgcm4xID0gbmV3IFJ1c3NpYW5OYW1lKGhlYWRfd29vKTtcclxuXHQgICBoZWFkX3dvbz1ybjEuZnVsbE5hbWUocm4xLmdjYXNlUm9kKVxyXG5cdFx0fVxyXG5cdFxyXG5cdFxyXG5cdCQoJy5qcy1wYWRlal93b29fZW5kJykuZW1wdHkoKS5hcHBlbmQoaGVhZF93b28rJyAnK25hbWVfd29vKycsINC00LXQudGB0YLQstGD0Y7RidC10LPQviDQvdCwINC+0YHQvdC+0LLQsNC90LjQuCDQodCy0LjQtNC10YLQtdC70YzRgdGC0LLQsCDQviDQs9C+0YHRg9C00LDRgNGB0YLQstC10L3QvdC+0Lkg0YDQtdCz0LjRgdGC0YDQsNGG0LjQuCcpO1xyXG5cdCQoJy5qcy1wYWRlal93b29fZW5kJykudmFsKGhlYWRfd29vKycgJytuYW1lX3dvbysnLCDQtNC10LnRgdGC0LLRg9GO0YnQtdCz0L4g0L3QsCDQvtGB0L3QvtCy0LDQvdC40Lgg0KHQstC40LTQtdGC0LXQu9GM0YHRgtCy0LAg0L4g0LPQvtGB0YPQtNCw0YDRgdGC0LLQtdC90L3QvtC5INGA0LXQs9C40YHRgtGA0LDRhtC40LgnKTtcclxuXHQkKCcuanMtcGFkZWpfd29vX2VuZCcpLnRyaWdnZXIoJ2tleXVwJyk7XHJcblx0XHJcblx0XHJcbn1cclxuXHJcbi8v0L/QtdGA0LXQstC+0LQg0LIg0LvQsNGC0LjQvdC40YbRg1xyXG5mdW5jdGlvbiBUZXh0VG9MYXQoaW5wKVxyXG57XHJcblx0dmFyIHJ1MmVuID0ge1xyXG5cdHJ1X3N0ciA6IFwiINCQ0JHQktCT0JTQldCB0JbQl9CY0JnQmtCb0JzQndCe0J/QoNCh0KLQo9Ck0KXQptCn0KjQqdCq0KvQrNCt0K7Qr0nQsNCx0LLQs9C00LXRkdC20LfQuNC50LrQu9C80L3QvtC/0YDRgdGC0YPRhNGF0YbRh9GI0YnRitGL0YzRjdGO0Y9pXCIsXHJcbiAgXHRlbl9zdHIgOiBbJyAnLFxyXG4gICAgICAgICAgICAnQScsJ0InLCdWJywnRycsJ0QnLCdFJywnRScsJ1pIJywnWicsJ0knLCdJJywnSycsJ0wnLCdNJywnTicsJ08nLCdQJywnUicsJ1MnLCdUJyxcclxuICAgICAgICAgICAgJ1UnLCdGJywnS0gnLCdUUycsJ0NIJywnU0gnLCdTSENIJywnSUUnLCdZJywnJywnRScsJ0lVJywnSUEnLCdJJyxcclxuICAgICAgICAgICAgJ0EnLCdCJywnVicsJ0cnLCdEJywnRScsJ0UnLCdaSCcsJ1onLCdJJywnSScsJ0snLCdMJywnTScsJ04nLCdPJywnUCcsJ1InLCdTJywnVCcsXHJcbiAgICAgICAgICAgICdVJywnRicsJ0tIJywnVFMnLCdDSCcsJ1NIJywnU0hDSCcsJ0lFJywnWScsJycsJ0UnLCdJVScsJ0lBJywnSSdcclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG4gICAgcnUyZW4ucnUyZW4gPSB7fTtcclxuICBcdGZvcih2YXIgaSA9IDAsIGwgPSBydTJlbi5ydV9zdHIubGVuZ3RoOyBpIDwgbDsgaSsrKVxyXG4gICAgXHRydTJlbi5ydTJlbltydTJlbi5ydV9zdHIuY2hhckF0KGkpXSA9IHJ1MmVuLmVuX3N0cltpXTtcclxuXHJcblx0dmFyIHJlID0gL1xcUytcXHNcXFMrXFxzL2k7XHJcblx0dmFyIHRlbXAgPSBpbnAubWF0Y2gocmUpO1xyXG5cdHZhciBhID0gaW5wLnNwbGl0KFwiXCIpO1xyXG5cclxuXHRpZih0ZW1wIT1udWxsKVxyXG4gICAgXHRhID0gU3RyaW5nKHRlbXApLnNwbGl0KFwiXCIpO1xyXG5cclxuICAgIGZvciAodmFyIGk9MCxhTD1hLmxlbmd0aDtpPGFMO2krKykge2FbaV0gPSBydTJlbi5ydTJlblthW2ldXX1cclxuICAgIHJldHVybiBhLmpvaW4oXCJcIik7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdG9UcmFuc2xpdCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC8oW9CwLdGP0ZFdKXwoW1xcc18tXSl8KFteYS16XFxkXSkvZ2ksXHJcbiAgICBmdW5jdGlvbiAoYWxsLCBjaCwgc3BhY2UsIHdvcmRzLCBpKSB7XHJcbiAgICAgICAgaWYgKHNwYWNlIHx8IHdvcmRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzcGFjZSA/ICcgJyA6ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCksXHJcbiAgICAgICAgICAgIGluZGV4ID0gY29kZSA9PSAxMDI1IHx8IGNvZGUgPT0gMTEwNSA/IDAgOlxyXG4gICAgICAgICAgICAgICAgY29kZSA+IDEwNzEgPyBjb2RlIC0gMTA3MSA6IGNvZGUgLSAxMDM5LFxyXG4gICAgICAgICAgICB0ID0gWyd5bycsICdhJywgJ2InLCAndicsICdnJywgJ2QnLCAnZScsICd6aCcsXHJcbiAgICAgICAgICAgICAgICAneicsICdpJywgJ3knLCAnaycsICdsJywgJ20nLCAnbicsICdvJywgJ3AnLFxyXG4gICAgICAgICAgICAgICAgJ3InLCAncycsICd0JywgJ3UnLCAnZicsICdoJywgJ2MnLCAnY2gnLCAnc2gnLFxyXG4gICAgICAgICAgICAgICAgJ3NoY2gnLCAnJywgJ3knLCAnJywgJ2UnLCAneXUnLCAneWEnXHJcbiAgICAgICAgICAgIF07IFxyXG4gICAgICAgIHJldHVybiB0W2luZGV4XTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZV9jbG9zZV93aW5kb3coKVxyXG57XHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTsgXHJcblx0JC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxufVxyXG5cclxuLy8g0KTRg9C90LrRhtC40Y8g0YPQtNCw0LvQtdC90LjRjyDQv9GA0L7QsdC10LvQvtCyXHJcbmZ1bmN0aW9uIGN0cmltKHN0cilcclxue1xyXG5cdHN0ciA9IHN0ci5yZXBsYWNlKC9cXHMvZywgJycpO1xyXG5cdHJldHVybiBzdHI7XHJcbn1cclxuXHJcbi8v0LLRi9Cx0YDQsNGC0Ywg0LjQtyDQvdCw0LnQtNC10L3QvdC+0LPQviDQutC70LjQtdC90YLQsFxyXG5mdW5jdGlvbiBzdHJpbmdfcmVzMSgpXHJcbntcclxuXHR2YXIgcHA9JCh0aGlzKS5hdHRyKCdpZCcpO1xyXG5cdFxyXG5cdCQoJy5mb3hfc2VhcmNoX3Jlc3VsdDEnKS5oaWRlKCk7XHJcblx0JCgnW25hbWU9aWRfc2VhcmNoX2NsaWVudDFdJykudmFsKHBwKS50cmlnZ2VyKCdjbGljaycpO1xyXG5cdFxyXG5cdCQoJy5lbmRfc2VhcmNoMScpLmZpbmQoJy5lbmRfb25lMScpLmVtcHR5KCkuYXBwZW5kKCQodGhpcykuZmluZChcIi5uYW1lX3NlYXJjaF94XCIpLmh0bWwoKSk7XHJcblx0JCgnLmVuZF9zZWFyY2gxJykuZmluZCgnLmVuZF90d28xJykuZW1wdHkoKS5hcHBlbmQoJCh0aGlzKS5maW5kKFwiLnBob25lX3NlYXJjaF94XCIpLmh0bWwoKSk7XHJcblx0JCgnLmVuZF9zZWFyY2gxJykuc2hvdygpO1xyXG5cdFxyXG59XHJcblxyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDQstGB0L/Qu9GL0LLQsNGO0YnQuNC1INC60L7QvNC80LXQvdGC0LDRgNC40LhcclxuZnVuY3Rpb24gVG9vbFRpcCgpXHJcbntcclxuXHRcclxuJChcIltkYXRhLXRvb2x0aXBdXCIpLm1vdXNlbW92ZShmdW5jdGlvbiAoZXZlbnRPYmplY3QpIHtcclxuXHRcdFxyXG5cdFx0aWYoISQoXCJkaXZcIikuaXMoXCIjdG9vbHRpcFwiKSlcclxuXHRcdHtcclxuXHRcdCAgJChcImJvZHlcIikuYXBwZW5kKCc8ZGl2IGlkPVwidG9vbHRpcFwiPjwvZGl2PicpO1xyXG5cdFx0fVxyXG5cclxuICAgICAgICAkZGF0YV90b29sdGlwID0gJCh0aGlzKS5hdHRyKFwiZGF0YS10b29sdGlwXCIpO1xyXG4gICAgICQoXCIjdG9vbHRpcFwiKS50ZXh0KCRkYXRhX3Rvb2x0aXApOyAgICAgXHJcblx0dmFyIG9mZnNldCA9ICQodGhpcykub2Zmc2V0KCk7XHJcblx0XHJcblx0ICAgIFxyXG5cdC8vJCgnLmRlYnVnJykuZW1wdHkoKS5hcHBlbmQob2Zmc2V0LmxlZnQrJy0nKyQod2luZG93KS53aWR0aCgpKyctJyskKCcjdG9vbHRpcCcpLndpZHRoKCkrJy0nK2V2ZW50T2JqZWN0LnBhZ2VYKTtcclxuXHQvL3ZhciByYXpuPW9mZnNldC5sZWZ0KyQoJyN0b29sdGlwJykud2lkdGgoKTtcclxuXHJcblx0aWYoZXZlbnRPYmplY3QucGFnZVg+PSgkKHdpbmRvdykud2lkdGgoKS8yKSlcclxuXHRcdHtcclxuICAgICAgICAkKFwiI3Rvb2x0aXBcIikuY3NzKHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBcInRvcFwiIDogZXZlbnRPYmplY3QucGFnZVkgKyA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxlZnRcIiA6IGV2ZW50T2JqZWN0LnBhZ2VYIC0gJCgnI3Rvb2x0aXAnKS5vdXRlcldpZHRoKCkgLSA1XHJcblx0XHRcclxuICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHRcclxuXHRcdFx0c2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgJChcIiN0b29sdGlwXCIpLmZhZGVJbig1MDApOyB9LCBcdDQwMCApO1xyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHR9ZWxzZVxyXG5cdHtcclxuICAgICAgICAkKFwiI3Rvb2x0aXBcIikuY3NzKHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBcInRvcFwiIDogZXZlbnRPYmplY3QucGFnZVkgKyA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxlZnRcIiA6IGV2ZW50T2JqZWN0LnBhZ2VYICsgNVxyXG4gICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHRcdHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7ICQoXCIjdG9vbHRpcFwiKS5mYWRlSW4oNTAwKTsgfSwgNDAwICk7XHJcbiAgICAgICAgICAgICAgICAgICAgIFxyXG5cdH1cclxuICAgIH0pLm1vdXNlb3V0KGZ1bmN0aW9uICgpIHsgJChcIiN0b29sdGlwXCIpLnJlbW92ZSgpOyB9KTtcclxuXHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHRcclxuYW5pbWF0aW9uX3RlcHMoKTtcclxuYW5pbWF0aW9uX2dyYWYoKTtcclxuLy/RgNCw0LHQvtGC0LAg0YEg0LzQtdC90Y5cdFxyXG4kKCdib2R5Jykub24oXCJjbGlja1wiLCcuYnVyZ2VyX29rJyxTbGljZU1NKTtcdFxyXG4kKCcubWVudV94JykuY2xvbmUoKS5hcHBlbmRUbyhcIi5tb2JpbGUtbmF2IHNwYW5cIik7XHJcblx0XHJcblxyXG5cdFxyXG4vL9C/0L7Qu9GD0YfQuNGC0Ywg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L/QviAg0L7RgNCz0LDQvdC40LfQsNGG0LjQuFx0XHJcbiQoJ2JvZHknKS5vbihcImNsaWNrXCIsXCIuanMtb3JnXCIsZG9jX29yZyk7XHRcdFxyXG5cdFxyXG4vL9C/0L7Qu9GD0YfQuNGC0Ywg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L/QviDQutC70LjQtdC90YLRgyDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4INGBINC+0L/RgNC10LTQtdC70LXQvdC90L7QuSDQstC60LvQsNC00LrQtVx0XHJcbiQoJ2JvZHknKS5vbihcImNsaWNrXCIsXCIuanMtY2xpZW50LWRvcFwiLGRvY191c2VyMSk7XHRcdFxyXG4kKCdib2R5Jykub24oXCJjbGlja1wiLFwiLmpzLW9yZy1kb3BcIixkb2Nfb3JnMSlcdFxyXG5cclxuXHRcclxuLy8kKCdib2R5Jykub24oXCJrZXl1cFwiLFwiLmpzLWtleXVwLXNlYXJjaFwiLEtleVVwUyk7XHJcblxyXG4vL9CX0LDQtNCw0YfQuCDRgNCw0LHQvtGC0LAg0YEg0YTQuNC70YzRgtGA0LDQvNC4XHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWgxLWZpbHRlclwiLGZpbHRlcl9hY3RpdmUpO1xyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5maS1hIGFcIixmaWx0ZXJfYWN0aXZlX2EpO1xyXG5cclxuLy/RgtGD0YDRiyDRgNCw0LHQvtGC0LAg0YEg0YTQuNC70YzRgtGA0LDQvNC4XHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWgxLWZpbHRlci10dXJzXCIsZmlsdGVyX2FjdGl2ZV90dXJzKTtcclxuXHQkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5maS1hdCBhXCIsZmlsdGVyX2FjdGl2ZV9hX3QpO1xyXG5cdFxyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuc2F2ZV91c2Vyc1wiLCBzYXZlX3VzZXJzKTtcdFxyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuc2F2ZV9yZXBvcnRzXCIsIHNhdmVfcmVwb3J0cyk7XHRcclxuJCgnLmluZGV4X2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLnNhdmVfYm9va2luZ1wiLCBzYXZlX2Jvb2tpbmcpO1xyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIueWVzc19ib29raW5nXCIsIHllc3NfYm9va2luZyk7XHJcblxyXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INC/0L7QutGD0L/QsNGC0LXQu9GPINGC0YPRgNCwXHRcclxuJCgnLmpzLWZvcm0tYWRkLXRvdXJzJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5qcy1idXktdHVycy1jbGllbnRcIixqc19idXlfdHVyc19jbGllbnQpO1xyXG5cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDRgtGD0YDQuNGB0YLQsCDQsiDRgtGD0YBcdFxyXG4kKCcuanMtZm9ybS1hZGQtdG91cnMnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWZseS10dXJzLWNsaWVudFwiLGpzX2ZseV90dXJzX2NsaWVudCk7XHRcclxuXHRcclxuXHJcbiQoJy5kZWxsX3N0b2NrX3NlYXJjaG8nKS5iaW5kKCdjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2snLCBjaGFuZ2Vzb3J0X3N0b2NrMl9fbyk7XHJcbiQoJy5kZWxsX3N0b2NrX3NlYXJjaF90b3VycycpLmJpbmQoJ2NoYW5nZSBrZXl1cCBpbnB1dCBjbGljaycsIGNoYW5nZXNvcnRfc3RvY2syX3RvdXJzKTtcclxuXHJcblxyXG5cclxuJCgnLm1lbnUtMDknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWFkZF9uZXdfY2xpZW50XCIsIGNsaWVudHNfYWRkcyk7XHRcclxuXHRcclxuLy8kKCcubWVudS0wOScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuanMtYWRkX25ld190YXNrXCIsIHRhc2tfYWRkcyk7XHJcblx0XHJcbiQoJy5qcy1tb2JpbGUtYm90dG9tLXonKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWFkZF9uZXdfY2xpZW50XCIsIGNsaWVudHNfYWRkcyk7XHRcclxuXHRcclxuJCgnLm1vYmlsZS1ib3R0b20teicpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuanMtYWRkX25ld19jbGllbnRcIiwgY2xpZW50c19hZGRzKTtcdFxyXG4vLyQoJy5tb2JpbGUtYm90dG9tLXonKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWFkZF9uZXdfdGFza1wiLCB0YXNrX2FkZHMpO1xyXG4kKCcuZm9ybV8xX2Jvb2tpbmcnKS5vbihcImNoYW5nZVwiLCdbbmFtZT1jbGllbnRfbmV3MV9zZWFyY2hdJyxyYWRpb19jbGllbnRfc3Z2KTtcclxuJCgnLmZvcm1fMl9ib29raW5nJykub24oXCJjaGFuZ2VcIiwnW25hbWU9Y2xpZW50X25ldzFfc2VhcmNoXScscmFkaW9fY2xpZW50X3N2dik7XHJcblx0XHJcbiQoJy5pbmRleF9ib29raW5nJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi53aW5fcHJpYmxcIiwgd2luX3ByaWJsKTtcdFxyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIubm9vX2Jvb2tpbmdcIiwgbm9vX2Jvb2tpbmcpO1xyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIudGhpbmtfYm9va2luZ1wiLCB0aGlua19ib29raW5nKTtcclxuJCgnLmluZGV4X2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmNhbGxfYm9va2luZ1wiLCBjYWxsX2Jvb2tpbmcpO1xyXG5cdFxyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuZGlzX2Jyb25cIiwgZGlzX2Jyb24pO1xyXG5cclxuJCgnLmNsaWVudHNfYmxvY2snKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLm9wZW5fb3BlcmF0b3JcIiwgY29weXlfY2xpZW50cyk7XHRcclxuXHJcblxyXG4kKCcuYm9va2luZ19zb3Vyc2UnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLm1pX21cIiwgZmx5X2VkaXQpO1xyXG5cdFxyXG5cclxuJCgnLmJvb2tpbmdfc291cnNlJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5qcy0tZWRpdC0tY2NvbW1lbnRcIiwgYWRkX2VkaXRfY29tbWVudCk7XHJcblx0XHRcclxuXHRcclxuJCgnLmNsaWVudHNfYmxvY2snKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmNsaWVudHNfZmx5X2RhdGVcIiwgZmx5X2VkaXQxKTtcdFxyXG5cdFxyXG4kKCcuY2xpZW50c19ibG9jaycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuYWRkX2NmZlwiLCAgYWRkX2VkaXRfY29tbWVudDEpO1xyXG5cdFxyXG4kKCcuYm9va2luZ19zb3Vyc2UnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLm1pX2hpc3RvcnlcIiwgZmx5X2hpc3RvcnkpO1xyXG5cclxuJCgnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIubWlfaGlzdG9yeV90cmlwc1wiLCBmbHlfaGlzdG9yeV90cmlwcyk7XHJcbiQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLm1pX21cIiwgZmx5X2VkaXRfdHJpcHMpO1xyXG5cclxuXHJcblx0Ly/Rg9C00LDQu9C40YLRjCDQvtCx0YrQtdC60YJcclxuXHQkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXVzZXJzLWRlbCcsanNfdXNlcnNfZGVsKTtcclxuXHJcblx0JCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuanNfb3Blbl9ibG9ja1wiLCBjb3B5eSk7XHJcbiQoJy5hbnN3ZXJfYmxvY2snKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLm9wZW5fb3BlcmF0b3IsLmg1N1wiLCBjb3B5eTEpO1x0XHJcblx0XHJcblx0JCgnLm9wZXJhdG9yX2Jsb2NrJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5kZWxfb3BlcmF0b3JfXCIsIGRlbGxfb3BlcmF0b3IpO1xyXG5cdCQoJy51c2Vyc19ibG9jaycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuZGVsX3VzZXJzX1wiLCBkZWxsX3VzZXJzKTtcdFxyXG5cdCQoJy5yZXBvcnRzX2Jsb2NrJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5kZWxfcmVwb3J0c19cIiwgZGVsbF9yZXBvcnRzKTtcdFx0XHJcblx0XHJcbiQoJy5mb3JtXzFfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIud2FsbGV0X2NoZWNrYm94LCNuYW1lX2IsI3JhZGlvX2JrLCNwaG9uZV9iLCNuYW1lX2NsaWVudF9iLCNkYXRlX2hpZGRlbl90YWJsZV9ncjIsW25hbWU9Y2xpZW50X25ldzFfc2VhcmNoXSxbbmFtZT1pZF9zZWFyY2hfY2xpZW50MV1cIiwgbmV4dF9zdGVwX2Jvb2tpbmcpO1xyXG5cdFxyXG4kKCcuZm9ybV8yMF9ib29raW5nJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIiNuYW1lX2IsI3Bob25lX2IsI2RheV9iXCIsIG5leHRfc3RlcF9jbGllbnRzKTtcdFxyXG5cdFxyXG4kKCcuZm9ybV81X2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLndhbGxldF9jaGVja2JveCwucmFkaW9fY2hlY2tib3gsI25hbWVfYiwjbmFtZV9iMSwjbmFtZV9iMTIsI3Bhc3N3b3JkX2IsI2xvZ2luX2JcIiwgbmV4dF9zdGVwX3VzZXJzKTtcclxuXHRcclxuJCgnLmZvcm1fMzBfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIjbmFtZV9iLCNwaG9uZV9iXCIsIG5leHRfc3RlcF9yZXBvcnRzKTtcdFxyXG5cdFxyXG4kKCcuZm9ybV8zX2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiI25hbWVfYlwiLCBuZXh0X3N0ZXBfb3BlcmF0b3IpO1x0XHJcblx0XHJcbiQoJy5mb3JtXzJfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuc3Bhbi00NFwiLCBicm9uX29mZmVyc19zZWxlY3QpO1x0XHJcblx0XHJcbiQoJy5mb3JtXzJfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuY2xpY2tfaGlzdG9yeV9hdmFuc1wiLCBjbGlja19oaXN0b3J5X2F2YW5zKTtcdFxyXG5cdFxyXG5cdFxyXG4kKCcuZm9ybV80X2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmFkZF9zb3Vyc2VfcmVwb3J0c1wiLCBhZGRfYW5zd2VyKTtcclxuXHRcclxuJCgnLnNvdXJzZV9iJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5kZWxfYm9va2luZ19zb3Vyc2VcIiwgZGVsbF9vZmZlcnMpO1xyXG5cclxuJCgnLmZvcm1fNF9ib29raW5nJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5kZWxfYW5zd2VyX1wiLCBkZWxsX2Fuc3dlcik7XHRcclxuJCgnLmZvcm1fNF9ib29raW5nJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5lZGl0X2Fuc3dlcl9cIiwgZWRpdF9hbnN3ZXIpO1xyXG4kKCcuZm9ybV80X2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLnNhdmVfYW5uYVwiLCBzYXZlX2FubmEpO1xyXG5cclxuJCgnLnNvdXJzZV9iJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5hZGRfc291cnNlX2Jvb2tpbmdcIiwgYWRkX29mZmVycyk7XHJcblx0XHJcbiQoJy5waG9uZV91czEnKS5tYXNrKCcrNyAoMDAwKSAwMDAtMDAtMDAnKTtcclxuXHRcclxuXHJcblx0XHJcbiQoJy5mb3JtXzJfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuY291bnRfbWFza1wiLCB2YWxpZGF0ZTExKTtcdFxyXG5cdFxyXG4vKlx0XHJcbiQoJy5mb3JtXzFfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIud2FsbGV0X2NoZWNrYm94LCNuYW1lX2IsI3Bob25lX2IsI25hbWVfY2xpZW50X2IsI2RhdGVfaGlkZGVuX3RhYmxlX2dyMiwjb3R6aXZfYXJlYV9hZGF4eCwuZm9ybV9vZmZlcnNfXCIsZnVuY3Rpb24oKXsgICQoJy5idXR0b25feWVzX25vJykuaGlkZSgpOyAkKCcuc2F2ZV9ib29raW5nJykuc2hvdygpOyBhbGVydChcIiFcIik7ICAgfSk7XHRcclxuKi9cclxuXHRcclxuJCgnLmZvcm1fMl9ib29raW5nJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi53YWxsZXRfY2hlY2tib3gsI25hbWVfYiwjcGhvbmVfYiwjbmFtZV9jbGllbnRfYiwuZm9ybV9vZmZlcnNfLCNvdHppdl9hcmVhX2FkYXh4LC5mb3hfZGVsbDEsI3JhZGlvX2JrNjZcIixmdW5jdGlvbigpeyAgJCgnLmJ1dHRvbl95ZXNfbm8nKS5oaWRlKCk7ICQoJy5zYXZlX2Jvb2tpbmcnKS5zaG93KCk7ICAgIH0pO1x0XHRcclxuXHJcbiQoJy5mb3JtXzRfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIjbmFtZV9iLCNwaG9uZV9iLC5mb3JtX29mZmVyc18sI290eml2X2FyZWFfYWRheHhcIixmdW5jdGlvbigpeyAgJCgnLmJ1dHRvbl95ZXNfbm8nKS5oaWRlKCk7ICQoJy5zYXZlX3JlcG9ydHMnKS5zaG93KCk7ICAgIH0pO1xyXG5cdFxyXG5cdFxyXG4kKCcuZm9ybV80X2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmFubl9iXCIsZnVuY3Rpb24oKXsgICAkKHRoaXMpLnBhcmVudHMoJy5hbnN3ZXJfYmxvY2snKS5maW5kKCcuc2F2ZV9hbm5hJykuc2hvdygpOyAgICB9KTtcdFxyXG5cclxuc2V0VGltZW91dCAoZnVuY3Rpb24oKXsgJCgnLnNhdmVfYW5uYScpLmhpZGUoKTsgfSwgNTAwKTsgLy8gMTAwMCDQoNGYLtCh0IPQoMK10KDRlFxyXG5cdFxyXG5cdFxyXG4vLyQoJy50aW1lX2lucHV0JykubWFzaygnMDA6MDAnKTtcclxuXHRcclxuXHRcclxuLy/QvNCw0YHQutCwINC00LvRjyDQtNC10L3QtdC20L3Ri9GFINC/0L7Qu9C10LlcdFxyXG4kKCcubW9uZXlfbWFzaycpLmlucHV0bWFzayhcIm51bWVyaWNcIiwge1xyXG4gICAgcmFkaXhQb2ludDogXCIuXCIsXHJcbiAgICBncm91cFNlcGFyYXRvcjogXCIgXCIsXHJcbiAgICBkaWdpdHM6IDIsXHJcbiAgICBhdXRvR3JvdXA6IHRydWUsXHJcbiAgICBwcmVmaXg6ICcnLCAvL05vIFNwYWNlLCB0aGlzIHdpbGwgdHJ1bmNhdGUgdGhlIGZpcnN0IGNoYXJhY3RlclxyXG4gICAgcmlnaHRBbGlnbjogZmFsc2UsXHJcbiAgICBvbmNsZWFyZWQ6IGZ1bmN0aW9uICgpIHsgc2VsZi5WYWx1ZSgnJyk7IH1cclxufSk7XHJcblx0XHJcblxyXG5cdCQoJy5kYXRlX3RpbWVfcGlja2VyJykuaW5wdXRtYXNrKFwiZGF0ZXRpbWVcIix7XHJcbiAgICBtYXNrOiBcIjEuMi55IGg6c1wiLCBcclxuICAgIHBsYWNlaG9sZGVyOiBcImRkLm1tLnl5eXkgaGg6bW1cIiwgIFxyXG4gICAgc2VwYXJhdG9yOiBcIi5cIiwgXHJcbiAgICBhbGlhczogXCJkZC5tbS55eXl5XCJcclxuICB9KTtcdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG59KTtcclxuXHJcbi8v0LrRgNC10YHRgtC40Log0L/RgNC4INC/0L7QuNGB0LrQtSDQsiDQutC70LjQtdC90YLQsNGFINGH0LDRgdGC0L3Ri9C1INC70LjRhtCwXHJcbnZhciBjaGFuZ2Vzb3J0X3N0b2NrMl90b3Vycz0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHQkKHRoaXMpLnByZXYoKS52YWwoJycpO1xyXG5cdCQuY29va2llKFwic3VfN2N1XCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHQkKCcuanMtLXNvcnQnKS5yZW1vdmVDbGFzcygnZ3JlZWlfaW5wdXQnKTtcclxuXHQkKCcuanMtLXNvcnQnKS5maW5kKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ3JlYWRvbmx5Jyk7XHJcblxyXG5cdCQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblx0JCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcclxuXHJcblx0JCh0aGlzKS5oaWRlKCk7XHJcbn1cclxuXHJcblxyXG4vL9C60YDQtdGB0YLQuNC6INC/0YDQuCDQv9C+0LjRgdC60LUg0LIg0LrQu9C40LXQvdGC0LDRhSDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4XHJcbnZhciBjaGFuZ2Vzb3J0X3N0b2NrMl9fbz0gZnVuY3Rpb24oKSB7ICBcclxuXHR2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cdCQodGhpcykucHJldigpLnZhbCgnJyk7XHJcbiAgICAkLmNvb2tpZShcInN1Xzdjb1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7IFx0XHJcblx0JCgnLmpzLS1zb3J0JykucmVtb3ZlQ2xhc3MoJ2dyZWVpX2lucHV0Jyk7XHJcblx0JCgnLmpzLS1zb3J0JykuZmluZCgnaW5wdXQnKS5yZW1vdmVBdHRyKCdyZWFkb25seScpO1xyXG5cdFxyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cdFxyXG5cdCQodGhpcykuaGlkZSgpO1x0XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINC30LDQtNC10YDQttC60Lgg0L/RgNC4INC90LDQv9C40YHQsNC90LjQuCDQv9C+0LjRgdC60LAg0LIg0L/QvtC70Y/RhVxyXG5cclxud2luZG93LnNlYXJjaF9taW4gPSAxOyAgLy/QvNC40L0g0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQuNC80LLQvtC70L7QsiDQtNC70Y8g0LHRi9GB0YLRgNC+0LPQviDQv9C+0LjRgdC60LBcclxud2luZG93LnNlYXJjaF9kZWxleT04MDA7XHQvL9C30LDQtNC10YDQttC60LAg0LzQtdC20LTRgyDQstCy0L7QtNCw0LzQuCDRgdC40LzQstC+0LvQvtCyIC0g0L3QsNGH0LDQu9C+INC/0L7QuNGB0LrQsFxyXG53aW5kb3cuc2VhcmNoX2NsYXNzPScubG9sbF9zb3BseSc7XHQvL9C30LDQtNC10YDQttC60LAg0LzQtdC20LTRgyDQstCy0L7QtNCw0LzQuCDRgdC40LzQstC+0LvQvtCyIC0g0L3QsNGH0LDQu9C+INC/0L7QuNGB0LrQsFxyXG5cclxuXHJcblxyXG4vL9C/0LDQtNC10LYgXHJcbmZ1bmN0aW9uIE51bVRvSW5kZXhQYWRlaihudW0pXHJcbntcclxuIGlmIChudW0+PTUgfHwgbnVtPT0wKSB7IGluZD0yIH1cclxuIGVsc2UgICAgLy8xIDItNFxyXG4ge1xyXG4gICB2YXIgb2N0YXRvaz1udW0lMTA7XHJcbiAgIGlmIChvY3RhdG9rPjEpIHsgaW5kPTE7IH0gZWxzZSB7IGluZD0wOyB9IFxyXG4gfVxyXG4gcmV0dXJuIGluZDtcclxufVxyXG4vKlxyXG4gICAgICAgICAxICAgIDMgICAgMTBcclxuJHNrbD0n0LDQutGG0LjRjizQsNC60YbQuNC4LNCw0LrRhtC40LknO1xyXG4gUGFkZWpOdW1iZXIoJGNvdW50X290eml2LCRza2wpXHJcbiovXHJcbi8v0L/QsNC00LXQtlxyXG5mdW5jdGlvbiBQYWRlak51bWJlcihBZ2UsdHlwZSlcclxue1xyXG4gIHZhciBTS0w9dHlwZS5zcGxpdCgnLCcpO1xyXG4gIHZhciBpbmQ9TnVtVG9JbmRleFBhZGVqKEFnZSk7XHJcblx0XHJcblxyXG4gIHJldHVybiBTS0xbaW5kXTtcdFxyXG59XHJcblxyXG4vL9C+0YLQutGA0YvRgtC40LUg0LzQvtCx0LDQudC7INC80LXQvdGOXHRcclxuLy8gIHxcclxuLy8gXFwvXHRcclxuXHJcbndpbmRvdy5TbGljZU1NID0gZnVuY3Rpb24oKSB7IFxyXG5cdHZhciB0cl9zPSQoJy5idXJnZXJfb2snKTtcclxuXHR2YXIgbW9iaWxlPSQoJy5tb2JpbGUtbmF2Jyk7XHJcblx0aWYodHJfcy5pcyhcIi5hY3RpdmVcIikpIFxyXG5cdCAge1xyXG5cdFx0ICB0cl9zLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0ICBtb2JpbGUucmVtb3ZlQ2xhc3MoXCJhY3RcIik7XHJcblx0XHQgICQoJ2JvZHknKS5yZW1vdmVDbGFzcyhcIm1lbnUtb3BlblwiKTtcclxuXHRcdCAgXHJcblx0ICB9IGVsc2VcclxuXHQgIHtcclxuXHRcdCAgdHJfcy5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdCAgbW9iaWxlLmFkZENsYXNzKFwiYWN0XCIpO1xyXG5cdFx0ICAkKCdib2R5JykuYWRkQ2xhc3MoXCJtZW51LW9wZW5cIik7XHJcblx0ICB9XHJcblx0XHJcblx0XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBJbnB1dEZvY3VzTmV3MSgpXHJcbntcclxuXHQvL2FsZXJ0KFwiIVwiKTtcclxuXHR2YXIgdmFsX2lucHV0PSQodGhpcykudmFsKCk7XHJcblx0dmFyIGxhYmVsPSQodGhpcykucGFyZW50cygnLm9rLWlucHV0LXRpdGxlLTIwMTknKS5maW5kKCdsYWJlbCcpO1xyXG5cdHZhciBpbnB1dF9kaXY9JCh0aGlzKS5wYXJlbnRzKCcub2staW5wdXQtdGl0bGUtMjAxOScpO1xyXG5cdFxyXG5cdGlmKCFpbnB1dF9kaXYuaXMoJy5hY3RpdmVfaW5fMjAxOScpKVxyXG5cdHtcclxuXHRcdGlucHV0X2Rpdi5hZGRDbGFzcygnYWN0aXZlX2luXzIwMTknKTtcdFxyXG5cdH1cclxuXHRcclxuXHRpZighaW5wdXRfZGl2LmlzKCcuYWN0aXZlMV9pbl8yMDE5JykpXHJcblx0e1xyXG5cdFx0aW5wdXRfZGl2LmFkZENsYXNzKCdhY3RpdmUxX2luXzIwMTknKTtcdFxyXG5cdH1cclxuXHRcclxuXHQvL9C80L7QttC10YIg0L3QsNC00L4g0L7RgtC60YDRi9GC0Ywg0LrQsNC70LXQvdC00LDRgNGMXHJcblx0dmFyIGNhbGVuZGFyPWlucHV0X2Rpdi5maW5kKCcuY2FsXzIwMTknKTtcclxuXHRpZihjYWxlbmRhci5sZW5ndGghPTApXHJcblx0e1xyXG5cdFx0XHQkKFwiLmRhdGVfX18yMDE5XCIpLnNob3coKTtcdFxyXG5cdH1cclxuXHRcclxuXHQgXHJcblx0XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog0YPQtNCw0LvQuNGC0Ywg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAqL1xyXG5mdW5jdGlvbiBqc191c2Vyc19kZWwoZXZlbnQpXHJcbntcclxuXHRpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcblx0XHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG5cdFx0JC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcblx0fVxyXG5cclxuXHRpZigkKHRoaXMpLmlzKCdbaWRfcmVsXScpKVxyXG5cdHtcclxuXHRcdHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy51c2Vyc19ibG9jaycpLmF0dHIoJ29wX3JlbCcpO1xyXG5cdH1cclxuXHJcblx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbi8qXHJcblx0JC5hcmN0aWNtb2RhbCh7XHJcblx0XHR0eXBlOiAnYWpheCcsXHJcblx0XHR1cmw6ICdmb3Jtcy91c2Vycy9mb3JtX2RlbGxfdXNlcnMucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuXHRcdGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0Ly9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcblx0XHR9LFxyXG5cdFx0YWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuXHRcdH0sXHJcblx0XHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcbiovXHJcblx0JC5hcmN0aWNtb2RhbCh7XHJcblx0XHR0eXBlOiAnYWpheCcsXHJcblx0XHR1cmw6ICdmb3Jtcy91c2Vycy9mb3JtX2RlbGxfdXNlcnMucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuXHRcdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG5cdFx0XHQkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdH0sXHJcblx0XHRhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG5cdFx0XHRkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHR9LFxyXG5cdFx0YmVmb3JlQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdFx0XHRpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Qm9keVNjcm9vbCgpO1xyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gSW5wdXRCbHVyTmV3MSgpXHJcbntcclxuXHQvL2FsZXJ0KCQodGhpcykudmFsKCkpO1xyXG5cdHZhciB2YWxfaW5wdXQ9JCh0aGlzKS52YWwoKTtcclxuXHR2YXIgbGFiZWw9JCh0aGlzKS5wYXJlbnRzKCcub2staW5wdXQtdGl0bGUtMjAxOScpLmZpbmQoJ2xhYmVsJyk7XHJcblx0dmFyIGlucHV0X2Rpdj0kKHRoaXMpLnBhcmVudHMoJy5vay1pbnB1dC10aXRsZS0yMDE5Jyk7XHJcblx0XHJcblx0aW5wdXRfZGl2LnJlbW92ZUNsYXNzKCdhY3RpdmUxX2luXzIwMTknKTtcclxuXHRcclxuXHRpZih2YWxfaW5wdXQ9PScnKVxyXG5cdHtcclxuXHRcdGlucHV0X2Rpdi5yZW1vdmVDbGFzcygnYWN0aXZlX2luXzIwMTknKTtcdFxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdGlucHV0X2Rpdi5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWlfMjAxOScpO1x0XHRcclxuXHR9XHJcbn1cclxuXHJcbi8v0LDQutGC0LjQstCw0YbQuNGPINC40L3Qv9GD0YLQvtCyIDIwMTlcclxuZnVuY3Rpb24gaW5wdXRfMjAxOSgpXHJcbntcclxuXHQvL2FsZXJ0KFwiIVwiKTtcclxuXHQvL9C/0LXRgNC10LHRgNCw0YLRjCDQstGB0LUg0L3QvtCy0YvQtSDQuNC90L/Rg9GC0Ysg0Lgg0LXRgdC70Lgg0L3QtSDQv9GD0YHRgtC+INCw0LrRgtC40LLQuNGA0L7QstCw0YLRjFxyXG5cdCQoXCIuaW5wdXRfbmV3XzIwMTlcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7IFxyXG5cclxuICAgdmFyIGlucHV0PSQudHJpbSgkKHRoaXMpLnZhbCgpKTtcclxuICAgaWYoaW5wdXQhPScnKVxyXG5cdCAgIHtcclxuXHRcdCAgICQodGhpcykucGFyZW50cygnLm9rLWlucHV0LXRpdGxlLTIwMTknKS5hZGRDbGFzcygnYWN0aXZlX2luXzIwMTknKTtcclxuXHQgICB9XHJcbn0pOyBcclxuXHRcclxufVxyXG4vL9Cw0LrRgtC40LLQsNGG0LjRjyDQuNC90L/Rg9GC0L7QsiAyMDE4XHJcbmZ1bmN0aW9uIGlucHV0XzIwMTgoKVxyXG57XHJcblx0Ly/Qv9C10YDQtdCx0YDQsNGC0Ywg0LLRgdC1INC90L7QstGL0LUg0LjQvdC/0YPRgtGLINC4INC10YHQu9C4INC90LUg0L/Rg9GB0YLQviDQsNC60YLQuNCy0LjRgNC+0LLQsNGC0YxcclxuXHQkKFwiLmlucHV0X25ld18yMDE4XCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkgeyBcclxuXHJcbiAgIHZhciBpbnB1dD0kLnRyaW0oJCh0aGlzKS52YWwoKSk7XHJcbiAgIGlmKGlucHV0IT0nJylcclxuXHQgICB7XHJcblx0XHQgICAkKHRoaXMpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykuYWRkQ2xhc3MoJ2FjdGl2ZV9pbl8yMDE4Jyk7XHJcblx0ICAgfVxyXG59KTsgXHJcblx0XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjb3B5eSgpXHJcbntcclxuXHR2YXIgYmxvY2sgPSAkKHRoaXMpO1xyXG5cdFx0aWYgKCBibG9jay5pcyhcIi5hY3RpdmVfb3BlcmF0b3JfeFwiKSApXHJcbiAgICB7XHJcblx0XHRcclxuXHRcdGJsb2NrLnJlbW92ZUNsYXNzKCdhY3RpdmVfb3BlcmF0b3JfeCcpO1xyXG5cdFx0XHJcblx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHRcdGJsb2NrLmFkZENsYXNzKCdhY3RpdmVfb3BlcmF0b3JfeCcpO1xyXG5cdFx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjb3B5eV9jbGllbnRzKClcclxue1xyXG5cdHZhciBibG9jaz0kKHRoaXMpLnBhcmVudHMoJy5jbGllbnRzX2Jsb2NrJyk7XHJcblx0XHRpZiAoIGJsb2NrLmlzKFwiLmFjdGl2ZV9vcGVyYXRvcl94XCIpIClcclxuICAgIHtcclxuXHRcdFxyXG5cdFx0YmxvY2sucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9vcGVyYXRvcl94Jyk7XHJcblx0XHRcclxuXHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdFx0YmxvY2suYWRkQ2xhc3MoJ2FjdGl2ZV9vcGVyYXRvcl94Jyk7XHJcblx0XHR9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjb3B5eTEoKVxyXG57XHJcblx0dmFyIGJsb2NrPSQodGhpcykucGFyZW50cygnLmFuc3dlcl9ibG9jaycpO1xyXG5cdFx0aWYgKCBibG9jay5pcyhcIi5hY3RpdmVfb3BlcmF0b3JfeFwiKSApXHJcbiAgICB7XHJcblx0XHRcclxuXHRcdGJsb2NrLnJlbW92ZUNsYXNzKCdhY3RpdmVfb3BlcmF0b3JfeCcpO1xyXG5cdFx0XHJcblx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHRcdGJsb2NrLmFkZENsYXNzKCdhY3RpdmVfb3BlcmF0b3JfeCcpO1xyXG5cdFx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGlja19oaXN0b3J5X2F2YW5zKClcclxue1xyXG5cdHZhciBpZD0gJCh0aGlzKS5hdHRyKCdvcF91bycpO1xyXG5cdCAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1faGlzdG9yeV9wcmVwYWlkLnBocD9pZD0nK2lkLFxyXG4gICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgfSxcclxuICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiByYWRpb19jbGllbnRfc3Z2KClcclxue1xyXG5cdHZhciB2YWw9JCh0aGlzKS52YWwoKTtcclxuXHRpZih2YWw9PTApXHJcblx0e1xyXG5cdFx0JCgnLnR3b19jbGllbnRfYm94X2FkZCcpLnNsaWRlVXAoXCJzbG93XCIsIGZ1bmN0aW9uKCkgeyQoJy5vbmVfY2xpZW50X2JveF9hZGQnKS5zbGlkZURvd24oKTsgfSk7XHJcblx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHQkKCcub25lX2NsaWVudF9ib3hfYWRkJykuc2xpZGVVcChcInNsb3dcIiwgZnVuY3Rpb24oKSB7JCgnLnR3b19jbGllbnRfYm94X2FkZCcpLnNsaWRlRG93bigpOyB9KTtcdFxyXG5cdFx0fVxyXG59XHJcblxyXG4vL9GD0YLQvtGH0L3QtdC90LjQtSDQstGA0LXQvNC10L3QuCDQstGL0LvQtdGC0L7QsiDRgtGD0YDQuNGB0YLQsCDQsiDQutC70LjQtdC90YLRgdC60L7QvCDRgdC/0LjRgdC60LVcclxuZnVuY3Rpb24gZmx5X2VkaXQxKClcclxue1xyXG5cdFx0dmFyIGlkPSAkKHRoaXMpLmF0dHIoJ2lkX2ZseScpO1xyXG5cdCAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZmx5X2VkaXQxLnBocD9pZD0nK2lkLFxyXG4gICBcdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0XHRcdFx0XHRcclxuICAgIH0sXHJcbiAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxufVxyXG5cclxuLy/QuNGB0YLQvtGA0LjRjyDQuNC30LzQtdC90LXQvdC40Y8g0LLRgNC10LzQtdC90Lgg0Lgg0LTQsNGC0Ysg0LLRi9C70LXRgtC+0LJcclxuZnVuY3Rpb24gZmx5X2hpc3RvcnkoKVxyXG57XHJcblx0dmFyIGlkPSAkKHRoaXMpLnBhcmVudHMoJy5ib29raW5nX3NvdXJzZScpLmF0dHIoJ2lkX29mZmVycycpO1xyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG5cdFx0dHlwZTogJ2FqYXgnLFxyXG5cdFx0dXJsOiAnZm9ybXMvZm9ybV9mbHlfaGlzdG9yeS5waHA/aWQ9JytpZCxcclxuXHRcdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cclxuXHRcdH0sXHJcblx0XHRhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0fSxcclxuXHRcdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdFx0XHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxufVxyXG5cclxuXHJcbi8v0LjRgdGC0L7RgNC40Y8g0LjQt9C80LXQvdC10L3QuNGPINCy0YDQtdC80LXQvdC4INC4INC00LDRgtGLINCy0YvQu9C10YLQvtCyINC00LvRjyDRgtGD0YDQvtCyXHJcbmZ1bmN0aW9uIGZseV9oaXN0b3J5X3RyaXBzKClcclxue1xyXG5cdFx0dmFyIGlkPSAkKHRoaXMpLnBhcmVudHMoJy50cmlwc19ibG9ja19nbG9iYWwnKS5hdHRyKCdpZF90cmlwcycpO1xyXG5cdCAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZmx5X2hpc3RvcnlfdHJpcHMucGhwP2lkPScraWQsXHJcbiAgIFx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG59XHJcblxyXG4vL9C40LfQvNC10L3QuNGC0Ywg0LTQvtCx0LDQstC40YLRjCDQutC+0LzQvNC10L3RgtCw0YDQuNC5INC6INC+0YLQtNGL0YXRg1xyXG5mdW5jdGlvbiBhZGRfZWRpdF9jb21tZW50KClcclxue1xyXG5cdFx0dmFyIGlkPSAkKHRoaXMpLnBhcmVudHMoJy5ib29raW5nX3NvdXJzZScpLmF0dHIoJ2lkX29mZmVycycpO1xyXG5cdCAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fYWRkX2VkaXRfY29tbWVudC5waHA/aWQ9JytpZCxcclxuICAgXHRiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG5cdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFx0XHRcdFx0XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8v0LjQt9C80LXQvdC40YLRjCDQtNC+0LHQsNCy0LjRgtGMINC60L7QvNC80LXQvdGC0LDRgNC40Lkg0Log0L7RgtC00YvRhdGDXHJcbmZ1bmN0aW9uIGFkZF9lZGl0X2NvbW1lbnQxKClcclxue1xyXG5cdFx0dmFyIGlkPSAkKHRoaXMpLnBhcmVudHMoJy5jbGllbnRzX2NvbW1lbnQnKS5hdHRyKCdpZF9vZmZlcnMnKTtcclxuXHQgICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9mb3JtX2FkZF9lZGl0X2NvbW1lbnQucGhwP2lkPScraWQsXHJcbiAgIFx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG59XHJcblxyXG4vL9GD0YLQvtGH0L3QtdC90LjQtSDQstGA0LXQvNC10L3QuCDQstGL0LvQtdGC0L7QsiDRgtGD0YDQuNGB0YLQsCDQsiDQt9Cw0Y/QstC60LVcclxuZnVuY3Rpb24gZmx5X2VkaXQoKVxyXG57XHJcblx0XHR2YXIgaWQ9ICQodGhpcykucGFyZW50cygnLmJvb2tpbmdfc291cnNlJykuYXR0cignaWRfb2ZmZXJzJyk7XHJcblx0ICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9mbHlfZWRpdC5waHA/aWQ9JytpZCxcclxuICAgXHRiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG5cdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFx0XHRcdFx0XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG4vL9GD0YLQvtGH0L3QtdC90LjQtSDQstGA0LXQvNC10L3QuCDQstGL0LvQtdGC0L7QsiDRgtGD0YDQuNGB0YLQsCDQsiDRgtGD0YDQtVxyXG5mdW5jdGlvbiBmbHlfZWRpdF90cmlwcygpXHJcbntcclxuXHR2YXIgaWQ9ICQodGhpcykucGFyZW50cygnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLmF0dHIoJ2lkX3RyaXBzJyk7XHJcblx0JC5hcmN0aWNtb2RhbCh7XHJcblx0XHR0eXBlOiAnYWpheCcsXHJcblx0XHR1cmw6ICdmb3Jtcy9mb3JtX2ZseV9lZGl0X3RyaXBzLnBocD9pZD0nK2lkLFxyXG5cdFx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblxyXG5cdFx0fSxcclxuXHRcdGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHR9LFxyXG5cdFx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0XHRcdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG59XHJcblxyXG4vL9C/0L7RgdC80L7RgtGA0LXRgtGMINC40YHRgtC+0YDQuNGOINC/0LvQsNGC0LXQttC10LlcclxuZnVuY3Rpb24gd2luX3ByaWJsKClcclxue1xyXG5cdHZhciBpZD0gJCh0aGlzKS5hdHRyKCdmb3InKTtcclxuXHQgICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9mb3JtX2hpc3RvcnlfcGF5bWVudC5waHA/aWQ9JytpZCxcclxuICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgIH0sXHJcbiAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcblx0XHRUb29sVGlwKCk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuLy/Qt9Cw0LHRgNC+0L3QuNGA0L7QstCw0YLRjCDQt9Cw0Y/QstC60YNcclxuZnVuY3Rpb24geWVzc19ib29raW5nKClcclxue1xyXG5cdHZhciBpZD0gJCh0aGlzKS5wYXJlbnRzKCcuYnV0dG9uX3llc19ubycpLmF0dHIoJ2ZvcicpO1xyXG5cclxuXHJcbiAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZDtcclxuICAgIEFqYXhDbGllbnQoJ2Jvb2tpbmcnLCdicm9uX2Jvb2tpbmcnLCdHRVQnLGRhdGEsJ0FmdGVyYnJvbl9ib29raW5nJyxpZCwwKTtcclxufVxyXG5cclxuLy/RgdC+0YXRgNCw0L3QuNGC0Ywg0LfQsNGP0LLQutGDXHJcbmZ1bmN0aW9uIHNhdmVfYm9va2luZygpXHJcbntcclxuXHQgdmFyIGVyciA9IDA7XHRcdFxyXG5cdCAkKFwiLnNvdXJzZV9lcnJvciwuc291cnNlX2Vycm9yMSwjbmFtZV9iLCNwaG9uZV9iLCNvdHppdl9hcmVhX2FkYXh4LCNuYW1lX2NsaWVudF9iLCNkYXRlX2hpZGRlbl90YWJsZV9ncjJcIikucmVtb3ZlQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcblx0XHJcblx0ICQoJy5uZXdfc2VhcmNoX2FkZF9ib29rJykucmVtb3ZlQ2xhc3MoJ2Vycm9yXzIwMTlfaW4nKTtcclxuXHRcclxuICAgICBpZigkKFwiI3NvdXJzZV9iXCIpLnZhbCgpID09ICcnKSB7ICQoXCIuc291cnNlX2Vycm9yXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHQgaWYoJChcIiNyYWRpb19ia1wiKS52YWwoKSA9PSAnJykgeyAkKFwiLnNvdXJzZV9lcnJvcjFcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVxyXG5cdFxyXG5cdFxyXG5cdGlmKCQoXCIjbmFtZV9iXCIpLnZhbCgpID09ICcnKSAgeyAkKFwiI25hbWVfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0Ly9pZigkKFwiI3Bob25lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjcGhvbmVfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHRcclxuXHRcclxuXHQvL2lmKCQoXCIjbmFtZV9jbGllbnRfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNuYW1lX2NsaWVudF9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cdFxyXG5cdFxyXG5cdFxyXG5cdGlmKCQoJ1tuYW1lPWNsaWVudF9uZXcxX3NlYXJjaF0nKS52YWwoKT09MClcclxuXHR7XHJcblx0ICAgICAgIGlmKCQoXCIjbmFtZV9jbGllbnRfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNuYW1lX2NsaWVudF9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cdFxyXG5cdFx0XHJcblx0XHRcdCAgICAgIC8vIGlmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNwaG9uZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRcdFxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdFx0aWYoKCQoXCJbbmFtZT1pZF9zZWFyY2hfY2xpZW50MV1cIikudmFsKCkgPT0gJzAnKXx8KCQoXCJbbmFtZT1pZF9zZWFyY2hfY2xpZW50MV1cIikudmFsKCkgPT0gJycpKSAgeyAkKFwiLm5ld19zZWFyY2hfYWRkX2Jvb2tcIikuYWRkQ2xhc3MoJ2Vycm9yXzIwMTlfaW4nKTsgZXJyKys7XHR9XHRcclxuXHR9XHJcblx0XHJcblx0XHJcblx0aWYoJChcIiNkYXRlX2hpZGRlbl90YWJsZV9ncjJcIikudmFsKCkgPT0gJycpICB7ICQoXCIjZGF0ZV9oaWRkZW5fdGFibGVfZ3IxXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRpZihlcnIhPTApXHJcblx0e1xyXG5cdCQoJy5lcnJvcl90ZXh0X2FkZCcpLmVtcHR5KCkuYXBwZW5kKCfQndC1INCy0YHQtSDQv9C+0LvRjyDQt9Cw0L/QvtC70L3QtdC90Ysg0LTQu9GPINGB0L7RhdGA0LDQvdC10L3QuNGPJykuc2hvdygpO1xyXG5cdHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7ICQoJy5lcnJvcl90ZXh0X2FkZCcpLmhpZGUoKTsgfSwgNzAwMCApO1xyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdCQoJyNsYWxhbGFfYWRkX2Zvcm0nKS5zdWJtaXQoKTtcdFxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZV9yZXBvcnRzKClcclxue1xyXG5cdC8vYWxlcnQoXCIhXCIpO1xyXG5cdFx0IHZhciBlcnIgPSAwO1x0XHRcclxuXHQgJChcIiNuYW1lX2IsI3Bob25lX2JcIikucmVtb3ZlQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcbiAgICAgXHJcblx0XHJcblx0XHJcblx0aWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRpZigkKFwiI3Bob25lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjcGhvbmVfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0aWYoZXJyIT0wKVxyXG5cdHtcclxuXHQkKCcuZXJyb3JfdGV4dF9hZGQnKS5lbXB0eSgpLmFwcGVuZCgn0J3QtSDQstGB0LUg0L/QvtC70Y8g0LfQsNC/0L7Qu9C90LXQvdGLINC00LvRjyDRgdC+0YXRgNCw0L3QtdC90LjRjycpLnNob3coKTtcclxuXHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCcuZXJyb3JfdGV4dF9hZGQnKS5oaWRlKCk7IH0sIDcwMDAgKTtcclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHQkKCcjbGFsYWxhX2FkZF9mb3JtJykuc3VibWl0KCk7XHRcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhdmVfdXNlcnMoKVxyXG57XHJcblx0Ly9hbGVydChcIiFcIik7XHJcblx0XHQgdmFyIGVyciA9IDA7XHRcdFxyXG5cdCAkKFwiLnNvdXJzZV9lcnJvciwuc291cnNlX2Vycm9yMSwjbmFtZV9iLCNuYW1lX2IxLCNsb2dpbl9iLCNwYXNzd29yZF9iXCIpLnJlbW92ZUNsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG4gICAgIGlmKCQoXCIjc291cnNlX2JcIikudmFsKCkgPT0gJycpIHsgJChcIi5zb3Vyc2VfZXJyb3JcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVxyXG5cdCBpZigkKFwiI3JhZGlvX2JrXCIpLnZhbCgpID09ICcnKSB7ICQoXCIuc291cnNlX2Vycm9yMVwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0XHJcblx0XHJcblx0aWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRpZigkKFwiI25hbWVfYjFcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9iMVwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0XHJcblx0aWYoJChcIiNsb2dpbl9iXCIpLnZhbCgpID09ICcnKSAgeyAkKFwiI2xvZ2luX2JcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVxyXG5cdGlmKGVyciE9MClcclxuXHR7XHJcblx0JCgnLmVycm9yX3RleHRfYWRkJykuZW1wdHkoKS5hcHBlbmQoJ9Cd0LUg0LLRgdC1INC/0L7Qu9GPINC30LDQv9C+0LvQvdC10L3RiyDQtNC70Y8g0YHQvtGF0YDQsNC90LXQvdC40Y8nKS5zaG93KCk7XHJcblx0c2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgJCgnLmVycm9yX3RleHRfYWRkJykuaGlkZSgpOyB9LCA3MDAwICk7XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0JCgnI2xhbGFsYV9hZGRfZm9ybScpLnN1Ym1pdCgpO1x0XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBuZXh0X3N0ZXBfcmVwb3J0cygpXHJcbntcclxuICAgdmFyIGVyciA9IDA7XHRcdFxyXG5cdCQoXCIjbmFtZV9iLCNwaG9uZV9iXCIpLnJlbW92ZUNsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG4gXHJcblxyXG5cdGlmKCQoXCIjbmFtZV9iXCIpLnZhbCgpID09ICcnKSAgeyAgZXJyKys7XHR9XHJcblx0aWYoJChcIiNwaG9uZV9iXCIpLnZhbCgpID09ICcnKSAgeyAgZXJyKys7XHR9XHJcblx0XHJcblxyXG5cdC8vYWxlcnQoXCIhXCIpO1xyXG5cdHZhciBzdGVwPSQoJy5zZW5kX2Zvcm1fcmVwb3J0cycpO1xyXG5cdGlmKGVyciE9MClcclxuXHR7XHJcblx0XHRzdGVwLnJlbW92ZUNsYXNzKFwiZ3JlZWVuXCIpO1xyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdHZhciBzdGVwPSQoJy5zZW5kX2Zvcm1fcmVwb3J0cycpO1xyXG5pZighc3RlcC5pcygnLmdyZWVlbicpKVxyXG5cdHtcclxuXHRcdHN0ZXAuYWRkQ2xhc3MoXCJncmVlZW5cIik7XHJcblx0fVxyXG5cdFx0Ly/QtNCw0LXQvCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINC+0YLQv9GA0LDQstC40YLRjCDRhNC+0YDQvNGDXHJcblx0XHRcclxuXHR9XHRcclxufVxyXG5cclxuZnVuY3Rpb24gbmV4dF9zdGVwX3VzZXJzKClcclxue1xyXG4gICAgdmFyIGVyciA9IDA7XHRcdFxyXG5cdCQoXCIuc291cnNlX2Vycm9yLC5zb3Vyc2VfZXJyb3IxLCNuYW1lX2IsI25hbWVfYjEsI2xvZ2luX2IsI3Bhc3N3b3JkX2JcIikucmVtb3ZlQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcbiBcclxuICAgICBpZigkKFwiI3NvdXJzZV9iXCIpLnZhbCgpID09ICcnKSB7ICBlcnIrKztcdH1cclxuXHQgaWYoJChcIiNyYWRpb19ia1wiKS52YWwoKSA9PSAnJykgeyAgZXJyKys7XHR9XHJcblx0XHJcblx0XHJcblx0aWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7ICBlcnIrKztcdH1cclxuXHRpZigkKFwiI25hbWVfYjFcIikudmFsKCkgPT0gJycpICB7ICBlcnIrKztcdH1cclxuXHRcclxuXHRpZigkKFwiI2xvZ2luX2JcIikudmFsKCkgPT0gJycpICB7ICBlcnIrKztcdH1cclxuXHRpZigkKFwiI3Bhc3N3b3JkX2JcIikudmFsKCkgPT0gJycpICB7ICBlcnIrKztcdH1cclxuXHRcclxuXHR2YXIgc3RlcD0kKCcuc2VuZF9mb3JtX3VzZXJzJyk7XHJcblx0aWYoZXJyIT0wKVxyXG5cdHtcclxuXHRcdHN0ZXAucmVtb3ZlQ2xhc3MoXCJncmVlZW5cIik7XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0dmFyIHN0ZXA9JCgnLnNlbmRfZm9ybV91c2VycycpO1xyXG5pZighc3RlcC5pcygnLmdyZWVlbicpKVxyXG5cdHtcclxuXHRcdHN0ZXAuYWRkQ2xhc3MoXCJncmVlZW5cIik7XHJcblx0fVxyXG5cdFx0Ly/QtNCw0LXQvCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINC+0YLQv9GA0LDQstC40YLRjCDRhNC+0YDQvNGDXHJcblx0XHRcclxuXHR9XHRcclxufVxyXG5cclxuZnVuY3Rpb24gbmV4dF9zdGVwX29wZXJhdG9yKClcclxue1xyXG4gICAgdmFyIGVyciA9IDA7XHRcdFxyXG5cdCQoXCIjbmFtZV9iXCIpLnJlbW92ZUNsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG4gXHJcbiAgLypcclxuICAgIGlmKCQoXCIjc291cnNlX2JcIikudmFsKCkgPT0gJycpIHsgJChcIi5zb3Vyc2VfZXJyb3JcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVxyXG5cdGlmKCQoXCIjbmFtZV9iXCIpLnZhbCgpID09ICcnKSAgeyAkKFwiI25hbWVfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0aWYoJChcIiNwaG9uZV9iXCIpLnZhbCgpID09ICcnKSAgeyAkKFwiI3Bob25lX2JcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVx0XHJcblx0aWYoJChcIiNuYW1lX2NsaWVudF9iXCIpLnZhbCgpID09ICcnKSAgeyAkKFwiI25hbWVfY2xpZW50X2JcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVx0XHJcblx0aWYoJChcIiNkYXRlX2hpZGRlbl90YWJsZV9ncjJcIikudmFsKCkgPT0gJycpICB7ICQoXCIjZGF0ZV9oaWRkZW5fdGFibGVfZ3IxXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cdFxyXG4qL1xyXG4gICBcclxuXHRpZigkKFwiI25hbWVfYlwiKS52YWwoKSA9PSAnJykgIHsgIGVycisrO1x0fVxyXG5cdC8vaWYoJChcIiNwaG9uZV9iXCIpLnZhbCgpID09ICcnKSAgeyAgZXJyKys7XHR9XHRcclxuXHRcclxuXHR2YXIgc3RlcD0kKCcuYWRkX2ludm9pY2VfYm9va2luZycpO1xyXG5cdGlmKGVyciE9MClcclxuXHR7XHJcblx0XHRzdGVwLnJlbW92ZUNsYXNzKFwiZ3JlZWVuXCIpO1xyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdHZhciBzdGVwPSQoJy5hZGRfaW52b2ljZV9ib29raW5nJyk7XHJcbmlmKCFzdGVwLmlzKCcuZ3JlZWVuJykpXHJcblx0e1xyXG5cdFx0c3RlcC5hZGRDbGFzcyhcImdyZWVlblwiKTtcclxuXHR9XHJcblx0XHQvL9C00LDQtdC8INCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0L7RgtC/0YDQsNCy0LjRgtGMINGE0L7RgNC80YNcclxuXHRcdFxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5leHRfc3RlcF9ib29raW5nKClcclxue1xyXG5cdC8vYWxlcnQoXCIhXCIpO1xyXG4gICAgdmFyIGVyciA9IDA7XHRcdFxyXG5cdCQoXCIuc291cnNlX2Vycm9yLC5zb3Vyc2VfZXJyb3IxLCNuYW1lX2IsI290eml2X2FyZWFfYWRheHgsI3Bob25lX2IsI25hbWVfY2xpZW50X2IsI2RhdGVfaGlkZGVuX3RhYmxlX2dyMlwiKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuIFxyXG5cdCQoJy5uZXdfc2VhcmNoX2FkZF9ib29rJykucmVtb3ZlQ2xhc3MoJ2Vycm9yXzIwMTlfaW4nKTtcclxuXHRcclxuXHRcclxuICAvKlxyXG4gICAgaWYoJChcIiNzb3Vyc2VfYlwiKS52YWwoKSA9PSAnJykgeyAkKFwiLnNvdXJzZV9lcnJvclwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0aWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRpZigkKFwiI3Bob25lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjcGhvbmVfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHRcclxuXHRpZigkKFwiI25hbWVfY2xpZW50X2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9jbGllbnRfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHRcclxuXHRpZigkKFwiI2RhdGVfaGlkZGVuX3RhYmxlX2dyMlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNkYXRlX2hpZGRlbl90YWJsZV9ncjFcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVx0XHJcbiovXHJcbiAgICBpZigkKFwiI3NvdXJzZV9iXCIpLnZhbCgpID09ICcnKSB7ICBlcnIrKztcdH1cclxuXHRcclxuXHRpZigkKFwiI3JhZGlvX2JrXCIpLmxlbmd0aCE9MClcclxuXHR7XHJcblx0XHRpZigkKFwiI3JhZGlvX2JrXCIpLnZhbCgpID09ICcnKSB7ICBlcnIrKztcdH1cdFxyXG5cdH1cclxuXHRpZigkKFwiI25hbWVfYlwiKS52YWwoKSA9PSAnJykgIHsgIGVycisrO1x0fVxyXG5cdFxyXG5cdGlmKCQoJ1tuYW1lPWNsaWVudF9uZXcxX3NlYXJjaF0nKS52YWwoKT09MClcclxuXHR7XHJcblx0ICBcdGlmKCQoXCIjbmFtZV9jbGllbnRfYlwiKS52YWwoKSA9PSAnJykgIHsgIGVycisrO1x0fVxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRpZigkKCdbbmFtZT1pZF9zZWFyY2hfY2xpZW50MV0nKS52YWwoKT09MClcclxuXHQgICAgICAgIHsgIGVycisrO1x0fVxyXG5cdH1cclxuXHQvL2lmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgIGVycisrO1x0fVxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdGlmKCQoXCIjZGF0ZV9oaWRkZW5fdGFibGVfZ3IyXCIpLnZhbCgpID09ICcnKSAgeyBlcnIrKzsgfVx0XHRcclxuXHRcclxuXHR2YXIgc3RlcD0kKCcuYWRkX2ludm9pY2VfYm9va2luZycpO1xyXG5cdGlmKGVyciE9MClcclxuXHR7XHJcblx0XHRzdGVwLnJlbW92ZUNsYXNzKFwiZ3JlZWVuXCIpO1xyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdHZhciBzdGVwPSQoJy5hZGRfaW52b2ljZV9ib29raW5nJyk7XHJcbmlmKCFzdGVwLmlzKCcuZ3JlZWVuJykpXHJcblx0e1xyXG5cdFx0c3RlcC5hZGRDbGFzcyhcImdyZWVlblwiKTtcclxuXHR9XHJcblx0XHQvL9C00LDQtdC8INCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0L7RgtC/0YDQsNCy0LjRgtGMINGE0L7RgNC80YNcclxuXHRcdFxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5leHRfc3RlcF9jbGllbnRzKClcclxue1xyXG5cdC8vYWxlcnQoXCIhXCIpO1xyXG4gICAgdmFyIGVyciA9IDA7XHRcdFxyXG5cdCQoXCIjbmFtZV9iLCNwaG9uZV9iLCNkYXlfYlwiKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuIFxyXG5cdCQoJy5uZXdfc2VhcmNoX2FkZF9ib29rJykucmVtb3ZlQ2xhc3MoJ2Vycm9yXzIwMTlfaW4nKTtcclxuXHRcclxuXHRcclxuICAvKlxyXG4gICAgaWYoJChcIiNzb3Vyc2VfYlwiKS52YWwoKSA9PSAnJykgeyAkKFwiLnNvdXJzZV9lcnJvclwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0aWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRpZigkKFwiI3Bob25lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjcGhvbmVfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHRcclxuXHRpZigkKFwiI25hbWVfY2xpZW50X2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9jbGllbnRfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHRcclxuXHRpZigkKFwiI2RhdGVfaGlkZGVuX3RhYmxlX2dyMlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNkYXRlX2hpZGRlbl90YWJsZV9ncjFcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVx0XHJcbiovXHJcbiAgICBcclxuXHRpZigkKFwiI25hbWVfYlwiKS52YWwoKSA9PSAnJykgIHsgIGVycisrO1x0fVxyXG5cdGlmKCQoXCIjZGF5X2JcIikudmFsKCkgPT0gJycpICB7ICBlcnIrKztcdH1cclxuXHRcdGlmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgIGVycisrO1x0fVxyXG5cdFxyXG5cclxuXHQvL2lmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgIGVycisrO1x0fVxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cdFx0XHJcblx0XHJcblx0dmFyIHN0ZXA9JCgnLmFkZF9pbnZvaWNlX2Jvb2tpbmcnKTtcclxuXHRpZihlcnIhPTApXHJcblx0e1xyXG5cdFx0c3RlcC5yZW1vdmVDbGFzcyhcImdyZWVlblwiKTtcclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHR2YXIgc3RlcD0kKCcuYWRkX2ludm9pY2VfYm9va2luZycpO1xyXG5pZighc3RlcC5pcygnLmdyZWVlbicpKVxyXG5cdHtcclxuXHRcdHN0ZXAuYWRkQ2xhc3MoXCJncmVlZW5cIik7XHJcblx0fVxyXG5cdFx0Ly/QtNCw0LXQvCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINC+0YLQv9GA0LDQstC40YLRjCDRhNC+0YDQvNGDXHJcblx0XHRcclxuXHR9XHJcblxyXG59XHJcblxyXG5cclxudmFyIGRlbGF5MSA9IChmdW5jdGlvbih0aCl7IFxyXG4gIHZhciB0aW1lciA9IDA7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrLCBtcyl7XHJcbiAgICBjbGVhclRpbWVvdXQgKHRpbWVyKTtcclxuICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgbXMpO1xyXG4gIH07XHJcbn0pKCk7XHJcblxyXG52YXIgZGVsYXlzID0gKGZ1bmN0aW9uKCl7XHJcbiAgdmFyIHRpbWVyID0gMDtcclxuICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2ssIG1zKXtcclxuICAgIGNsZWFyVGltZW91dCAodGltZXIpO1xyXG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XHJcbiAgfTtcclxufSkoKTtcclxuXHJcbi8v0YTRg9C90LrRhtC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQstCy0L7QtNCwINGC0L7Qu9GM0LrQviDRh9C40YHQtdC7INC4INGBINC30LDQv9GP0YLQvtC5XHJcbnZhciB2YWxpZGF0ZTExID0gZnVuY3Rpb24oKSB7XHJcbiAgJCh0aGlzKS52YWwoJCh0aGlzKS52YWwoKS5yZXBsYWNlKC9bXlxcZC5dKi9nLCAnJykucmVwbGFjZSgvKFsuXSlbLl0rL2csICckMScpLnJlcGxhY2UoL15bXlxcZF0qKFxcZCsoWy5dXFxkezAsNX0pPykuKiQvZywgJyQxJykpO1xyXG59XHJcbi8v0YTRg9C90LrRhtC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQstCy0L7QtNCwINGC0L7Qu9GM0LrQviDRhtC10LvRi9GFINGH0LjRgdC10LtcclxudmFyIHZhbGlkYXRlMTIgPSBmdW5jdGlvbigpIHtcclxuICBcdCQodGhpcykudmFsKCQodGhpcykudmFsKCkucmVwbGFjZSgvW15cXGRdKi9nLCAnJykucmVwbGFjZSgvKFtdKVtdKy9nLCAnJDEnKS5yZXBsYWNlKC9eW15cXGRdKihcXGQrKFtdXFxkezAsNX0pPykuKiQvZywgJyQxJykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhbmltYXRpb25fdGVwc19zdXBwbHkoKVxyXG57XHJcblx0JCgnLnRlcHNfc3VwcGx5JykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHQkKHRoaXMpLmFuaW1hdGUoe3dpZHRoOiAkKHRoaXMpLmF0dHIoJ3JlbF93JykrXCIlXCJ9LCAyMDAwLCBmdW5jdGlvbigpIHsgIH0pO1xyXG59KTtcclxufVxyXG5cclxuXHJcbi8v0LTRg9C80LDRjtGCINC90LDQtCDQv9GA0LXQtNC70L7QttC10L3QuNGP0LzQuFxyXG5mdW5jdGlvbiB0aGlua19ib29raW5nKClcclxue1xyXG5cdCB2YXIgaWQ9ICQodGhpcykucGFyZW50cygnLmJ1dHRvbl95ZXNfbm8nKS5hdHRyKCdmb3InKTtcdFxyXG5cdCB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZDtcclxuICAgIEFqYXhDbGllbnQoJ2Jvb2tpbmcnLCd0aGlua19ib29raW5nJywnR0VUJyxkYXRhLCdBZnRlcl90aGlua19ib29raW5nJyxpZCwwKTtcclxuXHRcclxufVxyXG5cclxuLy/QvtGC0LzQtdC90LjRgtGMINC/0L7QutGD0L/QutGDXHJcbmZ1bmN0aW9uIGRpc19icm9uKClcclxue1xyXG5cdHZhciBpZD0gJCh0aGlzKS5hdHRyKCdkaXMnKTtcclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZGlzYWJsZV9ib29raW5nLnBocD9pZD0nK2lkLFxyXG5cdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0XHRcdFx0XHRcclxuICAgIH0sXHJcbiAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcdFxyXG59XHJcblxyXG5cclxuLy/Qv9C+0LfQstC+0L3QuNGC0Ywg0L/QviDQt9Cw0Y/QstC60LVcclxuZnVuY3Rpb24gY2FsbF9ib29raW5nKClcclxue1xyXG52YXIgaWQ9ICQodGhpcykucGFyZW50cygnLmJ1dHRvbl95ZXNfbm8nKS5hdHRyKCdmb3InKTtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdCAgIFx0XHRcdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9jYWxsX2Jvb2tpbmcucGhwP2lkPScraWQsXHJcblx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1x0XHRcclxufVxyXG5cclxuXHJcbi8v0L7RgtC60LDQt9Cw0LvQuNGB0Ywg0L7RgiDQv9GD0YLQtdCy0LrQuFxyXG5mdW5jdGlvbiBub29fYm9va2luZygpXHJcbntcclxuXHR2YXIgaWQ9ICQodGhpcykucGFyZW50cygnLmJ1dHRvbl95ZXNfbm8nKS5hdHRyKCdmb3InKTtcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHJcblx0JC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9mb3JtX25vX2Jvb2tpbmcucGhwP2lkPScraWQsXHJcblx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1x0XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8v0LTQvtCx0LDQstC70LXQvdC40LUg0L3QvtCy0L7Qs9C+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5mdW5jdGlvbiBjbGllbnRzX2FkZHMoKVxyXG57XHJcblx0aWYodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpXHJcblx0XHR7XHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTsgXHJcblx0JC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHRcdH1cclxuXHR2YXIgYXQ9ICQodGhpcykuYXR0cigndGFic19nJyk7XHJcblx0XHJcblx0dmFyIHBwb3I9Jz90YWJzPScrYXQ7XHJcblx0aWYgKCQoJy5ib3gtbW9kYWwgW25hbWU9cG9zdGFdJykubGVuZ3RoID4gMCkgeyBcclxuXHRcdHBwb3I9cHBvcisnJnBvc3RhPScrJCgnLmJveC1tb2RhbCBbbmFtZT1wb3N0YV0nKS52YWwoKTtcclxuXHR9XHJcblx0XHJcblx0XHJcblx0JC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9mb3JtX2FkZF91c2VyLnBocCcrcHBvcixcclxuXHRiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG5cdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFx0XHRcdFx0XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFRvb2xUaXAoKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcblx0XHJcbn1cclxuXHJcblxyXG4vL9Cy0YvQstC+0LQg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4XHJcbmZ1bmN0aW9uIGRvY19vcmcoKVxyXG57XHJcblx0dmFyIGZvcl9pZD0kKHRoaXMpLmF0dHIoJ2lvZCcpO1xyXG5cdFxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9kb2Nfb3JnLnBocD9pZD0nK2Zvcl9pZCsnJnRhYnM9MCcsXHJcblx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRUb29sVGlwKCk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cdFxyXG59XHJcblxyXG4vL9Cy0YvQstC+0LQg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4INC90LAg0L7Qv9GA0LXQtNC10LvQtdC90L3QvtC5INCy0LrQu9Cw0LTQutC1XHJcbmZ1bmN0aW9uIGRvY19vcmcxKClcclxue1xyXG5cdHZhciBmb3JfaWQ9JCh0aGlzKS5hdHRyKCdpb2QnKTtcclxuXHR2YXIgdGFicz0kKHRoaXMpLmF0dHIoJ3RhYnMnKTtcclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZG9jX29yZy5waHA/aWQ9Jytmb3JfaWQrJyZ0YWJzPScrdGFicyxcclxuXHRiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG5cdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHRcdFx0XHRcdFx0XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcblx0XHJcbn1cclxuXHJcblxyXG5cclxuLy/QstGL0LLQvtC0INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L4g0LrQu9C40LXQvdGC0YMg0L3QsCDQvtC/0YDQtdC00LXQu9C10L3QvdC+0Lkg0LLQutC70LDQtNC60LVcclxuZnVuY3Rpb24gZG9jX3VzZXIxKClcclxue1xyXG5cdHZhciBmb3JfaWQ9JCh0aGlzKS5hdHRyKCdpb2QnKTtcclxuXHR2YXIgdGFicz0kKHRoaXMpLmF0dHIoJ3RhYnMnKTtcclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZG9jX3VzZXIucGhwP2lkPScrZm9yX2lkKycmdGFicz0nK3RhYnMsXHJcblx0YmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuXHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblx0XHRcdFx0XHRcdFxyXG4gICAgfSxcclxuICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuXHRcdFx0JCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cdFxyXG59XHJcblxyXG4vL9CU0L7QsdCw0LLQu9C10L3QuNC1INCy0L7Qv9GA0L7RgdCwINC6INC+0YLRh9C10YLRg1xyXG5mdW5jdGlvbiBhZGRfYW5zd2VyKClcclxue1xyXG5cdHZhciBmb3JfaWQ9JCh0aGlzKS5hdHRyKCdmb3InKTtcclxuXHJcblx0XHRcdFx0ICAgXHRcdFx0JC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9mb3JtX2FkZF9hbnN3ZXIucGhwP2lkPScrZm9yX2lkLFxyXG5cdGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcblx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cdFx0XHRcdFx0XHRcclxuICAgIH0sXHJcbiAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcblx0XHRcdCQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcdFxyXG59XHJcblxyXG5cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQv9GA0LXQtNC70L7QttC10L3QuNGPINCyINC30LDRj9Cy0LrQtVxyXG5mdW5jdGlvbiBhZGRfb2ZmZXJzKClcclxue1xyXG5cclxuXHR2YXIgZm9yX2lkPSQoJy5hZGRfc291cnNlX2Jvb2tpbmcnKS5hdHRyKCdmb3InKTtcclxuXHJcblxyXG4gICAgdmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJmlkPScrZm9yX2lkO1xyXG4gICAgQWpheENsaWVudCgnYm9va2luZycsJ2FkZF9vZmZlcnMnLCdHRVQnLGRhdGEsJ0FmdGVyQWRkX29mZmVycycsZm9yX2lkLDApO1xyXG5cdFxyXG5cdFxyXG5cdCQoJy5idXR0b25feWVzX25vJykuaGlkZSgpOyAkKCcuc2F2ZV9ib29raW5nJykuc2hvdygpO1xyXG5cdFxyXG59XHJcblxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINC/0L7QuNGB0LrQsCDQutC70LjQtdC90YLQsFxyXG5mdW5jdGlvbiBBZnRlclNlYXJjaENsaWVudDEoZCxjKXtcclxuXHRcclxuJCgnLmJfbG9hZGluZ19zbWFsbCcpLnJlbW92ZSgpO1xyXG4kKCcuZm94X2RlbGwxJykuc2hvdygpO1x0XHJcblx0XHJcblx0aWYoZC5zdGF0dXM9PVwib2tcIil7XHJcblx0XHJcblxyXG5cdFxyXG5pZigkKFwiLmZveF9zZWFyY2hfcmVzdWx0MVwiKS5jc3MoXCJkaXNwbGF5XCIpIT1cImJsb2NrXCIpeyQoXCIuZm94X3NlYXJjaF9yZXN1bHQxXCIpLnNob3coKTt2YXIgYT1mYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IFxyXG4kKGRvY3VtZW50KS5iaW5kKFwiY2xpY2subXlFdmVudFwiLGZ1bmN0aW9uKGYpe2lmKCFhJiYkKGYudGFyZ2V0KS5jbG9zZXN0KFwiLmZveF9zZWFyY2hfcmVzdWx0MVwiKS5sZW5ndGg9PTApeyQoXCIuZm94X3NlYXJjaF9yZXN1bHQxXCIpLmhpZGUoKTtcclxuXHJcbiQoZG9jdW1lbnQpLnVuYmluZChcImNsaWNrLm15RXZlbnRcIil9YT1mYWxzZX0pfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgICBcclxuJChcIi5mb3hfc2VhcmNoX3Jlc3VsdDFcIikuZW1wdHkoKS5hcHBlbmQoZC5xdWVyeSk7JChcIi5mb3hfc2VhcmNoX3Jlc3VsdDFcIikuc2hvdygpfWVsc2V7JChcIi5mb3hfc2VhcmNoX3Jlc3VsdDFcIikuaGlkZSgpfX1cclxuXHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDQv9GA0L7QstC10YDQutCwINGC0LXQu9C10YTQvtC90LAg0LIg0LHQsNC30LUg0LTQsNC90L3Ri9GFINC60LvQuNC10L3RgtC+0LJcclxuZnVuY3Rpb24gQWZ0ZXJUcnVlUGhvbmUoZCxjKXtcclxuXHRcclxuLy8kKCcuYl9sb2FkaW5nX3NtYWxsJykucmVtb3ZlKCk7XHJcbi8vJCgnLmZveF9kZWxsMScpLnNob3coKTtcdFxyXG5cdFxyXG5cdGlmKGQuc3RhdHVzPT1cIm9rXCIpXHJcblx0e1xyXG5cdCAgaWYoZC5lY2hvPT1cIjFcIilcclxuXHRcdCBcclxuXHQgIHtcclxuXHRcdCAgaWYoJCgnLmpzLXRydWUtcGhvbmUnKS5pcygnW29sZF92YWx1ZV0nKSlcclxuXHRcdCAge1xyXG5cdFx0XHRcclxuXHRcdFx0ICBpZigkKCcuanMtdHJ1ZS1waG9uZScpLnZhbCgpIT0kKCcuanMtdHJ1ZS1waG9uZScpLmF0dHIoJ29sZF92YWx1ZScpKVxyXG5cdFx0XHRcdCAge1xyXG5cdFx0XHRcdFx0ICAkKFwiLmpzLW9wZW4tcGhvbmVcIikuc2hvdygpOyAkKCcuanMtdHJ1ZS1waG9uZScpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykuYWRkQ2xhc3MoJ2Vycm9yXzIwMTgnKTtcclxuXHRcdCAgJCgnLmpzLXRydWUtc2VhcmNoLXBob25lJykudmFsKDEpO1xyXG5cdFx0XHRcdCAgfSBlbHNlXHJcblx0XHRcdFx0XHQgIHtcclxuXHRcdFx0XHRcdFx0ICAgJChcIi5qcy1vcGVuLXBob25lXCIpLmhpZGUoKTsgJCgnLmpzLXRydWUtcGhvbmUnKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLnJlbW92ZUNsYXNzKCdlcnJvcl8yMDE4Jyk7XHJcblx0XHRcdCAgICQoJy5qcy10cnVlLXNlYXJjaC1waG9uZScpLnZhbCgwKTtcclxuXHRcdFx0XHRcdCAgfVxyXG5cdFx0ICB9IGVsc2VcclxuXHRcdFx0ICB7XHJcblx0XHQgIFxyXG5cdFx0ICBcclxuXHRcdCAgJChcIi5qcy1vcGVuLXBob25lXCIpLnNob3coKTsgJCgnLmpzLXRydWUtcGhvbmUnKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdlcnJvcl8yMDE4Jyk7XHJcblx0XHQgICQoJy5qcy10cnVlLXNlYXJjaC1waG9uZScpLnZhbCgxKTtcclxuXHRcdFx0ICB9XHJcblx0XHQgIFxyXG5cdCAgfSBlbHNlXHJcblx0XHQgIHtcclxuXHRcdFx0ICAkKFwiLmpzLW9wZW4tcGhvbmVcIikuaGlkZSgpOyAkKCcuanMtdHJ1ZS1waG9uZScpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykucmVtb3ZlQ2xhc3MoJ2Vycm9yXzIwMTgnKTtcclxuXHRcdFx0ICAgJCgnLmpzLXRydWUtc2VhcmNoLXBob25lJykudmFsKDApO1xyXG5cdFx0XHQgIFxyXG5cdFx0ICB9XHJcblx0XHRcclxuXHRcclxuXHR9ZWxzZXsgICAkKFwiLmpzLW9wZW4tcGhvbmVcIikuaGlkZSgpOyAkKCcuanMtdHJ1ZS1waG9uZScpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykucmVtb3ZlQ2xhc3MoJ2Vycm9yXzIwMTgnKTsgJCgnLmpzLXRydWUtc2VhcmNoLXBob25lJykudmFsKDApOyAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINC/0YDQvtCy0LXRgNC60Lgg0L7RgtC/0YDQsNCy0LrQuCDQvdCwINCx0YDQvtC90LjRgNC+0LLQsNC90LjQtSDQt9Cw0Y/QstC60LhcclxuZnVuY3Rpb24gQWZ0ZXJicm9uX2Jvb2tpbmcoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRcdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fVxyXG5cdFxyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdvaycgKVxyXG4gICAge1x0XHJcblx0XHRcdGlmICggZGF0YS5jb3VudD09MSApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Ly/QvtGC0L/RgNCw0LLQu9GP0LXQvCDQvdCwINCx0YDQvtC90LjRgNC+0LLQsNC90LjQtVxyXG5cdFx0XHRcdCAgIFx0XHRcdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9icm9uX2Jvb2tpbmdfZW5kLnBocD9pZD0nK3VwZGF0ZSxcclxuICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuXHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG5cdFx0XHRcdFx0JChcIi5zbGN0XCIpLnVuYmluZCgnY2xpY2suc3lzJyk7XHJcbiAgICAkKFwiLnNsY3RcIikuYmluZCgnY2xpY2suc3lzJywgc2xjdGNsaWNrKTtcclxuXHQkKFwiLmRyb3BcIikuZmluZChcImxpXCIpLnVuYmluZCgnY2xpY2snKTtcclxuXHQkKFwiLmRyb3BcIikuZmluZChcImxpXCIpLmJpbmQoJ2NsaWNrJywgZHJvcGxpKTtcclxuXHRcdFx0XHRUb29sVGlwKCk7XHRcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQgICAgICB2YXIgY291bnRfb2ZmZXJzPSAkKFwiW2lkX29mZmVyc11cIikubGVuZ3RoO1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0ICAgXHRcdFx0JC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9mb3JtX2Jyb25fYm9va2luZy5waHA/aWQ9Jyt1cGRhdGUrJyZudW1iZXI9JysoY291bnRfb2ZmZXJzLTEpLFxyXG4gICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgfSxcclxuICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHRcclxuXHRcdFx0XHR9XHJcbiAgICBcclxufVxyXG59XHJcblxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0LTRg9C80LDRjtGCINC90LDQtCDQv9GA0LXQtNC70L7QttC10L3QuNGP0LzQuFxyXG5mdW5jdGlvbiBBZnRlcl90aGlua19ib29raW5nKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG5cdFx0V2luZG93TG9naW4oKTtcclxuXHR9XHJcblx0XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J29rJyApXHJcbiAgICB7XHRcdFxyXG5cdCAgICBhdXRvUmVsb2FkSGFrKCk7XHRcclxuXHR9XHJcbn1cclxuXHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40LUg0LLQvtC/0YDQvtGB0LAg0Log0L7RgtGH0LXRgtGDXHJcbmZ1bmN0aW9uIEFmdGVyQWRkX2Fuc3dlcihkYXRhLHVwZGF0ZSlcclxue1xyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fVxyXG5cdFxyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdvaycgKVxyXG4gICAge1x0XHRcclxuXHRcdC8vXHJcblx0XHRcdFxyXG5cdHZhciBjb3VudF9vZmZlcnM9ICQoXCJbb3BfcmVsXVwiKS5sZW5ndGg7XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcclxuXHQgICQoJy5jb3VudF9vZmZlcnNfYWpheCcpLmVtcHR5KCkuYXBwZW5kKGNvdW50X29mZmVycy0xKTtcclxuXHQgIFxyXG4gICAgICB2YXIgdHl0dD1QYWRlak51bWJlcigoY291bnRfb2ZmZXJzLTEpLCfQstC+0L/RgNC+0YEg0Log0L7RgtGH0LXRgtGDLNCy0L7Qv9GA0L7RgdCwINC6INC+0YLRh9C10YLRgyzQstC+0L/RgNC+0YHQvtCyINC6INC+0YLRh9C10YLRgycpO1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0ICAkKCcucGFkZWpfb2ZmZXJzJykuZW1wdHkoKS5hcHBlbmQodHl0dCk7XHRcdFx0XHJcblx0XHRcclxuXHRcdFxyXG5cdCAgJCgnLmFkZF9zb3Vyc2VfcmVwb3J0cycpLmJlZm9yZShkYXRhLmVjaG8pO1x0XHRcclxuXHRcclxuXHRcdFxyXG5cclxuXHRcdFxyXG5cdFx0XHJcblx0fVxyXG59XHJcblxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC70LXQvdC40LUg0L3QvtCy0L7Qs9C+INC/0YDQtdC00LvQvtC20LXQvdC40Y9cclxuZnVuY3Rpb24gQWZ0ZXJBZGRfb2ZmZXJzKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG5cdFx0V2luZG93TG9naW4oKTtcclxuXHR9XHJcblx0XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J29rJyApXHJcbiAgICB7XHRcdFxyXG5cdFx0Ly9cclxudmFyIGNvdW50X189JCgnI2NvdW50X3NvdXJzZScpLnZhbCgpO1x0XHJcblx0dmFyIGRlZT1wYXJzZUludChjb3VudF9fKSsxO1x0XHJcblx0XHJcblx0XHRcclxuXHR2YXIgY291bnRfb2ZmZXJzPSAkKFwiW2lkX29mZmVyc11cIikubGVuZ3RoO1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0ICAkKCcuY291bnRfb2ZmZXJzX2FqYXgnKS5lbXB0eSgpLmFwcGVuZChjb3VudF9vZmZlcnMtMSk7XHJcblx0ICBcclxuICAgICAgdmFyIHR5dHQ9UGFkZWpOdW1iZXIoKGNvdW50X29mZmVycy0xKSwn0L/RgNC10LTQu9C+0LbQtdC90LjQtSzQv9GA0LXQtNC70L7QttC10L3QuNGPLNC/0YDQtdC00LvQvtC20LXQvdC40LknKTtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdCAgJCgnLnBhZGVqX29mZmVycycpLmVtcHR5KCkuYXBwZW5kKHR5dHQpO1x0XHRcdFxyXG5cdFx0XHJcblx0XHRcclxuXHQkKCcjY291bnRfc291cnNlJykudmFsKGRlZSk7XHJcblx0JCgnI2NvdW50X3NvdXJzZTEnKS52YWwoY291bnRfXyk7XHRcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRcclxuXHRcdFxyXG5cclxuICAgIHZhciBodG1sID0gJCggJy5yZXBsYWNlX21tJyApLmh0bWwgKCk7ICAgICBcclxuICAgIGh0bWwgPSBodG1sLnJlcGxhY2UgKCAvSURNSUREL2csIGRlZSk7IFxyXG5cdGh0bWwgPSBodG1sLnJlcGxhY2UgKCAvU0lETUlEUy9nLCBjb3VudF9fKTtcdFx0XHJcblx0aHRtbCA9IGh0bWwucmVwbGFjZSAoIC9JRE1JRC9nLCBkYXRhLmlkKTtcclxuXHRcclxuICAgICQoJy5yZXBsYWNlX21tJykuYmVmb3JlKGh0bWwpO1x0XHJcblx0XHJcblx0JChcIi5zbGN0XCIpLnVuYmluZCgnY2xpY2suc3lzJyk7XHJcbiAgICAkKFwiLnNsY3RcIikuYmluZCgnY2xpY2suc3lzJywgc2xjdGNsaWNrKTtcclxuXHQkKFwiLmRyb3BcIikuZmluZChcImxpXCIpLnVuYmluZCgnY2xpY2snKTtcclxuXHQkKFwiLmRyb3BcIikuZmluZChcImxpXCIpLmJpbmQoJ2NsaWNrJywgZHJvcGxpKTtcclxuXHRcclxuXHQkKCcubW9uZXlfbWFzaycpLmlucHV0bWFzaygncmVtb3ZlJyk7XHJcblx0JCgnLm1vbmV5X21hc2snKS5pbnB1dG1hc2soXCJudW1lcmljXCIsIHtcclxuICAgIHJhZGl4UG9pbnQ6IFwiLlwiLFxyXG4gICAgZ3JvdXBTZXBhcmF0b3I6IFwiIFwiLFxyXG4gICAgZGlnaXRzOiAyLFxyXG4gICAgYXV0b0dyb3VwOiB0cnVlLFxyXG4gICAgcHJlZml4OiAnJywgLy9ObyBTcGFjZSwgdGhpcyB3aWxsIHRydW5jYXRlIHRoZSBmaXJzdCBjaGFyYWN0ZXJcclxuICAgIHJpZ2h0QWxpZ246IGZhbHNlLFxyXG4gICAgb25jbGVhcmVkOiBmdW5jdGlvbiAoKSB7IHNlbGYuVmFsdWUoJycpOyB9XHJcbiAgICB9KTtcclxuXHQkKCcuZGF0ZV90aW1lX3BpY2tlcicpLmlucHV0bWFzaygncmVtb3ZlJyk7XHRcclxuXHQkKCcuZGF0ZV90aW1lX3BpY2tlcicpLmlucHV0bWFzayhcImRhdGV0aW1lXCIse1xyXG4gICAgbWFzazogXCIxLjIueSBoOnNcIiwgXHJcbiAgICBwbGFjZWhvbGRlcjogXCJkZC5tbS55eXl5IGhoOm1tXCIsICBcclxuICAgIHNlcGFyYXRvcjogXCIuXCIsIFxyXG4gICAgYWxpYXM6IFwiZGQubW0ueXl5eVwiXHJcbiAgfSk7XHRcclxuXHRcdFxyXG5cdH1cclxufVxyXG5cclxuLy/QstGL0LHQvtGAINC/0YDQtdC00LvQvtC20LXQvdC40Y8g0LrQsNC6INCy0YvQsdGA0LDQvdC90L7Qs9C+INC60LvQuNC10L3RgtC+0LxcclxuZnVuY3Rpb24gYnJvbl9vZmZlcnNfc2VsZWN0KClcclxue1xyXG5cdHZhciBmb3JfaWQxPSQodGhpcykucGFyZW50cygnLmJvb2tpbmdfc291cnNlJykuYXR0cignbnVtYmVyX3NvdXJzZScpO1xyXG5cdHZhciBhdHRyPSQodGhpcykucGFyZW50cygnLmJvb2tpbmdfc291cnNlJykuYXR0cignaWRfb2ZmZXJzJyk7XHJcblx0XHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fc2VsZWN0X29mZmVycy5waHA/aWQ9JythdHRyKycmbnVtYmVyPScrZm9yX2lkMSxcclxuICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgIH0sXHJcbiAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBqc19kZWxsX2Zvcm1fbm8oZXZlbnQpXHJcbntcclxuXHR2YXIgZm9ybV9tb3ZlPSQoJy5mb3JtJytldmVudC5kYXRhLmtleSk7XHJcblxyXG5cdFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7IC8vIMOuw7HDssOgw63DoMOiw6vDqMOiw6DDpcOsIMOiw7vDp8Ouw6Igw7TDs8Otw6rDtsOow6ggw7fDpcOww6XDpyDDqsOgw6bDpMOzw74gw7HDpcOqw7PDrcOkXHJcblx0JC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHRcclxuXHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmdGs9Jytmb3JtX21vdmUuZmluZCgnLmgxMTEnKS5hdHRyKCdtb3InKStcclxuXHRcdFx0XHRcdCcmaWQ9Jytmb3JtX21vdmUuZmluZCgnLmgxMTEnKS5hdHRyKCdmb3InKTtcclxuXHJcblxyXG5cdFx0XHJcbkFqYXhDbGllbnQoJ3Rhc2snLCdkZWxsX3Rhc2snLCdHRVQnLGRhdGEsJ0FmdGVyRGVsbFRhc2snLGZvcm1fbW92ZS5maW5kKCcuaDExMScpLmF0dHIoJ2ZvcicpKycsJytldmVudC5kYXRhLmtleSwwKTtcdFx0XHJcblx0XHJcblx0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4aXRfZm9ybV9hY3RpdmUoZXZlbnQpXHJcbntcclxuXHQkKCcuYXJjdGljbW9kYWwtY2xvc2UnLCcuZm9ybScrZXZlbnQuZGF0YS5rZXkpLmNsaWNrKCk7XHRcclxufVxyXG5cclxuXHJcbi8v0YPQtNCw0LvQuNGC0Ywg0L7RgtGH0LXRglxyXG5mdW5jdGlvbiBkZWxsX3JlcG9ydHMoKVxyXG57XHJcblx0dmFyIGF0dHI9JCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuXHRcdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9kZWxsX3JlcG9ydHMucGhwP2lkPScrYXR0cixcclxuICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgIH0sXHJcbiAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1x0XHJcbn1cclxuXHJcbi8v0YPQtNCw0LvQuNGC0Ywg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINGB0LjRgdGC0LXQvNGLXHJcbmZ1bmN0aW9uIGRlbGxfdXNlcnMoKVxyXG57XHJcblx0dmFyIGF0dHI9JCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuXHRcdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9kZWxsX3VzZXJzLnBocD9pZD0nK2F0dHIsXHJcbiAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcdFxyXG59XHJcblxyXG4vL9GD0LTQsNC70LjRgtGMINGC0YPRgNC+0L/QtdGA0LDRgtC+0YDQsFxyXG5mdW5jdGlvbiBkZWxsX29wZXJhdG9yKClcclxue1xyXG5cdHZhciBhdHRyPSQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcblx0XHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZGVsbF9vcGVyYXRvci5waHA/aWQ9JythdHRyLFxyXG4gICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgfSxcclxuICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHRcclxufVxyXG5cclxuXHJcbi8v0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0LLQvtC/0YDQvtGBINC6INC+0YLRh9C10YLRg1xyXG5mdW5jdGlvbiBlZGl0X2Fuc3dlcigpXHJcbntcclxuXHR2YXIgYXR0cj0kKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG5cdC8vJCgnW2lkX29mZmVycz0nK2F0dHIrJ10nKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuXHRcclxuXHRcclxuXHRcclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZWRpdF9hbnN3ZXIucGhwP2lkPScrYXR0cixcclxuICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgIH0sXHJcbiAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1x0XHJcblx0XHJcbn1cclxuXHJcbi8v0YPQtNCw0LvQuNGC0Ywg0LLQvtC/0YDQvtGBINC6INC+0YLRh9C10YLRg1xyXG5mdW5jdGlvbiBkZWxsX2Fuc3dlcigpXHJcbntcclxuXHR2YXIgYXR0cj0kKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG5cdC8vJCgnW2lkX29mZmVycz0nK2F0dHIrJ10nKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuXHRcclxuXHRcclxuXHRcclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZGVsbF9hbnN3ZXIucGhwP2lkPScrYXR0cixcclxuICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgIH0sXHJcbiAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1x0XHJcblx0XHJcbn1cclxuXHJcbi8v0YPQtNCw0LvQuNGC0Ywg0L/RgNC10LTQu9C+0LbQtdC90LjQtVxyXG5mdW5jdGlvbiBkZWxsX29mZmVycygpXHJcbntcclxuXHR2YXIgYXR0cj0kKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG5cdC8vJCgnW2lkX29mZmVycz0nK2F0dHIrJ10nKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuXHR2YXIgZm9yX2lkMT0kKHRoaXMpLnBhcmVudHMoJy5ib29raW5nX3NvdXJzZScpLmF0dHIoJ251bWJlcl9zb3Vyc2UnKTtcclxuXHRcclxuXHRcclxuXHRcclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZGVsbF9vZmZlcnMucGhwP2lkPScrYXR0cisnJm51bWJlcj0nK2Zvcl9pZDEsXHJcbiAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcdFxyXG5cdFxyXG59XHJcblxyXG5cclxuXHJcbi8v0YHQvtGF0YDQsNC90LXQvdC40LUg0LLQvtC/0YDQvtGB0LAg0Log0L7RgtGH0LXRgtGDXHJcbmZ1bmN0aW9uIHNhdmVfYW5uYSgpXHJcbntcclxuXHR2YXIgYXR0cj0kKHRoaXMpLnBhcmVudHMoJy5hbnN3ZXJfYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuXHR2YXIgYW5uYT0kKHRoaXMpLnBhcmVudHMoJy5hbnN3ZXJfYmxvY2snKS5maW5kKCcjb3R6aXZfYXJlYV9hZGF4eF8nK2F0dHIpLnZhbCgpO1xyXG5cdCQodGhpcykuaGlkZSgpO1xyXG5cdFxyXG5cdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2F0dHIrJyZ0ZXh0PScrZW5jb2RlVVJJQ29tcG9uZW50KGFubmEpO1xyXG4gICAgQWpheENsaWVudCgncmVwb3J0cycsJ3NhdmVfYW5zd2VyJywnR0VUJyxkYXRhLCdBZnRlclNhdmVBbnN3ZXInLGF0dHIsMCk7XHRcclxufVxyXG5cclxuXHJcblxyXG5cclxuLy/Qv9C+0LvRg9GH0LXQvdC40LUg0YTQvtC60YPRgdCwINC00LvRjyDQuNC90L/Rg9GC0LAg0LIg0L/QvtC40YHQutC1INC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQv9C+0LrRg9C/0LDRgtC10LvRjyDRgtGD0YDQsFxyXG5mdW5jdGlvbiBJbnB1dEZvY3VzTmV3VG91cnMoKVxyXG57XHJcblx0dmFyIGlucHV0X2Rpdj0kKHRoaXMpLnBhcmVudHMoJy5jaG9pY2UtY2xpZW50LTIwMTknKTtcclxuXHRcclxuXHRpZighaW5wdXRfZGl2LmlzKCcuYWN0aXZlX3RvdXJzX2ZvY3VzJykpXHJcblx0e1xyXG5cdFx0aW5wdXRfZGl2LmFkZENsYXNzKCdhY3RpdmVfdG91cnNfZm9jdXMnKTtcdFxyXG5cdH1cclxufVxyXG4vL9C/0L7RgtC10YDRjyDRhNC+0LrRg9GB0LAg0LTQu9GPINC40L3Qv9GD0YLQsCDQsiDQv9C+0LjRgdC60LUg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC1INC/0L7QutGD0L/QsNGC0LXQu9GPINGC0YPRgNCwXHJcbmZ1bmN0aW9uIElucHV0Qmx1ck5ld1RvdXJzKClcclxue1xyXG5cdHZhciBpbnB1dF9kaXY9JCh0aGlzKS5wYXJlbnRzKCcuY2hvaWNlLWNsaWVudC0yMDE5Jyk7XHJcbiAgICBpbnB1dF9kaXYucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90b3Vyc19mb2N1cycpO1x0XHJcbn1cclxuXHJcblxyXG4vL9C/0L7Qu9GD0YfQtdC90LjQtSDRhNC+0LrRg9GB0LAg0LTQu9GPINC90L7QstGL0YUg0LjQvdC/0YPRgtC+0LJcclxuZnVuY3Rpb24gSW5wdXRGb2N1c05ldygpXHJcbntcclxuXHR2YXIgdmFsX2lucHV0PSQodGhpcykudmFsKCk7XHJcblx0dmFyIGxhYmVsPSQodGhpcykucHJldignbGFiZWwnKTtcclxuXHR2YXIgaW5wdXRfZGl2PSQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKTtcclxuXHRcclxuXHRpZighaW5wdXRfZGl2LmlzKCcuYWN0aXZlX2luXzIwMTgnKSlcclxuXHR7XHJcblx0XHRpbnB1dF9kaXYuYWRkQ2xhc3MoJ2FjdGl2ZV9pbl8yMDE4Jyk7XHRcclxuXHR9XHJcblx0XHJcblx0aWYoIWlucHV0X2Rpdi5pcygnLmFjdGl2ZTFfaW5fMjAxOCcpKVxyXG5cdHtcclxuXHRcdGlucHV0X2Rpdi5hZGRDbGFzcygnYWN0aXZlMV9pbl8yMDE4Jyk7XHRcclxuXHR9XHJcblx0XHJcblx0Ly/QvNC+0LbQtdGCINC90LDQtNC+INC+0YLQutGA0YvRgtGMINC60LDQu9C10L3QtNCw0YDRjFxyXG5cdHZhciBjYWxlbmRhcj1pbnB1dF9kaXYuZmluZCgnLmNhbF8yMDE4Jyk7XHJcblx0aWYoY2FsZW5kYXIubGVuZ3RoIT0wKVxyXG5cdHtcclxuXHRcdFx0JChcIi5kYXRlX19fMjAxOVwiKS5zaG93KCk7XHRcclxuXHR9XHJcblx0XHJcblx0IFxyXG5cdFxyXG59XHJcblxyXG5cclxuXHJcbi8v0LLQstC+0LQg0YLQtdC60YHRgtCwINCyINC90L7QstGL0LUg0LjQvdC/0YPRgtGLINGB0LrRgNGL0YLQuNC1INC+0YjQuNCx0LrQuCDQtdGB0LvQuCDQvtC90LAg0LHRi9C70LBcclxuLy8gIHxcclxuLy8gXFwvXHJcbmZ1bmN0aW9uIEtleVVwSW5wdXQoKVxyXG57XHJcblx0aWYoJCh0aGlzKS5pcygnLmdsb2FiJykpXHJcblx0XHR7XHJcblx0XHRcdGlmKCgkKHRoaXMpLnZhbCgpIT0nJykmJigkKHRoaXMpLnZhbCgpIT0wKSlcclxuXHRcdFx0JCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdCQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5yZW1vdmVDbGFzcygnZXJyb3JfMjAxOCcpO1xyXG5cdFx0fVxyXG59XHJcbi8v0L/QvtGC0LXRgNGPINGE0L7QutGD0YHQsCDQtNC70Y8g0L3QvtCy0YvRhSDQuNC90L/Rg9GC0L7QslxyXG5mdW5jdGlvbiBJbnB1dEJsdXJOZXcoKVxyXG57XHJcblx0Ly9hbGVydCgkKHRoaXMpLnZhbCgpKTtcclxuXHR2YXIgdmFsX2lucHV0PSQodGhpcykudmFsKCk7XHJcblx0dmFyIGxhYmVsPSQodGhpcykucHJldignbGFiZWwnKTtcclxuXHR2YXIgaW5wdXRfZGl2PSQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKTtcclxuXHRcclxuXHRpbnB1dF9kaXYucmVtb3ZlQ2xhc3MoJ2FjdGl2ZTFfaW5fMjAxOCcpO1xyXG5cdFxyXG5cdGlmKHZhbF9pbnB1dD09JycpXHJcblx0e1xyXG5cdFx0aW5wdXRfZGl2LnJlbW92ZUNsYXNzKCdhY3RpdmVfaW5fMjAxOCcpO1x0XHJcblx0XHRcdFx0aWYoJCh0aGlzKS5pcygnLmdsb2FiJykpXHJcblx0XHR7XHJcblx0XHRcdGlucHV0X2Rpdi5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1x0XHJcblx0XHR9ZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0aW5wdXRfZGl2LnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcblx0XHRcdH1cclxuXHR9XHJcblx0XHJcblx0XHJcblx0XHJcblx0LypcclxuXHRpZighJCh0aGlzKS5pcygnLmRhdGUyMDE4X21hc2snKSlcclxuXHR7XHJcblx0ICAvL9C00LvRjyDQstGB0LXQs9C+INC+0YHRgtCw0LvRjNC90L7Qs9C+INC60YDQvtC80LUg0LTQsNGCINGBINC80LDRgdC60L7QuVxyXG5cdCAgaWYoKCQodGhpcykuaXMoJy5yZXF1aXJlZCcpKSYmKHZhbF9pbnB1dD09JycpJiYoIWlucHV0X2Rpdi5pcygnLnJlcXVpcmVkX2luXzIwMTgnKSkpXHJcblx0ICB7XHJcblx0XHRpbnB1dF9kaXYuYWRkQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTtcdFxyXG5cdCAgfSBlbHNlXHJcblx0ICB7XHJcblx0XHRpZigoJCh0aGlzKS5pcygnLnJlcXVpcmVkJykpJiYodmFsX2lucHV0IT0nJykpXHJcblx0XHR7XHJcblx0XHQgIGlucHV0X2Rpdi5yZW1vdmVDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1xyXG5cdFx0fVxyXG5cdCAgfVxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHQgIGlmKCgkKHRoaXMpLmlzKCcucmVxdWlyZWQnKSkmJigodmFsX2lucHV0PT0nJyl8fCh2YWxfaW5wdXQ9PSfQtNC0LtC80Lwu0LPQs9Cz0LMnKSkmJighaW5wdXRfZGl2LmlzKCcucmVxdWlyZWRfaW5fMjAxOCcpKSlcclxuXHQgIHtcclxuXHRcdGlucHV0X2Rpdi5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1x0XHJcblx0ICB9IGVsc2VcclxuXHQgIHtcclxuXHRcdGlmKCgkKHRoaXMpLmlzKCcucmVxdWlyZWQnKSkmJih2YWxfaW5wdXQhPScnKSYmKHZhbF9pbnB1dCE9J9C00LQu0LzQvC7Qs9Cz0LPQsycpKVxyXG5cdFx0e1xyXG5cdFx0ICBpbnB1dF9kaXYucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTtcclxuXHRcdH1cclxuXHQgIH1cclxuXHRcdFxyXG5cdFx0XHJcblx0fVxyXG5cdCovXHJcblx0XHRcclxuXHRcclxufVxyXG5cclxuXHJcbi8v0LrQvdC+0L/QutC4INC10YnQtSDQt9Cw0LTQsNGH0Lgg0L3QsCDQs9C70LDQstC90L7QuVxyXG5mdW5jdGlvbiBqc19lc2hlX3JpbmcoKVxyXG57XHJcblx0dmFyIGJsb2NrX2dnPSQodGhpcyk7XHJcblx0XHRpZihibG9ja19nZy5pcygnLmFjdGl2ZS1yaW5nJykpXHJcblx0e1xyXG5cdFx0IGJsb2NrX2dnLnJlbW92ZUNsYXNzKCdhY3RpdmUtcmluZycpO1xyXG5cdFx0YmxvY2tfZ2cucGFyZW50cygnLnJpbmdfYmxvY2snKS5maW5kKCcubWF4LWRheS1yaW5nJykuc2xpZGVVcChcInNsb3dcIik7XHJcblx0XHRcclxuXHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdCBibG9ja19nZy5hZGRDbGFzcygnYWN0aXZlLXJpbmcnKTtcclxuXHRcdFx0YmxvY2tfZ2cucGFyZW50cygnLnJpbmdfYmxvY2snKS5maW5kKCcubWF4LWRheS1yaW5nJykuc2xpZGVEb3duKFwic2xvd1wiKTtcclxuXHRcdH1cclxufVxyXG5cclxuXHJcbi8v0YPQtNCw0LvQtdC90LjQtSDQv9C+0LrRg9C/0LDRgtC10LvRjyDQuNC3INGC0YPRgNCwXHJcbmZ1bmN0aW9uIGpzX2RlbGxfYnV5X3RvdXJzKClcclxue1xyXG5cdHZhciBmb3JfaWQ9JCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuXHR2YXIgYmxvY2tfZ2c9JCh0aGlzKS5wYXJlbnRzKCcuaW5mby1jbGllbnQtcnVsZXInKTtcclxuXHRcclxuXHQkKCcudG90X2J1eV9pZCcpLnZhbCgnJyk7XHJcblx0JCgnLnRvdF9idXlfdHlwZScpLnZhbCgnJyk7XHJcblx0XHJcblx0Ly/QtdGB0LvQuCDQvtC9INCx0YvQuyDQuCDRgtGD0YDQuNGB0YLQvtC8INGC0L4g0YPQtNCw0LvRj9C10Lwg0LjQtyDQv9C10YDQtdC80LXQvdC90YvRhSDQuCDQv9C10YDQtdGB0YfQuNGC0YvQstCw0LXQvFxyXG5cdGlmKGJsb2NrX2dnLmlzKCcuYWN0aXZlLXR1cmlzdC10dXJzJykpXHJcblx0e1xyXG5cdCAgIC8v0YPQtNCw0LvQuNGC0Ywg0LjQtyDRgtGD0YDQuNGB0YLQvtCyXHJcblx0XHRcdCQoJy50b3RfZmx5X2lkJykudmFsKEFkZERlbGxMaXN0KCQoJy50b3RfZmx5X2lkJykudmFsKCksZm9yX2lkLCdkZWxsJykpO1xyXG5cdFx0XHQvL9GD0LzQtdC90YzRiNC40YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviDRgtGD0YDQuNGB0YLQvtCyXHJcblx0XHRcdHZhciBjb3VudF90dXJpPXBhcnNlRmxvYXQoJCgnLnRvdF9mbHlfY291bnQnKS52YWwoKSk7XHJcblx0XHRcdGlmKGNvdW50X3R1cmkhPTApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHQkKCcudG90X2ZseV9jb3VudCcpLnZhbChjb3VudF90dXJpLTEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdGJsb2NrX2dnLnJlbW92ZSgpO1xyXG5cdFx0VXBkYXRlTnVtYmVyVHVyaXMoKTtcclxuXHRcclxuXHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdFx0YmxvY2tfZ2cucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0XHJcblx0JCgnLmpzLWJ1eS1teS10b3VycycpLmZpbmQoJy5idXlfdHVycycpLnNob3coKTtcclxuXHRcclxuXHRcclxufVxyXG4vL9GD0LTQsNC70LXQvdC40LUg0YLRg9GA0LjRgdGC0LAg0LjQtyDRgtGD0YDQsFxyXG5mdW5jdGlvbiBqc19kZWxsX2ZseV90b3VycygpXHJcbntcclxuXHRcdHZhciBmb3JfaWQ9JCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuXHQgICAgdmFyIGJsb2NrX2dnPSQodGhpcykucGFyZW50cygnLmluZm8tY2xpZW50LXJ1bGVyJyk7XHJcblx0ICAgIFxyXG5cdCQoJy50b3RfZmx5X2lkJykudmFsKEFkZERlbGxMaXN0KCQoJy50b3RfZmx5X2lkJykudmFsKCksZm9yX2lkLCdkZWxsJykpO1xyXG5cdFx0XHQvL9GD0LzQtdC90YzRiNC40YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviDRgtGD0YDQuNGB0YLQvtCyXHJcblx0XHRcdHZhciBjb3VudF90dXJpPXBhcnNlRmxvYXQoJCgnLnRvdF9mbHlfY291bnQnKS52YWwoKSk7XHJcblx0XHRcdGlmKGNvdW50X3R1cmkhPTApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHQkKCcudG90X2ZseV9jb3VudCcpLnZhbChjb3VudF90dXJpLTEpO1xyXG5cdFx0XHRcdH1cclxuXHRcclxuXHQgICAgYmxvY2tfZ2cucmVtb3ZlKCk7XHJcblx0ICAgIFVwZGF0ZU51bWJlclR1cmlzKCk7XHJcbn1cclxuXHJcblxyXG4vL9GD0LTQsNC70LjRgtGMINGE0L7RgtC+INGC0L7QstCw0YDQvdGL0Lkg0YfQtdC6INC40Lcg0LfQsNGP0LLQutC4XHJcbmZ1bmN0aW9uIERlbGxJbWFnZUludm9pY2UoKVxyXG57XHJcblx0dmFyIGZvcl9pZD0kKHRoaXMpLmF0dHIoJ2ZvcicpO1xyXG5cdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2Zvcl9pZDtcclxuICAgIEFqYXhDbGllbnQoJ2Jvb2tpbmcnLCdkZWxfaW1nJywnR0VUJyxkYXRhLCdBZnRlckRlbGxJbWFnZUludm9pY2UnLGZvcl9pZCwwKTtcdFxyXG59XHJcblxyXG4vL9GD0LTQsNC70LjRgtGMINGE0L7RgtC+INC40Lcg0L7RgtGH0LXRgtCwXHJcbmZ1bmN0aW9uIERlbGxJbWFnZVJlcG9ydHMoKVxyXG57XHJcblx0dmFyIGZvcl9pZD0kKHRoaXMpLmF0dHIoJ2ZvcicpO1xyXG5cdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2Zvcl9pZDtcclxuICAgIEFqYXhDbGllbnQoJ3JlcG9ydHMnLCdkZWxfaW1nJywnR0VUJyxkYXRhLCdBZnRlckRlbGxJbWFnZVJlcG9ydHMnLGZvcl9pZCwwKTtcdFxyXG59XHJcblxyXG5cclxuXHJcbi8v0L7QsdC90L7QstC70LXQvdC40LUg0YTQvtGC0L4g0LIg0LfQsNGP0LLQutC1XHJcbmZ1bmN0aW9uIFVwZGF0ZUltYWdlSW52b2ljZShpZClcclxue1xyXG5cdHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2lkO1xyXG4gICAgQWpheENsaWVudCgnYm9va2luZycsJ3VwZGF0ZV9pbWcnLCdHRVQnLGRhdGEsJ0FmdGVyVXBkYXRlSW1hZ2VJbnZvaWNlJyxpZCwwKTtcdFxyXG59XHJcblxyXG4vL9C+0LHQvdC+0LLQu9C10L3QuNC1INGE0L7RgtC+INCyINC+0YLRh9C10YLQtVxyXG5mdW5jdGlvbiBVcGRhdGVJbWFnZVJlcG9ydHMoaWQpXHJcbntcclxuXHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWQ9JytpZDtcclxuICAgIEFqYXhDbGllbnQoJ3JlcG9ydHMnLCd1cGRhdGVfaW1nJywnR0VUJyxkYXRhLCdBZnRlclVwZGF0ZUltYWdlUmVwb3J0cycsaWQsMCk7XHRcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG1lc3NhZ2VfbG9hZCgpXHJcbntcclxuXHRpZiggJCgnLmhpc3RvcnlfbWVzc2FnZScpLmlzKCc6dmlzaWJsZScpICkgeyBcclxuXHQkKCcuaGlzdG9yeV9tZXNzYWdlJykuaGlkZSgpO1xyXG5cdFxyXG5cdHZhciBmb3JfaWQ9JCgnLmNvbnRlbnRfYmxvY2snKS5hdHRyKCdpZF9jb250ZW50Jyk7XHRcclxuICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2Zvcl9pZCsnJm5fc3Q9JyskKCcuY29udGVudF9ibG9jaycpLmF0dHIoJ24nKSsnJnM9JyskKCcuaGlzdG9yeV9tZXNzYWdlJykuYXR0cignc19tJyk7XHJcbiAgICBBamF4Q2xpZW50KCdtZXNzYWdlJywnbG9hZF9tZXNzYWdlJywnR0VUJyxkYXRhLCdBZnRlck1FU1MnLGZvcl9pZCwwKTtcdFxyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG4vL9C/0YDQvtC60YDRg9GC0LrQsCDQtNC+INC90LjQt9CwXHJcbmZ1bmN0aW9uIHNjcm9sbF90b19ib3R0b20oc3BlZWQpIHtcclxuXHR2YXIgaGVpZ2h0PSAkKFwiYm9keVwiKS5oZWlnaHQoKTsgXHJcblx0JChcImh0bWwsYm9keVwiKS5hbmltYXRlKHtcInNjcm9sbFRvcFwiOmhlaWdodH0sc3BlZWQpOyBcclxufVxyXG5cclxuIGZ1bmN0aW9uIGluV2luZG93KHMpe1xyXG4gIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgdmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuICB2YXIgY3VycmVudEVscyA9ICQocyk7XHJcbiAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gIGN1cnJlbnRFbHMuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgdmFyIGVsID0gJCh0aGlzKTtcclxuICAgIHZhciBvZmZzZXQgPSBlbC5vZmZzZXQoKTtcclxuICAgIGlmKHNjcm9sbFRvcCA8PSBvZmZzZXQudG9wICYmIChlbC5oZWlnaHQoKSArIG9mZnNldC50b3ApIDwgKHNjcm9sbFRvcCArIHdpbmRvd0hlaWdodCkpXHJcbiAgICAgIHJlc3VsdC5wdXNoKHRoaXMpO1xyXG4gIH0pO1xyXG4gIHJldHVybiAkKHJlc3VsdCk7XHJcbiAgXHJcblxyXG59XHJcbi8v0LjQt9C80LXQvdC10L3QuNC1INGA0LDQt9C80LXRgNC+0LIg0LHRgNCw0YPQt9C10YDQsFxyXG5mdW5jdGlvbiB3aW5kb3dTaXplKClcclxue1xyXG4gLy8gc2xfbWVzc2FnZV93aWR0aCgpO1x0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyaW1fbnVtYmVyKCRudW1iZXIpXHJcbntcclxuXHQkbnVtYmVyPSRudW1iZXIucmVwbGFjZSgvXFxzKy9nLCcnKTtcclxuXHRyZXR1cm4gJG51bWJlcjtcclxufVxyXG5cclxuLy/Qv9C10YDQtdGF0L7QtCDQv9C+INC00LjQsNC70L7Qs9GDINCyINGB0L7QvtCx0YnQtdC90LjRj9GFXHJcbmZ1bmN0aW9uIERpYWxvZyhlKVxyXG57XHJcbiAgaWYoJChlLnRhcmdldCkuY2xvc2VzdChcIi5kZWxfZGlhbG9nXCIpLmxlbmd0aD09MClcclxuICB7XHJcblx0dmFyIGRpYWxvZ19pZD0kKHRoaXMpLmF0dHIoJ3JlbF9kaWFnb2wnKTtcclxuXHQkKHRoaXMpLmF0dHIoJ2hyZWYnLCcvbWVzc2FnZS9kaWFsb2cvJytkaWFsb2dfaWQrJy8nKTtcclxuXHQkKHRoaXMpLnRyaWdnZXIoJ0NsaWNrJyk7XHJcblxyXG4gIH1cclxufVxyXG4vL9Cw0L3QuNC80LDRhtC40Y8g0LfQsNCz0YDRg9C30YfQuNC60LAg0LrQvtC70LjRh9C10YHQstGC0LAg0LLRi9C/0L7Qu9C90LXQvdC90YvRhSDRgNCw0LHQvtGC0YtcclxuZnVuY3Rpb24gYW5pbWF0aW9uX3RlcHMoKVxyXG57XHJcblx0JCgnLnRlcHMnKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdCQodGhpcykuYW5pbWF0ZSh7d2lkdGg6ICQodGhpcykuYXR0cigncmVsX3cnKStcIiVcIn0sIDIwMDAsIGZ1bmN0aW9uKCkgeyAgfSk7XHJcbn0pO1xyXG5cclxuXHRcclxufVxyXG5cclxuXHJcbi8v0LzQsNGB0LrQsCDQstCy0L7QtNC40YLRjCDRgtC+0LvRjNC60L4g0YbQtdC70YvQtSDQuCBmbG9hdFxyXG5mdW5jdGlvbiBtYXNrayh0aGlzcylcclxue1xyXG5cdHRoaXNzLnZhbCh0aGlzcy52YWwoKS5yZXBsYWNlKC9bXlxcZC5dKi9nLCAnJykucmVwbGFjZSgvKFsuXSlbLl0rL2csICckMScpLnJlcGxhY2UoL15bXlxcZF0qKFxcZCsoWy5dXFxkezAsNX0pPykuKiQvZywgJyQxJykpO1xyXG5cdC8vYWxlcnQoXCIhIVwiKTtcclxuXHRpZigkKCdbbmFtZT1zYXZlX3pheXldJykubGVuZ3RoID4gMClcclxuXHRcdHtcclxuXHRzYXZlZGVmYXVsdF96YXkodGhpc3MpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHRcdHtcclxuICAgIHNhdmVkZWZhdWx0KHRoaXNzKTtcclxuXHRcdFx0fVxyXG5cdFxyXG59XHJcblxyXG5cclxuXHJcblxyXG4vL9C80LDRgdC60LAg0LLQstC+0LTQuNGC0Ywg0YLQvtC70YzQutC+INGG0LXQu9GL0LVcclxuZnVuY3Rpb24gbWFza2sxKHRoaXNzKVxyXG57XHJcblx0dGhpc3MudmFsKHRoaXNzLnZhbCgpLnJlcGxhY2UoL1teXFxkXSovZywgJycpLnJlcGxhY2UoLyhbXSlbXSsvZywgJyQxJykucmVwbGFjZSgvXlteXFxkXSooXFxkKyhbXVxcZHswLDV9KT8pLiokL2csICckMScpKTtcclxuXHRcdGlmKCQoJ1tuYW1lPXNhdmVfemF5eV0nKS5sZW5ndGggPiAwKVxyXG5cdFx0e1xyXG5cdHNhdmVkZWZhdWx0X3pheSh0aGlzcyk7XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0e1xyXG5cdHNhdmVkZWZhdWx0KHRoaXNzKTtcdFx0XHRcdFxyXG5cdFx0XHR9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL9C/0L7QutCw0LfQsNGC0Ywg0L/QvtC00YHQutCw0LfQutC4INC6INC/0L7Qu9GP0Lwg0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGB0YLRgNCw0L3QuNGG0Ysg0LPQtNC1INC30LDQv9C+0LvQvdC10L3QvlxyXG52YXIgbGFiZWxfc2hvd19sb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0JCgnLmxhYmVsX3MnKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdGlmKCQodGhpcykucHJldignbGFiZWwnKS5sZW5ndGgpXHJcblx0e1xyXG5cdCAgIGlmKCQodGhpcykudmFsKCk9PScnKVxyXG5cdFx0ICAge1xyXG5cdFx0XHQgICAkKHRoaXMpLnByZXYoJ2xhYmVsJykuaGlkZSgpO1xyXG5cdFx0XHQgICBcclxuXHRcdCAgIH0gZWxzZVxyXG5cdFx0XHQgICB7XHJcblx0XHRcdFx0ICAgXHJcblx0XHRcdFx0ICAgJCh0aGlzKS5wcmV2KCdsYWJlbCcpLnNob3coKTtcclxuXHRcdFx0ICAgfVxyXG5cdFxyXG5cdH1cclxuXHRcclxuXHR9KTtcclxuXHRcclxufVxyXG5cclxuXHJcbi8v0L/QvtC00YHQutCw0LfQutC4INC/0L7QtCDQuNC90L/Rg9GCINC/0L7Qu9GPXHJcbnZhciBsYWJlbF9zaG93ID0gZnVuY3Rpb24oKSB7XHJcblx0XHJcblx0XHJcblx0aWYoJCh0aGlzKS5wcmV2KCdsYWJlbCcpLmxlbmd0aClcclxuXHR7XHJcblx0ICAgaWYoJCh0aGlzKS52YWwoKT09JycpXHJcblx0XHQgICB7XHJcblx0XHRcdCAgICQodGhpcykucHJldignbGFiZWwnKS5oaWRlKCk7XHJcblx0XHRcdCAgIFxyXG5cdFx0ICAgfSBlbHNlXHJcblx0XHRcdCAgIHtcclxuXHRcdFx0XHQgICBcclxuXHRcdFx0XHQgICAkKHRoaXMpLnByZXYoJ2xhYmVsJykuc2hvdygpO1xyXG5cdFx0XHQgICB9XHJcblx0XHJcblx0fVxyXG5cdFxyXG5cdFxyXG5cdFxyXG59XHJcblxyXG5cclxuLy/Rg9C00LDQu9C40YLRjCDQtNC40LDQu9C+0LNcclxuZnVuY3Rpb24gZGVsX2RpYWxvZygpXHJcbntcclxuXHRpZiAoICQodGhpcykuaXMoXCJbZm9yXVwiKSApXHJcbntcclxuXHRpZigkLmlzTnVtZXJpYygkKHRoaXMpLmF0dHIoXCJmb3JcIikpKVxyXG5cdHtcclxuICAkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZGVsbF9kaWFsb2cucGhwP2lkPScrJCh0aGlzKS5hdHRyKFwiZm9yXCIpLFxyXG4gICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgfSxcclxuICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcbn1cclxufVxyXG4gIFxyXG5yZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcblxyXG4vLyDRgtCw0LnQvNC10YAg0LLRgNC10LzQtdC90Lgg0LTQu9GPINGE0L7RgNC8IGFqYXhcclxuZnVuY3Rpb24gaW5pdGlhbGl6ZVRpbWVyKCkge1xyXG5cdFxyXG5cdHZhciBlbmREYXRlID0gbmV3IERhdGUoKTsgLy8g0L/QvtC70YPRh9Cw0LXQvCDQtNCw0YLRgyDQuNGB0YLQtdGH0LXQvdC40Y8g0YLQsNC50LzQtdGA0LBcclxuXHR2YXIgZW5kRGF0ZSA9KChlbmREYXRlLzEwMDApKzE4MDApKjEwMDA7IC8vMzAg0LzQuNC90YPRglxyXG5cdHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7IC8vINC/0L7Qu9GD0YfQsNC10Lwg0YLQtdC60YPRidGD0Y4g0LTQsNGC0YNcclxuXHR2YXIgc2Vjb25kcyA9IChlbmREYXRlLWN1cnJlbnREYXRlKSAvIDEwMDA7IC8vINC+0L/RgNC10LTQtdC70Y/QtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INGB0LXQutGD0L3QtCDQtNC+INC40YHRgtC10YfQtdC90LjRjyDRgtCw0LnQvNC10YDQsFxyXG5cdGlmIChzZWNvbmRzID4gMCkgeyAvLyDQv9GA0L7QstC10YDQutCwIC0g0LjRgdGC0LXQutC70LAg0LvQuCDQtNCw0YLQsCDQvtCx0YDQsNGC0L3QvtCz0L4g0L7RgtGB0YfQtdGC0LBcclxuXHRcdHZhciBtaW51dGVzID0gc2Vjb25kcy82MDsgLy8g0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0LzQuNC90YPRgiDQtNC+INC40YHRgtC10YfQtdC90LjRjyDRgtCw0LnQvNC10YDQsFxyXG5cdFx0dmFyIGhvdXJzID0gbWludXRlcy82MDsgLy8g0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0YfQsNGB0L7QsiDQtNC+INC40YHRgtC10YfQtdC90LjRjyDRgtCw0LnQvNC10YDQsFxyXG5cdFx0bWludXRlcyA9IChob3VycyAtIE1hdGguZmxvb3IoaG91cnMpKSAqIDYwOyAvLyDQv9C+0LTRgdGH0LjRgtGL0LLQsNC10Lwg0LrQvtC7LdCy0L4g0L7RgdGC0LDQstGI0LjRhdGB0Y8g0LzQuNC90YPRgiDQsiDRgtC10LrRg9GJ0LXQvCDRh9Cw0YHQtVxyXG5cdFx0aG91cnMgPSBNYXRoLmZsb29yKGhvdXJzKTsgLy8g0YbQtdC70L7QtSDQutC+0LvQuNGH0LXRgdGC0LLQviDRh9Cw0YHQvtCyINC00L4g0LjRgdGC0LXRh9C10L3QuNGPINGC0LDQudC80LXRgNCwXHJcblx0XHRzZWNvbmRzID0gTWF0aC5mbG9vcigobWludXRlcyAtIE1hdGguZmxvb3IobWludXRlcykpICogNjApOyAvLyDQv9C+0LTRgdGH0LjRgtGL0LLQsNC10Lwg0LrQvtC7LdCy0L4g0L7RgdGC0LDQstGI0LjRhdGB0Y8g0YHQtdC60YPQvdC0INCyINGC0LXQutGD0YnQtdC5INC80LjQvdGD0YLQtVxyXG5cdFx0bWludXRlcyA9IE1hdGguZmxvb3IobWludXRlcyk7IC8vINC+0LrRgNGD0LPQu9GP0LXQvCDQtNC+INGG0LXQu9C+0LPQviDQutC+0Lst0LLQviDQvtGB0YLQsNCy0YjQuNGF0YHRjyDQvNC40L3Rg9GCINCyINGC0LXQutGD0YnQtdC8INGH0LDRgdC1XHJcblx0XHRcclxuXHRcdHNldFRpbWVQYWdlKGhvdXJzLG1pbnV0ZXMsc2Vjb25kcyk7IC8vINCy0YvRgdGC0LDQstC70Y/QtdC8INC90LDRh9Cw0LvRjNC90YvQtSDQt9C90LDRh9C10L3QuNGPINGC0LDQudC80LXRgNCwXHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHNlY091dCgpIHtcclxuXHRcdCAgaWYgKHNlY29uZHMgPT0gMCkgeyAvLyDQtdGB0LvQuCDRgdC10LrRg9C90LTRgyDQt9Cw0LrQvtC90YfQuNC70LjRgdGMINGC0L5cclxuXHRcdFx0ICBpZiAobWludXRlcyA9PSAwKSB7IC8vINC10YHQu9C4INC80LjQvdGD0YLRiyDQt9Cw0LrQvtC90YfQuNC70LjRgdGMINGC0L5cclxuXHRcdFx0XHQgIGlmIChob3VycyA9PSAwKSB7IC8vINC10YHQu9C4INGH0LDRgdGLINC30LDQutC+0L3Rh9C40LvQuNGB0Ywg0YLQvlxyXG5cdFx0XHRcdFx0ICBzaG93TWVzc2FnZSh0aW1lcklkKTsgLy8g0LLRi9Cy0L7QtNC40Lwg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7QutC+0L3Rh9Cw0L3QuNC4INC+0YLRgdGH0LXRgtCwXHJcblx0XHRcdFx0ICB9XHJcblx0XHRcdFx0ICBlbHNlIHtcclxuXHRcdFx0XHRcdCAgaG91cnMtLTsgLy8g0YPQvNC10L3RjNGI0LDQtdC8INC60L7Quy3QstC+INGH0LDRgdC+0LJcclxuXHRcdFx0XHRcdCAgbWludXRlcyA9IDU5OyAvLyDQvtCx0L3QvtCy0LvRj9C10Lwg0LzQuNC90YPRgtGLIFxyXG5cdFx0XHRcdFx0ICBzZWNvbmRzID0gNTk7IC8vINC+0LHQvdC+0LLQu9GP0LXQvCDRgdC10LrRg9C90LTRi1xyXG5cdFx0XHRcdCAgfVxyXG5cdFx0XHQgIH1cclxuXHRcdFx0ICBlbHNlIHtcclxuXHRcdFx0XHQgIG1pbnV0ZXMtLTsgLy8g0YPQvNC10L3RjNGI0LDQtdC8INC60L7Quy3QstC+INC80LjQvdGD0YJcclxuXHRcdFx0XHQgIHNlY29uZHMgPSA1OTsgLy8g0L7QsdC90L7QstC70Y/QtdC8INGB0LXQutGD0L3QtNGLXHJcblx0XHRcdCAgfVxyXG5cdFx0ICB9XHJcblx0XHQgIGVsc2Uge1xyXG5cdFx0XHQgIHNlY29uZHMtLTsgLy8g0YPQvNC10L3RjNGI0LDQtdC8INC60L7Quy3QstC+INGB0LXQutGD0L3QtFxyXG5cdFx0ICB9XHJcblx0XHQgIHNldFRpbWVQYWdlKGhvdXJzLG1pbnV0ZXMsc2Vjb25kcyk7IC8vINC+0LHQvdC+0LLQu9GP0LXQvCDQt9C90LDRh9C10L3QuNGPINGC0LDQudC80LXRgNCwINC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG5cdFx0fVxyXG5cdFx0dGltZXJJZCA9IHNldEludGVydmFsKHNlY091dCwgMTAwMCkgLy8g0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0LLRi9C30L7QsiDRhNGD0L3QutGG0LjQuCDRh9C10YDQtdC3INC60LDQttC00YPRjiDRgdC10LrRg9C90LTRg1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdC8vYWxlcnQoXCLQo9GB0YLQsNC90L7QstC70LXQvdC90LDRjyDQtNCw0YLQsCDRg9C20LUg0L/RgNC+0YjQu9CwXCIpO1xyXG5cdH1cclxufVxyXG5cclxuLy/RhNGD0L3QutGG0LjRjyDQuNC30LzQtdC90LXQvdC40Y8g0LLRgNC10LzQtdC90Lgg0LIg0L7QutC90LVcclxuZnVuY3Rpb24gc2V0VGltZVBhZ2UoaCxtLHMpIHsgLy8g0YTRg9C90LrRhtC40Y8g0LLRi9GB0YLQsNCy0LvQtdC90LjRjyDRgtCw0LnQvNC10YDQsCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuXHJcbiAgICBpZihtPDEwKXsgbT0nMCcrbTt9XHJcblx0aWYoczwxMCl7IHM9JzAnK3M7fVxyXG5cdFxyXG4gICAgJCgnLmNsb2NrX3RhYmxlJykuZW1wdHkoKS5hcHBlbmQobSsnOicrcyk7XHJcblx0XHJcblx0aWYobTw1KVxyXG5cdHtcclxuXHRcdCQoJy5jbG9ja190YWJsZScpLnNob3coKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vINGE0YPQvdC60YbQuNGPLCDQstGL0LfRi9Cy0LDQtdC80LDRjyDQv9C+INC40YHRgtC10YfQtdC90LjRjiDQstGA0LXQvNC10L3QuFxyXG5mdW5jdGlvbiBzaG93TWVzc2FnZSh0aW1lcklkKSB7IFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7IFxyXG5cdCQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHRcclxufVxyXG5cclxuLy/QstGL0LLQvtC0INC+0LrQvdCwINCy0YXQvtC00LAg0LIg0YHQuNGB0YLQtdC80YNcclxuZnVuY3Rpb24gV2luZG93TG9naW4oKVxyXG57XHJcblx0ICAkKGRvY3VtZW50KS51bmJpbmQoJ21vdXNlbW92ZS50aW1lIGtleWRvd24udGltZSBzY3JvbGwudGltZScpO1xyXG5cdCAgLy/Qt9Cw0LLQtdGA0YjQtdC90LjQtSDRgdC10YHRgdC40Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcblx0ICAvLyQuY29va2llKCd1c2VyX2lkJywgbnVsbCwge3BhdGg6Jy8nfSk7ICBcclxuXHQgIC8vJC5jb29raWUoJ2RhJywgbnVsbCwge3BhdGg6Jy8nfSk7IFxyXG5cdCAgXHJcblx0ICAvL9C+0YLQutGA0YvRgtC40LUg0YTQvtGA0LzRiyDQtNC70Y8g0LLRhdC+0LTQsFxyXG5cdCAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9sb2dpbi5waHA/dXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHQgXHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cdCAgXHJcblx0ICBcclxuXHQgIFxyXG4gICAgICBpZGxlU3RhdGUgPSB0cnVlOyBcdFxyXG59XHJcblxyXG4vL9C/0LXRgNC10LfQsNCz0YDRg9C30LrQsCDRgdGC0YDQsNC90LjRhtGLXHJcbmZ1bmN0aW9uIGF1dG9SZWxvYWRIYWsoKXtcclxuICB2YXIgZ29hbCA9IHNlbGYubG9jYXRpb247XHJcbiAgbG9jYXRpb24uaHJlZiA9IGdvYWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFRpbWVIYWsoKVxyXG57XHJcblxyXG5cdHZhciB0c2wgPSAkLmNvb2tpZSgndHNsJyk7XHJcblx0Ly9hbGVydCh0c2wpO1xyXG5cdC8vYWxlcnQoY29va2llX25ldyk7XHJcblx0aWYoKHRzbCE9bnVsbCkmJih0c2w9PTEpIClcclxuXHR7XHJcblx0ICBhdXRvUmVsb2FkSGFrKCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuLy/RgdC70LXQtNC40YIg0LfQsCDQuNC30LzQtdC90LXQvdC40LXQvCDQuCDRgNCw0LHQvtGC0L7QuSDQsiDRgdC40YHRgtC10LzQtSDQsiDQtNGA0YPQs9C40YUg0L7QutC90LDRhVxyXG5mdW5jdGlvbiBUaW1lU3lzdGVtKClcclxueyBcclxuICAvLyQoJy5kZWJ1ZycpLmVtcHR5KCkuYXBwZW5kKCQuY29va2llKFwidHNzXCIpKTtcdFxyXG5cdFxyXG4gIGlmKCghaXNOYU4obG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RzcycpKSkpIFxyXG4gIHsgXHJcblx0Ly8kKCcuZGVidWcnKS5lbXB0eSgpLmFwcGVuZCgnITEnKTtcclxuXHRpZihpZFRpbWVTdGFtcGUhPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0c3MnKSlcclxuICAge1xyXG5cdCAgIC8vICQoJy5kZWJ1ZycpLmVtcHR5KCkuYXBwZW5kKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0c3MnKSk7XHJcblx0XHRpZFRpbWVTdGFtcGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RzcycpOyAgIFxyXG5cdCAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVyKTsgLy8g0L7RgtC80LXQvdGP0LXQvCDQv9GA0LXQttC90LjQuSDQstGA0LXQvNC10L3QvdC+0Lkg0L7RgtGA0LXQt9C+0LpcclxuXHQgICAgaWRsZVN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgaWRsZVRpbWVyID0gc2V0VGltZW91dCh0aW1lc3NzLCBpZGxlV2FpdCk7XHQgICBcclxuXHQgICB9XHJcbiAgIH1cclxufVxyXG5mdW5jdGlvbiBqc190b3Vyb3Blcl9leWUoKVxyXG57XHJcblx0dmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHR2YXIgc3BwPSQodGhpcykuYXR0cignc3BwJyk7XHJcblxyXG5cdGlmKCEkKHRoaXMpLmlzKCcudG91cnMtZWFzLW9wZW4nKSApXHJcblx0e1xyXG5cdFx0JCh0aGlzKS5hZGRDbGFzcygndG91cnMtZWFzLW9wZW4nKTtcclxuXHJcblx0XHQkLmNvb2tpZShcImV5ZV90X1wiK2l1KydfJytzcHAsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRcdGlmKHNwcD09MSlcclxuXHRcdHtcclxuXHRcdFx0JCgnLnRyaXBzLWItb3BlcmF0b3InKS5zaG93KCk7XHJcblx0XHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdFx0JCgnLnRyaXBzLWItY29taXNzaW9uJykuc2hvdygpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3RvdXJzLWVhcy1vcGVuJyk7XHJcblx0XHQkLmNvb2tpZShcImV5ZV90X1wiK2l1KydfJytzcHAsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRcdENvb2tpZUxpc3QoXCJleWVfdF9cIitpdSsnXycrc3BwLFwiMVwiLCdhZGQnKTtcclxuXHJcblx0XHRpZihzcHA9PTEpXHJcblx0XHR7XHJcblx0XHRcdCQoJy50cmlwcy1iLW9wZXJhdG9yJykuaGlkZSgpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHRcdCQoJy50cmlwcy1iLWNvbWlzc2lvbicpLmhpZGUoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNsYXNzYmxvY2tUcmlwcygpO1xyXG59XHJcbi8v0YHQvNC+0YLRgNC40Lwg0LrQsNC60LjQtSDQv9C+0LvRjyDQsiDQsdC70L7QutC1INGC0YPRgNC+0LIg0YHQutGA0YvRgtGLINC4INC00LDQtdC8INC/0YDQsNCy0LjQu9GM0L3Ri9C5INGB0YLQuNC70Ywg0LTQu9GPINCx0LvQvtC60LBcclxuZnVuY3Rpb24gY2xhc3NibG9ja1RyaXBzKClcclxue1xyXG5cdHZhciB0b3I9MTtcclxuXHR2YXIgY29tcz0xO1xyXG5cdC8v0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0LHQu9C+0LrQuCDQstC40LTQvdGLINC4INC90LjQutCw0LrQvtC5INGB0YLQuNC70Ywg0L3QtSDQvdGD0LbQtdC9XHJcblxyXG5cdGlmKCQoJy50cmlwc19ibG9ja19nbG9iYWw6Zmlyc3QgLnRyaXBzLWItb3BlcmF0b3InKS5pcygnOnZpc2libGUnKSApIHsgfSBlbHNlIHsgIHRvcj0wOyB9XHJcblx0aWYoJCgnLnRyaXBzX2Jsb2NrX2dsb2JhbDpmaXJzdCAudHJpcHMtYi1jb21pc3Npb24nKS5pcygnOnZpc2libGUnKSApIHsgfSBlbHNlIHsgIGNvbXM9MDsgfVxyXG5cclxuXHQkKCcudHJpcHNfYmxvY2tfZ2xvYmFsJykucmVtb3ZlQ2xhc3MoJ2Jsb2NrX3QwMCcpO1xyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5yZW1vdmVDbGFzcygnYmxvY2tfdDEwJyk7XHJcblx0JCgnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLnJlbW92ZUNsYXNzKCdibG9ja190MDEnKTtcclxuXHJcblx0aWYoKHRvcj09MCkmJihjb21zPT0wKSlcclxue1xyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5hZGRDbGFzcygnYmxvY2tfdDAwJyk7XHJcbn1cclxuaWYoKHRvcj09MSkmJihjb21zPT0wKSlcclxue1xyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5hZGRDbGFzcygnYmxvY2tfdDEwJyk7XHJcbn1cclxuaWYoKHRvcj09MCkmJihjb21zPT0xKSlcclxue1xyXG5cdCQoJy50cmlwc19ibG9ja19nbG9iYWwnKS5hZGRDbGFzcygnYmxvY2tfdDAxJyk7XHJcbn1cclxuXHJcbn1cclxuXHJcbi8v0L7QsdGA0LDRidC10L3QuNC1INC30LAg0YPQstC10LTQvtC80LvQtdC90LjQtdC8XHJcbmZ1bmN0aW9uIE5vdGlmaWNhdGlvblN5c3RlbSgpXHJcbnsgXHJcbiAgLy9cclxuICBpZigkKCcudXNlcnNfcnVsZScpLmlzKCdbbm90XScpKSBcclxuICB7ICBcdFxyXG5cdFxyXG5cdCAgLy/QtdGB0LvQuCDQtdGB0YLRjCDQstGL0LLQvtC0INC60YPQtNCwINCy0YvQstC+0LTQuNGC0Ywg0LfQsNC00LDRh9GDINGC0L7Qs9C00LAg0L/RgNC+0LLQtdGA0Y/QtdC8INC90LUg0L7QsdC90L7QstC40LvQuNGB0Ywg0LvQuCDQvtC90LhcclxuXHQgIHZhciB0YXNrX2Nsb3VkPTA7XHJcblx0ICBpZiAoJCgnLmpzLXRhc2stY2xvdWQnKS5sZW5ndGggPiAwKSB7IHRhc2tfY2xvdWQ9MTsgfVxyXG5cdCAgXHJcbiAgICB2YXIgZGF0YT0ndGs9JyskKCcudXNlcnNfcnVsZScpLmF0dHIoJ25vdCcpO1xyXG5cclxuICAgIG5wcm9ncmVzcz0xO1x0ICBcclxuICAgIEFqYXhDbGllbnQoJ25vdGlmaWNhdGlvbicsJ2V2ZW4nLCdHRVQnLGRhdGEsJ0FmdGVyTm9maScsMSwwLDEpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8v0YPQstC10LTQvtC80LvQtdC90LjRjyDQt9Cw0L/Rg9GB0LpcclxuZnVuY3Rpb24gTm90aWZTeXN0ZW0oKVxyXG57XHJcbi8v0L3QsCDQutCw0LrQuNGFINGC0L4g0YHRgtGA0LDQvdC40YbQsNGFINC80L7QttC90L4g0L3QtSDQstC60LvRjtGH0LDRgtGMINC+0LHQvdC+0LLQu9C10L3QuNC1INGD0LLQtdC00L7QvNC70LXQvdC40LlcdFxyXG4gaWYodHlwZW9mIE5vdGlmVmFyID09IFwidW5kZWZpbmVkXCIpXHRcclxuIHsgXHJcbiAgLy90aW1lclMgPSBzZXRJbnRlcnZhbChUaW1lU3lzdGVtLCAxMDAwKTtcdCBcclxuICAkKGRvY3VtZW50KS5iaW5kKCdtb3VzZW1vdmUubm90aWYga2V5ZG93bi5ub3RpZiBzY3JvbGwubm90aWYnLCBmdW5jdGlvbigpe1xyXG4gICAgY2xlYXJUaW1lb3V0KGlkbGVUaW1lcngpOyAvLyDQvtGC0LzQtdC90Y/QtdC8INC/0YDQtdC20L3QuNC5INCy0YDQtdC80LXQvdC90L7QuSDQvtGC0YDQtdC30L7QulxyXG5cdCBcclxuICAgICAvLyAkLmNvb2tpZSgndHNzJywgJC5ub3coKSwge2V4cGlyZXM6IDEscGF0aDogJy8nfSk7XHJcblx0ICBcclxuXHQgIC8vJCgnLmRlYnVnJykuZW1wdHkoKS5hcHBlbmQoJC5jb29raWUoJ3RzcycpKTtcdCAgXHJcblx0ICBcclxuICAgIGlmKGlkbGVTdGF0ZXggPT0gdHJ1ZSl7IFxyXG4gICAgICAvLyDQlNC10LnRgdGC0LLQuNGPINC90LAg0LLQvtC30LLRgNCw0YnQtdC90LjQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgICAgaWRsZVdhaXRfeWVzPWlkbGVXYWl0X3N0YXJ0O1xyXG5cdCAgY2xlYXJJbnRlcnZhbCh0aW1lclN4KTtcclxuXHQgIHRpbWVyU3ggPSBzZXRJbnRlcnZhbChOb3RpZmljYXRpb25TeXN0ZW0sIGlkbGVXYWl0X3llcyk7IFxyXG5cdCAgTm90aWZpY2F0aW9uU3lzdGVtKCk7XHRcclxuICAgIH1cclxuIFxyXG4gICAgaWRsZVN0YXRleCA9IGZhbHNlO1xyXG5cdGlkbGVXYWl0X3llcz1pZGxlV2FpdF9zdGFydDsgXHJcblx0Ly9jbGVhckludGVydmFsKHRpbWVyU3gpO1xyXG5cdC8vdGltZXJTeCA9IHNldEludGVydmFsKE5vdGlmaWNhdGlvblN5c3RlbSwgaWRsZVdhaXRfeWVzKTsgICBcclxuXHQgIFxyXG4gICAgaWRsZVRpbWVyeCA9IHNldFRpbWVvdXQodGltZXNzc3gsIGlkbGVXYWl0X3N0b3ApO1xyXG5cdCBcclxuICB9KTtcclxuICB0aW1lclN4ID0gc2V0SW50ZXJ2YWwoTm90aWZpY2F0aW9uU3lzdGVtLCBpZGxlV2FpdF95ZXMpOyBcclxuICAkKFwiYm9keVwiKS50cmlnZ2VyKFwibW91c2Vtb3ZlXCIpOyAvLyDRgdCz0LXQvdC10YDQuNGA0YPQtdC8INC70L7QttC90L7QtSDRgdC+0LHRi9GC0LjQtSwg0LTQu9GPINC30LDQv9GD0YHQutCwINGB0LrRgNC40L/RgtCwXHRcclxuIH1cclxufVxyXG5cclxuLy/QtdGB0LvQuCDQv9GA0L7QuNC30L7RiNC70L4g0LHQtdC30LTQtdC50YHRgtCy0LjQtSDQsiDRgtC10YfQtdC90LjQuCAxMCDQvNC40L3Rg9GCXHJcbmZ1bmN0aW9uIHRpbWVzc3N4KCkgeyBcclxuXHQgIFxyXG5cdCAgLy/QtdGB0LvQuCDQv9Cw0YDQvtC70Ywg0L3QtSDQstCy0LXQu9C4INGH0LXRgNC10Lcg0LzQuNC90YPRgiDQv9C10YDQtdC30LDQs9GA0YPQt9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXHJcbiAgICAgIC8vINCU0LXQudGB0YLQstC40Y8g0L3QsCDQvtGC0YHRg9GC0YHRgtCy0LjQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuXHQgIC8vYWxlcnQoJ9Cy0YvRhdC+0LQg0LjQtyDRgdC40YHRgtC10LzRiycpO1xyXG5cdCAgLy8kKGRvY3VtZW50KS51bmJpbmQoJ21vdXNlbW92ZS50aW1lIGtleWRvd24udGltZSBzY3JvbGwudGltZScpO1xyXG5cdCAgLy/Qt9Cw0LLQtdGA0YjQtdC90LjQtSDRgdC10YHRgdC40Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcblx0ICAvLyQuY29va2llKCd1c2VyX2lkJywgbnVsbCwge3BhdGg6Jy8nfSk7ICBcclxuXHQgIC8vJC5jb29raWUoJ2RhJywgbnVsbCwge3BhdGg6Jy8nfSk7IFxyXG5cdCAgXHJcblx0ICAvL9C+0YLQutGA0YvRgtC40LUg0YTQvtGA0LzRiyDQtNC70Y8g0LLRhdC+0LTQsFxyXG5cdCAgaWRsZVdhaXRfeWVzPWlkbGVXYWl0X2VuZDtcclxuICAgICAgaWRsZVN0YXRleCA9IHRydWU7IFxyXG5cdCAgY2xlYXJJbnRlcnZhbCh0aW1lclN4KTtcclxuXHQgIHRpbWVyU3ggPSBzZXRJbnRlcnZhbChOb3RpZmljYXRpb25TeXN0ZW0sIGlkbGVXYWl0X3llcyk7IFxyXG4gICAgfVxyXG5cclxuXHJcbi8v0YTRg9C90LrRhtC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQstC00YDRg9CzINCyINC60LDQutC+0Lwg0YLQviDQvtC60L3QtSDQt9Cw0YjQu9C4INC/0L7QtCDQu9C+0LPQuNC90L7QvCDRgtC+0LPQtNCwINC4INCyINC00YDRg9Cz0L7QvCDQvtC60L3QtSDQv9C10YDQtdC30LDQs9GA0YPQt9C40YLRjCDRgdGC0YDQsNC90LjRhtGDXHJcbmZ1bmN0aW9uIHVwZGF0ZWxvZ2luaGFrKClcclxue1xyXG5cdHRpbWVySCA9IHNldEludGVydmFsKFRpbWVIYWssIDE1MDAwKTtcdFxyXG59XHJcblxyXG4vL9Cy0YvRhdC+0LQg0LjQtyDRgdC40YHRgtC10LzRiyDQv9GA0Lgg0LHQtdC30LTQtdC50YHRgtCy0LjQuCDQstC+INCy0YHQtdGFINC+0LrQvdCw0YUg0Y3RgtC+0Lkg0YHQuNGB0YLQtdC80YtcclxuZnVuY3Rpb24gRXhpdFN5c3RlbSgpXHJcbntcclxuIGlmKHR5cGVvZiBMb2dpblZhciA9PSBcInVuZGVmaW5lZFwiKVx0XHJcbiB7IFxyXG4gIHRpbWVyUyA9IHNldEludGVydmFsKFRpbWVTeXN0ZW0sIDEwMDApO1x0IFxyXG4gICQoZG9jdW1lbnQpLmJpbmQoJ21vdXNlbW92ZS50aW1lIGtleWRvd24udGltZSBzY3JvbGwudGltZScsIGZ1bmN0aW9uKCl7XHJcbiAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVyKTsgLy8g0L7RgtC80LXQvdGP0LXQvCDQv9GA0LXQttC90LjQuSDQstGA0LXQvNC10L3QvdC+0Lkg0L7RgtGA0LXQt9C+0LpcclxuXHQgXHJcbiAgICAgIC8vJC5jb29raWUoJ3RzcycsICQubm93KCksIHtleHBpcmVzOiAxMDAscGF0aDogJy8nfSk7XHJcblx0ICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHNzJywgJC5ub3coKSk7XHJcblx0IC8vICQuY29va2llKCd0c3MnLCAkLm5vdygpKTtcclxuXHQgIC8vJCgnLmRlYnVnJykuZW1wdHkoKS5hcHBlbmQoJC5jb29raWUoXCJ0c3NcIikpO1xyXG5cdCAgLy8kLmNvb2tpZSgndHNzJywgJC5ub3coKSwge2V4cGlyZXM6IDYwLHBhdGg6ICcvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9O1xyXG5cdCAgLy8kLmNvb2tpZSgnaXNzJywgJ3MnLCB7ZXhwaXJlczogNjAscGF0aDogJy8nfSk7XHJcblx0ICBcclxuXHQgICAgXHJcblx0ICBcclxuICAgIGlmKGlkbGVTdGF0ZSA9PSB0cnVlKXsgXHJcbiAgICAgIC8vINCU0LXQudGB0YLQstC40Y8g0L3QsCDQstC+0LfQstGA0LDRidC10L3QuNC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgfVxyXG4gXHJcbiAgICBpZGxlU3RhdGUgPSBmYWxzZTtcclxuICAgIGlkbGVUaW1lciA9IHNldFRpbWVvdXQodGltZXNzcywgaWRsZVdhaXQpO1xyXG4gIH0pO1xyXG4gXHJcbiAgJChcImJvZHlcIikudHJpZ2dlcihcIm1vdXNlbW92ZVwiKTsgLy8g0YHQs9C10L3QtdGA0LjRgNGD0LXQvCDQu9C+0LbQvdC+0LUg0YHQvtCx0YvRgtC40LUsINC00LvRjyDQt9Cw0L/Rg9GB0LrQsCDRgdC60YDQuNC/0YLQsFx0XHJcbiB9XHJcbn1cclxuLy/QstGL0LfQvtCyINGE0YPQvdC60YbQuNC4INCy0LLQvtC00LAg0LvQvtCz0LjQvdCwINC/0LDRgNC+0LvRj1xyXG5mdW5jdGlvbiB0aW1lc3NzKCkgeyBcclxuXHQgIGNsZWFySW50ZXJ2YWwodGltZXJTKTtcclxuXHQgIC8v0LXRgdC70Lgg0L/QsNGA0L7Qu9GMINC90LUg0LLQstC10LvQuCDRh9C10YDQtdC3INC80LjQvdGD0YIg0L/QtdGA0LXQt9Cw0LPRgNGD0LfQuNGC0Ywg0YHRgtGA0LDQvdC40YbRg1xyXG5cdCAgc2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgYXV0b1JlbG9hZCgpOyB9LCA2MDAwMCApO1xyXG4gICAgICAvLyDQlNC10LnRgdGC0LLQuNGPINC90LAg0L7RgtGB0YPRgtGB0YLQstC40LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcblx0ICAvL2FsZXJ0KCfQstGL0YXQvtC0INC40Lcg0YHQuNGB0YLQtdC80YsnKTtcclxuXHQgICQoZG9jdW1lbnQpLnVuYmluZCgnbW91c2Vtb3ZlLnRpbWUga2V5ZG93bi50aW1lIHNjcm9sbC50aW1lJyk7XHJcblx0ICAvL9C30LDQstC10YDRiNC10L3QuNC1INGB0LXRgdGB0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuXHQgIC8vJC5jb29raWUoJ3VzZXJfaWQnLCBudWxsLCB7cGF0aDonLyd9KTsgIFxyXG5cdCAgLy8kLmNvb2tpZSgnZGEnLCBudWxsLCB7cGF0aDonLyd9KTsgXHJcblx0ICAkLmNvb2tpZShcInRzbFwiLCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcblx0ICAvL9C+0YLQutGA0YvRgtC40LUg0YTQvtGA0LzRiyDQtNC70Y8g0LLRhdC+0LTQsFxyXG5cdCAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9sb2dpbi5waHA/dXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHQgXHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cdCAgXHJcblx0ICBcclxuXHQgIFxyXG4gICAgICBpZGxlU3RhdGUgPSB0cnVlOyBcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBjb21wYXJlTnVtYmVycyhhLCBiKSB7XHJcbiAgcmV0dXJuIGEgLSBiO1xyXG59XHJcblxyXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INC4INGD0LTQsNC70LXQvdC40LUg0LjQtyDQutGD0LrQutC4INC/0LXRgNC10LzQtdC90L3Ri9GFXHJcbmZ1bmN0aW9uIENvb2tpZUxpc3QobmFtZSxpZCxjb21tYW5kLHNvcnQpXHJcbntcclxuLy9kZWwgLSBhZGRcclxuLy9hbGVydCgkLmNvb2tpZShuYW1lKSk7XHJcbnZhciBjb29raWUgPSAkLmNvb2tpZShuYW1lKTtcclxuXHQvL2FsZXJ0KGNvb2tpZSk7XHJcbmlmKGNvb2tpZT09bnVsbCkgeyAgJC5jb29raWUobmFtZSwgaWQsIHtleHBpcmVzOiA2MCxwYXRoOiAnLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlLHNhbWVzaXRlOidsYXgnfSk7XHJcbiB9IGVsc2Vcclxue1xyXG5cdGlmKGNvbW1hbmQ9PSdkZWwnKVxyXG5cdHtcclxuXHRcdFxyXG5cdHZhciBjYyA9IGNvb2tpZS5zcGxpdCgnLicpO1xyXG5cdHZhciB0ZXh0PScnO1xyXG5cdHZhciBscD0wO1xyXG5cdGZvciAoIHZhciB0ID0gMDsgdCA8IGNjLmxlbmd0aDsgdCsrICkgXHJcblx0eyBcclxuXHQgIGlmKGNjW3RdIT1pZClcclxuXHQgIHtcclxuXHRcdCAgaWYoY2NbdF0hPScnKVxyXG5cdFx0ICB7XHQgIFxyXG5cdFx0ICAgIGlmKGxwPT0wKVxyXG5cdFx0ICAgIHtcclxuXHRcdFx0ICB0ZXh0PWNjW3RdO1xyXG5cdFx0ICAgIH0gZWxzZVxyXG5cdFx0ICAgIHtcclxuXHRcdFx0ICB0ZXh0PXRleHQrJy4nK2NjW3RdO1xyXG5cdFx0ICAgIH1cclxuXHRcdCAgICBscCsrO1xyXG5cdFx0ICB9XHJcblx0ICB9XHJcblx0fVxyXG5cdGlmKHRleHQ9PScnKVxyXG5cdHtcclxuXHRcdCQuY29va2llKG5hbWUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2Usc2FtZXNpdGU6J2xheCd9KTtcclxuXHR9IGVsc2VcclxuXHR7XHJcblx0ICAgICQuY29va2llKG5hbWUsIHRleHQsIHtwYXRoOiAnLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlLHNhbWVzaXRlOidsYXgnfSk7ICAvLzYwINC00L3QtdC5XHJcblx0fVxyXG5cdFxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdC8vYWxlcnQoc29ydCk7XHJcblx0XHQgIGlmIChzb3J0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgJC5jb29raWUobmFtZSwgY29va2llKycuJytpZCwge3BhdGg6ICcvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2Usc2FtZXNpdGU6J2xheCd9KTsgLy82MCDQtNC90LXQuVxyXG4gICAgICAgICAgfSBlbHNlXHJcblx0ICAgICAge1xyXG5cdFx0XHRcdCAgaWYoc29ydD09J3NvcnQnKVxyXG5cdFx0XHRcdCAge1xyXG5cdFx0XHRcdFx0XHR2YXIgam9uX2Nvb2tpZT1jb29raWUrJy4nK2lkO1xyXG5cdFx0XHRcdFx0ICAgIHZhciBqb25fY2MgPSBqb25fY29va2llLnNwbGl0KCcuJyk7IFxyXG5cdFx0XHRcdFx0ICBcclxuXHRcdFx0XHRcdCAgIGpvbl9jYz0gam9uX2NjLnNvcnQoY29tcGFyZU51bWJlcnMpO1xyXG5cdFx0XHRcdFx0ICAgLy9hbGVydChqb25fY2Muam9pbihcIi5cIikpO1xyXG5cdFx0XHRcdFx0ICAgJC5jb29raWUobmFtZSwgam9uX2NjLmpvaW4oXCIuXCIpLCB7cGF0aDogJy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZSxzYW1lc2l0ZTonbGF4J30pOyAvLzYwINC00L3QtdC5XHJcblx0XHRcdFx0XHQgICAgXHJcblx0XHRcdFx0ICB9XHJcblx0XHRcdFx0ICBcclxuXHRcdCAgfVxyXG5cdFx0XHJcblx0XHRcclxuXHRcdFxyXG5cdH1cclxufVxyXG5cdC8vYWxlcnQoY29va2llKTtcclxufVxyXG5cclxuXHJcbi8v0LTQvtCx0LDQstC70LXQvdC40LUg0LjQu9C4INGD0LTQsNC70LXQvdC40LUg0LjQtyDRgdGC0YDQvtC60Lgg0LLQuNC00LAgNCwzLDUg0LXRidC1INGN0LvQtdC80LXQvdGC0L7QslxyXG4vL9Cy0L7Qt9Cy0YDQsNGJ0LDQtdGCIDAg0LXRgdC70Lgg0L3QsNC00L4g0LTQvtCx0LDQstC40YLRjCDQsCDRjdGC0L4g0YPQttC1INC10YHRgtGMXHJcbmZ1bmN0aW9uIEFkZERlbGxMaXN0U2VwKHN0cmluZyxpZCxjb21tYW5kLHNlcGFyYXRvcilcclxue1xyXG4vL2RlbCAtIGFkZFxyXG5cclxuXHQvL2FsZXJ0KGNvb2tpZSk7XHJcblx0aWYoKHN0cmluZz09JycpJiYoY29tbWFuZD09J2FkZCcpKSB7IHJldHVybiBpZDtcclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHRpZihjb21tYW5kPT0nZGVsbCcpXHJcblx0XHR7XHJcblxyXG5cdFx0XHR2YXIgY2MgPSBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yKTtcclxuXHRcdFx0dmFyIHRleHQ9Jyc7XHJcblx0XHRcdHZhciBscD0wO1xyXG5cdFx0XHRmb3IgKCB2YXIgdCA9IDA7IHQgPCBjYy5sZW5ndGg7IHQrKyApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZihjY1t0XSE9aWQpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0aWYoY2NbdF0hPScnKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZihscD09MClcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ9Y2NbdF07XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGV4dD10ZXh0K3NlcGFyYXRvcitjY1t0XTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRscCsrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZih0ZXh0PT0nJylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHRyZXR1cm4gdGV4dDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHQvL2FsZXJ0KHNvcnQpO1xyXG5cdFx0XHQvL9Cy0LTRgNGD0LMg0YLQsNC60L7QuSDRjdC70LXQvNC10L3RgiDRg9C20LUg0LXRgdGC0Ywg0YLQvtCz0LTQsCDQstC10YDQvdC10LwgMFxyXG5cdFx0XHR2YXIgY2MgPSBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yKTtcclxuXHRcdFx0dmFyIHRleHQ9Jyc7XHJcblx0XHRcdHZhciBscD0wO1xyXG5cdFx0XHRmb3IgKCB2YXIgdCA9IDA7IHQgPCBjYy5sZW5ndGg7IHQrKyApXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZihjY1t0XT09aWQpXHJcblx0XHRcdFx0e1xyXG5cclxuXHRcdFx0XHRcdGxwKys7XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZihscCE9MCkgeyAgcmV0dXJuIDA7fSBlbHNlIHtyZXR1cm4gKHN0cmluZytzZXBhcmF0b3IraWQpO31cclxuXHJcblxyXG5cdFx0fVxyXG5cdH1cclxuXHQvL2FsZXJ0KGNvb2tpZSk7XHJcbn1cclxuXHJcblxyXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INC40LvQuCDRg9C00LDQu9C10L3QuNC1INC40Lcg0YHRgtGA0L7QutC4INCy0LjQtNCwIDQsMyw1INC10YnQtSDRjdC70LXQvNC10L3RgtC+0LJcclxuLy/QstC+0LfQstGA0LDRidCw0LXRgiAwINC10YHQu9C4INC90LDQtNC+INC00L7QsdCw0LLQuNGC0Ywg0LAg0Y3RgtC+INGD0LbQtSDQtdGB0YLRjFxyXG5mdW5jdGlvbiBBZGREZWxsTGlzdChzdHJpbmcsaWQsY29tbWFuZClcclxue1xyXG4vL2RlbCAtIGFkZFxyXG5cclxuXHQvL2FsZXJ0KGNvb2tpZSk7XHJcbmlmKChzdHJpbmc9PScnKSYmKGNvbW1hbmQ9PSdhZGQnKSkgeyByZXR1cm4gaWQ7XHJcbiB9IGVsc2Vcclxue1xyXG5cdGlmKGNvbW1hbmQ9PSdkZWxsJylcclxuXHR7XHJcblx0XHRcclxuXHR2YXIgY2MgPSBzdHJpbmcuc3BsaXQoJywnKTtcclxuXHR2YXIgdGV4dD0nJztcclxuXHR2YXIgbHA9MDtcclxuXHRmb3IgKCB2YXIgdCA9IDA7IHQgPCBjYy5sZW5ndGg7IHQrKyApIFxyXG5cdHsgXHJcblx0ICBpZihjY1t0XSE9aWQpXHJcblx0ICB7XHJcblx0XHQgIGlmKGNjW3RdIT0nJylcclxuXHRcdCAge1x0ICBcclxuXHRcdCAgICBpZihscD09MClcclxuXHRcdCAgICB7XHJcblx0XHRcdCAgdGV4dD1jY1t0XTtcclxuXHRcdCAgICB9IGVsc2VcclxuXHRcdCAgICB7XHJcblx0XHRcdCAgdGV4dD10ZXh0KycsJytjY1t0XTtcclxuXHRcdCAgICB9XHJcblx0XHQgICAgbHArKztcclxuXHRcdCAgfVxyXG5cdCAgfVxyXG5cdH1cclxuXHRpZih0ZXh0PT0nJylcclxuXHR7XHJcblx0XHRyZXR1cm4gJyc7XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdCAgICByZXR1cm4gdGV4dDtcclxuXHR9XHJcblx0XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0Ly9hbGVydChzb3J0KTtcclxuXHQgICAgLy/QstC00YDRg9CzINGC0LDQutC+0Lkg0Y3Qu9C10LzQtdC90YIg0YPQttC1INC10YHRgtGMINGC0L7Qs9C00LAg0LLQtdGA0L3QtdC8IDBcclxuXHRcdHZhciBjYyA9IHN0cmluZy5zcGxpdCgnLCcpO1xyXG5cdHZhciB0ZXh0PScnO1xyXG5cdHZhciBscD0wO1xyXG5cdGZvciAoIHZhciB0ID0gMDsgdCA8IGNjLmxlbmd0aDsgdCsrICkgXHJcblx0eyBcclxuXHQgIGlmKGNjW3RdPT1pZClcclxuXHQgIHtcclxuXHRcdCAgXHJcblx0XHQgICAgbHArKztcclxuXHRcdCAgXHJcblx0ICB9XHJcblx0fVxyXG5cdGlmKGxwIT0wKSB7ICByZXR1cm4gMDt9IGVsc2Uge3JldHVybiAoc3RyaW5nKycsJytpZCk7fVxyXG5cdFx0XHJcblx0XHRcclxuXHR9XHJcbn1cclxuXHQvL2FsZXJ0KGNvb2tpZSk7XHJcbn1cclxuXHJcblxyXG5cclxuLy/QvtGC0L/RgNCw0LLQutCwINGB0L7QvtCx0YnQtdC90LjRj1xyXG52YXIgc2VuZF9tZWVlPSBmdW5jdGlvbigpXHJcbntcclxuXHJcblx0dmFyIHR0PSQoJyNvdHppdl9hcmVhJykudmFsKCk7XHJcblx0XHJcblx0dmFyIGVyciA9IFswXTtcclxuXHRcdFxyXG5cdCQoXCIub3R6aXZfbWVzc1wiKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuXHQvLyQoXCIjbnVtYmVyX3JcIikucmVtb3ZlQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcbiBcclxuICBcclxuICAgIGlmKCQoXCIjb3R6aXZfYXJlYVwiKS52YWwoKSA9PSAnJylcclxuXHR7XHJcblx0XHQkKFwiLm90eml2X21lc3NcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcblx0XHRlcnJbMF09MTtcdFx0XHJcblx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHJcbnZhciBmb3JfaWQ9JCgnLmNvbnRlbnRfYmxvY2snKS5hdHRyKCdpZF9jb250ZW50Jyk7XHRcclxudmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJmlkPScrZm9yX2lkKycmdGV4dD0nKyQoJyNvdHppdl9hcmVhJykudmFsKCk7XHRcclxuQWpheENsaWVudCgnbWVzc2FnZScsJ3NlbmRfbWVzc2FnZV9nbG9iYWwnLCdHRVQnLGRhdGEsJ0FmdGVyU2VuZE1NJyxmb3JfaWQsMCk7XHRcclxuJChcIiNvdHppdl9hcmVhXCIpLnZhbCgnJyk7XHRcdFx0XHJcblxyXG5cdFx0fVxyXG5cdFxyXG59XHJcblxyXG4vL9C+0YLQv9GA0LDQstC60LAg0YHQvtC+0LHRidC10L3QuNC5INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjlxyXG52YXIgU2VuZE1lc3NhZ2U9IGZ1bmN0aW9uKClcclxue1xyXG5cdHZhciBpZF91c2VyPSQodGhpcykuYXR0cignc20nKTtcclxuXHQvL9C+0YLQutGA0YvRgtC40LUg0YTQvtGA0LzRiyDQtNC70Y8g0YHQvtC+0LHRidC10L3QuNGPXHJcblx0dmFyIHlvdV9pZF91c2VyPSQoJ1tpdV0nKS5hdHRyKCdpdScpO1xyXG5cdFxyXG5cdGlmKHlvdV9pZF91c2VyIT1pZF91c2VyKVxyXG5cdFx0e1xyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9tZXNzYWdlLnBocD9pZD0nK2lkX3VzZXIsXHJcbiAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHQgXHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cdFx0fVxyXG59XHJcblxyXG5cclxuXHJcbi8v0LfQsNCz0YDRg9C30LrQsCDRgdC60LDQvdCwINC60LDRgdGB0L7QstC+0LPQviDQvtGA0LTQtdGA0LBcclxudmFyIFVwbG9hZFNjYW4gPSBmdW5jdGlvbigpXHJcbntcclxuXHR2YXIgaWRfdXBsb2FkPSQodGhpcykuYXR0cignaWRfdXBsb2FkJyk7XHJcblx0JCgnW25hbWU9bXlmaWxlJytpZF91cGxvYWQrJ10nKS50cmlnZ2VyKCdjbGljaycpO1xyXG59XHJcblxyXG5cclxuICBmdW5jdGlvbiBsb2coaHRtbCkge1xyXG4gICAgICAkKCcjbG9nJykuZW1wdHkoKS5hcHBlbmQoaHRtbCk7XHJcbiAgICB9XHJcblxyXG5mdW5jdGlvbiB1cGxvYWQoZmlsZSxpZCkge1xyXG5cclxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQvNC+0LbQvdC+INC+0LHRitC10LTQuNC90LjRgtGMINCyINC+0LTQuNC9LFxyXG4gICAgICAvLyDQtdGB0LvQuCBzdGF0dXMgPT0gMjAwLCDRgtC+INGN0YLQviDRg9GB0L/QtdGFLCDQuNC90LDRh9C1INC+0YjQuNCx0LrQsFxyXG4gICAgICB4aHIub25sb2FkID0geGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICBcclxuXHRcdCAgJCgnW2lkX3VwbG9hZD0nK2lkKyddJykucmVtb3ZlKCk7XHJcblx0XHQgICQoJy5zY2FwX2xvYWRfJytpZCkucmVtb3ZlKCk7IFxyXG5cdFx0ICB1cGRhdGVjYXNoKGlkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCgnW2lkX3VwbG9hZD0nK2lkKyddJykuc2hvdygpO1xyXG5cdFx0ICAkKCcuc2NhcF9sb2FkXycraWQpLmZpbmQoJy5zY2FwX2xvYWRfXycpLndpZHRoKDApOyBcclxuXHRcdCAgJCgnLnNjYXBfbG9hZF8nK2lkKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINC30LDQutCw0YfQutC4XHJcbiAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHQkKCdbaWRfdXBsb2FkPScraWQrJ10nKS5oaWRlKCk7ICBcclxuXHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuc2hvdygpOyAgXHJcblx0XHR2YXIgd2lkdGhzPU1hdGgucm91bmQoKGV2ZW50LmxvYWRlZCoxMDApL2V2ZW50LnRvdGFsKTtcclxuXHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuZmluZCgnLnNjYXBfbG9hZF9fJykud2lkdGgod2lkdGhzKTsgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgXCJpbXBsZW1lbnRlci91cGxvYWQucGhwXCIsIHRydWUpO1xyXG4gICAgICAvL3hoci5zZW5kKGZpbGUpO1xyXG5cdFxyXG5cdCB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICBmb3JtRGF0YS5hcHBlbmQoXCJ0aGVmaWxlXCIsIGZpbGUpO1xyXG5cdCBmb3JtRGF0YS5hcHBlbmQoXCJpZFwiLGlkKTtcclxuICAgICB4aHIuc2VuZChmb3JtRGF0YSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxudmFyIFVwbG9hZFNjYW5DaGFuZ2UgPSBmdW5jdGlvbigpXHJcbntcclxuXHR2YXIgaWQ9JCh0aGlzKS5wYXJlbnRzKCdmb3JtJykuYXR0cignaWRfc2MnKTtcclxuXHRmaWxlID0gdGhpcy5maWxlc1swXTtcclxuXHQgICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIHVwbG9hZChmaWxlLGlkKTtcclxuICAgICAgfSBcclxuICAgICAgcmV0dXJuIGZhbHNlO1x0XHJcbn1cclxuXHJcbi8v0L7RgtC60YDRi9GC0Ywg0YPQstC10LTQvtC80LvQtdC90LjRj1xyXG52YXIgdmlld19ub3RpZmljYXRpb24gPSBmdW5jdGlvbigpXHJcbntcclxuXHRpZiggJCgnLm5vdGlfYmxvY2snKS5pcygnOnZpc2libGUnKSApIHsgICAkKCcubm90aV9ibG9jaycpLnJlbW92ZSgpOyAkKCcudmlld19fbm90JykuaGlkZSgpOyAkKCcubm90X2xpJykuZmluZCgnaScpLmhpZGUoKTsgIH0gZWxzZSBcclxuXHR7IFx0IFxyXG5cdCAgJCgnLnZpZXdfX25vdCcpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm5vdGlfYmxvY2tcIj48ZGl2IGNsYXNzPVwidGl0bGVfbm90aVwiPjx1bCBjbGFzcz1cInRfdWxcIj48bGk+0KPQstC10LTQvtC80LvQtdC90LjRjzwvbGk+PGxpPjxpIGNsYXNzPVwibm90aV9jb1wiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxzcGFuIGNsYXNzPVwibm90aV9jb2NcIj48L3NwYW4+PC9pPjwvbGk+PC91bD48L2Rpdj48ZGl2IGNsYXNzPVwic2Nyb1wiPjwvZGl2PjwvZGl2PicpO1xyXG5cdCAgLy/QvtGC0L/RgNCw0LLQu9GP0LXQvCDQt9Cw0L/RgNC+0YEg0L3QsCDQv9C+0LvRg9GH0LXQvdC40LUg0L3QvtCy0YvRhSDRg9Cy0LXQtNC+0LzQu9C10L3QuNC5XHJcblx0ICAkKCcubm90aV9ibG9jaycpLmZpbmQoJy5zY3JvJykuZW1wdHkoKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJsb2FkZXJfaW50ZXJcIj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cdCAgdmFyIGRhdGEgPScnO1xyXG5cclxuICAgICAgQWpheENsaWVudCgnbm90aWZpY2F0aW9uJywndmlld19ub3RpZmljYXRpb24nLCdHRVQnLGRhdGEsJ0FmdGVyVlZOJywxLDAsMSk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcbi8v0L3QsNC20LDRgtGMINC90LAg0LrQvdC+0L/QutGDINC+0YLQvNC10L3QuNGC0Ywg0LrQsNC6INCy0YvQv9C+0LvQvdC10L3QsCDQsiDQvdC+0LLRi9GFINC30LDQtNCw0YfQsNGFXHJcbnZhciBZZXNUYXNrMSA9IGZ1bmN0aW9uKCkge1xyXG5pZiAoICQodGhpcykuaXMoXCJbcmVsX3Rhc2trXVwiKSApXHJcbntcclxuXHRpZigkLmlzTnVtZXJpYygkKHRoaXMpLmF0dHIoXCJyZWxfdGFza2tcIikpKVxyXG5cdHtcclxuICAgICAgIHZhciBhdHRyPSQodGhpcykuYXR0cigncmVsX3Rhc2trJyk7XHJcblx0Ly8kKCdbaWRfb2ZmZXJzPScrYXR0cisnXScpLnNsaWRlVXAoXCJzbG93XCIpO1xyXG5cdFxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV95ZXNfdGFzay5waHA/aWQ9JythdHRyLFxyXG4gICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgfSxcclxuICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHRcclxuXHRcclxufVxyXG59XHJcbnJldHVybiBmYWxzZTtcclxuXHRcclxufVxyXG5cclxuLy/QvdCw0LbQsNGC0Ywg0L3QsCDQutC90L7Qv9C60YMg0LfQsNC00LDRh9CwINCy0YvQv9C+0LvQtdC90L3QsFxyXG52YXIgWWVzVGFzayA9IGZ1bmN0aW9uKCkge1xyXG5pZiAoICQodGhpcykuaXMoXCJbcmVsX3Rhc2trXVwiKSApXHJcbntcclxuXHRpZigkLmlzTnVtZXJpYygkKHRoaXMpLmF0dHIoXCJyZWxfdGFza2tcIikpKVxyXG5cdHtcclxuICAgICAgIHZhciBhdHRyPSQodGhpcykuYXR0cigncmVsX3Rhc2trJyk7XHJcblx0Ly8kKCdbaWRfb2ZmZXJzPScrYXR0cisnXScpLnNsaWRlVXAoXCJzbG93XCIpO1xyXG5cdFxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV95ZXNfdGFzay5waHA/aWQ9JythdHRyLFxyXG4gICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgfSxcclxuICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHRcclxuXHRcclxufVxyXG59XHJcbnJldHVybiBmYWxzZTtcclxuXHRcclxufVxyXG5cclxuXHJcbi8v0YPQtNCw0LvQtdC90LjQtSDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4XHJcbnZhciBEZWxsT3JnID0gZnVuY3Rpb24oKSB7XHJcbmlmICggJCh0aGlzKS5pcyhcIltpZF9yZWxdXCIpIClcclxue1xyXG5cdGlmKCQuaXNOdW1lcmljKCQodGhpcykuYXR0cihcImlkX3JlbFwiKSkpXHJcblx0e1xyXG4gICAgICAgdmFyIGF0dHI9JCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuXHQvLyQoJ1tpZF9vZmZlcnM9JythdHRyKyddJykuc2xpZGVVcChcInNsb3dcIik7XHJcblx0XHJcblx0JC5hcmN0aWNtb2RhbCh7XHJcbiAgICB0eXBlOiAnYWpheCcsXHJcbiAgICB1cmw6ICdmb3Jtcy9mb3JtX2RlbGxfb3JnLnBocD9pZD0nK2F0dHIsXHJcbiAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcdFxyXG5cdFxyXG59XHJcbn1cclxuICBcclxucmV0dXJuIGZhbHNlO1xyXG5cdFxyXG59XHJcblxyXG4vL9GD0LTQsNC70LXQvdC40LUg0LfQsNC00LDRh9C4XHJcbnZhciBEZWxsVGFzayA9IGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5pZiAoJCh0aGlzKS5pcyhcIltpZF9yZWxdXCIpKVxyXG57XHJcblx0aWYoJC5pc051bWVyaWMoJCh0aGlzKS5hdHRyKFwiaWRfcmVsXCIpKSlcclxuXHR7XHJcbiAgICBcclxuXHR2YXIgYXR0cj0kKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG5cdFxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9kZWxsX3Rhc2sucGhwP2lkPScrYXR0cixcclxuICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgIH0sXHJcbiAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcbiAgICB9KTtcdFxyXG5cdFxyXG4gICAgfVxyXG59XHJcbiAgXHJcbnJldHVybiBmYWxzZTtcclxuXHRcclxufVxyXG5cclxuXHJcbi8v0YPQtNCw0LvQtdC90LjQtSDQutC70LjQtdC90YLQsFxyXG52YXIgRGVsbENsaWVudHMgPSBmdW5jdGlvbigpIHtcclxuaWYgKCAkKHRoaXMpLmlzKFwiW2lkX3JlbF1cIikgKVxyXG57XHJcblx0aWYoJC5pc051bWVyaWMoJCh0aGlzKS5hdHRyKFwiaWRfcmVsXCIpKSlcclxuXHR7XHJcbiAgICAgICB2YXIgYXR0cj0kKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG5cdC8vJCgnW2lkX29mZmVycz0nK2F0dHIrJ10nKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuXHRcclxuXHQkLmFyY3RpY21vZGFsKHtcclxuICAgIHR5cGU6ICdhamF4JyxcclxuICAgIHVybDogJ2Zvcm1zL2Zvcm1fZGVsbF9jbGllbnRzLnBocD9pZD0nK2F0dHIsXHJcbiAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcdFxyXG5cdFxyXG59XHJcbn1cclxuICBcclxucmV0dXJuIGZhbHNlO1xyXG5cdFxyXG59XHJcblxyXG4vL9GD0LTQsNC70LXQvdC40LUg0LfQsNGP0LLQutC4XHJcbnZhciBEZWxsQm9va2luZyA9IGZ1bmN0aW9uKCkge1xyXG5pZiAoICQodGhpcykuaXMoXCJbaWRfcmVsXVwiKSApXHJcbntcclxuXHRpZigkLmlzTnVtZXJpYygkKHRoaXMpLmF0dHIoXCJpZF9yZWxcIikpKVxyXG5cdHtcclxuICAgICAgIHZhciBhdHRyPSQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcblx0Ly8kKCdbaWRfb2ZmZXJzPScrYXR0cisnXScpLnNsaWRlVXAoXCJzbG93XCIpO1xyXG5cdFxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9kZWxsX2Jvb2tpbmcucGhwP2lkPScrYXR0cixcclxuICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgIH0sXHJcbiAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcbiAgICB9LFxyXG5cdGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG5cdGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gIH0pO1x0XHJcblx0XHJcbn1cclxufVxyXG4gIFxyXG5yZXR1cm4gZmFsc2U7XHJcblx0XHJcbn1cclxuXHJcblxyXG4vL9GD0LTQsNC70LjRgtGMINGD0LLQtdC00L7QvNC70LXQvdC40LVcclxudmFyIERlbGxOb3RpZiA9IGZ1bmN0aW9uKCkge1xyXG5pZiAoICQodGhpcykuaXMoXCJbaWRfcmVsXVwiKSApXHJcbntcclxuXHRpZigkLmlzTnVtZXJpYygkKHRoaXMpLmF0dHIoXCJpZF9yZWxcIikpKVxyXG5cdHtcclxuICAgICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nKyQodGhpcykuYXR0cihcImlkX3JlbFwiKTtcclxuICAgICAgIEFqYXhDbGllbnQoJ25vdGlmaWNhdGlvbicsJ2RlbF9ub3RpZicsJ0dFVCcsZGF0YSwnQWZ0ZXJEZWxsTm90JywkKHRoaXMpLmF0dHIoXCJpZF9yZWxcIiksMCk7XHJcblx0ICAgJCgnW3JlbF9ub3RpPScrJCh0aGlzKS5pcyhcIltpZF9yZWxdXCIpKyddJykuaGlkZSgpO1x0XHJcbn1cclxufVxyXG4gIFxyXG5yZXR1cm4gZmFsc2U7XHJcblx0XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL9GC0LDQsdGB0Ysg0LIg0L7QutC90LUg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4INC60LvQuNC10L3RgtCwXHJcbnZhciB0YWJzX2NsaWVudF9hZGQgID0gZnVuY3Rpb24oKSB7XHJcblx0Ly9hbGVydChcIiFcIik7XHJcblx0dmFyIHVvbz0kKHRoaXMpLmF0dHIoXCJpZFwiKTtcclxuXHRpZiAoICQodGhpcykuaXMoXCIuYWN0aXZlXCIpIClcclxuICAgIHtcclxuXHRcdC8v0YPQttC1INCw0LrRgtC40LLQvdCw0Y8g0LLQutC70LDQtNC60LBcclxuXHR9IGVsc2VcclxuXHR7XHJcblx0XHQkKCcuY2xpZW50X3dpbmRvdyAucHhfYmcnKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHRcdFxyXG5cdFx0JCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzc3MxJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0JCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzc3MxW2lkPScrdW9vKyddJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHJcblx0XHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWRfdGFicz0nKyQodGhpcykuYXR0cihcImlkXCIpK1xyXG5cdFx0XHRcdFx0JyZ0az0nKyQoJy5oMTExJykuYXR0cignbW9yJykrXHJcblx0XHRcdFx0XHQnJmlkPScrJCgnLmgxMTEnKS5hdHRyKCdmb3InKTtcclxuICAgICAgICBBamF4Q2xpZW50KCdjbGllbnRzJywndGFic19vcmdhbicsJ0dFVCcsZGF0YSwnQWZ0ZXJUYWJzSW5mb0FkZCcsJCh0aGlzKS5hdHRyKFwiaWRcIiksMCk7XHRcclxuXHR9XHJcbn1cclxuXHJcbi8v0YLQsNCx0YHRiyDQsiDQvtC60L3QtSDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4XHJcbnZhciB0YWJzX29yZyAgPSBmdW5jdGlvbigpIHtcclxuXHQvL2FsZXJ0KFwiIVwiKTtcclxuXHR2YXIgdW9vPSQodGhpcykuYXR0cihcImlkXCIpO1xyXG5cdGlmICggJCh0aGlzKS5pcyhcIi5hY3RpdmVcIikgKVxyXG4gICAge1xyXG5cdFx0Ly/Rg9C20LUg0LDQutGC0LjQstC90LDRjyDQstC60LvQsNC00LrQsFxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdCQoJy5jbGllbnRfd2luZG93IC5weF9iZycpLmVtcHR5KCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cdFx0XHJcblx0XHQkKCcuanMtdGFicy1tZW51X29yZycpLmZpbmQoJy50YWJzc3Nfb3JnJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0JCgnLmpzLXRhYnMtbWVudV9vcmcnKS5maW5kKCcudGFic3NzX29yZ1tpZD0nK3VvbysnXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFxyXG5cdFx0dmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJmlkX3RhYnM9JyskKHRoaXMpLmF0dHIoXCJpZFwiKStcclxuXHRcdFx0XHRcdCcmdGs9JyskKCcuaDExMScpLmF0dHIoJ21vcicpK1xyXG5cdFx0XHRcdFx0JyZpZD0nKyQoJy5oMTExJykuYXR0cignZm9yJyk7XHJcbiAgICAgICAgQWpheENsaWVudCgnY2xpZW50cycsJ3RhYnNfaW5mb19vcmcnLCdHRVQnLGRhdGEsJ0FmdGVyVGFic0luZm9PcmcnLCQodGhpcykuYXR0cihcImlkXCIpLDApO1x0XHJcblx0fVxyXG59XHJcblxyXG4vL9GC0LDQsdGB0Ysg0LIg0L7QutC90LUg0L/RgNC4INCy0YvQsdC+0YDQtSDQutC70LjQtdC90YLQsFxyXG52YXIgdGFic19jbGllbnRfY2hvaWNlICA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciB1b289JCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcblx0aWYgKCAkKHRoaXMpLmlzKFwiLmFjdGl2ZVwiKSApXHJcbiAgICB7XHJcblx0XHQvL9GD0LbQtSDQsNC60YLQuNCy0L3QsNGPINCy0LrQu9Cw0LTQutCwXHJcblx0fSBlbHNlXHJcblx0e1x0XHRcclxuXHRcdCQoJy5qcy10YWJzLW1lbnUtY2hvaWNoZScpLmZpbmQoJy50YWJzc3NfY2hvaWNlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0JCgnLmpzLXRhYnMtbWVudS1jaG9pY2hlJykuZmluZCgnLnRhYnNzc19jaG9pY2VbaWQ9Jyt1b28rJ10nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcclxuXHRcdCQoJy5qcy1jaG9pY2Uta2V5dXAnKS52YWwoJycpO1xyXG5cdFx0JCgnLmpzLWNob2ljZS15eXknKS5hdHRyKCdpZF9yZWwnLDApO1xyXG5cdFx0JCgnLmpzLWNob2ljZS15eXknKS5hdHRyKCd0YWJzJyx1b28pO1xyXG5cdFx0JCgnLmpzLWNob2ljZS15eXknKS5yZW1vdmVDbGFzcygneWVzX2Nob2ljZV9jbGllbnQnKTtcclxuXHRcdFxyXG5cdFx0JCgnLmxpc3RfY2hvaWNlX3llcycpLmVtcHR5KCk7XHJcblx0XHRcclxuXHRcdGlmKHVvbz09MilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdC8v0L7RgNCz0LDQvdC40LfQsNGG0LjRjyDQstC60LvQsNC00LrQsFxyXG5cdFx0XHRcdCQoJy5qcy1uZXdfb3Blbl9jbGllbnQnKS5maW5kKCdpJykuZW1wdHkoKS5hcHBlbmQoJ9C90L7QstCw0Y8g0L7RgNCz0LDQvdC40LfQsNGG0LjRjycpO1xyXG5cdFx0XHRcdCQoJy5qcy1uZXdfb3Blbl9jbGllbnQnKS5hdHRyKCd0YWJzX2cnLDEpO1xyXG5cdFx0XHRcdCQoJy5qcy1jaG9pY2Uta2V5dXAnKS5hdHRyKCdwbGFjZWhvbGRlcicsJ9Cd0LDQt9Cy0LDQvdC40LUg0L7RgNCz0LDQvdC40LfQsNGG0LjQuCwg0JjQndCdJyk7XHJcblx0XHRcdH1cclxuXHRcdFxyXG5cdFx0XHRcdGlmKHVvbz09MSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdC8v0YfQsNGB0YLQvdC+0LUg0LvQuNGG0L4g0LLQutC70LDQtNC60LBcclxuXHRcdFx0XHQkKCcuanMtbmV3X29wZW5fY2xpZW50JykuZmluZCgnaScpLmVtcHR5KCkuYXBwZW5kKCfQvdC+0LLRi9C5INC60LvQuNC10L3RgicpO1xyXG5cdFx0XHRcdCQoJy5qcy1uZXdfb3Blbl9jbGllbnQnKS5hdHRyKCd0YWJzX2cnLDApO1xyXG5cdFx0XHRcdCQoJy5qcy1jaG9pY2Uta2V5dXAnKS5hdHRyKCdwbGFjZWhvbGRlcicsJ9Ck0LDQvNC40LvQuNGPLCDRgtC10LvQtdGE0L7QvSDQuNC70Lgg0LrQvtC0INC60LvQuNC10L3RgtCwJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHRpZih1b289PTMpXHJcblx0XHRcdHtcclxuXHRcdFx0XHQvL9GH0LDRgdGC0L3QvtC1INC70LjRhtC+INCy0LrQu9Cw0LTQutCwXHJcblx0XHRcdFx0JCgnLmpzLW5ld19vcGVuX2NsaWVudCcpLmZpbmQoJ2knKS5lbXB0eSgpLmFwcGVuZCgn0L3QvtCy0YvQuSDQutC70LjQtdC90YInKTtcclxuXHRcdFx0XHQkKCcuanMtbmV3X29wZW5fY2xpZW50JykuYXR0cigndGFic19nJywyKTtcclxuXHRcdFx0XHQkKCcuanMtY2hvaWNlLWtleXVwJykuYXR0cigncGxhY2Vob2xkZXInLCfQpNCw0LzQuNC70LjRjywg0YLQtdC70LXRhNC+0L0g0LjQu9C4INC60L7QtCDQutC70LjQtdC90YLQsCcpO1xyXG5cdFx0XHR9XHRcdFxyXG5cdFx0XHJcblx0XHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmK1xyXG5cdFx0XHRcdFx0JyZhbGw9JyskKCcuanMtZXNoZS1jbGllbnQteCcpLmF0dHIoXCJhbGxcIikrXHJcblx0XHRcdCAgICAgICAgJyZ0az0nKyQoJy5qcy1zX2Zvcm1feHgnKS5hdHRyKCdtb3InKStcclxuXHRcdFx0XHRcdCcmaWQ9JyskKCcuanMtc19mb3JtX3h4JykuYXR0cignZm9yJykrXHJcblx0XHRcdFx0XHQnJnNlYXJjaD0nK2VuY29kZVVSSUNvbXBvbmVudCgkKCcuanMtY2hvaWNlLWtleXVwJykudmFsKCkpK1xyXG5cdFx0XHQnJnRhYnM9Jyt1b287XHJcblx0XHRcclxuXHRcdFx0JCgnLmpzLWljb24tbG9hZCcpLmhpZGUoKS5hZnRlcignPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0Oi0yMHB4OyBwb3NpdGlvbjpyZWxhdGl2ZTsgdG9wOiAwcHg7IHJpZ2h0OiAwcHg7IHBhZGRpbmctdG9wOjBweDtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG4gICAgICAgICAgICAgICAgQWpheENsaWVudCgnY2xpZW50cycsJ3NlYXJjaF9jbGllbnRfdG91cnMnLCdHRVQnLGRhdGEsJ0FmdGVyU2VhcmNoQ2xpZW50VCcsMSwwKTtcclxuXHRcdFxyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy/RgtCw0LHRgdGLINCyINGC0YPRgNC1XHJcbnZhciB0YWJzX3RyaXBzID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHQvL2V2ZW50LmRhdGEua2V5XHJcblxyXG5cdHZhciB1b289JCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcblxyXG4gICBpZih1b28hPTApIHtcclxuXHQgICAkKHRoaXMpLnBhcmVudHMoJy5tbV93LXRyaXBzJykuYWRkQ2xhc3MoJ2FjdGl2ZS10cmlwcy1tZW51Jyk7XHJcbiAgIH0gZWxzZVxyXG4gICB7XHJcblx0ICAgJCh0aGlzKS5wYXJlbnRzKCcubW1fdy10cmlwcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUtdHJpcHMtbWVudScpO1xyXG5cdCAgJCh0aGlzKS5wYXJlbnRzKCcubW1fdy10cmlwcycpLm5leHQoKS5lbXB0eSgpLmhpZGUoKTtcclxuXHQgICAkKHRoaXMpLnBhcmVudHMoJy5qcy10YWJzLW1lbnUnKS5maW5kKCcudGFic18nICsgZXZlbnQuZGF0YS5rZXkpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgfVxyXG5cclxuXHRpZiAoICQodGhpcykuaXMoXCIuYWN0aXZlXCIpIClcclxuXHR7XHJcblx0XHQvL9GD0LbQtSDQsNC60YLQuNCy0L3QsNGPINCy0LrQu9Cw0LTQutCwXHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5tbV93LXRyaXBzJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS10cmlwcy1tZW51Jyk7XHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5tbV93LXRyaXBzJykubmV4dCgpLmVtcHR5KCkuaGlkZSgpO1xyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcuanMtdGFicy1tZW51JykuZmluZCgnLnRhYnNfJyArIGV2ZW50LmRhdGEua2V5KS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblxyXG5cclxuXHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0Ly9hbGVydChldmVudC5kYXRhLmtleSk7XHJcblx0XHRpZih1b28hPTApIHtcclxuXHRcdFx0JCh0aGlzKS5wYXJlbnRzKCcubW1fdy10cmlwcycpLm5leHQoKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IGxlZnQ6IGNhbGMoNTAlIC0gMzBweCk7IFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblx0XHRcdCQodGhpcykucGFyZW50cygnLm1tX3ctdHJpcHMnKS5uZXh0KCkuc2xpZGVEb3duKFwic2xvd1wiKTtcclxuXHJcblx0XHRcdC8qXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmZvcm0nK2V2ZW50LmRhdGEua2V5KycgLnB4X2JnJykuZW1wdHkoKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlO1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICovXHJcblx0XHRcdCQodGhpcykucGFyZW50cygnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzXycgKyBldmVudC5kYXRhLmtleSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0XHQkKHRoaXMpLnBhcmVudHMoJy5qcy10YWJzLW1lbnUnKS5maW5kKCcudGFic18nICsgZXZlbnQuZGF0YS5rZXkgKyAnW2lkPScgKyB1b28gKyAnXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcblx0XHRcdC8vdmFyIGtleV89JzAwMlUnO1xyXG5cclxuXHRcdFx0dmFyIGRhdGEgPSAndXJsPScgKyB3aW5kb3cubG9jYXRpb24uaHJlZiArICcmaWRfdGFicz0nICsgJCh0aGlzKS5hdHRyKFwiaWRcIikgK1xyXG5cdFx0XHRcdCcmaWQ9JyArICQodGhpcykucGFyZW50cygnLnRyaXBzX2Jsb2NrX2dsb2JhbCcpLmF0dHIoJ2lkX3RyaXBzJyk7XHJcblx0XHRcdC8vYWxlcnQoZGF0YSk7XHJcblx0XHRcdEFqYXhDbGllbnQoJ3RvdXJzJywndGFic19pbmZvJywnR0VUJyxkYXRhLCdBZnRlclRhYnNJbmZvVHJpcHMnLCQodGhpcykuYXR0cihcImlkXCIpKycsJyskKHRoaXMpLnBhcmVudHMoJy50cmlwc19ibG9ja19nbG9iYWwnKS5hdHRyKCdpZF90cmlwcycpLDAsMSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5cclxuLy/RgtCw0LHRgdGLINCyINC+0LrQvdC1INCX0LDQtNCw0YfQuFxyXG52YXIgdGFic190YXNrICA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0Ly9ldmVudC5kYXRhLmtleVxyXG5cdFxyXG5cdFxyXG5cdHZhciB1b289JCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcblx0aWYgKCAkKHRoaXMpLmlzKFwiLmFjdGl2ZVwiKSApXHJcbiAgICB7XHJcblx0XHQvL9GD0LbQtSDQsNC60YLQuNCy0L3QsNGPINCy0LrQu9Cw0LTQutCwXHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0Ly9hbGVydChldmVudC5kYXRhLmtleSk7XHJcblx0XHQkKCcuZm9ybScrZXZlbnQuZGF0YS5rZXkrJyAucHhfYmcnKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHRcdFxyXG5cdFx0JCgnLmZvcm0nK2V2ZW50LmRhdGEua2V5KycgLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzXycrZXZlbnQuZGF0YS5rZXkpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdCQoJy5mb3JtJytldmVudC5kYXRhLmtleSsnIC5qcy10YWJzLW1lbnUnKS5maW5kKCcudGFic18nK2V2ZW50LmRhdGEua2V5KydbaWQ9Jyt1b28rJ10nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcclxuXHRcdC8vdmFyIGtleV89JzAwMlUnO1xyXG5cdFx0XHJcblx0XHR2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWRfdGFicz0nKyQodGhpcykuYXR0cihcImlkXCIpK1xyXG5cdFx0XHRcdFx0JyZ0az0nKyQoJy5mb3JtJytldmVudC5kYXRhLmtleSsnIC5oMTExJykuYXR0cignbW9yJykrXHJcblx0XHRcdFx0XHQnJmlkPScrJCgnLmZvcm0nK2V2ZW50LmRhdGEua2V5KycgLmgxMTEnKS5hdHRyKCdmb3InKTtcclxuXHRcdC8vYWxlcnQoZGF0YSk7XHJcbiAgICAgICAgQWpheENsaWVudCgndGFzaycsJ3RhYnNfaW5mbycsJ0dFVCcsZGF0YSwnQWZ0ZXJUYWJzSW5mb1Rhc2snLCQodGhpcykuYXR0cihcImlkXCIpKycsJytldmVudC5kYXRhLmtleSwwKTtcdFxyXG5cdH1cclxufVxyXG5cclxuXHJcbnZhciBzYXZlZGVmYXVsdCA9IGZ1bmN0aW9uICh0aGlzcylcclxue1xyXG5cdGlmKCQoJyNzYXZlJykubGVuZ3RoKVxyXG5cdHtcclxuXHR2YXIgd2RlZmF1bHQ9dGhpc3MuYXR0cignZGVmYXVsdHYnKTtcclxuXHRpZih0aGlzcy52YWwoKSE9d2RlZmF1bHQpXHJcblx0e1xyXG5cdCAgICQoJyNzYXZlJykuYXR0cignc2F2ZScsJzEnKTtcclxuICAgIH0gXHJcblx0XHJcblx0dmFyIGF0cnI9JCgnI3NhdmUnKS5hdHRyKCdzYXZlJyk7XHJcblx0aWYoYXRycj09MSlcclxuXHRcdHtcclxuXHRcdFx0JCgnLmFkZF9uYXInKS5zaG93KCk7XHJcblx0XHRcdCQoJy5wb2RfbmFyJykuaGlkZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuLy/Qv9GA0L7QstC10YDQuNGC0Ywg0Lgg0L7RgtC/0YDQsNCy0LjRgtGMINGE0L7RgNC80YMg0L3QsCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuZnVuY3Rpb24gc2VuZF9mb3JtX3VzZXJzKClcclxue1xyXG5cdCAgIHZhciBlcnIgPSAwO1x0XHJcblx0JChcIi5zb3Vyc2VfZXJyb3IsLnNvdXJzZV9lcnJvcjEsI25hbWVfYiwjbmFtZV9iMSwjbG9naW5fYiwjcGFzc3dvcmRfYlwiKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuICAgICBpZigkKFwiI3NvdXJzZV9iXCIpLnZhbCgpID09ICcnKSB7ICQoXCIuc291cnNlX2Vycm9yXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHQgaWYoJChcIiNyYWRpb19ia1wiKS52YWwoKSA9PSAnJykgeyAkKFwiLnNvdXJzZV9lcnJvcjFcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVxyXG5cdFxyXG5cdFxyXG5cdGlmKCQoXCIjbmFtZV9iXCIpLnZhbCgpID09ICcnKSAgeyAkKFwiI25hbWVfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0aWYoJChcIiNuYW1lX2IxXCIpLnZhbCgpID09ICcnKSAgeyAkKFwiI25hbWVfYjFcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVxyXG5cdFxyXG5cdGlmKCQoXCIjbG9naW5fYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNsb2dpbl9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRpZigkKFwiI3Bhc3N3b3JkX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjcGFzc3dvcmRfYlwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0XHJcblx0XHJcblx0aWYoKGVycj09MCkmJigkKHRoaXMpLmlzKCcuZ3JlZWVuJykpIClcdFxyXG5cdFx0e1xyXG5cdFx0XHQkKCcjbGFsYWxhX2FkZF9mb3JtJykuc3VibWl0KCk7XHRcclxuXHRcdH1cclxufVxyXG5cclxuLy/Qv9GA0L7QstC10YDQuNGC0Ywg0Lgg0L7RgtC/0YDQsNCy0LjRgtGMINGE0L7RgNC80YMg0L3QsCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQvtGC0YfQtdGC0LBcclxuZnVuY3Rpb24gc2VuZF9mb3JtX3JlcG9ydHMoKVxyXG57XHJcblx0ICAgdmFyIGVyciA9IDA7XHRcclxuXHQkKFwiI25hbWVfYiwjcGhvbmVfYlwiKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuICAgICBcclxuXHRpZigkKFwiI25hbWVfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNuYW1lX2JcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVxyXG5cdGlmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNwaG9uZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRcclxuXHRcclxuXHRpZigoZXJyPT0wKSYmKCQodGhpcykuaXMoJy5ncmVlZW4nKSkgKVx0XHJcblx0XHR7XHJcblx0XHRcdCQoJyNsYWxhbGFfYWRkX2Zvcm0nKS5zdWJtaXQoKTtcdFxyXG5cdFx0fVxyXG59XHJcblxyXG4vL9C/0YDQvtCy0LXRgNC40YLRjCDQuCDQvtGC0L/RgNCw0LLQuNGC0Ywg0YTQvtGA0LzRgyDQvdCwINC00L7QsdCw0LLQu9C10L3QuNC1INGC0YPRgNC+0L/QtdGA0LDRgtC+0YDQsFxyXG5mdW5jdGlvbiBzZW5kX2Zvcm1fb3BlcmF0b3IoKVxyXG57XHJcblx0XHJcblx0XHQgICAgdmFyIGVyciA9IDA7XHRcdFxyXG5cdCQoXCIjbmFtZV9iXCIpLnJlbW92ZUNsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG4gXHJcbiAgXHJcbiAgXHJcblx0aWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRcclxuXHQvL2lmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNwaG9uZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRcclxuXHRcdFxyXG5cdGlmKChlcnI9PTApJiYoJCh0aGlzKS5pcygnLmdyZWVlbicpKSApXHRcclxuXHRcdHtcclxuXHRcdFx0JCgnI2xhbGFsYV9hZGRfZm9ybScpLnN1Ym1pdCgpO1x0XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdFxyXG5cdFxyXG5cdFxyXG59XHJcblxyXG4vL9C/0YDQvtCy0LXRgNC40YLRjCDQuCDQvtGC0L/RgNCw0LLQuNGC0Ywg0YTQvtGA0LzRgyDQvdCwINC00L7QsdCw0LLQu9C10L3QuNC1INC60LvQuNC10L3RgtCwXHJcbmZ1bmN0aW9uIHNlbmRfZm9ybV9jbGllbnRzKClcclxue1xyXG5cdFxyXG5cdHZhciBlcnIgPSAwO1x0XHRcclxuXHQkKFwiLnNvdXJzZV9lcnJvciwjbmFtZV9iLCNvdHppdl9hcmVhX2FkYXh4LCNwaG9uZV9iLCNkYXlfYiwjZW1haWxfYiwjY29tcGFueV9iXCIpLnJlbW92ZUNsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG5cdFxyXG5cdCQoJy5uZXdfc2VhcmNoX2FkZF9ib29rJykucmVtb3ZlQ2xhc3MoJ2Vycm9yXzIwMTlfaW4nKTtcclxuIFxyXG5cclxuXHRpZigkKFwiI25hbWVfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNuYW1lX2JcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVxyXG5cdGlmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNwaG9uZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRpZigkKFwiI2RheV9iXCIpLnZhbCgpID09ICcnKSAgeyAkKFwiI2RheV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHQvL2lmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNwaG9uZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRcclxuXHRcclxuXHJcblx0aWYoKGVycj09MCkmJigkKHRoaXMpLmlzKCcuZ3JlZWVuJykpIClcdFxyXG5cdFx0e1xyXG5cdFx0XHQkKCcjbGFsYWxhX2FkZF9mb3JtJykuc3VibWl0KCk7XHRcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0XHJcblx0XHJcblx0XHJcbn1cclxuXHJcbi8vLy/Qv9GA0L7QstC10YDQuNGC0Ywg0Lgg0L7RgtC/0YDQsNCy0LjRgtGMINGE0L7RgNC80YMg0L3QsCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQt9Cw0Y/QstC60LhcclxuZnVuY3Rpb24gc2VuZF9mb3JtX2Jvb2tpbmcoKVxyXG57XHJcblx0XHJcblx0dmFyIGVyciA9IDA7XHRcdFxyXG5cdCQoXCIuc291cnNlX2Vycm9yLC5zb3Vyc2VfZXJyb3IxLCNuYW1lX2IsI290eml2X2FyZWFfYWRheHgsI3Bob25lX2IsI25hbWVfY2xpZW50X2IsI2RhdGVfaGlkZGVuX3RhYmxlX2dyMlwiKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuXHRcclxuXHQkKCcubmV3X3NlYXJjaF9hZGRfYm9vaycpLnJlbW92ZUNsYXNzKCdlcnJvcl8yMDE5X2luJyk7XHJcbiBcclxuXHRpZigkKFwiI3JhZGlvX2JrXCIpLmxlbmd0aCE9MClcclxuXHR7XHJcblx0XHRpZigkKFwiI3JhZGlvX2JrXCIpLnZhbCgpID09ICcnKSB7ICAkKFwiLnNvdXJzZV9lcnJvcjFcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7IGVycisrO1x0fVx0XHJcblx0fVxyXG4gIFxyXG4gICAgaWYoJChcIiNzb3Vyc2VfYlwiKS52YWwoKSA9PSAnJykgeyAkKFwiLnNvdXJzZV9lcnJvclwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTsgZXJyKys7XHR9XHJcblx0aWYoJChcIiNuYW1lX2JcIikudmFsKCkgPT0gJycpICB7ICQoXCIjbmFtZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRcclxuXHQvL2lmKCQoXCIjcGhvbmVfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNwaG9uZV9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cclxuXHRcclxuXHRcclxuXHRpZigkKCdbbmFtZT1jbGllbnRfbmV3MV9zZWFyY2hdJykudmFsKCk9PTApXHJcblx0XHR7XHJcblx0ICAgICAgIGlmKCQoXCIjbmFtZV9jbGllbnRfYlwiKS52YWwoKSA9PSAnJykgIHsgJChcIiNuYW1lX2NsaWVudF9iXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cdFxyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHRcdGlmKCgkKFwiW25hbWU9aWRfc2VhcmNoX2NsaWVudDFdXCIpLnZhbCgpID09ICcwJyl8fCgkKFwiW25hbWU9aWRfc2VhcmNoX2NsaWVudDFdXCIpLnZhbCgpID09ICcnKSkgIHsgJChcIi5uZXdfc2VhcmNoX2FkZF9ib29rXCIpLmFkZENsYXNzKCdlcnJvcl8yMDE5X2luJyk7IGVycisrO1x0fVx0XHJcblx0XHR9XHJcblx0XHJcblx0XHJcblx0aWYoJChcIiNkYXRlX2hpZGRlbl90YWJsZV9ncjJcIikudmFsKCkgPT0gJycpICB7ICQoXCIjZGF0ZV9oaWRkZW5fdGFibGVfZ3IxXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpOyBlcnIrKztcdH1cdFxyXG5cdFx0XHJcblx0aWYoKGVycj09MCkmJigkKHRoaXMpLmlzKCcuZ3JlZWVuJykpIClcdFxyXG5cdFx0e1xyXG5cdFx0XHQkKCcjbGFsYWxhX2FkZF9mb3JtJykuc3VibWl0KCk7XHRcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0XHJcblx0XHJcblx0XHJcbn1cclxuXHJcblxyXG4vL9GA0LDQsdC+0YLQsCDRgSDRgNCw0LTQuNC+IGlucHV0XHJcbmZ1bmN0aW9uIHJhZGlvX2NoZWNrYm94X25vX3llcygpXHJcbntcclxuXHRcdFxyXG5pZigkKHRoaXMpLnBhcmVudHMoJy5yYWRpb3NlbGVjdCcpLmZpbmQoJy5yYWRpb19iJykuYXR0cigncmVhZG9ubHknKT09dW5kZWZpbmVkKSB7IFx0XHJcblx0XHJcblx0Ly9hbGVydChcIiFcIik7XHJcblx0dmFyIHBwPSQodGhpcykucGFyZW50cygnLnJhZGlvX21hdGVyaWFsJyk7XHJcblx0dmFyIGlkPXBwLmF0dHIoJ3JhZGlvX2lkJyk7XHJcblx0XHJcblx0aWYoIXBwLmlzKCcuYWN0aXZlX3JhZGlvJykpIFxyXG5cdHtcclxuXHRcdHZhciBudW1PcHQ9JCh0aGlzKS5wYXJlbnRzKCcucmFkaW9zZWxlY3QnKS5maW5kKCcucmFkaW9fbWF0ZXJpYWwnKTsgICAgXHJcblx0XHRcdCAgdmFyIGlucHV0PScnO1xyXG5cdFx0XHQgIHZhciBpPTA7XHJcblx0XHRcdCBcclxuXHRcdFx0ICBudW1PcHQuZWFjaChmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7IFxyXG5cdFx0XHRcdCAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlX3JhZGlvJyk7XHJcblx0XHRcdFx0ICB2YXIgaWRzPSQodGhpcykuYXR0cigncmFkaW9faWQnKTtcclxuXHRcdFx0XHQgICQodGhpcykuZmluZCgnLnJhZGlvXycraWRzKS52YWwoMCkuY2hhbmdlKCk7IFxyXG5cdFx0XHQgIH0pO1xyXG5cclxuXHRcdHBwLmFkZENsYXNzKCdhY3RpdmVfcmFkaW8nKTtcclxuXHRcdHBwLmZpbmQoJy5yYWRpb18nK2lkKS52YWwoMSkuY2hhbmdlKCk7XHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5yYWRpb3NlbGVjdCcpLmZpbmQoJy5yYWRpb19iJykudmFsKGlkKS5jaGFuZ2UoKTtcclxuXHRcdFxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdFx0cHAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9yYWRpbycpO1xyXG5cdFx0cHAuZmluZCgnLnJhZGlvXycraWQpLnZhbCgwKS5jaGFuZ2UoKTtcclxuXHRcdCQodGhpcykucGFyZW50cygnLnJhZGlvc2VsZWN0JykuZmluZCgnLnJhZGlvX2InKS52YWwoJycpLmNoYW5nZSgpO1xyXG5cdH1cclxuXHRcclxuICB9XHJcblx0XHJcblx0XHJcbn1cclxuXHJcblxyXG4vL9Cy0YvQsdC+0YAg0LjRgdGC0L7Rh9C90LjQutCwINC+0LHRgNCw0YnQtdC90LjRjyDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0LfQsNGP0LLQutC4XHJcbmZ1bmN0aW9uIHdhbGxldF9jaGVja2JveCgpXHJcbntcclxuXHRcclxuaWYoJCh0aGlzKS5wYXJlbnRzKCcuY2hhXzEnKS5maW5kKCcuc291cnNlX2InKS5hdHRyKCdyZWFkb25seScpPT11bmRlZmluZWQpIHsgXHRcclxuXHRcclxuXHQvL2FsZXJ0KFwiIVwiKTtcclxuXHR2YXIgcHA9JCh0aGlzKS5wYXJlbnRzKCcud2FsbGV0X21hdGVyaWFsJyk7XHJcblx0dmFyIGlkPXBwLmF0dHIoJ3dhbGxfaWQnKTtcclxuXHRcclxuXHRpZihwcC5pcygnLmFjdGl2ZV93YWxsJykpIFxyXG5cdHsgXHJcblx0ICAgXHJcblx0XHRwcC5yZW1vdmVDbGFzcygnYWN0aXZlX3dhbGwnKTtcclxuXHRcdHBwLmZpbmQoJy55b3BfJytpZCkudmFsKDApO1xyXG5cdFx0XHJcblxyXG5cclxuXHRcdFxyXG5cdH0gZWxzZVxyXG5cdHtcclxuXHRcdHBwLmFkZENsYXNzKCdhY3RpdmVfd2FsbCcpO1xyXG5cdFx0cHAuZmluZCgnLnlvcF8nK2lkKS52YWwoMSk7XHRcdFx0XHJcblx0fVxyXG5cdFx0XHR2YXIgbnVtT3B0PSQodGhpcykucGFyZW50cygnLmNoYV83NycpLmZpbmQoJy53YWxsZXRfbWF0ZXJpYWwnKTsgICAgXHJcblx0XHRcdCAgdmFyIGlucHV0PScnO1xyXG5cdFx0XHQgIHZhciBpPTA7XHJcblx0XHRcdCBcclxuXHRcdFx0ICBudW1PcHQuZWFjaChmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7IFxyXG5cdFx0XHQgIFxyXG5cdFx0XHQgIGlmICggJCh0aGlzKS5oYXNDbGFzcyhcImFjdGl2ZV93YWxsXCIpICkgXHJcblx0XHRcdCAgIHtcclxuXHRcdFx0XHQgIGlmKGk9PTApXHJcblx0XHRcdFx0ICB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0PSQodGhpcykuYXR0cignd2FsbF9pZCcpO1xyXG5cdFx0XHRcdFx0aSsrO1xyXG5cdFx0XHRcdCAgfSBlbHNlXHJcblx0XHRcdFx0ICB7XHJcblx0XHRcdFx0XHRpbnB1dD1pbnB1dCsnLCcrJCh0aGlzKS5hdHRyKCd3YWxsX2lkJyk7XHJcblx0XHRcdFx0XHRpKys7IFxyXG5cdFx0XHRcdCAgfVxyXG5cdFx0XHQgICB9XHJcblx0XHRcdCAgIFxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cdFx0XHRcdCBcclxuXHRcdC8vYWxlcnQoaW5wdXQpO1xyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcuY2hhXzc3JykuZmluZCgnLnNvdXJzZV9iJykudmFsKGlucHV0KTtcclxuXHRcclxuICB9XHJcbn1cclxuXHJcbi8v0YDQsNCx0L7RgtCwINGBINGA0LDQtNC40L4gaW5wdXRcclxuZnVuY3Rpb24gcmFkaW9fY2hlY2tib3goKVxyXG57XHJcblx0XHRcclxuaWYoJCh0aGlzKS5wYXJlbnRzKCcucmFkaW9zZWxlY3QnKS5maW5kKCcucmFkaW9fYicpLmF0dHIoJ3JlYWRvbmx5Jyk9PXVuZGVmaW5lZCkgeyBcdFxyXG5cdFxyXG5cdC8vYWxlcnQoXCIhXCIpO1xyXG5cdHZhciBwcD0kKHRoaXMpLnBhcmVudHMoJy5yYWRpb19tYXRlcmlhbCcpO1xyXG5cdHZhciBpZD1wcC5hdHRyKCdyYWRpb19pZCcpO1xyXG5cdFxyXG5cdGlmKCFwcC5pcygnLmFjdGl2ZV9yYWRpbycpKSBcclxuXHR7XHJcblx0XHR2YXIgbnVtT3B0PSQodGhpcykucGFyZW50cygnLnJhZGlvc2VsZWN0JykuZmluZCgnLnJhZGlvX21hdGVyaWFsJyk7ICAgIFxyXG5cdFx0XHQgIHZhciBpbnB1dD0nJztcclxuXHRcdFx0ICB2YXIgaT0wO1xyXG5cdFx0XHQgXHJcblx0XHRcdCAgbnVtT3B0LmVhY2goZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkgeyBcclxuXHRcdFx0XHQgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9yYWRpbycpO1xyXG5cdFx0XHRcdCAgdmFyIGlkcz0kKHRoaXMpLmF0dHIoJ3JhZGlvX2lkJyk7XHJcblx0XHRcdFx0ICAkKHRoaXMpLmZpbmQoJy5yYWRpb18nK2lkcykudmFsKDApLmNoYW5nZSgpOyBcclxuXHRcdFx0ICB9KTtcclxuXHJcblx0XHRwcC5hZGRDbGFzcygnYWN0aXZlX3JhZGlvJyk7XHJcblx0XHRwcC5maW5kKCcucmFkaW9fJytpZCkudmFsKDEpLmNoYW5nZSgpO1xyXG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcucmFkaW9zZWxlY3QnKS5maW5kKCcucmFkaW9fYicpLnZhbChpZCkuY2hhbmdlKCk7XHJcblx0XHRcclxuXHR9XHJcblx0XHJcbiAgfVxyXG5cdFxyXG5cdFxyXG59XHJcblxyXG5mdW5jdGlvbiBVcGxvYWRJbnZvaWNlX29sZCgpXHJcbntcclxuXHR2YXIgaWRfdXBsb2FkPSQodGhpcykuYXR0cignaWRfdXBsb2FkJyk7XHJcblx0JCgnW25hbWU9bXlmaWxlcycraWRfdXBsb2FkKyddJykudHJpZ2dlcignY2xpY2snKTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuJChmdW5jdGlvbiAoKXtcclxuLy/QuNC30LzQtdC90LXQvdC40LUg0YDQsNC30LzQtdGA0LAg0L7QutC90LBcdFxyXG4kKHdpbmRvdykub24oJ3Jlc2l6ZScsd2luZG93U2l6ZSk7XHRcclxuXHJcbi8v0JfQsNCz0YDRg9C30YfQuNC6INGB0YLRgNCw0L3QuNGG0YtcdFxyXG4kKCcubG9hZGVyX2FkYScpLnJlbW92ZSgpO1xyXG4kKCcubG9hZGVyX2FkYTEnKS5yZW1vdmUoKTtcclxuXHJcbiQoJy5kYXRlX3BpY2tlcl94ZScpLmlucHV0bWFzayhcImRhdGV0aW1lXCIse1xyXG4gICAgbWFzazogXCIxLjIueVwiLCBcclxuICAgIHBsYWNlaG9sZGVyOiBcImRkLm1tLnl5eXlcIiwgIFxyXG4gICAgc2VwYXJhdG9yOiBcIi5cIiwgXHJcbiAgICBhbGlhczogXCJkZC5tbS55eXl5XCJcclxuICB9KTtcdFxyXG5cclxuLy/QutC+0LvQuNGH0LXRgdGC0LLQviDQvdC+0YfQtdC5INC40Lcg0LTQstGD0YUg0LTQsNGCXHRcclxuJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1kYXRlLW5haXQyLC5qcy1kYXRlLW5haXQxJyxkYXRlX25haXQpO1xyXG5cdFxyXG4vL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDRgtGD0YBcdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWFkZC10ZW5kZXItZm9ybScsQWRkRm9ybVRlbmRlcik7XHJcblxyXG4vL9GA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINGC0YPRgFxyXG5cdCQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtZWRpdC10ZW5kZXItZm9ybScsRWRpdEZvcm1UZW5kZXIpO1xyXG5cclxuXHJcbi8v0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0L/QvtC70LUg0YEg0LLRi9C/0LDQtNCw0Y7RidC40Lwg0YHQv9C40YHQutC+0LxcdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWVkaXQtZWljbycsZWRpdF9laWNvX2xpc3QpO1x0XHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZVwiLCcuanMtbGlzdC12aWJvcicsdXBkYXRlX2VkaXRfaW5wdXRfZWljbyk7XHRcclxuXHRcclxuLy/RjyDQsdC10YDRg9GB0Ywg0LfQsCDRjdGC0YMg0LfQsNC00LDRh9GDXHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtY2hvaWNlLXRhc2steScsY2hvaWNlX3Rhc2tfeW91KTtcclxuLy/QvdCw0LbQsNGC0Ywg0L3QsCDQstGL0L/QvtC70L3QuNGC0Ywg0LfQsNC00LDRh9GDXHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcudGFza19fY2xpY2sxJyxZZXNUYXNrMSk7XHRcclxuXHRcclxuLy/RhNC+0YDQvNCwINC00L7QsdCw0LLQu9C10L3QuNC1INGC0YPRgNCwIC0g0LLRi9Cx0L7RgCDQv9Cw0YHQv9C+0YDRgiDQutCw0LrQvtC5XHRcclxuJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1wYXNzd29yZC1idXR0JyxwYXNzd29yZF9idXR0KTtcclxuXHJcbi8v0YTQvtGA0LzQsCDQvtC/0LvQsNGC0Ysg0YLRg9GA0LAg0LjQt9C80LXQvdGP0LXQvCDQutC+0LzRgyDQv9C70LDRgtC40Lwg0LrQu9C40LXQvdGCLdGC0YPRgNC+0L/QtdGA0LDRgtC+0YBcclxuJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1jbGljay1tbW10JyxjbGlja19tbW10KTtcclxuXHJcblxyXG4vL9GE0L7RgNC80LAg0LTQvtCx0LDQstC70LXQvdC40LUg0YLRg9GA0LAgLSDQs9Cw0LvQutCwINC90LUg0LvQtdGC0LjRgiDRgtC+0LvRjNC60L4g0L/QvtC60YPQv9Cw0LXRglx0XHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtbG9saS1idXR0Jyxsb2xpX2J1dHQpO1x0XHJcblx0XHJcblxyXG5cdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWV4aXQtd2luJyxjbG9zZV9jbG9zZV93aW5kb3cpO1x0XHJcblx0XHJcblx0XHJcbi8v0L7RgtC60YDRi9GC0Ywg0YTQvtGA0LzRgyDQv9C+INC+0YDQs9Cw0L3QuNC30LDRhtC40Lgg0YEg0L7Qv9GA0LXQtNC10LvQtdC90L3QvtC5INCy0LrQu9Cw0LTQutC4XHRcclxuJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy50YWJzc3Nfb3JnJyx0YWJzX29yZyk7XHJcbi8v0L7RgtC60YDRi9GC0Ywg0YTQvtGA0LzRgyDQv9C+INC60LvQuNC10L3RgtGDINGBINC+0L/RgNC10LTQtdC70LXQvdC90L7QuSDQstC60LvQsNC00LrQuFxyXG5cclxuXHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcudGFic18wMDNVJyx7a2V5OiBcIjAwM1VcIn0sdGFic190YXNrKTtcclxuXHJcblx0JCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy50YWJzXzAwNFUnLHtrZXk6IFwiMDA0VVwifSx0YWJzX3RyaXBzKTtcclxuXHJcbi8v0LXRidC1IC0g0L/QvtC60LDQt9Cw0YLRjCDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPXHRcclxuJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1lc2hlLXJpbmcnLGpzX2VzaGVfcmluZyk7XHRcclxuXHRcclxuXHRcclxuLy/QstGB0LUg0YfRgtC+INGB0LLRj9C30LDQvdC+INGBINCy0YvQsdC+0YDQvtC8INC60LvQuNC10L3RgtC+0LIgZm9ybV9jaG9pY2VfY2xpZW50XHRcclxuJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy50YWJzc3NfY2hvaWNlJyx0YWJzX2NsaWVudF9jaG9pY2UpO1xyXG5cdFxyXG5cclxuXHRcclxuLy/QvdCw0LbQsNGC0Ywg0L/RgNC4INCy0YvQsdC+0YDQtSDQutC70LjQtdC90YLQsCDQvdCwINC60LvQuNC10L3RgtCwXHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcubGlzdF9jbGllbnRfY2hvaWNlJyxjbGlja19jbGllbnRfY2hvaWNlKTtcclxuXHJcblx0XHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtbmV3X29wZW5fY2xpZW50JyxjbGllbnRzX2FkZHMpO1xyXG5cclxuLy/Rg9C00LDQu9C40YLRjCDQuNC3INGB0L/QuNGB0LrQsCDQstGL0LHRgNCw0L3QvdGL0YUg0L/RgNC4INC+0LrQvdC1INCy0YvQsdC+0YAg0LrQu9C40LXQvdGC0LBcdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLnJydWJlX2Nob2ljZScscnJ1YmVfY2hvaWNlKTtcdFxyXG5cclxuLy/QvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrRgyDQstGL0LHRgNCw0YLRjCDQsiDQvtC60L3QtSDQstGL0LHQvtGA0LAg0LrQu9C40LXQvdGC0LBcdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWNob2ljZS15eXknLGNob2ljZV9jbGllbnRfZW5kKTtcclxuXHJcblxyXG4vKlx0XHJcbnZhciBzZWFyY2hfbWluMl9zZWFyY2hfYyA9IDI7ICAvL9C80LjQvSDQutC+0LvQuNGH0LXRgdGC0LLQviDRgdC40LzQstC+0LvQvtCyINC00LvRjyDQsdGL0YHRgtGA0L7Qs9C+INC/0L7QuNGB0LrQsFxyXG52YXIgc2VhcmNoX2RlbGV5Ml9zZWFyY2hfYz04MDA7XHQvL9C30LDQtNC10YDQttC60LAg0LzQtdC20LTRgyDQstCy0L7QtNCw0LzQuCDRgdC40LzQstC+0LvQvtCyIC0g0L3QsNGH0LDQu9C+INC/0L7QuNGB0LrQsCDRgtC10LvQtdGE0L7QvdCwINCyINCx0LDQt9C1XHJcbnZhciBzZWFyY2hfaW5wdXQyX3NlYXJjaF9jPSQoJy5qcy1jaG9pY2Uta2V5dXAnKTtcclxuXHRcclxuXHRcclxuc2VhcmNoX2lucHV0Ml9zZWFyY2hfYy5rZXl1cChmdW5jdGlvbigpIHtcclxuXHQvL9C+0LHQvdGD0LvRj9C10Lwg0LLRi9Cx0L7RgFxyXG5cdFx0XHRcdFxyXG4gICAgZGVsYXlzKGZ1bmN0aW9uKCl7XHJcblx0XHRcclxuXHRcdGlmKChqUXVlcnkudHJpbShzZWFyY2hfaW5wdXQyX3NlYXJjaF9jLnZhbCgpLmxlbmd0aCkgPj0gc2VhcmNoX21pbjJfc2VhcmNoX2MpfHwoalF1ZXJ5LnRyaW0oc2VhcmNoX2lucHV0Ml9zZWFyY2hfYy52YWwoKS5sZW5ndGgpPT0wKSlcclxuXHRcdHtcclxuXHRcdFx0XHJcblx0XHRcdHZhciB2YWwxPSAkKCcuanMtdGFicy1tZW51LWNob2ljaGUnKS5maW5kKCcuYWN0aXZlJykuYXR0cignaWQnKTtcclxuXHRcdFx0XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmK1xyXG5cdFx0XHRcdFx0JyZhbGw9JyskKCcuanMtZXNoZS1jbGllbnQteCcpLmF0dHIoXCJhbGxcIikrXHJcblx0XHRcdFx0XHQnJnNlYXJjaD0nK2VuY29kZVVSSUNvbXBvbmVudChzZWFyY2hfaW5wdXQyX3NlYXJjaF9jLnZhbCgpKStcclxuXHRcdFx0XHQnJnRhYnM9Jyt2YWwxO1x0XHJcblx0XHRcdCQoJy5qcy1pY29uLWxvYWQnKS5oaWRlKCkuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDotMjBweDsgcG9zaXRpb246cmVsYXRpdmU7IHRvcDogMHB4OyByaWdodDogMHB4OyBwYWRkaW5nLXRvcDowcHg7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgIEFqYXhDbGllbnQoJ2NsaWVudHMnLCdzZWFyY2hfY2xpZW50X3RvdXJzJywnR0VUJyxkYXRhLCdBZnRlclNlYXJjaENsaWVudFQnLDEsMCk7XHRcdFxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRcclxuICAgIH0sIHNlYXJjaF9kZWxleTJfc2VhcmNoX2MpO1xyXG59KTtcdFx0XHJcblx0Ki9cclxuXHRcclxuLy/QntGC0LrRgNGL0YLRjCDQvtC60L3QviDQt9Cw0LTQsNGH0Lgg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC40LrQvtC90LrRg1xyXG4kKCcub2thX2Jsb2NrJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLnRhc2tfY2xvY2tfc2VsZWN0aW9uIGknLG9wZW5fdGFzayk7XHRcclxuXHJcbiQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcudGFza19ibG9ja19nbG9iYWwgLmdnaC1lJyxvcGVuX3Rhc2sxKTtcdFxyXG5cdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXRhYScsb3Blbl90YXNrX25ldyk7XHRcclxuXHRcclxuJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy50YXNrX2Jsb2NrX2dsb2JhbCAudGFzay1iLW51bWJlcicsb3Blbl90YXNrMSk7XHJcblx0XHJcbi8v0L7RgtC60YDRi9GC0Ywg0YTQvtGA0LzRgyDQv9C+INC00L7QsdCw0LLQu9C10L3QuNGOINC60LvQuNC10L3RgtCwINC40LvQuCDQvtGA0LPQsNC30LDRhtC40LhcdFxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLnRhYnNzczEnLHRhYnNfY2xpZW50X2FkZCk7XHJcblx0XHJcblxyXG4vL9Cy0YvQsdC+0YAg0LIg0LfQsNGP0LLQutC1INC40YHRgtC+0YfQvdC40LrQsCDQvtCx0YDQsNGJ0LXQvdC40Y9cdFxyXG4kKCcuY2hhXzEnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcud2FsbGV0X2NoZWNrYm94Jyx3YWxsZXRfY2hlY2tib3gpO1xyXG5cclxuLy/Qt9Cw0LPRgNGD0LfQuNGC0Ywg0YTQvtGC0L4g0LIg0L3QsNGB0YLRgNC+0LnQutCw0YVcclxuJCgnLmxfcGhvdG8nKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuaW52b2ljZV91cGxvYWQnLFVwbG9hZEludm9pY2Vfb2xkKTtcclxuLy8kKCcuY29udGVudCcpLm9uKFwiY2hhbmdlXCIsJy5zY19zY19sb29zMicsVXBsb2FkUmVwb3J0c0NoYW5nZV9vbGQpO1xyXG5cclxuJCgnLmNvbnRlbnQnKS5vbihcImNoYW5nZVwiLCcuc2Nfc2NfbG9vczInLFVwbG9hZFJlcG9ydHNDaGFuZ2Vfb2xkKTtcclxuXHJcblxyXG4vL9GA0LDQsdC+0YLQsCDRgSDQuNC90L/Rg9GC0LDQvNC4XHRcclxuJCgnYm9keScpLm9uKFwiZm9jdXMgY2xpY2tcIiwnLmlucHV0X25ld18yMDE5JyxJbnB1dEZvY3VzTmV3MSk7XHJcbiQoJ2JvZHknKS5vbihcImJsdXJcIiwnLmlucHV0X25ld18yMDE5JyxJbnB1dEJsdXJOZXcxKTtcclxuJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5yYWRpb19jaGVja2JveCcscmFkaW9fY2hlY2tib3gpO1xyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLnJhZGlvX2NoZWNrYm94X25vX3llcycscmFkaW9fY2hlY2tib3hfbm9feWVzKTtcclxuXHJcblxyXG5cclxuLy/QtdC20LXQvNC10YHRj9GH0L3Ri9C5INC/0LvQsNGC0LXQtlxyXG5cdCQoJy5qcy1maW5hbmNlLW9wZXJhdGlvbicpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1jaG9pY2UtYnV5LXknLGNob2ljZV9idXlfeW91KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4kKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXBsYWNlLWZpbmFuY2UnLHBsYW5lX2VkaXQpO1xyXG5cdFxyXG4vL9C+0YLQv9GA0LDQstC60LAg0Lgg0L/RgNC+0LLQtdGA0LrQsCDRhNC+0YDQvCDQv9C+INC90LDQttCw0YLQuNGOINC60L3QvtC/0LrQuFxyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5zZW5kX2Zvcm1fY2xpZW50cycsc2VuZF9mb3JtX2NsaWVudHMpO1x0IC8v0LrQu9C40LXQvdGC0YtcclxuJCgnLmluZGV4X2Jvb2tpbmcnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuc2VuZF9mb3JtX2Jvb2tpbmcnLHNlbmRfZm9ybV9ib29raW5nKTsgICAvL9C30LDRj9Cy0LrQuFxyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5zZW5kX2Zvcm1fb3BlcmF0b3InLHNlbmRfZm9ybV9vcGVyYXRvcik7IC8v0YLRg9GA0L7Qv9C10YDQsNGC0L7RgFx0IFxyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5zZW5kX2Zvcm1fdXNlcnMnLHNlbmRfZm9ybV91c2Vycyk7XHQvL9C/0L7Qu9GM0LfQvtCy0LDRgtC10LtcdFxyXG4kKCcuaW5kZXhfYm9va2luZycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5zZW5kX2Zvcm1fcmVwb3J0cycsc2VuZF9mb3JtX3JlcG9ydHMpOyAvL9C+0YLRh9C10YLRi1x0XHRcclxuXHJcblxyXG5qUXVlcnkoJy5zY3JvbGxiYXItaW5uZXInKS5zY3JvbGxiYXIoKTsgLy/RgdC60YDRg9C70Lsg0LzQtdC90Y4g0L/RgNC4INC80LDQu9C+0Lkg0LLRi9GB0L7RgtC1XHJcblRvb2xUaXAoKTsgIC8v0L/QvtC00YHQutCw0LfQutC4INC/0YDQuCDQvdCw0LLQtdC00LXQvdC40LhcclxuJCgnLmxhYmVsX3MnKS5iaW5kKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsIGxhYmVsX3Nob3cpO1xyXG5cclxuJCgnLnNhdmVfYnV0dG9uMicpLmJpbmQoXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwgc2VuZF9tZWVlKTtcclxuXHRcclxuJCgnLmNvbnRlbnQnKS5vbihcImNsaWNrXCIsJy5zZW5kX21lc3MnLFNlbmRNZXNzYWdlKTtcdFxyXG4kKCcuaGVscF91c2VyJykub24oXCJjbGlja1wiLCcuc2VuZF9tZXNzJyxTZW5kTWVzc2FnZSk7XHJcblxyXG4vLyQoJy5tZW51X2pqcycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5tZW51X2NsaWNrJyxtZW51Y2xpY2spO1xyXG4vLyQoJy5tZW51X2NsaWNrJykuYmluZChcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCBtZW51Y2xpY2spO1xyXG5cdFxyXG5cclxuJCgnLmRpdl9kaWFsb2cnKS5vbihcImNsaWNrXCIsJy5kaWFsb2dfYScsZnVuY3Rpb24oZSkgeyAgaWYoJChlLnRhcmdldCkuY2xvc2VzdChcIi5kZWxfZGlhbG9nXCIpLmxlbmd0aD09MClcclxuICB7XHJcblx0dmFyIGRpYWxvZ19pZD0kKHRoaXMpLmF0dHIoJ3JlbF9kaWFnb2wnKTtcclxuXHQkKHRoaXMpLmF0dHIoJ2hyZWYnLCcvbWVzc2FnZS9kaWFsb2cvJytkaWFsb2dfaWQrJy8nKTtcclxuXHQkKHRoaXMpLnRyaWdnZXIoJ0NsaWNrJyk7XHJcblxyXG4gIH0gfSk7XHJcblxyXG5cclxuZnVuY3Rpb24gVXBsb2FkUmVwb3J0c0NoYW5nZV9vbGQoKVxyXG57XHJcblx0XHR2YXIgaWQ9JCh0aGlzKS5wYXJlbnRzKCdmb3JtJykuYXR0cignaWRfc2MnKTtcclxuXHRcdGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG5cdFx0aWYgKGZpbGUpIHtcclxuXHRcdFx0dXBsb2FkUlJfb2xkKGZpbGUsaWQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0XHJcbnZhciBVcGxvYWRTY2FuUyA9IGZ1bmN0aW9uKClcclxue1xyXG5cdHZhciBpZF91cGxvYWQ9JCh0aGlzKS5hdHRyKCdpZF91cGxvYWQnKTtcclxuXHQkKCdbbmFtZT1teWZpbGUnK2lkX3VwbG9hZCsnXScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbn1cclxuXHJcblxyXG52YXIgVXBsb2FkSW52b2ljZUFrdCA9IGZ1bmN0aW9uKClcclxue1xyXG5cdHZhciBpZF91cGxvYWRfYT0kKHRoaXMpLmF0dHIoJ2lkX3VwbG9hZF9hJyk7XHJcblx0JCgnW25hbWU9bXlmaWxlYWt0JytpZF91cGxvYWRfYSsnXScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbn1cclxudmFyIFVwbG9hZEludm9pY2VQaG90byA9IGZ1bmN0aW9uKClcclxue1xyXG5cdHZhciBpZF91cGxvYWRfYTE9JCh0aGlzKS5hdHRyKCdpZF91cGxvYWRfYTEnKTtcclxuXHQkKCdbbmFtZT1teWZpbGVwaG90bycraWRfdXBsb2FkX2ExKyddJykudHJpZ2dlcignY2xpY2snKTtcclxufVxyXG5cclxuXHRcclxudmFyIFVwbG9hZEludm9pY2UgPSBmdW5jdGlvbigpXHJcbntcclxuXHR2YXIgaWRfdXBsb2FkPSQodGhpcykuYXR0cignaWRfdXBsb2FkJyk7XHJcblx0JCgnW25hbWU9bXlmaWxlJytpZF91cGxvYWQrJ10nKS50cmlnZ2VyKCdjbGljaycpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdXBsb2FkUyhmaWxlLGlkKSB7XHJcblxyXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC80L7QttC90L4g0L7QsdGK0LXQtNC40L3QuNGC0Ywg0LIg0L7QtNC40L0sXHJcbiAgICAgIC8vINC10YHQu9C4IHN0YXR1cyA9PSAyMDAsINGC0L4g0Y3RgtC+INGD0YHQv9C10YUsINC40L3QsNGH0LUg0L7RiNC40LHQutCwXHJcbiAgICAgIHhoci5vbmxvYWQgPSB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgIFxyXG5cdFx0ICAkKCdbaWRfdXBsb2FkPScraWQrJ10nKS5zaG93KCk7IC8v0LrQvdC+0L/QutCwXHJcblx0XHQgICQoJy5zY2FwX2xvYWRfJytpZCkuZmluZCgnLnNjYXBfbG9hZF9fJykud2lkdGgoMCk7IFxyXG5cdFx0ICAkKCcuc2NhcF9sb2FkXycraWQpLmhpZGUoKTtcclxuXHRcdCAgVXBkYXRlSW1hZ2VTdXBwbHkoaWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkKCdbaWRfdXBsb2FkPScraWQrJ10nKS5zaG93KCk7XHJcblx0XHQgICQoJy5zY2FwX2xvYWRfJytpZCkuZmluZCgnLnNjYXBfbG9hZF9fJykud2lkdGgoMCk7IFxyXG5cdFx0ICAkKCcuc2NhcF9sb2FkXycraWQpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQtNC70Y8g0LfQsNC60LDRh9C60LhcclxuICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdCQoJ1tpZF91cGxvYWQ9JytpZCsnXScpLmhpZGUoKTsgIFxyXG5cdFx0JCgnLnNjYXBfbG9hZF8nK2lkKS5zaG93KCk7ICBcclxuXHRcdHZhciB3aWR0aHM9TWF0aC5yb3VuZCgoZXZlbnQubG9hZGVkKjEwMCkvZXZlbnQudG90YWwpO1xyXG5cdFx0JCgnLnNjYXBfbG9hZF8nK2lkKS5maW5kKCcuc2NhcF9sb2FkX18nKS53aWR0aCh3aWR0aHMpOyAgXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCBcInN1cHBseS91cGxvYWQucGhwXCIsIHRydWUpO1xyXG4gICAgICAvL3hoci5zZW5kKGZpbGUpO1xyXG5cdFxyXG5cdCB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICBmb3JtRGF0YS5hcHBlbmQoXCJ0aGVmaWxlXCIsIGZpbGUpO1xyXG5cdCBmb3JtRGF0YS5hcHBlbmQoXCJpZFwiLGlkKTtcclxuICAgICB4aHIuc2VuZChmb3JtRGF0YSk7XHJcblxyXG4gICAgfVxyXG4vL9C30LDQs9GA0YPQt9C60LAg0LDQutGC0L7QsiDQvdCwINC+0YLQsdGA0LDQutC+0LLQutGDXHJcbmZ1bmN0aW9uIHVwbG9hZElBKGZpbGUsaWQpIHtcclxuXHJcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LzQvtC20L3QviDQvtCx0YrQtdC00LjQvdC40YLRjCDQsiDQvtC00LjQvSxcclxuICAgICAgLy8g0LXRgdC70Lggc3RhdHVzID09IDIwMCwg0YLQviDRjdGC0L4g0YPRgdC/0LXRhSwg0LjQvdCw0YfQtSDQvtGI0LjQsdC60LBcclxuICAgICAgeGhyLm9ubG9hZCA9IHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgXHJcblx0XHQkKCdbaWRfdXBsb2FkX2E9JytpZCsnXScpLm5leHQoKS5maW5kKCcuYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsJykuaGlkZSgpO1xyXG5cdFx0XHQkKCdbaWRfdXBsb2FkX2E9JytpZCsnXScpLnNob3coKTsgIFxyXG5cdFx0XHRcclxuXHRcdCAgVXBkYXRlSW1hZ2VJbnZvaWNlQWt0KGlkLDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblx0XHQkKCdbaWRfdXBsb2FkX2E9JytpZCsnXScpLm5leHQoKS5maW5kKCcuYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsJykuaGlkZSgpO1xyXG5cdFx0XHQkKCdbaWRfdXBsb2FkX2E9JytpZCsnXScpLnNob3coKTsgIFxyXG5cdFx0XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINC30LDQutCw0YfQutC4XHJcbiAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHQgLy/RgdC60YDRi9GC0Ywg0LrQvdC+0L/QutGDINC/0L7QutCw0LfQsNGC0Ywg0LfQsNCz0YDRg9C30YfQuNC6IFxyXG5cdFx0JCgnW2lkX3VwbG9hZF9hPScraWQrJ10nKS5oaWRlKCk7ICBcclxuXHRcdCQoJ1tpZF91cGxvYWRfYT0nK2lkKyddJykubmV4dCgpLmZpbmQoJy5iX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGwnKS5zaG93KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCBcImludm9pY2VzL3VwbG9hZF9ha3QucGhwXCIsIHRydWUpO1xyXG4gICAgICAvL3hoci5zZW5kKGZpbGUpO1xyXG5cdFxyXG5cdCB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICBmb3JtRGF0YS5hcHBlbmQoXCJ0aGVmaWxlXCIsIGZpbGUpO1xyXG5cdCBmb3JtRGF0YS5hcHBlbmQoXCJpZFwiLGlkKTtcclxuICAgICB4aHIuc2VuZChmb3JtRGF0YSk7XHJcblxyXG4gICAgfVxyXG5cclxuLy/Qt9Cw0LPRgNGD0LfQutCwINGE0L7RgtC+INCx0YDQsNC60LBcdFxyXG5mdW5jdGlvbiB1cGxvYWRJUChmaWxlLGlkKSB7XHJcblxyXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC80L7QttC90L4g0L7QsdGK0LXQtNC40L3QuNGC0Ywg0LIg0L7QtNC40L0sXHJcbiAgICAgIC8vINC10YHQu9C4IHN0YXR1cyA9PSAyMDAsINGC0L4g0Y3RgtC+INGD0YHQv9C10YUsINC40L3QsNGH0LUg0L7RiNC40LHQutCwXHJcbiAgICAgIHhoci5vbmxvYWQgPSB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgIFxyXG5cdFx0JCgnW2lkX3VwbG9hZF9hMT0nK2lkKyddJykubmV4dCgpLmZpbmQoJy5iX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGwnKS5oaWRlKCk7XHJcblx0XHRcdCQoJ1tpZF91cGxvYWRfYTE9JytpZCsnXScpLnNob3coKTsgIFxyXG5cdFx0ICBVcGRhdGVJbWFnZUludm9pY2VBa3QoaWQsMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHRcdCQoJ1tpZF91cGxvYWRfYTE9JytpZCsnXScpLm5leHQoKS5maW5kKCcuYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsJykuaGlkZSgpO1xyXG5cdFx0XHQkKCdbaWRfdXBsb2FkX2ExPScraWQrJ10nKS5zaG93KCk7ICBcclxuXHRcdFxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00LvRjyDQt9Cw0LrQsNGH0LrQuFxyXG4gICAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0IC8v0YHQutGA0YvRgtGMINC60L3QvtC/0LrRgyDQv9C+0LrQsNC30LDRgtGMINC30LDQs9GA0YPQt9GH0LjQuiBcclxuXHRcdCQoJ1tpZF91cGxvYWRfYTE9JytpZCsnXScpLmhpZGUoKTsgIFxyXG5cdFx0JCgnW2lkX3VwbG9hZF9hMT0nK2lkKyddJykubmV4dCgpLmZpbmQoJy5iX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGwnKS5zaG93KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCBcImludm9pY2VzL3VwbG9hZF9waG90by5waHBcIiwgdHJ1ZSk7XHJcbiAgICAgIC8veGhyLnNlbmQoZmlsZSk7XHJcblx0XHJcblx0IHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgIGZvcm1EYXRhLmFwcGVuZChcInRoZWZpbGVcIiwgZmlsZSk7XHJcblx0IGZvcm1EYXRhLmFwcGVuZChcImlkXCIsaWQpO1xyXG4gICAgIHhoci5zZW5kKGZvcm1EYXRhKTtcclxuXHJcbiAgICB9XHRcclxuXHRcclxuZnVuY3Rpb24gdXBsb2FkSShmaWxlLGlkKSB7XHJcblxyXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC80L7QttC90L4g0L7QsdGK0LXQtNC40L3QuNGC0Ywg0LIg0L7QtNC40L0sXHJcbiAgICAgIC8vINC10YHQu9C4IHN0YXR1cyA9PSAyMDAsINGC0L4g0Y3RgtC+INGD0YHQv9C10YUsINC40L3QsNGH0LUg0L7RiNC40LHQutCwXHJcbiAgICAgIHhoci5vbmxvYWQgPSB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgIFxyXG5cdFx0ICAkKCdbaWRfdXBsb2FkPScraWQrJ10nKS5zaG93KCk7IC8v0LrQvdC+0L/QutCwXHJcblx0XHQgICQoJy5zY2FwX2xvYWRfJytpZCkuZmluZCgnLnNjYXBfbG9hZF9fJykud2lkdGgoMCk7IFxyXG5cdFx0ICAkKCcuc2NhcF9sb2FkXycraWQpLmhpZGUoKTtcclxuXHRcdCAgVXBkYXRlSW1hZ2VJbnZvaWNlKGlkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCgnW2lkX3VwbG9hZD0nK2lkKyddJykuc2hvdygpO1xyXG5cdFx0ICAkKCcuc2NhcF9sb2FkXycraWQpLmZpbmQoJy5zY2FwX2xvYWRfXycpLndpZHRoKDApOyBcclxuXHRcdCAgJCgnLnNjYXBfbG9hZF8nK2lkKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINC30LDQutCw0YfQutC4XHJcbiAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHQkKCdbaWRfdXBsb2FkPScraWQrJ10nKS5oaWRlKCk7ICBcclxuXHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuc2hvdygpOyAgXHJcblx0XHR2YXIgd2lkdGhzPU1hdGgucm91bmQoKGV2ZW50LmxvYWRlZCoxMDApL2V2ZW50LnRvdGFsKTtcclxuXHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuZmluZCgnLnNjYXBfbG9hZF9fJykud2lkdGgod2lkdGhzKTsgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgXCJib29raW5nL3VwbG9hZC5waHBcIiwgdHJ1ZSk7XHJcbiAgICAgIC8veGhyLnNlbmQoZmlsZSk7XHJcblx0XHJcblx0IHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgIGZvcm1EYXRhLmFwcGVuZChcInRoZWZpbGVcIiwgZmlsZSk7XHJcblx0IGZvcm1EYXRhLmFwcGVuZChcImlkXCIsaWQpO1xyXG4gICAgIHhoci5zZW5kKGZvcm1EYXRhKTtcclxuXHJcbiAgICB9XHJcbi8qXHJcbmZ1bmN0aW9uIHVwbG9hZFJSKGZpbGUsaWQpIHtcclxuXHJcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LzQvtC20L3QviDQvtCx0YrQtdC00LjQvdC40YLRjCDQsiDQvtC00LjQvSxcclxuICAgICAgLy8g0LXRgdC70Lggc3RhdHVzID09IDIwMCwg0YLQviDRjdGC0L4g0YPRgdC/0LXRhSwg0LjQvdCw0YfQtSDQvtGI0LjQsdC60LBcclxuICAgICAgeGhyLm9ubG9hZCA9IHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgXHJcblx0XHQgICQoJ1tpZF91cGxvYWQ9JytpZCsnXScpLnNob3coKTsgLy/QutC90L7Qv9C60LBcclxuXHRcdCAgJCgnLnNjYXBfbG9hZF8nK2lkKS5maW5kKCcuc2NhcF9sb2FkX18nKS53aWR0aCgwKTsgXHJcblx0XHQgICQoJy5zY2FwX2xvYWRfJytpZCkuaGlkZSgpO1xyXG5cdFx0ICBVcGRhdGVJbWFnZVJlcG9ydHMoaWQpO1xyXG5cdFx0XHRhbGVydF9tZXNzYWdlKCdvaycsJ9Cy0LDRiCDQv9GA0L7RhNC40LvRjCDQvtCx0L3QvtCy0LvQtdC9Jyk7XHJcblx0XHRcdGF1dG9SZWxvYWRIYWsoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCgnW2lkX3VwbG9hZD0nK2lkKyddJykuc2hvdygpO1xyXG5cdFx0ICAkKCcuc2NhcF9sb2FkXycraWQpLmZpbmQoJy5zY2FwX2xvYWRfXycpLndpZHRoKDApOyBcclxuXHRcdCAgJCgnLnNjYXBfbG9hZF8nK2lkKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINC30LDQutCw0YfQutC4XHJcbiAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHQkKCdbaWRfdXBsb2FkPScraWQrJ10nKS5oaWRlKCk7ICBcclxuXHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuc2hvdygpOyAgXHJcblx0XHR2YXIgd2lkdGhzPU1hdGgucm91bmQoKGV2ZW50LmxvYWRlZCoxMDApL2V2ZW50LnRvdGFsKTtcclxuXHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuZmluZCgnLnNjYXBfbG9hZF9fJykud2lkdGgod2lkdGhzKTsgIFxyXG4gICAgICB9XHJcblxyXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgXCJyZXBvcnRzL3VwbG9hZC5waHBcIiwgdHJ1ZSk7XHJcbiAgICAgIC8veGhyLnNlbmQoZmlsZSk7XHJcblx0XHJcblx0IHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgIGZvcm1EYXRhLmFwcGVuZChcInRoZWZpbGVcIiwgZmlsZSk7XHJcblx0IGZvcm1EYXRhLmFwcGVuZChcImlkXCIsaWQpO1xyXG4gICAgIHhoci5zZW5kKGZvcm1EYXRhKTtcclxuXHJcbiAgICB9XHRcclxuKi9cclxuXHQvKlxyXG5cdGZ1bmN0aW9uIHVwbG9hZFJSX29sZChmaWxlLGlkKSB7XHJcblxyXG5cdFx0dmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuXHRcdC8vINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LzQvtC20L3QviDQvtCx0YrQtdC00LjQvdC40YLRjCDQsiDQvtC00LjQvSxcclxuXHRcdC8vINC10YHQu9C4IHN0YXR1cyA9PSAyMDAsINGC0L4g0Y3RgtC+INGD0YHQv9C10YUsINC40L3QsNGH0LUg0L7RiNC40LHQutCwXHJcblx0XHR4aHIub25sb2FkID0geGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gYWxlcnQodGhpcy5zdGF0dXMpO1xyXG5cdFx0XHRpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcblxyXG5cdFx0XHRcdCQoJ1tpZF91cGxvYWQ9JytpZCsnXScpLnNob3coKTsgLy/QutC90L7Qv9C60LBcclxuXHRcdFx0XHQkKCcuc2NhcF9sb2FkXycraWQpLmZpbmQoJy5zY2FwX2xvYWRfXycpLndpZHRoKDApO1xyXG5cdFx0XHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuaGlkZSgpO1xyXG5cdFx0XHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuYWZ0ZXIoKTtcclxuXHRcdFx0XHQvL1VwZGF0ZUltYWdlUmVwb3J0cyhpZCk7XHJcblx0XHRcdFx0YWxlcnRfbWVzc2FnZSgnb2snLCfQstCw0Ygg0L/RgNC+0YTQuNC70Ywg0L7QsdC90L7QstC70LXQvScpO1xyXG5cdFx0XHRcdGF1dG9SZWxvYWRIYWsoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0JCgnW2lkX3VwbG9hZD0nK2lkKyddJykuc2hvdygpO1xyXG5cdFx0XHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuZmluZCgnLnNjYXBfbG9hZF9fJykud2lkdGgoMCk7XHJcblx0XHRcdFx0JCgnLnNjYXBfbG9hZF8nK2lkKS5oaWRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Ly8g0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINC30LDQutCw0YfQutC4XHJcblx0XHR4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHQkKCdbaWRfdXBsb2FkPScraWQrJ10nKS5oaWRlKCk7XHJcblx0XHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuc2hvdygpO1xyXG5cdFx0XHR2YXIgd2lkdGhzPU1hdGgucm91bmQoKGV2ZW50LmxvYWRlZCoxMDApL2V2ZW50LnRvdGFsKTtcclxuXHRcdFx0JCgnLnNjYXBfbG9hZF8nK2lkKS5maW5kKCcuc2NhcF9sb2FkX18nKS53aWR0aCh3aWR0aHMrJyUnKTtcclxuXHRcdH1cclxuXHJcblx0XHR4aHIub3BlbihcIlBPU1RcIiwgXCJ1c2Vycy91cGxvYWQucGhwXCIsIHRydWUpO1xyXG5cdFx0Ly94aHIuc2VuZChmaWxlKTtcclxuXHJcblx0XHR2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuXHRcdGZvcm1EYXRhLmFwcGVuZChcInRoZWZpbGVcIiwgZmlsZSk7XHJcblx0XHRmb3JtRGF0YS5hcHBlbmQoXCJpZFwiLGlkKTtcclxuXHRcdHhoci5zZW5kKGZvcm1EYXRhKTtcclxuXHJcblx0fVxyXG4qL1xyXG5cclxuXHJcblx0dmFyIFVwbG9hZEludm9pY2VQaG90b0NoYW5nZSA9IGZ1bmN0aW9uKClcclxue1xyXG5cdHZhciBpZD0kKHRoaXMpLnBhcmVudHMoJ2Zvcm0nKS5hdHRyKCdpZF9hJyk7XHJcblx0ZmlsZSA9IHRoaXMuZmlsZXNbMF07XHJcblx0ICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICB1cGxvYWRJUChmaWxlLGlkKTtcclxuICAgICAgfSBcclxuICAgICAgcmV0dXJuIGZhbHNlO1x0XHJcbn1cdFx0XHJcblxyXG52YXIgVXBsb2FkSW52b2ljZUFrdENoYW5nZSA9IGZ1bmN0aW9uKClcclxue1xyXG5cdFxyXG5cdHZhciBpZD0kKHRoaXMpLnBhcmVudHMoJ2Zvcm0nKS5hdHRyKCdpZF9hJyk7XHJcblx0ZmlsZSA9IHRoaXMuZmlsZXNbMF07XHJcblx0ICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICB1cGxvYWRJQShmaWxlLGlkKTtcclxuICAgICAgfSBcclxuICAgICAgcmV0dXJuIGZhbHNlO1x0XHJcbn1cdFxyXG5cclxuLypcclxudmFyIFVwbG9hZFJlcG9ydHNDaGFuZ2UgPSBmdW5jdGlvbigpXHJcbntcclxuXHR2YXIgaWQ9JCh0aGlzKS5wYXJlbnRzKCdmb3JtJykuYXR0cignaWRfc2MnKTtcclxuXHRmaWxlID0gdGhpcy5maWxlc1swXTtcclxuXHQgICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIHVwbG9hZFJSKGZpbGUsaWQpO1xyXG4gICAgICB9IFxyXG4gICAgICByZXR1cm4gZmFsc2U7XHRcclxufVxyXG4qL1xyXG5cclxudmFyIFVwbG9hZEludm9pY2VDaGFuZ2UgPSBmdW5jdGlvbigpXHJcbntcclxuXHR2YXIgaWQ9JCh0aGlzKS5wYXJlbnRzKCdmb3JtJykuYXR0cignaWRfc2MnKTtcclxuXHRmaWxlID0gdGhpcy5maWxlc1swXTtcclxuXHQgICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIHVwbG9hZEkoZmlsZSxpZCk7XHJcbiAgICAgIH0gXHJcbiAgICAgIHJldHVybiBmYWxzZTtcdFxyXG59XHJcblxyXG52YXIgVXBsb2FkU2NhblNDaGFuZ2UgPSBmdW5jdGlvbigpXHJcbntcclxuXHR2YXIgaWQ9JCh0aGlzKS5wYXJlbnRzKCdmb3JtJykuYXR0cignaWRfc2MnKTtcclxuXHRmaWxlID0gdGhpcy5maWxlc1swXTtcclxuXHQgICAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIHVwbG9hZFMoZmlsZSxpZCk7XHJcbiAgICAgIH0gXHJcbiAgICAgIHJldHVybiBmYWxzZTtcdFxyXG59XHJcblxyXG5cdC8v0LTQtdC70LDQtdC8INC/0L7Qu9GPINGBINC60LvQsNGB0YHQvtC8INGC0L7Qu9GM0LrQviDQtNGA0L7QsdC90YvQvNC4INC4INGG0LXQu9GL0LzQuCDRh9C40YHQu9Cw0LzQuFx0XHJcbiQoJy5jb3VudF9tYXNrJykuYmluZChcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCB2YWxpZGF0ZTExKTtcclxuJCgnLmNvdW50X21hc2sxJykuYmluZChcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCB2YWxpZGF0ZTEyKTtcclxuXHRcclxuXHJcblx0XHJcblx0XHJcblx0JCgnLm1lc3NhX2Zvcm1fYScpLm9uKFwiY2hhbmdlXCIsJy5pbnZvaWNlX2ZpbGVfcGhvdG8nLFVwbG9hZEludm9pY2VQaG90b0NoYW5nZSk7XHJcblx0JCgnLm1lc3NhX2Zvcm1fYScpLm9uKFwiY2hhbmdlXCIsJy5pbnZvaWNlX2ZpbGVfYWt0JyxVcGxvYWRJbnZvaWNlQWt0Q2hhbmdlKTtcdFxyXG5cdFxyXG5cdCQoJy5pbnZvaWNlX2Jsb2NrJykub24oXCJjbGlja1wiLFwiLmFkZF9ha3RfZGVmZWN0XCIsIFVwbG9hZEludm9pY2VBa3QpO1x0XHJcblx0JCgnLmludm9pY2VfYmxvY2snKS5vbihcImNsaWNrXCIsXCIuYWRkX2FrdF9kZWZlY3QxXCIsIFVwbG9hZEludm9pY2VQaG90byk7XHJcblx0XHJcblxyXG5cclxuXHRcclxuXHJcblx0XHJcblxyXG5cdFxyXG5cdFxyXG5cdFxyXG5cclxuXHJcbiQoJy5pbWdfaW52b2ljZV9kaXYnKS5vbihcImNsaWNrXCIsJy5kZWxfaW1hZ2VfaW52b2ljZScsRGVsbEltYWdlSW52b2ljZSk7XHRcclxuXHJcbiQoJy5pbWdfaW52b2ljZV9kaXYnKS5vbihcImNsaWNrXCIsJy5kZWxfaW1hZ2VfcmVwb3J0cycsRGVsbEltYWdlUmVwb3J0cyk7XHRcclxuXHRcclxuJCgnLmltZ19pbnZvaWNlX2RpdicpLm9uKFwiY2xpY2tcIiwnLmludm9pY2VfdXBsb2FkJyxVcGxvYWRJbnZvaWNlKTtcclxuJCgnLmNvbnRlbnQnKS5vbihcImNoYW5nZVwiLCcuc2Nfc2NfbG9vMTInLFVwbG9hZEludm9pY2VDaGFuZ2UpO1xyXG4vLyQoJy5jb250ZW50Jykub24oXCJjaGFuZ2VcIiwnLnNjX3NjX2xvb3MyJyxVcGxvYWRSZXBvcnRzQ2hhbmdlKTtcclxuXHRcclxuJCgnYm9keScpLm9uKFwiY2xpY2tcIiwnLnNvcGx5X3VwbG9hZCcsVXBsb2FkU2NhblMpO1xyXG4kKCdib2R5Jykub24oXCJjaGFuZ2VcIiwnLnNjX3NjX2xvbzExJyxVcGxvYWRTY2FuU0NoYW5nZSk7XHJcblx0XHRcclxuXHJcbi8vJCgnLmJvb2tlcl90YWJsZScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5ib29rZXJfeWVzJyxib29rZXJfeWVzKTtcdFxyXG5cdFxyXG4kKCcucGF5X2ltcCcpLm9uKFwiY2xpY2tcIiwnLm5hcnlkX3VwbG9hZCcsVXBsb2FkU2Nhbik7XHJcbiQoJy5wYXlfaW1wJykub24oXCJjaGFuZ2VcIiwnLnNjX3NjX2xvbycsVXBsb2FkU2NhbkNoYW5nZSk7XHJcblxyXG5cclxualF1ZXJ5KGRvY3VtZW50KS5vbihcImZvY3VzIGNsaWNrXCIsJy5pbnB1dF9uZXdfMjAxOCcsSW5wdXRGb2N1c05ldyk7XHRcclxualF1ZXJ5KGRvY3VtZW50KS5vbihcImJsdXJcIiwnLmlucHV0X25ld18yMDE4JyxJbnB1dEJsdXJOZXcpO1xyXG5qUXVlcnkoZG9jdW1lbnQpLm9uKFwia2V5dXBcIiwnLmlucHV0X25ld18yMDE4JyxLZXlVcElucHV0KTtcdFxyXG5cclxuLy/RhNC+0LrRg9GBINC4INC/0L7RgtC10YDRjyDQsiDQvtC60L3QtSDQstGL0LHQvtGA0LAg0L/QvtC60YPQv9Cw0YLQtdC70Y8g0YLRg9GA0LAg0LIg0L/QvtC40YHQutC1XHRcclxualF1ZXJ5KGRvY3VtZW50KS5vbihcImZvY3VzIGNsaWNrXCIsJy5qcy1jaG9pY2Uta2V5dXAnLElucHV0Rm9jdXNOZXdUb3Vycyk7XHRcclxualF1ZXJ5KGRvY3VtZW50KS5vbihcImJsdXJcIiwnLmpzLWNob2ljZS1rZXl1cCcsSW5wdXRCbHVyTmV3VG91cnMpO1x0XHRcclxuXHJcblxyXG4kKCcubm90aWZfaW1wJykub24oXCJjbGlja1wiLCcuZGVsX25vdGlmJyxEZWxsTm90aWYpO1x0XHJcbiQoJy5ub3RpZl9kaXZfMjAxOCcpLm9uKFwiY2xpY2tcIiwnLmRlbF9ub3RpZicsRGVsbE5vdGlmKTtcclxuXHQkKCcuYm9va2luZ19kaXYnKS5vbihcImNsaWNrXCIsJy5kZWxfYm9va2luZ18nLERlbGxCb29raW5nKTtcclxuXHJcblx0JCgnLmNsaWVudHNfYmxvY2snKS5vbihcImNsaWNrXCIsJy5kZWxfY2xpZW50c18nLERlbGxDbGllbnRzKTtcclxuXHRcclxuXHRcclxuXHRcdCQoJy5jbGllbnRzX29yZycpLm9uKFwiY2xpY2tcIiwnLmRlbF9vcmdfJyxEZWxsT3JnKTtcclxuXHRcclxuJCgnLnBsYWNlLXdyYXBwZXInKS5vbihcImNsaWNrXCIsJy50YXNrX19jbGljaycsWWVzVGFzayk7XHRcclxuXHRcclxuXHRcclxuXHJcblxyXG4kKCcuZm94X3NlYXJjaF9yZXN1bHQxJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLnN0cmluZ19yZXMnLHN0cmluZ19yZXMxKTtcclxuXHRcclxuXHJcbi8v0YPQtNCw0LvQtdC90LjQtSDQv9C+0LrRg9C/0LDRgtC10LvRjyDQuNC3INGC0YPRgNCwXHJcbiQoJy5qcy1idXktbXktdG91cnMnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtZGVsbC1idXktdG91cnMnLGpzX2RlbGxfYnV5X3RvdXJzKTtcclxuLy/Rg9C00LDQu9C10L3QuNC1INGC0YPRgNC40YHRgtCwINC40Lcg0YLRg9GA0LBcclxuJCgnLmpzLWZseS1teS10b3VycycpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1kZWxsLWZseS10b3VycycsanNfZGVsbF9mbHlfdG91cnMpO1xyXG5cclxuXHJcblxyXG5cdFxyXG4vL9Cy0YvRhdC+0LQg0LjQtyDRgdC40YHRgtC10LzRiyDQv9GA0Lgg0LHQtdC30LTQtdC50YHRgtCy0LjQuFxyXG5pZGxlVGltZXIgPSBudWxsO1xyXG50aW1lclMgPSBudWxsO1x0XHJcbnRpbWVySD1udWxsO1x0XHJcbmlkbGVTdGF0ZSA9IGZhbHNlOyAvLyDRgdC+0YHRgtC+0Y/QvdC40LUg0L7RgtGB0YPRgtGB0YLQstC40Y9cclxuaWRsZVdhaXQgPSAzMCo2MCoxMDAwOyAvLyDQstGA0LXQvNGPINC+0LbQuNC00LDQvdC40Y8g0LIg0LzRgS4gKDEvMTAwMCDRgdC10LrRg9C90LTRiykgLSAzMCDQvNC40L3Rg9GCXHJcbmlkVGltZVN0YW1wZT0wO1x0XHJcbkV4aXRTeXN0ZW0oKTtcclxuLy/QstGL0YXQvtC0INC40Lcg0YHQuNGB0YLQtdC80Ysg0L/RgNC4INCx0LXQt9C00LXQudGB0YLQstC40LhcclxuXHRcclxuXHJcbndpbmRvdy5pc19zZXNzaW9uPSd1bWF0cmF2ZWwuY2x1Yic7XHJcblx0XHJcblxyXG4vL9GD0LLQtdC00L7QvNC70LXQvdC40Y8g0L3QsNGB0YLRgNC+0LnQutC4XHRcclxuaWRsZVRpbWVyeCA9IG51bGw7XHJcbnRpbWVyU3ggPSBudWxsO1x0XHJcbmlkbGVTdGF0ZXggPSBmYWxzZTsgLy8g0YHQvtGB0YLQvtGP0L3QuNC1INC+0YLRgdGD0YLRgdGC0LLQuNGPXHJcbmlkbGVXYWl0X3N0YXJ0ID0gMTAqMTAwMDsgLy8g0LLRgNC10LzRjyDQvtCx0L3QvtCy0LvQtdC90LjRjyBub3RpZmljYXRpb24gLSDQutCw0LbQtNGL0LUgMzAg0YHQtdC60YPQvdC0IFxyXG5pZGxlV2FpdF9zdG9wID0gNSo2MCoxMDAwOyAvLyDQstGA0LXQvNGPINC/0YDQvtGB0YLQvtGPINC/0L7RgdC70LUg0LrQvtGC0L7RgNC+0LPQviDRgdC60YDQuNC/0YIg0L3QsNGH0LjQvdCw0LXRgiDQvtCx0YDQsNGJ0LDRgtGM0YHRjyDRgNC10LbQtSDQuiDQvtCx0L3QvtCy0LvQtdC90LjRj9C8IC0gNSDQvNC40L3Rg9GCXHRcclxuaWRsZVdhaXRfZW5kID0gMio2MCoxMDAwOyAvLyDQstGA0LXQvNGPINC+0LHQvdC+0LLQu9C10L3QuNGPIG5vdGlmaWNhdGlvbiDQv9C+0YHQu9C1INC/0YDQvtGB0YLQvtGPINGB0LjRgdGC0LXQvNGLINCyINGC0LXRh9C10L3QuNC4IDUg0LzQuNC90YPRgiAtINC60LDQttC00YvQtSAyINC80LjQvdGD0YLRi1xyXG5pZGxlV2FpdF95ZXM9aWRsZVdhaXRfc3RhcnQ7XHRcclxuaWRUaW1lU3RhbXBleD0wO1x0XHJcbk5vdGlmU3lzdGVtKCk7XHJcbiQoJzxhdWRpbyBpZD1cImNoYXRBdWRpb1wiPjxzb3VyY2Ugc3JjPVwibm90aWZ5Lm9nZ1wiIHR5cGU9XCJhdWRpby9vZ2dcIj48c291cmNlIHNyYz1cIm5vdGlmeS5tcDNcIiB0eXBlPVwiYXVkaW8vbXBlZ1wiPjxzb3VyY2Ugc3JjPVwibm90aWZ5LndhdlwiIHR5cGU9XCJhdWRpby93YXZcIj48L2F1ZGlvPicpLmFwcGVuZFRvKCdib2R5Jyk7XHRcclxuLy/Rg9Cy0LXQtNC+0LzQu9C10L3QuNGPINC90LDRgdGC0YDQvtC50LrQuFx0XHJcblx0XHJcbm5wcm9ncmVzcz0wOyAvL9C/0L7QutCw0LfRi9Cy0LDRgtGMINC30LDQs9GA0YPQt9GH0LjQuiDQu9C40L3QuNGOINC/0YDQuCBhamF4INC30LDQv9GA0L7RgdCw0YVcdFxyXG5cclxuXHRcclxuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsgJHRoaXM9aW5XaW5kb3coXCIuRWZmZWN0YmJvXCIpOyAgaWYoaW5XaW5kb3coXCIuRWZmZWN0YmJvXCIpLmxlbmd0aCE9MCkgeyAgIHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7ICAkdGhpcy5yZW1vdmVDbGFzcygneWVzX2JiczEnKTsgfSwgNTAwMCApOyAgfSAgfSwgMTAwMCk7IC8vIDEwMDAg0Lwu0YHQtdC6XHRcclxuIFxyXG5cdFxyXG5cclxuXHJcblxyXG5cdFxyXG5cdFxyXG5cclxuLy8kKCcubWtyXywuc21ldGEyJykub24oXCJjaGFuZ2VcIiwnLm9wdGlvbl9tYXQnLG9wdGlvbl9tYXQpO1x0XHJcblxyXG5cdFxyXG5cdFxyXG4vLyQoXCIuZHJvcHNcIikuZmluZChcImxpXCIpLmJpbmQoJ2NsaWNrJywgZHJvcGxpcyk7XHJcblx0XHJcbiQoJy5tZW51X3RvcCwuc21ldGEyJykub24oXCJjbGlja1wiLCcuZHJvcHMgbGknLGRyb3BsaXMpO1x0XHJcbi8v0LDQvdC40LzQsNGG0LjRjyDQu9C40L3QtdC10LpcclxuYW5pbWF0aW9uX3RlcHMoKTtcclxuXHJcblxyXG5cdFxyXG5cclxuXHRcclxuXHJcbi8v0YPQtNCw0LvQuNGC0Ywg0LTQuNCw0LvQvtCzXHJcbiQoXCIuZGVsX2RpYWxvZ1wiKS5iaW5kKCdjbGljaycsIGRlbF9kaWFsb2cpO1x0XHJcblx0XHJcbi8v0L7RgtC60YDRi9GC0Ywg0YPQstC10LTQvtC80LvQtdC90LjRj1xyXG4vLyQoXCIudmlld19fbm90IGlcIikuYmluZCgnY2xpY2snLCB2aWV3X25vdGlmaWNhdGlvbik7XHJcblx0XHJcblxyXG5cdFxyXG4kKCcjbGFsYWxhX2FkZF9mb3JtJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmVycm9yX2Zvcm1pJywgZnVuY3Rpb24oKXsgJHRoaXMgPSAkKHRoaXMpOyBzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyR0aGlzLnJlbW92ZUNsYXNzKCdlcnJvcl9mb3JtaScpOyAgfSwgMjAwMCApOyB9KTtcdFxyXG5cdFxyXG5cclxuXHJcbi8v0LfQsNC60YDRi9GC0LjQtSDQv9C+0LjRgdC60LAg0YHQtdCx0LXRgdGC0L7QuNC80L7RgdGC0Lgg0L/RgNC4INC60LvQuNC60LUg0LLQvdC1INC10LPQvlx0XHJcbndpbmRvdy5zaG93X3NlYXJjaD0wO1x0XHJcbi8vJChcImJvZHlcIikuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBcclxuICAgIGlmKCgkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLnNlYXJjaF9zZWJcIikubGVuZ3RoPT0wKSYmKCQoZS50YXJnZXQpLmNsb3Nlc3QoXCIuaWNvbjNcIikubGVuZ3RoPT0wKSApe1xyXG5cdFx0Ly9hbGVydCh3aW5kb3cuc2hvd19zZWFyY2gpO1xyXG5cdFx0Ly/QtdGB0LvQuCDQstC90LUg0L/QvtC40YHQutCwINC4INC60L3QvtC/0LrQuCDQv9C+0LjRgdC6INGC0L4g0LXRgdC70Lgg0L7RgtC60YDRi9GCINC/0L7QuNGB0Log0LfQsNC60YDRi9GC0YxcclxuXHRcdGlmKHdpbmRvdy5zaG93X3NlYXJjaD09MSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdC8vYWxlcnQoXCIhXCIpO1xyXG5cdFx0XHRcdC8vJCgnLmRlYnVnJykuZW1wdHkoKS5hcHBlbmQoJChlLnRhcmdldCkuYXR0cihcImNsYXNzXCIpKTtcclxuXHQkKCcuaWNvbjEnKS5zaG93KCk7XHJcblx0JCgnLnNlYXJjaF9zZWInKS5oaWRlKCk7XHJcblx0JCgnLnNlYXJjaF9zZWInKS53aWR0aCgnNjBweCcpO1xyXG5cdFx0XHRcdHdpbmRvdy5zaG93X3NlYXJjaD0wO1xyXG5cdFx0XHRcdCAkKCd2YXIuaGlnaGxpZ2h0JykuZWFjaChmdW5jdGlvbigpeyAkKHRoaXMpLmFmdGVyKCQodGhpcykuaHRtbCgpKS5yZW1vdmUoKTsgfSk7XHJcblx0XHRcdH1cclxuXHR9XHJcblx0XHJcblx0LypcclxuXHRpZigoJChlLnRhcmdldCkuY2xvc2VzdChcIi5sb2xsX2Ryb3BcIikubGVuZ3RoPT0wKSAgKXtcclxuXHQgICAgICAgJCgnLmxvbGxfZHJvcCcpLmhpZGUoKTtcdFx0XHJcblx0fVx0XHJcblx0Ki9cclxuXHRcclxuXHR2YXIgY29udGFpbmVyID0gJChcIi5ub3RpX2Jsb2NrXCIpO1xyXG5cdHZhciBjb250YWluZXIxeCA9ICQoXCIuYm94LW1vZGFsXCIpO1xyXG5cdFxyXG5cdGlmICgoY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSYmKGNvbnRhaW5lcjF4LmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSl7XHJcblx0IFx0XHRpZiggJCgnLm5vdGlfYmxvY2snKS5pcygnOnZpc2libGUnKSApIHtcclxuXHQgICAgICAgJCgnLm5vdGlfYmxvY2snKS5yZW1vdmUoKTtcclxuXHQgICAgICAgJCgnLnZpZXdfX25vdCcpLmhpZGUoKTsgJCgnLm5vdF9saScpLmZpbmQoJ2knKS5oaWRlKCk7XHRcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0LypcclxuXHRpZigoJChlLnRhcmdldCkuY2xvc2VzdChcIi5ub3RpX2Jsb2NrXCIpLmxlbmd0aD09MCkmJigkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLnZpZXdfX25vdFwiKS5sZW5ndGg9PTApICApe1xyXG5cdFx0aWYoICQoJy5ub3RpX2Jsb2NrJykuaXMoJzp2aXNpYmxlJykgKSB7XHJcblx0ICAgICAgICQoJy5ub3RpX2Jsb2NrJykucmVtb3ZlKCk7XHJcblx0ICAgICAgICQoJy52aWV3X19ub3QnKS5oaWRlKCk7ICQoJy5ub3RfbGknKS5maW5kKCdpJykuaGlkZSgpO1x0XHJcblx0XHR9XHJcblx0XHR9XHJcblx0Ki9cclxufSk7XHJcblxyXG5cclxuXHRcclxuLy/QvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrRgyDQuNGB0LrQsNGC0Ywg0L/RgNC4INCy0LLQvtC00LUg0YLQtdC60YHRgtCwINCyINC/0L7QuNGB0LrQtVx0XHJcbi8vJCgnLnNlYXJjaF9zZWInKS5maW5kKCdpJykuYmluZCgnY2xpY2snLCBzZWFyY2hfcCk7XHJcblxyXG4vL9C90LDQttCw0YLQuNC1INC90LAgZW50ZXIg0L/RgNC4INCy0LLQvtC00LVcclxuJChcIiNzZWFyY2hfdGV4dFwiKS5rZXlwcmVzcyhmdW5jdGlvbihlKXtcclxuXHQgICAgIFx0ICAgaWYoZS5rZXlDb2RlPT0xMyl7XHJcblx0ICAgICBcdCAgIGRvc2VhcmNoKCk7XHJcblx0ICAgICBcdCAgIH1cclxuXHQgICAgIFx0IH0pO1xyXG5cdFxyXG5cclxuJChcIiNvdHppdl9hcmVhXCIpLmtleXByZXNzKGZ1bmN0aW9uKGUpe1xyXG5cdCAgICAgXHQgICBpZihlLmtleUNvZGU9PTEzKXtcclxuXHQgICAgIFx0ICAgc2VuZF9tZWVlKCk7XHJcblx0ICAgICBcdCAgIH1cclxuXHQgICAgIFx0IH0pO1x0XHJcblx0XHJcblxyXG4vL9Cw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC+0LUg0YHRgNCw0LHQsNGC0YvQstCw0L3QuNC1INC/0L7QuNGB0LrQsCDQv9GA0Lgg0LfQsNC00LXRgNC20LrQuCDQstCy0L7QtNCwIFx0XHJcbiQoJyNzZWFyY2hfdGV4dCcpLmtleXVwKGZ1bmN0aW9uKCl7XHJcbiAgdmFyIGQxID0gbmV3IERhdGUoKTtcclxuICB0aW1lX2tleXVwID0gZDEuZ2V0VGltZSgpO1xyXG4gIGlmICgkKCcjc2VhcmNoX3RleHQnKS52YWwoKSE9dGVybSkgLy8g0L/RgNC+0LLQtdGA0Y/QtdC8LCDQuNC30LzQtdC90LjQu9Cw0YHRjCDQu9C4INGB0YLRgNC+0LrQsFxyXG4gICBpZiAoJCgnI3NlYXJjaF90ZXh0JykudmFsKCkubGVuZ3RoPj1taW5sZW4pIHsgLy8g0L/RgNC+0LLQtdGA0Y/QtdC8INC00LvQuNC90YMg0YHRgtGA0L7QutC4XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IC8vINC20LTQtdC8INGB0LvQtdC00YPRjtGJ0LXQs9C+INC90LDQttCw0YLQuNGPXHJcbiAgICAgdmFyIGQyID0gbmV3IERhdGUoKTtcclxuICAgICB0aW1lX3NlYXJjaCA9IGQyLmdldFRpbWUoKTtcclxuICAgICBpZiAodGltZV9zZWFyY2gtdGltZV9rZXl1cD49a2V5aW50KSAvLyDQv9GA0L7QstC10YDRj9C10Lwg0LjQvdGC0LXRgNCy0LDQuyDQvNC10LbQtNGDINC90LDQttCw0YLQuNGP0LzQuFxyXG4gICAgICBkb3NlYXJjaCgpOyAvLyDQtdGB0LvQuCDQstGB0LUg0LIg0L/QvtGA0Y/QtNC60LUsINC/0YDQuNGB0YLRg9C/0LDQtdC8INC6INC/0L7QuNGB0LrRg1xyXG4gICAgfSwga2V5aW50KTsgXHJcbiAgIH1cclxuICAgZWxzZVxyXG4gICAgJCgnLnJlc3VsdF9zJykuaGlkZSgpOyAvLyDQtdGB0LvQuCDRgdGC0YDQvtC60LAg0LrQvtGA0L7RgtC60LDRjywg0YPQsdC40YDQsNC10Lwg0YLQtdC60YHRgiDQuNC3IERJVtCwINGBINGA0LXQt9GD0LvRjNGC0LDRgtC+0LwgXHJcbiB9KTtcdFx0XHJcblxyXG5cclxuXHJcblxyXG5cdC8v0L7RgtC60YDRi9GC0LjQtSDQutCw0LvQtdC90LTQsNGA0Y8g0LIg0L7RhNC+0YDQvNC70LXQvdC40Lgg0L3QsNGA0Y/QtNCwINC/0L4g0LjQutC+0L3QutC1XHJcbiQoXCIuY2FsXzIyM1wiKS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAgJCh0aGlzKS5wcmV2KCcuY2FsZW5kYXJfdCcpLnRyaWdnZXIoJ2ZvY3VzJyk7fSk7XHJcblxyXG4vL9Cw0LLRgtC+0YDQuNC30LDRhtC40Y9cclxuLy/QsNCy0YLQvtGA0LjQt9Cw0YbQuNGPXHJcbi8v0LDQstGC0L7RgNC40LfQsNGG0LjRj1xyXG5cdCQoXCIjZW1haWxfZm9ybWlcIikua2V5dXAoZnVuY3Rpb24oKXtcclxuXHJcblx0XHR2YXIgZW1haWwgPSAkKFwiI2VtYWlsX2Zvcm1pXCIpLnZhbCgpO1xyXG5cclxuXHRcdGlmKGVtYWlsICE9ICcnKVxyXG5cdFx0e1xyXG5cclxuXHRcdH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHQkKFwiI2VtYWlsX2Zvcm1pXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG5cclxuXHRcdH1cclxuXHJcblxyXG5cdH0pO1xyXG5cclxuXHQkKFwiI3Bhc3N3b3JkX2Zvcm1pLCNlbWFpbF9mb3JtaVwiKS5rZXlwcmVzcyhmdW5jdGlvbihlKXtcclxuXHRcdGlmKGUua2V5Q29kZT09MTMpe1xyXG5cdFx0XHQkKCcjeWVzMScpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdCQoXCIjcGFzc3dvcmRfZm9ybWlcIikua2V5dXAoZnVuY3Rpb24oKXtcclxuXHJcblx0XHRpZigoJChcIiNwYXNzd29yZF9mb3JtaVwiKS52YWwoKT09JycpfHwoJChcIiNwYXNzd29yZF9mb3JtaVwiKS52YWwoKT09MCkpXHJcblx0XHR7XHJcblx0XHRcdC8vJChcIiNwYXNzd29yZF9mb3JtaVwiKS5hZGRDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuXHJcblx0XHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdFx0JChcIiNwYXNzd29yZF9mb3JtaVwiKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblx0JChcIiNlbWFpbF9mb3JtaVwiKS5rZXl1cChmdW5jdGlvbigpe1xyXG5cclxuXHRcdGlmKCgkKFwiI2VtYWlsX2Zvcm1pXCIpLnZhbCgpPT0nJyl8fCgkKFwiI2VtYWlsX2Zvcm1pXCIpLnZhbCgpPT0wKSlcclxuXHRcdHtcclxuXHJcblx0XHRcdCQoXCIud2lkdGgtc2V0dGVyLXllc1wiKS5yZW1vdmVDbGFzcygneWVzX2RhJyk7XHJcblxyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHRcdCQoXCIjZW1haWxfZm9ybWlcIikucmVtb3ZlQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcblx0XHRcdCQoXCIud2lkdGgtc2V0dGVyLXllc1wiKS5hZGRDbGFzcygneWVzX2RhJyk7XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHQkKCcjeWVzMScpLm9uKCBcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG5cclxuXHJcblx0XHQvL9GB0LzQvtGC0YDQuNC8INC30LDQv9C+0LvQvdC10L3RiyDQu9C4INC+0LHRj9C30LDRgtC10LvRjNC90YvQtSDQv9C+0LvRj1xyXG5cdFx0dmFyIGVtYWlsID0gJChcIiNlbWFpbF9mb3JtaVwiKS52YWwoKTtcclxuXHRcdHZhciBlcnIgPSBbMCwwXTtcclxuXHJcblx0XHQkKFwiI2VtYWlsX2Zvcm1pXCIpLnJlbW92ZUNsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG5cdFx0JChcIiNwYXNzd29yZF9mb3JtaVwiKS5yZW1vdmVDbGFzcygnZXJyb3JfZm9ybWknKTtcclxuXHJcblx0XHRpZihlbWFpbCAhPSAnJylcclxuXHRcdHtcclxuXHRcdFx0LypcclxuICAgICAgICBpZihpc1ZhbGlkRW1haWxBZGRyZXNzKGVtYWlsKSlcclxuICAgICAgICB7XHJcblxyXG5cclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICQoXCIjZW1haWxfZm9ybWlcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcbiAgICAgICAgICAgIGVyclswXT0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHRcdCQoXCIjZW1haWxfZm9ybWlcIikuYWRkQ2xhc3MoJ2Vycm9yX2Zvcm1pJyk7XHJcblx0XHRcdGVyclswXT0xO1xyXG5cdFx0fVxyXG5cdFx0aWYoKCQoXCIjcGFzc3dvcmRfZm9ybWlcIikudmFsKCk9PScnKXx8KCQoXCIjcGFzc3dvcmRfZm9ybWlcIikudmFsKCk9PTApKVxyXG5cdFx0e1xyXG5cdFx0XHQkKFwiI3Bhc3N3b3JkX2Zvcm1pXCIpLmFkZENsYXNzKCdlcnJvcl9mb3JtaScpO1xyXG5cdFx0XHRlcnJbMV09MTtcclxuXHRcdH1cclxuXHJcblx0XHRpZigoZXJyWzBdPT0wKSYmKGVyclsxXT09MCkpXHJcblx0XHR7XHJcblx0XHRcdCQoJyNwb2RfZm9ybScpLnN1Ym1pdCgpO1xyXG5cdFx0fVxyXG5cclxuXHJcblxyXG5cdH0pO1xyXG4vL9Cw0LLRgtC+0YDQuNC30LDRhtC40Y9cclxuLy/QsNCy0YLQvtGA0LjQt9Cw0YbQuNGPXHJcbi8v0LDQstGC0L7RgNC40LfQsNGG0LjRj1xyXG5cdFxyXG5cclxuXHJcblx0XHJcbi8v0LrRgNC10YHRgtC40LosINGD0LTQsNC70LjRgtGMINCy0YHQtSDRgdC40LzQstC+0LvRiyDQsiDQv9C+0LjRgdC60LVcdFxyXG4kKCcuZm94X2RlbGwxJykub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG5cdHNlYXJjaF9pbnB1dDEudmFsKCcnKTtcclxuXHQkKCcuZm94X2RlbGwxJykuaGlkZSgpO1xyXG5cdCQoJy5kaXZfcmVzdWx0MScpLmhpZGUoKTtcclxuXHQkKCcuZW5kX3NlYXJjaDEnKS5oaWRlKCk7XHJcblx0JCgnW25hbWU9aWRfc2VhcmNoX2NsaWVudDFdJykudmFsKDApLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbn0pO1xyXG5cclxuXHJcbnZhciBzZWFyY2hfbWluMSA9IDM7ICAvL9C80LjQvSDQutC+0LvQuNGH0LXRgdGC0LLQviDRgdC40LzQstC+0LvQvtCyINC00LvRjyDQsdGL0YHRgtGA0L7Qs9C+INC/0L7QuNGB0LrQsFxyXG52YXIgc2VhcmNoX2RlbGV5MT04MDA7XHQvL9C30LDQtNC10YDQttC60LAg0LzQtdC20LTRgyDQstCy0L7QtNCw0LzQuCDRgdC40LzQstC+0LvQvtCyIC0g0L3QsNGH0LDQu9C+INC/0L7QuNGB0LrQsFxyXG52YXIgc2VhcmNoX2lucHV0MT0kKCcjZm94X3NlYXJjaF9jbGllbnRfaTEnKTtcdFxyXG5cdFxyXG4vL9C/0YDQuCDQstCy0L7QtNC1INC/0L7QuNGB0LrQsCDQsiDQutC70LjQtdC90YLQtVx0XHJcbnNlYXJjaF9pbnB1dDEua2V5dXAoZnVuY3Rpb24oKSB7XHJcblx0aWYoalF1ZXJ5LnRyaW0oc2VhcmNoX2lucHV0MS52YWwoKS5sZW5ndGgpID49IDEpXHJcblx0XHR7XHJcblx0XHQgICQoJy5mb3hfZGVsbDEnKS5zaG93KCk7XHRcclxuXHRcdH0gZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHQkKCcuZm94X2RlbGwxJykuaGlkZSgpO1xyXG5cdFx0fVxyXG4gICAgZGVsYXlzKGZ1bmN0aW9uKCl7XHJcblx0XHRcclxuXHRcdGlmKGpRdWVyeS50cmltKHNlYXJjaF9pbnB1dDEudmFsKCkubGVuZ3RoKSA+PSBzZWFyY2hfbWluMSlcclxuXHRcdHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrXHJcblx0XHRcdFx0XHQnJnNlYXJjaD0nK2VuY29kZVVSSUNvbXBvbmVudChzZWFyY2hfaW5wdXQxLnZhbCgpKTtcdFxyXG5cdFx0XHQkKCcuZm94X2RlbGwxJykuaGlkZSgpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgIEFqYXhDbGllbnQoJ2Jvb2tpbmcnLCdzZWFyY2hfY2xpZW50JywnR0VUJyxkYXRhLCdBZnRlclNlYXJjaENsaWVudDEnLDEsMCk7XHRcdFxyXG5cdFx0fVxyXG4gICAgfSwgc2VhcmNoX2RlbGV5MSk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHRcclxuXHRcclxuLypcdFxyXG52YXIgc2VhcmNoX21pbjIgPSAwOyAgLy/QvNC40L0g0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQuNC80LLQvtC70L7QsiDQtNC70Y8g0LHRi9GB0YLRgNC+0LPQviDQv9C+0LjRgdC60LBcclxudmFyIHNlYXJjaF9kZWxleTI9NTAwO1x0Ly/Qt9Cw0LTQtdGA0LbQutCwINC80LXQttC00YMg0LLQstC+0LTQsNC80Lgg0YHQuNC80LLQvtC70L7QsiAtINC90LDRh9Cw0LvQviDQv9C+0LjRgdC60LBcclxudmFyIHNlYXJjaF9pbnB1dDI9JCgnLmpzLWtleXVwLXNlYXJjaCcpO1x0XHRcdFxyXG5zZWFyY2hfaW5wdXQyLmtleXVwKGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdC8v0L7QsdC90YPQu9GP0LXQvCDQstGL0LHQvtGAXHJcblx0c2VhcmNoX2lucHV0Mi5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmZpbmQoJy5qcy1oaWRkZW4tc2VhcmNoJykudmFsKDApO1xyXG5cdFxyXG5cdGlmKGpRdWVyeS50cmltKHNlYXJjaF9pbnB1dDIudmFsKCkubGVuZ3RoKSA+PSAxKVxyXG5cdFx0e1xyXG5cdFx0ICAkKCcuZm94X2RlbGwxJykuc2hvdygpO1x0XHJcblx0XHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdFx0JCgnLmZveF9kZWxsMScpLmhpZGUoKTtcclxuXHRcdH1cclxuICAgIGRlbGF5cyhmdW5jdGlvbigpe1xyXG5cdFx0XHJcblx0XHRpZihqUXVlcnkudHJpbShzZWFyY2hfaW5wdXQyLnZhbCgpLmxlbmd0aCkgPj0gc2VhcmNoX21pbjIpXHJcblx0XHR7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmK1xyXG5cdFx0XHRcdFx0JyZzZWFyY2g9JytlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoX2lucHV0Mi52YWwoKSk7XHRcclxuXHRcdFx0Ly8kKCcuZm94X2RlbGwxJykuaGlkZSgpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgIEFqYXhDbGllbnQoJ3RvdXJzJywnc2VhcmNoX3R1cm9wZXInLCdHRVQnLGRhdGEsJ0FmdGVyU2VhcmNoVHVyb3BlcicsMSwwKTtcdFx0XHJcblx0XHR9XHJcbiAgICB9LCBzZWFyY2hfZGVsZXkyKTtcclxufSk7XHRcclxuKi9cdFxyXG5cclxuXHQvL9C/0LXRgNC10LnRgtC4INCyINGB0LXQsdC10YHRgtC+0LjQvNC+0YHRgtGMINC/0L4g0L7QsdGK0LXQutGC0YMg0L/QviDQutC70LjQutGDINC80LXQvdGOINGB0LLQtdGA0YXRgyDRgSDQstGL0LHRgNCw0L3QvdGL0Lwg0L7QsdGK0LXQutGC0L7QvFxyXG4kKCcubWVudTEnKS5vbignY2xpY2snLCcubWVudTNfcHJpbWUgbGknLCAgZnVuY3Rpb24oKXsgJCh0aGlzKS5jaGlsZHJlbignYScpWzBdLmNsaWNrKCk7IH0pO1xyXG5cdFxyXG4vL9GB0LLQtdGA0L3Rg9GC0Ywg0YDQsNC30LLQtdGA0L3Rg9GC0Ywg0LvQtdCy0L7QtSDQvtGB0L3QvtCy0L3QvtC1INC80LXQvdGOXHJcbiQoJy5oaWRlX2xlZnQsLm1vYmlsZScpLm9uKCBcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG5cdHZhciBlc3Q9MDtcclxuXHRpZigkKFwiLmlzc1wiKS5pcyhcIi5iaWcsLnNtYWxsXCIpKSBcclxuXHR7XHJcblx0ICAgZXN0PTE7XHRcclxuXHR9XHJcblx0aWYoZXN0PT0wKVxyXG5cdHtcclxuXHRcdGlmKCAkKCcubGVmdF9tZW51JykuaXMoJzp2aXNpYmxlJykgKSBcclxuXHRcdHtcclxuXHRcdFx0JChcIi5pc3NcIikuYWRkQ2xhc3MoJ3NtYWxsJyk7XHJcblx0XHRcdCQuY29va2llKCdpc3MnLCAncycsIHtleHBpcmVzOiA2MCxwYXRoOiAnLyd9KTtcclxuXHRcdFx0XHJcblx0XHR9IGVsc2VcclxuXHRcdHtcclxuXHRcdFx0Ly8kKFwiLmlzc1wiKS5yZW1vdmVDbGFzcygnc21hbGwnKTtcclxuXHRcdFx0JChcIi5pc3NcIikuYWRkQ2xhc3MoJ2JpZycpO1xyXG5cdFx0XHQkLmNvb2tpZSgnaXNzJywgJ2InLCB7ZXhwaXJlczogNjAscGF0aDogJy8nfSk7XHJcblx0XHR9XHJcblx0XHRcdFx0XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdCAgaWYoJChcIi5pc3NcIikuaXMoXCIuYmlnXCIpKSBcclxuXHQgIHtcclxuXHRcdCAkKFwiLmlzc1wiKS5yZW1vdmVDbGFzcygnYmlnJyk7XHJcblx0XHQgJChcIi5pc3NcIikuYWRkQ2xhc3MoJ3NtYWxsJyk7XHJcblx0XHQgJC5jb29raWUoJ2lzcycsICdzJywge2V4cGlyZXM6IDYwLHBhdGg6ICcvJ30pO1xyXG5cdCAgfSBlbHNlXHJcblx0ICB7XHJcblx0XHQgJChcIi5pc3NcIikucmVtb3ZlQ2xhc3MoJ3NtYWxsJyk7XHJcblx0XHQgJChcIi5pc3NcIikuYWRkQ2xhc3MoJ2JpZycpOyAgXHJcblx0XHQgJC5jb29raWUoJ2lzcycsICdiJywge2V4cGlyZXM6IDYwLHBhdGg6ICcvJ30pO1xyXG5cdCAgfVxyXG5cdCAgXHJcblx0fVxyXG5cclxuc2xfbWVzc2FnZV93aWR0aCgpO1xyXG59KTtcclxuXHJcblxyXG5cdFxyXG5cdFxyXG4vKtC60LvQuNC6INC90LAg0YDQsNGB0LrRgNGL0LLQsNGO0YnQtdC1INC80LXQvdGOINC40YHQv9C+0LvQvdC40YLQtdC70YwqL1xyXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gJChcIi5zZWxlY3RfYm94XCIpO1xyXG4gICAgaWYgKGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgLy/QutC70LjQuiDQstC90LUg0LHQu9C+0LrQsCDQuCDQstC60LvRjtGH0LDRjtGJ0LjRhSDQsiDQvdC10LPQviDRjdC70LXQvNC10L3RgtC+0LJcclxuXHQgICAgLy8kKFwiLmRyb3BfYm94XCIpLmhpZGUoKTtcclxuXHRcdCQoXCIuZHJvcF9ib3hcIikuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG5cdFx0JChcIi5zbGN0X2JveFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRcclxuXHRcdFxyXG4gICAgfVxyXG5cclxuXHJcbi8v0LrQu9C40Log0LIg0L3QtSDRhNC+0YDQvNGLINC60YPRgNGBINCi0J5cclxuXHR2YXIgdG9fayA9ICQoXCIuZm9ybS1yYXRlLW9rXCIpO1xyXG5cdGlmICh0b19rLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKXtcclxuXHRcdC8v0LrQu9C40Log0LLQvdC1INCx0LvQvtC60LAg0Lgg0LLQutC70Y7Rh9Cw0Y7RidC40YUg0LIg0L3QtdCz0L4g0Y3Qu9C10LzQtdC90YLQvtCyXHJcblx0XHQvL3RvX2suZmluZChcIi5kcm9wc1wiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7XHJcblx0XHR0b19rLnJlbW92ZUNsYXNzKCdzaG93LWZvcm0tcmF0ZScpO1xyXG5cdH1cclxuXHJcblxyXG5cdFxyXG5cdHZhciBjb250YWluZXIxID0gJChcIi5tZW51X3N1cHBseVwiKTtcclxuICAgIGlmIChjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApe1xyXG4gICAgICAgIC8v0LrQu9C40Log0LLQvdC1INCx0LvQvtC60LAg0Lgg0LLQutC70Y7Rh9Cw0Y7RidC40YUg0LIg0L3QtdCz0L4g0Y3Qu9C10LzQtdC90YLQvtCyXHJcblx0ICAgXHRjb250YWluZXIxLmZpbmQoXCIuZHJvcHNcIikuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG5cdFx0Y29udGFpbmVyMS5maW5kKFwiLmRyb3BzXCIpLnJlbW92ZUNsYXNzKCdhY3RpdmVfbWVudV9zJyk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cdHZhciBjb250YWluZXIyMiA9ICQoXCIubG9sbF9kcm9wXCIpO1xyXG4gICAgaWYgKGNvbnRhaW5lcjIyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAvL9C60LvQuNC6INCy0L3QtSDQsdC70L7QutCwINC4INCy0LrQu9GO0YfQsNGO0YnQuNGFINCyINC90LXQs9C+INGN0LvQtdC80LXQvdGC0L7QslxyXG5cdCAgIFx0Y29udGFpbmVyMjIuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG5cdFx0XHJcblx0XHRpZigkKCcucG9zdF9wJykudmFsKCk9PScnKVxyXG5cdFx0e1xyXG5cdFx0ICAgJCgnLmxvbGxfZGl2JykuYWRkQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTtcclxuXHRcdCAgICQoJy5iLWxvYWRpbmctbWVzc2FnZScpLmVtcHR5KCkuYXBwZW5kKCfQvdC10YIg0YHQstGP0LfQuCDRgSDQv9C+0YHRgtCw0LLRidC40LrQvtC8Jykuc2hvdygpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHQgICQoJ1tuYW1lPW51bWJlcl9zb3BseV0nKS52YWwoJCgnW25hbWU9bnVtYmVyX3NvcGx5XScpLmF0dHIoJ3ZhbF9vbGQnKSk7XHJcblx0XHRcdCQoXCIubG9sbF9kcm9wXCIpLmVtcHR5KCk7XHJcblx0XHRcdCQoJy5iLWxvYWRpbmctbWVzc2FnZScpLmhpZGUoKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0XHJcbiAgICB9XHRcclxuXHRcclxuXHRcclxufSk7XHJcbndpbmRvdy5zbGN0Y2xpY2tfYm94MSA9IGZ1bmN0aW9uKCkgeyBcclxuXHJcblxyXG5pZigkKHRoaXMpLnBhcmVudHMoJy5zZWxlY3RfYm94JykuZmluZCgnaW5wdXQnKS5hdHRyKCdyZWFkb25seScpPT11bmRlZmluZWQpIHsgIFxyXG5cdFxyXG5cdCAgaWYoJCh0aGlzKS5pcyhcIi5hY3RpdmVcIikpIFxyXG5cdCAge1xyXG5cdFx0ICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0IC8vICQodGhpcykubmV4dCgpLmhpZGUoKTtcclxuXHRcdCAgJCh0aGlzKS5uZXh0KCkuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG5cdCAgfSBlbHNlXHJcblx0ICB7XHJcblx0XHQgICQodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHQgLy8gJCh0aGlzKS5uZXh0KCkuc2hvdygpO1xyXG5cdFx0ICAkKHRoaXMpLm5leHQoKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMSlcIik7XHJcblx0ICB9XHJcblxyXG5cclxuXHJcblxyXG52YXIgZWxlbXNzX2JveD0kKHRoaXMpLmF0dHIoJ2RhdGFfc3JjJyk7XHRcclxuXHJcblxyXG4kKCcuc2xjdF9ib3gnKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkgXHJcbntcclxuICAgIHZhciBhdHQ9JCh0aGlzKS5hdHRyKCdkYXRhX3NyYycpO1xyXG5cdGlmICgkKHRoaXMpLmF0dHIoJ2RhdGFfc3JjJykhPWVsZW1zc19ib3gpIHsgIFx0XHJcblx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHRcdC8vJCh0aGlzKS5uZXh0KCkuaGlkZSgpO1xyXG5cdFx0JCh0aGlzKS5uZXh0KCkuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG5cdH0gXHJcbn0pO1x0XHJcblx0XHJcbn1cclxuXHQgXHJcblx0XHQgIFxyXG4vL3JldHVybiBmYWxzZTtcclxuXHJcbn1cclxuXHJcblxyXG4kKFwiLnNsY3RfYm94XCIpLmJpbmQoJ2NsaWNrJywgc2xjdGNsaWNrX2JveDEpO1xyXG5cclxuXHJcblxyXG5cdFxyXG5cdFxyXG53aW5kb3cuZHJvcGxpX2JveDEgPSBmdW5jdGlvbigpIHsgXHJcblxyXG52YXIgYWN0aXZlX29sZD0kKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCIuc2xjdF9ib3hcIikuYXR0cihcImRhdGFfc3JjXCIpO1xyXG52YXIgYWN0aXZlX25ldz0kKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblxyXG5cdFx0XHQgIHZhciBmPSQodGhpcykuZmluZChcImFcIikudGV4dCgpO1xyXG5cdFx0XHQgIHZhciBlPSQodGhpcykuZmluZChcImFcIikuYXR0cihcInJlbFwiKTtcclxuXHRcdFx0ICBcclxuXHRcdFx0ICBpZihhY3RpdmVfb2xkIT1hY3RpdmVfbmV3KVxyXG5cdFx0XHQgIHtcclxuXHRcdFx0ICAgICQodGhpcykucGFyZW50KCkuZmluZChcImxpXCIpLnJlbW92ZUNsYXNzKFwic2VsX2FjdGl2ZVwiKTtcclxuXHRcdFx0ICAgICQodGhpcykuYWRkQ2xhc3MoXCJzZWxfYWN0aXZlXCIpO1xyXG5cdFx0XHQgIFxyXG5cdFx0XHRcclxuXHRcdFx0ICBcclxuXHRcdFx0IC8vICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLmh0bWwoZik7XHJcblx0XHRcdCAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0X2JveFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKS5lbXB0eSgpLmFwcGVuZChmKTtcclxuXHRcdFx0ICAgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLnNsY3RfYm94XCIpLmF0dHIoXCJkYXRhX3NyY1wiLGUpO1xyXG5cdFx0XHQgIFxyXG5cdFx0XHQgIC8vICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5kcm9wX2JveFwiKS5oaWRlKCk7XHJcblx0XHRcdCAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5kcm9wX2JveFwiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7IFxyXG5cdFx0XHRcdCAgXHJcblx0XHRcdCAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcImlucHV0XCIpLnZhbChlKS5jaGFuZ2UoKTtcclxuXHRcdFx0ICAgc2F2ZWRlZmF1bHQoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiaW5wdXRcIikpO1x0ICBcclxuXHRcdFx0ICB9IGVsc2VcclxuXHRcdFx0ICB7XHJcblx0XHRcdFx0IC8vJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLmRyb3BfYm94XCIpLmhpZGUoKTtcclxuXHRcdFx0XHQgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5kcm9wX2JveFwiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7XHJcblx0XHRcdFx0ICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0X2JveFwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTsgXHJcblx0XHRcdCAgfVxyXG5cdFx0ICBcclxuXHJcbn1cclxuJChcIi5kcm9wX2JveFwiKS5maW5kKFwibGlcIikuYmluZCgnY2xpY2snLCBkcm9wbGlfYm94MSk7XHJcblx0XHRcclxuXHRcclxuXHJcbi8v0LzQtdC90Y4g0LLRi9Cx0L7RgNCwINCz0L7RgNC+0LTQsC3QutCy0LDRgNGC0LDQu9CwINC4INC00L7QvNCwINCyINGB0LXQsdC10YHRgtC+0LjQvNC+0YHRgtC4XHRcclxuLy/QvNC10L3RjiDQstGL0LHQvtGA0LAg0LPQvtGA0L7QtNCwLdC60LLQsNGA0YLQsNC70LAg0Lgg0LTQvtC80LAg0LIg0YHQtdCx0LXRgdGC0L7QuNC80L7RgdGC0LhcclxuLy/QvNC10L3RjiDQstGL0LHQvtGA0LAg0LPQvtGA0L7QtNCwLdC60LLQsNGA0YLQsNC70LAg0Lgg0LTQvtC80LAg0LIg0YHQtdCx0LXRgdGC0L7QuNC80L7RgdGC0LhcdFxyXG5cclxuXHRcclxuXHRcclxuLyrQutC70LjQuiDQvdCwINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LXQtSDQvNC10L3RjiDQutCy0LDRgNGC0LDQuyovXHJcbiQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24gKGUpIHtcclxuICAgIHZhciBjb250YWluZXIgPSAkKFwiLnNlbGVjdFwiKTtcclxuXHR2YXIgb3Blbl9jb250X2xpc3QgPSAkKFwiLmpzLWRyb3Atc2VhcmNoXCIpO1xyXG5cdHZhciBvcGVuX2NvbnRfbGlzdDEgPSAkKFwiLmpzLW9wZW4tc2VhcmNoXCIpO1xyXG5cdC8qXHJcbiAgICBpZiAoKGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkmJighb3Blbl9jb250X2xpc3QuaXMoZS50YXJnZXQpKSYmKCFvcGVuX2NvbnRfbGlzdDEuaXMoZS50YXJnZXQpKSlcclxuXHR7XHJcbiAgICAgICAgLy/QutC70LjQuiDQstC90LUg0LHQu9C+0LrQsCDQuCDQstC60LvRjtGH0LDRjtGJ0LjRhSDQsiDQvdC10LPQviDRjdC70LXQvNC10L3RgtC+0LJcclxuXHQgICAgLy8kKFwiLmRyb3BcIikuaGlkZSgpO1xyXG5cdFx0Ly9hbGVydChcIiFcIik7XHJcblx0XHQkKFwiLmRyb3BcIikuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG5cdFx0JChcIi5zbGN0XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0JChcIi5kcm9wXCIpLnBhcmVudHMoJy5pbnB1dC1zZWFyY2gtbGlzdCcpLmZpbmQoJ2knKS5yZW1vdmVDbGFzcygnb3Blbi1zZWFyY2gtYWN0aXZlJyk7XHJcbiAgICB9XHJcblx0Ki9cclxuXHQvL2FsZXJ0KGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCk7XHJcblx0aWYgKChjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApJiYoIW9wZW5fY29udF9saXN0LmlzKGUudGFyZ2V0KSkmJighb3Blbl9jb250X2xpc3QxLmlzKGUudGFyZ2V0KSkpXHJcblx0e1xyXG4gICAgICAgIC8v0LrQu9C40Log0LLQvdC1INCx0LvQvtC60LAg0Lgg0LLQutC70Y7Rh9Cw0Y7RidC40YUg0LIg0L3QtdCz0L4g0Y3Qu9C10LzQtdC90YLQvtCyXHJcblx0ICAgIC8vJChcIi5kcm9wXCIpLmhpZGUoKTtcclxuXHRcdC8vYWxlcnQoXCIhXCIpO1xyXG5cdFx0JChcIi5kcm9wXCIpLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlWSgwKVwiKTtcclxuXHRcdCQoXCIuZHJvcC1yYWRpb1wiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7XHJcblx0XHQkKFwiLnNsY3RcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHQkKFwiLmRyb3BcIikucGFyZW50cygnLmlucHV0LXNlYXJjaC1saXN0JykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdvcGVuLXNlYXJjaC1hY3RpdmUnKTtcclxuXHRcdCQoXCIuZHJvcC1yYWRpb1wiKS5wYXJlbnRzKCcuaW5wdXQtc2VhcmNoLWxpc3QnKS5maW5kKCdpJykucmVtb3ZlQ2xhc3MoJ29wZW4tc2VhcmNoLWFjdGl2ZScpO1xyXG4gICAgfVxyXG5cdFxyXG5cdFxyXG59KTtcclxud2luZG93LnNsY3RjbGljayA9IGZ1bmN0aW9uKCkgeyBcclxuXHJcbmlmKCQodGhpcykucGFyZW50cygnLnNlbGVjdCcpLmZpbmQoJ2lucHV0JykuYXR0cigncmVhZG9ubHknKT09dW5kZWZpbmVkKSB7XHJcblxyXG5cdGlmKCQodGhpcykuaXMoXCIuYWN0aXZlXCIpKVxyXG5cdHtcclxuXHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHQvLyQodGhpcykubmV4dCgpLmhpZGUoKTtcclxuXHRcdCQodGhpcykubmV4dCgpLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlWSgwKVwiKTtcclxuXHRcdCQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUxX2luXzIwMTh4Jyk7XHJcblx0fSBlbHNlXHJcblx0e1xyXG5cdFx0JCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHRcdC8vJCh0aGlzKS5uZXh0KCkuc2hvdygpO1xyXG5cdFx0JCh0aGlzKS5uZXh0KCkuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDEpXCIpO1xyXG5cclxuXHRcdCQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLmFkZENsYXNzKCdhY3RpdmUxX2luXzIwMTh4Jyk7XHJcblx0fVxyXG5cclxuXHJcblxyXG5cclxuXHR2YXIgZWxlbXNzPSQodGhpcykuYXR0cignbGlzdF9udW1iZXInKTtcclxuLy92YXIgZWxlbXNzMT0kKHRoaXMpO1xyXG5cclxuXHQkKCcuc2xjdCcpLm5vdCh0aGlzKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSlcclxuXHR7XHJcblx0XHR2YXIgYXR0PSQodGhpcykuYXR0cignZGF0YV9zcmMnKTtcclxuXHRcdC8v0LfQsNC60YDRi9GC0Ywg0LLRgdC1INC60YDQvtC80LUg0YHQtdCx0Y9cclxuXHRcdC8vaWYoJCh0aGlzKS5ub3QoZWxlbXNzMSkpXHJcblx0XHQvL1x0e1xyXG5cclxuXHRcdC8vaWYgKCQodGhpcykuYXR0cignbGlzdF9udW1iZXInKSE9ZWxlbXNzKSB7XHJcblx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG5cdFx0Ly8kKHRoaXMpLm5leHQoKS5oaWRlKCk7XHJcblx0XHQkKHRoaXMpLm5leHQoKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7XHJcblx0XHQkKHRoaXMpLnBhcmVudHMoJy5saXN0XzIwMTgnKS5yZW1vdmVDbGFzcygnYWN0aXZlMV9pbl8yMDE4eCcpO1xyXG5cdFx0Ly99XHJcblx0fSk7XHJcblxyXG4vL9GB0LrRgNGL0LLQsNC10Lwg0LLRgdC1INGB0L/QuNGB0LrQuCDQv9C+INC/0L7QuNGB0LrRg1xyXG4kKCcuZHJvcC1zZWFyY2gnKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkgXHJcbnsgIFx0XHJcblx0ICAgICQodGhpcykucGFyZW50cygnLmlucHV0LXNlYXJjaC1saXN0JykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdvcGVuLXNlYXJjaC1hY3RpdmUnKTtcclxuXHRcdCQodGhpcykuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG5cdFxyXG59KTtcdFxyXG5cdFx0XHJcblx0IFxyXG5cdFx0ICBcclxucmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG59XHJcblxyXG4kKFwiLnNsY3RcIikuYmluZCgnY2xpY2suc3lzJywgc2xjdGNsaWNrKTtcclxuXHJcblxyXG5mdW5jdGlvbiBkcm9wbGlzKCkgeyBcclxuLy9hbGVydChcIiFcIik7XHJcbnZhciBhY3RpdmVfb2xkPSQodGhpcykucGFyZW50KCkuYXR0cihcImRhdGFfc3JjXCIpO1xyXG52YXIgYWN0aXZlX25ldz0kKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblx0XHRcclxuXHJcblx0XHRcdCAvLyB2YXIgZj0kKHRoaXMpLmZpbmQoXCJhXCIpLnRleHQoKTtcclxuXHRcdFx0IHZhciBlPSQodGhpcykuZmluZChcImFcIikuYXR0cihcInJlbFwiKTtcclxuXHRcdFx0ICBcclxuXHRpZighJCh0aGlzKS5wYXJlbnQoKS5pcyhcIi5ub19hY3RpdmVcIikpXHJcblx0XHR7XHJcblx0XHJcblx0XHJcblx0XHRcdCAgaWYoYWN0aXZlX29sZCE9YWN0aXZlX25ldylcclxuXHRcdFx0ICB7XHJcblx0XHRcdCAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCJsaVwiKS5yZW1vdmVDbGFzcyhcInNlbF9hY3RpdmVfc3NzXCIpO1xyXG5cdFx0XHQgICAgJCh0aGlzKS5hZGRDbGFzcyhcInNlbF9hY3RpdmVfc3NzXCIpO1xyXG5cdFx0XHRcdCQodGhpcykucGFyZW50KCkuYXR0cihcImRhdGFfc3JjXCIsZSk7ICBcclxuXHRcdFx0ICBcclxuXHRcdFx0XHJcblx0XHRcdCAgXHJcblx0XHRcdCAgIC8vICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLmh0bWwoZik7XHJcblx0XHRcdCAgIC8vJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLnNsY3RcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIikuZW1wdHkoKS5hcHBlbmQoZik7XHJcblx0XHRcdCAgIC8vICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0XCIpLmF0dHIoXCJkYXRhX3NyY1wiLGUpO1xyXG5cdFx0XHQgIFxyXG5cdFx0XHQgICAvLyQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5kcm9wXCIpLmhpZGUoKTtcclxuXHRcdFx0ICAgLy8kKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCIuZHJvcFwiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7XHJcblx0XHRcdCAgXHJcblx0XHRcdCAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcImlucHV0XCIpLnZhbChlKS5jaGFuZ2UoKTtcclxuXHRcdFx0ICB9IGVsc2VcclxuXHRcdFx0ICB7XHJcblx0XHRcdFx0IC8vJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLmRyb3BcIikuaGlkZSgpO1xyXG5cdFx0XHRcdCAvLyQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5kcm9wXCIpLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlWSgwKVwiKTtcclxuXHRcdFx0XHQgIFxyXG5cdFx0XHRcdCAvLyQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpOyBcclxuXHRcdFx0ICB9XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcImlucHV0XCIpLnZhbChlKS5jaGFuZ2UoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cclxufVx0XHJcblxyXG5cclxuXHRcclxuXHRcclxud2luZG93LmRyb3BsaSA9IGZ1bmN0aW9uKCkgeyBcclxuXHJcbnZhciBhY3RpdmVfb2xkPSQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0XCIpLmF0dHIoXCJkYXRhX3NyY1wiKTtcclxudmFyIGFjdGl2ZV9uZXc9JCh0aGlzKS5maW5kKFwiYVwiKS5hdHRyKFwicmVsXCIpO1xyXG5cclxuXHRcdFx0ICB2YXIgZj0kKHRoaXMpLmZpbmQoXCJhXCIpLnRleHQoKTtcclxuXHRcdFx0ICB2YXIgZT0kKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblx0XHRcdCAgXHJcblx0XHRcdCAgaWYoYWN0aXZlX29sZCE9YWN0aXZlX25ldylcclxuXHRcdFx0ICB7XHJcblx0XHRcdFx0aWYoZSE9MClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkKHRoaXMpLnBhcmVudHMoJy5sZWZ0X2Ryb3AnKS5maW5kKCdsYWJlbCcpLmFkZENsYXNzKCdhY3RpdmVfbGFiZWwnKTtcdFxyXG5cdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0e1xyXG4kKHRoaXMpLnBhcmVudHMoJy5sZWZ0X2Ryb3AnKS5maW5kKCdsYWJlbCcpLnJlbW92ZUNsYXNzKCdhY3RpdmVfbGFiZWwnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQgIFxyXG5cdFx0XHRcdCAgXHJcblx0XHRcdCAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCJsaVwiKS5yZW1vdmVDbGFzcyhcInNlbF9hY3RpdmVcIik7XHJcblx0XHRcdCAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsX2FjdGl2ZVwiKTtcclxuXHRcdFx0ICBcclxuXHRcdFx0JCh0aGlzKS5wYXJlbnRzKCcubGVmdF9kcm9wJykucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTtcclxuXHRcdFx0ICBcclxuXHRcdFx0IC8vICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLmh0bWwoZik7XHJcblx0XHRcdCAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5zbGN0XCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLmVtcHR5KCkuYXBwZW5kKGYpO1xyXG5cdFx0XHQgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCIuc2xjdFwiKS5hdHRyKFwiZGF0YV9zcmNcIixlKTtcclxuXHRcdFx0XHQgICQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLmFkZENsYXNzKCdhY3RpdmVfaW5fMjAxOHgnKTtcclxuXHJcblx0XHRcdFx0ICAvLyQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5kcm9wXCIpLmhpZGUoKTtcclxuXHRcdFx0XHQgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5kcm9wXCIpLmNzcyhcInRyYW5zZm9ybVwiLCBcInNjYWxlWSgwKVwiKTtcclxuXHRcdFx0ICBcclxuXHRcdFx0ICAgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiaW5wdXRcIikudmFsKGUpLmNoYW5nZSgpO1xyXG5cdFx0XHQgIH0gZWxzZVxyXG5cdFx0XHQgIHtcclxuXHRcdFx0XHQgLy8kKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCIuZHJvcFwiKS5oaWRlKCk7XHJcblx0XHRcdFx0ICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCIuZHJvcFwiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7XHJcblx0XHRcdFx0ICBcclxuXHRcdFx0XHQgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLnNsY3RcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7IFxyXG5cdFx0XHQgIH1cclxuXHRcdCAgXHJcblxyXG59XHJcbiQoXCIuZHJvcFwiKS5maW5kKFwibGlcIikuYmluZCgnY2xpY2snLCBkcm9wbGkpO1xyXG5cclxud2luZG93LmRyb3BsaXJhZGlvID0gZnVuY3Rpb24oKSB7IFxyXG5cclxudmFyIGFjdGl2ZV9vbGQ9JCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLnNsY3RcIikuYXR0cihcImRhdGFfc3JjXCIpO1xyXG52YXIgYWN0aXZlX25ldz0kKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblxyXG5cdFx0XHQgIHZhciBmPSQodGhpcykuZmluZChcImFcIikudGV4dCgpO1xyXG5cdFx0XHQgIHZhciBlPSQodGhpcykuZmluZChcImFcIikuYXR0cihcInJlbFwiKTtcclxuXHR2YXIgZHJvcF9vYmplY3Q9JCh0aGlzKS5wYXJlbnRzKCcuZHJvcC1yYWRpbycpO1xyXG5cdFx0XHQgIFxyXG5cdGlmICgkKHRoaXMpLmZpbmQoJ2knKS5pcyhcIi5hY3RpdmVfdGFza19jYlwiKSkgXHJcblx0XHR7XHJcblx0XHRcdCQodGhpcykuZmluZCgnaScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlX3Rhc2tfY2JcIik7XHJcblx0XHR9IGVsc2VcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCQodGhpcykuZmluZCgnaScpLmFkZENsYXNzKFwiYWN0aXZlX3Rhc2tfY2JcIik7XHJcblx0XHRcdH1cclxuXHRcclxuXHRcclxuXHQgICAgICAgICAgLy/Qv9GA0L7QsdC10LbQsNGC0YzRgdGPINC/0L4g0LLRgdC10Lkg0LLRi9Cx0YDQsNC90L3QvtC80YMg0YHQtdC70LXQutGC0YNcclxuXHQgdmFyIHNlbGVjdF9saT0nJzsgICBcclxuXHR2YXIgc2VsZWN0X2xpX3RleHQ9Jyc7IFxyXG5cdGRyb3Bfb2JqZWN0LmZpbmQoJ2xpJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHRpZiAoJCh0aGlzKS5maW5kKCdpJykuaXMoXCIuYWN0aXZlX3Rhc2tfY2JcIikpIHsgIGlmKHNlbGVjdF9saT09Jycpe3NlbGVjdF9saT0kKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgc2VsZWN0X2xpX3RleHQ9JCh0aGlzKS5maW5kKFwiYVwiKS50ZXh0KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgfSBlbHNlIHtzZWxlY3RfbGk9c2VsZWN0X2xpKycsJyskKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0X2xpX3RleHQ9c2VsZWN0X2xpX3RleHQrJywgJyskKHRoaXMpLmZpbmQoXCJhXCIpLnRleHQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9fVxyXG59KTtcclxuXHRcclxuXHRcclxuXHRpZihkcm9wX29iamVjdC5pcygnLmpzLW5vLW51bC1zZWxlY3QnKSlcclxuXHR7XHJcblx0XHQvL9C10YHRgtGMINC60LvQsNGB0YEg0LrQvtGC0L7RgNGL0Lkg0LPQvtCy0L7RgNC40YIg0YfRgtC+INC10YHQu9C4INGD0LHRgNCw0YLRjCDQs9Cw0LvQutC4INGB0L4g0LLRgdC10YUg0YLQviDQt9Cw0LPQsNGA0Y/RgtGB0Y8g0LLRgdC1INGB0YDQsNC30YNcclxuXHRcdGlmKHNlbGVjdF9saT09JycpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcdGRyb3Bfb2JqZWN0LmZpbmQoJ2xpJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHQgIGlmKHNlbGVjdF9saT09Jycpe3NlbGVjdF9saT0kKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgc2VsZWN0X2xpX3RleHQ9JCh0aGlzKS5maW5kKFwiYVwiKS50ZXh0KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgfSBlbHNlIHtzZWxlY3RfbGk9c2VsZWN0X2xpKycsJyskKHRoaXMpLmZpbmQoXCJhXCIpLmF0dHIoXCJyZWxcIik7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0X2xpX3RleHQ9c2VsZWN0X2xpX3RleHQrJywgJyskKHRoaXMpLmZpbmQoXCJhXCIpLnRleHQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcbn0pO1xyXG5cdFx0XHRcdGRyb3Bfb2JqZWN0LmZpbmQoJ2knKS5hZGRDbGFzcyhcImFjdGl2ZV90YXNrX2NiXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcclxuXHRcdFxyXG5cdH1cclxuXHRcclxuXHQvKlxyXG5cdFx0XHRcdGlmKGUhPTApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnRzKCcubGVmdF9kcm9wJykuZmluZCgnbGFiZWwnKS5hZGRDbGFzcygnYWN0aXZlX2xhYmVsJyk7XHRcclxuXHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdHtcclxuJCh0aGlzKS5wYXJlbnRzKCcubGVmdF9kcm9wJykuZmluZCgnbGFiZWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlX2xhYmVsJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0Ki9cdFx0XHQgIFxyXG5cdFx0XHRcdCAgLypcclxuXHRcdFx0ICAgICQodGhpcykucGFyZW50KCkuZmluZChcImxpXCIpLnJlbW92ZUNsYXNzKFwic2VsX2FjdGl2ZVwiKTtcclxuXHRcdFx0ICAgICQodGhpcykuYWRkQ2xhc3MoXCJzZWxfYWN0aXZlXCIpO1xyXG5cdFx0XHQgICovXHJcblx0XHRcdFxyXG5cdFx0XHQgIFxyXG5cdFx0XHQgLy8gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLnNsY3RcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIikuaHRtbChmKTtcclxuXHRcdFx0ICAgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLnNsY3RcIikuZW1wdHkoKS5hcHBlbmQoc2VsZWN0X2xpX3RleHQpO1xyXG5cdFx0XHQgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCIuc2xjdFwiKS5hdHRyKFwiZGF0YV9zcmNcIixzZWxlY3RfbGkpO1xyXG5cdFx0XHQgIFxyXG5cdFx0XHQgICAvLyQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZChcIi5kcm9wXCIpLmhpZGUoKTtcclxuXHRcdFx0XHQgLy8gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLmRyb3BcIikuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG5cdFx0XHQgIFxyXG5cdFx0XHQgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCJpbnB1dFwiKS52YWwoc2VsZWN0X2xpKS5jaGFuZ2UoKTtcclxuXHRcdFx0ICBcclxuXHRcdCAgXHJcblxyXG59XHRcclxuXHRcclxuJChcIi5kcm9wLXJhZGlvXCIpLmZpbmQoXCJsaVwiKS5iaW5kKCdjbGljaycsIGRyb3BsaXJhZGlvKTtcclxuXHJcblx0XHJcbi8vJCgnI3NhdmUnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2VzYXZlKTtcdFxyXG5cclxuXHRmdW5jdGlvbiB1cGxvYWRSUl9vbGQoZmlsZSxpZCkge1xyXG5cclxuXHRcdHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcblx0XHQvLyDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC80L7QttC90L4g0L7QsdGK0LXQtNC40L3QuNGC0Ywg0LIg0L7QtNC40L0sXHJcblx0XHQvLyDQtdGB0LvQuCBzdGF0dXMgPT0gMjAwLCDRgtC+INGN0YLQviDRg9GB0L/QtdGFLCDQuNC90LDRh9C1INC+0YjQuNCx0LrQsFxyXG5cdFx0eGhyLm9ubG9hZCA9IHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGFsZXJ0KHRoaXMuc3RhdHVzKTtcclxuXHRcdFx0aWYgKHRoaXMuc3RhdHVzID09IDIwMCkge1xyXG5cclxuXHRcdFx0XHQkKCdbaWRfdXBsb2FkPScraWQrJ10nKS5zaG93KCk7IC8v0LrQvdC+0L/QutCwXHJcblx0XHRcdFx0JCgnLnNjYXBfbG9hZF8nK2lkKS5maW5kKCcuc2NhcF9sb2FkX18nKS53aWR0aCgwKTtcclxuXHRcdFx0XHQkKCcuc2NhcF9sb2FkXycraWQpLmhpZGUoKTtcclxuXHRcdFx0XHQkKCcuc2NhcF9sb2FkXycraWQpLmFmdGVyKCk7XHJcblx0XHRcdFx0Ly9VcGRhdGVJbWFnZVJlcG9ydHMoaWQpO1xyXG5cdFx0XHRcdGFsZXJ0X21lc3NhZ2UoJ29rJywn0LLQsNGIINC/0YDQvtGE0LjQu9GMINC+0LHQvdC+0LLQu9C10L0nKTtcclxuXHRcdFx0XHRhdXRvUmVsb2FkSGFrKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdCQoJ1tpZF91cGxvYWQ9JytpZCsnXScpLnNob3coKTtcclxuXHRcdFx0XHQkKCcuc2NhcF9sb2FkXycraWQpLmZpbmQoJy5zY2FwX2xvYWRfXycpLndpZHRoKDApO1xyXG5cdFx0XHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00LvRjyDQt9Cw0LrQsNGH0LrQuFxyXG5cdFx0eGhyLnVwbG9hZC5vbnByb2dyZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0JCgnW2lkX3VwbG9hZD0nK2lkKyddJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcuc2NhcF9sb2FkXycraWQpLnNob3coKTtcclxuXHRcdFx0dmFyIHdpZHRocz1NYXRoLnJvdW5kKChldmVudC5sb2FkZWQqMTAwKS9ldmVudC50b3RhbCk7XHJcblx0XHRcdCQoJy5zY2FwX2xvYWRfJytpZCkuZmluZCgnLnNjYXBfbG9hZF9fJykud2lkdGgod2lkdGhzKyclJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0eGhyLm9wZW4oXCJQT1NUXCIsIFwidXNlcnMvdXBsb2FkLnBocFwiLCB0cnVlKTtcclxuXHRcdC8veGhyLnNlbmQoZmlsZSk7XHJcblxyXG5cdFx0dmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblx0XHRmb3JtRGF0YS5hcHBlbmQoXCJ0aGVmaWxlXCIsIGZpbGUpO1xyXG5cdFx0Zm9ybURhdGEuYXBwZW5kKFwiaWRcIixpZCk7XHJcblx0XHR4aHIuc2VuZChmb3JtRGF0YSk7XHJcblxyXG5cdH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8q0LrQu9C40Log0L3QsCDRgNCw0YHQutGA0YvQstCw0Y7RidC10LUg0LzQtdC90Y4g0YHQvtGA0YLQuNGA0L7QstC60LAg0YHQvdCw0LHQttC10L3QuNC1Ki9cclxuXHJcblxyXG5cclxuLyrQutC70LjQuiDQvdCwINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LXQtSDQvNC10L3RjiDRgdC+0YDRgtC40YDQvtCy0LrQsCDRgdC90LDQsdC20LXQvdC40LUqL1xyXG52YXIgY2hhbmdlc29ydDIgPSBmdW5jdGlvbigpIHsgIFxyXG4kLmNvb2tpZShcInN1XzJcIiwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3VfMlwiLCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5pZigkKHRoaXMpLnZhbCgpPT0yKVxyXG57XHJcblx0Ly/QvtGC0LrRgNGL0LLQsNC10Lwg0L7QutC90L4g0YEg0LrQsNC70LXQvdC00LDRgNC10LxcclxuXHQvKlxyXG5cdCQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9jYWxlbmRhci5waHAnLFxyXG4gICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgfSxcclxuICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgIH0sXHJcblx0YWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcblx0Y2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcbiAgKi9cclxuXHQkKFwiI2RhdGVfdGFibGVcIikuc2hvdygpOyBcclxuXHQvLyQoXCIjZGF0ZV90YWJsZVwiKS5mb2N1cygpO1xyXG5cdC8vYWxlcnQoXCIhXCIpO1xyXG5cdC8vJCgnLmJvb2tpbmdCb3hfcmFuZ2UnKS5zaG93KCk7XHJcbn1cclxuXHJcbn07XHJcbiQoJyNzb3J0MicpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQyKTtcdFxyXG5cdFxyXG5cdFxyXG4vLyQoJ1tsaXN0X251bWJlcj10Ml0nKS5uZXh0KCkuZmluZCgnbGknKS5iaW5kKCdjbGljaycsIGxpc3RfbnVtYmVyKTtcclxuXHJcblxyXG5cclxudmFyIGNoYW5nZXNvcnQxID0gZnVuY3Rpb24oKSB7IFxyXG5cdC8vYWxlcnQoXCIxXCIpO1xyXG4kLmNvb2tpZShcInN1XzFcIiwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3VfMVwiLCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1x0XHJcblxyXG59O1xyXG4kKCcjc29ydDEnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0MSk7XHRcclxuXHJcblxyXG5cdFxyXG52YXIgY2hhbmdlc29ydF9zdG9jazMgPSBmdW5jdGlvbigpIHsgIFxyXG4kLmNvb2tpZShcInN1X3N0XzNcIiwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3Vfc3RfM1wiLCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG4kKCcuc2hvd19zb3J0X3N0b2NrJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9zdXBwbHknKTtcclxuJCgnLnNob3dfc29ydF9zdG9jaycpLmFkZENsYXNzKCdhY3RpdmVfc3VwcGx5Jyk7XHRcclxuXHJcbn07XHJcbiQoJyNzb3J0X3N0b2NrMycpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnRfc3RvY2szKTtcdFx0XHJcblx0XHJcblxyXG52YXIgY2hhbmdlc29ydF9zdG9jazEgPSBmdW5jdGlvbigpIHsgIFxyXG4kLmNvb2tpZShcInN1X3N0XzFcIiwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3Vfc3RfMVwiLCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG4kKCcuc2hvd19zb3J0X3N0b2NrJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9zdXBwbHknKTtcclxuJCgnLnNob3dfc29ydF9zdG9jaycpLmFkZENsYXNzKCdhY3RpdmVfc3VwcGx5Jyk7XHRcclxuXHJcbn07XHJcbiQoJyNzb3J0X3N0b2NrMScpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnRfc3RvY2sxKTtcdFxyXG5cdFxyXG52YXIgY2hhbmdlc29ydF9zdG9jazJfXz0gZnVuY3Rpb24oKSB7ICBcclxuXHR2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cdCQodGhpcykucHJldigpLnZhbCgnJyk7XHJcbiAgICAkLmNvb2tpZShcInN1XzdjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuXHQkKCcuanMtLXNvcnQnKS5yZW1vdmVDbGFzcygnZ3JlZWlfaW5wdXQnKTtcclxuXHQkKCcuanMtLXNvcnQnKS5maW5kKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ3JlYWRvbmx5Jyk7XHJcblx0XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblx0XHJcblx0JCh0aGlzKS5oaWRlKCk7XHRcclxufVxyXG5cclxudmFyIGNoYW5nZXNvcnRfc3RvY2syX19vPSBmdW5jdGlvbigpIHsgIFxyXG5cdHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblx0JCh0aGlzKS5wcmV2KCkudmFsKCcnKTtcclxuICAgICQuY29va2llKFwic3VfN2NvXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuXHQkKCcuanMtLXNvcnQnKS5yZW1vdmVDbGFzcygnZ3JlZWlfaW5wdXQnKTtcclxuXHQkKCcuanMtLXNvcnQnKS5maW5kKCdpbnB1dCcpLnJlbW92ZUF0dHIoJ3JlYWRvbmx5Jyk7XHJcblx0XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblx0XHJcblx0JCh0aGlzKS5oaWRlKCk7XHRcclxufVxyXG5cdFxyXG5cdFxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblx0XHJcblxyXG5cclxuXHRcclxudmFyIGNoYW5nZXNvcnQzID0gZnVuY3Rpb24oKSB7ICBcclxuJC5jb29raWUoXCJzdV8zXCIsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuQ29va2llTGlzdChcInN1XzNcIiwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuJCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcdFxyXG5cclxufTtcclxuJCgnI3NvcnQzJykuYmluZCgnY2hhbmdlJywgY2hhbmdlc29ydDMpO1x0XHJcblx0XHJcblx0XHJcbnZhciBjaGFuZ2Vzb3J0NCA9IGZ1bmN0aW9uKCkgeyAgXHJcbiQuY29va2llKFwic3VfNFwiLCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7IFx0XHJcbkNvb2tpZUxpc3QoXCJzdV80XCIsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHRcclxuXHJcbn07XHJcbiQoJyNzb3J0NCcpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQ0KTtcdFxyXG5cdFxyXG52YXIgY2hhbmdlc29ydDUgPSBmdW5jdGlvbigpIHsgIFxyXG4kLmNvb2tpZShcInN1XzVcIiwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3VfNVwiLCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxufTtcclxuJCgnI3NvcnQ1JykuYmluZCgnY2hhbmdlJywgY2hhbmdlc29ydDUpO1x0XHJcblx0XHJcblx0XHJcbnZhciBjaGFuZ2Vzb3J0NiA9IGZ1bmN0aW9uKCkgeyAgXHJcbiQuY29va2llKFwic3VfNlwiLCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7IFx0XHJcbkNvb2tpZUxpc3QoXCJzdV82XCIsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHRcclxuXHJcbn07XHJcbiQoJyNzb3J0NicpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQ2KTtcdFxyXG5cclxuXHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHRcdFxyXG5cclxuXHJcblxyXG5cclxuXHJcbiQoJyNzb3J0MmMnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0MmMpO1x0XHRcclxuXHJcbnZhciBjaGFuZ2Vzb3J0M2MgPSBmdW5jdGlvbigpIHtcclxudmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcdFxyXG4kLmNvb2tpZShcInN1XzNjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuQ29va2llTGlzdChcInN1XzNjXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHRcclxuXHJcbn07XHJcbiQoJyNzb3J0M2MnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0M2MpO1x0XHJcblx0XHJcblx0XHJcbnZhciBjaGFuZ2Vzb3J0NGMgPSBmdW5jdGlvbigpIHsgIFxyXG52YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1x0XHJcbiQuY29va2llKFwic3VfNGNcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3VfNGNcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuJCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcdFxyXG5cclxufTtcclxuJCgnI3NvcnQ0YycpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQ0Yyk7XHRcclxuXHRcclxuXHJcbiQoJyNzb3J0NWMnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0NWMpO1x0XHRcclxuXHJcblxyXG5cdHZhciBjaGFuZ2Vzb3J0N2N0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cdFx0JC5jb29raWUoXCJzdV83Y3VcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pO1xyXG5cdFx0Q29va2llTGlzdChcInN1XzdjdVwiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cclxuXHRcdCQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblx0XHQkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuXHR9O1xyXG5cclxuXHJcbiQoJyNuYW1lX3N0b2NrX3NlYXJjaF90b3VycycpLmJpbmQoJ2NoYW5nZSBrZXl1cCBpbnB1dCBjbGljaycsIGNoYW5nZXNvcnQ3Y3QpO1xyXG5cclxuXHRcclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcdFx0XHJcblx0XHJcblxyXG5cclxuXHJcblxyXG5cclxudmFyIGNoYW5nZXNvcnQxY28gPSBmdW5jdGlvbigpIHtcclxudmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcdFxyXG5cdFxyXG4kLmNvb2tpZShcInN1XzFjb1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7IFx0XHJcbkNvb2tpZUxpc3QoXCJzdV8xY29cIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuJCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcdFx0XHJcblxyXG59O1xyXG4kKCcjc29ydDFjbycpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQxY28pO1x0XHRcclxuXHJcblxyXG52YXIgY2hhbmdlc29ydDVjbyA9IGZ1bmN0aW9uKCkgeyAgXHJcbnZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHRcclxuJC5jb29raWUoXCJzdV81Y29cIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3VfNWNvXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHRcclxufTtcclxuJCgnI3NvcnQ1Y28nKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0NWNvKTtcdFx0XHJcblx0XHRcclxudmFyIGNoYW5nZXNvcnQ3Y28gPSBmdW5jdGlvbigpIHsgIFxyXG52YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1x0XHJcbiQuY29va2llKFwic3VfN2NvXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuQ29va2llTGlzdChcInN1Xzdjb1wiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cdFxyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1x0XHJcblx0XHJcbn07XHRcclxuJCgnI25hbWVfc3RvY2tfc2VhcmNobycpLmJpbmQoJ2NoYW5nZSBrZXl1cCBpbnB1dCBjbGljaycsIGNoYW5nZXNvcnQ3Y28pO1x0XHJcblx0XHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblx0dmFyIGNoYW5nZXNvcnQ1dHUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblxyXG5cdFx0JC5jb29raWUoXCJzdV81dHVcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pO1xyXG5cdFx0Q29va2llTGlzdChcInN1XzV0dVwiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cclxuXHRcdCQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblx0XHQkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cdH07XHJcblx0JCgnI3NvcnQ1dHUnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0NXR1KTtcclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHQvLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cdHZhciBjaGFuZ2Vzb3J0NHR1ID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cclxuXHRcdCQuY29va2llKFwic3VfNHR1XCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRcdENvb2tpZUxpc3QoXCJzdV80dHVcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuXHJcblx0XHQkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG5cdFx0JCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcclxuXHR9O1xyXG5cdCQoJyNzb3J0NHR1JykuYmluZCgnY2hhbmdlJywgY2hhbmdlc29ydDR0dSk7XHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblx0dmFyIGNoYW5nZXNvcnQzdHUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblxyXG5cdFx0JC5jb29raWUoXCJzdV8zdHVcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pO1xyXG5cdFx0Q29va2llTGlzdChcInN1XzN0dVwiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cclxuXHRcdCQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblx0XHQkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cdH07XHJcblx0JCgnI3NvcnQzdHUnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0M3R1KTtcclxuLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcdFxyXG5cdHZhciBjaGFuZ2Vzb3J0MnR1ID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cclxuXHRcdCQuY29va2llKFwic3VfMnR1XCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRcdENvb2tpZUxpc3QoXCJzdV8ydHVcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuXHJcblx0XHQkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG5cdFx0JCgnLmpzLXJlbG9hZC10b3AnKS5hZGRDbGFzcygnYWN0aXZlLXInKTtcclxuXHR9O1xyXG5cdCQoJyNzb3J0MnR1JykuYmluZCgnY2hhbmdlJywgY2hhbmdlc29ydDJ0dSk7XHJcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblx0dmFyIGNoYW5nZXNvcnQxdHUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblxyXG5cdFx0JC5jb29raWUoXCJzdV8xdHVcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pO1xyXG5cdFx0Q29va2llTGlzdChcInN1XzF0dVwiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cclxuXHRcdCQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblx0XHQkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cdH07XHJcblx0JCgnI3NvcnQxdHUnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0MXR1KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG52YXIgY2hhbmdlc29ydDJ0YSA9IGZ1bmN0aW9uKCkgeyAgXHJcbnZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblx0XHJcbiQuY29va2llKFwic3VfMnRhXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuQ29va2llTGlzdChcInN1XzJ0YVwiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cdFxyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1x0XHRcclxufTtcclxuJCgnI3NvcnQydGEnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0MnRhKTtcdFx0XHJcblxyXG5cdFxyXG52YXIgY2hhbmdlc29ydDF0YSA9IGZ1bmN0aW9uKCkgeyAgXHJcbnZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblx0XHJcbiQuY29va2llKFwic3VfMXRhXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuQ29va2llTGlzdChcInN1XzF0YVwiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cdFxyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1x0XHRcclxufTtcclxuJCgnI3NvcnQxdGEnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0MXRhKTtcdFxyXG5cclxuXHJcbnZhciBjaGFuZ2Vzb3J0NHRhID0gZnVuY3Rpb24oKSB7ICBcclxudmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHRcclxuJC5jb29raWUoXCJzdV80dGFcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3VfNHRhXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcblx0XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHRcdFxyXG59O1xyXG4kKCcjc29ydDR0YScpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQ0dGEpO1x0XHJcblx0XHJcbnZhciBjaGFuZ2Vzb3J0M3RhID0gZnVuY3Rpb24oKSB7ICBcclxudmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHRcclxuJC5jb29raWUoXCJzdV8zdGFcIitpdSwgbnVsbCwge3BhdGg6Jy8nLGRvbWFpbjogd2luZG93LmlzX3Nlc3Npb24sc2VjdXJlOiBmYWxzZX0pOyBcdFxyXG5Db29raWVMaXN0KFwic3VfM3RhXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcblx0XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHRcdFxyXG59O1xyXG4kKCcjc29ydDN0YScpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQzdGEpO1xyXG5cdFxyXG5cdFxyXG52YXIgY2hhbmdlc29ydDV0YSA9IGZ1bmN0aW9uKCkgeyAgXHJcbnZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcblx0XHJcbiQuY29va2llKFwic3VfNXRhXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuQ29va2llTGlzdChcInN1XzV0YVwiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cdFxyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1x0XHRcclxufTtcclxuJCgnI3NvcnQ1dGEnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0NXRhKTtcdFxyXG5cdFxyXG52YXIgY2hhbmdlc29ydDJzID0gZnVuY3Rpb24oKSB7ICBcclxudmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHRcclxuJC5jb29raWUoXCJzdV8yc1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7IFx0XHJcbkNvb2tpZUxpc3QoXCJzdV8yc1wiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cdFxyXG4kKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4kKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1x0XHRcclxufTtcclxuJCgnI3NvcnQycycpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQycyk7XHJcblxyXG5cclxuXHJcblx0dmFyIGNoYW5nZXNvcnQyZiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHJcblx0XHQkLmNvb2tpZShcInN1XzJmXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRcdENvb2tpZUxpc3QoXCJzdV8yZlwiK2l1LCQodGhpcykudmFsKCksJ2FkZCcpO1xyXG5cclxuXHRcdCQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblx0XHQkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cdH07XHJcblx0JCgnI3NvcnQyZicpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQyZik7XHJcblxyXG5cclxuXHR2YXIgY2hhbmdlc29ydDVzID0gZnVuY3Rpb24oKSB7XHJcblxyXG52YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cdFxyXG4kLmNvb2tpZShcInN1XzVzXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTsgXHRcclxuQ29va2llTGlzdChcInN1XzVzXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbiQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHRcclxuXHJcbn07XHJcbiQoJyNzb3J0NXMnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0NXMpO1x0XHRcclxuXHJcblx0XHJcblx0XHJcblxyXG5cclxufSk7XHJcbiBcclxuXHJcblxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0L7RgtC/0YDQsNCy0LrQuCDRgdC+0L7QsdGJ0LXQvdC40Y9cclxuZnVuY3Rpb24gQWZ0ZXJTZW5kTU0oZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH1cclxuXHRcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuXHRcdC8v0LTQvtCx0LDQstC70Y/QtdC8INGB0L7QvtCx0YnQtdC90LjQtSDQsiDQv9Cw0L3QtdC70YxcclxuXHRcdGlmKCQoJy5zZWdvX21lc3MnKS5sZW5ndGg9PTApXHJcblx0XHR7XHJcblx0XHRcdCQoJy5wYWRkaW5nX21lc3MnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJkaWFsb2dfY2xlYXJcIj48L2Rpdj48ZGl2IGNsYXNzPVwibWVzc2FnZV9kYXRlXCI+PGRpdj48c3BhbiBjbGFzcz1cInNlZ29fbWVzc1wiPtGB0LXQs9C+0LTQvdGPPC9zcGFuPjwvZGl2PjwvZGl2PicpO1x0XHJcblx0XHR9XHJcblx0XHQkKCcucGFkZGluZ19tZXNzJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZGlhbG9nX2NsZWFyXCI+PC9kaXY+JytkYXRhLmVjaG8pO1xyXG5cdFx0c2Nyb2xsX3RvX2JvdHRvbSgyMDAwKTtcclxuXHRcdCQoJyNvdHppdl9hcmVhJykudmFsKCcnKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZXNvcnQyYygpIHtcclxuXHR2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cclxuXHQkLmNvb2tpZShcInN1XzJjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRDb29raWVMaXN0KFwic3VfMmNcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuXHQkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG5cdCQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2Vzb3J0NWMoKSB7XHJcblx0dmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHQkLmNvb2tpZShcInN1XzVjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuXHRDb29raWVMaXN0KFwic3VfNWNcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuXHQkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG5cdCQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcbn1cclxuXHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDQtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INC60LvQuNC10L3RgtCwINCyINGE0L7RgNC80LUg0LTQvtCx0LDQstC70LXQvdC40LUg0YLRg9GA0LBcclxuZnVuY3Rpb24gQWZ0ZXJDYXJkQ2xpZW50KGQsdSlcclxue1xyXG5cdGlmICggZC5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fVx0XHJcblx0aWYgKCBkLnN0YXR1cz09J29rJyApXHJcbiAgICB7XHJcblx0XHRpZih1PT0xKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Ly/QtNC+0LHQsNCy0LvQtdC90LjQtSDQv9C+0LrRg9C/0LDRgtC10LvRj1xyXG5cdFx0XHRcdC8v0L/QvtC60YPQv9Cw0YLQtdC70YxcclxuXHRcdFx0XHQkKCcuanMtYnV5LXR1cnMtY2xpZW50JykucGFyZW50cygnLmJsb2NrLWFkZC10b3VycycpLmZpbmQoJy5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHRcdFx0XHQkKCcuanMtYnV5LXR1cnMtY2xpZW50JykucGFyZW50cygnLmJsb2NrLWFkZC10b3VycycpLmFwcGVuZChkLmVjaG8pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdCQoJy50b3RfYnV5X2lkJykudmFsKGQuaWRfdGFicyk7XHJcblx0XHRcdFx0JCgnLnRvdF9idXlfdHlwZScpLnZhbChkLnRhYnMpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmKGQudGFicz09MSlcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Ly/QtdGB0LvQuCDQtNC+0LHQsNCy0Y/QtdC8INGH0LDRgdGC0L3QvtC1INC70LjRhtC+INC60LDQuiDQv9C+0LrRg9C/0LDRgtC10LvRj1xyXG5cdFx0XHRcdHZhciBmbHlfbGlzdF9uZXc9QWRkRGVsbExpc3QoJCgnLnRvdF9mbHlfaWQnKS52YWwoKSxkLmlkX3RhYnMsJ2FkZCcpO1xyXG5cdFx0XHRcdGlmKGZseV9saXN0X25ldyE9MClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHQkKCcudG90X2ZseV9pZCcpLnZhbChmbHlfbGlzdF9uZXcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8v0LLQtNGA0YPQsyDQv9C+0LrRg9C/0LDRgtC10LvRjCDQutC+0YLQvtGA0L7Qs9C+INC80Ysg0LTQvtCx0LDQstC70Y/QtdC8INGD0LbQtSDQtdGB0YLRjCDQsiDRgtGD0YDQuNGB0YLQsNGFXHJcblx0XHRcdFx0XHQvL9GC0L7Qs9C00LBcclxuXHRcdFx0XHRcdFx0Ly/QvdC1INC/0YDQuNCx0LDQstC70Y/QtdC8INC+0LHRidC10LUg0LrQvtC70LjRh9C10YHRgtCy0L4g0YLRg9GA0LjRgdGC0L7QslxyXG5cdFx0XHRcdFx0XHQvL9GD0LTQsNC70Y/QtdC8INC10LPQviDQuNC3INGC0YPRgNC40YHRgtC+0LIg0YLQsNC6INC60LDQuiDQvtC9INGC0LXQv9C10YDRjCDQsdGD0LTQtdGCINCyINC/0L7QutGD0L/QsNGC0LXQu9GP0YVcclxuXHRcdFx0XHRcdGlmKCQoJy5qcy1mbHktbXktdG91cnMnKS5maW5kKCcuaW5mby1jbGllbnQtcnVsZXJbaWRfcnVsZXM9JytkLmlkX3RhYnMrJ10nKS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdCQoJy5qcy1mbHktbXktdG91cnMnKS5maW5kKCcuaW5mby1jbGllbnQtcnVsZXJbaWRfcnVsZXM9JytkLmlkX3RhYnMrJ10nKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0ICB2YXIgY291bnRfdHVyaT1wYXJzZUZsb2F0KCQoJy50b3RfZmx5X2NvdW50JykudmFsKCkpO1x0XHRcclxuXHRcdFx0ICAgICQoJy50b3RfZmx5X2NvdW50JykudmFsKGNvdW50X3R1cmkrMSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFVwZGF0ZU51bWJlclR1cmlzKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly/Qv9C+0LrQsNC30LDRgtGMINCx0LvQvtC6INGC0YPRgNC40YHRgtC+0LIg0Y3RgtC+0LPQviDRgtGD0YDQsFxyXG5cdFx0XHRcdCQoJy5qcy1mbHktbXktdG91cnMnKS5zaG93KCk7XHJcblx0XHRcdFx0Ly/QtNC+0LHQsNCy0LvRj9C10Lwg0LIg0L3QtdCz0L4g0Y3RgtC+0LPQviDQttC1INC/0L7QutGD0L/QsNGC0LXQu9GPINC60LDQuiDRgtGD0YDQuNGB0YLQsFxyXG5cdFx0XHRcdC8vJCgnLmpzLWZseS1teS10b3VycycpLmZpbmQoJy5idXlfdHVycycpLmJlZm9yZShkLmVjaG8xKTtcclxuXHRcdFx0fVxyXG5cdFx0aWYodT09MilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdC8v0LTQvtCx0LDQstC70LXQvdC40LUg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90L7Qs9C+INGC0YPRgNC40YHRgtCwIC8g0YLRg9GA0LjRgdGC0L7QslxyXG5cdFx0XHRcclxuXHRcdFx0XHQkKCcuanMtZmx5LXR1cnMtY2xpZW50JykucGFyZW50cygnLmJsb2NrLWFkZC10b3VycycpLmZpbmQoJy5iX2xvYWRpbmdfc21hbGwnKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvL9C/0L7QutCw0LfQsNGC0Ywg0LrQvdC+0L/QutGDINC00L7QsdCw0LLQuNGC0Ywg0LXRidC1XHJcblx0XHRcdFx0JCgnLmpzLWZseS10dXJzLWNsaWVudCcpLnBhcmVudHMoJy5idXlfdHVycycpLnNob3coKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvL9C+0L/RgNC10LTQtdC70LjRgtGMINC90L7QvNC10YDQsCDQvdC+0LLRi9GFINGC0YPRgNC40YHRgtC+0LJcclxuXHRcdFx0XHQvL1VwZGF0ZU51bWJlclR1cmlzKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly/QtNC+0LHQsNCy0LjRgtGMINCyIGhpZGRlbiDQvdC+0LLRi9C1INC00LDQvdC90YvQtSDQv9C+INC00L7QsdCw0LLQu9C10L3QvdGL0Lwg0YLRg9GA0LjRgdGC0LDQvFxyXG5cdFx0XHRcdC8v0LjRhSDQvNC+0LbQtdGCINCx0YvRgtGMINGB0YDQsNC30YMg0L3QtdGB0LrQvtC70YzQutC+XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dmFyIGNjID0gZC5pZF90YWJzLnNwbGl0KCcsJyk7XHJcblx0ICAgICAgICAgICAgXHJcblx0XHRcdFx0aWYoY2MubGVuZ3RoPT0xKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgZmx5X2xpc3RfbmV3PUFkZERlbGxMaXN0KCQoJy50b3RfZmx5X2lkJykudmFsKCksZC5pZF90YWJzLCdhZGQnKTtcclxuXHRcdFx0XHRpZihmbHlfbGlzdF9uZXchPTApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0JCgnLnRvdF9mbHlfaWQnKS52YWwoZmx5X2xpc3RfbmV3KTtcclxuXHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIHZhciBjb3VudF90dXJpPXBhcnNlRmxvYXQoJCgnLnRvdF9mbHlfY291bnQnKS52YWwoKSk7XHRcdFxyXG5cdFx0XHQgICAgJCgnLnRvdF9mbHlfY291bnQnKS52YWwoY291bnRfdHVyaSsxKTtcdFxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvL9C/0L7RgdC80L7RgtGA0LXRgtGMINCy0LTRgNGD0LMg0L7QvSDQv9C+0LrRg9C/0LDRgtC10LvRjCDRgtC+0LPQtNCwINC/0YDQvtGB0YLQviDRg9Cx0LXRgNC10Lwg0LPQsNC70LrRg1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYoJCgnLmpzLWJ1eS1teS10b3VycycpLmZpbmQoJ1tpZF9ydWxlcz0nK2QuaWRfdGFicysnXScpLmxlbmd0aD4wKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHR2YXIgbmV3X3Nsb2phPSQoJy5qcy1idXktbXktdG91cnMnKS5maW5kKCdbaWRfcnVsZXM9JytkLmlkX3RhYnMrJ10nKTtcclxuXHRcdFx0XHRcdCAgIGlmKG5ld19zbG9qYS5pcygnW3R5cGVfY289MV0nKSkge1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQgbmV3X3Nsb2phLmZpbmQoJy5jaG9pY2UtcmFkaW8gaScpLnJlbW92ZUNsYXNzKCdhY3RpdmVfdGFza19jYicpO1xyXG5cdFx0XHRcdFx0XHQgbmV3X3Nsb2phLmZpbmQoJy5qcy1sb2xpLWJ1dHQnKS5yZW1vdmVDbGFzcygnYWN0aXZlX3Bhc3MnKTsgXHJcblx0XHRcdFx0XHRcdCBuZXdfc2xvamEuZmluZCgnLmxvbGlfdHVycyBpbnB1dCcpLnZhbCgwKTtcclxuXHRcdFx0XHRcdFx0IG5ld19zbG9qYS5hZGRDbGFzcygnYWN0aXZlLXR1cmlzdC10dXJzJyk7XHJcblx0XHRcdFx0XHQgICAgIFVwZGF0ZU51bWJlclR1cmlzKCk7XHQgIFx0XHRcdFx0XHRcdCBcdFx0XHRcdFx0XHQgICAgICBcclxuXHRcdFx0XHRcdFx0ICAgXHJcblx0XHRcdFx0XHQgICB9IGVsc2VcclxuXHRcdFx0XHRcdFx0ICAge1xyXG5cdFx0XHRcdFx0XHRcdCAgIFxyXG5cdFx0XHRcdFx0XHRcdCAgIFxyXG5cdFx0XHRcdFx0XHRcdCAgICQoJy5qcy1mbHktdHVycy1jbGllbnQnKS5wYXJlbnRzKCcuYnV5X3R1cnMnKS5iZWZvcmUoZC5lY2hvMSk7XHJcblx0XHRcdFx0XHRcdFx0ICAgVXBkYXRlTnVtYmVyVHVyaXMoKTtcclxuXHRcdFx0XHRcdFx0ICAgfVxyXG5cdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdCAgIHtcclxuXHRcdFx0XHRcdFx0XHQgICBcclxuXHRcdFx0XHRcdFx0XHQgICBcclxuXHRcdFx0XHRcdFx0XHQgICAkKCcuanMtZmx5LXR1cnMtY2xpZW50JykucGFyZW50cygnLmJ1eV90dXJzJykuYmVmb3JlKGQuZWNobzEpO1xyXG5cdFx0XHRcdFx0XHRcdCAgIFVwZGF0ZU51bWJlclR1cmlzKCk7XHJcblx0XHRcdFx0XHRcdCAgIH1cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZhciBjY19wcHBlID0gZC5lY2hvMS5zcGxpdCgnLzIvJyk7XHRcdFxyXG5cdFx0XHRcdFx0XHRcclxuXHQgICAgICAgICAgICBmb3IgKCB2YXIgdCA9IDA7IHQgPCBjYy5sZW5ndGg7IHQrKyApIFxyXG5cdCAgICAgICAgICAgIHsgXHJcblx0XHRcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIGZseV9saXN0X25ldz1BZGREZWxsTGlzdCgkKCcudG90X2ZseV9pZCcpLnZhbCgpLGNjW3RdLCdhZGQnKTtcclxuXHRcdFx0XHRpZihmbHlfbGlzdF9uZXchPTApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0JCgnLnRvdF9mbHlfaWQnKS52YWwoZmx5X2xpc3RfbmV3KTtcclxuXHRcdFx0XHRcclxuICAgICAgICAgICAgICAgIHZhciBjb3VudF90dXJpPXBhcnNlRmxvYXQoJCgnLnRvdF9mbHlfY291bnQnKS52YWwoKSk7XHRcdFxyXG5cdFx0XHQgICAgJCgnLnRvdF9mbHlfY291bnQnKS52YWwoY291bnRfdHVyaSsxKTtcdFxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZigkKCcuanMtYnV5LW15LXRvdXJzJykuZmluZCgnW2lkX3J1bGVzPScrY2NbdF0rJ10nKS5sZW5ndGg+MClcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHZhciBuZXdfc2xvamE9JCgnLmpzLWJ1eS1teS10b3VycycpLmZpbmQoJ1tpZF9ydWxlcz0nK2NjW3RdKyddJyk7XHJcblx0XHRcdFx0XHQgICBpZihuZXdfc2xvamEuaXMoJ1t0eXBlX2NvPTFdJykpIHtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0IG5ld19zbG9qYS5maW5kKCcuY2hvaWNlLXJhZGlvIGknKS5yZW1vdmVDbGFzcygnYWN0aXZlX3Rhc2tfY2InKTtcclxuXHRcdFx0XHRcdFx0IG5ld19zbG9qYS5maW5kKCcuanMtbG9saS1idXR0JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9wYXNzJyk7IFxyXG5cdFx0XHRcdFx0XHQgbmV3X3Nsb2phLmZpbmQoJy5sb2xpX3R1cnMgaW5wdXQnKS52YWwoMCk7XHJcblx0XHRcdFx0XHRcdCBuZXdfc2xvamEuYWRkQ2xhc3MoJ2FjdGl2ZS10dXJpc3QtdHVycycpO1xyXG5cdFx0XHRcdFx0ICAgICBVcGRhdGVOdW1iZXJUdXJpcygpO1x0ICBcdFx0XHRcdFx0XHQgXHRcdFx0XHRcdFx0ICAgICAgXHJcblx0XHRcdFx0XHRcdCAgIFxyXG5cdFx0XHRcdFx0ICAgfSBlbHNlXHJcblx0XHRcdFx0XHRcdCAgIHtcclxuXHRcdFx0XHRcdFx0XHQgICBcclxuXHRcdFx0XHRcdFx0XHQgICBcclxuXHRcdFx0XHRcdFx0XHQgICAkKCcuanMtZmx5LXR1cnMtY2xpZW50JykucGFyZW50cygnLmJ1eV90dXJzJykuYmVmb3JlKGNjX3BwcGVbdF0pO1xyXG5cdFx0XHRcdFx0XHRcdCAgIFVwZGF0ZU51bWJlclR1cmlzKCk7XHJcblx0XHRcdFx0XHRcdCAgIH1cclxuXHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHQgICB7XHJcblx0XHRcdFx0XHRcdFx0ICAgXHJcblx0XHRcdFx0XHRcdFx0ICAgXHJcblx0XHRcdFx0XHRcdFx0ICAgJCgnLmpzLWZseS10dXJzLWNsaWVudCcpLnBhcmVudHMoJy5idXlfdHVycycpLmJlZm9yZShjY19wcHBlW3RdKTtcclxuXHRcdFx0XHRcdFx0XHQgICBVcGRhdGVOdW1iZXJUdXJpcygpO1xyXG5cdFx0XHRcdFx0XHQgICB9XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHJcblx0ICAgICAgICAgICAgfVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHRUb29sVGlwKCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINCw0LLRgtC+INC+0L/RgNC10LTQtdC70LXQvdC40LUg0L7QsdC90L7QstC40LvQuNGB0Ywg0LvQuCDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPINC40LvQuCDQt9Cw0LTQsNGH0LhcclxuZnVuY3Rpb24gQWZ0ZXJOb2ZpKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0bnByb2dyZXNzPTA7XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J3VwZGF0ZScgKVxyXG5cdHtcclxuXHRcdC8v0YPQt9C90LDQtdC8INGH0YLQviDQt9CwINC90L7QstGL0LUg0YPQstC10LTQvtC80LvQtdC90LjRjyDRgyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0Lgg0LLRi9Cy0L7QtNC40Lwg0LjRhVxyXG5cdFx0dmFyIGRpYWxvZz0wO1xyXG5cdFx0dmFyIGRhdGU9Jyc7XHJcblxyXG5cdFx0dmFyIGRhdGEgPSd0az0nK2RhdGEudG9rZW47XHJcblx0XHRBamF4Q2xpZW50KCdub3RpZmljYXRpb24nLCdub3RpZmljYXRpb24nLCdHRVQnLGRhdGEsJ0FmdGVyTm90aWZpY2F0aW9uJywnMScsMCwxKTtcclxuXHR9XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gQWZ0ZXJEZWxsVGFzayhkYXRhLHVwZGF0ZSlcclxue1xyXG5cdFx0aWYodXBkYXRlIT1udWxsKXsgaWYgKHR5cGVvZih1cGRhdGUpID09IFwic3RyaW5nXCIpIHsgdXBkYXRlID0gdXBkYXRlLnNwbGl0KCcsJyk7IH0gZWxzZSB7IHVwZGF0ZVswXT11cGRhdGU7IH0gfVx0XHJcblx0XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG5cdFx0V2luZG93TG9naW4oKTtcclxuXHR9IFxyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdvaycgKVxyXG4gICAge1xyXG5cdFx0XHRpZigkKCcuanMtZ2xvYmFsLXRhc2stbGluaycpLmxlbmd0aD4wKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0XHJcblx0XHRcdCAgXHQkKCcudGFza19ibG9ja19nbG9iYWxbaWRfdGFzaz1cIicrdXBkYXRlWzBdKydcIl0nKS5zbGlkZVVwKFwic2xvd1wiLCBmdW5jdGlvbigpIHskKCcudGFza19ibG9ja19nbG9iYWxbaWRfdGFzaz1cIicrdXBkYXRlWzBdKydcIl0nKS5yZW1vdmUoKTt9KTtcclxuXHRcdFx0fVxyXG5cdH1cclxufVxyXG5cclxuXHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDRg9C00LDQu9C10L3QuNC1INGE0LDQudC70LAg0L3QsNC60LvQsNC00L3QvtC5IChqcGcpXHJcbmZ1bmN0aW9uIEFmdGVyRGVsbEltYWdlSW52b2ljZShkYXRhLHVwZGF0ZSlcclxue1xyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fSBcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuXHRcdCQoJy5pbWdfaW52b2ljZScpLmZpbmQoJ1tzb3A9Jyt1cGRhdGUrJ10nKS5yZW1vdmUoKTtcclxuXHRcdC8v0LXRgdC70Lgg0LrQvtC70LjRh9C10YHRgtCy0L4gbGkgMCDRgtC+INC/0YDRj9GH0LXQvCDQstC10YHRjCDQsdC70L7QsyDRgSDRhNCw0LnQu9Cw0LzQuFxyXG5cdFx0aWYoJCgnLmltZ19pbnZvaWNlJykuZmluZCgnbGknKS5sZW5ndGg9PTApXHJcblx0XHR7XHJcblx0XHRcdFx0JCgnLmltZ19pbnZvaWNlJykuaGlkZSgpO1xyXG5cdFx0XHRcclxuXHRcdFx0ICAgJCgnLmRvbGxvcl95ZXMnKS5iZWZvcmUoJzxkaXYgY2xhc3M9XCJhdHRhY2hfbm9cIj7QvdC10YIg0YLQvtCy0LDRgNC90L7Qs9C+INGH0LXQutCwPC9kaXY+Jyk7XHJcblx0XHRcdCBcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRcclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0YPQtNCw0LvQtdC90LjQtSDRhNCw0LnQu9CwINC90LDQutC70LDQtNC90L7QuSAoanBnKVxyXG5mdW5jdGlvbiBBZnRlckRlbGxJbWFnZVJlcG9ydHMoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH0gXHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J29rJyApXHJcbiAgICB7XHJcblx0XHQkKCcuaW1nX2ludm9pY2UnKS5maW5kKCdbc29wPScrdXBkYXRlKyddJykucmVtb3ZlKCk7XHJcblx0XHQvL9C10YHQu9C4INC60L7Qu9C40YfQtdGB0YLQstC+IGxpIDAg0YLQviDQv9GA0Y/Rh9C10Lwg0LLQtdGB0Ywg0LHQu9C+0LMg0YEg0YTQsNC50LvQsNC80LhcclxuXHRcdGlmKCQoJy5pbWdfaW52b2ljZScpLmZpbmQoJ2xpJykubGVuZ3RoPT0wKVxyXG5cdFx0e1xyXG5cdFx0XHRcdCQoJy5pbWdfaW52b2ljZScpLmhpZGUoKTtcclxuXHRcdFx0XHJcblx0XHRcdCAgIC8vJCgnLmRvbGxvcl95ZXMnKS5iZWZvcmUoJzxkaXYgY2xhc3M9XCJhdHRhY2hfbm9cIj7QvdC10YIg0YLQvtCy0LDRgNC90L7Qs9C+INGH0LXQutCwPC9kaXY+Jyk7XHJcblx0XHRcdCBcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRcclxuXHR9XHJcbn1cclxuXHJcblxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINGD0LTQsNC70LXQvdC40LUg0YTQsNC50LvQsCDRgdGH0LXRgtCwIChqcGcpINCyINGB0YfQtdGC0LVcclxuZnVuY3Rpb24gQWZ0ZXJEZWxsSW1hZ2VTdXBwbHkoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH0gXHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J29rJyApXHJcbiAgICB7XHJcblx0XHQkKCcuaW1nX3Nzb3BseScpLmZpbmQoJ1tzb3A9Jyt1cGRhdGUrJ10nKS5yZW1vdmUoKTtcclxuXHRcdC8v0LXRgdC70Lgg0LrQvtC70LjRh9C10YHRgtCy0L4gbGkgMCDRgtC+INC/0YDRj9GH0LXQvCDQstC10YHRjCDQsdC70L7QsyDRgSDRhNCw0LnQu9Cw0LzQuFxyXG5cdFx0aWYoJCgnLmltZ19zc29wbHknKS5maW5kKCdsaScpLmxlbmd0aD09MClcclxuXHRcdHtcclxuXHRcdFx0XHQkKCcuaW1nX3Nzb3BseScpLmhpZGUoKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0LLQutC70LDQtNC60Lgg0LIg0YLRg9GA0LDRhVxyXG5mdW5jdGlvbiBBZnRlclRhYnNJbmZvVHJpcHMoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZih1cGRhdGUhPW51bGwpeyBpZiAodHlwZW9mKHVwZGF0ZSkgPT0gXCJzdHJpbmdcIikgeyB1cGRhdGUgPSB1cGRhdGUuc3BsaXQoJywnKTsgfSBlbHNlIHsgdXBkYXRlWzBdPXVwZGF0ZTsgfSB9XHJcblxyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuXHR7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH1cclxuXHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J29rJyApXHJcblx0e1xyXG4kKCcudHJpcHNfYmxvY2tfZ2xvYmFsW2lkX3RyaXBzPScrdXBkYXRlWzFdKyddJykuZmluZCgnLnB4X2JnX3RyaXBzJykuZW1wdHkoKS5hcHBlbmQoZGF0YS5xdWVyeSk7XHJcblx0XHQvLyQoJy5mb3JtJyt1cGRhdGVbMV0rJyAucHhfYmcnKS5lbXB0eSgpLmFwcGVuZChkYXRhLnF1ZXJ5KTtcclxuXHJcblx0XHQvLyQoJy5jaGFfMScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy53YWxsZXRfY2hlY2tib3gnLHdhbGxldF9jaGVja2JveCk7XHJcblxyXG5cdFx0Ly8kKCcuZm9ybScrdXBkYXRlWzFdKycgLmpzLXRhYnNfZG9jYycpLmhpZGUoKTtcclxuXHRcdC8vJCgnLmZvcm0nK3VwZGF0ZVsxXSsnIC5qcy10YWJzXycrdXBkYXRlWzBdKS5zaG93KCk7XHJcblxyXG5cdFx0TnVtYmVyQmxvY2tGaWxlKCk7XHJcblx0XHRUb29sVGlwKCk7XHJcblx0XHRpZigodXBkYXRlWzBdPT0zKXx8KHVwZGF0ZVswXT09NCkpXHJcblx0XHR7XHJcblx0XHRcdCQoXCIuc2xjdFwiKS51bmJpbmQoJ2NsaWNrLnN5cycpO1xyXG5cdFx0XHQkKFwiLnNsY3RcIikuYmluZCgnY2xpY2suc3lzJywgc2xjdGNsaWNrKTtcclxuXHRcdFx0JChcIi5kcm9wXCIpLmZpbmQoXCJsaVwiKS51bmJpbmQoJ2NsaWNrJyk7XHJcblx0XHRcdCQoXCIuZHJvcFwiKS5maW5kKFwibGlcIikuYmluZCgnY2xpY2snLCBkcm9wbGkpO1xyXG5cdFx0XHQvLyQoJyN0eXBlc2F5JykudW5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2VzYXkpO1xyXG5cdFx0XHQvLyQoJyN0eXBlc2F5JykuYmluZCgnY2hhbmdlJywgY2hhbmdlc2F5KTtcclxuXHRcdFx0Ly9hbGVydChcIiFcIik7XHJcblx0XHR9XHJcblxyXG5cdH1cclxufVxyXG5cclxuXHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0L3QvtCy0L7QuSDQuNC90YTRiyDQv9C+INC+0YDQs9Cw0L3QuNC30LDRhtC40LhcclxuZnVuY3Rpb24gQWZ0ZXJVcGRhdGVPcmcoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH1cclxuXHRcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcdFxyXG4vL9C90LDQt9Cy0LDQvdC40LVcclxuLy/QtNC40YDQtdC60YLQvtGAXHJcbi8v0Y7RgCDQsNC00YDQtdGBXHJcblx0XHRcclxuLy/RgtC10LvQtdGE0L7QvSDQutC+0L3RgtCw0LrRgtC90L7Qs9C+INC70LjRhtCwXHJcbi8vZW1haWxcclxuXHJcbi8v0JjQndCdXHRcdFxyXG4vL9Ca0J/Qn1xyXG4vL9Ce0JPQoNCdXHJcbi8v0J7QmtCf0J5cclxuXHRcdFxyXG4vL9Cg0JDQodCn0JXQotCd0KvQmSDQodCn0JXQolxyXG4vL9CR0JjQmlxyXG4vL9CR0JDQndCaXHJcbi8v0JrQvtGALiDRgdGH0LXRglx0XHRcclxuXHJcblx0XHR2YXIgY2xhc3NfZ2x1ID0gW1wianMtZ2xvLW4tXCIsIFwianMtZ2xvLWQtXCIsXCJqcy1nbG8tYS1cIixcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdCBcImpzLWdsby10LVwiLFxyXG5cdFx0XHRcdFx0XHQgXCJqcy1nbG8tZS1cIixcclxuXHRcdFx0XHRcdFx0IFxyXG5cdFx0XHRcdFx0XHQgXCJqcy1nbG8taW4tXCIsXHJcblx0XHRcdFx0XHRcdCBcImpzLWdsby1rcC1cIixcclxuXHRcdFx0XHRcdFx0IFwianMtZ2xvLW9nLVwiLFxyXG5cdFx0XHRcdFx0XHQgXCJqcy1nbG8tb2stXCIsXHJcblx0XHRcdFx0XHRcdCBcclxuXHRcdFx0XHRcdFx0IFwianMtZ2xvLXJzLVwiLFxyXG5cdFx0XHRcdFx0XHQgXCJqcy1nbG8tYmktXCIsXHJcblx0XHRcdFx0XHRcdCBcImpzLWdsby1iYS1cIixcclxuXHRcdFx0XHRcdFx0IFwianMtZ2xvLWtvLVwiLFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdF07XHJcblx0XHRcclxuXHRcdHZhciBhYWFhID0gZGF0YS5lY2hvLnNwbGl0KCcvLScpO1xyXG5cdFx0XHJcblx0XHR2YXIgaW50X3Bhc3M9MDtcclxuXHRcdHZhciBpbm5fcGFzcz0wO1xyXG5cdFx0XHJcblx0XHRmb3IgKHZhciB0ID0gMDsgdCA8IGFhYWEubGVuZ3RoOyB0KyspIFxyXG5cdFx0eyBcclxuXHRcdCAgICBpZigoYWFhYVt0XSE9JzAnKSYmKGFhYWFbdF0hPSdkZWxsJykpXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkKCcuJytjbGFzc19nbHVbdF0rdXBkYXRlKS5lbXB0eSgpLnNob3coKS5hcHBlbmQoYWFhYVt0XSk7XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZigkKCcuanMtYnV5LW15LXRvdXJzJykubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0Ly/RjdGC0L4g0LTQvtCx0LDQstC70LXQvdC40LUg0LjQu9C4INCy0L3Rg9GC0YDQtdC90L3QvtGB0YLRjCDRgtGD0YDQsCDRgtGD0YIg0YHQstC+0Lgg0L/RgNCw0LLQuNC70L4g0L7QsdC90L7QstC70LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40LhcclxuXHRcdFx0XHRcdGlmKHQ8NSlcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdCQoJy4nK2NsYXNzX2dsdVt0XSt1cGRhdGUpLmVtcHR5KCkuc2hvdygpLmFwcGVuZChhYWFhW3RdKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Ly/QstGB0LUg0YfRgtC+INGB0LLRj9C30LDQvdC+INGB0L4g0YHRh9C10YLQsNC80Lgg0L7RgNCz0LDQvdC40LfQsNGG0LjQuFxyXG5cdFx0XHRcdFx0XHRcdCQoJy4nK2NsYXNzX2dsdVt0XSt1cGRhdGUpLmVtcHR5KCkuc2hvdygpLmFwcGVuZChhYWFhW3RdKTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL9C60L7QtNGLXHJcblx0XHRcdFx0XHRcdFx0aWYoKHQ+PTUpJiYodDw5KSlcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRpZigoYWFhYVt0XSE9J+KAlCcpJiYoYWFhYVt0XSE9JzAnKSlcclxuXHRcdFx0XHRcdFx0XHRcdHtpbnRfcGFzcysrO31cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0aWYoaW50X3Bhc3MhPTApXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkKCcubGFiZWwtZW1wdHktY29kZS0nK3VwZGF0ZSkuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ICAgICQoJy5sYWJlbC1maWxsZWQtY29kZS0nK3VwZGF0ZSkuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkKCcubGFiZWwtZW1wdHktY29kZS0nK3VwZGF0ZSkuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ICAgICQoJy5sYWJlbC1maWxsZWQtY29kZS0nK3VwZGF0ZSkuaGlkZSgpO1x0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL9Cx0LDQvdC60L7QstGB0LrQuNC1INGA0LXQutCy0LjQt9C40YLRi1xyXG5cdFx0XHRcdFx0XHRcdGlmKCh0Pj05KSYmKHQ8MTMpKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKChhYWFhW3RdIT0n4oCUJykmJihhYWFhW3RdIT0nMCcpKVxyXG5cdFx0XHRcdFx0XHRcdFx0e2lubl9wYXNzKys7fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRpZihpbm5fcGFzcyE9MClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCQoJy5sYWJlbC1lbXB0eS1yZWstJyt1cGRhdGUpLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdCAgICAkKCcubGFiZWwtZmlsbGVkLXJlay0nK3VwZGF0ZSkuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkKCcubGFiZWwtZW1wdHktcmVrLScrdXBkYXRlKS5zaG93KCk7XHJcblx0XHRcdFx0XHRcdFx0XHQgICAgJCgnLmxhYmVsLWZpbGxlZC1yZWstJyt1cGRhdGUpLmhpZGUoKTtcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fSBlbHNle1xyXG5cdFx0XHRcdFx0JCgnLicrY2xhc3NfZ2x1W3RdK3VwZGF0ZSkuZW1wdHkoKS5zaG93KCkuYXBwZW5kKGFhYWFbdF0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0ICAgIGlmKGFhYWFbdF09PSdkZWxsJylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlmKHQ9PTEpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0JCgnLicrY2xhc3NfZ2x1W3RdK3VwZGF0ZSkuaGlkZSgpO1x0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdH1cdFx0XHRcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBjbGlja19tbW10ICgpXHJcbntcclxuXHRuYWxsX2J1eV90aXBzKCk7XHJcbn1cclxuXHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0L3QvtCy0L7QuSDQuNC90YTRiyDQv9C+INCk0LjQvdCw0L3RgdCw0LxcclxuZnVuY3Rpb24gQWZ0ZXJVcGRhdGVGaW5hbmNlKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG5cdHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fVxyXG5cclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuXHR7XHJcbi8v0JTQvtGF0L7QtNGLINC4INCg0LDRgdGF0L7QtNGLXHJcbi8v0JPRgNCw0YTQuNC6INC/0YDQvtC00LDQtlxyXG4vL9Ch0YLRgNGD0LrRgtGD0YDQsCDQtNC+0YXQvtC00L7QslxyXG4vL9Ch0YLRgNGD0LrRgtGD0YDQsCDRgNCw0YHRhdC+0LTQvtCyXHJcblxyXG5cclxuXHRcdHZhciBjbGFzc19nbHUgPSBbXCJqcy1maW4tMFwiLCBcImpzLWZpbi0xXCIsIFwianMtZmluLTJcIixcImpzLWZpbi0zXCJdO1xyXG5cclxuXHJcblxyXG5cclxuXHRcdHZhciBpbnRfcGFzcz0wO1xyXG5cdFx0dmFyIGlubl9wYXNzPTA7XHJcblx0XHR2YXIgYWFhYSA9IHVwZGF0ZS5zcGxpdCgnLCcpO1xyXG5cdFx0Zm9yICh2YXIgdCA9IDA7IHQgPCA0OyB0KyspXHJcblx0XHR7XHJcblx0XHRcdGlmKGFhYWFbdF0hPScwJylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlmKHQ9PTApIHtcclxuXHRcdFx0XHRcdCQoJy4nICsgY2xhc3NfZ2x1W3RdKS5lbXB0eSgpLnNob3coKS5hcHBlbmQoZGF0YS5lY2hvKTtcclxuXHRcdFx0XHRcdGFuaW1hdGlvbl9ncmFmKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKHQ9PTEpIHtcclxuXHRcdFx0XHRcdHdpbmRvdy5jaGFydDIuZGF0YT1kYXRhLmNoYXJ0MjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYodD09Mikge1xyXG5cdFx0XHRcdFx0d2luZG93LmNoYXJ0LmRhdGE9ZGF0YS5jaGFydDtcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7IGxlZ2VuZENyZWF0ZSgpOyB9LCAxMDAwICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKHQ9PTMpIHtcclxuXHJcblx0XHRcdFx0XHR3aW5kb3cuY2hhcnQxLmRhdGE9ZGF0YS5jaGFydDE7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyBsZWdlbmRDcmVhdGUxKCk7IH0sIDEwMDAgKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0L/QvtC70YPRh9C10L3QuNGPINC90L7QstC+0Lkg0LjQvdGE0Ysg0L/QviDQutC70LjQtdC90YLRg1xyXG5mdW5jdGlvbiBBZnRlclVwZGF0ZVVzZXIoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH1cclxuXHRcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcdFxyXG5cdFx0Ly/QpNC40L5cclxuLy/QlNC10L3RjCDRgNC+0LbQtNC10L3QuNC1XHJcbi8v0L/QvtGB0LvQtdC00L3QtdC1INGB0L7QvtCx0YnQtdC90LjQtVxyXG4vL9Cy0YvQu9C10YJcclxuLy/Qv9GA0LjQu9C10YJcclxuLy/RgtC10LvQtdGE0L7QvVxyXG5cdFx0XHJcbi8v0L/QvtC7XHJcbi8v0LvQsNGC0LjQvdC40YbQsFxyXG5cclxuLy/Qt9Cw0LPRgNCw0L0g0YHQtdGA0LjRj1xyXG4vL9C30LDQs9GA0LDQvSDQvdC+0LzQtdGAXHJcbi8v0LfQsNCz0YDQsNC9INC60LXQvFxyXG4vL9C30LDQs9GA0LDQvSDQutC+0LPQtNCwINCy0YvQtNCw0L1cclxuLy/Qt9Cw0LPRgNCw0L0g0LTQviDQutCw0LrQvtCz0L5cclxuXHJcbi8v0LLQvdC/0LDRgdC/0L7RgNGCINGB0LXRgNC40Y9cclxuLy/QstC90L/QsNGB0L/QvtGA0YIg0L3QvtC80LXRgFxyXG4vL9Cy0L3Qv9Cw0YHQv9C+0YDRgiDQutC10LxcclxuLy/QstC90L/QsNGB0L/QvtGA0YIg0LrQvtCz0LTQsCDQstGL0LTQsNC9XHRcdFxyXG5cdFx0XHJcblx0XHR2YXIgY2xhc3NfZ2x1ID0gW1wianMtZ2x1LWYtXCIsIFwianMtZ2x1LWQtXCIsIFwianMtZ2x1LXMtXCIsXCJqcy1nbHUtZnMtXCIsXCJqcy1nbHUtZmUtXCIsXCJqcy1nbHUtdC1cIixcclxuXHRcdFx0XHRcdFx0XCJqcy1nbHUtcG9sLVwiLFxyXG5cdFx0XHRcdFx0XHRcImpzLWdsdS1sYXRpbi1cIixcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFwianMtZ2x1LWludHMtXCIsXHJcblx0XHRcdFx0XHRcdCBcImpzLWdsdS1pbnRuLVwiLFxyXG5cdFx0XHRcdFx0XHQgXCJqcy1nbHUtaW50ay1cIixcclxuXHRcdFx0XHRcdFx0IFwianMtZ2x1LWludGtvLVwiLFxyXG5cdFx0XHRcdFx0XHQgXCJqcy1nbHUtaW50ZC1cIixcclxuXHRcdFx0XHRcdFx0IFxyXG5cdFx0XHRcdFx0XHQgXCJqcy1nbHUtaW5lcy1cIixcclxuXHRcdFx0XHRcdFx0IFwianMtZ2x1LWluZW4tXCIsXHJcblx0XHRcdFx0XHRcdCBcImpzLWdsdS1pbmVrLVwiLFxyXG5cdFx0XHRcdFx0XHQgXCJqcy1nbHUtaW5la28tXCJcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdF07XHJcblx0XHRcclxuXHRcdHZhciBhYWFhID0gZGF0YS5lY2hvLnNwbGl0KCcvLScpO1xyXG5cclxuXHRcdFxyXG5cdFx0dmFyIGludF9wYXNzPTA7XHJcblx0XHR2YXIgaW5uX3Bhc3M9MDtcclxuXHRcdGZvciAodmFyIHQgPSAwOyB0IDwgYWFhYS5sZW5ndGg7IHQrKykgXHJcblx0XHR7IFxyXG5cdFx0ICAgIGlmKChhYWFhW3RdIT0nMCcpJiYoYWFhYVt0XSE9J2RlbGwnKSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCQoJy4nK2NsYXNzX2dsdVt0XSt1cGRhdGUpLmVtcHR5KCkuc2hvdygpLmFwcGVuZChhYWFhW3RdKTtcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmKCQoJy5qcy1idXktbXktdG91cnMnKS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHQvL9GN0YLQviDQtNC+0LHQsNCy0LvQtdC90LjQtSDQuNC70Lgg0LLQvdGD0YLRgNC10L3QvdC+0YHRgtGMINGC0YPRgNCwINGC0YPRgiDRgdCy0L7QuCDQv9GA0LDQstC40LvQviDQvtCx0L3QvtCy0LvQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuFxyXG5cdFx0XHRcdFx0aWYodDw4KVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0aWYodD09NilcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly/Qv9C+0LtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYoYWFhYVt0XT09MSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCcuJytjbGFzc19nbHVbdF0rdXBkYXRlKS5lbXB0eSgpLnNob3coKS5hcHBlbmQoJyhNUiknKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCQoJy4nK2NsYXNzX2dsdVt0XSt1cGRhdGUpLmF0dHIoJ2RhdGEtdG9vbHRpcCcsJ9C80LjRgdGC0LXRgCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYoYWFhYVt0XT09MilcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCcuJytjbGFzc19nbHVbdF0rdXBkYXRlKS5lbXB0eSgpLnNob3coKS5hcHBlbmQoJyhNUlMpJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkKCcuJytjbGFzc19nbHVbdF0rdXBkYXRlKS5hdHRyKCdkYXRhLXRvb2x0aXAnLCfQvNC40YHRgdC40YEnKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdCQoJy4nK2NsYXNzX2dsdVt0XSt1cGRhdGUpLmVtcHR5KCkuc2hvdygpLmFwcGVuZChhYWFhW3RdKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdC8v0LLRgdC1INGH0YLQviDRgdCy0Y/Qt9Cw0L3QviDRgSDQv9Cw0YHQv9C+0YDRgiDQtNCw0L3QvdGL0LzQuFxyXG5cdFx0XHRcdFx0XHRcdCQoJy4nK2NsYXNzX2dsdVt0XSt1cGRhdGUpLmVtcHR5KCkuc2hvdygpLmFwcGVuZChhYWFhW3RdKTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL9C30LDQs9GA0LDQvSDQv9Cw0YHQv9C+0YDRglxyXG5cdFx0XHRcdFx0XHRcdGlmKCh0Pj04KSYmKHQ8MTMpKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKChhYWFhW3RdIT0n4oCUJykmJihhYWFhW3RdIT0nMCcpKVxyXG5cdFx0XHRcdFx0XHRcdFx0e2ludF9wYXNzKys7fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRpZihpbnRfcGFzcyE9MClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCQoJy5sYWJlbC1lbXB0eS1pbnQtJyt1cGRhdGUpLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdCAgICAkKCcubGFiZWwtZmlsbGVkLWludC0nK3VwZGF0ZSkuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkKCcubGFiZWwtZW1wdHktaW50LScrdXBkYXRlKS5zaG93KCk7XHJcblx0XHRcdFx0XHRcdFx0XHQgICAgJCgnLmxhYmVsLWZpbGxlZC1pbnQtJyt1cGRhdGUpLmhpZGUoKTtcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0Ly/QstC90YPRgtGA0LXQvdC90LjQuSDQv9Cw0YHRgdC/0L7RgNGCXHJcblx0XHRcdFx0XHRcdFx0aWYoKHQ+PTEzKSYmKHQ8MTcpKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKChhYWFhW3RdIT0n4oCUJykmJihhYWFhW3RdIT0nMCcpKVxyXG5cdFx0XHRcdFx0XHRcdFx0e2lubl9wYXNzKys7fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRpZihpbm5fcGFzcyE9MClcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCQoJy5sYWJlbC1lbXB0eS1pbm4tJyt1cGRhdGUpLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdCAgICAkKCcubGFiZWwtZmlsbGVkLWlubi0nK3VwZGF0ZSkuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkKCcubGFiZWwtZW1wdHktaW5uLScrdXBkYXRlKS5zaG93KCk7XHJcblx0XHRcdFx0XHRcdFx0XHQgICAgJCgnLmxhYmVsLWZpbGxlZC1pbm4tJyt1cGRhdGUpLmhpZGUoKTtcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fSBlbHNle1xyXG5cdFx0XHRcdFx0JCgnLicrY2xhc3NfZ2x1W3RdK3VwZGF0ZSkuZW1wdHkoKS5zaG93KCkuYXBwZW5kKGFhYWFbdF0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0ICAgIGlmKGFhYWFbdF09PSdkZWxsJylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlmKHQ9PTIpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0JCgnLicrY2xhc3NfZ2x1W3RdK3VwZGF0ZSkuaGlkZSgpO1x0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdH1cdFx0XHRcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxufVxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINGPINC20LTRgyDQvdCwINCx0LXRgNGD0YHRjCDQt9CwINGN0YLRgyDQt9Cw0LTQsNGH0YNcclxuZnVuY3Rpb24gQWZ0ZXJNeVRhc2soZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH1cclxuXHRcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nZXJyb3InIClcclxuICAgIHtcdFxyXG5cdFx0Ly/Qv9C+0YfQtdC80YMg0YLQviDQvdC1INC/0YDQvtGI0LvQviDQuNC30LzQtdC90LXQvdC40LVcclxuXHR2YXIgdGFza2k9JCgnLnRhc2tfY2xvY2tfc2VsZWN0aW9uW2lkX3Rhc2s9XCInK3VwZGF0ZSsnXCJdJykuZmluZCgnLmpzLWNob2ljZS10YXNrLXknKTtcclxuXHR2YXIgaV9jPXRhc2tpLmZpbmQoJ2knKVxyXG5cdHZhciBjYl9oPXRhc2tpLmZpbmQoJ2lucHV0JykudmFsKCk7XHJcblx0XHJcblx0aWYoaV9jLmlzKCc6dmlzaWJsZScpKSBcclxuXHQgICB7XHJcblx0XHJcblx0aWYoKGNiX2g9PTApJiYoIWlfYy5pcygnLmFjdGl2ZV90YXNrX2NiJykpKVxyXG5cdFx0e1xyXG5cdFx0XHQgIHRhc2tpLmZpbmQoJ2lucHV0JykudmFsKDEpO1xyXG5cdFx0XHQgIHRhc2tpLmZpbmQoJy5jaG9pY2UtcmFkaW8gaScpLmFkZENsYXNzKCdhY3RpdmVfdGFza19jYicpO1xyXG5cdFx0XHQgIHRhc2tpLmZpbmQoJy5jaG9pY2UtaGVhZCcpLmVtcHR5KCkuYXBwZW5kKCfQktGLINCy0LfRj9C70LjRgdGMINC30LAg0LLRi9C/0L7Qu9C90LXQvdC40LUnKTtcclxuXHRcdH0gZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdCAgdGFza2kuZmluZCgnaW5wdXQnKS52YWwoMCk7XHJcblx0XHRcdCAgdGFza2kuZmluZCgnLmNob2ljZS1yYWRpbyBpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRcdH1cclxufVxyXG5cdH1cclxufVxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINC00LvRjyDQtdC20LXQvNC10YHRj9GH0L3QvtCz0L4g0L/Qu9Cw0YLQtdC20LBcclxuZnVuY3Rpb24gQWZ0ZXJDb25zdEJ1eShkYXRhLHVwZGF0ZSlcclxue1xyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuXHR7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH1cclxuXHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J2Vycm9yJyApXHJcblx0e1xyXG5cdFx0Ly/Qv9C+0YfQtdC80YMg0YLQviDQvdC1INC/0YDQvtGI0LvQviDQuNC30LzQtdC90LXQvdC40LVcclxuXHRcdHZhciB0YXNraT0kKCcuYnV5X2Jsb2NrX2dsb2JhbFtpZF9idXk9XCInK3VwZGF0ZSsnXCJdJykuZmluZCgnLmpzLWNob2ljZS1idXkteScpO1xyXG5cdFx0dmFyIGlfYz10YXNraS5maW5kKCdpJylcclxuXHRcdHZhciBjYl9oPXRhc2tpLmZpbmQoJ2lucHV0JykudmFsKCk7XHJcblxyXG5cdFx0aWYoaV9jLmlzKCc6dmlzaWJsZScpKVxyXG5cdFx0e1xyXG5cclxuXHRcdFx0aWYoKGNiX2g9PTApJiYoIWlfYy5pcygnLmFjdGl2ZV90YXNrX2NiJykpKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGFza2kuZmluZCgnaW5wdXQnKS52YWwoMSk7XHJcblx0XHRcdFx0dGFza2kuZmluZCgnLmNob2ljZS1yYWRpbyBpJykuYWRkQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRcdFx0Ly90YXNraS5maW5kKCcuY2hvaWNlLWhlYWQnKS5lbXB0eSgpLmFwcGVuZCgn0JLRiyDQstC30Y/Qu9C40YHRjCDQt9CwINCy0YvQv9C+0LvQvdC10L3QuNC1Jyk7XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dGFza2kuZmluZCgnaW5wdXQnKS52YWwoMCk7XHJcblx0XHRcdFx0dGFza2kuZmluZCgnLmNob2ljZS1yYWRpbyBpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcblxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0L7QsdC90L7QstC70LXQvdC40LUg0YTQvtGC0L7QuiDQv9C+INC90LDQutC70LDQtNC90L7QuVxyXG5mdW5jdGlvbiBBZnRlclVwZGF0ZUltYWdlUmVwb3J0cyhkYXRhLHVwZGF0ZSlcclxue1xyXG5cdG5wcm9ncmVzcz0wO1xyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fSBlbHNlXHJcblx0XHR7XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J29rJyApXHJcbiAgICB7XHJcblx0XHQkKCcuaW1nX2ludm9pY2UnKS5maW5kKCd1bCcpLmVtcHR5KCkuYXBwZW5kKGRhdGEuZWNobyk7XHJcblx0XHQkKCcuaW1nX2ludm9pY2UnKS5zaG93KCk7XHJcblx0XHRUb29sVGlwKCk7XHJcblx0XHRcclxuXHRcdGlmKCQoJy5pbWdfaW52b2ljZScpLmZpbmQoJ2xpJykubGVuZ3RoIT0wKVxyXG5cdFx0e1x0XHRcdFx0XHJcblx0XHRcdCAgICQoJy5hdHRhY2hfbm8nKS5yZW1vdmUoKTtcdFxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRcclxuXHR9XHJcblx0XHR9XHJcbn1cclxuXHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDQvtCx0L3QvtCy0LvQtdC90LjQtSDRhNC+0YLQvtC6INC/0L4g0L3QsNC60LvQsNC00L3QvtC5XHJcbmZ1bmN0aW9uIEFmdGVyVXBkYXRlSW1hZ2VJbnZvaWNlKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0bnByb2dyZXNzPTA7XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG5cdFx0V2luZG93TG9naW4oKTtcclxuXHR9IGVsc2VcclxuXHRcdHtcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuXHRcdCQoJy5pbWdfaW52b2ljZScpLmZpbmQoJ3VsJykuZW1wdHkoKS5hcHBlbmQoZGF0YS5lY2hvKTtcclxuXHRcdCQoJy5pbWdfaW52b2ljZScpLnNob3coKTtcclxuXHRcdFRvb2xUaXAoKTtcclxuXHRcdFxyXG5cdFx0aWYoJCgnLmltZ19pbnZvaWNlJykuZmluZCgnbGknKS5sZW5ndGghPTApXHJcblx0XHR7XHRcdFx0XHRcclxuXHRcdFx0ICAgJCgnLmF0dGFjaF9ubycpLnJlbW92ZSgpO1x0XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdFxyXG5cdH1cclxuXHRcdH1cclxufVxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINC+0LHQvdC+0LLQu9C10L3QuNC1INGE0L7RgtC+0Log0L/QviDRgdGH0LXRgtGDXHJcbmZ1bmN0aW9uIEFmdGVyVXBkYXRlSW1hZ2VTdXBwbHkoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRucHJvZ3Jlc3M9MDtcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH0gZWxzZVxyXG5cdFx0e1xyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdvaycgKVxyXG4gICAge1xyXG5cdFx0JCgnLmltZ19zc29wbHknKS5maW5kKCd1bCcpLmVtcHR5KCkuYXBwZW5kKGRhdGEuZWNobyk7XHJcblx0XHQkKCcuaW1nX3Nzb3BseScpLnNob3coKTtcclxuXHRcdFRvb2xUaXAoKTtcclxuXHR9XHJcblx0XHR9XHJcbn1cclxuXHJcbi8v0YPQtNCw0LvQtdC90LjQtSDQt9Cw0Y/QstC60Lgg0L/QvtGB0YLRhNGD0L3QutGG0LjRj1xyXG5mdW5jdGlvbiBBZnRlckRlbGxCb28oZGF0YSx1cGRhdGUpXHJcbntcclxuXHRucHJvZ3Jlc3M9MDtcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH0gZWxzZVxyXG5cdFx0e1xyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdvaycgKVxyXG4gICAge1xyXG5cdFx0Ly/Rg9C30L3QsNC10Lwg0YfRgtC+INC30LAg0L3QvtCy0YvQtSDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPINGDINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQstGL0LLQvtC00LjQvCBcclxuXHRcdCQoJ1tyZWxfbm90aWI9Jyt1cGRhdGUrJ10nKS5yZW1vdmUoKTtcdFxyXG5cdFx0XHJcblx0fSBlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkKCdbcmVsX25vdGliPScrdXBkYXRlKyddJykuc2hvdygpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gQWZ0ZXJVcGRhdGVUYXNrQmlBZGQoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRcdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fSBlbHNlXHJcblx0XHR7XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J29rJyApXHJcbiAgICB7XHJcblx0XHQkKCcuanMtbWVzc2FnZS10YXNrLXNlYXJjaCcpLnNsaWRlVXAoXCJzbG93XCIpO1xyXG5cdFx0JCgnLmpzLWdsb2JhbC10YXNrLWxpbmsnKS5wcmVwZW5kKGRhdGEuZWNobyk7XHJcblx0XHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCAnLm5ldy1zYXkgJyApLnJlbW92ZUNsYXNzKCduZXctc2F5Jyk7IH0sIDQwMDAgKTtcclxuXHRcdFxyXG5cdH1cclxufVxyXG59XHJcblxyXG5mdW5jdGlvbiBBZnRlclVwZGF0ZVRhc2tCaShkYXRhLHVwZGF0ZSlcclxue1xyXG5cdFx0aWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG5cdFx0V2luZG93TG9naW4oKTtcclxuXHR9IGVsc2VcclxuXHRcdHtcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuXHRcdFxyXG5cdFx0JCgnLnRhc2tfYmxvY2tfZ2xvYmFsW2lkX3Rhc2s9Jyt1cGRhdGUrJ10nKS5hZnRlcihkYXRhLmVjaG8pO1xyXG5cdFx0JCgnLm5ldy1zYXknKS5wcmV2KCcudGFza19ibG9ja19nbG9iYWwnKS5yZW1vdmUoKTtcdFx0XHJcblx0XHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCAnLm5ldy1zYXkgJyApLnJlbW92ZUNsYXNzKCduZXctc2F5Jyk7IH0sIDQwMDAgKTtcclxuXHRcdFxyXG5cdH1cclxufVxyXG59XHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDRg9C00LDQu9C10L3QuNC1INGD0LLQtdC00L7QvNC70LXQvdC40Y9cclxuZnVuY3Rpb24gQWZ0ZXJEZWxsTm90KGRhdGEsdXBkYXRlKVxyXG57XHJcblx0bnByb2dyZXNzPTA7XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG5cdFx0V2luZG93TG9naW4oKTtcclxuXHR9IGVsc2VcclxuXHRcdHtcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuXHRcdC8v0YPQt9C90LDQtdC8INGH0YLQviDQt9CwINC90L7QstGL0LUg0YPQstC10LTQvtC80LvQtdC90LjRjyDRgyDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0Lgg0LLRi9Cy0L7QtNC40LwgXHJcblx0XHQkKCdbcmVsX25vdGk9Jyt1cGRhdGUrJ10nKS5yZW1vdmUoKTtcdFxyXG5cdFx0aWYoICQoJy5ub3RpX2Jsb2NrJykuaXMoJzp2aXNpYmxlJykgKSB7XHJcblx0XHR2YXIgdGlwcz1wYXJzZUludCh0cmltX251bWJlcigkKCcubm90aV9ibG9jaycpLmZpbmQoJy5ub3RpX2NvYycpLnRleHQoKSkpO1xyXG5cdFx0IGlmICgodGlwcyE9JycpJiYodGlwcyE9MCkpXHJcblx0XHRcdCB7XHJcblx0XHRcdFx0IHRpcHM9dGlwcy0xO1xyXG5cdFx0XHRcdCBpZih0aXBzPT0wKVxyXG5cdFx0XHRcdCB7XHJcblx0XHRcdFx0XHRcdCQoJy5ub3RpX2Jsb2NrJykucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHQgICAgJCgnLnZpZXdfX25vdCcpLmhpZGUoKTtcclxuXHRcdFx0XHRcdCAgICAkKCcubm90X2xpJykuZmluZCgnaScpLmhpZGUoKTtcclxuXHRcdFx0XHQgfVxyXG5cdFx0XHRcdCB7XHJcblx0XHRcdFx0XHQgJCgnLm5vdGlfYmxvY2snKS5maW5kKCcubm90aV9jb2MnKS5lbXB0eSgpLmFwcGVuZCh0aXBzKTtcclxuXHRcdFx0XHRcdCAgJCgnLm5vdF9saScpLmZpbmQoJ2knKS5lbXB0eSgpLmFwcGVuZCh0aXBzKTtcclxuXHRcdFx0XHRcdCBcclxuXHRcdFx0XHQgfVxyXG5cdFx0XHQgfVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0fSBlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkKCdbcmVsX25vdGk9Jyt1cGRhdGUrJ10nKS5zaG93KCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdH1cclxufVxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINC/0L7Qu9GD0YfQtdC90LjQtSDQvdC+0LLRi9GFINGD0LLQtdC00L7QvNC70LXQvdC40LlcclxuZnVuY3Rpb24gQWZ0ZXJWVk4oZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH1cclxuXHRcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuXHJcblx0XHQkKCcubm90aV9ibG9jaycpLmZpbmQoJy5zY3JvJykuZW1wdHkoKS5hcHBlbmQoZGF0YS5lY2hvKTtcclxuXHRcdCQoJy5ub3RpX2Jsb2NrJykuZmluZCgnLm5vdGlfY29jJykuZW1wdHkoKS5hcHBlbmQoZGF0YS5ub3QpO1xyXG5cdFx0JCgnLm5vdGlfYmxvY2snKS5maW5kKCcubm90aV9jbycpLnNob3coKTtcclxuXHRcdCQoJy5ub3RpZl9kaXZfMjAxOCcpLm9uKFwiY2xpY2tcIiwnLmRlbF9ub3RpZicsRGVsbE5vdGlmKTtcdFxyXG5cdH1cclxufVxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINC/0L7Qu9GD0YfQtdC90LjRjyDQvdC+0LLRi9GFINC30LDQtNCw0YdcclxuZnVuY3Rpb24gQWZ0ZXJDbG91ZFRhc2soZGF0YSx1cGRhdGUpXHJcbntcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcblx0XHRXaW5kb3dMb2dpbigpO1xyXG5cdH1cclxuXHRcclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuXHRcdFxyXG5cdFx0JCgnLnVzZXJzX3J1bGUnKS5hdHRyKCd0YXMnLGRhdGEua2V5KTtcclxuXHRcdFxyXG5cdFx0Ly/Rg9C00LDQu9C10L3QuNC1INGH0LXQs9C+INC90LXRglxyXG5cdFx0Zm9yICggdmFyIHQgPSAwOyB0IDwgNDsgdCsrICkgeyBcclxuXHRcdCAgIC8vJCgnLmpzLXJpbmctJyt0KS5cclxuXHRcdCAgICQoJy5qcy1yaW5nLScrdCkuZmluZCgnLnRhc2tfY2xvY2tfc2VsZWN0aW9uJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHQgICAgICAgICAgICB2YXIgaWRfb2xkPSQodGhpcykuYXR0cignaWRfdGFzaycpO1xyXG5cdFx0XHQgICAvL9C10YHRgtGMINC70Lgg0L7QvSDQsiDQvdGD0LbQvdC+0Lwg0LzQsNGB0YHQuNCy0LUg0LIg0L3QvtCy0L7QvCDRgdC/0LjRgdC60LVcclxuXHRcdFx0ICAgaWYoIGRhdGEuY2xvdWRfZGF5W3RdLmluZGV4T2YoIGlkX29sZCApID09IC0xIClcclxuXHRcdFx0XHQgICB7XHJcblx0XHRcdFx0XHQgICAvKiQoJy5qcy1yaW5nLScrdCkuZmluZCgnW2lkX3Rhc2s9JytpZF9vbGQrJ10nKS5zbGlkZVVwKFwic2xvd1wiLGZ1bmN0aW9uKCkgeyQodGhpcykucmVtb3ZlKCk7fSk7XHJcblx0XHRcdFx0XHQgICAqL1xyXG5cdFx0XHRcdFx0ICAgJCgnLmpzLXJpbmctJyt0KS5maW5kKCdbaWRfdGFzaz0nK2lkX29sZCsnXScpLnJlbW92ZSgpO1xyXG5cdFx0XHRcdCAgIH1cclxuICAgICAgICAgICB9KTsgIFxyXG5cdFx0fVxyXG5cdFx0Ly/QodC60YDRi9GC0Ywg0LLQtdGB0Ywg0LHQu9C+0Log0LXRgdC70Lgg0YLQsNC8INC90LUg0L7RgdGC0LDQu9C+0YHRjCDQvdC1INC+0LTQvdC+0Lkg0LfQsNC00LDRh9C4XHJcblx0XHRcclxuXHRcdHZhciBjb3VudF9mYT0wO1xyXG5cdFx0Zm9yICggdmFyIHQgPSAwOyB0IDwgNDsgdCsrICkgeyBcclxuXHRcdFx0aWYoZGF0YS5jbG91ZF9kYXlbdF0ubGVuZ3RoPT0wKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JCgnLmpzLXJpbmctJyt0KS5oaWRlKCk7XHJcblx0XHRcdFx0aWYodCE9MylcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0ICAgY291bnRfZmErKztcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8v0J7QsdC90L7QstC70LXQvdC40LUg0YHRg9GJ0LXRgdGC0LLRg9GO0YnQuNGFINC30LDQtNCw0Ycg0LTQsNC90L3Ri9GFXHJcblx0XHQkLmVhY2goZGF0YS5jbG91ZCwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcclxuXHRcdFx0Ly92YWx1ZVswXVxyXG5cdFx0XHQvL9GB0LzQvtGC0YDQuNC8INC10YHRgtGMINC70Lgg0YLQsNC60LDRjyDQt9Cw0LTQsNGH0LBcclxuXHRcdFx0Ly9hbGVydCgkKCcuanMtcmluZy0nK3ZhbHVlWzBdKS5maW5kKCcudGFza19jbG9ja19zZWxlY3Rpb25baWRfdGFzaz1cIicrdmFsdWVbMl0rJ1wiXScpLmxlbmd0aCk7XHJcblx0XHRcdGlmKCQoJy5qcy1yaW5nLScrdmFsdWVbMF0pLmZpbmQoJy50YXNrX2Nsb2NrX3NlbGVjdGlvbltpZF90YXNrPVwiJyt2YWx1ZVsyXSsnXCJdJykubGVuZ3RoPjApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Ly/Qv9GA0L7RgdGC0L4g0L7QsdC90L7QstC40YLRjCDQtNCw0L3QvdGL0LUg0LIg0YHRg9GJ0LXRgdGC0LLRg9GO0YnQtdC5INC30LDQtNCw0YfQtVxyXG5cdFx0XHRcdFx0dmFyIGtvX2Jsb2NrPSQoJy50YXNrX2Nsb2NrX3NlbGVjdGlvbltpZF90YXNrPVwiJyt2YWx1ZVsyXSsnXCJdJyk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGlmKGluZGV4IT0zKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZigodmFsdWVbMV09PTEpfHwodmFsdWVbMV09PTIpKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGtvX2Jsb2NrLmZpbmQoJy5yaW5nLWNvbW0nKS5lbXB0eSgpLmFwcGVuZCh2YWx1ZVs1XSk7ICAvL9GC0LXQutGB0YJcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0a29fYmxvY2suZmluZCgnLnJpbmctY29tbScpLmVtcHR5KCkuYXBwZW5kKHZhbHVlWzVdKTsgIC8v0YLQtdC60YHRglxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGlmKGluZGV4IT0zKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ICAga29fYmxvY2suZmluZCgnLnRhc2tfX3RpbWUxJykuZW1wdHkoKS5hcHBlbmQodmFsdWVbNl0pOyAgLy/QstGA0LXQvNGPXHJcblx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdCAgIGtvX2Jsb2NrLmZpbmQoJy5yZWRfX3Rhc2snKS5lbXB0eSgpLmFwcGVuZCh2YWx1ZVs2XSk7ICAvL9Cy0YDQtdC80Y9cdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYodmFsdWVbMV09PTIpXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvL9GN0YLQviDQvtCx0YnQsNGPINC30LDQtNCw0YfQsCDRgdC80L7RgtGA0LjQvCDQutGC0L4g0LLRi9Cx0YDQsNC7INC10LVcclxuXHRcdFx0XHRcdFx0aWYodmFsdWVbN109PTApXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly/QvdC10YIg0L7RgtCy0LXRgtGB0YLQstC10L3QvdGL0YUg0Lgg0LLRi9Cx0YDQsNCy0YjQuNGFINGN0YLRgyDQt9Cw0LTQsNGH0YNcclxuXHRcdFx0XHRcdFx0XHRcdGtvX2Jsb2NrLmZpbmQoJy5jaG9pY2UtaGVhZCcpLmVtcHR5KCkuYXBwZW5kKCfQl9Cw0LHRgNCw0YLRjCDQt9Cw0LTQsNGH0YMg0L3QsCDRgdC10LHRjycpO1xyXG5cdFx0XHRcdFx0XHRcdFx0a29fYmxvY2suZmluZCgnLmNob2ljZS1yYWRpbyBpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV90YXNrX2NiJykuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0a29fYmxvY2suZmluZCgnLmNob2ljZS1yYWRpbyBpbnB1dCcpLnZhbCgwKTtcclxuXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZih2YWx1ZVs4XT09MSlcclxuXHRcdFx0XHRcdFx0XHQgICAgICAgIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRrb19ibG9jay5maW5kKCcuY2hvaWNlLWhlYWQnKS5lbXB0eSgpLmFwcGVuZCgn0JLRiyDQstC30Y/Qu9C40YHRjCDQt9CwINCy0YvQv9C+0LvQvdC10L3QuNC1Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0a29fYmxvY2suZmluZCgnLmNob2ljZS1yYWRpbyBpJykuc2hvdygpLmFkZENsYXNzKCdhY3RpdmVfdGFza19jYicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGtvX2Jsb2NrLmZpbmQoJy5jaG9pY2UtcmFkaW8gaW5wdXQnKS52YWwoMSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0a29fYmxvY2suZmluZCgnLmNob2ljZS1oZWFkJykuZW1wdHkoKS5hcHBlbmQoJ9CX0LDQtNCw0YfRgyDQstGL0L/QvtC70L3Rj9C10YIg4oaSIDxzdHJvbmc+Jyt2YWx1ZVs3XSsnPC9zdHJvbmc+Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0a29fYmxvY2suZmluZCgnLmNob2ljZS1yYWRpbyBpbnB1dCcpLnZhbCgwKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRrb19ibG9jay5maW5kKCcuY2hvaWNlLXJhZGlvIGknKS5yZW1vdmVDbGFzcygnYWN0aXZlX3Rhc2tfY2InKS5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdC8va29fYmxvY2suKCcuY2hvaWNlLWhlYWQnKS5lbXB0eSgpLmFwcGVuZCh2YWx1ZVs1XSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YPRjiDQt9Cw0LTQsNGH0YNcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly/QvtGC0LrRgNGL0LLQsNC10YIg0LLQtdGB0Ywg0LHQu9C+0Log0LrRg9C00LAg0LTQvtCx0LDQstC7LiDQt9Cw0LTQsNGH0LAsINCy0LTRgNGD0LMg0LXQs9C+INCx0YvQu9C+INC90LUg0LLQuNC00L3QvlxyXG5cdFx0XHRcdFx0dmFyIGJiZz0kKCcuanMtcmluZy0nK3ZhbHVlWzBdKTtcclxuXHRcdFx0XHRcdC8vYWxlcnQodmFsdWVbMF0pO1xyXG5cdFx0XHRcdFx0YmJnLnNob3coKTtcclxuXHRcdFx0XHRcdHZhciB0ZW1wX3Rhc2s9Jyc7XHJcblx0XHRcdFx0XHR2YXIgcmVkX2E9Jyc7XHJcblx0XHRcdFx0XHR2YXIgY2xhc3NfYmI9Jyc7XHJcblx0XHRcdFx0XHRpZih2YWx1ZVswXT09MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0cmVkX2E9J3JlZF9hbGwnO1xyXG5cdFx0XHRcdFx0Y2xhc3NfYmI9J3Rhc2stcmluZyc7XHRcdFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZih2YWx1ZVsxXT09MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdC8v0LTQtdC90Ywg0YDQvtC20LTQtdC90LjQtSAxLDIsMyw0INCx0LvQvtC6XHJcblx0XHRcdFx0XHRcdFx0aWYodmFsdWVbMF0hPTMpIHsgY2xhc3NfYmI9J2JpcnRoZGF5LXJpbmcnO1x0fVx0XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPSc8ZGl2IGlkX3Rhc2s9XCInK3ZhbHVlWzJdKydcIiBjbGFzcz1cIm5ldy10YXNrIHRhc2tfY2xvY2tfc2VsZWN0aW9uICcrY2xhc3NfYmIrJyAnK3JlZF9hKydcIj48ZGl2IGNsYXNzPVwidGFza19jbG9ja19zZWxlY3Rpb24xXCI+PGRpdiBjbGFzcz1cImNsb2NrX2NiYlwiPjxpPjwvaT48L2Rpdj48ZGl2IGNsYXNzPVwid2h5X3Rhc2tfY2JiXCI+JztcclxuXHRcdFx0XHRcdFx0XHRpZih2YWx1ZVswXSE9Mykge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8xLDIsMyDQsdC70L7QulxyXG5cdFx0XHRcdFx0XHRcdCAgICB0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8c3Bhbj7QlNC10L3RjCDRgNC+0LbQtNC10L3QuNGPPC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly80INCx0LvQvtC6XHRcclxuXHRcdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxzcGFuPtCX0LDQtNCw0YfQsCDihJYnK3ZhbHVlWzJdKyc8L3NwYW4+JztcdFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKycsIDxzcGFuIGNsYXNzPVwianMtY2xpZW50IHJpbmctdXNlciBqcy1nbHUtZi0nK3ZhbHVlWzExXSsnXCIgaW9kPVwiJyt2YWx1ZVsxMV0rJ1wiPsKrJyt2YWx1ZVs0XSsnwrs8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj4nK3ZhbHVlWzVdKyc8L2Rpdj4nO1x0XHRcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzwvZGl2PjxkaXYgY2xhc3M9XCJyaW5nLXRpbWVcIj4nO1xyXG5cdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxzcGFuIGNsYXNzPVwicmVkX190YXNrXCI+Jyt2YWx1ZVs2XSsnPC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPGRpdiByZWxfdGFza2s9XCInK3ZhbHVlWzJdKydcIiBkYXRhLXRvb2x0aXA9XCLQntGC0LzQtdGC0LjRgtGMINC60LDQuiDQstGL0L/QvtC70L3QtdC90LBcIiBjbGFzcz1cInRhc2tfX2NsaWNrMVwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdFx0XHRpZigodmFsdWVbMV09PTUpfHwodmFsdWVbMV09PTQpKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdC8v0LLRi9C70LXRgtCw0LXRgi/Qv9GA0LjQu9C10YLQsNC10YIgMSwyLDMg0LHQu9C+0LpcclxuXHRcdFx0XHRcdFx0XHRpZih2YWx1ZVsxXT09NSlcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGZsdD0nZmx5ZW5kLXJpbmcnO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZmx0MT0nZmx5LXJpbmctZW5kJztcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZmx0PSdmbHlzdGFydC1yaW5nJztcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZmx0MT0nZmx5LXJpbmctc3RhcnQnO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXT09MylcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly80INCx0LvQvtC6XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBmbHQ9J3Rhc2stcmluZyc7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBmbHQxPScnO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz0nPGRpdiBpZF90YXNrPVwiJyt2YWx1ZVsyXSsnXCIgY2xhc3M9XCJuZXctdGFzayB0YXNrX2Nsb2NrX3NlbGVjdGlvbiAnK2ZsdCsnICcrcmVkX2ErJ1wiPjxkaXYgY2xhc3M9XCJ0YXNrX2Nsb2NrX3NlbGVjdGlvbjFcIj48ZGl2IGNsYXNzPVwiY2xvY2tfY2JiXCI+PGk+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJ3aHlfdGFza19jYmJcIj4nO1xyXG5cdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdIT0zKVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxhIGhyZWY9XCJib29raW5nLycrdmFsdWVbOV0rJy9cIj48c3Ryb25nPicrdmFsdWVbMTBdKyc8L3N0cm9uZz48L2E+JztcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly80INCx0LvQvtC6XHRcclxuXHRcdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxzcGFuPtCX0LDQtNCw0YfQsCDihJYnK3ZhbHVlWzJdKyc8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJywgPHNwYW4gY2xhc3M9XCJqcy1jbGllbnQgcmluZy11c2VyIGpzLWdsdS1mLScrdmFsdWVbMTFdKydcIiBpb2Q9XCInK3ZhbHVlWzExXSsnXCI+wqsnK3ZhbHVlWzRdKyfCuzwvc3Bhbj4nO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXY+PGEgaHJlZj1cImJvb2tpbmcvJyt2YWx1ZVs5XSsnL1wiPjxzdHJvbmc+Jyt2YWx1ZVsxMF0rJzwvc3Ryb25nPjwvYT48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj4nK3ZhbHVlWzVdKyc8L2Rpdj4nO1x0XHRcclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzwvZGl2PjxkaXYgY2xhc3M9XCJyaW5nLXRpbWVcIj4nO1xyXG5cdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdIT0zKVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJ0YXNrX190aW1lMSAnK2ZsdDErJ1wiPicrdmFsdWVbNl0rJzwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxzcGFuIGNsYXNzPVwicmVkX190YXNrXCI+Jyt2YWx1ZVs2XSsnPC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8ZGl2IHJlbF90YXNraz1cIicrdmFsdWVbMl0rJ1wiIGRhdGEtdG9vbHRpcD1cItCe0YLQvNC10YLQuNGC0Ywg0LrQsNC6INCy0YvQv9C+0LvQvdC10L3QsFwiIGNsYXNzPVwidGFza19fY2xpY2sxXCI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHRpZigodmFsdWVbMV09PTYpfHwodmFsdWVbMV09PTcpKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQvL9Cy0YvQu9C10YLQsNC10YIv0L/RgNC40LvQtdGC0LDQtdGCXHJcblx0XHRcdFx0XHRcdGlmKHZhbHVlWzFdPT03KVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGZsdD0nZmx5ZW5kLXJpbmcnO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBmbHQxPSdmbHktcmluZy1lbmQnO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHZhciBmbHQ9J2ZseXN0YXJ0LXJpbmcnO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBmbHQxPSdmbHktcmluZy1zdGFydCc7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYodmFsdWVbMF09PTMpXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvLzQg0LHQu9C+0LpcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmx0PSd0YXNrLXJpbmcnO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBmbHQxPScnO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRcdFx0dGVtcF90YXNrPSc8ZGl2IGlkX3Rhc2s9XCInK3ZhbHVlWzJdKydcIiBjbGFzcz1cIm5ldy10YXNrIHRhc2tfY2xvY2tfc2VsZWN0aW9uICcrZmx0KycgJytyZWRfYSsnXCI+PGRpdiBjbGFzcz1cInRhc2tfY2xvY2tfc2VsZWN0aW9uMVwiPjxkaXYgY2xhc3M9XCJjbG9ja19jYmJcIj48aT48L2k+PC9kaXY+PGRpdiBjbGFzcz1cIndoeV90YXNrX2NiYlwiPic7XHJcblx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdIT0zKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPGEgaHJlZj1cInRvdXJzLy5pZC0nK3ZhbHVlWzldKydcIj48c3Ryb25nPicrdmFsdWVbMTBdKyc8L3N0cm9uZz48L2E+JztcclxuXHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvLzQg0LHQu9C+0LpcclxuXHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8c3Bhbj7Ql9Cw0LTQsNGH0LAg4oSWJyt2YWx1ZVsyXSsnPC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdFx0XHR2YXIgYXMgPSB2YWx1ZVsxMV0uc3BsaXQoJy0nKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmKGFzWzBdPT0xKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly/Rh9Cw0YHRgtC90L7QtSDQu9C40YbQvlxyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzayA9IHRlbXBfdGFzayArICcsIDxzcGFuIGNsYXNzPVwianMtY2xpZW50IHJpbmctdXNlciBqcy1nbHUtZi0nICsgYXNbMV0gKyAnXCIgaW9kPVwiJyArIGFzWzFdICsgJ1wiPsKrJyArIHZhbHVlWzRdICsgJ8K7PC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Ly/QvtGA0LPQsNC90LjQt9Cw0YbQuNGPXHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrID0gdGVtcF90YXNrICsgJywgPHNwYW4gY2xhc3M9XCJqcy1vcmcgcmluZy11c2VyIGpzLWdsby1mLScgKyBhc1sxXSArICdcIiBpb2Q9XCInICsgYXNbMV0gKyAnXCI+wqsnICsgdmFsdWVbNF0gKyAnwrs8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPGRpdj48YSBocmVmPVwidG91cnMvLmlkLScrdmFsdWVbOV0rJ1wiPjxzdHJvbmc+Jyt2YWx1ZVsxMF0rJzwvc3Ryb25nPjwvYT48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPGRpdiBjbGFzcz1cInJpbmctY29tbVwiPicrdmFsdWVbNV0rJzwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPGRpdiBjbGFzcz1cInJpbmctY29tbVwiPjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPC9kaXY+PGRpdiBjbGFzcz1cInJpbmctdGltZVwiPic7XHJcblx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdIT0zKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPGRpdiBjbGFzcz1cInRhc2tfX3RpbWUxICcrZmx0MSsnXCI+Jyt2YWx1ZVs2XSsnPC9kaXY+JztcclxuXHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8c3BhbiBjbGFzcz1cInJlZF9fdGFza1wiPicrdmFsdWVbNl0rJzwvc3Bhbj4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzwvZGl2PjwvZGl2PjwvZGl2Pic7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHJcblx0XHRcdFx0XHRpZigodmFsdWVbMV09PTkpKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQvL9Cy0L/QtdGH0LDRgtC70LXQvdC40LUg0YLRg9GA0YtcclxuXHJcblx0XHRcdFx0XHRcdFx0dmFyIGZsdD0nZmx5Y2hhdC1yaW5nJztcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmx0MT0nJztcclxuXHJcblx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Ly80INCx0LvQvtC6XHJcblx0XHRcdFx0XHRcdFx0dmFyIGZsdD0ndGFzay1yaW5nJztcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmx0MT0nJztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHRcdHRlbXBfdGFzaz0nPGRpdiBpZF90YXNrPVwiJyt2YWx1ZVsyXSsnXCIgY2xhc3M9XCJuZXctdGFzayB0YXNrX2Nsb2NrX3NlbGVjdGlvbiAnK2ZsdCsnICcrcmVkX2ErJ1wiPjxkaXYgY2xhc3M9XCJ0YXNrX2Nsb2NrX3NlbGVjdGlvbjFcIj48ZGl2IGNsYXNzPVwiY2xvY2tfY2JiXCI+PGk+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJ3aHlfdGFza19jYmJcIj4nO1xyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXSE9MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxhIGhyZWY9XCJ0b3Vycy8uaWQtJyt2YWx1ZVs5XSsnXCI+PHN0cm9uZz4nK3ZhbHVlWzEwXSsnPC9zdHJvbmc+PC9hPic7XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Ly80INCx0LvQvtC6XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPHNwYW4+0JfQsNC00LDRh9CwIOKElicrdmFsdWVbMl0rJzwvc3Bhbj4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRcdFx0aWYodmFsdWVbMF0hPTMpIHtcclxuXHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2sgPSB0ZW1wX3Rhc2sgKyAnLCA8c3BhbiBjbGFzcz1cInJpbmctdXNlclwiPtCj0LfQvdCw0YLRjCDQstC/0LXRh9Cw0YLQu9C10L3QuNC1INC/0L4g0YLRg9GA0YM8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblxyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXT09MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXY+PGEgaHJlZj1cInRvdXJzLy5pZC0nK3ZhbHVlWzldKydcIj48c3Ryb25nPicrdmFsdWVbMTBdKyc8L3N0cm9uZz48L2E+PC9kaXY+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXT09MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj4nK3ZhbHVlWzVdKyc8L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzwvZGl2PjxkaXYgY2xhc3M9XCJyaW5nLXRpbWVcIj4nO1xyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXSE9MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJ0YXNrX190aW1lMSAnK2ZsdDErJ1wiPjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPHNwYW4gY2xhc3M9XCJyZWRfX3Rhc2tcIj4nK3ZhbHVlWzZdKyc8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8ZGl2IHJlbF90YXNraz1cIicrdmFsdWVbMl0rJ1wiIGRhdGEtdG9vbHRpcD1cItCe0YLQvNC10YLQuNGC0Ywg0LrQsNC6INCy0YvQv9C+0LvQvdC10L3QsFwiIGNsYXNzPVwidGFza19fY2xpY2sxXCI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+JztcclxuXHRcdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdFx0aWYoKHZhbHVlWzFdPT04KSlcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Ly/RgdGA0L7QuiDQvtC/0LvQsNGC0Ysg0L7RgiDQutC70LjQtdC90YLQsFxyXG5cclxuXHRcdFx0XHRcdFx0dmFyIGZsdD0nZmx5bW9uZXktcmluZyc7XHJcblx0XHRcdFx0XHRcdHZhciBmbHQxPScnO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYodmFsdWVbMF09PTMpXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvLzQg0LHQu9C+0LpcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmx0PSd0YXNrLXJpbmcnO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBmbHQxPScnO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRcdFx0dGVtcF90YXNrPSc8ZGl2IGlkX3Rhc2s9XCInK3ZhbHVlWzJdKydcIiBjbGFzcz1cIm5ldy10YXNrIHRhc2tfY2xvY2tfc2VsZWN0aW9uICcrZmx0KycgJytyZWRfYSsnXCI+PGRpdiBjbGFzcz1cInRhc2tfY2xvY2tfc2VsZWN0aW9uMVwiPjxkaXYgY2xhc3M9XCJjbG9ja19jYmJcIj48aT48L2k+PC9kaXY+PGRpdiBjbGFzcz1cIndoeV90YXNrX2NiYlwiPic7XHJcblx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdIT0zKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPGEgaHJlZj1cInRvdXJzLy5pZC0nK3ZhbHVlWzldKydcIj48c3Ryb25nPicrdmFsdWVbMTBdKyc8L3N0cm9uZz48L2E+JztcclxuXHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvLzQg0LHQu9C+0LpcclxuXHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8c3Bhbj7Ql9Cw0LTQsNGH0LAg4oSWJyt2YWx1ZVsyXSsnPC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXSE9Mykge1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzayA9IHRlbXBfdGFzayArICcsIDxzcGFuIGNsYXNzPVwicmluZy11c2VyXCI+0KHRgNC+0Log0L7Qv9C70LDRgtGLINC+0YIg0LrQu9C40LXQvdGC0LA8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblxyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXT09MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXY+PGEgaHJlZj1cInRvdXJzLy5pZC0nK3ZhbHVlWzldKydcIj48c3Ryb25nPicrdmFsdWVbMTBdKyc8L3N0cm9uZz48L2E+PC9kaXY+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXT09MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj4nK3ZhbHVlWzVdKyc8L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzwvZGl2PjxkaXYgY2xhc3M9XCJyaW5nLXRpbWVcIj4nO1xyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXSE9MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJ0YXNrX190aW1lMSAnK2ZsdDErJ1wiPjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPHNwYW4gY2xhc3M9XCJyZWRfX3Rhc2tcIj4nK3ZhbHVlWzZdKyc8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8L2Rpdj48L2Rpdj48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmKCh2YWx1ZVsxXT09MTApKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHQvL9GB0YDQvtC6INC+0L/Qu9Cw0YLRiyDRgtGD0YDQvtC/0LXRgNCw0YLQvtGA0LBcclxuXHJcblx0XHRcdFx0XHRcdHZhciBmbHQ9J2ZseW1vbmV5LXJpbmcnO1xyXG5cdFx0XHRcdFx0XHR2YXIgZmx0MT0nJztcclxuXHJcblx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Ly80INCx0LvQvtC6XHJcblx0XHRcdFx0XHRcdFx0dmFyIGZsdD0ndGFzay1yaW5nJztcclxuXHRcdFx0XHRcdFx0XHR2YXIgZmx0MT0nJztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHRcdHRlbXBfdGFzaz0nPGRpdiBpZF90YXNrPVwiJyt2YWx1ZVsyXSsnXCIgY2xhc3M9XCJuZXctdGFzayB0YXNrX2Nsb2NrX3NlbGVjdGlvbiAnK2ZsdCsnICcrcmVkX2ErJ1wiPjxkaXYgY2xhc3M9XCJ0YXNrX2Nsb2NrX3NlbGVjdGlvbjFcIj48ZGl2IGNsYXNzPVwiY2xvY2tfY2JiXCI+PGk+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJ3aHlfdGFza19jYmJcIj4nO1xyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXSE9MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxhIGhyZWY9XCJ0b3Vycy8uaWQtJyt2YWx1ZVs5XSsnXCI+PHN0cm9uZz4nK3ZhbHVlWzEwXSsnPC9zdHJvbmc+PC9hPic7XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Ly80INCx0LvQvtC6XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPHNwYW4+0JfQsNC00LDRh9CwIOKElicrdmFsdWVbMl0rJzwvc3Bhbj4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRcdFx0aWYodmFsdWVbMF0hPTMpIHtcclxuXHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2sgPSB0ZW1wX3Rhc2sgKyAnLCA8c3BhbiBjbGFzcz1cInJpbmctdXNlclwiPtCh0YDQvtC6INC+0L/Qu9Cw0YLRiyDRgtGD0YDQvtC/0LXRgNCw0YLQvtGA0YM8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblxyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXT09MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXY+PGEgaHJlZj1cInRvdXJzLy5pZC0nK3ZhbHVlWzldKydcIj48c3Ryb25nPicrdmFsdWVbMTBdKyc8L3N0cm9uZz48L2E+PC9kaXY+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXT09MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj4nK3ZhbHVlWzVdKyc8L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJyaW5nLWNvbW1cIj48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzwvZGl2PjxkaXYgY2xhc3M9XCJyaW5nLXRpbWVcIj4nO1xyXG5cdFx0XHRcdFx0XHRpZih2YWx1ZVswXSE9MylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdHRlbXBfdGFzaz10ZW1wX3Rhc2srJzxkaXYgY2xhc3M9XCJ0YXNrX190aW1lMSAnK2ZsdDErJ1wiPjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPHNwYW4gY2xhc3M9XCJyZWRfX3Rhc2tcIj4nK3ZhbHVlWzZdKyc8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8L2Rpdj48L2Rpdj48L2Rpdj4nO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmKCgodmFsdWVbMV09PTEpfHwodmFsdWVbMV09PTIpKSlcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdC8v0L/RgNC+0YHRgtC+INC40LvQuCDQvtCx0YnQsNGPINC30LDQtNCw0YfQsCAxLDIsMyw0INCx0LvQvtC6XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0aWYodmFsdWVbMV09PTEpXHJcblx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8v0L/RgNC+0YHRgtCw0Y9cclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHBycz0ndGFzay1yaW5nJztcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHByczE9J9CX0LDQtNCw0YfQsCc7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBwcnMyPScnO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdC8v0L7QsdGJ0LDRj1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcHJzPSd0YXNrLXJpbmctYWxsJztcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcHJzMT0n0J7QsdGJ0LDRjyDQt9Cw0LTQsNGH0LAnO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzddPT0wKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBwcnMyPSc8ZGl2IGNsYXNzPVwicmluZy1jb21tLW9wdGlvblwiPjxkaXYgY2xhc3M9XCJpbnB1dC1jaG9pY2UtY2xpY2stdGFza1wiPjxkaXYgY2xhc3M9XCJjaG9pY2UtaGVhZFwiPtCX0LDQsdGA0LDRgtGMINC30LDQtNCw0YfRgyDQvdCwINGB0LXQsdGPPC9kaXY+PGRpdiBjbGFzcz1cImNob2ljZS1yYWRpb1wiPjxkaXYgY2xhc3M9XCJjZW50ZXJfdmVydDFcIj48aSBjbGFzcz1cIlwiPjwvaT48aW5wdXQgbmFtZT1cIlwiIGlkPVwiXCIgdmFsdWU9XCIwXCIgdHlwZT1cImhpZGRlblwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYodmFsdWVbOF09PTEpXHJcblx0XHRcdFx0XHRcdFx0ICAgICAgICB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgcHJzMj0nPGRpdiBjbGFzcz1cInJpbmctY29tbS1vcHRpb25cIj48ZGl2IGNsYXNzPVwiaW5wdXQtY2hvaWNlLWNsaWNrLXRhc2sganMtY2hvaWNlLXRhc2steVwiPjxkaXYgY2xhc3M9XCJjaG9pY2UtaGVhZFwiPtCS0Ysg0LLQt9GP0LvQuNGB0Ywg0LfQsCDQstGL0L/QvtC70L3QtdC90LjQtTwvZGl2PjxkaXYgY2xhc3M9XCJjaG9pY2UtcmFkaW9cIj48ZGl2IGNsYXNzPVwiY2VudGVyX3ZlcnQxXCI+PGkgY2xhc3M9XCJhY3RpdmVfdGFza19jYlwiPjwvaT48aW5wdXQgbmFtZT1cIlwiIGlkPVwiXCIgdmFsdWU9XCIxXCIgdHlwZT1cImhpZGRlblwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgcHJzMj0nPGRpdiBjbGFzcz1cInJpbmctY29tbS1vcHRpb25cIj48ZGl2IGNsYXNzPVwiaW5wdXQtY2hvaWNlLWNsaWNrLXRhc2tcIj48ZGl2IGNsYXNzPVwiY2hvaWNlLWhlYWRcIj7Ql9Cw0LTQsNGH0YMg0LLRi9C/0L7Qu9C90Y/QtdGCIOKGkiA8c3Ryb25nPicrdmFsdWVbN10rJzwvc3Ryb25nPjwvZGl2PjxkaXYgY2xhc3M9XCJjaG9pY2UtcmFkaW9cIj48ZGl2IGNsYXNzPVwiY2VudGVyX3ZlcnQxXCI+PGkgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCIgY2xhc3M9XCJhY3RpdmVfdGFza19jYlwiPjwvaT48aW5wdXQgbmFtZT1cIlwiIGlkPVwiXCIgdmFsdWU9XCIwXCIgdHlwZT1cImhpZGRlblwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPSc8ZGl2IGlkX3Rhc2s9XCInK3ZhbHVlWzJdKydcIiBjbGFzcz1cIm5ldy10YXNrIHRhc2tfY2xvY2tfc2VsZWN0aW9uICcrcHJzKycgICcrcmVkX2ErJ1wiPjxkaXYgY2xhc3M9XCJ0YXNrX2Nsb2NrX3NlbGVjdGlvbjFcIj48ZGl2IGNsYXNzPVwiY2xvY2tfY2JiXCI+PGk+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJ3aHlfdGFza19jYmJcIj48c3Bhbj4nK3ByczErJyDihJYnK3ZhbHVlWzJdKyc8L3NwYW4+JztcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRpZih2YWx1ZVszXSE9MClcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvL9GBINC60LXQvCDRgtC+INGB0LLRj9C30LDQvdCwXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzNdPT0xKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8v0YfQsNGB0YLQvdC+0LUv0L/QvtGC0LXQvdGGXHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnLCA8c3BhbiBjbGFzcz1cImpzLWNsaWVudCByaW5nLXVzZXIganMtZ2x1LWYtJyt2YWx1ZVsxMV0rJ1wiIGlvZD1cIicrdmFsdWVbMTFdKydcIj7CqycrdmFsdWVbNF0rJ8K7PC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0aWYodmFsdWVbM109PTIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly/QvtGA0LPQsNC90LjQt9Cw0YbQuNGPXHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnLCA8c3BhbiBjbGFzcz1cImpzLW9yZyByaW5nLXVzZXIganMtZ2xvLW4tJyt2YWx1ZVsxMV0rJ1wiIGlvZD1cIicrdmFsdWVbMTFdKydcIj7CqycrdmFsdWVbNF0rJ8K7PC9zcGFuPic7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8ZGl2IGNsYXNzPVwicmluZy1jb21tXCI+Jyt2YWx1ZVs1XSsnPC9kaXY+JytwcnMyKyc8L2Rpdj48ZGl2IGNsYXNzPVwicmluZy10aW1lXCI+JztcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKHZhbHVlWzBdPT0zKVxyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8c3BhbiBjbGFzcz1cInJlZF9fdGFza1wiPicrdmFsdWVbNl0rJzwvc3Bhbj4nO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0ZW1wX3Rhc2s9dGVtcF90YXNrKyc8ZGl2IGNsYXNzPVwidGFza19fdGltZTFcIj4nK3ZhbHVlWzZdKyc8L2Rpdj4nO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0dGVtcF90YXNrPXRlbXBfdGFzaysnPGRpdiByZWxfdGFza2s9XCInK3ZhbHVlWzJdKydcIiBkYXRhLXRvb2x0aXA9XCLQntGC0LzQtdGC0LjRgtGMINC60LDQuiDQstGL0L/QvtC70L3QtdC90LBcIiBjbGFzcz1cInRhc2tfX2NsaWNrMVwiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0YmJnLmZpbmQoJy5ibG9jay1yaW5nLXgnKS5wcmVwZW5kKHRlbXBfdGFzayk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCcudGFza19jbG9ja19zZWxlY3Rpb25baWRfdGFzaz1cIicrdmFsdWVbMl0rJ1wiXScpLnJlbW92ZUNsYXNzKCduZXctdGFzaycpOyB9LCA0MDAwICk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH1cclxuXHJcbiAgICAgICAgfSk7XHRcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRcclxuXHRcdFx0XHRcdFx0XHQvL9GA0LDQt9Cx0LjRgNCw0LXQvNGB0Y8g0YEg0LrQvdC+0L/QutCw0LzQuCDQtdGJ0LUg0LTQu9GPINCx0LvQvtC60L7QsiDRgdC10LPQvtC00L3Rjywg0LfQsNCy0YLRgNCwLCDQv9C+0YHQu9C10LfQsNCy0YLRgNCwLCDQv9GA0L7RgdGA0L7Rh9C10L3QvdGL0LVcclxuXHRcdFx0Zm9yICggdmFyIHQgPSAwOyB0IDwgNDsgdCsrICkgeyBcclxuXHRcdFx0XHRcdHZhciBlc2hlX2p2PSQoJy5qcy1yaW5nLScrdCkuZmluZCgnLmVzaGUtcmluZycpO1xyXG5cdFx0XHRcdFx0dmFyIG1heD1lc2hlX2p2LmF0dHIoJ21heCcpO1xyXG5cdFx0XHRcdFx0dmFyIGFsbF9ibG9jaz0kKCcuanMtcmluZy0nK3QpLmZpbmQoJy50YXNrX2Nsb2NrX3NlbGVjdGlvbicpLmxlbmd0aDtcclxuXHRcdFx0XHRcdHZhciBub192aXNpYmxlPXBhcnNlSW50KGFsbF9ibG9jayktcGFyc2VJbnQobWF4KTtcclxuXHRcdFx0XHQvL2FsZXJ0KG5vX3Zpc2libGUpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgZXNoZV92PTA7XHJcblx0XHRcdFx0XHR2YXIgZXNoZV9vPTA7XHJcblx0XHRcdFx0XHRpZihlc2hlX2p2LmlzKCc6dmlzaWJsZScpKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Ly/Rg9C20LUg0L/QvtC60LDQt9GL0LLQsNC10YLRgdGPINC60L3QvtC/0LrQsFxyXG5cdFx0XHRcdFx0XHRcdHZhciBlc2hlX3Y9MTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYoZXNoZV9qdi5pcygnLmFjdGl2ZS1yaW5nJykpXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHQvL9GD0LbQtSDQvtGC0LrRgNGL0YLQsFxyXG5cdFx0XHRcdFx0XHRcdHZhciBlc2hlX289MTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZihlc2hlX3Y9PTApXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdC8v0L3QtSDQsdGL0LvQviDQstC40LTQvdC+INC90L4g0YLQtdC/0LXRgNGMINCy0LjQtNC90L4g0Lgg0L7QtNC40L0g0L3QsNC00L4g0YHQutGA0YvRgtGMXHJcblx0XHRcdFx0XHRcdGlmKGFsbF9ibG9jaz5tYXgpXHJcblx0XHRcdFx0XHRcdHtcclxuIFx0XHRcdFx0XHRcdCAgIGVzaGVfanYuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHQgICBlc2hlX2p2LmZpbmQoJy5yaW5nLXgxJykuZW1wdHkoKS5hcHBlbmQoJ9C10YnQtSAnK25vX3Zpc2libGUpO1xyXG5cclxuXHRcdFx0XHRcdFx0ICAgLy/RgdC60YDRi9GC0Ywg0YLQtSDQutC+0YLQvtGA0YvQtSDQvdC10LLQuNC00LjQvNGL0LUg0LTQvtC70LbQvdGLINCx0YvRgtGMXHJcblx0XHRcdFx0XHRcdCAgICQoJy5qcy1yaW5nLScrdCkuZmluZCgnLnRhc2tfY2xvY2tfc2VsZWN0aW9uJykucmVtb3ZlQ2xhc3MoJ21heC1kYXktcmluZycpO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQgICAkKCcuanMtcmluZy0nK3QpLmZpbmQoJy50YXNrX2Nsb2NrX3NlbGVjdGlvbicpLmVhY2goZnVuY3Rpb24oaSxlbGVtKSB7XHJcblx0XHRcdFx0XHRcdFx0ICAgXHJcblx0XHRcdFx0XHRcdFx0ICAgaWYoaT49bWF4KVxyXG5cdFx0XHRcdFx0XHRcdFx0ICAge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQgICAkKHRoaXMpLmFkZENsYXNzKCdtYXgtZGF5LXJpbmcnKS5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHQgICB9XHJcblx0XHRcdFx0XHRcdFx0ICAgXHJcblx0XHRcdFx0XHRcdCAgIH0pO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZigoKGVzaGVfdj09MSkmJihlc2hlX289PTApKSlcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Ly/QutC90L7Qv9C60LAg0LXRidC1INGD0LbQtSDQtdGB0YLRjCDQuCDQstC40LTQvdCwINCd0L4g0L3QtSDQvdCw0LbQsNGC0LAg0YDQsNGB0LrRgNGL0YLRjCDQstGB0LVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXNoZV9qdi5maW5kKCcucmluZy14MScpLmVtcHR5KCkuYXBwZW5kKCfQtdGJ0LUgJytub192aXNpYmxlKTtcclxuXHRcdFx0XHRcdFx0JCgnLmpzLXJpbmctJyt0KS5maW5kKCcudGFza19jbG9ja19zZWxlY3Rpb24nKS5yZW1vdmVDbGFzcygnbWF4LWRheS1yaW5nJyk7XHJcblx0XHRcdFx0XHRcdCQoJy5qcy1yaW5nLScrdCkuZmluZCgnLnRhc2tfY2xvY2tfc2VsZWN0aW9uJykuZWFjaChmdW5jdGlvbihpLGVsZW0pIHtcclxuXHRcdFx0XHRcdFx0XHQgICBcclxuXHRcdFx0XHRcdFx0XHQgICBpZihpPj1tYXgpXHJcblx0XHRcdFx0XHRcdFx0XHQgICB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCAgICQodGhpcykuYWRkQ2xhc3MoJ21heC1kYXktcmluZycpLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdCAgIH1cclxuXHRcdFx0XHRcdFx0XHQgICBcclxuXHRcdFx0XHRcdFx0ICAgfSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZigoKGVzaGVfdj09MSkmJihlc2hlX289PTEpKSlcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Ly/QutC90L7Qv9C60LAg0LXRidC1INGD0LbQtSDQtdGB0YLRjCDQuCDQstC40LTQvdCwINC4INGA0LDRgdC60YDRi9GC0LAg0L/QvtC60LDQt9Cw0YLRjCDQstGB0LVcclxuXHRcdFx0XHRcdFx0IGVzaGVfanYuZmluZCgnLnJpbmcteDEnKS5lbXB0eSgpLmFwcGVuZCgn0LXRidC1ICcrbm9fdmlzaWJsZSk7XHJcblx0XHRcdFx0XHRcdCAkKCcuanMtcmluZy0nK3QpLmZpbmQoJy50YXNrX2Nsb2NrX3NlbGVjdGlvbicpLnJlbW92ZUNsYXNzKCdtYXgtZGF5LXJpbmcnKTtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0ICAgJCgnLmpzLXJpbmctJyt0KS5maW5kKCcudGFza19jbG9ja19zZWxlY3Rpb24nKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG5cdFx0XHRcdFx0XHRcdCAgIFxyXG5cdFx0XHRcdFx0XHRcdCAgIGlmKGk+PW1heClcclxuXHRcdFx0XHRcdFx0XHRcdCAgIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICAgJCh0aGlzKS5hZGRDbGFzcygnbWF4LWRheS1yaW5nJyk7XHJcblx0XHRcdFx0XHRcdFx0XHQgICB9XHJcblx0XHRcdFx0XHRcdFx0ICAgXHJcblx0XHRcdFx0XHRcdCAgIH0pO1xyXG5cdFx0XHRcdFx0fVx0XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYoYWxsX2Jsb2NrPD1tYXgpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdC8vYWxlcnQoXCIhXCIpO1xyXG5cdFx0XHRcdFx0XHRlc2hlX2p2LmhpZGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0XHRcdFx0Ly/Qv9C+0LrQsNC30LDRgtGMINC40LvQuCDRgdC60YDRi9GC0Ywg0LLRgdGOINC/0YDQsNCy0YPRjiDRgdGC0L7RgNC+0L3RgyDQt9Cw0LTQsNGHLiDQstC00YDRg9CzINGC0LDQvCDQvdC10YJcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYoY291bnRfZmE9PTMpXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Ly/QodC60YDRi9GC0Ywg0LLQvtC+0LHRidC1INC/0YDQsNCy0YPRjiDRh9Cw0YHRgtGMXHJcblx0XHRcdFx0XHRcdCAgICAkKCcudGFzay1sZWZ0JykuY3NzKFwid2lkdGhcIiwgXCIxMDAlXCIpO1xyXG5cdFx0XHRcdFx0XHQgICAgJCgnLnRhc2stcmlnaHQnKS5oaWRlKCk7XHJcblx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0ICAgICQoJy50YXNrLWxlZnQnKS5jc3MoXCJ3aWR0aFwiLCBcIjUwJVwiKTtcclxuXHRcdFx0XHRcdFx0ICAgICQoJy50YXNrLXJpZ2h0Jykuc2hvdygpO1x0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHRcclxuXHRcdFxyXG5cdFx0XHJcblx0fVxyXG59XHJcblxyXG5cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINC+0L/RgNC10LTQtdC70LXQvdC40LUg0L3QvtCy0YvRhSDRg9Cy0LXQtNC+0LzQu9C10L3QuNC5XHJcbmZ1bmN0aW9uIEFmdGVyTm90aWZpY2F0aW9uKGRhdGEsdXBkYXRlKVxyXG57XHJcblx0aWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG5cdHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fVxyXG5cclxuXHRpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuXHR7XHJcblx0XHQkKCcudXNlcnNfcnVsZScpLmF0dHIoJ25vdCcsZGF0YS50ayk7XHJcblx0XHRpZihkYXRhLm5vdD09MClcclxuXHRcdHtcclxuXHRcdFx0Ly/RgdC60YDRi9Cy0LDQtdC8INGD0LLQtdC00L7QvNC70LXQvdC40Y8g0Lgg0LrQvtC70LjRh9C10YHRgtCy0L4g0YHRgtCw0LLQuNC8IDBcdFxyXG5cdFx0XHQkKCcubm90X2xpJykuZmluZCgnaScpLmVtcHR5KCk7XHJcblx0XHRcdCQoJy5ub3RfbGknKS5maW5kKCdpJykuaGlkZSgpO1xyXG5cdFx0XHQkKCcudmlld19fbm90JykuaGlkZSgpO1xyXG5cdFx0fSBlbHNlXHJcblx0XHR7XHJcblx0XHRcdCQoJy5ub3RfbGknKS5maW5kKCdpJykuZW1wdHkoKS5hcHBlbmQoZGF0YS5ub3QpO1xyXG5cdFx0XHQkKCcubm90X2xpJykuZmluZCgnaScpLnNob3coKTtcclxuXHRcdFx0JCgnLnZpZXdfX25vdCcpLmNzcyggXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIgKTtcclxuXHRcdFx0JCgnI2NoYXRBdWRpbycpWzBdLnBsYXkoKTtcclxuXHJcblx0XHRcdGFsZXJ0X21lc3NhZ2UoJ29rJywn0KMg0LLQsNGBINC90L7QstGL0LUg0YPQstC10LTQvtC80LvQtdC90LjRjycpO1xyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxufVxyXG5cdFxyXG5cdFxyXG5mdW5jdGlvbiBBZnRlck1FU1MoZGF0YSx1cGRhdGUpXHJcbntcclxuXHRcdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fVxyXG5cdFxyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdvaycgKVxyXG4gICAge1xyXG5cdFx0JCgnLmNvbnRlbnRfYmxvY2snKS5hdHRyKCduJyxkYXRhLm5fc3QpO1xyXG5cdFx0JCgnLmhpc3RvcnlfbWVzc2FnZScpLmF0dHIoJ3NfbScsZGF0YS5wb28pO1xyXG5cdFx0dmFyIEIgPSBkb2N1bWVudC5ib2R5O1xyXG5cdFx0dmFyIHNjPUIuc2Nyb2xsSGVpZ2h0O1xyXG5cdFx0XHJcblx0XHQkKCcucGFkZGluZ19tZXNzJykucHJlcGVuZChkYXRhLmVjaG8pO1xyXG5cdFxyXG5cdFx0XHJcblx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwoQi5zY3JvbGxIZWlnaHQgLSBzYyAgKyBCLnNjcm9sbFRvcCkpO1xyXG5cdFx0aWYoIGRhdGEuZXNoZT09MSApXHJcblx0XHRcdHtcclxuXHRcdCQoJy5wYWRkaW5nX21lc3MnKS5wcmVwZW5kKCQoJy5oaXN0b3J5X21lc3NhZ2UnKSk7XHJcblx0XHQkKCcuaGlzdG9yeV9tZXNzYWdlJykuc2hvdygpO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHQkKCcuaGlzdG9yeV9tZXNzYWdlJykucmVtb3ZlKCk7XHJcblx0XHRcdFx0fVxyXG5cdH1cclxuXHRcdGlmICggZGF0YS5zdGF0dXM9PSdlcnJvcicgKVxyXG4gICAge1xyXG5cdFx0JCgnLmhpc3RvcnlfbWVzc2FnZScpLnJlbW92ZSgpO1xyXG5cdH1cclxuXHRcclxufVxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gQWZ0ZXJUZXN0KGRhdGEsdXBkYXRlKVxyXG57XHJcblx0JCgnLmpzLWNsb3VkJykuZW1wdHkoKS5hcHBlbmQoZGF0YS50ZXN0KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIEFmdGVyU2F2ZUFuc3dlcihkYXRhLHVwZGF0ZSlcclxue1xyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuXHRcdFdpbmRvd0xvZ2luKCk7XHJcblx0fVxyXG5cdFxyXG5cdGlmICggZGF0YS5zdGF0dXM9PSdlcnJvcicgKVxyXG4gICAge1xyXG5cdFx0JCgnW29wX3JlbD0nK3VwZGF0ZSsnXScpLmZpbmQoJy5zYXZlX2FubmEnKS5zaG93KCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuXHJcbi8v0LzQtdC90Y4g0LLRi9Cx0L7RgNCwINCz0L7RgNC+0LTQsC3QutCy0LDRgNGC0LDQu9CwINC4INC00L7QvNCwINCyINGB0LXQsdC10YHRgtC+0LjQvNC+0YHRgtC4XHJcbi8v0LzQtdC90Y4g0LLRi9Cx0L7RgNCwINCz0L7RgNC+0LTQsC3QutCy0LDRgNGC0LDQu9CwINC4INC00L7QvNCwINCyINGB0LXQsdC10YHRgtC+0LjQvNC+0YHRgtC4XHJcbi8v0LzQtdC90Y4g0LLRi9Cx0L7RgNCwINCz0L7RgNC+0LTQsC3QutCy0LDRgNGC0LDQu9CwINC4INC00L7QvNCwINCyINGB0LXQsdC10YHRgtC+0LjQvNC+0YHRgtC4XHJcblxyXG5cclxuLyogTW9kZXJuaXpyIDIuNS4zIChDdXN0b20gQnVpbGQpIHwgTUlUICYgQlNEXHJcbiAqIEJ1aWxkOiBodHRwOi8vbW9kZXJuaXpyLmNvbS9kb3dubG9hZC8jLWNzc3RyYW5zZm9ybXMzZC1jc3N0cmFuc2l0aW9ucy1zaGl2LWNzc2NsYXNzZXMtdGVzdHN0eWxlcy10ZXN0cHJvcC10ZXN0YWxscHJvcHMtcHJlZml4ZXMtZG9tcHJlZml4ZXMtbG9hZFxyXG4gKi9cclxuO3dpbmRvdy5Nb2Rlcm5penI9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIHooYSl7ai5jc3NUZXh0PWF9ZnVuY3Rpb24gQShhLGIpe3JldHVybiB6KG0uam9pbihhK1wiO1wiKSsoYnx8XCJcIikpfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gdHlwZW9mIGE9PT1ifWZ1bmN0aW9uIEMoYSxiKXtyZXR1cm4hIX4oXCJcIithKS5pbmRleE9mKGIpfWZ1bmN0aW9uIEQoYSxiKXtmb3IodmFyIGQgaW4gYSlpZihqW2FbZF1dIT09YylyZXR1cm4gYj09XCJwZnhcIj9hW2RdOiEwO3JldHVybiExfWZ1bmN0aW9uIEUoYSxiLGQpe2Zvcih2YXIgZSBpbiBhKXt2YXIgZj1iW2FbZV1dO2lmKGYhPT1jKXJldHVybiBkPT09ITE/YVtlXTpCKGYsXCJmdW5jdGlvblwiKT9mLmJpbmQoZHx8Yik6Zn1yZXR1cm4hMX1mdW5jdGlvbiBGKGEsYixjKXt2YXIgZD1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGU9KGErXCIgXCIrby5qb2luKGQrXCIgXCIpK2QpLnNwbGl0KFwiIFwiKTtyZXR1cm4gQihiLFwic3RyaW5nXCIpfHxCKGIsXCJ1bmRlZmluZWRcIik/RChlLGIpOihlPShhK1wiIFwiK3Auam9pbihkK1wiIFwiKStkKS5zcGxpdChcIiBcIiksRShlLGIsYykpfXZhciBkPVwiMi41LjNcIixlPXt9LGY9ITAsZz1iLmRvY3VtZW50RWxlbWVudCxoPVwibW9kZXJuaXpyXCIsaT1iLmNyZWF0ZUVsZW1lbnQoaCksaj1pLnN0eWxlLGssbD17fS50b1N0cmluZyxtPVwiIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtIFwiLnNwbGl0KFwiIFwiKSxuPVwiV2Via2l0IE1veiBPIG1zXCIsbz1uLnNwbGl0KFwiIFwiKSxwPW4udG9Mb3dlckNhc2UoKS5zcGxpdChcIiBcIikscT17fSxyPXt9LHM9e30sdD1bXSx1PXQuc2xpY2Usdix3PWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGksaixrPWIuY3JlYXRlRWxlbWVudChcImRpdlwiKSxsPWIuYm9keSxtPWw/bDpiLmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO2lmKHBhcnNlSW50KGQsMTApKXdoaWxlKGQtLSlqPWIuY3JlYXRlRWxlbWVudChcImRpdlwiKSxqLmlkPWU/ZVtkXTpoKyhkKzEpLGsuYXBwZW5kQ2hpbGQoaik7cmV0dXJuIGY9W1wiwq1cIixcIjxzdHlsZT5cIixhLFwiPC9zdHlsZT5cIl0uam9pbihcIlwiKSxrLmlkPWgsKGw/azptKS5pbm5lckhUTUwrPWYsbS5hcHBlbmRDaGlsZChrKSxsfHwobS5zdHlsZS5iYWNrZ3JvdW5kPVwiXCIsZy5hcHBlbmRDaGlsZChtKSksaT1jKGssYSksbD9rLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayk6bS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG0pLCEhaX0seD17fS5oYXNPd25Qcm9wZXJ0eSx5OyFCKHgsXCJ1bmRlZmluZWRcIikmJiFCKHguY2FsbCxcInVuZGVmaW5lZFwiKT95PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHguY2FsbChhLGIpfTp5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIgaW4gYSYmQihhLmNvbnN0cnVjdG9yLnByb3RvdHlwZVtiXSxcInVuZGVmaW5lZFwiKX0sRnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihiKXt2YXIgYz10aGlzO2lmKHR5cGVvZiBjIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgZD11LmNhbGwoYXJndW1lbnRzLDEpLGU9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7dmFyIGE9ZnVuY3Rpb24oKXt9O2EucHJvdG90eXBlPWMucHJvdG90eXBlO3ZhciBmPW5ldyBhLGc9Yy5hcHBseShmLGQuY29uY2F0KHUuY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChnKT09PWc/ZzpmfXJldHVybiBjLmFwcGx5KGIsZC5jb25jYXQodS5jYWxsKGFyZ3VtZW50cykpKX07cmV0dXJuIGV9KTt2YXIgRz1mdW5jdGlvbihhLGMpe3ZhciBkPWEuam9pbihcIlwiKSxmPWMubGVuZ3RoO3coZCxmdW5jdGlvbihhLGMpe3ZhciBkPWIuc3R5bGVTaGVldHNbYi5zdHlsZVNoZWV0cy5sZW5ndGgtMV0sZz1kP2QuY3NzUnVsZXMmJmQuY3NzUnVsZXNbMF0/ZC5jc3NSdWxlc1swXS5jc3NUZXh0OmQuY3NzVGV4dHx8XCJcIjpcIlwiLGg9YS5jaGlsZE5vZGVzLGk9e307d2hpbGUoZi0tKWlbaFtmXS5pZF09aFtmXTtlLmNzc3RyYW5zZm9ybXMzZD0oaS5jc3N0cmFuc2Zvcm1zM2QmJmkuY3NzdHJhbnNmb3JtczNkLm9mZnNldExlZnQpPT09OSYmaS5jc3N0cmFuc2Zvcm1zM2Qub2Zmc2V0SGVpZ2h0PT09M30sZixjKX0oWyxbXCJAbWVkaWEgKFwiLG0uam9pbihcInRyYW5zZm9ybS0zZCksKFwiKSxoLFwiKVwiLFwieyNjc3N0cmFuc2Zvcm1zM2R7bGVmdDo5cHg7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjNweDt9fVwiXS5qb2luKFwiXCIpXSxbLFwiY3NzdHJhbnNmb3JtczNkXCJdKTtxLmNzc3RyYW5zZm9ybXMzZD1mdW5jdGlvbigpe3ZhciBhPSEhRihcInBlcnNwZWN0aXZlXCIpO3JldHVybiBhJiZcIndlYmtpdFBlcnNwZWN0aXZlXCJpbiBnLnN0eWxlJiYoYT1lLmNzc3RyYW5zZm9ybXMzZCksYX0scS5jc3N0cmFuc2l0aW9ucz1mdW5jdGlvbigpe3JldHVybiBGKFwidHJhbnNpdGlvblwiKX07Zm9yKHZhciBIIGluIHEpeShxLEgpJiYodj1ILnRvTG93ZXJDYXNlKCksZVt2XT1xW0hdKCksdC5wdXNoKChlW3ZdP1wiXCI6XCJuby1cIikrdikpO3JldHVybiB6KFwiXCIpLGk9az1udWxsLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZyhhLGIpe3ZhciBjPWEuY3JlYXRlRWxlbWVudChcInBcIiksZD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXXx8YS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGMuaW5uZXJIVE1MPVwieDxzdHlsZT5cIitiK1wiPC9zdHlsZT5cIixkLmluc2VydEJlZm9yZShjLmxhc3RDaGlsZCxkLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIGgoKXt2YXIgYT1rLmVsZW1lbnRzO3JldHVybiB0eXBlb2YgYT09XCJzdHJpbmdcIj9hLnNwbGl0KFwiIFwiKTphfWZ1bmN0aW9uIGkoYSl7dmFyIGI9e30sYz1hLmNyZWF0ZUVsZW1lbnQsZT1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQsZj1lKCk7YS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGEpe3ZhciBlPShiW2FdfHwoYlthXT1jKGEpKSkuY2xvbmVOb2RlKCk7cmV0dXJuIGsuc2hpdk1ldGhvZHMmJmUuY2FuSGF2ZUNoaWxkcmVuJiYhZC50ZXN0KGEpP2YuYXBwZW5kQ2hpbGQoZSk6ZX0sYS5jcmVhdGVEb2N1bWVudEZyYWdtZW50PUZ1bmN0aW9uKFwiaCxmXCIsXCJyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1mLmNsb25lTm9kZSgpLGM9bi5jcmVhdGVFbGVtZW50O2guc2hpdk1ldGhvZHMmJihcIitoKCkuam9pbigpLnJlcGxhY2UoL1xcdysvZyxmdW5jdGlvbihhKXtyZXR1cm4gYlthXT1jKGEpLGYuY3JlYXRlRWxlbWVudChhKSwnYyhcIicrYSsnXCIpJ30pK1wiKTtyZXR1cm4gbn1cIikoayxmKX1mdW5jdGlvbiBqKGEpe3ZhciBiO3JldHVybiBhLmRvY3VtZW50U2hpdmVkP2E6KGsuc2hpdkNTUyYmIWUmJihiPSEhZyhhLFwiYXJ0aWNsZSxhc2lkZSxkZXRhaWxzLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG5hdixzZWN0aW9ue2Rpc3BsYXk6YmxvY2t9YXVkaW97ZGlzcGxheTpub25lfWNhbnZhcyx2aWRlb3tkaXNwbGF5OmlubGluZS1ibG9jazsqZGlzcGxheTppbmxpbmU7Knpvb206MX1baGlkZGVuXXtkaXNwbGF5Om5vbmV9YXVkaW9bY29udHJvbHNde2Rpc3BsYXk6aW5saW5lLWJsb2NrOypkaXNwbGF5OmlubGluZTsqem9vbToxfW1hcmt7YmFja2dyb3VuZDojRkYwO2NvbG9yOiMwMDB9XCIpKSxmfHwoYj0haShhKSksYiYmKGEuZG9jdW1lbnRTaGl2ZWQ9YiksYSl9dmFyIGM9YS5odG1sNXx8e30sZD0vXjx8Xig/OmJ1dHRvbnxmb3JtfG1hcHxzZWxlY3R8dGV4dGFyZWEpJC9pLGUsZjsoZnVuY3Rpb24oKXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2EuaW5uZXJIVE1MPVwiPHh5ej48L3h5ej5cIixlPVwiaGlkZGVuXCJpbiBhLGY9YS5jaGlsZE5vZGVzLmxlbmd0aD09MXx8ZnVuY3Rpb24oKXt0cnl7Yi5jcmVhdGVFbGVtZW50KFwiYVwiKX1jYXRjaChhKXtyZXR1cm4hMH12YXIgYz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gdHlwZW9mIGMuY2xvbmVOb2RlPT1cInVuZGVmaW5lZFwifHx0eXBlb2YgYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50PT1cInVuZGVmaW5lZFwifHx0eXBlb2YgYy5jcmVhdGVFbGVtZW50PT1cInVuZGVmaW5lZFwifSgpfSkoKTt2YXIgaz17ZWxlbWVudHM6Yy5lbGVtZW50c3x8XCJhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFyayBtZXRlciBuYXYgb3V0cHV0IHByb2dyZXNzIHNlY3Rpb24gc3VtbWFyeSB0aW1lIHZpZGVvXCIsc2hpdkNTUzpjLnNoaXZDU1MhPT0hMSxzaGl2TWV0aG9kczpjLnNoaXZNZXRob2RzIT09ITEsdHlwZTpcImRlZmF1bHRcIixzaGl2RG9jdW1lbnQ6an07YS5odG1sNT1rLGooYil9KHRoaXMsYiksZS5fdmVyc2lvbj1kLGUuX3ByZWZpeGVzPW0sZS5fZG9tUHJlZml4ZXM9cCxlLl9jc3NvbVByZWZpeGVzPW8sZS50ZXN0UHJvcD1mdW5jdGlvbihhKXtyZXR1cm4gRChbYV0pfSxlLnRlc3RBbGxQcm9wcz1GLGUudGVzdFN0eWxlcz13LGcuY2xhc3NOYW1lPWcuY2xhc3NOYW1lLnJlcGxhY2UoLyhefFxccyluby1qcyhcXHN8JCkvLFwiJDEkMlwiKSsoZj9cIiBqcyBcIit0LmpvaW4oXCIgXCIpOlwiXCIpLGV9KHRoaXMsdGhpcy5kb2N1bWVudCksZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIG8uY2FsbChhKT09XCJbb2JqZWN0IEZ1bmN0aW9uXVwifWZ1bmN0aW9uIGUoYSl7cmV0dXJuIHR5cGVvZiBhPT1cInN0cmluZ1wifWZ1bmN0aW9uIGYoKXt9ZnVuY3Rpb24gZyhhKXtyZXR1cm4hYXx8YT09XCJsb2FkZWRcInx8YT09XCJjb21wbGV0ZVwifHxhPT1cInVuaW5pdGlhbGl6ZWRcIn1mdW5jdGlvbiBoKCl7dmFyIGE9cC5zaGlmdCgpO3E9MSxhP2EudD9tKGZ1bmN0aW9uKCl7KGEudD09XCJjXCI/Qi5pbmplY3RDc3M6Qi5pbmplY3RKcykoYS5zLDAsYS5hLGEueCxhLmUsMSl9LDApOihhKCksaCgpKTpxPTB9ZnVuY3Rpb24gaShhLGMsZCxlLGYsaSxqKXtmdW5jdGlvbiBrKGIpe2lmKCFvJiZnKGwucmVhZHlTdGF0ZSkmJih1LnI9bz0xLCFxJiZoKCksbC5vbmxvYWQ9bC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxiKSl7YSE9XCJpbWdcIiYmbShmdW5jdGlvbigpe3QucmVtb3ZlQ2hpbGQobCl9LDUwKTtmb3IodmFyIGQgaW4geVtjXSl5W2NdLmhhc093blByb3BlcnR5KGQpJiZ5W2NdW2RdLm9ubG9hZCgpfX12YXIgaj1qfHxCLmVycm9yVGltZW91dCxsPXt9LG89MCxyPTAsdT17dDpkLHM6YyxlOmYsYTppLHg6an07eVtjXT09PTEmJihyPTEseVtjXT1bXSxsPWIuY3JlYXRlRWxlbWVudChhKSksYT09XCJvYmplY3RcIj9sLmRhdGE9YzoobC5zcmM9YyxsLnR5cGU9YSksbC53aWR0aD1sLmhlaWdodD1cIjBcIixsLm9uZXJyb3I9bC5vbmxvYWQ9bC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtrLmNhbGwodGhpcyxyKX0scC5zcGxpY2UoZSwwLHUpLGEhPVwiaW1nXCImJihyfHx5W2NdPT09Mj8odC5pbnNlcnRCZWZvcmUobCxzP251bGw6biksbShrLGopKTp5W2NdLnB1c2gobCkpfWZ1bmN0aW9uIGooYSxiLGMsZCxmKXtyZXR1cm4gcT0wLGI9Ynx8XCJqXCIsZShhKT9pKGI9PVwiY1wiP3Y6dSxhLGIsdGhpcy5pKyssYyxkLGYpOihwLnNwbGljZSh0aGlzLmkrKywwLGEpLHAubGVuZ3RoPT0xJiZoKCkpLHRoaXN9ZnVuY3Rpb24gaygpe3ZhciBhPUI7cmV0dXJuIGEubG9hZGVyPXtsb2FkOmosaTowfSxhfXZhciBsPWIuZG9jdW1lbnRFbGVtZW50LG09YS5zZXRUaW1lb3V0LG49Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXSxvPXt9LnRvU3RyaW5nLHA9W10scT0wLHI9XCJNb3pBcHBlYXJhbmNlXCJpbiBsLnN0eWxlLHM9ciYmISFiLmNyZWF0ZVJhbmdlKCkuY29tcGFyZU5vZGUsdD1zP2w6bi5wYXJlbnROb2RlLGw9YS5vcGVyYSYmby5jYWxsKGEub3BlcmEpPT1cIltvYmplY3QgT3BlcmFdXCIsbD0hIWIuYXR0YWNoRXZlbnQmJiFsLHU9cj9cIm9iamVjdFwiOmw/XCJzY3JpcHRcIjpcImltZ1wiLHY9bD9cInNjcmlwdFwiOnUsdz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gby5jYWxsKGEpPT1cIltvYmplY3QgQXJyYXldXCJ9LHg9W10seT17fSx6PXt0aW1lb3V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubGVuZ3RoJiYoYS50aW1lb3V0PWJbMF0pLGF9fSxBLEI7Qj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBhPWEuc3BsaXQoXCIhXCIpLGI9eC5sZW5ndGgsYz1hLnBvcCgpLGQ9YS5sZW5ndGgsYz17dXJsOmMsb3JpZ1VybDpjLHByZWZpeGVzOmF9LGUsZixnO2ZvcihmPTA7ZjxkO2YrKylnPWFbZl0uc3BsaXQoXCI9XCIpLChlPXpbZy5zaGlmdCgpXSkmJihjPWUoYyxnKSk7Zm9yKGY9MDtmPGI7ZisrKWM9eFtmXShjKTtyZXR1cm4gY31mdW5jdGlvbiBnKGEsZSxmLGcsaSl7dmFyIGo9YihhKSxsPWouYXV0b0NhbGxiYWNrO2oudXJsLnNwbGl0KFwiLlwiKS5wb3AoKS5zcGxpdChcIj9cIikuc2hpZnQoKSxqLmJ5cGFzc3x8KGUmJihlPWQoZSk/ZTplW2FdfHxlW2ddfHxlW2Euc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiP1wiKVswXV18fGgpLGouaW5zdGVhZD9qLmluc3RlYWQoYSxlLGYsZyxpKTooeVtqLnVybF0/ai5ub2V4ZWM9ITA6eVtqLnVybF09MSxmLmxvYWQoai51cmwsai5mb3JjZUNTU3x8IWouZm9yY2VKUyYmXCJjc3NcIj09ai51cmwuc3BsaXQoXCIuXCIpLnBvcCgpLnNwbGl0KFwiP1wiKS5zaGlmdCgpP1wiY1wiOmMsai5ub2V4ZWMsai5hdHRycyxqLnRpbWVvdXQpLChkKGUpfHxkKGwpKSYmZi5sb2FkKGZ1bmN0aW9uKCl7aygpLGUmJmUoai5vcmlnVXJsLGksZyksbCYmbChqLm9yaWdVcmwsaSxnKSx5W2oudXJsXT0yfSkpKX1mdW5jdGlvbiBpKGEsYil7ZnVuY3Rpb24gYyhhLGMpe2lmKGEpe2lmKGUoYSkpY3x8KGo9ZnVuY3Rpb24oKXt2YXIgYT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7ay5hcHBseSh0aGlzLGEpLGwoKX0pLGcoYSxqLGIsMCxoKTtlbHNlIGlmKE9iamVjdChhKT09PWEpZm9yKG4gaW4gbT1mdW5jdGlvbigpe3ZhciBiPTAsYztmb3IoYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJmIrKztyZXR1cm4gYn0oKSxhKWEuaGFzT3duUHJvcGVydHkobikmJighYyYmIS0tbSYmKGQoaik/aj1mdW5jdGlvbigpe3ZhciBhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtrLmFwcGx5KHRoaXMsYSksbCgpfTpqW25dPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTthJiZhLmFwcGx5KHRoaXMsYiksbCgpfX0oa1tuXSkpLGcoYVtuXSxqLGIsbixoKSl9ZWxzZSFjJiZsKCl9dmFyIGg9ISFhLnRlc3QsaT1hLmxvYWR8fGEuYm90aCxqPWEuY2FsbGJhY2t8fGYsaz1qLGw9YS5jb21wbGV0ZXx8ZixtLG47YyhoP2EueWVwOmEubm9wZSwhIWkpLGkmJmMoaSl9dmFyIGosbCxtPXRoaXMueWVwbm9wZS5sb2FkZXI7aWYoZShhKSlnKGEsMCxtLDApO2Vsc2UgaWYodyhhKSlmb3Ioaj0wO2o8YS5sZW5ndGg7aisrKWw9YVtqXSxlKGwpP2cobCwwLG0sMCk6dyhsKT9CKGwpOk9iamVjdChsKT09PWwmJmkobCxtKTtlbHNlIE9iamVjdChhKT09PWEmJmkoYSxtKX0sQi5hZGRQcmVmaXg9ZnVuY3Rpb24oYSxiKXt6W2FdPWJ9LEIuYWRkRmlsdGVyPWZ1bmN0aW9uKGEpe3gucHVzaChhKX0sQi5lcnJvclRpbWVvdXQ9MWU0LGIucmVhZHlTdGF0ZT09bnVsbCYmYi5hZGRFdmVudExpc3RlbmVyJiYoYi5yZWFkeVN0YXRlPVwibG9hZGluZ1wiLGIuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixBPWZ1bmN0aW9uKCl7Yi5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLEEsMCksYi5yZWFkeVN0YXRlPVwiY29tcGxldGVcIn0sMCkpLGEueWVwbm9wZT1rKCksYS55ZXBub3BlLmV4ZWN1dGVTdGFjaz1oLGEueWVwbm9wZS5pbmplY3RKcz1mdW5jdGlvbihhLGMsZCxlLGksail7dmFyIGs9Yi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLGwsbyxlPWV8fEIuZXJyb3JUaW1lb3V0O2suc3JjPWE7Zm9yKG8gaW4gZClrLnNldEF0dHJpYnV0ZShvLGRbb10pO2M9aj9oOmN8fGYsay5vbnJlYWR5c3RhdGVjaGFuZ2U9ay5vbmxvYWQ9ZnVuY3Rpb24oKXshbCYmZyhrLnJlYWR5U3RhdGUpJiYobD0xLGMoKSxrLm9ubG9hZD1rLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsKX0sbShmdW5jdGlvbigpe2x8fChsPTEsYygxKSl9LGUpLGk/ay5vbmxvYWQoKTpuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGssbil9LGEueWVwbm9wZS5pbmplY3RDc3M9ZnVuY3Rpb24oYSxjLGQsZSxnLGkpe3ZhciBlPWIuY3JlYXRlRWxlbWVudChcImxpbmtcIiksaixjPWk/aDpjfHxmO2UuaHJlZj1hLGUucmVsPVwic3R5bGVzaGVldFwiLGUudHlwZT1cInRleHQvY3NzXCI7Zm9yKGogaW4gZCllLnNldEF0dHJpYnV0ZShqLGRbal0pO2d8fChuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsbiksbShjLDApKX19KHRoaXMsZG9jdW1lbnQpLE1vZGVybml6ci5sb2FkPWZ1bmN0aW9uKCl7eWVwbm9wZS5hcHBseSh3aW5kb3csW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpfTtcclxuXHJcblxyXG5cclxuPCEtLVxyXG4vL3YxLjdcclxuLy8gRmxhc2ggUGxheWVyIFZlcnNpb24gRGV0ZWN0aW9uXHJcbi8vIERldGVjdCBDbGllbnQgQnJvd3NlciB0eXBlXHJcbi8vIENvcHlyaWdodCAyMDA1LTIwMDggQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG52YXIgaXNJRSAgPSAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUVcIikgIT0gLTEpID8gdHJ1ZSA6IGZhbHNlO1xyXG52YXIgaXNXaW4gPSAobmF2aWdhdG9yLmFwcFZlcnNpb24udG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2luXCIpICE9IC0xKSA/IHRydWUgOiBmYWxzZTtcclxudmFyIGlzT3BlcmEgPSAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiT3BlcmFcIikgIT0gLTEpID8gdHJ1ZSA6IGZhbHNlO1xyXG5mdW5jdGlvbiBDb250cm9sVmVyc2lvbigpXHJcbntcclxuXHR2YXIgdmVyc2lvbjtcclxuXHR2YXIgYXhvO1xyXG5cdHZhciBlO1xyXG5cdC8vIE5PVEUgOiBuZXcgQWN0aXZlWE9iamVjdChzdHJGb28pIHRocm93cyBhbiBleGNlcHRpb24gaWYgc3RyRm9vIGlzbid0IGluIHRoZSByZWdpc3RyeVxyXG5cdHRyeSB7XHJcblx0XHQvLyB2ZXJzaW9uIHdpbGwgYmUgc2V0IGZvciA3Llggb3IgZ3JlYXRlciBwbGF5ZXJzXHJcblx0XHRheG8gPSBuZXcgQWN0aXZlWE9iamVjdChcIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjdcIik7XHJcblx0XHR2ZXJzaW9uID0gYXhvLkdldFZhcmlhYmxlKFwiJHZlcnNpb25cIik7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdH1cclxuXHRpZiAoIXZlcnNpb24pXHJcblx0e1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gdmVyc2lvbiB3aWxsIGJlIHNldCBmb3IgNi5YIHBsYXllcnMgb25seVxyXG5cdFx0XHRheG8gPSBuZXcgQWN0aXZlWE9iamVjdChcIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjZcIik7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBpbnN0YWxsZWQgcGxheWVyIGlzIHNvbWUgcmV2aXNpb24gb2YgNi4wXHJcblx0XHRcdC8vIEdldFZhcmlhYmxlKFwiJHZlcnNpb25cIikgY3Jhc2hlcyBmb3IgdmVyc2lvbnMgNi4wLjIyIHRocm91Z2ggNi4wLjI5LFxyXG5cdFx0XHQvLyBzbyB3ZSBoYXZlIHRvIGJlIGNhcmVmdWwuIFxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZGVmYXVsdCB0byB0aGUgZmlyc3QgcHVibGljIHZlcnNpb25cclxuXHRcdFx0dmVyc2lvbiA9IFwiV0lOIDYsMCwyMSwwXCI7XHJcblx0XHRcdC8vIHRocm93cyBpZiBBbGxvd1NjcmlwQWNjZXNzIGRvZXMgbm90IGV4aXN0IChpbnRyb2R1Y2VkIGluIDYuMHI0NylcdFx0XHJcblx0XHRcdGF4by5BbGxvd1NjcmlwdEFjY2VzcyA9IFwiYWx3YXlzXCI7XHJcblx0XHRcdC8vIHNhZmUgdG8gY2FsbCBmb3IgNi4wcjQ3IG9yIGdyZWF0ZXJcclxuXHRcdFx0dmVyc2lvbiA9IGF4by5HZXRWYXJpYWJsZShcIiR2ZXJzaW9uXCIpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoIXZlcnNpb24pXHJcblx0e1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gdmVyc2lvbiB3aWxsIGJlIHNldCBmb3IgNC5YIG9yIDUuWCBwbGF5ZXJcclxuXHRcdFx0YXhvID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaC4zXCIpO1xyXG5cdFx0XHR2ZXJzaW9uID0gYXhvLkdldFZhcmlhYmxlKFwiJHZlcnNpb25cIik7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICghdmVyc2lvbilcclxuXHR7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyB2ZXJzaW9uIHdpbGwgYmUgc2V0IGZvciAzLlggcGxheWVyXHJcblx0XHRcdGF4byA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2guM1wiKTtcclxuXHRcdFx0dmVyc2lvbiA9IFwiV0lOIDMsMCwxOCwwXCI7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICghdmVyc2lvbilcclxuXHR7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyB2ZXJzaW9uIHdpbGwgYmUgc2V0IGZvciAyLlggcGxheWVyXHJcblx0XHRcdGF4byA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiU2hvY2t3YXZlRmxhc2guU2hvY2t3YXZlRmxhc2hcIik7XHJcblx0XHRcdHZlcnNpb24gPSBcIldJTiAyLDAsMCwxMVwiO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHR2ZXJzaW9uID0gLTE7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHJldHVybiB2ZXJzaW9uO1xyXG59XHJcbi8vIEphdmFTY3JpcHQgaGVscGVyIHJlcXVpcmVkIHRvIGRldGVjdCBGbGFzaCBQbGF5ZXIgUGx1Z0luIHZlcnNpb24gaW5mb3JtYXRpb25cclxuZnVuY3Rpb24gR2V0U3dmVmVyKCl7XHJcblx0Ly8gTlMvT3BlcmEgdmVyc2lvbiA+PSAzIGNoZWNrIGZvciBGbGFzaCBwbHVnaW4gaW4gcGx1Z2luIGFycmF5XHJcblx0dmFyIGZsYXNoVmVyID0gLTE7XHJcblx0XHJcblx0aWYgKG5hdmlnYXRvci5wbHVnaW5zICE9IG51bGwgJiYgbmF2aWdhdG9yLnBsdWdpbnMubGVuZ3RoID4gMCkge1xyXG5cdFx0aWYgKG5hdmlnYXRvci5wbHVnaW5zW1wiU2hvY2t3YXZlIEZsYXNoIDIuMFwiXSB8fCBuYXZpZ2F0b3IucGx1Z2luc1tcIlNob2Nrd2F2ZSBGbGFzaFwiXSkge1xyXG5cdFx0XHR2YXIgc3dWZXIyID0gbmF2aWdhdG9yLnBsdWdpbnNbXCJTaG9ja3dhdmUgRmxhc2ggMi4wXCJdID8gXCIgMi4wXCIgOiBcIlwiO1xyXG5cdFx0XHR2YXIgZmxhc2hEZXNjcmlwdGlvbiA9IG5hdmlnYXRvci5wbHVnaW5zW1wiU2hvY2t3YXZlIEZsYXNoXCIgKyBzd1ZlcjJdLmRlc2NyaXB0aW9uO1xyXG5cdFx0XHR2YXIgZGVzY0FycmF5ID0gZmxhc2hEZXNjcmlwdGlvbi5zcGxpdChcIiBcIik7XHJcblx0XHRcdHZhciB0ZW1wQXJyYXlNYWpvciA9IGRlc2NBcnJheVsyXS5zcGxpdChcIi5cIik7XHRcdFx0XHJcblx0XHRcdHZhciB2ZXJzaW9uTWFqb3IgPSB0ZW1wQXJyYXlNYWpvclswXTtcclxuXHRcdFx0dmFyIHZlcnNpb25NaW5vciA9IHRlbXBBcnJheU1ham9yWzFdO1xyXG5cdFx0XHR2YXIgdmVyc2lvblJldmlzaW9uID0gZGVzY0FycmF5WzNdO1xyXG5cdFx0XHRpZiAodmVyc2lvblJldmlzaW9uID09IFwiXCIpIHtcclxuXHRcdFx0XHR2ZXJzaW9uUmV2aXNpb24gPSBkZXNjQXJyYXlbNF07XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHZlcnNpb25SZXZpc2lvblswXSA9PSBcImRcIikge1xyXG5cdFx0XHRcdHZlcnNpb25SZXZpc2lvbiA9IHZlcnNpb25SZXZpc2lvbi5zdWJzdHJpbmcoMSk7XHJcblx0XHRcdH0gZWxzZSBpZiAodmVyc2lvblJldmlzaW9uWzBdID09IFwiclwiKSB7XHJcblx0XHRcdFx0dmVyc2lvblJldmlzaW9uID0gdmVyc2lvblJldmlzaW9uLnN1YnN0cmluZygxKTtcclxuXHRcdFx0XHRpZiAodmVyc2lvblJldmlzaW9uLmluZGV4T2YoXCJkXCIpID4gMCkge1xyXG5cdFx0XHRcdFx0dmVyc2lvblJldmlzaW9uID0gdmVyc2lvblJldmlzaW9uLnN1YnN0cmluZygwLCB2ZXJzaW9uUmV2aXNpb24uaW5kZXhPZihcImRcIikpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgZmxhc2hWZXIgPSB2ZXJzaW9uTWFqb3IgKyBcIi5cIiArIHZlcnNpb25NaW5vciArIFwiLlwiICsgdmVyc2lvblJldmlzaW9uO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvLyBNU04vV2ViVFYgMi42IHN1cHBvcnRzIEZsYXNoIDRcclxuXHRlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYnR2LzIuNlwiKSAhPSAtMSkgZmxhc2hWZXIgPSA0O1xyXG5cdC8vIFdlYlRWIDIuNSBzdXBwb3J0cyBGbGFzaCAzXHJcblx0ZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJ0di8yLjVcIikgIT0gLTEpIGZsYXNoVmVyID0gMztcclxuXHQvLyBvbGRlciBXZWJUViBzdXBwb3J0cyBGbGFzaCAyXHJcblx0ZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJ0dlwiKSAhPSAtMSkgZmxhc2hWZXIgPSAyO1xyXG5cdGVsc2UgaWYgKCBpc0lFICYmIGlzV2luICYmICFpc09wZXJhICkge1xyXG5cdFx0Zmxhc2hWZXIgPSBDb250cm9sVmVyc2lvbigpO1xyXG5cdH1cdFxyXG5cdHJldHVybiBmbGFzaFZlcjtcclxufVxyXG4vLyBXaGVuIGNhbGxlZCB3aXRoIHJlcU1ham9yVmVyLCByZXFNaW5vclZlciwgcmVxUmV2aXNpb24gcmV0dXJucyB0cnVlIGlmIHRoYXQgdmVyc2lvbiBvciBncmVhdGVyIGlzIGF2YWlsYWJsZVxyXG5mdW5jdGlvbiBEZXRlY3RGbGFzaFZlcihyZXFNYWpvclZlciwgcmVxTWlub3JWZXIsIHJlcVJldmlzaW9uKVxyXG57XHJcblx0dmVyc2lvblN0ciA9IEdldFN3ZlZlcigpO1xyXG5cdGlmICh2ZXJzaW9uU3RyID09IC0xICkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0gZWxzZSBpZiAodmVyc2lvblN0ciAhPSAwKSB7XHJcblx0XHRpZihpc0lFICYmIGlzV2luICYmICFpc09wZXJhKSB7XHJcblx0XHRcdC8vIEdpdmVuIFwiV0lOIDIsMCwwLDExXCJcclxuXHRcdFx0dGVtcEFycmF5ICAgICAgICAgPSB2ZXJzaW9uU3RyLnNwbGl0KFwiIFwiKTsgXHQvLyBbXCJXSU5cIiwgXCIyLDAsMCwxMVwiXVxyXG5cdFx0XHR0ZW1wU3RyaW5nICAgICAgICA9IHRlbXBBcnJheVsxXTtcdFx0XHQvLyBcIjIsMCwwLDExXCJcclxuXHRcdFx0dmVyc2lvbkFycmF5ICAgICAgPSB0ZW1wU3RyaW5nLnNwbGl0KFwiLFwiKTtcdC8vIFsnMicsICcwJywgJzAnLCAnMTEnXVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmVyc2lvbkFycmF5ICAgICAgPSB2ZXJzaW9uU3RyLnNwbGl0KFwiLlwiKTtcclxuXHRcdH1cclxuXHRcdHZhciB2ZXJzaW9uTWFqb3IgICAgICA9IHZlcnNpb25BcnJheVswXTtcclxuXHRcdHZhciB2ZXJzaW9uTWlub3IgICAgICA9IHZlcnNpb25BcnJheVsxXTtcclxuXHRcdHZhciB2ZXJzaW9uUmV2aXNpb24gICA9IHZlcnNpb25BcnJheVsyXTtcclxuICAgICAgICBcdC8vIGlzIHRoZSBtYWpvci5yZXZpc2lvbiA+PSByZXF1ZXN0ZWQgbWFqb3IucmV2aXNpb24gQU5EIHRoZSBtaW5vciB2ZXJzaW9uID49IHJlcXVlc3RlZCBtaW5vclxyXG5cdFx0aWYgKHZlcnNpb25NYWpvciA+IHBhcnNlRmxvYXQocmVxTWFqb3JWZXIpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIGlmICh2ZXJzaW9uTWFqb3IgPT0gcGFyc2VGbG9hdChyZXFNYWpvclZlcikpIHtcclxuXHRcdFx0aWYgKHZlcnNpb25NaW5vciA+IHBhcnNlRmxvYXQocmVxTWlub3JWZXIpKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRlbHNlIGlmICh2ZXJzaW9uTWlub3IgPT0gcGFyc2VGbG9hdChyZXFNaW5vclZlcikpIHtcclxuXHRcdFx0XHRpZiAodmVyc2lvblJldmlzaW9uID49IHBhcnNlRmxvYXQocmVxUmV2aXNpb24pKVxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcbn1cclxuZnVuY3Rpb24gQUNfQWRkRXh0ZW5zaW9uKHNyYywgZXh0KVxyXG57XHJcbiAgaWYgKHNyYy5pbmRleE9mKCc/JykgIT0gLTEpXHJcbiAgICByZXR1cm4gc3JjLnJlcGxhY2UoL1xcPy8sIGV4dCsnPycpOyBcclxuICBlbHNlXHJcbiAgICByZXR1cm4gc3JjICsgZXh0O1xyXG59XHJcbmZ1bmN0aW9uIEFDX0dlbmVyYXRlb2JqKG9iakF0dHJzLCBwYXJhbXMsIGVtYmVkQXR0cnMpIFxyXG57IFxyXG4gIHZhciBzdHIgPSAnJztcclxuICBpZiAoaXNJRSAmJiBpc1dpbiAmJiAhaXNPcGVyYSlcclxuICB7XHJcbiAgICBzdHIgKz0gJzxvYmplY3QgJztcclxuICAgIGZvciAodmFyIGkgaW4gb2JqQXR0cnMpXHJcbiAgICB7XHJcbiAgICAgIHN0ciArPSBpICsgJz1cIicgKyBvYmpBdHRyc1tpXSArICdcIiAnO1xyXG4gICAgfVxyXG4gICAgc3RyICs9ICc+JztcclxuICAgIGZvciAodmFyIGkgaW4gcGFyYW1zKVxyXG4gICAge1xyXG4gICAgICBzdHIgKz0gJzxwYXJhbSBuYW1lPVwiJyArIGkgKyAnXCIgdmFsdWU9XCInICsgcGFyYW1zW2ldICsgJ1wiIC8+ICc7XHJcbiAgICB9XHJcbiAgICBzdHIgKz0gJzwvb2JqZWN0Pic7XHJcbiAgfVxyXG4gIGVsc2VcclxuICB7XHJcbiAgICBzdHIgKz0gJzxlbWJlZCAnO1xyXG4gICAgZm9yICh2YXIgaSBpbiBlbWJlZEF0dHJzKVxyXG4gICAge1xyXG4gICAgICBzdHIgKz0gaSArICc9XCInICsgZW1iZWRBdHRyc1tpXSArICdcIiAnO1xyXG4gICAgfVxyXG4gICAgc3RyICs9ICc+IDwvZW1iZWQ+JztcclxuICB9XHJcbiAgZG9jdW1lbnQud3JpdGUoc3RyKTtcclxufVxyXG5mdW5jdGlvbiBBQ19GTF9SdW5Db250ZW50KCl7XHJcbiAgdmFyIHJldCA9IFxyXG4gICAgQUNfR2V0QXJnc1xyXG4gICAgKCAgYXJndW1lbnRzLCBcIi5zd2ZcIiwgXCJtb3ZpZVwiLCBcImNsc2lkOmQyN2NkYjZlLWFlNmQtMTFjZi05NmI4LTQ0NDU1MzU0MDAwMFwiXHJcbiAgICAgLCBcImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCJcclxuICAgICk7XHJcbiAgQUNfR2VuZXJhdGVvYmoocmV0Lm9iakF0dHJzLCByZXQucGFyYW1zLCByZXQuZW1iZWRBdHRycyk7XHJcbn1cclxuZnVuY3Rpb24gQUNfU1dfUnVuQ29udGVudCgpe1xyXG4gIHZhciByZXQgPSBcclxuICAgIEFDX0dldEFyZ3NcclxuICAgICggIGFyZ3VtZW50cywgXCIuZGNyXCIsIFwic3JjXCIsIFwiY2xzaWQ6MTY2QjFCQ0EtM0Y5Qy0xMUNGLTgwNzUtNDQ0NTUzNTQwMDAwXCJcclxuICAgICAsIG51bGxcclxuICAgICk7XHJcbiAgQUNfR2VuZXJhdGVvYmoocmV0Lm9iakF0dHJzLCByZXQucGFyYW1zLCByZXQuZW1iZWRBdHRycyk7XHJcbn1cclxuZnVuY3Rpb24gQUNfR2V0QXJncyhhcmdzLCBleHQsIHNyY1BhcmFtTmFtZSwgY2xhc3NpZCwgbWltZVR5cGUpe1xyXG4gIHZhciByZXQgPSBuZXcgT2JqZWN0KCk7XHJcbiAgcmV0LmVtYmVkQXR0cnMgPSBuZXcgT2JqZWN0KCk7XHJcbiAgcmV0LnBhcmFtcyA9IG5ldyBPYmplY3QoKTtcclxuICByZXQub2JqQXR0cnMgPSBuZXcgT2JqZWN0KCk7XHJcbiAgZm9yICh2YXIgaT0wOyBpIDwgYXJncy5sZW5ndGg7IGk9aSsyKXtcclxuICAgIHZhciBjdXJyQXJnID0gYXJnc1tpXS50b0xvd2VyQ2FzZSgpOyAgICBcclxuICAgIHN3aXRjaCAoY3VyckFyZyl7XHRcclxuICAgICAgY2FzZSBcImNsYXNzaWRcIjpcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcInBsdWdpbnNwYWdlXCI6XHJcbiAgICAgICAgcmV0LmVtYmVkQXR0cnNbYXJnc1tpXV0gPSBhcmdzW2krMV07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJzcmNcIjpcclxuICAgICAgY2FzZSBcIm1vdmllXCI6XHRcclxuICAgICAgICBhcmdzW2krMV0gPSBBQ19BZGRFeHRlbnNpb24oYXJnc1tpKzFdLCBleHQpO1xyXG4gICAgICAgIHJldC5lbWJlZEF0dHJzW1wic3JjXCJdID0gYXJnc1tpKzFdO1xyXG4gICAgICAgIHJldC5wYXJhbXNbc3JjUGFyYW1OYW1lXSA9IGFyZ3NbaSsxXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIm9uYWZ0ZXJ1cGRhdGVcIjpcclxuICAgICAgY2FzZSBcIm9uYmVmb3JldXBkYXRlXCI6XHJcbiAgICAgIGNhc2UgXCJvbmJsdXJcIjpcclxuICAgICAgY2FzZSBcIm9uY2VsbGNoYW5nZVwiOlxyXG4gICAgICBjYXNlIFwib25jbGlja1wiOlxyXG4gICAgICBjYXNlIFwib25kYmxjbGlja1wiOlxyXG4gICAgICBjYXNlIFwib25kcmFnXCI6XHJcbiAgICAgIGNhc2UgXCJvbmRyYWdlbmRcIjpcclxuICAgICAgY2FzZSBcIm9uZHJhZ2VudGVyXCI6XHJcbiAgICAgIGNhc2UgXCJvbmRyYWdsZWF2ZVwiOlxyXG4gICAgICBjYXNlIFwib25kcmFnb3ZlclwiOlxyXG4gICAgICBjYXNlIFwib25kcm9wXCI6XHJcbiAgICAgIGNhc2UgXCJvbmZpbmlzaFwiOlxyXG4gICAgICBjYXNlIFwib25mb2N1c1wiOlxyXG4gICAgICBjYXNlIFwib25oZWxwXCI6XHJcbiAgICAgIGNhc2UgXCJvbm1vdXNlZG93blwiOlxyXG4gICAgICBjYXNlIFwib25tb3VzZXVwXCI6XHJcbiAgICAgIGNhc2UgXCJvbm1vdXNlb3ZlclwiOlxyXG4gICAgICBjYXNlIFwib25tb3VzZW1vdmVcIjpcclxuICAgICAgY2FzZSBcIm9ubW91c2VvdXRcIjpcclxuICAgICAgY2FzZSBcIm9ua2V5cHJlc3NcIjpcclxuICAgICAgY2FzZSBcIm9ua2V5ZG93blwiOlxyXG4gICAgICBjYXNlIFwib25rZXl1cFwiOlxyXG4gICAgICBjYXNlIFwib25sb2FkXCI6XHJcbiAgICAgIGNhc2UgXCJvbmxvc2VjYXB0dXJlXCI6XHJcbiAgICAgIGNhc2UgXCJvbnByb3BlcnR5Y2hhbmdlXCI6XHJcbiAgICAgIGNhc2UgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIjpcclxuICAgICAgY2FzZSBcIm9ucm93c2RlbGV0ZVwiOlxyXG4gICAgICBjYXNlIFwib25yb3dlbnRlclwiOlxyXG4gICAgICBjYXNlIFwib25yb3dleGl0XCI6XHJcbiAgICAgIGNhc2UgXCJvbnJvd3NpbnNlcnRlZFwiOlxyXG4gICAgICBjYXNlIFwib25zdGFydFwiOlxyXG4gICAgICBjYXNlIFwib25zY3JvbGxcIjpcclxuICAgICAgY2FzZSBcIm9uYmVmb3JlZWRpdGZvY3VzXCI6XHJcbiAgICAgIGNhc2UgXCJvbmFjdGl2YXRlXCI6XHJcbiAgICAgIGNhc2UgXCJvbmJlZm9yZWRlYWN0aXZhdGVcIjpcclxuICAgICAgY2FzZSBcIm9uZGVhY3RpdmF0ZVwiOlxyXG4gICAgICBjYXNlIFwidHlwZVwiOlxyXG4gICAgICBjYXNlIFwiY29kZWJhc2VcIjpcclxuICAgICAgY2FzZSBcImlkXCI6XHJcbiAgICAgICAgcmV0Lm9iakF0dHJzW2FyZ3NbaV1dID0gYXJnc1tpKzFdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwid2lkdGhcIjpcclxuICAgICAgY2FzZSBcImhlaWdodFwiOlxyXG4gICAgICBjYXNlIFwiYWxpZ25cIjpcclxuICAgICAgY2FzZSBcInZzcGFjZVwiOiBcclxuICAgICAgY2FzZSBcImhzcGFjZVwiOlxyXG4gICAgICBjYXNlIFwiY2xhc3NcIjpcclxuICAgICAgY2FzZSBcInRpdGxlXCI6XHJcbiAgICAgIGNhc2UgXCJhY2Nlc3NrZXlcIjpcclxuICAgICAgY2FzZSBcIm5hbWVcIjpcclxuICAgICAgY2FzZSBcInRhYmluZGV4XCI6XHJcbiAgICAgICAgcmV0LmVtYmVkQXR0cnNbYXJnc1tpXV0gPSByZXQub2JqQXR0cnNbYXJnc1tpXV0gPSBhcmdzW2krMV07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0LmVtYmVkQXR0cnNbYXJnc1tpXV0gPSByZXQucGFyYW1zW2FyZ3NbaV1dID0gYXJnc1tpKzFdO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXQub2JqQXR0cnNbXCJjbGFzc2lkXCJdID0gY2xhc3NpZDtcclxuICBpZiAobWltZVR5cGUpIHJldC5lbWJlZEF0dHJzW1widHlwZVwiXSA9IG1pbWVUeXBlO1xyXG4gIHJldHVybiByZXQ7XHJcbn1cclxuXHJcblxyXG4oZnVuY3Rpb24oJCkge1xyXG5cclxuLy8gQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAvL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBEQVRBIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAgLy9cclxuXHJcblx0dmFyIERhdGEgPSB7XHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gZGVmYXVsdHNcclxuXHJcblx0XHQvL2RlZmF1bHQgc2V0dGluZ3MgdmFsdWVzXHJcblx0XHRkZWZhdWx0czoge1xyXG5cdFx0XHQvL3N0eWxlXHJcblx0XHRcdHdpZHRoOiAnMTAwJScsIFxyXG5cdFx0XHRzaXplOiAnbWVkaXVtJywgXHJcblx0XHRcdHRoZW1lczogW10sIFxyXG5cdFx0XHQvL3RleHRzXHJcblx0XHRcdHBsYWNlaG9sZGVyOiAnU2VsZWN0IGFuIGl0ZW0nLCBcclxuXHRcdFx0Ly9jb250cm9sc1xyXG5cdFx0XHRyZW1vdmFibGU6IGZhbHNlLCBcclxuXHRcdFx0ZW1wdHk6IGZhbHNlLCBcclxuXHRcdFx0c2VhcmNoOiBmYWxzZSwgXHJcblx0XHRcdC8vYWpheFxyXG5cdFx0XHRhamF4OiBmYWxzZSwgXHJcblx0XHRcdGRhdGE6IHt9LCBcclxuXHRcdFx0Ly9wb3NpdGlvbm5pbmdcclxuXHRcdFx0c2Nyb2xsQ29udGFpbmVyOiBudWxsLCBcclxuXHRcdFx0ekluZGV4OiBudWxsXHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBzZXREZWZhdWx0c1xyXG5cclxuXHRcdC8vc2V0IGRlZmF1bHQgc2V0dGluZ3MgdmFsdWVzXHJcblx0XHRzZXR1cDogZnVuY3Rpb24ob3B0cykge1xyXG5cdFx0XHQvL2NvbnRyb2xzIHByb3ZpZGVkIHNldHRpbmdzIGtleXNcclxuXHRcdFx0dmFyIGRlZktleXMgPSBPYmplY3Qua2V5cyh0aGlzLmRlZmF1bHRzKTtcclxuXHRcdFx0dmFyIG9wdEtleXMgPSBPYmplY3Qua2V5cyhvcHRzKTtcclxuXHRcdFx0dmFyIGlzT2sgPSB0cnVlO1xyXG5cdFx0XHRvcHRLZXlzLmZvckVhY2goZnVuY3Rpb24oaykge1xyXG5cdFx0XHRcdGlmKCQuaW5BcnJheShrLCBkZWZLZXlzKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3NlbGVjdE1hbmlhIHwgd3Jvbmcgc2V0dXAgc2V0dGluZ3MnKTtcclxuXHRcdFx0XHRcdGlzT2sgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvL2lmIHByb3ZpZGVkIHNldHRpbmdzIGFyZSBva1xyXG5cdFx0XHRpZihpc09rKSB7XHJcblx0XHRcdFx0dGhpcy5kZWZhdWx0cyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBEYXRhLmRlZmF1bHRzLCBvcHRzKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuLy8gQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAvL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVOR0lORSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAgLy9cclxuXHJcblx0dmFyIEVuZ2luZSA9IHtcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBpbnRlcm5hbFNldHRpbmdzXHJcblxyXG5cdFx0Ly9pbnNlcnQgaW50ZXJuYWwgZGF0YSBpbnRvIHNldHRpbmdzIG9iamVjdFxyXG5cdFx0aW50ZXJuYWxTZXR0aW5nczogZnVuY3Rpb24oJG9yaWdpbmFsU2VsZWN0LCBzZXR0aW5ncykge1xyXG5cdFx0XHR2YXIgdGhpc0VuZ2luZSA9IHRoaXM7XHJcblx0XHRcdC8vaW5pdGlhbGl6ZSBpbnRlcmFsIGRhdGFcclxuXHRcdFx0c2V0dGluZ3MubXVsdGlwbGUgPSBmYWxzZTtcclxuXHRcdFx0c2V0dGluZ3MudmFsdWVzID0gW107XHJcblx0XHRcdC8vaWYgc2VsZWN0IGlzIG11bHRpcGxlXHJcblx0XHRcdHNldHRpbmdzLm11bHRpcGxlID0gJG9yaWdpbmFsU2VsZWN0LmlzKCdbbXVsdGlwbGVdJyk7XHJcblx0XHRcdC8vaWYgc2VsZWN0IGlzIGRpc2FibGVkXHJcblx0XHRcdHNldHRpbmdzLmRpc2FibGVkID0gJG9yaWdpbmFsU2VsZWN0LmlzKCdbZGlzYWJsZWRdJyk7XHJcblx0XHRcdC8vbG9vcCB0aHJvdWdoIHNlbGVjdGVkIG9wdGlvbnNcclxuXHRcdFx0JG9yaWdpbmFsU2VsZWN0LmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Ly9pbnNlcnQgc2VsZWN0ZWQgdmFsdWUgZGF0YVxyXG5cdFx0XHRcdHNldHRpbmdzLnZhbHVlcy5wdXNoKHtcclxuXHRcdFx0XHRcdHZhbHVlOiB0aGlzLnZhbHVlLCBcclxuXHRcdFx0XHRcdHRleHQ6IHRoaXMudGV4dFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9zZW5kIGJhY2sgc2V0dGluZ3NcclxuXHRcdFx0cmV0dXJuIHNldHRpbmdzO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gZ2V0QXR0clNldHRpbmdzXHJcblxyXG5cdFx0Ly9nZXQgc2VsZWN0TWFuaWEgc2V0dGluZ3Mgc3RvcmVkIGFzIGF0dHJpYnV0ZXNcclxuXHRcdGdldEF0dHJTZXR0aW5nczogZnVuY3Rpb24oJG9yaWdpbmFsU2VsZWN0KSB7XHJcblx0XHRcdHZhciBhdHRyRGF0YSA9IHt9O1xyXG5cdFx0XHQvL2F2YWlsYWJsZSBhdHRyaWJ1dGVzXHJcblx0XHRcdHZhciBhdHRycyA9IFsnd2lkdGgnLCdzaXplJywncGxhY2Vob2xkZXInLCdyZW1vdmFibGUnLCdlbXB0eScsJ3NlYXJjaCcsJ3Njcm9sbENvbnRhaW5lcicsJ3pJbmRleCddO1xyXG5cdFx0XHQvL2xvb3AgdGhyb3VnaCBhdHRyaWJ1dGVzXHJcblx0XHRcdGF0dHJzLmZvckVhY2goZnVuY3Rpb24oYXR0cikge1xyXG5cdFx0XHRcdC8vaWYgYXR0cmlidXRlIGlzIHNldCBvbiBzZWxlY3RcclxuXHRcdFx0XHRpZigkb3JpZ2luYWxTZWxlY3QuaXMoJ1tkYXRhLScrYXR0cisnXScpKSB7XHJcblx0XHRcdFx0XHQvL2luc2VydCBkYXRhXHJcblx0XHRcdFx0XHR2YXIgZWxBdHRyID0gJG9yaWdpbmFsU2VsZWN0LmF0dHIoJ2RhdGEtJythdHRyKTtcclxuXHRcdFx0XHRcdGlmKGVsQXR0ciA9PT0gJ3RydWUnIHx8IGVsQXR0ciA9PT0gJ2ZhbHNlJykge1xyXG5cdFx0XHRcdFx0XHRlbEF0dHIgPSBlbEF0dHIgPT09ICd0cnVlJztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGF0dHJEYXRhW2F0dHJdID0gZWxBdHRyO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vc2VuZCBiYWNrIHNlbGVjdCBhdHRyaWJ1dGVzIGRhdGFcclxuXHRcdFx0cmV0dXJuIGF0dHJEYXRhO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gaW5pdGlhbGl6ZVxyXG5cclxuXHRcdC8vaW5pdGlhbGl6ZSBzZWxlY3RNYW5pYSBvbiBvcmlnaW5hbCBzZWxlY3RcclxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCRvcmlnaW5hbFNlbGVjdCwgdXNlclNldHRpbmdzKSB7XHJcblx0XHRcdHZhciB0aGlzRW5naW5lID0gdGhpcztcclxuXHRcdFx0Ly9jbG9uZSBzZXR0aW5ncyBiZWZvcmUgc3RhcnRpbmcgd29ya1xyXG5cdFx0XHR2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdXNlclNldHRpbmdzKTtcclxuXHRcdFx0Ly9nZXQgc2VsZWN0IHNldHRpbmdzIHN0b3JlZCBhcyBhdHRyaWJ1dGVzXHJcblx0XHRcdHZhciBhdHRyU2V0dGluZ3MgPSB0aGlzRW5naW5lLmdldEF0dHJTZXR0aW5ncygkb3JpZ2luYWxTZWxlY3QpO1xyXG5cdFx0XHQvL21lcmdlIHNldHRpbmdzIHdpdGggYXR0cmlidXRlc1xyXG5cdFx0XHRzZXR0aW5ncyA9ICQuZXh0ZW5kKHNldHRpbmdzLCBhdHRyU2V0dGluZ3MpO1xyXG5cdFx0XHQvL3NldCBzZWxlY3RlZCB2YWx1ZSBhcyBlbXB0eSBpZiBleHBsaWNpdGx5IGFza2VkXHJcblx0XHRcdGlmKHNldHRpbmdzLmVtcHR5KSB7XHJcblx0XHRcdFx0JG9yaWdpbmFsU2VsZWN0LnZhbCgnJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9pbnNlcnQgaW50ZXJuYWwgZGF0YSBpbnRvIHNldHRpbmdzXHJcblx0XHRcdHNldHRpbmdzID0gdGhpc0VuZ2luZS5pbnRlcm5hbFNldHRpbmdzKCRvcmlnaW5hbFNlbGVjdCwgc2V0dGluZ3MpO1xyXG5cdFx0XHQvL2NvbnRyb2wgYWpheCBmdW5jdGlvbiB0eXBlIGFuZCBzaXplXHJcblx0XHRcdGlmKHRoaXNFbmdpbmUuY29udHJvbFNldHRpbmdzKCRvcmlnaW5hbFNlbGVjdCwgc2V0dGluZ3MpKSB7XHJcblx0XHRcdFx0Ly9idWlsZCBzZWxlY3RNYW5pYSBlbGVtZW50c1xyXG5cdFx0XHRcdHZhciAkYnVpbHRTZWxlY3QgPSBCdWlsZC5idWlsZCgkb3JpZ2luYWxTZWxlY3QsIHNldHRpbmdzKTtcclxuXHRcdFx0XHQvL2F0dGFjaCBvcmlnaW5hbCBzZWxlY3QgZWxlbWVudCB0byBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdFx0JGJ1aWx0U2VsZWN0LmRhdGEoJ3NlbGVjdE1hbmlhLW9yaWdpbmFsU2VsZWN0JywgJG9yaWdpbmFsU2VsZWN0KTtcclxuXHRcdFx0XHQvL2F0dGFjaCBzZWxlY3RNYW5pYSBlbGVtZW50IHRvIG9yaWdpbmFsIHNlbGVjdCBlbGVtZW50XHJcblx0XHRcdFx0JG9yaWdpbmFsU2VsZWN0LmRhdGEoJ3NlbGVjdE1hbmlhLWVsZW1lbnQnLCAkYnVpbHRTZWxlY3QpO1xyXG5cdFx0XHRcdC8vaWYgYWpheCBpcyBhY3RpdmF0ZWRcclxuXHRcdFx0XHRpZihzZXR0aW5ncy5hamF4ICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0Ly9pbml0aWFsaXplIGFqYXggZGF0YVxyXG5cdFx0XHRcdFx0dGhpc0VuZ2luZS5pbml0QWpheCgkYnVpbHRTZWxlY3QsIHNldHRpbmdzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly91cGRhdGUgY2xlYW4gdmFsdWVzIGljb24gZGlzcGxheVxyXG5cdFx0XHRcdHRoaXNFbmdpbmUudXBkYXRlQ2xlYW4oJGJ1aWx0U2VsZWN0KTtcclxuXHRcdFx0XHQvL2FkZCB3aXRuZXNzIC8gaGRpbmcgY2xhc3Mgb3JpZ2luYWwgc2VsZWN0IGVsZW1lbnRcclxuXHRcdFx0XHQkb3JpZ2luYWxTZWxlY3QuYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS1vcmlnaW5hbCcpO1xyXG5cdFx0XHRcdC8vaW5zZXJ0IHNlbGVjdE1hbmlhIGVsZW1lbnQgYmVmb3JlIG9yaWdpbmFsIHNlbGVjdFxyXG5cdFx0XHRcdCRidWlsdFNlbGVjdC5pbnNlcnRCZWZvcmUoJG9yaWdpbmFsU2VsZWN0KTtcclxuXHRcdFx0XHQvL21vdmUgb3JpZ2luYWwgc2VsZWN0IGludG8gc2VsZWN0TWFuaWEgZWxlbWVudFxyXG5cdFx0XHRcdCRvcmlnaW5hbFNlbGVjdC5hcHBlbmRUbygkYnVpbHRTZWxlY3QpO1xyXG5cdFx0XHRcdC8vYmluZCBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdFx0QmluZHMuYmluZCgkYnVpbHRTZWxlY3QpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiB1cGRhdGVcclxuXHJcblx0XHQvL3VwZGF0ZSBzZWxlY3RNYW5pYSBlbGVtZW50IGFjY29yZGluZyB0byBvcmlnaW5hbCBzZWxlY3QgZWxlbWVudFxyXG5cdFx0dXBkYXRlOiBmdW5jdGlvbigkb3JpZ2luYWxTZWxlY3QpIHtcclxuXHRcdFx0dmFyIHRoaXNFbmdpbmUgPSB0aGlzO1xyXG5cdFx0XHQvL3NlbGVjdE1hbmlhIGVsZW1lbnRzXHJcblx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9ICRvcmlnaW5hbFNlbGVjdC5kYXRhKCdzZWxlY3RNYW5pYS1lbGVtZW50Jyk7XHJcblx0XHRcdHZhciAkdmFsdWVMaXN0ID0gJHNlbGVjdE1hbmlhRWwuZmluZCgnLnNlbGVjdC1tYW5pYS12YWx1ZXMnKS5maXJzdCgpO1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtZHJvcGRvd24nKTtcclxuXHRcdFx0dmFyICRpdGVtTGlzdCA9ICRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW1zJykuZmlyc3QoKTtcclxuXHRcdFx0Ly91cGRhdGUgZGlzYWJsZWQgc3RhdHVzXHJcblx0XHRcdGlmKCRvcmlnaW5hbFNlbGVjdC5pcygnW2Rpc2FibGVkXScpKSB7XHJcblx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS1kaXNhYmxlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRzZWxlY3RNYW5pYUVsLnJlbW92ZUNsYXNzKCdzZWxlY3QtbWFuaWEtZGlzYWJsZWQnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL3JlbW92ZSBzZWxlY3RNYW5pYSB2YWx1ZXMgYW5kIGl0ZW1zXHJcblx0XHRcdCRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtdmFsdWUnKS5yZW1vdmUoKTtcclxuXHRcdFx0JGl0ZW1MaXN0LmVtcHR5KCk7XHJcblx0XHRcdC8vYnVpbGQgYW5kIGluc2VydCBzZWxlY3RlZCB2YWx1ZXNcclxuXHRcdFx0JG9yaWdpbmFsU2VsZWN0LmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYoJCh0aGlzKS5pcygnOnNlbGVjdGVkJykpIHtcclxuXHRcdFx0XHRcdCR2YWx1ZUxpc3QuYXBwZW5kKEJ1aWxkLmJ1aWxkVmFsdWUoe1xyXG5cdFx0XHRcdFx0XHR2YWx1ZTogdGhpcy52YWx1ZSwgXHJcblx0XHRcdFx0XHRcdHRleHQ6IHRoaXMudGV4dFxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vYnVpbGQgYW5kIGluc2VydCBpdGVtc1xyXG5cdFx0XHQkaXRlbUxpc3QuYXBwZW5kKEJ1aWxkLmJ1aWxkSXRlbUxpc3QoJG9yaWdpbmFsU2VsZWN0LmNoaWxkcmVuKCkpKTtcclxuXHRcdFx0Ly91cGRhdGUgY2xlYW4gdmFsdWVzIGljb24gZGlzcGxheVxyXG5cdFx0XHR0aGlzRW5naW5lLnVwZGF0ZUNsZWFuKCRzZWxlY3RNYW5pYUVsKTtcclxuXHRcdFx0Ly9yZWJpbmQgc2VsZWN0TWFuaWEgZWxlbWVudFxyXG5cdFx0XHRCaW5kcy5iaW5kKCRzZWxlY3RNYW5pYUVsKTtcclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGRlc3Ryb3lcclxuXHJcblx0XHQvL2Rlc3Ryb3kgc2VsZWN0TWFuaWEgb24gdGFyZ2V0ZWQgb3JpZ2luYWwgc2VsZWN0XHJcblx0XHRkZXN0cm95OiBmdW5jdGlvbigkb3JpZ2luYWxTZWxlY3QpIHtcclxuXHRcdFx0Ly9zZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9ICRvcmlnaW5hbFNlbGVjdC5kYXRhKCdzZWxlY3RNYW5pYS1lbGVtZW50Jyk7XHJcblx0XHRcdC8vbW92ZSBvcmlnaW5hbCBzZWxlY3Qgb3V0IG9mIHRoZSBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdCRvcmlnaW5hbFNlbGVjdC5pbnNlcnRBZnRlcigkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHRcdC8vcmVtb3ZlIHNlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0JHNlbGVjdE1hbmlhRWwucmVtb3ZlKCk7XHJcblx0XHRcdC8vcmVtb3ZlIGNsYXNzIGZyb20gb3JpZ2luYWwgc2VsZWN0XHJcblx0XHRcdCRvcmlnaW5hbFNlbGVjdC5yZW1vdmVDbGFzcygnc2VsZWN0LW1hbmlhLW9yaWdpbmFsJyk7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBvcGVuRHJvcGRvd24gLyBjbG9zZURyb3Bkb3duXHJcblxyXG5cdFx0Ly9vcGVuIGl0ZW1zIGRyb3Bkb3duXHJcblx0XHRvcGVuRHJvcGRvd246IGZ1bmN0aW9uKCRkcm9wZG93bikge1xyXG5cdFx0XHR2YXIgdGhpc0VuZ2luZSA9IHRoaXM7XHJcblx0XHRcdC8vc2VsZWN0LW1hbmlhIGVsZW1lbnRcclxuXHRcdFx0dmFyICRzZWxlY3RNYW5pYUVsID0gJGRyb3Bkb3duLmNsb3Nlc3QoJy5zZWxlY3QtbWFuaWEnKTtcclxuXHRcdFx0Ly9pZiBzY3JvbGwgY29udGFpbmVyIG9wdGlvbiBpcyBzZXRcclxuXHRcdFx0aWYoJHNlbGVjdE1hbmlhRWwuaXMoJ1tkYXRhLXNlbGVjdE1hbmlhLXNjcm9sbENvbnRhaW5lcl0nKSkge1xyXG5cdFx0XHRcdC8vc2Nyb2xsIGNvbnRhaW5lciBlbGVtZW50XHJcblx0XHRcdFx0dmFyICRzY3JvbGxDb250YWluZXIgPSAkKCRzZWxlY3RNYW5pYUVsLmF0dHIoJ2RhdGEtc2VsZWN0TWFuaWEtc2Nyb2xsQ29udGFpbmVyJykpO1xyXG5cdFx0XHRcdC8vcG9zaXRpb24gYWJzb2x1dGUgZHJvcGRvd25cclxuXHRcdFx0XHRFbmdpbmUucG9zaXRpb25Ecm9wZG93bigkZHJvcGRvd24pO1xyXG5cdFx0XHRcdC8vYXBwbHkgcG9zaXRpb25uaW5nIGNsYXNzXHJcblx0XHRcdFx0JGRyb3Bkb3duLmFkZENsYXNzKCdzZWxlY3QtbWFuaWEtYWJzb2x1dGUnKTtcclxuXHRcdFx0XHQvL2JpbmQgc2Nyb2xsIGNvbnRhaW5lciB0byBjbG9zZSBkcm9wZG93biBvbiBzY3JvbGxcclxuXHRcdFx0XHQkc2Nyb2xsQ29udGFpbmVyLm9mZignc2Nyb2xsLnNlbGVjdE1hbmlhJykub24oJ3Njcm9sbC5zZWxlY3RNYW5pYScsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0Ly91bmJpbmQgY2xvc2UgZHJvcGRvd24gb24gc2Nyb2xsaW5nXHJcblx0XHRcdFx0XHQkc2Nyb2xsQ29udGFpbmVyLm9mZignc2Nyb2xsLnNlbGVjdE1hbmlhJyk7XHJcblx0XHRcdFx0XHQvL2Nsb3NlIG9wZW4gZHJvcGRvd25cclxuXHRcdFx0XHRcdEVuZ2luZS5jbG9zZURyb3Bkb3duKCQoJy5zZWxlY3QtbWFuaWEtZHJvcGRvd24ub3BlbicpKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvL3JlcG9zaXRpb24gZHJvcGRvd24gd2hlbiB3aW5kb3cgaXMgcmVzaXplZFxyXG5cdFx0XHRcdCQod2luZG93KS5vZmYoJ3Jlc2l6ZS5zZWxlY3RNYW5pYScpLm9uKCdyZXNpemUuc2VsZWN0TWFuaWEnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdC8vcG9zaXRpb24gYWJzb2x1dGUgZHJvcGRvd25cclxuXHRcdFx0XHRcdEVuZ2luZS5wb3NpdGlvbkRyb3Bkb3duKCRkcm9wZG93bik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9vcGVuIGRyb3Bkb3duXHJcblx0XHRcdCRkcm9wZG93bi5zdG9wKCkuYWRkQ2xhc3MoJ29wZW4nKS5zbGlkZURvd24oMTAwKTtcclxuXHRcdFx0Ly9zY3JvbGwgZHJvcGRvd24gdG8gdG9wXHJcblx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW1zJykuc2Nyb2xsVG9wKDApO1xyXG5cdFx0XHQvL2ZvY3VzIHNlYXJjaCBpbnB1dFxyXG5cdFx0XHR0aGlzRW5naW5lLmZvY3VzU2VhcmNoKCRkcm9wZG93bik7XHJcblx0XHRcdC8vYmluZCBrZXlib2FyZCBjb250cm9sXHJcblx0XHRcdCQoZG9jdW1lbnQpLm9mZigna2V5ZG93bi5zZWxlY3RNYW5pYScpLm9uKCdrZXlkb3duLnNlbGVjdE1hbmlhJywgQmluZHMua2V5Ym9hcmRDb250cm9sKTtcclxuXHRcdH0sIFxyXG5cclxuXHRcdC8vY2xvc2UgaXRlbXMgZHJvcGRvd25cclxuXHRcdGNsb3NlRHJvcGRvd246IGZ1bmN0aW9uKCRkcm9wZG93bikge1xyXG5cdFx0XHR2YXIgJHNlbGVjdE1hbmlhRWwgPSAkZHJvcGRvd24uZGF0YSgnc2VsZWN0TWFuaWEtZWxlbWVudCcpO1xyXG5cdFx0XHQvL3VuYmluZCBrZXlib2FyZCBjb250cm9sXHJcblx0XHRcdCQoZG9jdW1lbnQpLm9mZigna2V5ZG93bi5zZWxlY3RNYW5pYScpO1xyXG5cdFx0XHQvL3JlbW92ZSBldmVyeSBob3ZlciBjbGFzcyBmcm9tIGl0ZW1zXHJcblx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW0nKS5yZW1vdmVDbGFzcygnc2VsZWN0LW1hbmlhLWhvdmVyJyk7XHJcblx0XHRcdC8vaWYgZHJvcGRvd24gaGFzIGFib3NsdXRlIHBvc2l0aW9ubmluZ1xyXG5cdFx0XHRpZigkZHJvcGRvd24uaGFzQ2xhc3MoJ3NlbGVjdC1tYW5pYS1hYnNvbHV0ZScpKSB7XHJcblx0XHRcdFx0Ly9zZWxlY3QtbWFuaWEgaW5uZXIgZWxlbWVudFxyXG5cdFx0XHRcdHZhciAkc2VsZWN0TWFuaWFJbm5lciA9ICRkcm9wZG93blxyXG5cdFx0XHRcdFx0LmRhdGEoJ3NlbGVjdE1hbmlhLWVsZW1lbnQnKVxyXG5cdFx0XHRcdFx0LmZpbmQoJy5zZWxlY3QtbWFuaWEtaW5uZXInKVxyXG5cdFx0XHRcdFx0LmZpcnN0KCk7XHJcblx0XHRcdFx0Ly9tb3ZlIGJhY2sgdGhlIGRyb3Bkb3duIGluc2lkZSBzZWxlY3QtbWFuaWEgZWxlbWVudFxyXG5cdFx0XHRcdCRkcm9wZG93blxyXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCdvcGVuJylcclxuXHRcdFx0XHRcdC5oaWRlKClcclxuXHRcdFx0XHRcdC5pbnNlcnRBZnRlcihcclxuXHRcdFx0XHRcdFx0JHNlbGVjdE1hbmlhSW5uZXJcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0Ly91bmJpbmQgcmVwb3NpdGlvbmluZyBvbiByZXNpemVcclxuXHRcdFx0XHQkKHdpbmRvdykub2ZmKCdyZXNpemUuc2VsZWN0TWFuaWEnKTtcclxuXHRcdFx0XHQvL3VuYmluZCBjbG9zZSBkcm9wZG93biBvbiBzY3JvbGxpbmdcclxuXHRcdFx0XHR2YXIgJHNjcm9sbENvbnRhaW5lciA9ICQoJHNlbGVjdE1hbmlhRWwuYXR0cignZGF0YS1zZWxlY3RNYW5pYS1zY3JvbGxDb250YWluZXInKSk7XHJcblx0XHRcdFx0aWYoJHNjcm9sbENvbnRhaW5lci5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHQkc2Nyb2xsQ29udGFpbmVyLm9mZignc2Nyb2xsLnNlbGVjdE1hbmlhJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vaWYgZHJvcGRvd24gaGFzIHN0YW5kYXJkIHBvc2l0aW9ubmluZ1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHQvL2Nsb3NlIGRyb3Bkb3duXHJcblx0XHRcdFx0JGRyb3Bkb3duLnN0b3AoKS5yZW1vdmVDbGFzcygnb3BlbicpLnNsaWRlVXAoMTAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gcG9zaXRpb25Ecm9wZG93blxyXG5cclxuXHRcdC8vcG9zaXRpb24gZHJvcGRvd24gcmVsYXRpdmUgdG8gaXRzIHNlbGVjdC1tYW5pYSBlbGVtZW50XHJcblx0XHRwb3NpdGlvbkRyb3Bkb3duOiBmdW5jdGlvbigkZHJvcGRvd24pIHtcclxuXHRcdFx0dmFyICRzZWxlY3RNYW5pYUVsID0gJGRyb3Bkb3duLmRhdGEoJ3NlbGVjdE1hbmlhLWVsZW1lbnQnKTtcclxuXHRcdFx0Ly9pdGVtIGxpc3Qgc2Nyb2xsIGRhdGFcclxuXHRcdFx0dmFyICRpdGVtTGlzdCA9ICRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW1zJyk7XHJcblx0XHRcdHZhciBpdGVtTGlzdFNjcm9sbCA9ICRpdGVtTGlzdC5zY3JvbGxUb3AoKTtcclxuXHRcdFx0Ly9kYXRhIGZvciBjYWxjdWxhdGluZyBkcm9wZG93biBhYnNvbHV0ZSBwb3NpdGlvblxyXG5cdFx0XHR2YXIgc2VsZWN0TWFuaWFFbFBvcyA9ICRzZWxlY3RNYW5pYUVsLm9mZnNldCgpO1xyXG5cdFx0XHR2YXIgc2VsZWN0TWFuaWFFbFdpZHRoID0gJHNlbGVjdE1hbmlhRWwub3V0ZXJXaWR0aCgpO1xyXG5cdFx0XHR2YXIgc2VsZWN0TWFuaWFFbEhlaWdodCA9ICRzZWxlY3RNYW5pYUVsLm91dGVySGVpZ2h0KCk7XHJcblx0XHRcdC8vYXBwZW5kIGRyb3Bkb3duIHRvIGJvZHkgaW4gYWJzb2x1dGUgcG9zaXRpb25cclxuXHRcdFx0JGRyb3Bkb3duLmFwcGVuZFRvKCdib2R5JykuY3NzKHtcclxuXHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJywgXHJcblx0XHRcdFx0dG9wOiBzZWxlY3RNYW5pYUVsUG9zLnRvcCArIHNlbGVjdE1hbmlhRWxIZWlnaHQsIFxyXG5cdFx0XHRcdGxlZnQ6IHNlbGVjdE1hbmlhRWxQb3MubGVmdCwgXHJcblx0XHRcdFx0d2lkdGg6IHNlbGVjdE1hbmlhRWxXaWR0aFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9mb3JjZSBpdGVtIGxpc3Qgc2Nyb2xsIHRvIGl0cyBpbml0aWFsIHN0YXRlXHJcblx0XHRcdCRpdGVtTGlzdC5zY3JvbGxUb3AoaXRlbUxpc3RTY3JvbGwpO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gc2VsZWN0SXRlbVxyXG5cclxuXHRcdC8vcGVyZm9ybSBpdGVtIHNlbGVjdGlvbiBpbiBkcm9wZG93blxyXG5cdFx0c2VsZWN0SXRlbTogZnVuY3Rpb24oJGl0ZW0pIHtcclxuXHRcdFx0Ly9kcm9wZG93biBlbGVtZW50XHJcblx0XHRcdHZhciAkZHJvcGRvd24gPSAkaXRlbS5jbG9zZXN0KCcuc2VsZWN0LW1hbmlhLWRyb3Bkb3duJyk7XHJcblx0XHRcdC8vc2VsZWN0TWFuaWEgZWxlbWVudFxyXG5cdFx0XHR2YXIgJHNlbGVjdE1hbmlhRWwgPSAkZHJvcGRvd24uZGF0YSgnc2VsZWN0TWFuaWEtZWxlbWVudCcpO1xyXG5cdFx0XHQvL3NlbGVjdCBvcmlnaW5hbCBlbGVtZW50XHJcblx0XHRcdHZhciAkb3JpZ2luYWxTZWxlY3QgPSAkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1vcmlnaW5hbFNlbGVjdCcpO1xyXG5cdFx0XHQvL2lmIGl0ZW0gbm90IGFscmVhZHkgc2VsZWN0ZWRcclxuXHRcdFx0aWYoISRpdGVtLmlzKCcuc2VsZWN0LW1hbmlhLXNlbGVjdGVkJykpIHtcclxuXHRcdFx0XHQvL2NsaWNrZWQgaXRlbSB2YWx1ZVxyXG5cdFx0XHRcdHZhciBpdGVtVmFsID0gJGl0ZW0uYXR0cignZGF0YS12YWx1ZScpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vYnVpbGQgdmFsdWUgZWxlbWVudFxyXG5cdFx0XHRcdHZhciAkdmFsdWUgPSBCdWlsZC5idWlsZFZhbHVlKHtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFsdWU6IGl0ZW1WYWwsIFxyXG5cdFx0XHRcdFx0dGV4dDogJGl0ZW0udGV4dCgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly9pZiBzZWxlY3QgbXVsdGlwbGVcclxuXHRcdFx0XHRpZigkc2VsZWN0TWFuaWFFbC5pcygnLnNlbGVjdC1tYW5pYS1tdWx0aXBsZScpKSB7XHJcblx0XHRcdFx0XHQvL2luc2VydCB2YWx1ZSBlbGVtZW50IGluIHNlbGVjdE1hbmlhIHZhbHVlc1xyXG5cdFx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuZmluZCgnLnNlbGVjdC1tYW5pYS12YWx1ZXMnKS5hcHBlbmQoJHZhbHVlKTtcclxuXHRcdFx0XHRcdC8vYWRkIHZhbHVlIGluIG9yaWdpbmFsIHNlbGVjdCBlbGVtZW50XHJcblx0XHRcdFx0XHRFbmdpbmUuYWRkTXVsdGlwbGVWYWwoJG9yaWdpbmFsU2VsZWN0LCBpdGVtVmFsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9pZiBzZWxlY3Qgbm90IG11bHRpcGxlXHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvL3Vuc2VsZWN0IGV2ZXJ5IG90aGVyIGl0ZW1zXHJcblx0XHRcdFx0XHQkZHJvcGRvd24uZmluZCgnLnNlbGVjdC1tYW5pYS1pdGVtJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdC1tYW5pYS1zZWxlY3RlZCcpO1xyXG5cdFx0XHRcdFx0Ly9pbnNlcnQgdmFsdWUgZWxlbWVudCBpbiBzZWxlY3RNYW5pYSB2YWx1ZXNcclxuXHRcdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtdmFsdWVzIC5zZWxlY3QtbWFuaWEtdmFsdWUnKS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtdmFsdWVzJykuYXBwZW5kKCR2YWx1ZSk7XHJcblx0XHRcdFx0XHQvL2NoYW5nZSB2YWx1ZSBpbiBvcmlnaW5hbCBzZWxlY3QgZWxlbWVudFxyXG5cdFx0XHRcdFx0JG9yaWdpbmFsU2VsZWN0LnZhbChpdGVtVmFsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9zZXQgY2xpY2tlZCBpdGVtIGFzIHNlbGVjdGVkXHJcblx0XHRcdFx0JGl0ZW0uYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS1zZWxlY3RlZCcpO1xyXG5cdFx0XHRcdC8vdHJpZ2dlciBvcmlnaW5hbCBzZWxlY3QgY2hhbmdlIGV2ZW50XHJcblx0XHRcdFx0JG9yaWdpbmFsU2VsZWN0LnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vaWYgYWJzb2x1dGUgcG9zaXRpb24gZHJvcGRvd25cclxuXHRcdFx0aWYoJGRyb3Bkb3duLmlzKCcuc2VsZWN0LW1hbmlhLWFic29sdXRlJykpIHtcclxuXHRcdFx0XHQvL3Bvc2l0aW9uIGFic29sdXRlIGRyb3Bkb3duXHJcblx0XHRcdFx0RW5naW5lLnBvc2l0aW9uRHJvcGRvd24oJGRyb3Bkb3duKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2lmIHNlbGVjdCBub3QgbXVsdGlwbGVcclxuXHRcdFx0aWYoISRzZWxlY3RNYW5pYUVsLmlzKCcuc2VsZWN0LW1hbmlhLW11bHRpcGxlJykpIHtcclxuXHRcdFx0XHQvL2Nsb3NlIGRyb3Bkb3duXHJcblx0XHRcdFx0RW5naW5lLmNsb3NlRHJvcGRvd24oJGRyb3Bkb3duKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL3VwZGF0ZSBjbGVhciB2YWx1ZXMgaWNvbiBkaXNwbGF5XHJcblx0XHRcdEVuZ2luZS51cGRhdGVDbGVhbigkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHRcdC8vcmViaW5kIHNlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0QmluZHMuYmluZCgkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBmb2N1c1NlYXJjaFxyXG5cclxuXHRcdC8vZm9jdXMgc2VhcmNoIGlucHV0IGluIGRyb3Bkb3duXHJcblx0XHRmb2N1c1NlYXJjaDogZnVuY3Rpb24oJGRyb3Bkb3duKSB7XHJcblx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLXNlYXJjaC1pbnB1dCcpLmZvY3VzKCk7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBhZGRNdWx0aXBsZVZhbFxyXG5cclxuXHRcdC8vYWRkIHZhbHVlIHRvIG11bHRpcGxlIG9yaWdpbmFsIHNlbGVjdFxyXG5cdFx0YWRkTXVsdGlwbGVWYWw6IGZ1bmN0aW9uKCRvcmlnaW5hbFNlbGVjdCwgdmFsKSB7XHJcblx0XHRcdHZhciBvcmlnaW5hbFZhbHMgPSAkb3JpZ2luYWxTZWxlY3QudmFsKCk7XHJcblx0XHRcdGlmKCEob3JpZ2luYWxWYWxzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcblx0XHRcdFx0b3JpZ2luYWxWYWxzID0gW107XHJcblx0XHRcdH1cclxuXHRcdFx0b3JpZ2luYWxWYWxzLnB1c2godmFsKTtcclxuXHRcdFx0JG9yaWdpbmFsU2VsZWN0LnZhbChvcmlnaW5hbFZhbHMpO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gcmVtb3ZlTXVsdGlwbGVWYWxcclxuXHJcblx0XHQvL3JlbW92ZSB2YWx1ZSBmcm9tIG11bHRpcGxlIG9yaWdpbmFsIHNlbGVjdFxyXG5cdFx0cmVtb3ZlTXVsdGlwbGVWYWw6IGZ1bmN0aW9uKCRvcmlnaW5hbFNlbGVjdCwgdmFsKSB7XHJcblx0XHRcdHZhciBvcmlnaW5hbFZhbHMgPSAkb3JpZ2luYWxTZWxlY3QudmFsKCk7XHJcblx0XHRcdGlmKCEob3JpZ2luYWxWYWxzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcblx0XHRcdFx0b3JpZ2luYWxWYWxzID0gW107XHJcblx0XHRcdH1cclxuXHRcdFx0b3JpZ2luYWxWYWxzLnNwbGljZSgkLmluQXJyYXkodmFsLCBvcmlnaW5hbFZhbHMpLCAxKTtcclxuXHRcdFx0JG9yaWdpbmFsU2VsZWN0LnZhbChvcmlnaW5hbFZhbHMpO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gdXBkYXRlQ2xlYW5cclxuXHJcblx0XHQvL2Rpc3BsYXkgLyBoaWRlIGNsZWFuIHZhbHVlcyBpY29uIGFjY29yZGluZyB0byBjdXJyZW50IHZhbHVlc1xyXG5cdFx0dXBkYXRlQ2xlYW46IGZ1bmN0aW9uKCRzZWxlY3RNYW5pYUVsKSB7XHJcblx0XHRcdC8vb3JpZ2luYWwgc2VsZWN0IGVsZW1lbnRcclxuXHRcdFx0dmFyICRvcmlnaW5hbFNlbGVjdCA9ICRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLW9yaWdpbmFsU2VsZWN0Jyk7XHJcblx0XHRcdC8vaWYgdmFsdWUgaXMgbm90IGVtcHR5XHJcblx0XHRcdGlmKCRvcmlnaW5hbFNlbGVjdC52YWwoKSAhPT0gbnVsbCAmJiAkb3JpZ2luYWxTZWxlY3QudmFsKCkubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdC8vZGlzcGxheSBjbGVhbiB2YWx1ZXMgaWNvblxyXG5cdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtY2xlYXItaWNvbicpLnNob3coKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2lmIGVtcHR5IHZhbHVlXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdC8vaGlkZSBjbGVhbiB2YWx1ZXMgaWNvblxyXG5cdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtY2xlYXItaWNvbicpLmhpZGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gZG9TZWFyY2hcclxuXHJcblx0XHQvL2RvIHNlYXJjaCBpbiBpdGVtcyBkcm9wZG93blxyXG5cdFx0ZG9TZWFyY2g6IGZ1bmN0aW9uKCRzZWxlY3RNYW5pYUVsKSB7XHJcblx0XHRcdC8vZHJvcGRvd25cclxuXHRcdFx0dmFyICRkcm9wZG93biA9ICRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLWRyb3Bkb3duJyk7XHJcblx0XHRcdC8vc2VhcmNoIHZhbHVlXHJcblx0XHRcdHZhciBzZWFyY2hWYWwgPSAkZHJvcGRvd24uZmluZCgnLnNlbGVjdC1tYW5pYS1zZWFyY2gtaW5wdXQnKS5maXJzdCgpLnZhbCgpLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG5cdFx0XHQvL2lmIGVtcHR5IHNlYXJjaCB2YWx1ZVxyXG5cdFx0XHRpZihzZWFyY2hWYWwgPT09ICcnKSB7XHJcblx0XHRcdFx0Ly9kaXNwbGF5IGFsbCBpdGVtc1xyXG5cdFx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWdyb3VwLCAuc2VsZWN0LW1hbmlhLWl0ZW0nKS5yZW1vdmVDbGFzcygnc2VsZWN0LW1hbmlhLWhpZGRlbicpO1xyXG5cdFx0XHRcdC8vc3RvcCBmdW5jdGlvblxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2xvb3AgdGhyb3VnaCBkcm9wZG93biBpdGVtc1xyXG5cdFx0XHQkZHJvcGRvd24uZmluZCgnLnNlbGVjdC1tYW5pYS1pdGVtJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQvL2lmIGl0ZW0gdGV4dCBtYXRjaGVzIHNlYXJjaCB2YWx1ZVxyXG5cdFx0XHRcdGlmKCQodGhpcykudGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hWYWwpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0Ly9kaXNwbGF5IGl0ZW1cclxuXHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ3NlbGVjdC1tYW5pYS1oaWRkZW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9pZiBpdGVtIHRleHQgZG9uJ3QgbWF0Y2ggc2VhcmNoIHZhbHVlXHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvL2hpZGUgaXRlbVxyXG5cdFx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0LW1hbmlhLWhpZGRlbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vc2hvdyAvIGhpZGUgb3B0Z3JvdXBzIGlmIGNvbnRhaW4gcmVzdWx0cyAvIGVtcHR5XHJcblx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWdyb3VwJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZigkKHRoaXMpLmZpbmQoJy5zZWxlY3QtbWFuaWEtaXRlbTpub3QoLnNlbGVjdC1tYW5pYS1oaWRkZW4pJykubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnc2VsZWN0LW1hbmlhLWhpZGRlbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS1oaWRkZW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gZG9TZWFyY2hBamF4XHJcblxyXG5cdFx0Ly9kbyBhamF4IHNlYXJjaCBpbiBpdGVtcyBkcm9wZG93blxyXG5cdFx0ZG9TZWFyY2hBamF4OiBmdW5jdGlvbigkc2VsZWN0TWFuaWFFbCkge1xyXG5cdFx0XHR2YXIgdGhpc0VuZ2luZSA9IHRoaXM7XHJcblx0XHRcdC8vZHJvcGRvd25cclxuXHRcdFx0dmFyICRkcm9wZG93biA9ICRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLWRyb3Bkb3duJyk7XHJcblx0XHRcdC8vc2VhcmNoIHZhbHVlXHJcblx0XHRcdHZhciB0aGlzU2VhcmNoID0gJGRyb3Bkb3duLmZpbmQoJy5zZWxlY3QtbWFuaWEtc2VhcmNoLWlucHV0JykuZmlyc3QoKS52YWwoKTtcclxuXHRcdFx0Ly9wYXVzZSBhamF4IHNjcm9sbFxyXG5cdFx0XHQkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4UmVhZHknLCBmYWxzZSk7XHJcblx0XHRcdC8vcmVzZXQgY3VycmVudCBwYWdlIG51bWJlclxyXG5cdFx0XHQkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4UGFnZScsIDEpO1xyXG5cdFx0XHQvL2xvYWRpbmcgaWNvblxyXG5cdFx0XHR0aGlzRW5naW5lLmRyb3Bkb3duTG9hZGluZygkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHRcdC8vY2FsbCBhamF4IGZ1bmN0aW9uXHJcblx0XHRcdHZhciB0aGlzQWpheEZ1bmN0aW9uID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtYWpheEZ1bmN0aW9uJyk7XHJcblx0XHRcdHZhciB0aGlzQWpheERhdGEgPSAkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4RGF0YScpO1xyXG5cdFx0XHR0aGlzQWpheEZ1bmN0aW9uKHRoaXNTZWFyY2gsIDEsIHRoaXNBamF4RGF0YSwgZnVuY3Rpb24ob3B0SFRNTCkge1xyXG5cdFx0XHRcdC8vcmVtb3ZlIGxvYWRpbmcgaWNvblxyXG5cdFx0XHRcdHRoaXNFbmdpbmUuZHJvcGRvd25Mb2FkaW5nKCRzZWxlY3RNYW5pYUVsLCB0cnVlKTtcclxuXHRcdFx0XHQvL3JlcGxhY2UgY3VycmVudCBpdGVtcyB3aXRoIHNlbnQgb3B0aW9uc1xyXG5cdFx0XHRcdEVuZ2luZS5yZXBsYWNlSXRlbXMoJHNlbGVjdE1hbmlhRWwsIG9wdEhUTUwpO1xyXG5cdFx0XHRcdC8vcmViaW5kIHNlbGVjdFxyXG5cdFx0XHRcdEJpbmRzLmJpbmQoJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0XHRcdC8vcmVzZXQgYWpheCBzY3JvbGwgZGF0YVxyXG5cdFx0XHRcdHRoaXNFbmdpbmUuaW5pdEFqYXgoJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGFkZEl0ZW1zIC8gcmVwbGFjZUl0ZW1zXHJcblxyXG5cdFx0Ly9hZGQgaXRlbXMgdG8gZHJvcGRvd25cclxuXHRcdGFkZEl0ZW1zOiBmdW5jdGlvbigkc2VsZWN0TWFuaWFFbCwgb3B0aW9uc0hUTUwpIHtcclxuXHRcdFx0dmFyIHRoaXNFbmdpbmUgPSB0aGlzO1xyXG5cdFx0XHR0aGlzRW5naW5lLmFkZE9yUmVwbGFjZUl0ZW1zKCRzZWxlY3RNYW5pYUVsLCBvcHRpb25zSFRNTCwgZmFsc2UpO1xyXG5cdFx0fSwgXHJcblxyXG5cdFx0Ly9yZXBsYWNlIGRyb3Bkb3duIGl0ZW1zXHJcblx0XHRyZXBsYWNlSXRlbXM6IGZ1bmN0aW9uKCRzZWxlY3RNYW5pYUVsLCBvcHRpb25zSFRNTCkge1xyXG5cdFx0XHR2YXIgdGhpc0VuZ2luZSA9IHRoaXM7XHJcblx0XHRcdHRoaXNFbmdpbmUuYWRkT3JSZXBsYWNlSXRlbXMoJHNlbGVjdE1hbmlhRWwsIG9wdGlvbnNIVE1MLCB0cnVlKTtcclxuXHRcdH0sIFxyXG5cclxuXHRcdC8vYWRkIC8gcmVwbGFjZSBkcm9wZG93biBpdGVtc1xyXG5cdFx0YWRkT3JSZXBsYWNlSXRlbXM6IGZ1bmN0aW9uKCRzZWxlY3RNYW5pYUVsLCBvcHRpb25zSFRNTCwgcmVwbGFjZSkge1xyXG5cdFx0XHR2YXIgdGhpc0VuZ2luZSA9IHRoaXM7XHJcblx0XHRcdC8vZHJvcGRvd25cclxuXHRcdFx0dmFyICRkcm9wZG93biA9ICRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLWRyb3Bkb3duJyk7XHJcblx0XHRcdC8vb3JpZ2luYWwgc2VsZWN0IGVsZW1lbnRcclxuXHRcdFx0dmFyICRvcmlnaW5hbFNlbGVjdCA9ICRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLW9yaWdpbmFsU2VsZWN0Jyk7XHJcblx0XHRcdC8vaXRlbXMgZHJvcGRvd25cclxuXHRcdFx0dmFyICRpdGVtc0NvbnRhaW5lciA9ICRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW1zJyk7XHJcblx0XHRcdC8vb3B0aW9ucyBqcXVlcnkgcGFyc2luZ1xyXG5cdFx0XHR2YXIgJG9wdGlvbnMgPSAkKG9wdGlvbnNIVE1MKTtcclxuXHRcdFx0Ly9nZXQgc2VsZWN0TWFuaWEgZWxlbWVudCB2YWx1ZXNcclxuXHRcdFx0dmFyIHNlbGVjdGVkVmFscyA9IHRoaXNFbmdpbmUuZ2V0VmFsKCRzZWxlY3RNYW5pYUVsKTtcclxuXHRcdFx0Ly9sb29wIHRocm91Z2ggc2VsZWN0ZWQgdmFsdWVzXHJcblx0XHRcdHNlbGVjdGVkVmFscy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xyXG5cdFx0XHRcdCRvcHRpb25zXHJcblx0XHRcdFx0XHQvL3NlYXJjaCBmb3Igb3B0aW9ucyBtYXRjaGluZyBzZWxlY3RlZCB2YWx1ZVxyXG5cdFx0XHRcdFx0LmZpbHRlcihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICQodGhpcykuYXR0cigndmFsdWUnKSA9PT0gdmFsLnZhbHVlICYmICQodGhpcykudGV4dCgpID09PSB2YWwudGV4dDtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQvL3NldCBtYXRjaGluZyBvcHRpb25zIGFzIHNlbGVjdGVkXHJcblx0XHRcdFx0XHQucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vYnVpbGQgaXRlbXMgbGlzdFxyXG5cdFx0XHQkYnVpbHRJdGVtcyA9IEJ1aWxkLmJ1aWxkSXRlbUxpc3QoJG9wdGlvbnMpO1xyXG5cdFx0XHQvL2lmIGl0ZW1zIGFyZSBtZWFudCB0byBiZSByZXBsYWNlZFxyXG5cdFx0XHRpZihyZXBsYWNlID09PSB0cnVlKSB7XHJcblx0XHRcdFx0Ly9lbXB0eSBvbGQgb3B0aW9ucyBleGNlcHQgc2VsZWN0ZWQgb25lc1xyXG5cdFx0XHRcdCRvcmlnaW5hbFNlbGVjdC5maW5kKCdvcHRpb24nKS5yZW1vdmUoJzpub3QoOmNoZWNrZWQpJyk7XHJcblx0XHRcdFx0Ly9lbXB0eSBpdGVtcyBkcm9wZG93blxyXG5cdFx0XHRcdCRpdGVtc0NvbnRhaW5lci5lbXB0eSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vYWRkIGl0ZW1zIHRvIHNlbGVjdE1hbmlhIGRyb3Bkb3duXHJcblx0XHRcdCRpdGVtc0NvbnRhaW5lci5hcHBlbmQoJGJ1aWx0SXRlbXMpO1xyXG5cdFx0XHQvL2FkZCBvcHRpb25zIHRvIG9yaWdpbmFsIHNlbGVjdCBlbGVtZW50XHJcblx0XHRcdCRvcmlnaW5hbFNlbGVjdC5hcHBlbmQoJG9wdGlvbnMpO1xyXG5cdFx0XHQvL3JlYmluZCBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdEJpbmRzLmJpbmQoJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gaW5pdEFqYXhcclxuXHJcblx0XHQvL3Jlc2V0IHNlbGVjdE1hbmlhIGVsZW1lbnQgYWpheCBkYXRhIGFuZCBhdHRhY2ggYWpheCBmdW5jdGlvblxyXG5cdFx0aW5pdEFqYXg6IGZ1bmN0aW9uKCRzZWxlY3RNYW5pYUVsLCBzZXR0aW5ncykge1xyXG5cdFx0XHQvL2lmIGFqYXggc2V0dGluZ3MgYXJlIHByb3ZpZGVkIHRvIGJlIGF0dGFjaGVkXHJcblx0XHRcdGlmKHR5cGVvZiBzZXR0aW5ncyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHQvL2F0dGFjaCBhamF4IGZ1bmN0aW9uXHJcblx0XHRcdFx0aWYoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoJ2FqYXgnKSAmJiB0eXBlb2Ygc2V0dGluZ3MuYWpheCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtYWpheEZ1bmN0aW9uJywgc2V0dGluZ3MuYWpheCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vYXR0YWNoIGFqYXggZGF0YVxyXG5cdFx0XHRcdGlmKHNldHRpbmdzLmhhc093blByb3BlcnR5KCdkYXRhJykgJiYgdHlwZW9mIHNldHRpbmdzLmRhdGEgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0XHQkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4RGF0YScsIHNldHRpbmdzLmRhdGEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvL3Jlc2V0IGFqYXggZGF0YVxyXG5cdFx0XHQkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4UGFnZScsIDEpO1xyXG5cdFx0XHQkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4UmVhZHknLCB0cnVlKTtcclxuXHRcdFx0JHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtYWpheFNjcm9sbERvbmUnLCBmYWxzZSk7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBkcm9wZG93bkxvYWRpbmdcclxuXHJcblx0XHQvL2Rpc3BsYXkgLyBoaWRlIGxvYWRpbmcgaWNvbiBpbnNpZGUgaXRlbXMgZHJvcGRvd25cclxuXHRcdGRyb3Bkb3duTG9hZGluZzogZnVuY3Rpb24oJHNlbGVjdE1hbmlhRWwsIGhpZGUpIHtcclxuXHRcdFx0Ly9pZiBoaWRlIGljb24gcmVxdWVzdGVkXHJcblx0XHRcdHZhciBpc0hpZGUgPSBmYWxzZTtcclxuXHRcdFx0aWYodHlwZW9mIGhpZGUgIT09ICd1bmRlZmluZWQnICYmIGhpZGUgPT09IHRydWUpIHtcclxuXHRcdFx0XHRpc0hpZGUgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vZHJvcGRvd24gaW5uZXIgbGlzdCBlbGVtZW50XHJcblx0XHRcdHZhciAkZHJvcGRvd25Db250YWluZXIgPSAkc2VsZWN0TWFuaWFFbC5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW1zLWNvbnRhaW5lcicpLmZpcnN0KCk7XHJcblx0XHRcdC8vcmVtb3ZlIGxvYWRpbmcgaWNvbiBpZiBleGlzdHNcclxuXHRcdFx0JGRyb3Bkb3duQ29udGFpbmVyLmZpbmQoJy5pY29uLWxvYWRpbmctY29udGFpbmVyJykucmVtb3ZlKCk7XHJcblx0XHRcdC8vaWYgc2hvdyBpY29uIHJlcXVlc3RlZFxyXG5cdFx0XHRpZihpc0hpZGUgIT09IHRydWUpIHtcclxuXHRcdFx0XHQvL2J1aWxkIGxvYWRpbmcgaWNvblxyXG5cdFx0XHRcdHZhciAkbG9hZGluZ0ljb24gPSAkKCc8ZGl2IGNsYXNzPVwiaWNvbi1sb2FkaW5nLWNvbnRhaW5lclwiPjwvZGl2PicpO1xyXG5cdFx0XHRcdCRsb2FkaW5nSWNvbi5hcHBlbmQoJzxpIGNsYXNzPVwiaWNvbi1sb2FkaW5nXCI+PC9pPicpO1xyXG5cdFx0XHRcdC8vaW5zZXJ0IGxvYWRpbmcgaWNvblxyXG5cdFx0XHRcdCRkcm9wZG93bkNvbnRhaW5lci5hcHBlbmQoJGxvYWRpbmdJY29uKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gZ2V0VmFsXHJcblxyXG5cdFx0Ly9nZXQgcGFyc2VkIHNlbGVjdGVkIHZhbHVlc1xyXG5cdFx0Z2V0VmFsOiBmdW5jdGlvbigkc2VsZWN0TWFuaWFFbCkge1xyXG5cdFx0XHR2YXIgdmFsT2JqcyA9IFtdO1xyXG5cdFx0XHQvL2xvb3AgdGhvdWdoIHZhbHVlcyBlbGVtZW50c1xyXG5cdFx0XHQkc2VsZWN0TWFuaWFFbC5maW5kKCcuc2VsZWN0LW1hbmlhLXZhbHVlJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQvL3NlbGVjdGVkIHZhbHVlIHRleHRcclxuXHRcdFx0XHR2YXIgdGhpc1RleHQgPSAkKHRoaXMpLmZpbmQoJy5zZWxlY3QtbWFuaWEtdmFsdWUtdGV4dCcpLmZpcnN0KCkudGV4dCgpO1xyXG5cdFx0XHRcdC8vaW5zZXJ0IHNlbGVjdGVkIHZhbHVlIG9iamVjdFxyXG5cdFx0XHRcdHZhbE9ianMucHVzaCh7XHJcblx0XHRcdFx0XHQgXHJcblx0XHRcdFx0XHR2YWx1ZTogJCh0aGlzKS5hdHRyKCdkYXRhLXZhbHVlJyksIFxyXG5cdFx0XHRcdFx0dGV4dDogdGhpc1RleHRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vc2VuZCBiYWNrIHBhcnNlZCBzZWxlY3RlZCB2YWx1ZXNcclxuXHRcdFx0cmV0dXJuIHZhbE9ianM7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBjbGVhclxyXG5cclxuXHRcdC8vY2xlYXIgc2VsZWN0IHZhbHVlc1xyXG5cdFx0Y2xlYXI6IGZ1bmN0aW9uKCRzZWxlY3RNYW5pYUVsKSB7XHJcblx0XHRcdC8vZHJvcGRvd25cclxuXHRcdFx0dmFyICRkcm9wZG93biA9ICRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLWRyb3Bkb3duJyk7XHJcblx0XHRcdC8vZW1wdHkgc2VsZWN0TWFuaWEgdmFsdWVzXHJcblx0XHRcdCRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtdmFsdWUnKS5yZW1vdmUoKTtcclxuXHRcdFx0Ly91bnNlbGVjdCBpdGVtcyBpbiBkcm9wZG93blxyXG5cdFx0XHQkZHJvcGRvd24uZmluZCgnLnNlbGVjdC1tYW5pYS1pdGVtJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdC1tYW5pYS1zZWxlY3RlZCcpO1xyXG5cdFx0XHQvL2VtcHR5IHZhbHVlcyBpbiBvcmlnaW5hbCBzZWxlY3QgZWxlbWVudFxyXG5cdFx0XHR2YXIgJG9yaWdpbmFsU2VsZWN0ID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtb3JpZ2luYWxTZWxlY3QnKTtcclxuXHRcdFx0aWYoJHNlbGVjdE1hbmlhRWwuaXMoJy5zZWxlY3QtbWFuaWEtbXVsdGlwbGUnKSkge1xyXG5cdFx0XHRcdCRvcmlnaW5hbFNlbGVjdC52YWwoW10pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRvcmlnaW5hbFNlbGVjdC52YWwoJycpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBzZXRWYWxcclxuXHJcblx0XHQvL3NldCBwYXJzZWQgdmFsdWVzIGFzIHNlbGVjdGVkIHZhbHVlc1xyXG5cdFx0c2V0VmFsOiBmdW5jdGlvbigkc2VsZWN0TWFuaWFFbCwgdmFsT2Jqcykge1xyXG5cdFx0XHR2YXIgdGhpc0VuZ2luZSA9IHRoaXM7XHJcblx0XHRcdC8vb3JpZ2luYWwgc2VsZWN0IGVsZW1lbnRcclxuXHRcdFx0dmFyICRvcmlnaW5hbFNlbGVjdCA9ICRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLW9yaWdpbmFsU2VsZWN0Jyk7XHJcblx0XHRcdC8vY2xlYXIgc2VsZWN0IHZhbHVlcyBiZWZvcmUgc2V0dGluZyBwcm92aWRlZCB2YWx1ZXNcclxuXHRcdFx0dGhpc0VuZ2luZS5jbGVhcigkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHRcdC8vaWYgdGhlcmUncyBtb3JlIHRoYW4gb25lIHZhbHVlIGluIHRoZSB2YWx1ZXMgYW5kIHNlbGVjdCBpcyBub3QgbXVsdGlwbGVcclxuXHRcdFx0aWYodmFsT2Jqcy5sZW5ndGggPiAxICYmICEkc2VsZWN0TWFuaWFFbC5pcygnLnNlbGVjdC1tYW5pYS1tdWx0aXBsZScpKSB7XHJcblx0XHRcdFx0Ly9rZWVwIG9ubHkgZmlyc3QgdmFsdWVcclxuXHRcdFx0XHR2YWxPYmpzID0gdmFsT2Jqcy5zbGljZSgwLCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2xvb3AgdGhyb3VnaCB2YWx1ZXNcclxuXHRcdFx0dmFsT2Jqcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xyXG5cdFx0XHRcdC8vcGFyc2UgdmFsdWUgb2JqZWN0XHJcblx0XHRcdFx0dmFyIHZhbE9iaiA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0XHRcdHZhbHVlOiAnJywgXHJcblx0XHRcdFx0XHR0ZXh0OiAnJywgXHJcblx0XHRcdFx0XHRzZWxlY3RlZDogdHJ1ZVxyXG5cdFx0XHRcdH0sIHZhbCk7XHJcblx0XHRcdFx0Ly9zZXQgdmFsdWUgaW4gc2VsZWN0TWFuaWEgZWxlbWVudFxyXG5cdFx0XHRcdHRoaXNFbmdpbmUuc2V0T25lVmFsU2VsZWN0TWFuaWEoJHNlbGVjdE1hbmlhRWwsIHZhbE9iaik7XHJcblx0XHRcdFx0Ly9zZXQgdmFsdWUgaW4gb3JpZ2luYWwgc2VsZWN0XHJcblx0XHRcdFx0dGhpc0VuZ2luZS5zZXRPbmVWYWxPcmlnaW5hbCgkb3JpZ2luYWxTZWxlY3QsIHZhbE9iaik7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvL3VwZGF0ZSBjbGVhbiB2YWx1ZXMgaWNvbiBkaXNwbGF5XHJcblx0XHRcdHRoaXNFbmdpbmUudXBkYXRlQ2xlYW4oJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0XHQvL3JlYmluZCBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdEJpbmRzLmJpbmQoJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0fSwgXHJcblxyXG5cdFx0Ly9zZXQgb25lIHZhbHVlIG9uIHNlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdHNldE9uZVZhbFNlbGVjdE1hbmlhOiBmdW5jdGlvbigkc2VsZWN0TWFuaWEsIHZhbE9iaikge1xyXG5cdFx0XHQvL2J1aWxkIHZhbHVlIGVsZW1lbnQgZm9yIHNlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0dmFyICR2YWx1ZSA9IEJ1aWxkLmJ1aWxkVmFsdWUodmFsT2JqKTtcclxuXHRcdFx0Ly9pbnNlcnQgYnVpbHQgdmFsdWUgZWxlbWVudCBpbiBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdCRzZWxlY3RNYW5pYS5maW5kKCcuc2VsZWN0LW1hbmlhLXZhbHVlcycpLmFwcGVuZCgkdmFsdWUpO1xyXG5cdFx0XHQvL2NoZWNrIGlmIGNvcnJlc3BvbmRpbmcgaXRlbSBleGlzdHMgaW4gZHJvcGRvd25cclxuXHRcdFx0dmFyICRzZWFyY2hJdGVtID0gJHNlbGVjdE1hbmlhLmZpbmQoJy5zZWxlY3QtbWFuaWEtaXRlbVtkYXRhLXZhbHVlPVwiJyt2YWxPYmoudmFsdWUrJ1wiXScpLmZpbHRlcihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJCh0aGlzKS50ZXh0KCkgPT09IHZhbE9iai50ZXh0O1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9pZiBpdGVtIGV4aXN0cyBpbiBkcm9wZG93blxyXG5cdFx0XHRpZigkc2VhcmNoSXRlbS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0Ly9zZXQgaXRlbSBhcyBzZWxlY3RlZFxyXG5cdFx0XHRcdCRzZWFyY2hJdGVtLmZpcnN0KCkuYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS1zZWxlY3RlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBcclxuXHJcblx0XHQvL3NldCBvbmUgdmFsdWUgb24gb3JpZ2luYWwgc2VsZWN0IGVsZW1lbnRcclxuXHRcdHNldE9uZVZhbE9yaWdpbmFsOiBmdW5jdGlvbigkb3JpZ2luYWxTZWxlY3QsIHZhbE9iaikge1xyXG5cdFx0XHQvL2NoZWNrIGlmIGNvcnJlc3BvbmRpbmcgb3B0aW9uIGV4aXN0cyBpbiBvcmlnaW5hbCBzZWxlY3RcclxuXHRcdFx0dmFyICRzZWFyY2hPcHQgPSAkb3JpZ2luYWxTZWxlY3QuZmluZCgnb3B0aW9uW3ZhbHVlPVwiJyt2YWxPYmoudmFsdWUrJ1wiXScpLmZpbHRlcihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJCh0aGlzKS50ZXh0KCkgPT09IHZhbE9iai50ZXh0O1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9pZiBvcHRpb24gZG9lc24ndCBleGlzdCBpbiBvcmlnaW5hbCBzZWxlY3RcclxuXHRcdFx0aWYoJHNlYXJjaE9wdC5sZW5ndGggPCAxKSB7XHJcblx0XHRcdFx0Ly9idWlsZCBvcHRpb24gZm9yIG9yaWdpbmFsIHNlbGVjdFxyXG5cdFx0XHRcdHZhciAkb3B0aW9uID0gQnVpbGQuYnVpbGRPcHRpb24odmFsT2JqKTtcclxuXHRcdFx0XHQvL2luc2VydCBidWlsdCBvcHRpb24gaW4gb3JpZ2luYWwgc2VsZWN0XHJcblx0XHRcdFx0JG9yaWdpbmFsU2VsZWN0LmFwcGVuZCgkb3B0aW9uKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2lmIG9wdGlvbiBhbHJlYWR5IGV4aXN0cyBpbiBvcmlnaW5hbCBzZWxlY3RcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly9mb25kIG9wdGlvbiBlbGVtZW50XHJcblx0XHRcdFx0dmFyICRmb3VuZE9wdGlvbiA9ICRzZWFyY2hPcHQuZmlyc3QoKTtcclxuXHRcdFx0XHQvL3NldCBvcHRpb24gYXMgc2VsZWN0ZWRcclxuXHRcdFx0XHQkZm91bmRPcHRpb25bMF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBjb250cm9sc1xyXG5cclxuXHRcdC8vY29udHJvbCB0YXJnZXQgZWxlbWVudFxyXG5cdFx0Y29udHJvbFRhcmdldDogZnVuY3Rpb24oJHRhcmdldCwgY29udHJvbHMpIHtcclxuXHRcdFx0Ly9lcnJvciBpZiBlbGVtZW50IGlzIG5vdCBhIHNlbGVjdFxyXG5cdFx0XHRpZigkLmluQXJyYXkoJ2lzU2VsZWN0JywgY29udHJvbHMpICE9PSAtMSAmJiAhJHRhcmdldC5pcygnc2VsZWN0JykpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdzZWxlY3RNYW5pYSB8IGludmFsaWQgc2VsZWN0IGVsZW1lbnQnKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygkdGFyZ2V0WzBdKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9lcnJvciBpZiBwbHVnaW4gbm90IGluaXRpYWxpemVkXHJcblx0XHRcdGlmKCQuaW5BcnJheSgnaXNJbml0aWFsaXplZCcsIGNvbnRyb2xzKSAhPT0gLTEgJiYgISR0YXJnZXQuaGFzQ2xhc3MoJ3NlbGVjdC1tYW5pYS1vcmlnaW5hbCcpKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignc2VsZWN0TWFuaWEgfCBzZWxlY3QgaXMgbm90IGluaXRpYWxpemVkJyk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJHRhcmdldFswXSk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vZXJyb3IgaWYgcGx1Z2luIGFscmVhZHkgaW5pdGlhbGl6ZWRcclxuXHRcdFx0aWYoJC5pbkFycmF5KCdub3RJbml0aWFsaXplZCcsIGNvbnRyb2xzKSAhPT0gLTEgJiYgJHRhcmdldC5oYXNDbGFzcygnc2VsZWN0LW1hbmlhLW9yaWdpbmFsJykpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdzZWxlY3RNYW5pYSB8IGlnbm9yZSBiZWNhdXNlIGFscmVhZHkgaW5pdGlhbGl6ZWQnKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygkdGFyZ2V0WzBdKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9jb250cm9sIG1ldGhvZCB3YXMgY2FsbGVkIG9uIHNpbmdsZSBlbGVtZW50XHJcblx0XHRcdGlmKCQuaW5BcnJheSgnaXNTaW5nbGUnLCBjb250cm9scykgIT09IC0xICYmICR0YXJnZXQubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3NlbGVjdE1hbmlhIHwgY2hlY2sgbWV0aG9kIGNhbiBiZSBjYWxsZWQgb24gc2luZ2xlIGVsZW1lbnQgb25seScpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCR0YXJnZXRbMF0pO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2lmIGNvbnRyb2wgb2tcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9LCBcclxuXHJcblx0XHQvL2NvbnRyb2wgc2VsZWN0TWFuaWEgc2V0dGluZ3NcclxuXHRcdGNvbnRyb2xTZXR0aW5nczogZnVuY3Rpb24oJHRhcmdldCwgc2V0dGluZ3MpIHtcclxuXHRcdFx0Ly9jb250cm9sIGFqYXggZnVuY3Rpb24gdHlwZVxyXG5cdFx0XHRpZihzZXR0aW5ncy5hamF4ICE9PSBmYWxzZSAmJiB0eXBlb2Ygc2V0dGluZ3MuYWpheCAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdHNldHRpbmdzLmFqYXggPSBmYWxzZTtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdzZWxlY3RNYW5pYSB8IGludmFsaWQgYWpheCBmdW5jdGlvbicpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCR0YXJnZXRbMF0pO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHNldHRpbmdzKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9lcnJvciBpZiBpbnZhbGlkIHNpemUgcHJvdmlkZWRcclxuXHRcdFx0aWYoJC5pbkFycmF5KHNldHRpbmdzLnNpemUsIFsndGlueScsJ3NtYWxsJywnbWVkaXVtJywnbGFyZ2UnXSkgPT09IC0xKSB7XHJcblx0XHRcdFx0c2V0dGluZ3Muc2l6ZSA9ICdtZWRpdW0nO1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3NlbGVjdE1hbmlhIHwgaW52YWxpZCBzaXplJyk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJHRhcmdldFswXSk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coc2V0dGluZ3MpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2Vycm9yIGlmIGludmFsaWQgc3JvbGwgY29udGFpbmVyIHByb3ZpZGVkXHJcblx0XHRcdGlmKHNldHRpbmdzLnNjcm9sbENvbnRhaW5lciAhPT0gbnVsbCAmJiAkKHNldHRpbmdzLnNjcm9sbENvbnRhaW5lcikubGVuZ3RoIDwgMSkge1xyXG5cdFx0XHRcdHNldHRpbmdzLnNjcm9sbENvbnRhaW5lciA9IG51bGw7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignc2VsZWN0TWFuaWEgfCBpbnZhbGlkIHNjcm9sbCBjb250YWluZXInKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygkdGFyZ2V0WzBdKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhzZXR0aW5ncyk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vZXJyb3IgaWYgaW52YWxpZCBzcm9sbCBjb250YWluZXIgcHJvdmlkZWRcclxuXHRcdFx0aWYoc2V0dGluZ3MuekluZGV4ICE9PSBudWxsICYmIChpc05hTihwYXJzZUludChzZXR0aW5ncy56SW5kZXgpKSB8fCAhaXNGaW5pdGUoc2V0dGluZ3MuekluZGV4KSkpIHtcclxuXHRcdFx0XHRzZXR0aW5ncy56SW5kZXggPSBudWxsO1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3NlbGVjdE1hbmlhIHwgaW52YWxpZCB6LWluZGV4Jyk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJHRhcmdldFswXSk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coc2V0dGluZ3MpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2lmIGNvbnRyb2wgb2tcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9LCBcclxuXHJcblx0XHQvL2NvbnRyb2wgc2VsZWN0TWFuaWEgdmFsdWVzXHJcblx0XHRjb250cm9sVmFsdWVzOiBmdW5jdGlvbigkdGFyZ2V0LCB2YWx1ZXMpIHtcclxuXHRcdFx0Ly9lcnJvciBpZiB2YWx1ZXMgaXMgbm90IGFuIGFycmF5XHJcblx0XHRcdGlmKCEodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignc2VsZWN0TWFuaWEgfCB2YWx1ZXMgcGFyYW1ldGVyIGlzIG5vdCBhIHZhbGlkIGFycmF5Jyk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJHRhcmdldFswXSk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2codmFsdWVzKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9pZiBjb250cm9sIG9rXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gbmF2aWdhdGVJdGVtXHJcblxyXG5cdFx0Ly9uYXZpZ2F0ZSBob3ZlciB0byBuZXh0IG9yIHByZXZpb3VzIGl0ZW0gaW4gZHJvcGRvd25cclxuXHRcdG5hdmlnYXRlSXRlbTogZnVuY3Rpb24oJGRyb3Bkb3duLCBuZXh0T3JQcmV2aW91cykge1xyXG5cdFx0XHQvL3NlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0dmFyICRzZWxlY3RNYW5pYUVsID0gJGRyb3Bkb3duLmNsb3Nlc3QoJy5zZWxlY3QtbWFuaWEnKTtcclxuXHRcdFx0Ly9pdGVtIHNjcm9sbGFibGUgbGlzdFxyXG5cdFx0XHR2YXIgJGl0ZW1MaXN0ID0gJGRyb3Bkb3duLmZpbmQoJy5zZWxlY3QtbWFuaWEtaXRlbXMnKTtcclxuXHRcdFx0Ly9hY3RpdmUgZW5hYmxlZCBpdGVtc1xyXG5cdFx0XHR2YXIgdmFsaWRJdGVtU2VsZWN0b3IgPSAnLnNlbGVjdC1tYW5pYS1pdGVtOm5vdCguc2VsZWN0LW1hbmlhLWRpc2FibGVkKTpub3QoLnNlbGVjdC1tYW5pYS1oaWRkZW4pJztcclxuXHRcdFx0aWYoJHNlbGVjdE1hbmlhRWwuaGFzQ2xhc3MoJ3NlbGVjdC1tYW5pYS1tdWx0aXBsZScpKSB7XHJcblx0XHRcdFx0dmFsaWRJdGVtU2VsZWN0b3IgKz0gJzpub3QoLnNlbGVjdC1tYW5pYS1zZWxlY3RlZCknO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciAkdmFsaWRJdGVtcyA9ICRkcm9wZG93bi5maW5kKHZhbGlkSXRlbVNlbGVjdG9yKTtcclxuXHRcdFx0Ly9jdXJyZW50IGhvdmVyZWQgaXRlbVxyXG5cdFx0XHR2YXIgJGhvdmVyZWRJdGVtID0gJGRyb3Bkb3duLmZpbmQodmFsaWRJdGVtU2VsZWN0b3IrJy5zZWxlY3QtbWFuaWEtaG92ZXInKTtcclxuXHRcdFx0Ly9pdGVtIHRvIHRhcmdldFxyXG5cdFx0XHR2YXIgJHRhcmdldEl0ZW0gPSAkKCk7XHJcblx0XHRcdC8vaWYgdGhlcmUgaXMgY3VycmVudGx5IGEgaG92ZXJlZCBpdGVtXHJcblx0XHRcdGlmKCRob3ZlcmVkSXRlbS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0Ly9pZiBhcnJvdyB1cCBnZXQgcHJldmlvdXMgaXRlbVxyXG5cdFx0XHRcdGlmKG5leHRPclByZXZpb3VzID09PSAnbmV4dCcpIHtcclxuXHRcdFx0XHRcdCR0YXJnZXRJdGVtID0gJHZhbGlkSXRlbXMuc2xpY2UoJHZhbGlkSXRlbXMuaW5kZXgoJGhvdmVyZWRJdGVtKSArIDEpLmZpcnN0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vaWYgYXJyb3cgZG93biBnZXQgbmV4dCBpdGVtXHJcblx0XHRcdFx0ZWxzZSBpZihuZXh0T3JQcmV2aW91cyA9PT0gJ3ByZXZpb3VzJykge1xyXG5cdFx0XHRcdFx0JHRhcmdldEl0ZW0gPSAkdmFsaWRJdGVtcy5zbGljZSgwLCAkdmFsaWRJdGVtcy5pbmRleCgkaG92ZXJlZEl0ZW0pKS5sYXN0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vbm8gY3VycmVudCBob3ZlcmVkIGl0ZW1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly9ob3ZlcnMgZmlyc3QgaXRlbVxyXG5cdFx0XHRcdCR0YXJnZXRJdGVtID0gJHZhbGlkSXRlbXMuZmlyc3QoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2lmIHRhcmdldCBpdGVtIGV4aXN0cyBob3ZlciB0aGlzIGl0ZW1cclxuXHRcdFx0aWYoJHRhcmdldEl0ZW0ubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdC8vcmVtb3ZlIGhvdmVyIGZyb20gZXZlcnkgaXRlbVxyXG5cdFx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW0nKS5yZW1vdmVDbGFzcygnc2VsZWN0LW1hbmlhLWhvdmVyJyk7XHJcblx0XHRcdFx0Ly9hZGQgaG92ZXIgY2xhc3MgdG8gdGFyZ2V0IGl0ZW1cclxuXHRcdFx0XHQkdGFyZ2V0SXRlbS5hZGRDbGFzcygnc2VsZWN0LW1hbmlhLWhvdmVyJyk7XHJcblx0XHRcdFx0Ly9kYXRhIGZvciBpdGVtIHZpc2liaWxpdHkgY2FsY3VsYXRpb25cclxuXHRcdFx0XHR2YXIgJHRhcmdldEl0ZW1Qb3NpdGlvbiA9ICR0YXJnZXRJdGVtLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0dmFyICR0YXJnZXRJdGVtSGVpZ2h0ID0gJHRhcmdldEl0ZW0ub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcblx0XHRcdFx0dmFyICRpdGVtTGlzdEhlaWdodCA9ICRpdGVtTGlzdC5oZWlnaHQoKTtcclxuXHRcdFx0XHR2YXIgJGl0ZW1MaXN0U2Nyb2xsVG9wID0gJGl0ZW1MaXN0LnNjcm9sbFRvcCgpO1xyXG5cdFx0XHRcdC8vaWYgdGFyZ2V0IGl0ZW0gbm90IHZpc2libGUgaW4gaXRlbSBsaXN0IChhYm92ZSlcclxuXHRcdFx0XHRpZigkdGFyZ2V0SXRlbVBvc2l0aW9uLnRvcCA8IDApIHtcclxuXHRcdFx0XHRcdC8vc2Nyb2xsIHRvIHNlZSBpdGVtXHJcblx0XHRcdFx0XHQkaXRlbUxpc3Quc2Nyb2xsVG9wKCRpdGVtTGlzdFNjcm9sbFRvcCArICR0YXJnZXRJdGVtUG9zaXRpb24udG9wKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9pZiB0YXJnZXQgaXRlbSBub3QgdmlzaWJsZSBpbiBpdGVtIGxpc3QgKGJlbG93KVxyXG5cdFx0XHRcdGVsc2UgaWYoJHRhcmdldEl0ZW1Qb3NpdGlvbi50b3AgKyAkdGFyZ2V0SXRlbUhlaWdodCA+ICRpdGVtTGlzdEhlaWdodCkge1xyXG5cdFx0XHRcdFx0Ly9zY3JvbGwgdG8gc2VlIGl0ZW1cclxuXHRcdFx0XHRcdCRpdGVtTGlzdC5zY3JvbGxUb3AoJGl0ZW1MaXN0U2Nyb2xsVG9wICsgJHRhcmdldEl0ZW1Qb3NpdGlvbi50b3AgKyAkdGFyZ2V0SXRlbUhlaWdodCAtICRpdGVtTGlzdEhlaWdodCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG4vLyBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAIC8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQlVJTEQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuLy8gQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAvL1xyXG5cclxudmFyIEJ1aWxkID0ge1xyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGJ1aWxkXHJcblxyXG5cdFx0Ly9idWlsZCBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRidWlsZDogZnVuY3Rpb24oJG9yaWdpbmFsU2VsZWN0LCBzZXR0aW5ncykge1xyXG5cdFx0XHR2YXIgdGhpc0J1aWxkID0gdGhpcztcclxuXHRcdFx0Ly9jbGFzcyBmb3Igc2VsZWN0TWFuaWEgc2l6ZVxyXG5cdFx0XHR2YXIgc2l6ZUNsYXNzID0gJ3NlbGVjdC1tYW5pYS0nK3NldHRpbmdzLnNpemU7XHJcblx0XHRcdC8vZXhwbGljaXQgc2VsZWN0TWFuaWEgd2lkdGggc3R5bGVcclxuXHRcdFx0dmFyIHdpZHRoU3R5bGUgPSAnc3R5bGU9XCJ3aWR0aDonK3NldHRpbmdzLndpZHRoKyc7XCInO1xyXG5cdFx0XHQvL2dlbmVyYWwgc2VsZWN0TWFuaWEgZGl2XHJcblx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEgJytzaXplQ2xhc3MrJ1wiICcrd2lkdGhTdHlsZSsnPjwvZGl2PicpO1xyXG5cdFx0XHQvL2NsYXNzIGZvciBtdWx0aXBsZVxyXG5cdFx0XHRpZihzZXR0aW5ncy5tdWx0aXBsZSkge1xyXG5cdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmFkZENsYXNzKCdzZWxlY3QtbWFuaWEtbXVsdGlwbGUnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2NsYXNzIGZvciBkaXNhYmxlZFxyXG5cdFx0XHRpZihzZXR0aW5ncy5kaXNhYmxlZCkge1xyXG5cdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmFkZENsYXNzKCdzZWxlY3QtbWFuaWEtZGlzYWJsZWQnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2NsYXNzZXMgZm9yIHRoZW1lc1xyXG5cdFx0XHRpZihzZXR0aW5ncy50aGVtZXMgaW5zdGFuY2VvZiBBcnJheSAmJiBzZXR0aW5ncy50aGVtZXMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdC8vbG9vcCB0aHJvdWdoIHRoZW1lc1xyXG5cdFx0XHRcdHNldHRpbmdzLnRoZW1lcy5mb3JFYWNoKGZ1bmN0aW9uKHRoZW1lKSB7XHJcblx0XHRcdFx0XHQvL2FwcGxpZXMgdGhlbWUgY2xhc3NcclxuXHRcdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmFkZENsYXNzKCdzZWxlY3QtbWFuaWEtdGhlbWUtJyt0aGVtZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9jbGFzcyBmb3IgYWN0aXZhdGVkIGFqYXhcclxuXHRcdFx0aWYoc2V0dGluZ3MuYWpheCAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHQkc2VsZWN0TWFuaWFFbC5hZGRDbGFzcygnc2VsZWN0LW1hbmlhLWFqYXgnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2F0dHJpYnV0ZSBmb3Igc2Nyb2xsIGNvbnRhaW5lclxyXG5cdFx0XHRpZihzZXR0aW5ncy5zY3JvbGxDb250YWluZXIgIT09IG51bGwpIHtcclxuXHRcdFx0XHQkc2VsZWN0TWFuaWFFbC5hdHRyKCdkYXRhLXNlbGVjdE1hbmlhLXNjcm9sbENvbnRhaW5lcicsIHNldHRpbmdzLnNjcm9sbENvbnRhaW5lcik7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9idWlsZCBpbm5lciBlbGVtZW50c1xyXG5cdFx0XHR2YXIgJGlubmVyRWxlbWVudHMgPSB0aGlzQnVpbGQuYnVpbGRJbm5lcihzZXR0aW5ncyk7XHJcblx0XHRcdC8vYnVpbGQgZHJvcGRvd25cclxuXHRcdFx0dmFyICRkcm9wZG93biA9IHRoaXNCdWlsZC5idWlsZERyb3Bkb3duKCRvcmlnaW5hbFNlbGVjdCwgc2V0dGluZ3MpO1xyXG5cdFx0XHQvL2luc2VydCBlbGVtZW50c1xyXG5cdFx0XHQkc2VsZWN0TWFuaWFFbC5hcHBlbmQoJGlubmVyRWxlbWVudHMpLmFwcGVuZCgkZHJvcGRvd24pO1xyXG5cdFx0XHQvL2F0dGFjaCBkcm9wZG93biB0byBzZWxlY3QtbWFuaWEgZWxlbWVudFxyXG5cdFx0XHQkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1kcm9wZG93bicsICRkcm9wZG93bik7XHJcblx0XHRcdC8vYXR0YWNoIHNlbGVjdC1tYW5pYSBlbGVtZW50IHRvIGRyb3Bkb3duXHJcblx0XHRcdCRkcm9wZG93bi5kYXRhKCdzZWxlY3RNYW5pYS1lbGVtZW50JywgJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0XHQvL3NlbmQgYmFjayBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdHJldHVybiAkc2VsZWN0TWFuaWFFbDtcclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGJ1aWxkSW5uZXJcclxuXHJcblx0XHQvL2J1aWxkIGlubmVyIGVsZW1lbnRzXHJcblx0XHRidWlsZElubmVyOiBmdW5jdGlvbihzZXR0aW5ncykge1xyXG5cdFx0XHR2YXIgdGhpc0J1aWxkID0gdGhpcztcclxuXHRcdFx0Ly9pbm5lciBkaXZcclxuXHRcdFx0dmFyICRpbm5lciA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtaW5uZXJcIj48L2Rpdj4nKTtcclxuXHRcdFx0Ly92YWx1ZXMgZGl2XHJcblx0XHRcdHZhciAkdmFsdWVzID0gJCgnPGRpdiBjbGFzcz1cInNlbGVjdC1tYW5pYS12YWx1ZXNcIj48L2Rpdj4nKTtcclxuXHRcdFx0Ly9pbnNlcnQgcGxhY2Vob2xkZXJcclxuXHRcdFx0dmFyICRwbGFjZWhvbGRlciA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtcGxhY2Vob2xkZXJcIj4nK3NldHRpbmdzLnBsYWNlaG9sZGVyKyc8L2Rpdj4nKTtcclxuXHRcdFx0JHZhbHVlcy5hcHBlbmQoJHBsYWNlaG9sZGVyKTtcclxuXHRcdFx0Ly9pbnNlcnQgc2VsZWN0ZWQgdmFsdWVzXHJcblx0XHRcdHNldHRpbmdzLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkge1xyXG5cdFx0XHRcdCR2YWx1ZXMuYXBwZW5kKHRoaXNCdWlsZC5idWlsZFZhbHVlKHZhbCkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JGlubmVyLmFwcGVuZCgkdmFsdWVzKTtcclxuXHRcdFx0Ly9pbnNlcnQgY2xlYW4gdmFsdWVzIGljb25cclxuXHRcdFx0dmFyICRjbGVhbiA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtY2xlYXJcIj48L2Rpdj4nKTtcclxuXHRcdFx0aWYoc2V0dGluZ3MucmVtb3ZhYmxlIHx8IHNldHRpbmdzLm11bHRpcGxlKSB7XHJcblx0XHRcdFx0JGNsZWFuLmFwcGVuZCgnPGkgY2xhc3M9XCJzZWxlY3QtbWFuaWEtY2xlYXItaWNvbiBpY29uLWNyb3NzXCI+Jyk7XHJcblx0XHRcdH1cclxuXHRcdFx0JGlubmVyLmFwcGVuZCgkY2xlYW4pO1xyXG5cdFx0XHQkaW5uZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic2VsZWN0LW1hbmlhLWFkZFwiPjxpIGNsYXNzPVwic2VsZWN0LW1hbmlhLWFkZC1pY29uIGljb24tYWRkXCI+PC9kaXY+Jyk7XHJcblx0XHRcdC8vaW5zZXJ0IGRyb3Bkb3duIGFycm93IGljb25cclxuXHRcdFx0JGlubmVyLmFwcGVuZCgkKCc8ZGl2IGNsYXNzPVwic2VsZWN0LW1hbmlhLWFycm93XCI+PGkgY2xhc3M9XCJzZWxlY3QtbWFuaWEtYXJyb3ctaWNvbiBpY29uLWFycm93LWRvd25cIj48L2k+PC9kaXY+JykpO1xyXG5cdFx0XHQvL3NlbmQgYmFjayBpbm5lciBlbGVtZW50c1xyXG5cdFx0XHRyZXR1cm4gJGlubmVyO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gYnVpbGRWYWx1ZVxyXG5cclxuXHRcdC8vYnVpbGQgc2VsZWN0ZWQgdmFsdWVcclxuXHRcdGJ1aWxkVmFsdWU6IGZ1bmN0aW9uKHZhbE9iaikge1xyXG5cdFx0XHQvL3NlbGVjdGVkIHZhbHVlIGVsZW1lbnQgaHRtbFxyXG5cdFx0XHR2YXIgdmFsSHRtbCA9ICc8ZGl2IGNsYXNzPVwic2VsZWN0LW1hbmlhLXZhbHVlXCIgIGRhdGEtdmFsdWU9XCInK3ZhbE9iai52YWx1ZSsnXCI+JytcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cInNlbGVjdC1tYW5pYS12YWx1ZS10ZXh0XCI+Jyt2YWxPYmoudGV4dCsnPC9kaXY+JytcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cInNlbGVjdC1tYW5pYS12YWx1ZS1jbGVhclwiPicrXHJcblx0XHRcdFx0XHQnPGkgY2xhc3M9XCJzZWxlY3QtbWFuaWEtdmFsdWUtY2xlYXItaWNvbiBpY29uLWNyb3NzXCI+PC9pPicrXHJcblx0XHRcdFx0JzwvZGl2PicrXHJcblx0XHRcdCc8L2Rpdj4nO1xyXG5cdFx0XHQvL3NlbmQgYmFjayBzZWxlY3RlZCB2YWx1ZSBlbGVtZW50XHJcblx0XHRcdHJldHVybiAkKHZhbEh0bWwpO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gYnVpbGRPcHRpb25cclxuXHJcblx0XHQvL2J1aWxkIG9wdGlvbiBmb3Igb3JpZ2luYWwgc2VsZWN0XHJcblx0XHRidWlsZE9wdGlvbjogZnVuY3Rpb24odmFsT2JqKSB7XHJcblx0XHRcdC8vYnVpbGQgb3B0aW9uXHJcblx0XHRcdHZhciAkb3B0ID0gJCgnPG9wdGlvbiB2YWx1ZT1cIicrdmFsT2JqLnZhbHVlKydcIj4nK3ZhbE9iai50ZXh0Kyc8L29wdGlvbj4nKTtcclxuXHRcdFx0Ly9zZXQgb3B0aW9uIHNlbGVjdGVkIHN0YXR1c1xyXG5cdFx0XHQkb3B0WzBdLnNlbGVjdGVkID0gdmFsT2JqLnNlbGVjdGVkO1xyXG5cdFx0XHQvL3NlbmQgYmFjayBvcHRpb24gZWxlbWVudFxyXG5cdFx0XHRyZXR1cm4gJG9wdDtcclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGJ1aWxkRHJvcGRvd25cclxuXHJcblx0XHQvL2J1aWxkIGl0ZW1zIGRyb3Bkb3duXHJcblx0XHRidWlsZERyb3Bkb3duOiBmdW5jdGlvbigkb3JpZ2luYWxTZWxlY3QsIHNldHRpbmdzKSB7XHJcblx0XHRcdHZhciB0aGlzQnVpbGQgPSB0aGlzO1xyXG5cdFx0XHQvL2NsYXNzIGZvciBzaXppbmdcclxuXHRcdFx0dmFyIHNpemVDbGFzcyA9ICdzZWxlY3QtbWFuaWEtJytzZXR0aW5ncy5zaXplO1xyXG5cdFx0XHQvL2Ryb3Bkb3duIGVsZW1lbnRcclxuXHRcdFx0dmFyICRkcm9wZG93biA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtZHJvcGRvd24gJytzaXplQ2xhc3MrJ1wiPjwvZGl2PicpO1xyXG5cdFx0XHQvL2NsYXNzZSBzaSBzZWxlY3QgbXVsdGlwbGVcclxuXHRcdFx0aWYoc2V0dGluZ3MubXVsdGlwbGUpIHtcclxuXHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS1tdWx0aXBsZScpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vaW5zZXJ0IHNlYXJjaCBpbnB1dCBpbiBkcm9wZG93biBpZiBhY3RpdmF0ZWRcclxuXHRcdFx0aWYoc2V0dGluZ3Muc2VhcmNoKSB7XHJcblx0XHRcdFx0dmFyICRkcm9wZG93blNlYXJjaCA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtZHJvcGRvd24tc2VhcmNoXCI+PC9kaXY+Jyk7XHJcblx0XHRcdFx0JGRyb3Bkb3duU2VhcmNoLmFwcGVuZCgnPGlucHV0IGNsYXNzPVwic2VsZWN0LW1hbmlhLXNlYXJjaC1pbnB1dFwiIC8+Jyk7XHJcblx0XHRcdFx0JGRyb3Bkb3duLmFwcGVuZCgkZHJvcGRvd25TZWFyY2gpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vYnVpbGQgaXRlbXMgY29udGFpbmVyXHJcblx0XHRcdHZhciAkaXRlbUxpc3RDb250YWluZXIgPSAkKCc8ZGl2IGNsYXNzPVwic2VsZWN0LW1hbmlhLWl0ZW1zLWNvbnRhaW5lclwiPjwvZGl2PicpO1xyXG5cdFx0XHR2YXIgJGl0ZW1MaXN0ID0gJCgnPGRpdiBjbGFzcz1cInNlbGVjdC1tYW5pYS1pdGVtc1wiPjwvZGl2PicpO1xyXG5cdFx0XHQvL2J1aWxkIGFuZCBpbnNlcnQgaXRlbXMgbGlzdFxyXG5cdFx0XHQkaXRlbUxpc3QuYXBwZW5kKHRoaXNCdWlsZC5idWlsZEl0ZW1MaXN0KCRvcmlnaW5hbFNlbGVjdC5jaGlsZHJlbigpKSk7XHJcblx0XHRcdC8vaW5zZXJ0IGl0ZW1zIGxpc3QgaW50byBkcm9wZG93blxyXG5cdFx0XHQkaXRlbUxpc3RDb250YWluZXIuYXBwZW5kKCRpdGVtTGlzdCk7XHJcblx0XHRcdCRkcm9wZG93bi5hcHBlbmQoJGl0ZW1MaXN0Q29udGFpbmVyKTtcclxuXHRcdFx0Ly9jbGFzc2VzIGZvciB0aGVtZXNcclxuXHRcdFx0aWYoc2V0dGluZ3MudGhlbWVzIGluc3RhbmNlb2YgQXJyYXkgJiYgc2V0dGluZ3MudGhlbWVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQvL2xvb3AgdGhyb3VnaCB0aGVtZXNcclxuXHRcdFx0XHRzZXR0aW5ncy50aGVtZXMuZm9yRWFjaChmdW5jdGlvbih0aGVtZSkge1xyXG5cdFx0XHRcdFx0Ly9hcHBsaWVzIHRoZW1lIGNsYXNzXHJcblx0XHRcdFx0XHQkZHJvcGRvd24uYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS10aGVtZS0nK3RoZW1lKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2lmIHpJbmRleCBzZXR0aW5nIGlzIHNldFxyXG5cdFx0XHRpZihzZXR0aW5ncy56SW5kZXggIT09IG51bGwpIHtcclxuXHRcdFx0XHQkZHJvcGRvd24uY3NzKCd6LWluZGV4Jywgc2V0dGluZ3MuekluZGV4KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL3NlbmQgYmFjayBpdGVtcyBkcm9wZG93blxyXG5cdFx0XHRyZXR1cm4gJGRyb3Bkb3duO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gYnVpbGRJdGVtR3JvdXBcclxuXHJcblx0XHQvL2J1aWxkIGl0ZW1zIGxpc3RcclxuXHRcdGJ1aWxkSXRlbUxpc3Q6IGZ1bmN0aW9uKCRvcHRMaXN0KSB7XHJcblx0XHRcdHZhciB0aGlzQnVpbGQgPSB0aGlzO1xyXG5cdFx0XHQvL2VtcHR5IGl0ZW0gbGlzdFxyXG5cdFx0XHR2YXIgJGl0ZW1MaXN0ID0gJCgpO1xyXG5cdFx0XHQvL2xvb3AgdGhyb3VnaCBvcmlnaW5hbCBzZWxlY3QgY2hpbGRyZW5cclxuXHRcdFx0JG9wdExpc3QuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQvL2lmIG9wdGdyb3VwXHJcblx0XHRcdFx0aWYoJCh0aGlzKS5pcygnb3B0Z3JvdXAnKSkge1xyXG5cdFx0XHRcdFx0Ly9idWlsZCBhbmQgaW5zZXJ0IGl0ZW0gZ3JvdXBcclxuXHRcdFx0XHRcdCRpdGVtTGlzdCA9ICRpdGVtTGlzdC5hZGQodGhpc0J1aWxkLmJ1aWxkSXRlbUdyb3VwKCQodGhpcykpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly9pZiBvcHRpb25cclxuXHRcdFx0XHRlbHNlIGlmKCQodGhpcykuaXMoJ29wdGlvbicpKSB7XHJcblx0XHRcdFx0XHQvL2J1aWxkIGFuZCBpbnNlcnQgaXRlbVxyXG5cdFx0XHRcdFx0JGl0ZW1MaXN0ID0gJGl0ZW1MaXN0LmFkZCh0aGlzQnVpbGQuYnVpbGRJdGVtKCQodGhpcykpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvL3NlbmQgYmFjayBidWlsZCBpdGVtcyBsaXN0XHJcblx0XHRcdHJldHVybiAkaXRlbUxpc3Q7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBidWlsZEl0ZW1Hcm91cFxyXG5cclxuXHRcdC8vYnVpbGQgZHJvcGRvd24gaXRlbXMgZ3JvdXBcclxuXHRcdGJ1aWxkSXRlbUdyb3VwOiBmdW5jdGlvbigkb3B0Z3JvdXBFbCkge1xyXG5cdFx0XHR2YXIgdGhpc0J1aWxkID0gdGhpcztcclxuXHRcdFx0Ly9idWlsZCBncm91cCBlbGVtZW50XHJcblx0XHRcdHZhciAkZ3JvdXAgPSAkKCc8ZGl2IGNsYXNzPVwic2VsZWN0LW1hbmlhLWdyb3VwXCI+PC9kaXY+Jyk7XHJcblx0XHRcdHZhciAkZ3JvdXBJbm5lciA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtZ3JvdXAtaW5uZXJcIj48L2Rpdj4nKTtcclxuXHRcdFx0Ly9idWlsZCBncm91cCB0aXRsZSBlbGVtZW50XHJcblx0XHRcdHZhciAkZ3JvdXBUaXRsZSA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtZ3JvdXAtdGl0bGVcIj48L2Rpdj4nKTtcclxuXHRcdFx0Ly9pZiBncm91cCBpY29uIGlzIHNldFxyXG5cdFx0XHRpZigkb3B0Z3JvdXBFbC5pcygnW2RhdGEtaWNvbl0nKSkge1xyXG5cdFx0XHRcdC8vaW5zZXJ0IGdyb3VwIHRpdGxlIGljb25cclxuXHRcdFx0XHQkZ3JvdXBUaXRsZS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtZ3JvdXAtaWNvblwiPjxpIGNsYXNzPVwiJyskb3B0Z3JvdXBFbC5hdHRyKCdkYXRhLWljb24nKSsnXCI+PC9pPjwvZGl2PicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vaW5zZXJ0IGdyb3VwIHRpdGxlIHRleHRcclxuXHRcdFx0JGdyb3VwVGl0bGUuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic2VsZWN0LW1hbmlhLWdyb3VwLXRleHRcIj4nKyRvcHRncm91cEVsLmF0dHIoJ2xhYmVsJykrJzwvZGl2PicpO1xyXG5cdFx0XHQvL2luc2VydCBncm91cCB0aXRsZSBpbiBncm91cCBlbGVtZW50XHJcblx0XHRcdCRncm91cC5hcHBlbmQoJGdyb3VwVGl0bGUpO1xyXG5cdFx0XHQvL2lmIGdyb3VwIGlzIGRpc2FibGVkIHNldCBjbGFzc1xyXG5cdFx0XHR2YXIgZ3JvdXBJc0Rpc2FibGVkID0gJG9wdGdyb3VwRWwuaXMoJzpkaXNhYmxlZCcpO1xyXG5cdFx0XHRpZihncm91cElzRGlzYWJsZWQpIHtcclxuXHRcdFx0XHQkZ3JvdXAuYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS1kaXNhYmxlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vYnVpbGQgYW5kIGluc2VydCBpdGVtc1xyXG5cdFx0XHQkb3B0Z3JvdXBFbC5maW5kKCdvcHRpb24nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRncm91cElubmVyLmFwcGVuZCh0aGlzQnVpbGQuYnVpbGRJdGVtKCQodGhpcyksIGdyb3VwSXNEaXNhYmxlZCkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JGdyb3VwLmFwcGVuZCgkZ3JvdXBJbm5lcik7XHJcblx0XHRcdC8vc2VuZCBiYWNrIGl0ZW1zIGdyb3VwXHJcblx0XHRcdHJldHVybiAkZ3JvdXA7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBidWlsZEl0ZW1cclxuXHJcblx0XHQvL2J1aWxkIGRyb3Bkb3duIGl0ZW1cclxuXHRcdGJ1aWxkSXRlbTogZnVuY3Rpb24oJG9wdGlvbkVsLCBmb3JjZURpc2FibGVkKSB7XHJcblx0XHRcdHZhciBvcHRpb25FbCA9ICRvcHRpb25FbFswXTtcclxuXHRcdFx0XHJcblx0XHRcdC8vYnVpbGQgaXRlbSBodG1sXHJcblx0XHRcdHZhciAkaXRlbSA9ICQoJzxkaXYgY2xhc3M9XCJzZWxlY3QtbWFuaWEtaXRlbVwiIGRhdGEtdmFsdWU9XCInK29wdGlvbkVsLnZhbHVlKydcIj48L2Rpdj4nKTtcclxuXHRcdFx0Ly9pZiBvcHRpb24gaWNvbiBpcyBzZXRcclxuXHRcdFx0XHJcblx0XHRcdGlmKCRvcHRpb25FbC5pcygnW2NsYXNzXScpKSB7XHJcblx0XHRcdFx0Ly9pbnNlcnQgaXRlbSBpY29uXHJcblx0XHRcdFx0JGl0ZW0uYWRkQ2xhc3MoJG9wdGlvbkVsLmF0dHIoJ2NsYXNzJykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0aWYoJG9wdGlvbkVsLmlzKCdbZGF0YS1pY29uXScpKSB7XHJcblx0XHRcdFx0Ly9pbnNlcnQgaXRlbSBpY29uXHJcblx0XHRcdFx0JGl0ZW0uYXBwZW5kKCc8ZGl2IGNsYXNzPVwic2VsZWN0LW1hbmlhLWl0ZW0taWNvblwiPjxpIGNsYXNzPVwiJyskb3B0aW9uRWwuYXR0cignZGF0YS1pY29uJykrJ1wiPjwvaT48L2Rpdj4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2luc2VydCBpdGVtIHRleHRcclxuXHRcdFx0JGl0ZW0uYXBwZW5kKCc8ZGl2IGNsYXNzPVwic2VsZWN0LW1hbmlhLWl0ZW0tdGV4dFwiPicrb3B0aW9uRWwudGV4dCsnPC9kaXY+Jyk7XHJcblx0XHRcdC8vaWYgaXRlbSBpcyBkaXNhYmxlZCBzZXQgY2xhc3NcclxuXHRcdFx0aWYoJG9wdGlvbkVsLmlzKCc6ZGlzYWJsZWQnKSB8fCBUb29scy5kZWYoZm9yY2VEaXNhYmxlZCkgPT09IHRydWUpIHtcclxuXHRcdFx0XHQkaXRlbS5hZGRDbGFzcygnc2VsZWN0LW1hbmlhLWRpc2FibGVkJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9pZiBpdGVtIGlzIHNlbGVjdGVkIGFkZCBjbGFzc1xyXG5cdFx0XHRpZigkb3B0aW9uRWwuaXMoJzpzZWxlY3RlZCcpKSB7XHJcblx0XHRcdFx0JGl0ZW0uYWRkQ2xhc3MoJ3NlbGVjdC1tYW5pYS1zZWxlY3RlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vc2VuZCBiYWNrIGl0ZW1cclxuXHRcdFx0cmV0dXJuICRpdGVtO1xyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuLy8gQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAvL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEJJTkRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcbi8vIEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAgLy9cclxuXHJcblx0dmFyIEJpbmRzID0ge1xyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGJpbmRcclxuXHJcblx0XHQvL2JpbmQgYWxsIHNlbGVjdE1hbmlhIGNvbnRyb2xzXHJcblx0XHRiaW5kOiBmdW5jdGlvbigkc2VsZWN0TWFuaWFFbCkge1xyXG5cdFx0XHR2YXIgdGhpc0JpbmRzID0gdGhpcztcclxuXHRcdFx0Ly9vcmlnaW5hbCBzZWxlY3QgZWxlbWVudFxyXG5cdFx0XHR2YXIgJG9yaWdpbmFsU2VsZWN0ID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtb3JpZ2luYWxTZWxlY3QnKTtcclxuXHRcdFx0Ly9kcm9wZG93blxyXG5cdFx0XHR2YXIgJGRyb3Bkb3duID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtZHJvcGRvd24nKTtcclxuXHRcdFx0Ly9pZiBzZWxlY3QgaXMgbm90IGRpc2FibGVkXHJcblx0XHRcdGlmKCEkc2VsZWN0TWFuaWFFbC5pcygnLnNlbGVjdC1tYW5pYS1kaXNhYmxlZCcpKSB7XHJcblx0XHRcdFx0Ly9jbGljayBvdXRzaWRlIHNlbGVjdFxyXG5cdFx0XHRcdCQoZG9jdW1lbnQpLm9mZignY2xpY2suc2VsZWN0TWFuaWEnKS5vbignY2xpY2suc2VsZWN0TWFuaWEnLCB0aGlzQmluZHMuZG9jdW1lbnRDbGljayk7XHJcblx0XHRcdFx0Ly9mb2N1cyAvIGJsdXIgb3JpZ2luYWwgc2VsZWN0IGVsZW1lbnRcclxuXHRcdFx0XHQkb3JpZ2luYWxTZWxlY3Qub2ZmKCdmb2N1cy5zZWxlY3RNYW5pYScpLm9uKCdmb2N1cy5zZWxlY3RNYW5pYScsIHRoaXNCaW5kcy5mb2N1cyk7XHJcblx0XHRcdFx0JG9yaWdpbmFsU2VsZWN0Lm9mZignYmx1ci5zZWxlY3RNYW5pYScpLm9uKCdibHVyLnNlbGVjdE1hbmlhJywgdGhpc0JpbmRzLmJsdXIpO1xyXG5cdFx0XHRcdC8vY2xlYXIgdmFsdWVzXHJcblx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuZmluZCgnLnNlbGVjdC1tYW5pYS1jbGVhci1pY29uJykub2ZmKCdjbGljay5zZWxlY3RNYW5pYScpLm9uKCdjbGljay5zZWxlY3RNYW5pYScsIHRoaXNCaW5kcy5jbGVhclZhbHVlcyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0LlcclxuXHRcdFx0XHQvLyRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtYWRkLWljb24nKS5vZmYoJ2NsaWNrLnNlbGVjdE1hbmlhJykub24oJ2NsaWNrLnNlbGVjdE1hbmlhJywgdGhpc0JpbmRzLmFkZF9tYW5pYSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly9jbGVhciBzZWxlY3QgbXVsdGlwbGUgaW5kaXZpZHVhbCB2YWx1ZVxyXG5cdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtdmFsdWUtY2xlYXItaWNvbicpLm9mZignY2xpY2suc2VsZWN0TWFuaWEnKS5vbignY2xpY2suc2VsZWN0TWFuaWEnLCB0aGlzQmluZHMuY2xlYXJWYWx1ZSk7XHJcblx0XHRcdFx0Ly9vcGVuIC8gY2xvc2UgZHJvcGRvd25cclxuXHRcdFx0XHQkc2VsZWN0TWFuaWFFbC5maW5kKCcuc2VsZWN0LW1hbmlhLWlubmVyJykub2ZmKCdjbGljay5zZWxlY3RNYW5pYScpLm9uKCdjbGljay5zZWxlY3RNYW5pYScsIHRoaXNCaW5kcy5kcm9wZG93blRvZ2dsZSk7XHJcblx0XHRcdFx0Ly9pdGVtIGhvdmVyIGluIGRyb3Bkb3duXHJcblx0XHRcdFx0JGRyb3Bkb3duLmZpbmQoJy5zZWxlY3QtbWFuaWEtaXRlbTpub3QoLnNlbGVjdC1tYW5pYS1kaXNhYmxlZCknKS5vZmYoJ21vdXNlZW50ZXIuc2VsZWN0TWFuaWEnKS5vbignbW91c2VlbnRlci5zZWxlY3RNYW5pYScsIHRoaXNCaW5kcy5ob3Zlckl0ZW0pO1xyXG5cdFx0XHRcdC8vaXRlbSBzZWxlY3Rpb24gaW4gZHJvcGRvd25cclxuXHRcdFx0XHQkZHJvcGRvd24uZmluZCgnLnNlbGVjdC1tYW5pYS1pdGVtOm5vdCguc2VsZWN0LW1hbmlhLWRpc2FibGVkKScpLm9mZignY2xpY2suc2VsZWN0TWFuaWEnKS5vbignY2xpY2suc2VsZWN0TWFuaWEnLCB0aGlzQmluZHMuaXRlbVNlbGVjdGlvbik7XHJcblx0XHRcdFx0Ly9zZWFyY2ggaW5wdXQgaW4gZHJvcGRvd25cclxuXHRcdFx0XHQkZHJvcGRvd24uZmluZCgnLnNlbGVjdC1tYW5pYS1zZWFyY2gtaW5wdXQnKS5vZmYoJ2lucHV0LnNlbGVjdE1hbmlhJykub24oJ2lucHV0LnNlbGVjdE1hbmlhJywgdGhpc0JpbmRzLmlucHV0U2VhcmNoKTtcclxuXHRcdFx0XHQvL3ByZXZlbnRzIGJvZHkgc2Nyb2xsIHdoZW4gcmVhY2hlZCBkcm9wZG93biB0b3Agb3IgYm90dG9tXHJcblx0XHRcdFx0JGRyb3Bkb3duLmZpbmQoJy5zZWxlY3QtbWFuaWEtaXRlbXMnKS5vZmYoJ3doZWVsLnNlbGVjdE1hbmlhJykub24oJ3doZWVsLnNlbGVjdE1hbmlhJywgdGhpc0JpbmRzLnNjcm9sbENvbnRyb2wpO1xyXG5cdFx0XHRcdC8vYWpheCBzY3JvbGxcclxuXHRcdFx0XHRpZigkc2VsZWN0TWFuaWFFbC5pcygnLnNlbGVjdC1tYW5pYS1hamF4JykpIHtcclxuXHRcdFx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW1zJykub2ZmKCdzY3JvbGwuc2VsZWN0TWFuaWEnKS5vbignc2Nyb2xsLnNlbGVjdE1hbmlhJywgdGhpc0JpbmRzLnNjcm9sbEFqYXgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvL2lmIHNlbGVjdCBpcyBkaXNhYmxlZCB1bmJpbmQgY29udHJvbHNcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly9mb2N1cyAvIGJsdXIgb3JpZ2luYWwgc2VsZWN0IGVsZW1lbnRcclxuXHRcdFx0XHQkb3JpZ2luYWxTZWxlY3Qub2ZmKCdmb2N1cy5zZWxlY3RNYW5pYScpO1xyXG5cdFx0XHRcdCRvcmlnaW5hbFNlbGVjdC5vZmYoJ2JsdXIuc2VsZWN0TWFuaWEnKTtcclxuXHRcdFx0XHQvL2NsZWFyIHZhbHVlc1xyXG5cdFx0XHRcdCRzZWxlY3RNYW5pYUVsLmZpbmQoJy5zZWxlY3QtbWFuaWEtY2xlYXItaWNvbicpLm9mZignY2xpY2suc2VsZWN0TWFuaWEnKTtcclxuXHRcdFx0XHQvL2NsZWFyIHNlbGVjdCBtdWx0aXBsZSBpbmRpdmlkdWFsIHZhbHVlXHJcblx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuZmluZCgnLnNlbGVjdC1tYW5pYS12YWx1ZS1jbGVhci1pY29uJykub2ZmKCdjbGljay5zZWxlY3RNYW5pYScpO1xyXG5cdFx0XHRcdC8vb3BlbiAvIGNsb3NlIGRyb3Bkb3duXHJcblx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuZmluZCgnLnNlbGVjdC1tYW5pYS1pbm5lcicpLm9mZignY2xpY2suc2VsZWN0TWFuaWEnKTtcclxuXHRcdFx0XHQvL2l0ZW0gaG92ZXIgaW4gZHJvcGRvd25cclxuXHRcdFx0XHQkZHJvcGRvd24uZmluZCgnLnNlbGVjdC1tYW5pYS1pdGVtOm5vdCguc2VsZWN0LW1hbmlhLWRpc2FibGVkKScpLm9mZignbW91c2VlbnRlci5zZWxlY3RNYW5pYScpO1xyXG5cdFx0XHRcdC8vaXRlbSBzZWxlY3Rpb24gaW4gZHJvcGRvd25cclxuXHRcdFx0XHQkZHJvcGRvd24uZmluZCgnLnNlbGVjdC1tYW5pYS1pdGVtOm5vdCguc2VsZWN0LW1hbmlhLWRpc2FibGVkKScpLm9mZignY2xpY2suc2VsZWN0TWFuaWEnKTtcclxuXHRcdFx0XHQvL3NlYXJjaCBpbnB1dCBpbiBkcm9wZG93blxyXG5cdFx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLXNlYXJjaC1pbnB1dCcpLm9mZignaW5wdXQuc2VsZWN0TWFuaWEnKTtcclxuXHRcdFx0XHQvL3ByZXZlbnRzIGJvZHkgc2Nyb2xsIHdoZW4gcmVhY2hlZCBkcm9wZG93biB0b3Agb3IgYm90dG9tXHJcblx0XHRcdFx0JGRyb3Bkb3duLmZpbmQoJy5zZWxlY3QtbWFuaWEtaXRlbXMnKS5vZmYoJ3doZWVsLnNlbGVjdE1hbmlhJyk7XHJcblx0XHRcdFx0Ly9hamF4IHNjcm9sbFxyXG5cdFx0XHRcdCRkcm9wZG93bi5maW5kKCcuc2VsZWN0LW1hbmlhLWl0ZW1zJykub2ZmKCdzY3JvbGwuc2VsZWN0TWFuaWEnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gZHJvcGRvd25Ub2dnbGVcclxuXHJcblx0XHQvL0JJTkQgT05MWSAtIG9wZW4gLyBjbG9zZSBkcm9wZG93blxyXG5cdFx0ZHJvcGRvd25Ub2dnbGU6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0Ly9zZWxlY3QtbWFuaWEgZWxlbWVudFxyXG5cdFx0XHR2YXIgJHNlbGVjdE1hbmlhRWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5zZWxlY3QtbWFuaWEnKTtcclxuXHRcdFx0Ly9kcm9wZG93biBlbGVtZW50XHJcblx0XHRcdHZhciAkZHJvcGRvd24gPSAkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1kcm9wZG93bicpO1xyXG5cdFx0XHQvL2lmIGRyb3Bkb3duIG9wZW5cclxuXHRcdFx0aWYoJGRyb3Bkb3duLmlzKCcub3BlbicpKSB7XHJcblx0XHRcdFx0Ly9jbG9zZSBkcm9wZG93blxyXG5cdFx0XHRcdEVuZ2luZS5jbG9zZURyb3Bkb3duKCRkcm9wZG93bik7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9pZiBkcm9wZG93biBjbG9zZWRcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly9jbG9zZSBldmVyeSBvcGVuIGRyb3Bkb3duXHJcblx0XHRcdFx0RW5naW5lLmNsb3NlRHJvcGRvd24oJCgnLnNlbGVjdC1tYW5pYS1kcm9wZG93bi5vcGVuJykpO1xyXG5cdFx0XHRcdC8vb3BlbiB0YXJnZXQgZHJvcGRvd25cclxuXHRcdFx0XHRFbmdpbmUub3BlbkRyb3Bkb3duKCRkcm9wZG93bik7XHJcblx0XHRcdH1cclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGRvY3VtZW50Q2xpY2tcclxuXHJcblx0XHQvL0JJTkQgT05MWSAtIGNsaWNrIG91dHNpZGUgc2VsZWN0XHJcblx0XHRkb2N1bWVudENsaWNrOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdC8vaWYgY2xpY2sgbm90IGluIG9wZW4gZHJvcGRvd25cclxuXHRcdFx0aWYoJChlLnRhcmdldCkuY2xvc2VzdCgnLnNlbGVjdC1tYW5pYS1kcm9wZG93bicpLmxlbmd0aCA8IDEpIHtcclxuXHRcdFx0XHQvL2Nsb3NlIGV2ZXJ5IG9wZW4gZHJvcGRvd25cclxuXHRcdFx0XHRFbmdpbmUuY2xvc2VEcm9wZG93bigkKCcuc2VsZWN0LW1hbmlhLWRyb3Bkb3duLm9wZW4nKSk7XHJcblx0XHRcdH1cclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGNsZWFyVmFsdWVzXHJcblxyXG5cdFx0Ly9CSU5EIE9OTFkgLSBjbGVhciB2YWx1ZXNcclxuXHRcdGNsZWFyVmFsdWVzOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdC8vc2VsZWN0TWFuaWEgZWxlbWVudFxyXG5cdFx0XHR2YXIgJHNlbGVjdE1hbmlhRWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5zZWxlY3QtbWFuaWEnKTtcclxuXHRcdFx0Ly9kcm9wZG93blxyXG5cdFx0XHR2YXIgJGRyb3Bkb3duID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtZHJvcGRvd24nKTtcclxuXHRcdFx0Ly9vcmlnaW5hbCBzZWxlY3QgZWxlbWVudFxyXG5cdFx0XHR2YXIgJG9yaWdpbmFsU2VsZWN0ID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtb3JpZ2luYWxTZWxlY3QnKTtcclxuXHRcdFx0Ly9jbGVhciB2YWx1ZXNcclxuXHRcdFx0RW5naW5lLmNsZWFyKCRzZWxlY3RNYW5pYUVsKTtcclxuXHRcdFx0Ly9pZiBhYnNvbHV0ZSBwb3NpdGlvbiBkcm9wZG93blxyXG5cdFx0XHRpZigkZHJvcGRvd24uaXMoJy5zZWxlY3QtbWFuaWEtYWJzb2x1dGUnKSkge1xyXG5cdFx0XHRcdC8vcG9zaXRpb24gYWJzb2x1dGUgZHJvcGRvd25cclxuXHRcdFx0XHRFbmdpbmUucG9zaXRpb25Ecm9wZG93bigkZHJvcGRvd24pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vdHJpZ2dlciBvcmlnaW5hbCBzZWxlY3QgY2hhbmdlIGV2ZW50XHJcblx0XHRcdCRvcmlnaW5hbFNlbGVjdC50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuXHRcdFx0Ly91cGRhdGUgY2xlYXIgdmFsdWVzIGljb24gZGlzcGxheVxyXG5cdFx0XHRFbmdpbmUudXBkYXRlQ2xlYW4oJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gY2xlYXJWYWx1ZVxyXG4gICAgIC8qXHJcblx0XHRhZGRfbWFuaWE6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0JCgnLnNlbGVjdC1tYW5pYScpLmhpZGUoKTtcdFxyXG5cdFx0XHQkKCcuYWRkX3NrbGFkX3BsJykuc2hvdygpO1xyXG5cdFx0XHQkKCcubmV3X3NrbGFkX25hbWUnKS52YWwoMSk7XHJcblx0XHR9LFxyXG5cdCovXHRcclxuXHRcdC8vQklORCBPTkxZIC0gY2xlYXIgc2VsZWN0IG11bHRpcGxlIGluZGl2aWR1YWwgdmFsdWVcclxuXHRcdGNsZWFyVmFsdWU6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0Ly9zZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9ICQodGhpcykuY2xvc2VzdCgnLnNlbGVjdC1tYW5pYScpO1xyXG5cdFx0XHQvL2Ryb3Bkb3duXHJcblx0XHRcdHZhciAkZHJvcGRvd24gPSAkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1kcm9wZG93bicpO1xyXG5cdFx0XHQvL3ZhbHVlIHRvIGRlbGV0ZVxyXG5cdFx0XHR2YXIgJHZhbHVlID0gJCh0aGlzKS5jbG9zZXN0KCcuc2VsZWN0LW1hbmlhLXZhbHVlJyk7XHJcblx0XHRcdC8vdW5zZWxlY3QgaXRlbSBpbiBkcm9wZG93blxyXG5cdFx0XHQkZHJvcGRvd25cclxuXHRcdFx0XHQuZmluZCgnLnNlbGVjdC1tYW5pYS1pdGVtW2RhdGEtdmFsdWU9XCInKyR2YWx1ZS5hdHRyKCdkYXRhLXZhbHVlJykrJ1wiXScpXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCdzZWxlY3QtbWFuaWEtc2VsZWN0ZWQnKTtcclxuXHRcdFx0Ly9yZW1vdmUgdmFsdWUgZnJvbSBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdCR2YWx1ZS5yZW1vdmUoKTtcclxuXHRcdFx0Ly9yZW1vdmUgdmFsdWUgZnJvbSBvcmlnaW5hbCBzZWxlY3QgZWxlbWVudFxyXG5cdFx0XHR2YXIgJG9yaWdpbmFsU2VsZWN0ID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtb3JpZ2luYWxTZWxlY3QnKTtcclxuXHRcdFx0RW5naW5lLnJlbW92ZU11bHRpcGxlVmFsKCRvcmlnaW5hbFNlbGVjdCwgJHZhbHVlLmF0dHIoJ2RhdGEtdmFsdWUnKSk7XHJcblx0XHRcdC8vaWYgYWJzb2x1dGUgcG9zaXRpb24gZHJvcGRvd25cclxuXHRcdFx0aWYoJGRyb3Bkb3duLmlzKCcuc2VsZWN0LW1hbmlhLWFic29sdXRlJykpIHtcclxuXHRcdFx0XHQvL3Bvc2l0aW9uIGFic29sdXRlIGRyb3Bkb3duXHJcblx0XHRcdFx0RW5naW5lLnBvc2l0aW9uRHJvcGRvd24oJGRyb3Bkb3duKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL3RyaWdnZXIgb3JpZ2luYWwgc2VsZWN0IGNoYW5nZSBldmVudFxyXG5cdFx0XHQkb3JpZ2luYWxTZWxlY3QudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHRcdC8vdXBkYXRlIGNsZWFyIHZhbHVlcyBpY29uIGRpc3BsYXlcclxuXHRcdFx0RW5naW5lLnVwZGF0ZUNsZWFuKCRzZWxlY3RNYW5pYUVsKTtcclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGl0ZW1TZWxlY3Rpb25cclxuXHJcblx0XHQvL0JJTkQgT05MWSAtIGl0ZW0gc2VsZWN0aW9uIGluIGRyb3Bkb3duXHJcblx0XHRpdGVtU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICRzZWxlY3RlZEl0ZW0gPSAkKHRoaXMpO1xyXG5cdFx0XHQvL3NlbGVjdCBpdGVtIGluIGRyb3Bkb3duXHJcblx0XHRcdEVuZ2luZS5zZWxlY3RJdGVtKCRzZWxlY3RlZEl0ZW0pO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gaW5wdXRTZWFyY2hcclxuXHJcblx0XHQvL0JJTkQgT05MWSAtIGRyb3Bkb3duIHNlYXJjaCBpbnB1dFxyXG5cdFx0aW5wdXRTZWFyY2g6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuXHRcdFx0Ly9zZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdCRzZWxlY3RNYW5pYUVsID0gJGlucHV0LmNsb3Nlc3QoJy5zZWxlY3QtbWFuaWEtZHJvcGRvd24nKS5kYXRhKCdzZWxlY3RNYW5pYS1lbGVtZW50Jyk7XHJcblx0XHRcdC8vdGltZXIgZHVyYXRpb24gYWNjb3JkaW5nIHRvIHNlbGVjdCBtdWx0aXBsZSBvciBub3RcclxuXHRcdFx0dmFyIHRoaXNUaW1lID0gMjAwO1xyXG5cdFx0XHRpZigkc2VsZWN0TWFuaWFFbC5pcygnLnNlbGVjdC1tYW5pYS1hamF4JykpIHtcclxuXHRcdFx0XHR0aGlzVGltZSA9IDQwMDtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2NsZWFyIHRpbWVvdXRcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KCRpbnB1dC5kYXRhKCdzZWxlY3RNYW5pYS1zZWFyY2hUaW1lcicpKTtcclxuXHRcdFx0Ly9zZWFyY2ggaW5wdXQgdGltZW91dFxyXG5cdFx0XHQkaW5wdXQuZGF0YSgnc2VsZWN0TWFuaWEtc2VhcmNoVGltZXInLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdC8vYWpheCBzZWFyY2hcclxuXHRcdFx0XHRpZigkc2VsZWN0TWFuaWFFbC5pcygnLnNlbGVjdC1tYW5pYS1hamF4JykpIHtcclxuXHRcdFx0XHRcdEVuZ2luZS5kb1NlYXJjaEFqYXgoJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvL25vcm1hbCBzZWFyY2hcclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdEVuZ2luZS5kb1NlYXJjaCgkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB0aGlzVGltZSkpO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gc2Nyb2xsQWpheFxyXG5cclxuXHRcdC8vQklORCBPTkxZIC0gZHJvcGRvd24gYWpheCBzY3JvbGxcclxuXHRcdHNjcm9sbEFqYXg6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyICRpdGVtTGlzdCA9ICQodGhpcyk7XHJcblx0XHRcdC8vZHJvcGRvd24gZWxlbWVudFxyXG5cdFx0XHR2YXIgJGRyb3Bkb3duID0gJGl0ZW1MaXN0LmNsb3Nlc3QoJy5zZWxlY3QtbWFuaWEtZHJvcGRvd24nKTtcclxuXHRcdFx0Ly9zZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9ICRkcm9wZG93bi5kYXRhKCdzZWxlY3RNYW5pYS1lbGVtZW50Jyk7XHJcblx0XHRcdC8vaWYgYWpheCBzY3JvbGwgaXMgbm90IG92ZXJcclxuXHRcdFx0aWYoJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtYWpheFNjcm9sbERvbmUnKSAhPT0gdHJ1ZSkge1xyXG5cdFx0XHRcdC8vaWYgc2Nyb2xsIHJlYWNoZWQgYm90dG9tIHdpdGggMTJweCB0b2xlcmFuY2VcclxuXHRcdFx0XHRpZigkaXRlbUxpc3Quc2Nyb2xsVG9wKCkgPj0gJGl0ZW1MaXN0WzBdLnNjcm9sbEhlaWdodCAtICRpdGVtTGlzdC5vdXRlckhlaWdodCgpIC0gMTIpIHtcclxuXHRcdFx0XHRcdC8vaWYgYWpheCBzY3JvbGwgaXMgcmVhZHlcclxuXHRcdFx0XHRcdGlmKCRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLWFqYXhSZWFkeScpID09PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRcdC8vcGFnZSBudW1iZXIgdG8gY2FsbFxyXG5cdFx0XHRcdFx0XHR2YXIgdGhpc1BhZ2UgPSAkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4UGFnZScpICsgMTtcclxuXHRcdFx0XHRcdFx0Ly9zZWFyY2ggdmFsdWVcclxuXHRcdFx0XHRcdFx0dmFyIHRoaXNTZWFyY2ggPSAkc2VsZWN0TWFuaWFFbC5maW5kKCcuc2VsZWN0LW1hbmlhLXNlYXJjaC1pbnB1dCcpLmZpcnN0KCkudmFsKCk7XHJcblx0XHRcdFx0XHRcdC8vcGF1c2UgYWpheCBzY3JvbGxcclxuXHRcdFx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtYWpheFJlYWR5JywgZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHQvL2VucmVnaXN0cmUgbm91dmVsbGUgcGFnZSBlbiBjb3Vyc1xyXG5cdFx0XHRcdFx0XHQkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4UGFnZScsIHRoaXNQYWdlKTtcclxuXHRcdFx0XHRcdFx0Ly9sb2FkaW5nIGljb25cclxuXHRcdFx0XHRcdFx0RW5naW5lLmRyb3Bkb3duTG9hZGluZygkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHRcdFx0XHRcdC8vY2FsbCBhamF4IGZ1bmN0aW9uXHJcblx0XHRcdFx0XHRcdHZhciB0aGlzQWpheEZ1bmN0aW9uID0gJHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtYWpheEZ1bmN0aW9uJyk7XHJcblx0XHRcdFx0XHRcdHZhciB0aGlzQWpheERhdGEgPSAkc2VsZWN0TWFuaWFFbC5kYXRhKCdzZWxlY3RNYW5pYS1hamF4RGF0YScpO1xyXG5cdFx0XHRcdFx0XHR0aGlzQWpheEZ1bmN0aW9uKHRoaXNTZWFyY2gsIHRoaXNQYWdlLCB0aGlzQWpheERhdGEsIGZ1bmN0aW9uKG9wdEhUTUwpIHtcclxuXHRcdFx0XHRcdFx0XHQvL3JlbW92ZSBsb2FkaW5nIGljb25cclxuXHRcdFx0XHRcdFx0XHRFbmdpbmUuZHJvcGRvd25Mb2FkaW5nKCRzZWxlY3RNYW5pYUVsLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHQvL2lmIG9wdGlvbnMgcmV0dXJuZWRcclxuXHRcdFx0XHRcdFx0XHRpZihvcHRIVE1MLnRyaW0oKSAhPT0gJycpIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vYWRkIGl0ZW1zIHRvIGRyb3Bkb3duIGZyb20gc2VudCBvcHRpb25zXHJcblx0XHRcdFx0XHRcdFx0XHRFbmdpbmUuYWRkSXRlbXMoJHNlbGVjdE1hbmlhRWwsIG9wdEhUTUwpO1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly9yZWJpbmQgc2VsZWN0TWFuaWEgZWxlbWVudFxyXG5cdFx0XHRcdFx0XHRcdFx0QmluZHMuYmluZCgkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHRcdFx0XHRcdFx0XHQvL3NldCBhamF4IHNjcm9sbCBhcyByZWFkeVxyXG5cdFx0XHRcdFx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtYWpheFJlYWR5JywgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdC8vaWYgbm8gb3B0aW9ucyBzZW50IGJhY2tcclxuXHRcdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vYWpheCBzY3JvbGwgaXMgb3ZlclxyXG5cdFx0XHRcdFx0XHRcdFx0JHNlbGVjdE1hbmlhRWwuZGF0YSgnc2VsZWN0TWFuaWEtYWpheFNjcm9sbERvbmUnLCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gc2Nyb2xsQ29udHJvbFxyXG5cclxuXHRcdC8vQklORCBPTkxZIC0gcHJldmVudHMgYm9keSBzY3JvbGwgd2hlbiByZWFjaGVkIGRyb3Bkb3duIHRvcCBvciBib3R0b21cclxuXHRcdHNjcm9sbENvbnRyb2w6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyICR0aGlzRHJvcGRvd24gPSAkKHRoaXMpO1xyXG5cdFx0XHRpZihlLm9yaWdpbmFsRXZlbnQuZGVsdGFZIDwgMCkge1xyXG5cdFx0XHRcdHJldHVybiAoJHRoaXNEcm9wZG93bi5zY3JvbGxUb3AoKSA+IDApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybigkdGhpc0Ryb3Bkb3duLnNjcm9sbFRvcCgpICsgJHRoaXNEcm9wZG93bi5pbm5lckhlaWdodCgpIDwgJHRoaXNEcm9wZG93blswXS5zY3JvbGxIZWlnaHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBmb2N1cyAvIGJsdXJcclxuXHJcblx0XHQvL0JJTkQgT05MWSAtIGZvY3VzIHNlbGVjdE1hbmlhIHdoZW4gb3JpZ2luYWwgc2VsZWN0IGlzIGZvY3VzZWRcclxuXHRcdGZvY3VzOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciAkb3JpZ2luYWxTZWxlY3QgPSAkKHRoaXMpO1xyXG5cdFx0XHQvL3NlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0dmFyICRzZWxlY3RNYW5pYUVsID0gJG9yaWdpbmFsU2VsZWN0LmRhdGEoJ3NlbGVjdE1hbmlhLWVsZW1lbnQnKTtcclxuXHRcdFx0Ly9hZGQgZm9jdXMgY2xhc3MgdG8gc2VsZWN0TWFuaWEgZWxlbWVudFxyXG5cdFx0XHQkc2VsZWN0TWFuaWFFbC5hZGRDbGFzcygnc2VsZWN0LW1hbmlhLWZvY3VzZWQnKTtcclxuXHRcdFx0Ly9iaW5kIGtleWJvYXJkIGRyb3Bkb3duIG9wZW5pbmdcclxuXHRcdFx0JG9yaWdpbmFsU2VsZWN0Lm9mZigna2V5ZG93bi5zZWxlY3RNYW5pYScpLm9uKCdrZXlkb3duLnNlbGVjdE1hbmlhJywgQmluZHMua2V5Ym9hcmRPcGVuaW5nKTtcclxuXHRcdH0sIFxyXG5cclxuXHRcdC8vQklORCBPTkxZIC0gdW5mb2N1cyBzZWxlY3RNYW5pYSB3aGVuIG9yaWdpbmFsIHNlbGVjdCBpcyBmb2N1c2VkXHJcblx0XHRibHVyOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciAkb3JpZ2luYWxTZWxlY3QgPSAkKHRoaXMpO1xyXG5cdFx0XHQvL3NlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0dmFyICRzZWxlY3RNYW5pYUVsID0gJG9yaWdpbmFsU2VsZWN0LmRhdGEoJ3NlbGVjdE1hbmlhLWVsZW1lbnQnKTtcclxuXHRcdFx0Ly9yZW1vdmUgZm9jdXMgY2xhc3MgZnJvbSBzZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdCRzZWxlY3RNYW5pYUVsLnJlbW92ZUNsYXNzKCdzZWxlY3QtbWFuaWEtZm9jdXNlZCcpO1xyXG5cdFx0XHQvL3VuYmluZCBrZXlib2FyZCBkcm9wZG93biBvcGVuaW5nXHJcblx0XHRcdCRvcmlnaW5hbFNlbGVjdC5vZmYoJ2tleWRvd24uc2VsZWN0TWFuaWEnKTtcclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGhvdmVySXRlbVxyXG5cclxuXHRcdC8vQklORCBPTkxZIC0gaG92ZXIgc3RhdHVzIG9uIGRyb3Bkb3duIGl0ZW1zXHJcblx0XHRob3Zlckl0ZW06IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dmFyICRpdGVtID0gJCh0aGlzKTtcclxuXHRcdFx0Ly9kcm9wZG93blxyXG5cdFx0XHR2YXIgJGRyb3Bkb3duID0gJGl0ZW0uY2xvc2VzdCgnLnNlbGVjdC1tYW5pYS1kcm9wZG93bicpO1xyXG5cdFx0XHQvL3JlbW92ZSBob3ZlciBmcm9tIGV2ZXJ5IGl0ZW1cclxuXHRcdFx0JGRyb3Bkb3duLmZpbmQoJy5zZWxlY3QtbWFuaWEtaXRlbScpLnJlbW92ZUNsYXNzKCdzZWxlY3QtbWFuaWEtaG92ZXInKTtcclxuXHRcdFx0Ly9hcHBseSBob3ZlciBjbGFzc1xyXG5cdFx0XHQkaXRlbS5hZGRDbGFzcygnc2VsZWN0LW1hbmlhLWhvdmVyJyk7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBrZXlib2FyZE9wZW5pbmcgLyBrZXlib2FyZENvbnRyb2xcclxuXHJcblx0XHQvL0JJTkQgT05MWSAtIGtleWJvYXJkIGRyb3Bkb3duIG9wZW5pbmdcclxuXHRcdGtleWJvYXJkT3BlbmluZzogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgJG9yaWdpbmFsU2VsZWN0ID0gJCh0aGlzKTtcclxuXHRcdFx0Ly9zZWxlY3RNYW5pYSBlbGVtZW50XHJcblx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9ICRvcmlnaW5hbFNlbGVjdC5kYXRhKCdzZWxlY3RNYW5pYS1lbGVtZW50Jyk7XHJcblx0XHRcdC8vZHJvcGRvd25cclxuXHRcdFx0dmFyICRkcm9wZG93biA9ICRzZWxlY3RNYW5pYUVsLmRhdGEoJ3NlbGVjdE1hbmlhLWRyb3Bkb3duJyk7XHJcblx0XHRcdC8vbGlzdCBvZiBrZXkgY29kZXMgdHJpZ2dlcmluZyBvcGVuaW5nIGJlc2lkZSBjaGFyYWN0ZXJzIChlbnRlciwgc3BhY2ViYXIsIGFycm93IGtleXMpXHJcblx0XHRcdHZhciBvcGVuaW5nS2V5cyA9IFsxMywzMiwzNywzOCwzOSw0MF07XHJcblx0XHRcdC8vaWYgZHJvcGRvd24gaXMgY2xvc2VkIGFuZCB0cmlnZ2VyaW5nIGtleSBwcmVzc2VkXHJcblx0XHRcdGlmKCEkZHJvcGRvd24uaGFzQ2xhc3MoJ29wZW4nKSAmJiAkLmluQXJyYXkoZS5rZXlDb2RlLCBvcGVuaW5nS2V5cykgIT09IC0xKSB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0Ly91bmZvY3VzIG9yaWdpbmFsIHNlbGVjdFxyXG5cdFx0XHRcdCRvcmlnaW5hbFNlbGVjdC5ibHVyKCk7XHJcblx0XHRcdFx0Ly9vcGVucyBkcm9wZG93blxyXG5cdFx0XHRcdEVuZ2luZS5vcGVuRHJvcGRvd24oJGRyb3Bkb3duKTtcclxuXHRcdFx0fVxyXG5cdFx0fSwgXHJcblxyXG5cdFx0Ly9CSU5EIE9OTFkgLSBrZXlib2FyZCBjb250cm9sIHdpdGhpbiBkcm9wZG93blxyXG5cdFx0a2V5Ym9hcmRDb250cm9sOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdC8vY3VycmVudGx5IG9wZW4gZHJvcGRvd25cclxuXHRcdFx0dmFyICRkcm9wZG93biA9ICQoJy5zZWxlY3QtbWFuaWEtZHJvcGRvd24ub3BlbicpLmZpcnN0KCk7XHJcblx0XHRcdC8vbGlzdCBvZiBjb250cm9sIGtleXMgKHRhYiwgZW50ZXIsIGVzY2FwZSwgYXJyb3cgdXAsIGFycm93IGRvd24pXHJcblx0XHRcdHZhciBjb250cm9sS2V5cyA9IFs5LDEzLDI3LDM4LDQwXTtcclxuXHRcdFx0Ly9pZiBhIHNlbGVjdE1hbmlhIGRyb3Bkb3duIGlzIG9wZW4gYW5kIGtleSBwcmVzc2VkIGlzIGEgY29udHJvbCBrZXlcclxuXHRcdFx0aWYoJGRyb3Bkb3duLmxlbmd0aCA+IDAgJiYgJC5pbkFycmF5KGUua2V5Q29kZSwgY29udHJvbEtleXMpICE9PSAtMSkge1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdC8vc3dpdGNoIGtleSBwcmVzc2VkXHJcblx0XHRcdFx0c3dpdGNoKGUua2V5Q29kZSkge1xyXG5cdFx0XHRcdFx0Ly9lbnRlclxyXG5cdFx0XHRcdFx0Y2FzZSAxMzpcclxuXHRcdFx0XHRcdFx0Ly9jdXJyZW50bHkgaG92ZXJlZCBlbGVtZW50XHJcblx0XHRcdFx0XHRcdHZhciAkaG92ZXJJdGVtID0gJGRyb3Bkb3duLmZpbmQoJy5zZWxlY3QtbWFuaWEtaXRlbTpub3QoLnNlbGVjdC1tYW5pYS1kaXNhYmxlZCk6bm90KC5zZWxlY3QtbWFuaWEtaGlkZGVuKS5zZWxlY3QtbWFuaWEtaG92ZXInKS5maXJzdCgpO1xyXG5cdFx0XHRcdFx0XHQvL2lmIGhvdmVyZWQgZWxlbWVudCBleGlzdHNcclxuXHRcdFx0XHRcdFx0aWYoJGhvdmVySXRlbS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly9zZWxlY3QgaXRlbSBpbiBkcm9wZG93blxyXG5cdFx0XHRcdFx0XHRcdEVuZ2luZS5zZWxlY3RJdGVtKCRob3Zlckl0ZW0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Ly90YWJcclxuXHRcdFx0XHRcdGNhc2UgOTpcclxuXHRcdFx0XHRcdC8vZXNjYXBlXHJcblx0XHRcdFx0XHRjYXNlIDI3OlxyXG5cdFx0XHRcdFx0XHQvL2Nsb3NlIGRyb3Bkb3duXHJcblx0XHRcdFx0XHRcdEVuZ2luZS5jbG9zZURyb3Bkb3duKCRkcm9wZG93bik7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Ly9hcnJvdyB1cFxyXG5cdFx0XHRcdFx0Y2FzZSAzODpcclxuXHRcdFx0XHRcdFx0Ly9ob3ZlciBwcmV2aW91cyBpdGVtIGluIGRyb3Bkb3duXHJcblx0XHRcdFx0XHRcdEVuZ2luZS5uYXZpZ2F0ZUl0ZW0oJGRyb3Bkb3duLCAncHJldmlvdXMnKTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHQvL2Fycm93IGRvd25cclxuXHRcdFx0XHRcdGNhc2UgNDA6XHJcblx0XHRcdFx0XHRcdC8vaG92ZXIgbmV4dCBpdGVtIGluIGRyb3Bkb3duXHJcblx0XHRcdFx0XHRcdEVuZ2luZS5uYXZpZ2F0ZUl0ZW0oJGRyb3Bkb3duLCAnbmV4dCcpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcbi8vIEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAgLy9cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBUT09MUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG4vLyBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAIC8vXHJcblxyXG5cdHZhciBUb29scyA9IHtcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBkZWZcclxuXHJcblx0XHQvL2ZvcmNlIG51bGwgaWYgdmFyIGlzIHVuZGVmaW5lZFxyXG5cdFx0ZGVmOiBmdW5jdGlvbih2KSB7XHJcblx0XHRcdGlmKHR5cGVvZiB2ID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB2O1xyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuLy8gQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAvL1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTUVUSE9EUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuLy8gQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAvL1xyXG5cclxuXHR2YXIgTWV0aG9kcyA9IHtcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBpbml0XHJcblxyXG5cdFx0Ly9pbml0aWFsaXplIHNlbGVjdE1hbmlhXHJcblx0XHRpbml0OiBmdW5jdGlvbihvcHRzKSB7XHJcblx0XHRcdC8vc2V0dGluZ3MgcHJvdmlkZWQgYnkgdXNlclxyXG5cdFx0XHR2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgRGF0YS5kZWZhdWx0cywgb3B0cyk7XHJcblx0XHRcdC8vbG9vcCB0aHJvdWdoIHRhcmdldGVkIGVsZW1lbnRzXHJcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Ly9jdXJyZW50IHNlbGVjdCB0byBpbml0aWFsaXplXHJcblx0XHRcdFx0dmFyICRvcmlnaW5hbFNlbGVjdCA9ICQodGhpcyk7XHJcblx0XHRcdFx0Ly9jb250cm9scyBpZiBlbGVtZW50IGlzIGEgc2VsZWN0IGFuZCBwbHVnaW4gaXMgbm90IGFscmVhZHkgaW5pdGlhbGl6ZWRcclxuXHRcdFx0XHRpZihFbmdpbmUuY29udHJvbFRhcmdldCgkb3JpZ2luYWxTZWxlY3QsIFsnaXNTZWxlY3QnLCdub3RJbml0aWFsaXplZCddKSkge1xyXG5cdFx0XHRcdFx0Ly9pbml0aWFsaXplIHNlbGVjdE1hbmlhIG9uIG9yaWdpbmFsIHNlbGVjdFxyXG5cdFx0XHRcdFx0RW5naW5lLmluaXRpYWxpemUoJG9yaWdpbmFsU2VsZWN0LCBzZXR0aW5ncyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IHVwZGF0ZVxyXG5cclxuXHRcdC8vdXBkYXRlIHNlbGVjdE1hbmlhIGl0ZW1zIGFuZCB2YWx1ZXNcclxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vbG9vcCB0aHJvdWdoIHRhcmdldGVkIGVsZW1lbnRzXHJcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Ly9jdXJyZW50IHNlbGVjdCB0byBkZXN0cm95XHJcblx0XHRcdFx0dmFyICRvcmlnaW5hbFNlbGVjdCA9ICQodGhpcyk7XHJcblx0XHRcdFx0Ly9jb250cm9scyBpZiBzZWxlY3RNYW5pYSBpbml0aWFsaXplZFxyXG5cdFx0XHRcdGlmKEVuZ2luZS5jb250cm9sVGFyZ2V0KCRvcmlnaW5hbFNlbGVjdCwgWydpc0luaXRpYWxpemVkJ10pKSB7XHJcblx0XHRcdFx0XHQvL3VwZGF0ZSBzZWxlY3RNYW5pYVxyXG5cdFx0XHRcdFx0RW5naW5lLnVwZGF0ZSgkb3JpZ2luYWxTZWxlY3QpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBkZXN0cm95XHJcblxyXG5cdFx0Ly9kZXN0cm95IHNlbGVjdE1hbmlhXHJcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly9sb29wIHRocm91Z2ggdGFyZ2V0ZWQgZWxlbWVudHNcclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQvL2N1cnJlbnQgc2VsZWN0IHRvIGRlc3Ryb3lcclxuXHRcdFx0XHR2YXIgJG9yaWdpbmFsU2VsZWN0ID0gJCh0aGlzKTtcclxuXHRcdFx0XHQvL2NvbnRyb2xzIGlmIHNlbGVjdE1hbmlhIGluaXRpYWxpemVkXHJcblx0XHRcdFx0aWYoRW5naW5lLmNvbnRyb2xUYXJnZXQoJG9yaWdpbmFsU2VsZWN0LCBbJ2lzSW5pdGlhbGl6ZWQnXSkpIHtcclxuXHRcdFx0XHRcdC8vZGVzdHJveSBzZWxlY3RNYW5pYVxyXG5cdFx0XHRcdFx0RW5naW5lLmRlc3Ryb3koJG9yaWdpbmFsU2VsZWN0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgXHJcblxyXG4vLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4gY2hlY2tcclxuXHJcblx0XHQvL2NoZWNrIGlmIHNlbGVjdE1hbmlhIGluaXRpYWxpemVkXHJcblx0XHRjaGVjazogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vY29udHJvbHMgbWV0aG9kIHdhcyBjYWxsZWQgb24gc2luZ2xlIGVsZW1lbnRcclxuXHRcdFx0aWYoRW5naW5lLmNvbnRyb2xUYXJnZXQodGhpcywgWydpc1NpbmdsZSddKSkge1xyXG5cdFx0XHRcdC8vc2VuZCBiYWNrIGlmIHBsdWdpbiBpbml0aWFsaXplZCBvciBub3RcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5oYXNDbGFzcygnc2VsZWN0LW1hbmlhLW9yaWdpbmFsJyk7XHJcblx0XHRcdH1cclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGdldFxyXG5cclxuXHRcdC8vcmV0dXJucyBwYXJzZWQgc2VsZWN0ZWQgdmFsdWVzXHJcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvL2NvbnRyb2xzIGlmIHNpbmdsZSBlbGVtZW50IGFuZCBwbHVnaW4gaW5pdGlhbGl6ZWRcclxuXHRcdFx0aWYoRW5naW5lLmNvbnRyb2xUYXJnZXQodGhpcywgWydpc1NpbmdsZScsJ2lzSW5pdGlhbGl6ZWQnXSkpIHtcclxuXHRcdFx0XHQvL3NlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0XHR2YXIgJHNlbGVjdE1hbmlhRWwgPSB0aGlzLmRhdGEoJ3NlbGVjdE1hbmlhLWVsZW1lbnQnKTtcclxuXHRcdFx0XHQvL2dldCBhbmQgcmV0dXJuIHBhcnNlZCBzZWxlY3RlZCB2YWx1ZXNcclxuXHRcdFx0XHRyZXR1cm4gRW5naW5lLmdldFZhbCgkc2VsZWN0TWFuaWFFbCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IHNldFxyXG5cclxuXHRcdC8vc2V0IHBhcnNlZCB2YWx1ZXMgYXMgc2VsZWN0ZWQgdmFsdWVzXHJcblx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlcykge1xyXG5cdFx0XHQvL2NvbnRyb2xzIGlmIHNpbmdsZSBlbGVtZW50IGFuZCBwbHVnaW4gaW5pdGlhbGl6ZWRcclxuXHRcdFx0aWYoRW5naW5lLmNvbnRyb2xUYXJnZXQodGhpcywgWydpc1NpbmdsZScsJ2lzSW5pdGlhbGl6ZWQnXSkpIHtcclxuXHRcdFx0XHQvL2NvbnRyb2xzIHZhbHVlcyBhcmUgdmFsaWRcclxuXHRcdFx0XHRpZihFbmdpbmUuY29udHJvbFZhbHVlcyh0aGlzLCB2YWx1ZXMpKSB7XHJcblx0XHRcdFx0XHQvL3NlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9IHRoaXMuZGF0YSgnc2VsZWN0TWFuaWEtZWxlbWVudCcpO1xyXG5cdFx0XHRcdFx0Ly9nZXQgYW5kIHJldHVybiBwYXJzZWQgc2VsZWN0ZWQgdmFsdWVzXHJcblx0XHRcdFx0XHRFbmdpbmUuc2V0VmFsKCRzZWxlY3RNYW5pYUVsLCB2YWx1ZXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVx0XHRcdFx0XHRcclxuXHRcdH0sIFxyXG5cclxuLy8gfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+IGNsZWFyXHJcblxyXG5cdFx0Ly9jbGVhciB2YWx1ZXNcclxuXHRcdGNsZWFyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly9sb29wIHRocm91Z2ggdGFyZ2V0ZWQgZWxlbWVudHNcclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQvL2N1cnJlbnQgc2VsZWN0IHRvIGRlc3Ryb3lcclxuXHRcdFx0XHR2YXIgJG9yaWdpbmFsU2VsZWN0ID0gJCh0aGlzKTtcclxuXHRcdFx0XHQvL2NvbnRyb2xzIGlmIHBsdWdpbiBpbml0aWFsaXplZFxyXG5cdFx0XHRcdGlmKEVuZ2luZS5jb250cm9sVGFyZ2V0KCRvcmlnaW5hbFNlbGVjdCwgWydpc0luaXRpYWxpemVkJ10pKSB7XHJcblx0XHRcdFx0XHQvL3NlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9ICRvcmlnaW5hbFNlbGVjdC5kYXRhKCdzZWxlY3RNYW5pYS1lbGVtZW50Jyk7XHJcblx0XHRcdFx0XHQvL2NsZWFyIHZhbHVlc1xyXG5cdFx0XHRcdFx0RW5naW5lLmNsZWFyKCRzZWxlY3RNYW5pYUVsKTtcclxuXHRcdFx0XHRcdC8vdHJpZ2dlciBvcmlnaW5hbCBzZWxlY3QgY2hhbmdlIGV2ZW50XHJcblx0XHRcdFx0XHQkb3JpZ2luYWxTZWxlY3QudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHRcdFx0XHQvL3VwZGF0ZSBjbGVhciB2YWx1ZXMgaWNvbiBkaXNwbGF5XHJcblx0XHRcdFx0XHRFbmdpbmUudXBkYXRlQ2xlYW4oJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9LCBcclxuXHJcbi8vIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fiBzZXR1cFxyXG5cclxuXHRcdC8vc2V0dXAgZGVmYXVsdCBzZXR0aW5ncyB2YWx1ZXNcclxuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly9sb29wIHRocm91Z2ggdGFyZ2V0ZWQgZWxlbWVudHNcclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQvL2N1cnJlbnQgc2VsZWN0IHRvIGRlc3Ryb3lcclxuXHRcdFx0XHR2YXIgJG9yaWdpbmFsU2VsZWN0ID0gJCh0aGlzKTtcclxuXHRcdFx0XHQvL2NvbnRyb2xzIGlmIHBsdWdpbiBpbml0aWFsaXplZFxyXG5cdFx0XHRcdGlmKEVuZ2luZS5jb250cm9sVGFyZ2V0KCRvcmlnaW5hbFNlbGVjdCwgWydpc0luaXRpYWxpemVkJ10pKSB7XHJcblx0XHRcdFx0XHQvL3NlbGVjdE1hbmlhIGVsZW1lbnRcclxuXHRcdFx0XHRcdHZhciAkc2VsZWN0TWFuaWFFbCA9ICRvcmlnaW5hbFNlbGVjdC5kYXRhKCdzZWxlY3RNYW5pYS1lbGVtZW50Jyk7XHJcblx0XHRcdFx0XHQvL2NsZWFyIHZhbHVlc1xyXG5cdFx0XHRcdFx0RW5naW5lLmNsZWFyKCRzZWxlY3RNYW5pYUVsKTtcclxuXHRcdFx0XHRcdC8vdHJpZ2dlciBvcmlnaW5hbCBzZWxlY3QgY2hhbmdlIGV2ZW50XHJcblx0XHRcdFx0XHQkb3JpZ2luYWxTZWxlY3QudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHRcdFx0XHQvL3VwZGF0ZSBjbGVhciB2YWx1ZXMgaWNvbiBkaXNwbGF5XHJcblx0XHRcdFx0XHRFbmdpbmUudXBkYXRlQ2xlYW4oJHNlbGVjdE1hbmlhRWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG4vLyBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAIC8vXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBIQU5ETEVSIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuLy8gQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQCAvL1xyXG5cclxuXHQvL3BsdWdpbiBtZXRob2RzIGhhbmRsZXJcclxuXHQkLmZuLnNlbGVjdE1hbmlhID0gZnVuY3Rpb24obWV0aG9kT3JPcHRzKSB7XHJcblx0XHQvL3N0b3AgcmlnaHQgYXdheSBpZiB0YXJnZXRlZCBlbGVtZW50IGVtcHR5XHJcblx0XHRpZih0aGlzLmxlbmd0aCA8IDEpIHsgcmV0dXJuOyB9XHJcblx0XHQvL2NhbGwgbWV0aG9kXHJcblx0XHRpZihNZXRob2RzW21ldGhvZE9yT3B0c10pIHtcclxuXHRcdFx0Ly9yZW1vdmUgbWV0aG9kIG5hbWUgZnJvbSBjYWxsIGFyZ3VtZW50c1xyXG5cdFx0XHR2YXIgc2xpY2VkQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHRcdFx0Ly9jYWxsIHRhcmdldGVkIG1hdGhvZCB3aXRoIGFyZ3VtZW50c1xyXG5cdFx0XHRyZXR1cm4gTWV0aG9kc1ttZXRob2RPck9wdHNdLmFwcGx5KHRoaXMsIHNsaWNlZEFyZ3VtZW50cyk7XHJcblx0XHR9XHJcblx0XHQvL2NhbGwgaW5pdFxyXG5cdFx0ZWxzZSBpZih0eXBlb2YgbWV0aG9kT3JPcHRzID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kT3JPcHRzKSB7XHJcblx0XHRcdC8vY2FsbCBpbml0IHdpdGggYXJndW1lbnRzXHJcblx0XHRcdHJldHVybiBNZXRob2RzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdH1cclxuXHRcdC8vZXJyb3JcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRjb25zb2xlLmVycm9yKCdzZWxlY3RNYW5pYSB8IHdyb25nIG1ldGhvZCBjYWxsZWQnKTtcclxuXHRcdFx0Y29uc29sZS5sb2codGhpcyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly9wbHVnaW4gc2V0dXAgaGFuZGxlclxyXG5cdCQuZXh0ZW5kKHtcclxuXHRcdHNlbGVjdE1hbmlhU2V0dXA6IGZ1bmN0aW9uKG9wdHMpIHtcclxuXHRcdFx0Ly9zZXQgZGVmYXVsdCBzZXR0aW5ncyB2YWx1ZXNcclxuXHRcdFx0RGF0YS5zZXR1cChvcHRzKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cclxuXHJcblxyXG4oZnVuY3Rpb24oYSl7YS5mbi5jaXJjbGlmdWw9ZnVuY3Rpb24oYixkKXt2YXIgYz1hLmV4dGVuZCh7Zmdjb2xvcjpcIiM1NTZiMmZcIixiZ2NvbG9yOlwiI2VlZVwiLGZpbGw6ZmFsc2Usd2lkdGg6MTUsZGltZW5zaW9uOjIwMCxmb250c2l6ZToxNSxwZXJjZW50OjUwLGFuaW1hdGlvbnN0ZXA6MSxpY29uc2l6ZTpcIjIwcHhcIixpY29uY29sb3I6XCIjOTk5XCIsYm9yZGVyOlwiZGVmYXVsdFwiLGNvbXBsZXRlOm51bGx9LGIpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdz1bXCJmZ2NvbG9yXCIsXCJiZ2NvbG9yXCIsXCJmaWxsXCIsXCJ3aWR0aFwiLFwiZGltZW5zaW9uXCIsXCJmb250c2l6ZVwiLFwiYW5pbWF0aW9uc3RlcFwiLFwiZW5kUGVyY2VudFwiLFwiaWNvblwiLFwiaWNvbmNvbG9yXCIsXCJpY29uc2l6ZVwiLFwiYm9yZGVyXCJdO3ZhciBmPXt9O3ZhciBGPVwiXCI7dmFyIG49MDt2YXIgdD1hKHRoaXMpO3ZhciBBPWZhbHNlO3ZhciB2LEc7dC5hZGRDbGFzcyhcImNpcmNsaWZ1bFwiKTtlKHQpO2lmKHQuZGF0YShcInRleHRcIikhPXVuZGVmaW5lZCl7dj10LmRhdGEoXCJ0ZXh0XCIpO2lmKHQuZGF0YShcImljb25cIikhPXVuZGVmaW5lZCl7Rj1hKFwiPGk+PC9pPlwiKS5hZGRDbGFzcyhcImZhIFwiK2EodGhpcykuZGF0YShcImljb25cIikpLmNzcyh7Y29sb3I6Zi5pY29uY29sb3IsXCJmb250LXNpemVcIjpmLmljb25zaXplfSl9aWYodC5kYXRhKFwidHlwZVwiKSE9dW5kZWZpbmVkKXtqPWEodGhpcykuZGF0YShcInR5cGVcIik7aWYoaj09XCJoYWxmXCIpe3ModCxcImNpcmNsZS10ZXh0LWhhbGZcIiwoZi5kaW1lbnNpb24vMS40NSkpfWVsc2V7cyh0LFwiY2lyY2xlLXRleHRcIixmLmRpbWVuc2lvbil9fWVsc2V7cyh0LFwiY2lyY2xlLXRleHRcIixmLmRpbWVuc2lvbil9fWlmKGEodGhpcykuZGF0YShcInRvdGFsXCIpIT11bmRlZmluZWQmJmEodGhpcykuZGF0YShcInBhcnRcIikhPXVuZGVmaW5lZCl7dmFyIEk9YSh0aGlzKS5kYXRhKFwidG90YWxcIikvMTAwO3BlcmNlbnQ9KChhKHRoaXMpLmRhdGEoXCJwYXJ0XCIpL0kpLzEwMCkudG9GaXhlZCgzKTtuPShhKHRoaXMpLmRhdGEoXCJwYXJ0XCIpL0kpLnRvRml4ZWQoMyl9ZWxzZXtpZihhKHRoaXMpLmRhdGEoXCJwZXJjZW50XCIpIT11bmRlZmluZWQpe3BlcmNlbnQ9YSh0aGlzKS5kYXRhKFwicGVyY2VudFwiKS8xMDA7bj1hKHRoaXMpLmRhdGEoXCJwZXJjZW50XCIpfWVsc2V7cGVyY2VudD1jLnBlcmNlbnQvMTAwfX1pZihhKHRoaXMpLmRhdGEoXCJpbmZvXCIpIT11bmRlZmluZWQpe0c9YSh0aGlzKS5kYXRhKFwiaW5mb1wiKTtpZihhKHRoaXMpLmRhdGEoXCJ0eXBlXCIpIT11bmRlZmluZWQpe2o9YSh0aGlzKS5kYXRhKFwidHlwZVwiKTtpZihqPT1cImhhbGZcIil7RCh0LDAuOSl9ZWxzZXtEKHQsMS4yNSl9fWVsc2V7RCh0LDEuMjUpfX1hKHRoaXMpLndpZHRoKGYuZGltZW5zaW9uK1wicHhcIik7dmFyIGk9YShcIjxjYW52YXM+PC9jYW52YXM+XCIpLmF0dHIoe3dpZHRoOmYuZGltZW5zaW9uLGhlaWdodDpmLmRpbWVuc2lvbn0pLmFwcGVuZFRvKGEodGhpcykpLmdldCgwKTt2YXIgZz1pLmdldENvbnRleHQoXCIyZFwiKTt2YXIgcj1pLndpZHRoLzI7dmFyIHE9aS5oZWlnaHQvMjt2YXIgQz1mLnBlcmNlbnQqMzYwO3ZhciBIPUMqKE1hdGguUEkvMTgwKTt2YXIgbD1pLndpZHRoLzIuNTt2YXIgQj0yLjMqTWF0aC5QSTt2YXIgej0wO3ZhciBFPWZhbHNlO3ZhciBvPWYuYW5pbWF0aW9uc3RlcD09PTA/bjowO3ZhciBwPU1hdGgubWF4KGYuYW5pbWF0aW9uc3RlcCwwKTt2YXIgdT1NYXRoLlBJKjI7dmFyIGg9TWF0aC5QSS8yO3ZhciBqPVwiXCI7dmFyIGs9dHJ1ZTtpZihhKHRoaXMpLmRhdGEoXCJ0eXBlXCIpIT11bmRlZmluZWQpe2o9YSh0aGlzKS5kYXRhKFwidHlwZVwiKTtpZihqPT1cImhhbGZcIil7Qj0yKk1hdGguUEk7ej0zLjEzO3U9TWF0aC5QSSoxO2g9TWF0aC5QSS8wLjk5Nn19ZnVuY3Rpb24gcyhKLHgseSl7YShcIjxzcGFuPjwvc3Bhbj5cIikuYXBwZW5kVG8oSikuYWRkQ2xhc3MoeCkudGV4dCh2KS5wcmVwZW5kKEYpLmNzcyh7XCJsaW5lLWhlaWdodFwiOnkrXCJweFwiLFwiZm9udC1zaXplXCI6Zi5mb250c2l6ZStcInB4XCJ9KX1mdW5jdGlvbiBEKHkseCl7YShcIjxzcGFuPjwvc3Bhbj5cIikuYXBwZW5kVG8oeSkuYWRkQ2xhc3MoXCJjaXJjbGUtaW5mby1oYWxmXCIpLmNzcyhcImxpbmUtaGVpZ2h0XCIsKGYuZGltZW5zaW9uKngpK1wicHhcIil9ZnVuY3Rpb24gZSh4KXthLmVhY2godyxmdW5jdGlvbih5LEope2lmKHguZGF0YShKKSE9dW5kZWZpbmVkKXtmW0pdPXguZGF0YShKKX1lbHNle2ZbSl09YShjKS5hdHRyKEopfWlmKEo9PVwiZmlsbFwiJiZ4LmRhdGEoXCJmaWxsXCIpIT11bmRlZmluZWQpe0E9dHJ1ZX19KX1mdW5jdGlvbiBtKHgpe2cuY2xlYXJSZWN0KDAsMCxpLndpZHRoLGkuaGVpZ2h0KTtnLmJlZ2luUGF0aCgpO2cuYXJjKHIscSxsLHosQixmYWxzZSk7Zy5saW5lV2lkdGg9Zi53aWR0aCsxO2cuc3Ryb2tlU3R5bGU9Zi5iZ2NvbG9yO2cuc3Ryb2tlKCk7aWYoQSl7Zy5maWxsU3R5bGU9Zi5maWxsO2cuZmlsbCgpfWcuYmVnaW5QYXRoKCk7Zy5hcmMocixxLGwsLShoKSwoKHUpKngpLWgsZmFsc2UpO2lmKGYuYm9yZGVyPT1cIm91dGxpbmVcIil7Zy5saW5lV2lkdGg9Zi53aWR0aCsxM31lbHNle2lmKGYuYm9yZGVyPT1cImlubGluZVwiKXtnLmxpbmVXaWR0aD1mLndpZHRoLTEzfX1nLnN0cm9rZVN0eWxlPWYuZmdjb2xvcjtnLnN0cm9rZSgpO2lmKG88bil7bys9cDtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXttKE1hdGgubWluKG8sbikvMTAwKX0sdCl9aWYobz09biYmayYmdHlwZW9mKGIpIT1cInVuZGVmaW5lZFwiKXtpZihhLmlzRnVuY3Rpb24oYi5jb21wbGV0ZSkpe2IuY29tcGxldGUoKTtrPWZhbHNlfX19bShvLzEwMCl9KX19KGpRdWVyeSkpOyIsIi8v0LjQt9C80LXQvdC10L3QuNGPINCyIGluZGV4LmpzXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL9GE0YPQvdC60YbQuNGPIHVwZGF0ZV9ibG9jayDQuNC30LzQtdC90LjQu9Cw0YHRjFxyXG5cclxuXHJcblxyXG5cclxudmFyIGRhdGVfZ3JhZiA9IGZ1bmN0aW9uKCkge1xyXG5cdFxyXG5cdFxyXG5cdGlmKCQoJyNkYXRlX2hpZGRlbl90YWJsZV9ncjEnKS52YWwoKT4kKCcjZGF0ZV9oaWRkZW5fdGFibGVfZ3IyJykudmFsKCkpXHJcblx0XHR7XHJcblx0XHRcdFxyXG5cdFx0XHQkKCcjZGF0ZV9oaWRkZW5fdGFibGVfZ3IyJykudmFsKCcnKTtcclxuXHRcdFx0JCgnI2RhdGVfdGFibGVfZ3IyJykudmFsKCcnKTtcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFxyXG5cdFxyXG59XHJcblxyXG5cclxuLy/RgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDRgNCw0LHQvtGC0YMg0LIg0YDQsNC30LTQtdC70LUg0LIg0YHQtdCx0LXRgdGC0L7QuNC80L7RgdGC0LhcclxudmFyIGVkaXRfZ3JhZmlrX2NsaWNrID0gZnVuY3Rpb24oKSB7XHJcblx0XHJcbmlmICggJCh0aGlzKS5pcyhcIltmb3JdXCIpIClcclxue1xyXG5cdGlmKCQuaXNOdW1lcmljKCQodGhpcykuYXR0cihcImZvclwiKSkpXHJcblx0e1xyXG4gICQuYXJjdGljbW9kYWwoe1xyXG4gICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgdXJsOiAnZm9ybXMvZm9ybV9lZGl0X2dyYWZpYy5waHA/aWQ9JyskKHRoaXMpLmF0dHIoXCJmb3JcIiksXHJcbiAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICB9LFxyXG4gICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgfSxcclxuXHRhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuXHRjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxufVxyXG5cdFxyXG59XHJcbiAgXHJcbnJldHVybiBmYWxzZTtcclxuXHJcblx0XHJcblx0fTsiLCIkKGZ1bmN0aW9uICgpIHtcclxuXHJcblxyXG4gICAgd2lkdGhfYXV0b19pbnB1dCgpO1xyXG5cclxuXHJcbiAgICB2YXIgJGlucHV0ID0gJCgnLmpzLWlucHV0LXdpZHRoLWF1dG8nKSxcclxuICAgICAgICAkYnVmZmVyID0gJCgnLmlucHV0LWJ1ZmZlcicpO1xyXG5cclxuICAgICRpbnB1dC5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJGJ1ZmZlci50ZXh0KCRpbnB1dC52YWwoKSk7XHJcbiAgICAgICAgJGlucHV0LndpZHRoKCRidWZmZXIud2lkdGgoKSk7XHJcbiAgICB9KTtcclxuXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gd2lkdGhfYXV0b19pbnB1dCgpXHJcbntcclxuICAgICQoJy5qcy1pbnB1dC13aWR0aC1hdXRvJykuZWFjaChmdW5jdGlvbihpLGVsZW0pXHJcbiAgICB7XHJcbiAgICAgICAgJCh0aGlzKS5hZnRlcignPGRpdiBjbGFzcz1cImlucHV0LWJ1ZmZlclwiPjwvZGl2PicpO1xyXG5cclxuICAgIH0pO1xyXG59IiwiJChmdW5jdGlvbiAoKXtcclxuXHJcblxyXG4gICAgLy/QutC70LjQutC90YPRgtGMINC90LAg0YfRgtC+INGC0L4g0LIg0YDQsNGB0LrRgNGL0LLQsNGO0YnQtdC8INC80LXQvdGOINGC0L7Rh9C60LhcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcubWVudV9qanMgLmpzLW1lbnUtampzLWItaW52b2ljZScsbWVudWJ1dHRjbGlja19pbnZvaWNlKTtcclxuXHJcblxyXG4gICAgLy/QutC70LjQutC90YPRgtGMINC90LAg0YfRgtC+INGC0L4g0LIg0YDQsNGB0LrRgNGL0LLQsNGO0YnQtdC8INC80LXQvdGOINGC0L7Rh9C60LhcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcubWVudV9qanMgLmpzLW1lbnUtampzLWItaXRlbScsbWVudV9pdGVtKTtcclxuXHJcblxyXG4gICAgLy/QuNC30LzQtdC90LjRgtGMINC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1pbnZvaWNlLWVkaXQnLGpzX2VkaXRfaW52b2ljZSk7XHJcblxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1pbmZvLWludm9pY2UnLGRvY19pbnZvaWNlKTtcclxuICAgIC8v0L3QsNC20LDRgtC40LUg0L3QsCDQstC60LvQsNC00LrRgyDQsiDRhNC+0YDQvNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L4g0L7QsdGK0LXQutGC0YNcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtdGFicy1pbnZvaWNlJyx0YWJzX2ludm9pY2UpO1xyXG5cclxuICAgIC8v0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWludm9pY2UtZGVsJyxqc19pbnZvaWNlX2RlbCk7XHJcblxyXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWFkZC1pbnZvaWNlJyxqc19hZGRfaW52b2ljZSk7XHJcblxyXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0L7QsdGK0LXQutGCINC80LXQvdGOINGB0LvQtdCy0LBcclxuICAgICQoJy5tZW51X3gnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLWludm9pY2UtYWRkMFwiLCBqc19hZGRfaW52b2ljZSk7XHJcblxyXG4gICAgLy/QvdCw0LHQvtGAINGC0LXQutGB0YLQsCDQsiDQv9C+0LjRgdC60LVcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtdGV4dC1zZWFyY2gtaW52b2ljZScsY2hhbmdlc29ydF9zdG9jazJfaW52b2ljZSk7XHJcblxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICog0LrQu9C40LrQvdGD0YLRjCDQvdCwINGH0YLQviDRgtC+INCyINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LXQvCDQvNC10L3RjiDRgtC+0YfQutC4XHJcbiAgICAgKi9cclxuXHJcbiAgICBmdW5jdGlvbiBtZW51YnV0dGNsaWNrX2ludm9pY2UoZXZlbnQpXHJcbiAgICB7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cclxuICAgICAgICB2YXIgcmVsPSQodGhpcykuZmluZCgnYScpLmF0dHIoJ21ha2UnKTtcclxuXHJcbiAgICAgICAgaWYocmVsPT0nZWRpdCcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL9C40LfQvNC10L3QuNGC0YxcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy5ibG9ja19wYXNzJykuYXR0cigncGFzc19yZWwnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICAgICAgICAgIHVybDogJ2Zvcm1zL2ludm9pY2UvZm9ybV9lZGl0X2ludm9pY2UucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihyZWw9PSdkZWxsJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8v0LjQt9C80LXQvdC40YLRjFxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmJsb2NrX3Bhc3MnKS5hdHRyKCdwYXNzX3JlbCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblxyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICAgICAgICAgIHVybDogJ2Zvcm1zL2ludm9pY2UvZm9ybV9kZWxsX2ludm9pY2UucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIC8v0LLRi9Cx0L7RgCDQsiDQvNC10L3RjyDQv9C+0LjRgdC60LAg0LIg0LrQu9C40LXQvdGC0LVcclxuICAgIHZhciBjaGFuZ2Vzb3J0MWludm9pY2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cclxuICAgICAgICAkLmNvb2tpZShcImluXzFjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuICAgICAgICBDb29raWVMaXN0KFwiaW5fMWNcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblxyXG4gICAgfTtcclxuICAgICQoJyNzZWFyY2hfaW52b2ljZV8xJykuYmluZCgnY2hhbmdlJywgY2hhbmdlc29ydDFpbnZvaWNlKTtcclxuXHJcbiAgICAvL9Cy0YvQsdC+0YAg0LIg0LzQtdC90Y8g0L/QvtC40YHQutCwINCyINC60LvQuNC10L3RgtC1XHJcbiAgICB2YXIgY2hhbmdlc29ydDNpbnZvaWNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHJcbiAgICAgICAgJC5jb29raWUoXCJpbl8zY1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcbiAgICAgICAgQ29va2llTGlzdChcImluXzNjXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuICAgIH07XHJcbiAgICAkKCcjc2VhcmNoX2ludm9pY2VfMycpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQzaW52b2ljZSk7XHJcblxyXG5cclxuXHJcbiAgICAvL9Cy0YvQsdC+0YAg0LIg0LzQtdC90Y8g0L/QvtC40YHQutCwINCyINC60LvQuNC10L3RgtC1XHJcbiAgICB2YXIgY2hhbmdlc29ydDJpbnZvaWNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHJcbiAgICAgICAgJC5jb29raWUoXCJpbl8yY1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcbiAgICAgICAgQ29va2llTGlzdChcImluXzJjXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuICAgIH07XHJcbiAgICAkKCcjc2VhcmNoX2ludm9pY2VfMicpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQyaW52b2ljZSk7XHJcblxyXG4gICAgLy/QstCy0L7QtCDQsiDQv9C+0LjRgdC60LVcclxuXHJcbiAgICB2YXIgY2hhbmdlc29ydDdpbnZvaWNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuICAgICAgICAkLmNvb2tpZShcImluXzdjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuICAgICAgICBDb29raWVMaXN0KFwiaW5fN2NcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuXHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgJCgnI25hbWVfc3RvY2tfc2VhcmNoX2ludm9pY2UnKS5iaW5kKCdjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2snLCBjaGFuZ2Vzb3J0N2ludm9pY2UpO1xyXG5cclxuXHJcbiAgICAvL9C60YDQtdGB0YLQuNC6INC/0YDQuCDQv9C+0LjRgdC60LUg0LIg0LrQu9C40LXQvdGC0LDRhSDRh9Cw0YHRgtC90YvQtSDQu9C40YbQsFxyXG4gICAgdmFyIGNoYW5nZXNvcnRfc3RvY2syX19pbnZvaWNlPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG4gICAgICAgICQodGhpcykucHJldigpLnZhbCgnJyk7XHJcbiAgICAgICAgJC5jb29raWUoXCJpbl83Y1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykucmVtb3ZlQ2xhc3MoJ2dyZWVpX2lucHV0Jyk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykuZmluZCgnaW5wdXQnKS5yZW1vdmVBdHRyKCdyZWFkb25seScpO1xyXG5cclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblxyXG4gICAgICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuLy/Rg9C00LDQu9C40YLRjCDQv9C+0LjRgdC6INC/0L4g0YLQtdC60YHRgtGDINCyINC60LvQuNC10L3RgtCw0YVcclxuICAgICQoJy5kZWxsX3N0b2NrX3NlYXJjaF9pbnZvaWNlJykuYmluZCgnY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrJywgY2hhbmdlc29ydF9zdG9jazJfX2ludm9pY2UpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLypcclxuICog0LrQu9C40LrQvdGD0YLRjCDQvdCwINGH0YLQviDRgtC+INCyINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LXQvCDQvNC10L3RjiDRgtC+0YfQutC4XHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbWVudV9pdGVtKGV2ZW50KVxyXG57XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICB2YXIgcmVsPSQodGhpcykuZmluZCgnYScpLmF0dHIoJ21ha2UnKTtcclxuXHJcbiAgICBpZihyZWw9PSdlZGl0JylcclxuICAgIHtcclxuICAgICAgICAvL9C40LfQvNC10L3QuNGC0YxcclxuICAgICAgICAvKlxyXG4gICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy5qcy1pdGVtcy1ibG9jaycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgICAgIHVybDogJ2Zvcm1zL2l0ZW1zL2Zvcm1fZWRpdF9pdGVtcy5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/Qv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4XHJcbiAgICAgICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcbiAgICBpZihyZWw9PSdkZWxsJylcclxuICAgIHtcclxuICAgICAgICAvL9C40LfQvNC10L3QuNGC0YxcclxuICAgICAgICAvKlxyXG4gICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmpzLWl0ZW1zLWJsb2NrJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9pdGVtcy9mb3JtX2RlbGxfaXRlbXMucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYocmVsPT0nZGVsbF9kZXZpY2UnKVxyXG4gICAge1xyXG4gICAgICAgIC8v0LjQt9C80LXQvdC40YLRjFxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuanMtaXRlbXMtYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9pdGVtcy9mb3JtX2l0ZW1zX3JlbW92ZV9mcm9tX2RldmljZS5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/Qv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4XHJcbiAgICAgICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZihyZWw9PSdkZXZpY2VzJylcclxuICAgIHtcclxuXHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuanMtaXRlbXMtYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuLy/QtNC+0LHQsNCy0LvRj9C10Lwg0LIg0LrQvtGA0LfQuNC90YNcclxuICAgICAgICBCYXNrZXRJdGVtc0FkZChpZF9idXksJCh0aGlzKSk7XHJcblxyXG4gICAgfVxyXG4gICAgaWYocmVsPT0nbm9fYmFza2V0JylcclxuICAgIHtcclxuXHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmpzLWl0ZW1zLWJsb2NrJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbi8v0LTQvtCx0LDQstC70Y/QtdC8INCyINC60L7RgNC30LjQvdGDXHJcbiAgICAgICAgQmFza2V0SXRlbXNBZGQoaWRfYnV5LCQodGhpcykpO1xyXG5cclxuICAgICAgICAvL9Cy0LTRgNGD0LMg0LzRiyDQsiDQstGL0LLQvtC00LUg0LrQvtGA0LfQuNC90Ysg0YLQvtCz0LTQsCDRg9C00LDQu9C40YLRjCDQtdCz0L4g0L7RgtGC0YPQtNCwINC4INCy0YHQtSDQv9C10YDQtdGB0YfQuNGC0LDRgtGMXHJcbiAgICAgICAgJCgnLml0ZW1zX2Jsb2NrX3Bhc3NfYmFza2V0W29wX3JlbD0nK2lkX2J1eSsnXScpLnNsaWRlVXAoXCJzbG93XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnLml0ZW1zX2Jsb2NrX3Bhc3NfYmFza2V0W29wX3JlbD0nK2lkX2J1eSsnXScpLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHJcbiAgICAgICAgaWYodHlwZW9mKGl1KSA9PT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpdT0kKCcudXNlcnNfcnVsZScpLmF0dHIoJ2l1Jyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2FsZXJ0KGl1KTtcclxuICAgICAgICB2YXIgY29va2llX25ldyA9ICQuY29va2llKCdiYXNrZXRfaXRlbV8nK2l1KTtcclxuXHJcbiAgICAgICAgaWYoKGNvb2tpZV9uZXc9PScnKXx8KGNvb2tpZV9uZXc9PW51bGwpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCggJy5hcmN0aWNtb2RhbC1jbG9zZScsICQoJy5qcy1mb3JtMicpLmNsb3Nlc3QoICcuYm94LW1vZGFsJyApKS5jbGljaygpO1xyXG4gICAgICAgICAgICB2YXIgY291bnRzPTA7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNjID0gY29va2llX25ldy5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICB2YXIgY291bnRzPWNjLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJy5jb3VudC1iYXNrZXQtaXRlbXMnKS5maW5kKCdpJykuZW1wdHkoKS5hcHBlbmQoY291bnRzKTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLypcclxuICog0LrQu9C40LrQvdGD0YLRjCDQvdCwINGH0YLQviDRgtC+INCyINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LXQvCDQvNC10L3RjiDRgtC+0YfQutC4XHJcbiAqL1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBjaGFuZ2Vzb3J0X3N0b2NrMl9pbnZvaWNlKCkge1xyXG4gICAgLy9hbGVydChcIjFcIik7XHJcbiAgICBpZigkKHRoaXMpLnZhbCgpIT0nJylcclxuICAgIHtcclxuICAgICAgICAkKHRoaXMpLm5leHQoKS5zaG93KCk7XHJcbiAgICAgICAgLy/RgdC60YDRi9GC0Ywg0LTRgNGD0LPQuNC1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC40YHQutCwXHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykuYWRkQ2xhc3MoJ2dyZWVpX2lucHV0Jyk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykuZmluZCgnaW5wdXQnKS5wcm9wKCdyZWFkb25seScsdHJ1ZSk7XHJcblxyXG4gICAgfWVsc2VcclxuICAgIHtcclxuICAgICAgICAkKHRoaXMpLm5leHQoKS5oaWRlKCk7XHJcbiAgICAgICAgLy/Qv9C+0LrQsNC30LDRgtGMINC00YDRg9Cz0LjQtSDRjdC70LXQvNC10L3RgtGLINC/0L7QuNGB0LrQsFxyXG4gICAgICAgICQoJy5qcy0tc29ydCcpLnJlbW92ZUNsYXNzKCdncmVlaV9pbnB1dCcpO1xyXG4gICAgICAgICQoJy5qcy0tc29ydCcpLmZpbmQoJ2lucHV0JykucmVtb3ZlQXR0cigncmVhZG9ubHknKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuLyrRgtCw0LHRgdGLINCyINC+0LrQvdC1INC+0LEg0L7QsdGK0LXQutGC0LVcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhYnNfaW52b2ljZSgpIHtcclxuICAgIC8vYWxlcnQoXCIhXCIpO1xyXG4gICAgdmFyIHVvbz0kKHRoaXMpLmF0dHIoXCJpZFwiKTtcclxuICAgIGlmICggJCh0aGlzKS5pcyhcIi5hY3RpdmVcIikgKVxyXG4gICAge1xyXG4gICAgICAgIC8v0YPQttC1INCw0LrRgtC40LLQvdCw0Y8g0LLQutC70LDQtNC60LBcclxuICAgIH0gZWxzZVxyXG4gICAge1xyXG4gICAgICAgICQoJy5qcy1jbG91ZC1pbmZvLXRleHQnKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IG1hcmdpbi1ib3R0b206IDMwcHg7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgJCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy5qcy10YWJzLWludm9pY2UnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy5qcy10YWJzLWludm9pY2VbaWQ9Jyt1b28rJ10nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIC8vdmFyIGtleV89JzAwMlUnO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZF90YWJzPScrJCh0aGlzKS5hdHRyKFwiaWRcIikrXHJcbiAgICAgICAgICAgICcmdGs9JyskKCcuYm94LW1vZGFsIC5nbG9hYi1jYycpLmF0dHIoJ21vcicpK1xyXG4gICAgICAgICAgICAnJmlkPScrJCgnLmJveC1tb2RhbCAuZ2xvYWItY2MnKS5hdHRyKCdmb3InKTtcclxuXHJcblxyXG5cclxuICAgICAgICAvL2FsZXJ0KGRhdGEpO1xyXG4gICAgICAgIEFqYXhDbGllbnQoJ2ludm9pY2UnLCd0YWJzX2luZm8nLCdHRVQnLGRhdGEsJ0FmdGVyVGFic0luZm9pbnZvaWNlJywkKHRoaXMpLmF0dHIoXCJpZFwiKSwwKTtcclxuICAgIH1cclxufVxyXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INCe0YLQtNC10LvQsFxyXG5mdW5jdGlvbiBpbnZvaWNlX2FkZHMoKVxyXG57XHJcbiAgICBpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy92YXIgYXQ9ICQodGhpcykuYXR0cigndGFic19nJyk7XHJcblxyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9pbnZvaWNlL2Zvcm1fYWRkX2ludm9pY2UucGhwJyxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKirQstGL0LLQvtC0INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L4g0L7QsdGK0LXQutGC0YNcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGRvY19pbnZvaWNlKGV2ZW50KVxyXG57XHJcblxyXG5cclxuICAgICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XHJcbiAgICAvL9C10YHQu9C4INGN0YLQviDQvdC1INC90LDQttCw0YLQuNC1INC90LAg0LrQvdC+0L/QutC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINGD0LTQsNC70LjRgtGMINGC0L4g0L7RgtC60YDRi9GC0LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuFxyXG4gICAgaWYgKCghJHRhcmdldC5oYXNDbGFzcygnanMtaW52b2ljZS1kZWwnKSkmJighJHRhcmdldC5oYXNDbGFzcygnanMtaW52b2ljZS1lZGl0JykpKSB7XHJcblxyXG4gICAgICAgIC8vdmFyIGZvcl9pZCA9ICQodGhpcykucGFyZW50cygnLmpzLWludm9pY2UtYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICBpZigkKHRoaXMpLnBhcmVudHMoJy5qcy1pbnZvaWNlLWJsb2NrJykuaXMoJ1tvcF9yZWxdJykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgZm9yX2lkID0gJCh0aGlzKS5wYXJlbnRzKCcuanMtaW52b2ljZS1ibG9jaycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGZvcl9pZCA9ICQodGhpcykuYXR0cignb3BfcmVsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYoKGZvcl9pZCE9bnVsbCkmJihmb3JfaWQhPScnKSYmKGZvcl9pZCE9MCkpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICAgICAgICAgIHVybDogJ2Zvcm1zL2ludm9pY2UvZm9ybV9kb2NfaW52b2ljZS5waHA/aWQ9JyArIGZvcl9pZCArICcmdGFicz0wJyxcclxuICAgICAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiDQtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0L7QsdGK0LXQutGCXHJcbiAqKi9cclxuZnVuY3Rpb24ganNfYWRkX2ludm9pY2UoKVxyXG57XHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvaW52b2ljZS9mb3JtX2FkZF9pbnZvaWNlLnBocCcsXHJcbiAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICog0LjQt9C80LXQvdC40YLRjCDQntCx0YrQtdC60YLQsFxyXG4gKi9cclxuZnVuY3Rpb24ganNfZWRpdF9pbnZvaWNlKGV2ZW50KVxyXG57XHJcbiAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgfVxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgIHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy5pbnZvaWNlX2Jsb2NrX3Bhc3MnKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgIH1cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9pbnZvaWNlL2Zvcm1fZWRpdF9pbnZvaWNlLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24gKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcblxyXG4vKipcclxuICog0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19pbnZvaWNlX2RlbChldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuaW52b2ljZV9ibG9ja19wYXNzJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL2ludm9pY2UvZm9ybV9kZWxsX2ludm9pY2UucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbn0iLCIvL9GD0LTQsNC70LjRgtGMINC+0LHRitC10LrRgiDRgSDQv9GA0L7QstC10YDQutC+0Lkg0LIg0YTQvtGA0LzQtVxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCdib2R5Jykub24oXCJkYmxjbGlja1wiLCAnLmpzLXNlbGVjdC1pdGVtcycsIGFkZF9pdCk7XHJcblxyXG4gICAgLy/QvdCw0LHQvtGAINGC0LXQutGB0YLQsCDQsiDQv9C+0LjRgdC60LVcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtdGV4dC1zZWFyY2gtaXRlbXMnLGNoYW5nZXNvcnRfc3RvY2syX2l0ZW1zKTtcclxuXHJcblxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1pbmZvLWl0ZW1zJyxkb2NfaXRlbXMpO1xyXG4gICAgLy/QvdCw0LbQsNGC0LjQtSDQvdCwINCy0LrQu9Cw0LTQutGDINCyINGE0L7RgNC80LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvtCx0YrQtdC60YLRg1xyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy10YWJzLWl0ZW1zJyx0YWJzX2l0ZW1zKTtcclxuXHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtYWRkLWl0ZW1zJyxqc19hZGRfaXRlbXMpO1xyXG5cclxuICAgIC8v0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C5INC+0LHRitC10LrRgiDQvNC10L3RjiDRgdC70LXQstCwXHJcbiAgICAkKCcubWVudV94Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5qcy1pdGVtcy1hZGQwXCIsIGpzX2FkZF9pdGVtcyk7XHJcblxyXG5cclxuICAgIC8v0LLRi9Cx0L7RgCDQsiDQvNC10L3RjyDQv9C+0LjRgdC60LAg0LIg0LrQu9C40LXQvdGC0LVcclxuICAgIHZhciBjaGFuZ2Vzb3J0MWl0ZW1zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHJcbiAgICAgICAgJC5jb29raWUoXCJpdF8xY1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcbiAgICAgICAgQ29va2llTGlzdChcIml0XzFjXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuICAgIH07XHJcbiAgICAkKCcjc2VhcmNoX2l0ZW1zXzEnKS5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2Vzb3J0MWl0ZW1zKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLy/QstGL0LHQvtGAINCyINC80LXQvdGPINC/0L7QuNGB0LrQsCDQsiDQutC70LjQtdC90YLQtVxyXG4gICAgdmFyIGNoYW5nZXNvcnQyaXRlbXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cclxuICAgICAgICAkLmNvb2tpZShcIml0XzJjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuICAgICAgICBDb29raWVMaXN0KFwiaXRfMmNcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblxyXG4gICAgfTtcclxuICAgICQoJyNzZWFyY2hfaXRlbXNfMicpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQyaXRlbXMpO1xyXG5cclxuXHJcblxyXG4gICAgLy/QstGL0LHQvtGAINCyINC80LXQvdGPINC/0L7QuNGB0LrQsCDQsiDQutC70LjQtdC90YLQtVxyXG4gICAgdmFyIGNoYW5nZXNvcnQ1aXRlbXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG5cclxuICAgICAgICAkLmNvb2tpZShcIml0XzVjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuICAgICAgICBDb29raWVMaXN0KFwiaXRfNWNcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblxyXG4gICAgfTtcclxuICAgICQoJyNzZWFyY2hfaXRlbXNfNScpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQ1aXRlbXMpO1xyXG5cclxuXHJcblxyXG4gICAgLy/QstCy0L7QtCDQsiDQv9C+0LjRgdC60LVcclxuICAgIHZhciBjaGFuZ2Vzb3J0N2l0ZW1zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuICAgICAgICAkLmNvb2tpZShcIml0XzdjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuICAgICAgICBDb29raWVMaXN0KFwiaXRfN2NcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuXHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgJCgnI25hbWVfc3RvY2tfc2VhcmNoX2l0ZW1zJykuYmluZCgnY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrJywgY2hhbmdlc29ydDdpdGVtcyk7XHJcblxyXG5cclxuICAgIC8v0LrRgNC10YHRgtC40Log0L/RgNC4INC/0L7QuNGB0LrQtSDQsiDQutC70LjQtdC90YLQsNGFINGH0LDRgdGC0L3Ri9C1INC70LjRhtCwXHJcbiAgICB2YXIgY2hhbmdlc29ydF9zdG9jazJfX2l0ZW1zPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG4gICAgICAgICQodGhpcykucHJldigpLnZhbCgnJyk7XHJcbiAgICAgICAgJC5jb29raWUoXCJpdF83Y1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykucmVtb3ZlQ2xhc3MoJ2dyZWVpX2lucHV0Jyk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykuZmluZCgnaW5wdXQnKS5yZW1vdmVBdHRyKCdyZWFkb25seScpO1xyXG5cclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblxyXG4gICAgICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuLy/Rg9C00LDQu9C40YLRjCDQv9C+0LjRgdC6INC/0L4g0YLQtdC60YHRgtGDINCyINC60LvQuNC10L3RgtCw0YVcclxuICAgICQoJy5kZWxsX3N0b2NrX3NlYXJjaF9pdGVtcycpLmJpbmQoJ2NoYW5nZSBrZXl1cCBpbnB1dCBjbGljaycsIGNoYW5nZXNvcnRfc3RvY2syX19pdGVtcyk7XHJcblxyXG5cclxuXHJcbn0pO1xyXG5cclxuLyoq0LLRi9Cy0L7QtCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC+0LHRitC10LrRgtGDXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkb2NfaXRlbXMoZXZlbnQpXHJcbntcclxuXHJcbiAgICAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgLy/QtdGB0LvQuCDRjdGC0L4g0L3QtSDQvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDRg9C00LDQu9C40YLRjCDRgtC+INC+0YLQutGA0YvRgtC40LUg0LjQvdGE0L7RgNC80LDRhtC40LhcclxuICAgIGlmICgoISR0YXJnZXQuaGFzQ2xhc3MoJ2pzLWluZm8taW52b2ljZScpKSYmKCEkdGFyZ2V0Lmhhc0NsYXNzKCdtb3JlX3N1cHBseTEnKSkmJighJHRhcmdldC5oYXNDbGFzcygnanMtbWVudS1qanMtYi1pdGVtJykpKSB7XHJcblxyXG5cclxuICAgICAgICB2YXIgZm9yX2lkID0gJCh0aGlzKS5wYXJlbnRzKCcuanMtaXRlbXMtYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuXHJcblxyXG4gICAgICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgICAgIHVybDogJ2Zvcm1zL2l0ZW1zL2Zvcm1fZG9jX2l0ZW1zLnBocD9pZD0nICsgZm9yX2lkICsgJyZ0YWJzPTAnLFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/Qv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4XHJcbiAgICAgICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn1cclxuLyrRgtCw0LHRgdGLINCyINC+0LrQvdC1INC+0LEg0L7QsdGK0LXQutGC0LVcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhYnNfaXRlbXMoKSB7XHJcbiAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICAgIHZhciB1b289JCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcbiAgICBpZiAoICQodGhpcykuaXMoXCIuYWN0aXZlXCIpIClcclxuICAgIHtcclxuICAgICAgICAvL9GD0LbQtSDQsNC60YLQuNCy0L3QsNGPINCy0LrQu9Cw0LTQutCwXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICB2YXIgYm94X2FjdGl2ZSA9ICQodGhpcykuY2xvc2VzdCgnLmJveC1tb2RhbCcpO1xyXG4gICAgICAgIGJveF9hY3RpdmUuZmluZCgnLmpzLWNsb3VkLWluZm8tdGV4dCcpLmVtcHR5KCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgbWFyZ2luLWJvdHRvbTogMzBweDtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuICAgICAgICBib3hfYWN0aXZlLmZpbmQoJy5qcy10YWJzLW1lbnUgLmpzLXRhYnMtaXRlbXMnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgYm94X2FjdGl2ZS5maW5kKCcuanMtdGFicy1tZW51IC5qcy10YWJzLWl0ZW1zW2lkPScrdW9vKyddJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAvL3ZhciBrZXlfPScwMDJVJztcclxuXHJcblxyXG5cclxuICAgICAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWRfdGFicz0nKyQodGhpcykuYXR0cihcImlkXCIpK1xyXG4gICAgICAgICAgICAnJnRrPScrYm94X2FjdGl2ZS5maW5kKCcuZ2xvYWItY2MnKS5hdHRyKCdtb3InKStcclxuICAgICAgICAgICAgJyZpZD0nK2JveF9hY3RpdmUuZmluZCgnLmdsb2FiLWNjJykuYXR0cignZm9yJyk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy9hbGVydChkYXRhKTtcclxuICAgICAgICBBamF4Q2xpZW50KCdpdGVtcycsJ3RhYnNfaW5mbycsJ0dFVCcsZGF0YSwnQWZ0ZXJUYWJzSW5mb2l0ZW1zJywkKHRoaXMpLmF0dHIoXCJpZFwiKSwwKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qXHJcbiAqINC/0L7RgdGC0YTRg9C90LrRhtC40Y4g0L/QvtC70YPRh9C10L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L4g0L3QsNC20LDRgtC40Y4g0L3QsCDQstC60LvQsNC00LrRgyDQvtCxINC+0LHRitC10LrRgtC1XHJcbiAqIEBwYXJhbSBkYXRhXHJcbiAqIEBwYXJhbSB1cGRhdGVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBBZnRlclRhYnNJbmZvaXRlbXMoZGF0YSx1cGRhdGUpXHJcbntcclxuICAgIGlmICggZGF0YS5zdGF0dXM9PSdyZWcnIClcclxuICAgIHtcclxuICAgICAgICBXaW5kb3dMb2dpbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggZGF0YS5zdGF0dXM9PSdvaycgKVxyXG4gICAge1xyXG4gICAgICAgIC8vYWxlcnQoXCIhXCIpO1xyXG4gICAgICAgIC8v0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LDQutGC0LjQstC90L7QtSDRgdC10LnRh9Cw0YEg0L7QutC90L5cclxuICAgICAgICB2YXIgYm94ID0gJCgnLmJveC1tb2RhbDpsYXN0Jyk7XHJcblxyXG4gICAgICAgIGJveC5maW5kKCcuanMtY2xvdWQtaW5mby10ZXh0JykuZW1wdHkoKS5hcHBlbmQoZGF0YS5xdWVyeSk7XHJcblxyXG4gICAgICAgIC8vJCgnLmNoYV8xJykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLndhbGxldF9jaGVja2JveCcsd2FsbGV0X2NoZWNrYm94KTtcclxuXHJcbiAgICAgICAgYm94LmZpbmQoJy5qcy10YWJzX2RvY2MnKS5oaWRlKCk7XHJcbiAgICAgICAgYm94LmZpbmQoJy5qcy10YWJzXycrdXBkYXRlKS5zaG93KCk7XHJcbiAgICAgICAgVG9vbFRpcCgpO1xyXG4gICAgICAgIC8vTnVtYmVyQmxvY2tGaWxlKCk7XHJcbiAgICAgICAgaWYodXBkYXRlPT0yKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJChcIi5zbGN0XCIpLnVuYmluZCgnY2xpY2suc3lzJyk7XHJcbiAgICAgICAgICAgICQoXCIuc2xjdFwiKS5iaW5kKCdjbGljay5zeXMnLCBzbGN0Y2xpY2spO1xyXG4gICAgICAgICAgICAkKFwiLmRyb3BcIikuZmluZChcImxpXCIpLnVuYmluZCgnY2xpY2snKTtcclxuICAgICAgICAgICAgJChcIi5kcm9wXCIpLmZpbmQoXCJsaVwiKS5iaW5kKCdjbGljaycsIGRyb3BsaSk7XHJcbiAgICAgICAgICAgICQoJyN0eXBlc2F5JykudW5iaW5kKCdjaGFuZ2UnLCBjaGFuZ2VzYXkpO1xyXG4gICAgICAgICAgICAkKCcjdHlwZXNheScpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNheSk7XHJcbiAgICAgICAgICAgIE51bWJlckJsb2NrRmlsZSgpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4g0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C5INC+0LHRitC10LrRglxyXG4gKiovXHJcbmZ1bmN0aW9uIGpzX2FkZF9pdGVtcygpXHJcbntcclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9pdGVtcy9mb3JtX2FkZF9pdGVtcy5waHAnLFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy/Qv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4XHJcbiAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgaWYodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG4vL2FyciAtIGlkICgxLjIuNC41KSDQv9C+INC60L7RgtC+0YDRi9C8INC90LDQtNC+INC/0L7Qu9GD0YfQuNGC0Ywg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LVcclxuZnVuY3Rpb24gVXBkYXRlSXRlbXMoYXJyKVxyXG57XHJcbiAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmYXJyPScrYXJyO1xyXG5cclxuICAgIEFqYXhDbGllbnQoJ2l0ZW1zJywndXBkYXRlX2l0ZW1zJywnR0VUJyxkYXRhLCdBZnRlclVwZGF0ZUl0ZW1zJyxhcnIsMCwxKTtcclxufVxyXG5cclxuLypcclxuXHJcblwianMtaXRlbXMtaWQtXCIgIC0gaWQg0LrQvtC80L/QvtC90LXQvdGC0LBcclxuXCJqcy1pdGVtcy11cC1cIiAgLSAwIC0g0L7QsdC90L7QstC40YLRjCAxIC0g0YPQtNCw0LvQuNGC0YxcclxuXCJqcy1pdGVtcy1uYS1cIiAgLSDQvdCw0LfQstCw0L3QuNC1XHJcblwianMtaXRlbXMtc3YtXCIgIC0g0YHQstGP0LfRjCDQuNC70LggMCDQtdGB0LvQuCDQvdC1INGBINC60LXQvFxyXG5cImpzLWl0ZW1zLXNkLVwiICAtIGlkINGD0YHRgtGA0L7QudGB0YLQstCwINGBINC60L7RgtC+0YDRi9C8INGB0LLRj9C30LDQvVxyXG5cImpzLWl0ZW1zLWNvLVwiICAtINC60L7QvNC80LXQvdGC0LDRgNC40Lkg0LjQu9C4IDBcclxuXCJqcy1pdGVtcy1pbi1cIiAgLSDQvdCw0LfQstCw0L3QuNC1INGB0YfQtdGC0LAg0LjQu9C4IDBcclxuXCJqcy1pdGVtcy1iYS1cIiAgLSAwIC0g0L3QtdGCINCyINC60L7RgNC30LjQvdC1IDEgLSDQtdGB0YLRjCDQsiDQutC+0YDQt9C40L3QtVxyXG5cImpzLWl0ZW1zLWluZC1cIiAtIGlkINGB0YfQtdGC0LAg0YEg0LrQvtGC0L7RgNGL0Lwg0YHQstGP0LfQsNC90LAg0LjQu9C4IDBcclxuKi9cclxuLy/Qv9C+0YHRgtGE0YPQvdC60YbQuNGPINC/0L7Qu9GD0YfQtdC90LjRjyDQvdC+0LLQvtC5INC40L3RhNGLINC/0L4g0L3QsNCx0L7RgNGDINC60L7QvNC/0L7QvdC10L3RgtC+0LJcclxuZnVuY3Rpb24gQWZ0ZXJVcGRhdGVJdGVtcyhkYXRhLHVwZGF0ZSlcclxue1xyXG4gICAgaWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG4gICAgICAgIFdpbmRvd0xvZ2luKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBkYXRhLnN0YXR1cz09J29rJyApXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHZhciBjbGFzc19nbHUgPSBbXCJqcy1pdGVtcy1pZC1cIixcImpzLWl0ZW1zLXVwLVwiLFwianMtaXRlbXMtbmEtXCIsIFwianMtaXRlbXMtc3YtXCIsXCJqcy1pdGVtcy1zZC1cIixcImpzLWl0ZW1zLWNvLVwiLFwianMtaXRlbXMtaW4tXCIsXCJqcy1pdGVtcy1iYS1cIixcImpzLWl0ZW1zLWluZC1cIl07XHJcblxyXG4gICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgZGF0YS5hcnIubGVuZ3RoOyB0KyspIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBhYWFhMSA9IGRhdGEuYXJyW3RdLnNwbGl0KCcvLScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWFhYTFbMV0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtaXRlbXMtYmxvY2tbb3BfcmVsPScgKyBhYWFhMVswXSArICddJykuc2xpZGVVcChcInNsb3dcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWl0ZW1zLWJsb2NrW29wX3JlbD0nICsgYWFhYTFbMF0gKyAnXScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/QndCw0LfQstCw0L3QuNC1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1pdGVtcy1uYS0nICsgYWFhYTFbMF0pLmVtcHR5KCkuYXBwZW5kKGFhYWExWzJdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v0YHQstGP0LfRjCDRgSDRg9GB0YLRgNC+0LnRgdGC0LLQvtC8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYWFhMVszXSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/QodCy0Y/Qt9C4INGBINGD0YHRgtGA0L7QudGB0YLQstC+0Lwg0L3QtdGCINC30L3QsNGH0LjRgiDQvNC+0LbQvdC+INC00L7QsdCw0LLQu9GP0YLRjCDRg9C00LDQu9GP0YLRjCDQuNC3INC60L7RgNC30LjQvdGLXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtaXRlbXMtc3YtJyArIGFhYWExWzBdKS5lbXB0eSgpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1pdGVtcy1ibG9ja1tvcF9yZWw9JythYWFhMVswXSsnXScpLmFkZENsYXNzKCdzZWxlY3QtaXRlbS15ZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1pdGVtcy1ibG9ja1tvcF9yZWw9JythYWFhMVswXSsnXScpLmFkZENsYXNzKCdqcy1zZWxlY3QtaXRlbXMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVudV9pdGVtPSQoJy5qcy1pdGVtcy1ibG9ja1tvcF9yZWw9JythYWFhMVswXSsnXScpLmZpbmQoJy5qcy1tZW51LXJvb3QnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51X2l0ZW0uZmluZCgnLmpzLW1lbnUtampzLWItaXRlbScpLnJlbW92ZUNsYXNzKCduby1kaXNwbGF5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudV9pdGVtLmZpbmQoJ1ttYWtlPWRlbGxfZGV2aWNlXScpLmNsb3Nlc3QoJy5qcy1tZW51LWpqcy1iLWl0ZW0nKS5hZGRDbGFzcygnbm8tZGlzcGxheScpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtaXRlbXMtc3YtJyArIGFhYWExWzBdKS5lbXB0eSgpLmFwcGVuZChhYWFhMVszXSkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWl0ZW1zLXN2LScgKyBhYWFhMVswXSkuYXR0cignb3BfcmVsJywgYWFhYTFbNF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0LfQvdCw0YfQuNGCINGC0LXQv9C10YDRjCDQvdC10LvRjNC30Y8g0LTQvtCx0LDQstC40YLRjCDQsiDQutC+0YDQt9C40L3Rg1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWl0ZW1zLWJsb2NrW29wX3JlbD0nK2FhYWExWzBdKyddJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdC1pdGVtLXllcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWl0ZW1zLWJsb2NrW29wX3JlbD0nK2FhYWExWzBdKyddJykucmVtb3ZlQ2xhc3MoJ2pzLXNlbGVjdC1pdGVtcycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v0L7RgtC60YDRi9GC0Ywg0LzQtdC90Y4g0L3QtdC00L7RgdGC0YPQv9C90L7QtSDQuCDRgdC60YDRi9GC0Ywg0L3Rg9C20L3QvtC1XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lbnVfaXRlbT0kKCcuanMtaXRlbXMtYmxvY2tbb3BfcmVsPScrYWFhYTFbMF0rJ10nKS5maW5kKCcuanMtbWVudS1yb290Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudV9pdGVtLmZpbmQoJy5qcy1tZW51LWpqcy1iLWl0ZW0nKS5yZW1vdmVDbGFzcygnbm8tZGlzcGxheScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVfaXRlbS5maW5kKCdbbWFrZT1kZWxsXScpLmNsb3Nlc3QoJy5qcy1tZW51LWpqcy1iLWl0ZW0nKS5hZGRDbGFzcygnbm8tZGlzcGxheScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudV9pdGVtLmZpbmQoJ1ttYWtlPW5vX2Jhc2tldF0nKS5jbG9zZXN0KCcuanMtbWVudS1qanMtYi1pdGVtJykuYWRkQ2xhc3MoJ25vLWRpc3BsYXknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVfaXRlbS5maW5kKCdbbWFrZT1kZXZpY2VzXScpLmNsb3Nlc3QoJy5qcy1tZW51LWpqcy1iLWl0ZW0nKS5hZGRDbGFzcygnbm8tZGlzcGxheScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWVudV9pdGVtLmZpbmQoJ1ttYWtlPWRldmljZXNdJykuY2xvc2VzdCgnLmpzLW1lbnUtampzLWItaXRlbScpLmFkZENsYXNzKCduby1kaXNwbGF5Jyk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/QutC+0LzQvNC10L3RgtCw0YDQuNC5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYWFhMVs1XSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtaXRlbXMtY28tJyArIGFhYWExWzBdKS5lbXB0eSgpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5qcy1pdGVtcy1jby0nICsgYWFhYTFbMF0pLmVtcHR5KCkuYXBwZW5kKGFhYWExWzVdKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v0YHQstGP0LfRjCDRgdC+INGB0YfQtdGC0L7QvFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWFhYTFbNl0gPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWl0ZW1zLWluLScgKyBhYWFhMVswXSkuZW1wdHkoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtaXRlbXMtaW4tJyArIGFhYWExWzBdKS5lbXB0eSgpLmFwcGVuZChhYWFhMVs2XSkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWl0ZW1zLWluLScgKyBhYWFhMVswXSkuYXR0cignb3BfcmVsJywgYWFhYTFbOF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL9C60L7RgNC30LjQvdCwINC10YHRgtGMINGC0LDQvCDQuNC70Lgg0L3QtdGCXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYWFhMVs3XSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL9C90LXRgiDQsiDQutC+0YDQt9C40L3QtVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLWl0ZW1zLWJsb2NrW29wX3JlbD0nICsgYWFhYTFbMF0gKyAnXSBqcy1tZW51LXJvb3QnKS5yZW1vdmVDbGFzcygnLm1vcmUtYWN0aXZlLXMxJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL9C10YHRgtGMINCyINC60L7RgNC30LjQvdC1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtaXRlbXMtYmxvY2tbb3BfcmVsPScgKyBhYWFhMVswXSArICddIGpzLW1lbnUtcm9vdCcpLmFkZENsYXNzKCcubW9yZS1hY3RpdmUtczEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gY2hhbmdlc29ydF9zdG9jazJfaXRlbXMoKSB7XHJcbiAgICAvL2FsZXJ0KFwiMVwiKTtcclxuICAgIGlmKCQodGhpcykudmFsKCkhPScnKVxyXG4gICAge1xyXG4gICAgICAgICQodGhpcykubmV4dCgpLnNob3coKTtcclxuICAgICAgICAvL9GB0LrRgNGL0YLRjCDQtNGA0YPQs9C40LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LjRgdC60LBcclxuICAgICAgICAkKCcuanMtLXNvcnQnKS5hZGRDbGFzcygnZ3JlZWlfaW5wdXQnKTtcclxuICAgICAgICAkKCcuanMtLXNvcnQnKS5maW5kKCdpbnB1dCcpLnByb3AoJ3JlYWRvbmx5Jyx0cnVlKTtcclxuXHJcbiAgICB9ZWxzZVxyXG4gICAge1xyXG4gICAgICAgICQodGhpcykubmV4dCgpLmhpZGUoKTtcclxuICAgICAgICAvL9C/0L7QutCw0LfQsNGC0Ywg0LTRgNGD0LPQuNC1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC40YHQutCwXHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykucmVtb3ZlQ2xhc3MoJ2dyZWVpX2lucHV0Jyk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykuZmluZCgnaW5wdXQnKS5yZW1vdmVBdHRyKCdyZWFkb25seScpO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8v0LTQvtCx0LDQstC40YLRjC/Rg9C00LDQu9C40YLRjCDQuNGFINC60L7RgNC30LjQvdGLINC/0YDQuCDQutC70LjQutC1INC/0L4g0LrQvtC80L/QvtC90LXQvdGC0YNcclxuZnVuY3Rpb24gYWRkX2l0KGV2ZW50KVxyXG57XHJcbiAgICAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgLy/QtdGB0LvQuCDRjdGC0L4g0L3QtSDQvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDRg9C00LDQu9C40YLRjCDRgtC+INC+0YLQutGA0YvRgtC40LUg0LjQvdGE0L7RgNC80LDRhtC40LhcclxuICAgIGlmICgoISR0YXJnZXQuaGFzQ2xhc3MoJ21vcmVfc3VwcGx5MScpKSYmKCEkdGFyZ2V0Lmhhc0NsYXNzKCdqcy1tZW51LWpqcy1iLWl0ZW0nKSkmJighJHRhcmdldC5oYXNDbGFzcygnaW52b2ljZS1saW5rJykpKSB7XHJcbiAgICAgICAgdmFyIGlkPSQodGhpcykuYXR0cignb3BfcmVsJyk7XHJcbiAgICAgICAgQmFza2V0SXRlbXNBZGQoaWQsJCh0aGlzKSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24ganNfYWRkX2l0ZW1zX3goKVxyXG57XHJcbiAgICB2YXIgYm94X2FjdGl2ZSA9ICQodGhpcykuY2xvc2VzdCgnLmJveC1tb2RhbCcpO1xyXG5cclxuICAgIHZhciBlcnIgPSAwO1xyXG4vL2FsZXJ0KCQoJy5qcy1mb3JtLXJlZ2lzdGVyIC5nbG9hYicpLmxlbmd0aCk7XHJcbiAgICBib3hfYWN0aXZlLmZpbmQoJy5qcy1mb3JtLWFkZC1pdGVtcyAuZ2xvYWInKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSkge1xyXG4gICAgICAgIGlmKCQodGhpcykudmFsKCkgPT0gJycpICB7ICQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5saXN0XzIwMTgnKS5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1xyXG4gICAgICAgICAgICBlcnIrKztcclxuICAgICAgICAgICAgLy9hbGVydCgkKHRoaXMpLmF0dHIoJ25hbWUnKSk7XHJcbiAgICAgICAgfSBlbHNlIHskKHRoaXMpLnBhcmVudHMoJy5pbnB1dF8yMDE4JykucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTskKHRoaXMpLnBhcmVudHMoJy5saXN0XzIwMTgnKS5yZW1vdmVDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO31cclxuICAgIH0pO1xyXG5cclxuLy9cdGlmICghJChcIi5qcy1yb2xlLXggaVwiKS5pcyggXCIuYWN0aXZlX3Rhc2tfY2JcIiApICkgeyBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9CX0LDQv9C+0LvQvdC40YLQtSDQtNC+0LvQttC90L7RgdGC0Ywg0LIg0YHQuNGB0YLQtdC80LUnKTsgIGVycisrOyB9XHJcblxyXG4vL1x0aWYgKCEkKFwiLmpzLXBlcnNvbi14IGlcIikuaXMoIFwiLmFjdGl2ZV90YXNrX2NiXCIgKSApIHsgYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQl9Cw0L/QvtC70L3QuNGC0LUg0J7RgtC00LXQuycpOyAgZXJyKys7IH1cclxuXHJcbiAgICAvL2FsZXJ0KGVycik7XHJcblxyXG4gICAgaWYoZXJyPT0wKVxyXG4gICAge1xyXG5cclxuICAgICAgICB2YXIgZm9yX2lkPWJveF9hY3RpdmUuZmluZCgnLmdsb2FiLWNjJykuYXR0cignZm9yJyk7XHJcblxyXG5cclxuICAgICAgICAvL2NsZWFySW50ZXJ2YWwodGltZXJJZCk7IC8vIMOuw7HDssOgw63DoMOiw6vDqMOiw6DDpcOsIMOiw7vDp8Ouw6Igw7TDs8Otw6rDtsOow6ggw7fDpcOww6XDpyDDqsOgw6bDpMOzw74gw7HDpcOqw7PDrcOkXHJcbiAgICAgICAgLy8kLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICBBamF4Q2xpZW50KCdpdGVtcycsJ2FkZCcsJ1BPU1QnLDAsJ2FmdGVyX2FkZF9pdGVtc194JywwLCd2aW5vX3hkX2ZpYW5jZV9wYXlfMicpO1xyXG5cclxuXHJcbiAgICAgICAgYm94X2FjdGl2ZS5maW5kKCcuanMtYWRkLWl0ZW1zLXgnKS5oaWRlKCkuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlOyB3aWR0aDogNDBweDtwYWRkaW5nLXRvcDogN3B4O3RvcDogYXV0bztyaWdodDogYXV0bztsZWZ0OiBhdXRvOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcblxyXG5cclxuICAgIH0gZWxzZVxyXG4gICAge1xyXG4gICAgICAgIC8v0L3QsNC50LTQtdC8INGB0LDQvNGL0Lkg0LLQtdGA0YXQvdGO0Y4g0L7RiNC40LHQutGDINC4INC/0YDQvtC70LXRgdGC0L3QtdC8INC6INC90LXQuVxyXG4gICAgICAgIC8valF1ZXJ5LnNjcm9sbFRvKCcucmVxdWlyZWRfaW5fMjAxODpmaXJzdCcsIDEwMDAsIHtvZmZzZXQ6LTcwfSk7XHJcbiAgICAgICAgLy9FcnJvckJ1dCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAuanMtYWRkLXRlbmRlci1mb3JtJywn0J7RiNC40LHQutCwINC30LDQv9C+0LvQvdC10L3QuNGPIScpO1xyXG4gICAgICAgIGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0J3QtSDQstGB0LUg0L/QvtC70Y8g0LfQsNC/0L7Qu9C90LXQvdGLJyk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpzX2VkaXRfaXRlbXNfeCgpXHJcbntcclxuICAgIHZhciBlcnIgPSAwO1xyXG5cclxuICAgIHZhciBib3hfYWN0aXZlID0gJCh0aGlzKS5jbG9zZXN0KCcuYm94LW1vZGFsJyk7XHJcblxyXG5cclxuLy9hbGVydCgkKCcuanMtZm9ybS1yZWdpc3RlciAuZ2xvYWInKS5sZW5ndGgpO1xyXG5cclxuXHJcbiAgICBib3hfYWN0aXZlLmZpbmQoJy5qcy1mb3JtLWVkaXQtaXRlbXMgIC5nbG9hYicpLmVhY2goZnVuY3Rpb24oaSxlbGVtKSB7XHJcbiAgICAgICAgaWYoJCh0aGlzKS52YWwoKSA9PSAnJykgIHsgJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcbiAgICAgICAgICAgIGVycisrO1xyXG4gICAgICAgICAgICAvL2FsZXJ0KCQodGhpcykuYXR0cignbmFtZScpKTtcclxuICAgICAgICB9IGVsc2UgeyQodGhpcykucGFyZW50cygnLmlucHV0XzIwMTgnKS5yZW1vdmVDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpOyQodGhpcykucGFyZW50cygnLmxpc3RfMjAxOCcpLnJlbW92ZUNsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7fVxyXG4gICAgfSk7XHJcblxyXG4vL1x0aWYgKCEkKFwiLmpzLXJvbGUteCBpXCIpLmlzKCBcIi5hY3RpdmVfdGFza19jYlwiICkgKSB7IGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JfQsNC/0L7Qu9C90LjRgtC1INC00L7Qu9C20L3QvtGB0YLRjCDQsiDRgdC40YHRgtC10LzQtScpOyAgZXJyKys7IH1cclxuXHJcbi8vXHRpZiAoISQoXCIuanMtcGVyc29uLXggaVwiKS5pcyggXCIuYWN0aXZlX3Rhc2tfY2JcIiApICkgeyBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9CX0LDQv9C+0LvQvdC40YLQtSDQntGC0LTQtdC7Jyk7ICBlcnIrKzsgfVxyXG5cclxuICAgIC8vYWxlcnQoZXJyKTtcclxuXHJcbiAgICBpZihlcnI9PTApXHJcbiAgICB7XHJcblxyXG4gICAgICAgIHZhciBmb3JfaWQ9Ym94X2FjdGl2ZS5maW5kKCcuZ2xvYWItY2MnKS5hdHRyKCdmb3InKTtcclxuXHJcbiAgICAgICAgLy9jbGVhckludGVydmFsKHRpbWVySWQpOyAvLyDDrsOxw7LDoMOtw6DDosOrw6jDosOgw6XDrCDDosO7w6fDrsOiIMO0w7PDrcOqw7bDqMOoIMO3w6XDsMOlw6cgw6rDoMOmw6TDs8O+IMOxw6XDqsOzw63DpFxyXG4gICAgICAgIC8vJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgQWpheENsaWVudCgnaXRlbXMnLCdlZGl0JywnUE9TVCcsMCwnYWZ0ZXJfZWRpdF9pdGVtc194JywwLCd2aW5vX3hkX2ZpYW5jZV9wYXlfMicpO1xyXG5cclxuXHJcbiAgICAgICAgYm94X2FjdGl2ZS5maW5kKCcuanMtZWRpdC1pdGVtcy14JykuaGlkZSgpLmFmdGVyKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgd2lkdGg6IDQwcHg7cGFkZGluZy10b3A6IDE3cHg7dG9wOiBhdXRvO3JpZ2h0OiBhdXRvO2xlZnQ6IGF1dG87IGRpc3BsYXk6IGlubGluZS1ibG9jaztcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuXHJcblxyXG4gICAgfSBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgLy/QvdCw0LnQtNC10Lwg0YHQsNC80YvQuSDQstC10YDRhdC90Y7RjiDQvtGI0LjQsdC60YMg0Lgg0L/RgNC+0LvQtdGB0YLQvdC10Lwg0Log0L3QtdC5XHJcbiAgICAgICAgLy9qUXVlcnkuc2Nyb2xsVG8oJy5yZXF1aXJlZF9pbl8yMDE4OmZpcnN0JywgMTAwMCwge29mZnNldDotNzB9KTtcclxuICAgICAgICAvL0Vycm9yQnV0KCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1hZGQtdGVuZGVyLWZvcm0nLCfQntGI0LjQsdC60LAg0LfQsNC/0L7Qu9C90LXQvdC40Y8hJyk7XHJcbiAgICAgICAgYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQndC1INCy0YHQtSDQv9C+0LvRjyDQt9Cw0L/QvtC70L3QtdC90YsnKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGpzX2RlbGxfaXRlbXNfYigpXHJcbntcclxuXHJcbiAgICB2YXIgYm94X2FjdGl2ZSA9ICQodGhpcykuY2xvc2VzdCgnLmJveC1tb2RhbCcpO1xyXG5cclxuICAgIHZhciBmb3JfaWQ9Ym94X2FjdGl2ZS5maW5kKCcuZ2xvYWItY2MnKS5hdHRyKCdmb3InKTtcclxuXHJcblxyXG4gICAgLy9jbGVhckludGVydmFsKHRpbWVySWQpOyAvLyDDrsOxw7LDoMOtw6DDosOrw6jDosOgw6XDrCDDosO7w6fDrsOiIMO0w7PDrcOqw7bDqMOoIMO3w6XDsMOlw6cgw6rDoMOmw6TDs8O+IMOxw6XDqsOzw63DpFxyXG4gICAgLy8kLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZD0nK2Zvcl9pZCsnJnRrPScrYm94X2FjdGl2ZS5maW5kKCcuZ2xvYWItY2MnKS5hdHRyKCdtb3InKTtcclxuXHJcbiAgICBBamF4Q2xpZW50KCdpdGVtcycsJ2RlbGwnLCdHRVQnLGRhdGEsJ0FmdGVyZGVsbGl0ZW1zJyxmb3JfaWQsMCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIGJveF9hY3RpdmUuZmluZCgnLmpzLWRlbGwtaXRlbXMtYicpLmhpZGUoKS5hZnRlcignPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOiA0MHB4O3BhZGRpbmctdG9wOiA3cHg7dG9wOiBhdXRvO3JpZ2h0OiBhdXRvO2xlZnQ6IGF1dG87IGRpc3BsYXk6IGlubGluZS1ibG9jaztcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGpzX2l0ZW1zZGV2aWNlX3JlbW92ZSgpXHJcbntcclxuICAgIHZhciBib3hfYWN0aXZlID0gJCh0aGlzKS5jbG9zZXN0KCcuYm94LW1vZGFsJyk7XHJcblxyXG4gICAgdmFyIGZvcl9pZD1ib3hfYWN0aXZlLmZpbmQoJy5nbG9hYi1jYycpLmF0dHIoJ2ZvcicpO1xyXG5cclxuXHJcbiAgICAvL2NsZWFySW50ZXJ2YWwodGltZXJJZCk7IC8vIMOuw7HDssOgw63DoMOiw6vDqMOiw6DDpcOsIMOiw7vDp8Ouw6Igw7TDs8Otw6rDtsOow6ggw7fDpcOww6XDpyDDqsOgw6bDpMOzw74gw7HDpcOqw7PDrcOkXHJcbiAgICAvLyQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgdmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZisnJmlkPScrZm9yX2lkKycmdGs9Jytib3hfYWN0aXZlLmZpbmQoJy5nbG9hYi1jYycpLmF0dHIoJ21vcicpO1xyXG5cclxuICAgIEFqYXhDbGllbnQoJ2l0ZW1zJywncmVtb3ZlX2Zyb21faXRlbXMnLCdHRVQnLGRhdGEsJ0FmdGVyaXRlbXNkZXZpY2VfcmVtb3ZlJyxmb3JfaWQsMCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIGJveF9hY3RpdmUuZmluZCgnLmpzLWRlbGwtaXRlbXNkZXZpY2UtYicpLmhpZGUoKS5hZnRlcignPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOiA0MHB4O3BhZGRpbmctdG9wOiA3cHg7dG9wOiBhdXRvO3JpZ2h0OiBhdXRvO2xlZnQ6IGF1dG87IGRpc3BsYXk6IGlubGluZS1ibG9jaztcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYWZ0ZXJfYWRkX2l0ZW1zX3goZGF0YSx1cGRhdGUpXHJcbntcclxuICAgIGlmIChkYXRhLnN0YXR1cz09J29rJylcclxuICAgIHtcclxuICAgICAgICAvLyAkKCcuanMtZm9ybS10ZW5kZXItbmV3JykucmVtb3ZlKCk7XHJcbi8v0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LDQutGC0LjQstC90L7QtSDRgdC10LnRh9Cw0YEg0L7QutC90L5cclxuICAgICAgICB2YXIgYm94ID0gJCgnLmJveC1tb2RhbDpsYXN0Jyk7XHJcblxyXG4gICAgICAgIGFsZXJ0X21lc3NhZ2UoJ29rJywn0J/QvtC30LjRhtC40Y8g0LTQvtCx0LDQstC70LXQvdCwJyk7XHJcbiAgICAgICAgLy9VcGRhdGVGaW5hbmNlKCcxLDAsMSwxJyk7XHJcbiAgICAgICAgLy8kKCcuanMtbmV4dC1zdGVwJykuc3VibWl0KCk7XHJcbiAgICAgICAgdmFyIGJsb2NrX2NvdW50PXBhcnNlSW50KCQoJy5qcy1jb3VudC1pdGVtcyAuc21lbmFfJykudGV4dCgpKTtcclxuICAgICAgICBibG9ja19jb3VudCsrO1xyXG4gICAgICAgICQoJy5qcy1jb3VudC1pdGVtcyAuc21lbmFfJykuZW1wdHkoKS5hcHBlbmQoYmxvY2tfY291bnQpO1xyXG4gICAgICAgIC8vYWxlcnQoZGF0YS5ibG9ja3MpO1xyXG4gICAgICAgICQoJy5qcy1jb3VudC1pdGVtcycpLmFmdGVyKGRhdGEuYmxvY2tzKTtcclxuXHJcbiAgICAgICAgdmFyIHR5dHQ9UGFkZWpOdW1iZXIoKGJsb2NrX2NvdW50KSwn0L/QvtC30LjRhtC40Y8sINC/0L7Qt9C40YbQuNC4LNC/0L7Qt9C40YbQuNC5Jyk7XHJcbiAgICAgICAgJCgnLmpzLWNvdW50LWl0ZW1zIC5zbWVuYV8xJykuZW1wdHkoKS5hcHBlbmQodHl0dCk7XHJcblxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAkKCcuanMtaXRlbXMtYmxvY2snKS5yZW1vdmVDbGFzcygnbmV3LXNheScpOyAgfSwgNDAwMCApO1xyXG5cclxuICAgICAgICAkKCcuanMtY2xvdWQtaXRlbXMgLmhlbHBfZGl2Jykuc2xpZGVVcChcInNsb3dcIik7XHJcbiAgICAgICAgJCgnLmpzLWNsb3VkLWl0ZW1zIC5qcy1jb3VudC1pdGVtcycpLnNsaWRlRG93bihcInNsb3dcIik7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcblxyXG4gICAgICAgIGJveC5maW5kKCcuYXJjdGljbW9kYWwtY2xvc2UnKS5jbGljaygpO1xyXG4gICAgICAgIC8vJCggJy5hcmN0aWNtb2RhbC1jbG9zZScsICQoJy5qcy1mb3JtMicpLmNsb3Nlc3QoICcuYm94LW1vZGFsJyApKS5jbGljaygpO1xyXG5cclxuICAgICAgICAvL3NldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7ICQoJyNqcy1mb3JtLWFkZC1maW4nKS5zdWJtaXQoKTsgIH0sIDEwMDAgKTtcclxuXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICBib3guZmluZCgnLmpzLWFkZC1pdGVtcy14Jykuc2hvdygpO1xyXG4gICAgICAgIGJveC5maW5kKCcuYl9sb2FkaW5nX3NtYWxsJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQntGI0LjQsdC60LAhINCX0LDQv9C+0LvQvdC40YLQtSDQstGB0LUg0L/QvtC70Y8nKTtcclxuXHJcbiAgICAgICAgLy8kKCcuanMtZm9ybS10ZW5kZXItbmV3IC5tZXNzYWdlLWZvcm0nKS5lbXB0eSgpLmFwcGVuZCgn0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjycpLnNob3coKTtcclxuXHJcbiAgICAgICAgLy/Qv9GA0L7RhdC+0LTQuNC80Y8g0L/QviDQvNCw0YHRgdC40LLRgyDQvtGI0LjQsdC+0LpcclxuICAgICAgICAkLmVhY2goZGF0YS5lcnJvciwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcclxuXHJcbiAgICAgICAgICAgIHZhciBlcnIgPSBbJ25hbWVfYicsJ2lkX2t0byddO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVycl9uYW1lID0gWyfQvdC10LrQvtGA0YDQtdC60YLQvdC+INC30LDQv9C+0LvQvdC10L3QviAtINCd0LDQt9Cy0LDQvdC40LUnLCfQvdC10LrQvtGA0YDQtdC60YLQvdC+INC30LDQv9C+0LvQvdC10L0gLSDQodGH0LXRgiddO1xyXG5cclxuICAgICAgICAgICAgbnVtYmVycz0kLmluQXJyYXkodmFsdWUsIGVycik7XHJcbiAgICAgICAgICAgIC8vYWxlcnQobnVtYmVycyk7XHJcbiAgICAgICAgICAgIGlmKG51bWJlcnMhPS0xKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgdmFyIGlucz1udW1iZXJbbnVtYmVyc107XHJcbiAgICAgICAgICAgICAgICAkKCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1pbicraW5zKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmFkZENsYXNzKCdyZXF1aXJlZF9pbl8yMDE4Jyk7XHJcbiAgICAkKCcuanMtZm9ybS10ZW5kZXItbmV3IC5qcy1pbicraW5zKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmZpbmQoJy5kaXZfbmV3XzIwMTgnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJlcnJvci1tZXNzYWdlXCI+0L3QtdC60L7RgNGA0LXQutGC0L3QviDQt9Cw0L/QvtC70L3QtdC90L4g0L/QvtC70LU8L2Rpdj4nKTtcclxuICAgICovXHJcbiAgICAgICAgICAgICAgICBhbGVydF9tZXNzYWdlKCdlcnJvcicsZXJyX25hbWVbbnVtYmVyc10pO1xyXG4gICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8kKCcuanMtZm9ybS1yZWdpc3RlciAubWVzc2FnZS1mb3JtJykuZW1wdHkoKS5hcHBlbmQoJ9Ce0YjQuNCx0LrQsCEgJyk7XHJcbiAgICAgICAgICAgICAgICBhbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Ce0YjQuNCx0LrQsCEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2pRdWVyeS5zY3JvbGxUbygnLnJlcXVpcmVkX2luXzIwMTg6Zmlyc3QnLCAxMDAwLCB7b2Zmc2V0Oi03MH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYWZ0ZXJfZWRpdF9pdGVtc194KGRhdGEsdXBkYXRlKVxyXG57XHJcbiAgICAvL9C+0L/RgNC10LTQtdC70Y/QtdC8INCw0LrRgtC40LLQvdC+0LUg0YHQtdC50YfQsNGBINC+0LrQvdC+XHJcbiAgICB2YXIgYm94PSQoJy5ib3gtbW9kYWw6bGFzdCcpO1xyXG5cclxuICAgIGlmIChkYXRhLnN0YXR1cz09J29rJylcclxuICAgIHtcclxuICAgICAgICAvLyAkKCcuanMtZm9ybS10ZW5kZXItbmV3JykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIGFsZXJ0X21lc3NhZ2UoJ29rJywn0J/QvtC30LjRhtC40Y8g0LjQt9C80LXQvdC10L3QsCcpO1xyXG4gICAgICAgIC8vVXBkYXRlRmluYW5jZSgnMSwwLDEsMScpO1xyXG4gICAgICAgIC8vJCgnLmpzLW5leHQtc3RlcCcpLnN1Ym1pdCgpO1xyXG5cclxuLy9hbGVydChib3guZmluZCgnI3Zpbm9feGRfZmlhbmNlX3BheV8yIFtuYW1lPW5hbWVfYl0nKS52YWwoKSk7XHJcblxyXG4gICAgICAgIHZhciB0PWJveC5maW5kKCcjdmlub194ZF9maWFuY2VfcGF5XzIgW25hbWU9bmFtZV9iXScpLnZhbCgpO1xyXG4gICAgICAgIHZhciByPWJveC5maW5kKCcjdmlub194ZF9maWFuY2VfcGF5XzIgW25hbWU9Y29tbV9iXScpLnZhbCgpO1xyXG5cclxuLy/QuNC30LzQtdC90LjRgtGMINC90LAg0YLQviDQvdCwINGH0YLQviDQuNC30LzQtdC90LjQu9C4XHJcblxyXG4gICAgICAgIGlmKGpRdWVyeS50cmltKHQpIT0nJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICQoJy5qcy1pdGVtcy1uYS0nK2RhdGEudXBkYXRlKS5lbXB0eSgpLmFwcGVuZCh0KS5zaG93KCk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcuanMtaXRlbXMtbmEtJytkYXRhLnVwZGF0ZSkuZW1wdHkoKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihqUXVlcnkudHJpbShyKSE9JycpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcuanMtaXRlbXMtY28tJytkYXRhLnVwZGF0ZSkuZW1wdHkoKS5hcHBlbmQocikuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLmpzLWl0ZW1zLWNvLScrZGF0YS51cGRhdGUpLmVtcHR5KCkuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAvL9C+0LHQvdC+0LLQu9C10L3QuNC1INC/0L7Qt9C40YbQuNC5XHJcbiAgICAgICAgVXBkYXRlSXRlbXMoZGF0YS51cGRhdGUpO1xyXG5cclxuXHJcbiAgICAgICAgLy/QtdGB0LvQuCDRgdGH0LXRgiDQuNC30LzQtdC90LjQu9GB0Y8g0L3QsCDQvdC+0LLRi9C5INGC0L4g0YPQtNCw0LvQuNGC0Ywg0LXRgdC70Lgg0LXRgdGC0Ywg0LLRi9Cy0L7QtCAuaXRlbXNfYmxvY2tfcGFzc19zbWFsbFxyXG4gICAgICAgIGlmKGRhdGEudXA9PTEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcuaXRlbXNfYmxvY2tfcGFzc19zbWFsbFtvcF9yZWw9JytkYXRhLnVwZGF0ZSsnXScpLnNsaWRlVXAoXCJzbG93XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLml0ZW1zX2Jsb2NrX3Bhc3Nfc21hbGxbb3BfcmVsPScgKyBkYXRhLnVwZGF0ZSArICddJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm94LmZpbmQoJy5hcmN0aWNtb2RhbC1jbG9zZScpLmNsaWNrKCk7XHJcblxyXG5cclxuICAgICAgICAvL3NldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7ICQoJyNqcy1mb3JtLWFkZC1maW4nKS5zdWJtaXQoKTsgIH0sIDEwMDAgKTtcclxuXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICBib3guZmluZCgnLmpzLWVkaXQtaXRlbXMteCcpLnNob3coKTtcclxuICAgICAgICBib3guZmluZCgnLmpzLWVkaXQtaXRlbXMteCcpLnBhcmVudHMoJy5ib3gtbW9kYWwnKS5maW5kKCcuYl9sb2FkaW5nX3NtYWxsJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQntGI0LjQsdC60LAhINCX0LDQv9C+0LvQvdC40YLQtSDQstGB0LUg0L/QvtC70Y8nKTtcclxuXHJcbiAgICAgICAgLy8kKCcuanMtZm9ybS10ZW5kZXItbmV3IC5tZXNzYWdlLWZvcm0nKS5lbXB0eSgpLmFwcGVuZCgn0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQv9C+0LvRjycpLnNob3coKTtcclxuXHJcbiAgICAgICAgLy/Qv9GA0L7RhdC+0LTQuNC80Y8g0L/QviDQvNCw0YHRgdC40LLRgyDQvtGI0LjQsdC+0LpcclxuICAgICAgICAkLmVhY2goZGF0YS5lcnJvciwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKXtcclxuXHJcbiAgICAgICAgICAgIHZhciBlcnIgPSBbJ25hbWVfYiddO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVycl9uYW1lID0gWyfQvdC10LrQvtGA0YDQtdC60YLQvdC+INC30LDQv9C+0LvQvdC10L3QviAtINCd0LDQt9Cy0LDQvdC40LUnXTtcclxuXHJcbiAgICAgICAgICAgIG51bWJlcnM9JC5pbkFycmF5KHZhbHVlLCBlcnIpO1xyXG4gICAgICAgICAgICAvL2FsZXJ0KG51bWJlcnMpO1xyXG4gICAgICAgICAgICBpZihudW1iZXJzIT0tMSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgIHZhciBpbnM9bnVtYmVyW251bWJlcnNdO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAuanMtaW4nK2lucykucGFyZW50cygnLmlucHV0XzIwMTgnKS5hZGRDbGFzcygncmVxdWlyZWRfaW5fMjAxOCcpO1xyXG4gICAgJCgnLmpzLWZvcm0tdGVuZGVyLW5ldyAuanMtaW4nK2lucykucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuZGl2X25ld18yMDE4JykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZXJyb3ItbWVzc2FnZVwiPtC90LXQutC+0YDRgNC10LrRgtC90L4g0LfQsNC/0L7Qu9C90LXQvdC+INC/0L7Qu9C1PC9kaXY+Jyk7XHJcbiAgICAqL1xyXG4gICAgICAgICAgICAgICAgYWxlcnRfbWVzc2FnZSgnZXJyb3InLGVycl9uYW1lW251bWJlcnNdKTtcclxuICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vJCgnLmpzLWZvcm0tcmVnaXN0ZXIgLm1lc3NhZ2UtZm9ybScpLmVtcHR5KCkuYXBwZW5kKCfQntGI0LjQsdC60LAhICcpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnRfbWVzc2FnZSgnZXJyb3InLCfQntGI0LjQsdC60LAhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9qUXVlcnkuc2Nyb2xsVG8oJy5yZXF1aXJlZF9pbl8yMDE4OmZpcnN0JywgMTAwMCwge29mZnNldDotNzB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBBZnRlcmRlbGxpdGVtcyhkYXRhLHVwZGF0ZSlcclxue1xyXG4gICAgaWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG4gICAgICAgIFdpbmRvd0xvZ2luKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBkYXRhLnN0YXR1cz09J29rJyApIHtcclxuXHJcbiAgICAgICAgLy/QvtC/0YDQtdC00LXQu9GP0LXQvCDQsNC60YLQuNCy0L3QvtC1INGB0LXQudGH0LDRgSDQvtC60L3QvlxyXG4gICAgICAgIHZhciBib3ggPSAkKCcuYm94LW1vZGFsOmxhc3QnKTtcclxuXHJcbiAgICAgICAgYm94LmZpbmQoJy5hcmN0aWNtb2RhbC1jbG9zZScpLmNsaWNrKCk7XHJcbiAgICAgICAgLy8kKCAnLmFyY3RpY21vZGFsLWNsb3NlJywgJCgnLmpzLWZvcm0yJykuY2xvc2VzdCggJy5ib3gtbW9kYWwnICkpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgIGFsZXJ0X21lc3NhZ2UoJ29rJywn0J/QvtC30LjRhtC40Y8g0YPQtNCw0LvQtdC90LAnKTtcclxuXHJcbiAgICAgICAgJCgnLmpzLWl0ZW1zLWJsb2NrW29wX3JlbD0nK3VwZGF0ZSsnXScpLnNsaWRlVXAoXCJzbG93XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKCcuanMtaXRlbXMtYmxvY2tbb3BfcmVsPScgKyB1cGRhdGUgKyAnXScpLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL9C10YHQu9C4INC+0L0g0LHRi9C7INCyINC60L7RgNC30LjQvdC1INGD0LTQsNC70Y/QtdC8INC+0YLRgtGD0LTQsFxyXG4gICAgICAgIHZhciBpdT0kKCcuY29udGVudCcpLmF0dHIoJ2l1Jyk7XHJcbiAgICAgICAgdmFyIGNvb2tpZV9uZXcgPSAkLmNvb2tpZSgnYmFza2V0X2l0ZW1fJytpdSk7XHJcbiAgICAgICAgdmFyIGJhc2tldF9yb290ID0gQWRkRGVsbExpc3RTZXAoY29va2llX25ldywgdXBkYXRlLCAnYWRkJywgJy4nKTtcclxuICAgICAgICBpZihiYXNrZXRfcm9vdD09MClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIENvb2tpZUxpc3QoXCJiYXNrZXRfaXRlbV9cIitpdSx1cGRhdGUsJ2RlbCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBiYXNrZXRfaW5pdCgpO1xyXG5cclxuICAgICAgICAvL9GD0LzQtdC90YzRiNCw0LXQvCDQvtCx0YnQtdC1INC60L7Qu9C40YfQtdGB0YLQstC+INC60L7QvNC/0L7QvdC10L3RgtC+0LIg0LIg0LLRi9Cy0L7QtNC1INC/0L4g0YHRh9C10YLRg1xyXG4gICAgICAgIGlmKCQoJy5qcy1pbnZvaWNlLWl0LScrZGF0YS5pbnYpLmxlbmd0aCE9MClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBibG9ja19jb3VudD1wYXJzZUludCgkKCcuanMtaW52b2ljZS1pdC0nK2RhdGEuaW52KS50ZXh0KCkpO1xyXG4gICAgICAgICAgICBibG9ja19jb3VudC0tO1xyXG4gICAgICAgICAgICAkKCcuanMtaW52b2ljZS1pdC0nK2RhdGEuaW52KS5lbXB0eSgpLmFwcGVuZChibG9ja19jb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLypcclxuICog0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDRg9C00LDQu9C10L3QuNGPINC60L7QvNC/0L7QvdC10L3RgtCwINC40LdcclxuICogQHBhcmFtIGRhdGFcclxuICogQHBhcmFtIHVwZGF0ZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIEFmdGVyaXRlbXNkZXZpY2VfcmVtb3ZlKGRhdGEsdXBkYXRlKVxyXG57XHJcbiAgICBpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcbiAgICAgICAgV2luZG93TG9naW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuICAgICAgICAvL9C+0L/RgNC10LTQtdC70Y/QtdC8INCw0LrRgtC40LLQvdC+0LUg0YHQtdC50YfQsNGBINC+0LrQvdC+XHJcbiAgICAgICAgdmFyIGJveCA9ICQoJy5ib3gtbW9kYWw6bGFzdCcpO1xyXG4gICAgICAgIGJveC5maW5kKCcuYXJjdGljbW9kYWwtY2xvc2UnKS5jbGljaygpO1xyXG5cclxuICAgICAgICAvLyQoICcuYXJjdGljbW9kYWwtY2xvc2UnLCAkKCcuanMtZm9ybTInKS5jbG9zZXN0KCAnLmJveC1tb2RhbCcgKSkuY2xpY2soKTtcclxuICAgICAgICBhbGVydF9tZXNzYWdlKCdvaycsJ9Ch0LLRj9C30Ywg0YEg0YPRgdGC0YDQvtC50YHRgtCy0L7QvCDRg9C00LDQu9C10L3QsCcpO1xyXG4gICAgICAgICQoJy5qcy1pdGVtcy1zdi0nK2RhdGEuaWQpLmVtcHR5KCkuaGlkZSgpO1xyXG5cclxuICAgICAgICAvL9C+0YLQutGA0YvRgtGMINC80LXQvdGOINC90LXQtNC+0YHRgtGD0L/QvdC+0LUg0Lgg0YHQutGA0YvRgtGMINC90YPQttC90L7QtVxyXG5cclxuICAgICAgICB2YXIgbWVudV9pdGVtPSQoJy5qcy1pdGVtcy1ibG9ja1tvcF9yZWw9JytkYXRhLmlkKyddJykuZmluZCgnLmpzLW1lbnUtcm9vdCcpO1xyXG5cclxuICAgICAgICAvL2FsZXJ0KG1lbnVfaXRlbS5sZW5ndGgpO1xyXG5cclxuICAgICAgICBtZW51X2l0ZW0uZmluZCgnLmpzLW1lbnUtampzLWItaXRlbScpLnJlbW92ZUNsYXNzKCduby1kaXNwbGF5Jyk7XHJcblxyXG5cclxuICAgICAgICBtZW51X2l0ZW0uZmluZCgnW21ha2U9ZGVsbF9kZXZpY2VdJykuY2xvc2VzdCgnLmpzLW1lbnUtampzLWItaXRlbScpLmFkZENsYXNzKCduby1kaXNwbGF5Jyk7XHJcblxyXG5cclxuICAgICAgICAkKCcuanMtaXRlbXMtYmxvY2tbb3BfcmVsPScrZGF0YS5pZCsnXScpLmFkZENsYXNzKCdqcy1zZWxlY3QtaXRlbXMnKTtcclxuICAgICAgICAkKCcuanMtaXRlbXMtYmxvY2tbb3BfcmVsPScrZGF0YS5pZCsnXScpLmFkZENsYXNzKCdzZWxlY3QtaXRlbS15ZXMnKTtcclxuICAgIH1cclxufSIsIlxyXG53aW5kb3cuc2VhcmNoX21pbjIgPSAwOyAgLy/QvNC40L0g0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQuNC80LLQvtC70L7QsiDQtNC70Y8g0LHRi9GB0YLRgNC+0LPQviDQv9C+0LjRgdC60LBcclxud2luZG93LnNlYXJjaF9kZWxleTI9NTAwO1x0Ly/Qt9Cw0LTQtdGA0LbQutCwINC80LXQttC00YMg0LLQstC+0LTQsNC80Lgg0YHQuNC80LLQvtC70L7QsiAtINC90LDRh9Cw0LvQviDQv9C+0LjRgdC60LBcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBkZWxheXMgPSAoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdGltZXIgPSAwO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaywgbXMpe1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQgKHRpbWVyKTtcclxuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pKCk7XHJcbi8v0L/QvtC40YHQuiDQuNC90L/Rg9GCIC0g0LLQstC+0LQg0YLQtdC60YHRgtCwXHJcbiAgICAkKCdib2R5Jykub24oXCJrZXl1cFwiLFwiLmpzLWtleXVwLXNlYXJjaFwiLEtleVVwUyk7XHJcbiAgICAkKCdib2R5Jykub24oXCJjbGlja1wiLFwiLmpzLWtleXVwLXNlYXJjaFwiLENsaWNrVXBTKTtcclxuICAgLy/Qv9C+0LjRgdC6INC40L3Qv9GD0YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtZHJvcC1zZWFyY2ggbGknLGRyb3Bfc2VhcmNoKTsgIC8v0L3QsNC20LDRgtC40LUg0L3QsCDQvdCw0LnQtNC10L3QvdC+0LVcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtb3Blbi1zZWFyY2gnLG9wZW5fc2VhcmNoKTsgIC8v0L7RgtC60YDRi9GC0LjQtSDRgdC/0LjRgdC60LAg0L/QvtC40YHQutCwXHJcbn0pO1xyXG5mdW5jdGlvbiBDbGlja1VwUygpIHtcclxuICAgIHZhciB5aW9vPSQodGhpcykuYXR0cignb25lbGknKTtcclxuICBpZigkKHRoaXMpLnZhbCgpPT15aW9vKVxyXG4gIHtcclxuICAgICAgJCh0aGlzKS52YWwoJycpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIEtleVVwUygpIHtcclxuICAgIC8v0L7QsdC90YPQu9GP0LXQvCDQstGL0LHQvtGAXHJcbiAgICB2YXIgc2VhcmNoX2lucHV0Mj0kKHRoaXMpO1xyXG4gICAgdmFyIHNvcGVuPSQodGhpcykuYXR0cignc29wZW4nKTtcclxuXHJcbiAgICB2YXIgbHM9c2VhcmNoX2lucHV0Mi5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmF0dHIoJ2xpc3RfbnVtYmVyJyk7XHJcblxyXG4gICAgc2VhcmNoX2lucHV0Mi5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmZpbmQoJy5qcy1oaWRkZW4tc2VhcmNoJykudmFsKDApO1xyXG5cclxuICAgIGlmKGpRdWVyeS50cmltKHNlYXJjaF9pbnB1dDIudmFsKCkubGVuZ3RoKSA+PSAxKVxyXG4gICAge1xyXG4gICAgICAgICQoJy5mb3hfZGVsbDEnKS5zaG93KCk7XHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICAkKCcuZm94X2RlbGwxJykuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgZGVsYXlzKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgIGlmKGpRdWVyeS50cmltKHNlYXJjaF9pbnB1dDIudmFsKCkubGVuZ3RoKSA+PSBzZWFyY2hfbWluMilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrXHJcbiAgICAgICAgICAgICAgICAnJnNlYXJjaD0nK2VuY29kZVVSSUNvbXBvbmVudChzZWFyY2hfaW5wdXQyLnZhbCgpKTtcclxuXHJcbiAgICAgICAgICAgIHNlYXJjaF9pbnB1dDIucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuYl9sb2FkaW5nX3NtYWxsJykuZW1wdHkoKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+Jykuc2hvdygpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIEFqYXhDbGllbnQoJ3NlYXJjaCcsc29wZW4sJ0dFVCcsZGF0YSwnQWZ0ZXJTZWFyY2hUdXJvcGVyJyxscysnLCcrc29wZW4sMCwxKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSwgc2VhcmNoX2RlbGV5Mik7XHJcbn1cclxuXHJcbi8v0L/QvtGB0YLRhNGD0L3QutGG0LjRjyDQv9C+0LjRgdC60LAg0LrQu9C40LXQvdGC0LAg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4INGC0YPRgNCwINCyINCz0LvQsNCy0L3QvtC5INGE0L7RgNC80LVcclxuZnVuY3Rpb24gQWZ0ZXJTZWFyY2hUdXJvcGVyKGQsYyl7XHJcblxyXG4gICAgaWYoYyE9bnVsbCl7IGlmICh0eXBlb2YoYykgPT0gXCJzdHJpbmdcIikgeyBjID0gYy5zcGxpdCgnLCcpOyB9IGVsc2UgeyBjWzBdPWM7IH0gfVxyXG5cclxuLy8kKCcuYl9sb2FkaW5nX3NtYWxsJykucmVtb3ZlKCk7XHJcbi8vJCgnLmZveF9kZWxsMScpLnNob3coKTtcclxuICAgIC8vYWxlcnQoYyk7XHJcbiAgICB2YXIgaW5wdXRfc2VhcmNoX2FmdGVyPSQoJy5pbnB1dC1zZWFyY2gtbGlzdFtsaXN0X251bWJlcj0nK2NbMF0rJ10nKS5maW5kKCcuanMta2V5dXAtc2VhcmNoW3NvcGVuPScrY1sxXSsnXScpO1xyXG5cclxuXHJcbiAgICBpZihkLnN0YXR1cz09XCJva1wiKVxyXG4gICAge1xyXG5cclxuXHJcblxyXG5cclxuICAgICAgICBpbnB1dF9zZWFyY2hfYWZ0ZXIucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuanMtZHJvcC1zZWFyY2gnKS5lbXB0eSgpLmFwcGVuZChkLnF1ZXJ5KTtcclxuXHJcbiAgICAgICAgaW5wdXRfc2VhcmNoX2FmdGVyLnBhcmVudHMoJy5pbnB1dF8yMDE4JykuZmluZCgnLmpzLWRyb3Atc2VhcmNoJykuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDEpXCIpO1xyXG5cclxuICAgICAgICBpbnB1dF9zZWFyY2hfYWZ0ZXIucGFyZW50cygnLmlucHV0LXNlYXJjaC1saXN0JykuZmluZCgnaScpLmFkZENsYXNzKCdvcGVuLXNlYXJjaC1hY3RpdmUnKTtcclxuXHJcbiAgICB9ZWxzZXsgICBpbnB1dF9zZWFyY2hfYWZ0ZXIucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuanMtZHJvcC1zZWFyY2gnKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7ICB9XHJcblxyXG4gICAgLy8kKCcjc29ydDVjJykudW5iaW5kKCdjaGFuZ2UnKTtcclxuICAgIC8vJCgnI3NvcnQ1YycpLmJpbmQoJ2NoYW5nZScsIGNoYW5nZXNvcnQ1Yyk7XHJcblxyXG4gICAgdmFyIHVpaWk9aW5wdXRfc2VhcmNoX2FmdGVyLmF0dHIoJ29uZWxpJyk7XHJcblxyXG4gICAgaWYodWlpaSE9JycpIHtcclxuICAgICAgICBpbnB1dF9zZWFyY2hfYWZ0ZXIucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuanMtZHJvcC1zZWFyY2gnKS5wcmVwZW5kKCc8bGk+PGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKTtcIiByZWw9XCIwXCI+JyArIHVpaWkgKyAnPC9hPjwvbGk+Jyk7XHJcbiAgICB9XHJcbiAgICBpbnB1dF9zZWFyY2hfYWZ0ZXIucGFyZW50cygnLmlucHV0XzIwMTgnKS5maW5kKCcuYl9sb2FkaW5nX3NtYWxsJykuaGlkZSgpO1xyXG59XHJcblxyXG5cclxuLy/QvtGC0LrRgNGL0YLQuNGPINC/0L7QtNCx0L7RgNCwINC/0L7QuNGB0LrQsCDQsiBpbnB1dFxyXG5mdW5jdGlvbiBvcGVuX3NlYXJjaCgpXHJcbntcclxuXHJcbiAgICB2YXIgaV9vcGVuID0gJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXQtc2VhcmNoLWxpc3QnKS5maW5kKCdpJyk7XHJcbiAgICAvL2FsZXJ0KFwiMTFcIik7XHJcbiAgICBpZihpX29wZW4uaXMoXCIub3Blbi1zZWFyY2gtYWN0aXZlXCIpKVxyXG4gICAge1xyXG4gICAgICAgIGlfb3Blbi5yZW1vdmVDbGFzcygnb3Blbi1zZWFyY2gtYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXQtc2VhcmNoLWxpc3QnKS5maW5kKCcuanMtZHJvcC1zZWFyY2gnKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7XHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICBpX29wZW4uYWRkQ2xhc3MoJ29wZW4tc2VhcmNoLWFjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykucGFyZW50cygnLmlucHV0LXNlYXJjaC1saXN0JykuZmluZCgnLmpzLWRyb3Atc2VhcmNoJykuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDEpXCIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL9GB0LrRgNGL0LLQsNC10Lwg0LLRgdC1INGB0L/QuNGB0LrQuCDQutGA0L7QvNC1INGC0L7Qs9C+INC90LAg0LrQvtGC0L7RgNGL0Lkg0L3QsNC20LDQu9C4XHJcbiAgICAkKCcuc2xjdCcpLmVhY2goZnVuY3Rpb24oaSxlbGVtKVxyXG4gICAge1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuY3NzKFwidHJhbnNmb3JtXCIsIFwic2NhbGVZKDApXCIpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGVsZW1zcz0kKHRoaXMpLnBhcmVudHMoJy5pbnB1dC1zZWFyY2gtbGlzdCcpLmF0dHIoJ2xpc3RfbnVtYmVyJyk7XHJcbiAgICAvL9GB0LrRgNGL0YLRjCDQstGB0LUg0YHQv9C40YHQutC4INC/0L7QuNGB0LrQsCDQutGA0L7QvNC1INGC0L7Qs9C+INC90LAg0LrQvtGC0L7RgNGL0Lkg0L3QsNC20LDQu9C4XHJcbiAgICAkKCcuZHJvcC1zZWFyY2gnKS5lYWNoKGZ1bmN0aW9uKGksZWxlbSlcclxuICAgIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXRfMjAxOCcpLmF0dHIoJ2xpc3RfbnVtYmVyJykhPWVsZW1zcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmlucHV0LXNlYXJjaC1saXN0JykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdvcGVuLXNlYXJjaC1hY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuaW5wdXQtc2VhcmNoLWxpc3QnKS5maW5kKCcuanMtZHJvcC1zZWFyY2gnKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZVkoMClcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbn1cclxuXHJcbi8v0LLRi9Cx0L7RgCDQuNC3INC/0L7QuNGB0LrQsCDQsiBpbnB1dFxyXG5mdW5jdGlvbiBkcm9wX3NlYXJjaCgpXHJcbntcclxuICAgIHZhciBmPSQodGhpcykuZmluZChcImFcIikudGV4dCgpO1xyXG4gICAgdmFyIGU9JCh0aGlzKS5maW5kKFwiYVwiKS5hdHRyKFwicmVsXCIpO1xyXG5cclxuICAgIHZhciBpbnB1dF9wcj0kKHRoaXMpLnBhcmVudHMoJy5pbnB1dF8yMDE4Jyk7XHJcblxyXG4gICAgaW5wdXRfcHIuZmluZCgnLmNsaWNrLXNlYXJjaC1uYW1lJykuZW1wdHkoKS5hcHBlbmQoZikuc2xpZGVEb3duKFwic2xvd1wiKTtcclxuXHJcblxyXG4gICAgaW5wdXRfcHIuZmluZCgnLmpzLWhpZGRlbi1zZWFyY2gnKS52YWwoZSkuY2hhbmdlKCk7XHJcbiAgICBpbnB1dF9wci5maW5kKCcuanMta2V5dXAtc2VhcmNoJykudmFsKGYpO1xyXG4gICAgaW5wdXRfcHIucmVtb3ZlQ2xhc3MoJ3JlcXVpcmVkX2luXzIwMTgnKTtcclxuICAgICQodGhpcykucGFyZW50cygnLmlucHV0LXNlYXJjaC1saXN0JykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCdvcGVuLXNlYXJjaC1hY3RpdmUnKTtcclxuXHJcbiAgICBpbnB1dF8yMDE4KCk7XHJcblxyXG59IiwiLypcclxuXHJcbtCc0YvRiNC60LAgbG9naXRlY2ggNDAxXHJcbtCf0LDQvNGP0YLRjCBSYWRpb24gMjAwMTBcclxu0JzQvtC90LjRgtC+0YAgU2Ftc3VuZyBsMzAwMCAtINC20LjQtNC6XHJcbi4uLlxyXG58XHJcblZcclxu0KDQsNGB0LrRgNGL0YLRjCDQstGB0LUg0YHQutGA0YvRgtGMINC10YHQu9C4INC40YUg0LHQvtC70YzRiNC1INC60LDQutC+0LPQviDRgtC+INC60L7Qu9C40YfQtdGB0YLQstCwXHJcblxyXG4qL1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcblxyXG4vL9C30LDQs9GA0YPQt9C60LAg0YTQsNC50LvQvtCyXHJcbiAgICAkKCdib2R5Jykub24oXCJjbGlja1wiLCAnLmpzLW1vcmUnLCBKc01vcmVCKTtcclxuLy/Qv9C+0YHQu9C1INCy0YvQsdC+0YDQsCDRhNCw0LnQu9CwINC4INC90LDQttCw0YLQuNC1INC60L3QvtC/0LrQuCDQvtC6XHJcblxyXG59KTtcclxuXHJcblxyXG4vL9C30LDQs9GA0YPQt9C60LAg0YTQsNC50LvQvtCyIC1cdNGD0LTQsNC70LjRgtGMINC30LDQs9GA0YPQttC10L3QvdGL0Lkg0YTQsNC50Lsg0LrRgNC10YHRgtC40LpcclxuLy8gIHxcclxuLy8gXFwvXHJcbmZ1bmN0aW9uIEpzTW9yZUIoKVxyXG57XHJcblxyXG4gICAgdmFyIG1tb3I9JCh0aGlzKS5wYXJlbnRzKCcuanMtbW9yZS1ibG9jaycpO1xyXG5cclxuICAgIGlmKG1tb3IuaXMoJy5zaG93LW1vcmUtYWxsJykpXHJcbiAgICB7XHJcbiAgICAgICAgbW1vci5yZW1vdmVDbGFzcygnc2hvdy1tb3JlLWFsbCcpO1xyXG4gICAgfSBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgbW1vci5hZGRDbGFzcygnc2hvdy1tb3JlLWFsbCcpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufVxyXG4iLCIkKGZ1bmN0aW9uICgpe1xyXG5cclxuXHJcbn0pOyIsIiQoZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgLy/QuNC30LzQtdC90LjRgtGMINC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1vYmplY3QtZWRpdCcsanNfZWRpdF9vYmplY3QpO1xyXG5cclxuICAgIC8v0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLW9iamVjdC1kZWwnLGpzX29iamVjdF9kZWwpO1xyXG5cclxuICAgIC8v0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C5INC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1hZGQtb2ZmaWNlJyxvZmZpY2VfYWRkcyk7XHJcbiAgICAkKCcubWVudV94Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIixcIi5qcy1vZmZpY2UtYWRkMFwiLCBvZmZpY2VfYWRkcyk7XHJcblxyXG5cclxuXHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YIg0LzQtdC90Y4g0YHQu9C10LLQsFxyXG4gICAgJCgnLm1lbnVfeCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuanMtb2JqZWN0LWFkZDBcIiwganNfYWRkX29iamVjdCk7XHJcblxyXG4gICAgLy/Qv9C+0LvRg9GH0LXQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC+0LHRitC10LrRglxyXG4gICAgJCgnLmpzLWNsb3VkLW9iamVjdCcpLm9uKFwiY2xpY2tcIixcIi5qcy1pbmZvLW9iamVjdFwiLGRvY19vYmplY3QpO1xyXG4gICAgLy/QvdCw0LbQsNGC0LjQtSDQvdCwINCy0LrQu9Cw0LTQutGDINCyINGE0L7RgNC80LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvtCx0YrQtdC60YLRg1xyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy50YWJzc3MnLHRhYnNfb2JqZWN0KTtcclxuXHJcbn0pO1xyXG5cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQvtGE0LjRgdCwXHJcbmZ1bmN0aW9uIG9mZmljZV9hZGRzKClcclxue1xyXG4gICAgaWYodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vdmFyIGF0PSAkKHRoaXMpLmF0dHIoJ3RhYnNfZycpO1xyXG5cclxuXHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvb2JqZWN0L2Zvcm1fYWRkX29iamVjdC5waHAnLFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy/Qv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4XHJcbiAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgaWYodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxufVxyXG5cclxuXHJcbi8qKtGC0LDQsdGB0Ysg0LIg0L7QutC90LUg0L7QsSDQvtCx0YrQtdC60YLQtVxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gdGFic19vYmplY3QoKSB7XHJcbiAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICAgIHZhciB1b289JCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcbiAgICBpZiAoICQodGhpcykuaXMoXCIuYWN0aXZlXCIpIClcclxuICAgIHtcclxuICAgICAgICAvL9GD0LbQtSDQsNC60YLQuNCy0L3QsNGPINCy0LrQu9Cw0LTQutCwXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICAkKCcuY2xpZW50X3dpbmRvdyAucHhfYmcnKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgJCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzc3MnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzc3NbaWQ9Jyt1b28rJ10nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIC8vdmFyIGtleV89JzAwMlUnO1xyXG5cclxuICAgICAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWRfdGFicz0nKyQodGhpcykuYXR0cihcImlkXCIpK1xyXG4gICAgICAgICAgICAnJnRrPScrJCgnLmgxMTEnKS5hdHRyKCdtb3InKStcclxuICAgICAgICAgICAgJyZpZD0nKyQoJy5oMTExJykuYXR0cignZm9yJyk7XHJcbiAgICAgICAgLy9hbGVydChkYXRhKTtcclxuICAgICAgICBBamF4Q2xpZW50KCdvYmplY3QnLCd0YWJzX2luZm8nLCdHRVQnLGRhdGEsJ0FmdGVyVGFic0luZm8nLCQodGhpcykuYXR0cihcImlkXCIpLDApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoq0LLRi9Cy0L7QtCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC+0LHRitC10LrRgtGDXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkb2Nfb2JqZWN0KGV2ZW50KVxyXG57XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgLy/QtdGB0LvQuCDRjdGC0L4g0L3QtSDQvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDRg9C00LDQu9C40YLRjCDRgtC+INC+0YLQutGA0YvRgtC40LUg0LjQvdGE0L7RgNC80LDRhtC40LhcclxuICAgIGlmICgoISR0YXJnZXQuaGFzQ2xhc3MoJ2pzLW9iamVjdC1kZWwnKSkmJighJHRhcmdldC5oYXNDbGFzcygnanMtb2JqZWN0LWVkaXQnKSkpIHtcclxuXHJcblxyXG4gICAgICAgIHZhciBmb3JfaWQgPSAkKHRoaXMpLmF0dHIoJ29wX3JlbCcpO1xyXG5cclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9vYmplY3QvZm9ybV9kb2Nfb2JqZWN0LnBocD9pZD0nICsgZm9yX2lkICsgJyZ0YWJzPTAnLFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgICAgICBUb29sVGlwKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuINC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YJcclxuICoqL1xyXG5mdW5jdGlvbiBqc19hZGRfb2JqZWN0KClcclxue1xyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL29iamVjdC9mb3JtX2FkZF9vYmplY3QucGhwJyxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQuNC30LzQtdC90LjRgtGMINCe0LHRitC10LrRgtCwXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19lZGl0X29iamVjdChldmVudClcclxue1xyXG4gICAgLy9hbGVydChcIiFcIik7XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcub2JqZWN0X2Jsb2NrX3Bhc3MnKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgIH1cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9vYmplY3QvZm9ybV9lZGl0X29iamVjdC5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqINGD0LTQsNC70LjRgtGMINC+0LHRitC10LrRglxyXG4gKi9cclxuZnVuY3Rpb24ganNfb2JqZWN0X2RlbChldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcub2JqZWN0X2Jsb2NrX3Bhc3MnKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvb2JqZWN0L2Zvcm1fZGVsbF9vYmplY3QucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbn0iLCIkKGZ1bmN0aW9uICgpe1xyXG5cclxuICAgIC8v0LjQt9C80LXQvdC40YLRjCDQvtCx0YrQtdC60YJcclxuICAgIC8vJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1wYXNzLWVkaXQnLGpzX2VkaXRfcGFzcyk7XHJcblxyXG4gICAgLy/Rg9C00LDQu9C40YLRjCDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtcGFzcy1kZWwnLGpzX3Bhc3NfZGVsKTtcclxuXHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtYWRkLXBhc3MnLGpzX2FkZF9wYXNzKTtcclxuXHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YIg0LzQtdC90Y4g0YHQu9C10LLQsFxyXG4gICAgJCgnLm1lbnVfeCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuanMtcGFzcy1hZGQwXCIsIGpzX2FkZF9wYXNzKTtcclxuXHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0LrQvtC80LzQtdC90YLQsNGA0LjQuVxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1hZGQtY29tbWVudC10cmlwcycse2tleTogXCIwMDhVXCJ9LGFkZF9jb21tX3RyaXBzKTtcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtZXhpdC1mb3JtLWNvbW0tdHJpcHMnLGV4aXRfY29tbV90cmlwcyk7XHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWFkZC1jb21tZW50LXllcy10cmlwcycsYWRkX2NvbW1lbnRfeWVzX3RyaXBzKTtcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtY29tLXRyaXBzLWRlbCcsZGVsX2NvbW1fdHJpcHMpO1xyXG5cclxuICAgIC8v0L/QvtC70YPRh9C10L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L4g0L3QsNC20LDRgtC40Y4g0L3QsCDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNsaWNrXCIsXCIuanMtaW5mby1wYXNzXCIsZG9jX3Bhc3MpO1xyXG4gICAgLy/QvdCw0LbQsNGC0LjQtSDQvdCwINCy0LrQu9Cw0LTQutGDINCyINGE0L7RgNC80LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvtCx0YrQtdC60YLRg1xyXG5cclxuXHJcblxyXG4gICAgLy/QkdGL0YHRgtGA0YvQuSDQv9C+0LjRgdC6INC/0YDQvtC/0YPRgdC60LBcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtc2VhcmNoLWdsb2JhbC1wYWdlJyxqc19zZWFyY2hfZ2xvYmFsX3BhZ2UpO1xyXG5cclxuXHJcblxyXG4vL9C+0YHRgtCw0LvRjNC90YvQtSDQutC70LjQtdC90YLRiyDQstGL0LHQvtGAINC60LvQuNC10L3RgtCwINCyINGC0YPRgNC1XHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWVzaGUtY2xpZW50LXgnLGVzaGVfc2F5X2NsaWVudCk7XHJcbi8v0LLQstC+0LQg0L/QvtC40YHQutCwINCyINC60LvQuNC10L3RgtC1INC/0YDQuCDQstGL0LHQvtGA0LUg0LrQu9C40LXQvdGC0LBcclxuXHJcbi8v0LLQstC+0LQg0LIg0YHRgtGA0L7QutC1INC/0L7QuNGB0LrQsCDRgtGD0YDQuNGB0YLQsFxyXG4gICAgJCgnYm9keScpLm9uKFwia2V5dXBcIiwnLmpzLWNob2ljZS1rZXl1cCcsanNfY2hvaWNlX2tleXVwKTtcclxuXHJcbn0pO1xyXG5cclxuLy/QstCy0L7QtCDRgtC10LrRgdGC0LAg0LIg0L/QvtC40YHQutC1INCyINGE0L7RgNC80LUgZm9ybV9jaG9pY2VfY2xpZW50XHJcbmZ1bmN0aW9uIGpzX2Nob2ljZV9rZXl1cCgpXHJcbntcclxuICAgIHZhciBzZWFyY2hfbWluMl9zZWFyY2hfYyA9IDI7ICAvL9C80LjQvSDQutC+0LvQuNGH0LXRgdGC0LLQviDRgdC40LzQstC+0LvQvtCyINC00LvRjyDQsdGL0YHRgtGA0L7Qs9C+INC/0L7QuNGB0LrQsFxyXG4gICAgdmFyIHNlYXJjaF9kZWxleTJfc2VhcmNoX2M9ODAwO1x0Ly/Qt9Cw0LTQtdGA0LbQutCwINC80LXQttC00YMg0LLQstC+0LTQsNC80Lgg0YHQuNC80LLQvtC70L7QsiAtINC90LDRh9Cw0LvQviDQv9C+0LjRgdC60LAg0YLQtdC70LXRhNC+0L3QsCDQsiDQsdCw0LfQtVxyXG4gICAgdmFyIG9iamVjdF9rZXk9JCgnLmpzLWNob2ljZS1rZXl1cCcpO1xyXG5cclxuICAgIGRlbGF5cyhmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vYWxlcnQob2JqZWN0X2tleS52YWwoKSk7XHJcblxyXG4gICAgICAgIGlmKChqUXVlcnkudHJpbShvYmplY3Rfa2V5LnZhbCgpLmxlbmd0aCkgPj0gc2VhcmNoX21pbjJfc2VhcmNoX2MpfHwoalF1ZXJ5LnRyaW0ob2JqZWN0X2tleS52YWwoKS5sZW5ndGgpPT0wKSlcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdmFsMT0gJCgnLmpzLXRhYnMtbWVudS1jaG9pY2hlJykuZmluZCgnLmFjdGl2ZScpLmF0dHIoJ2lkJyk7XHJcbiAgICAgICAgICAgIGlmKHZhbDEgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YWwxPTQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrXHJcbiAgICAgICAgICAgICAgICAnJmFsbD0nKyQoJy5qcy1lc2hlLWNsaWVudC14JykuYXR0cihcImFsbFwiKStcclxuICAgICAgICAgICAgICAgICcmdGs9JyskKCcuanMtc19mb3JtX3h4JykuYXR0cignbW9yJykrXHJcbiAgICAgICAgICAgICAgICAnJmlkPScrJCgnLmpzLXNfZm9ybV94eCcpLmF0dHIoJ2ZvcicpK1xyXG4gICAgICAgICAgICAgICAgJyZzZWFyY2g9JytlbmNvZGVVUklDb21wb25lbnQob2JqZWN0X2tleS52YWwoKSkrXHJcbiAgICAgICAgICAgICAgICAnJnRhYnM9Jyt2YWwxO1xyXG5cclxuXHJcbiAgICAgICAgICAgICQoJy5qcy1pY29uLWxvYWQnKS5oaWRlKCkuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfc21hbGxcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDotMjBweDsgcG9zaXRpb246cmVsYXRpdmU7IHRvcDogMHB4OyByaWdodDogMHB4OyBwYWRkaW5nLXRvcDowcHg7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgICAgIEFqYXhDbGllbnQoJ3Bhc3MnLCdzZWFyY2hfcGFzcycsJ0dFVCcsZGF0YSwnQWZ0ZXJTZWFyY2hDbGllbnRUJywxLDApO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfSwgc2VhcmNoX2RlbGV5Ml9zZWFyY2hfYyk7XHJcbn1cclxuXHJcbi8v0L/QvtGB0YLRg9C90LrRhtC40Y8g0L/QvtC70YPRh9C10L3QuNGPINGB0L/QuNGB0LrQsCDQutC70LjQtdC90YLQvtCyINC/0YDQuCDQv9C+0LjRgdC60LUg0LrQu9C40LXQvdGC0L7QslxyXG5mdW5jdGlvbiBBZnRlclNlYXJjaENsaWVudFQoZCxjKVxyXG57XHJcbiAgICAkKCcuYl9sb2FkaW5nX3NtYWxsJykucmVtb3ZlKCk7XHJcbiAgICAkKCcuanMtaWNvbi1sb2FkJykuc2hvdygpO1xyXG5cclxuXHJcblxyXG4gICAgaWYoZC5zdGF0dXM9PVwib2tcIil7XHJcbiAgICAgICAgJCgnLmpzLWVzaGUtY2xpZW50LXgnKS5hdHRyKCdwZycsMSk7XHJcbiAgICAgICAgJCgnLmpzLWVzaGUtY2xpZW50LXgnKS5hdHRyKCdzdGFydCcsMCk7XHJcbiAgICAgICAgJCgnLmxpc3Qtc2Nyb2xsLWNsaWVudCcpLmZpbmQoJy5ibG9ja19wYXNzX3NtYWxsJykucmVtb3ZlKCk7XHJcbiAgICAgICAgJCgnLmxpc3Qtc2Nyb2xsLWNsaWVudCcpLnByZXBlbmQoZC5xdWVyeSk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIGlmKGQucXVlcnk9PScnKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLmpzLW1lc3NhZ2Utc2VhcmNoLWNjJykuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLmpzLW1lc3NhZ2Utc2VhcmNoLWNjJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoZC5lc2hlPT0xKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLmpzLWVzaGUtY2xpZW50LXgnKS5zaG93KCk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcuanMtZXNoZS1jbGllbnQteCcpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuXHJcbiAgICAgICAgJChcIi5saXN0LXNjcm9sbC1jbGllbnRcIikuaGlkZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vL9C/0L7QutCw0LfQsNGC0Ywg0LTRgNGD0LPQuNGFINC60LvQuNC10L3RgtC+0LIg0L/RgNC4INCy0YvQsdC+0YDQtSDQutC90L7Qv9C60LAg0LXRidC1XHJcbnZhciBlc2hlX3NheV9jbGllbnQgPSBmdW5jdGlvbigpXHJcbntcclxuICAgIC8vYWxlcnQoXCIhXCIpO1xyXG4gICAgdmFyIHBnPSQodGhpcykuYXR0cihcInBnXCIpO1xyXG4gICAgdmFyIHN0YXJ0PSQodGhpcykuYXR0cihcInN0YXJ0XCIpO1xyXG4gICAgdmFyIGFsbD0kKHRoaXMpLmF0dHIoXCJhbGxcIik7XHJcblxyXG5cclxuXHJcbiAgICAkKCcuanMtZXNoZS1jbGllbnQteCcpLmVtcHR5KCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgdG9wOiAtNXB4O1wiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX3dyYXBwZXJfc21hbGxcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGxcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV9vbmVfc21hbGwgYl9sb2FkaW5nX2NpcmNsZV9kZWxheWVkX3NtYWxsXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XHJcblxyXG4gICAgdmFyIHZhbDE9ICQoJy5qcy10YWJzLW1lbnUtY2hvaWNoZScpLmZpbmQoJy5hY3RpdmUnKS5hdHRyKCdpZCcpO1xyXG4gICAgaWYodmFsMT09IHVuZGVmaW5lZClcclxuICAgIHtcclxuICAgICAgICB2YWwxPTQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZwZz0nK3BnKycmc3RhcnQ9JytzdGFydCsnJmFsbD0nK2FsbCtcclxuICAgICAgICAnJnRrPScrJCgnLmpzLXNfZm9ybV94eCcpLmF0dHIoJ21vcicpK1xyXG4gICAgICAgICcmaWQ9JyskKCcuanMtc19mb3JtX3h4JykuYXR0cignZm9yJykrXHJcbiAgICAgICAgJyZxdWVyeT0nK2VjKCQoJy5qcy1jaG9pY2Uta2V5dXAnKS52YWwoKSkrXHJcbiAgICAgICAgJyZ0YWJzPScrdmFsMTtcclxuICAgIEFqYXhDbGllbnQoJ3Bhc3MnLCd0YWJzX3Bhc3NfZXNoZScsJ0dFVCcsZGF0YSwnQWZ0ZXJDbGllbnRFc2hlJywxLDApO1xyXG59XHJcblxyXG4vL9C/0L7RgdGC0YTRg9C90LrRhtC40Y8g0L/QvtC60LDQt9Cw0YLRjCDQtdGJ0LUg0LrQu9C40LXQvdGC0L7QsiDQv9GA0Lgg0LLRi9Cx0L7RgNC1INC60LvQuNC10L3RgtCwXHJcbmZ1bmN0aW9uIEFmdGVyQ2xpZW50RXNoZShkYXRhLHVwZGF0ZSlcclxue1xyXG4gICAgaWYgKCBkYXRhLnN0YXR1cz09J3JlZycgKVxyXG4gICAge1xyXG4gICAgICAgIFdpbmRvd0xvZ2luKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoIGRhdGEuc3RhdHVzPT0nb2snIClcclxuICAgIHtcclxuICAgICAgICAkKCcuanMtZXNoZS1jbGllbnQteCcpLmJlZm9yZShkYXRhLmVjaG8pO1xyXG4gICAgICAgIGlmKGRhdGEuZXNoZT09MSlcclxuICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICAkKCcuanMtZXNoZS1jbGllbnQteCcpLmF0dHIoJ3BnJyxkYXRhLnBnKS5lbXB0eSgpLmFwcGVuZCgnPHNwYW4+0L/QvtC60LDQt9Cw0YLRjCDQtdGJ0LU8L3NwYW4+Jyk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcuanMtZXNoZS1jbGllbnQteCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLmpzLWVzaGUtY2xpZW50LXgnKS5lbXB0eSgpLmFwcGVuZCgnPHNwYW4+0L/QvtC60LDQt9Cw0YLRjCDQtdGJ0LU8L3NwYW4+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFRvb2xUaXAoKTtcclxuICAgIH1cclxufVxyXG5cclxuLy/QvdCw0LbQsNGC0LjQtSDQvdCwINCz0LvQsNCy0L3QvtC5INC90LAg0LrQvdC+0L/QutGDINC90LDQudGC0Lgg0L/RgNC+0L/Rg9GB0LpcclxuZnVuY3Rpb24ganNfc2VhcmNoX2dsb2JhbF9wYWdlKClcclxue1xyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL3Bhc3MvZm9ybV9jaG9pY2VfcGFzcy5waHA/dGFicz0xJnRhYnNzPWFsbCZzZXZlcmFsPTAmcG9zdGE9Y2hvaWNlX3VzZXJfdGFzazEmbmV3PTAnLFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgVG9vbFRpcCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqINGD0LTQsNC70LjRgtGMINC40Lcg0LjRgdGC0L7RgNC40Lgg0YfRgtC+LdGC0L4g0LIg0YLRg9GA0LDRhVxyXG4gKi9cclxuZnVuY3Rpb24gZGVsX2NvbW1fdHJpcHMoZXZlbnQpXHJcbntcclxuXHJcbiAgICB2YXIgZGVsX2lkPSQodGhpcykucGFyZW50cygnLmNvbW0tdHJpcHMtYmxvY2snKS5hdHRyKCdyZWxfbm90aWJzcycpO1xyXG5cclxuICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrXHJcbiAgICAgICAgJyZpZD0nKyQoJy5oMTExJykuYXR0cignZm9yJykrJyZzZWw9JytkZWxfaWQ7XHJcblxyXG4gICAgJCgnLmNvbW0tdHJpcHMtYmxvY2tbcmVsX25vdGlic3M9JytkZWxfaWQrJ10nKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuXHJcbiAgICBBamF4Q2xpZW50KCdkZXZpY2VzJywnZGVsbF9jb21tJywnR0VUJyxkYXRhLCdBZnRlclplcm8nLGRlbF9pZCwwLDEpO1xyXG5cclxuICAgIGFsZXJ0X21lc3NhZ2UoJ29rJywn0JrQvtC80LzQtdC90YLQsNGA0LjQuSDQuiDRg9GB0YLRgNC+0LnRgdGC0LLRgyDRg9C00LDQu9C10L0nKTtcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQvdCw0LbQsNGC0Ywg0L3QsCDQutC90L7Qv9C60YMg0L7RgtC80LXQvdC40YLRjCDQutC+0LzQvNC10L3RgtCw0YDQuNC5INCyINC20YPRgNC90LDQu9C1INGC0YPRgNCwINGD0LbQtSDQsiDRhNC+0YDQvNC1INC00L7QsdCw0LLQu9C10L3QuNGPXHJcbiAqL1xyXG5mdW5jdGlvbiBhZGRfY29tbWVudF95ZXNfdHJpcHMoZXZlbnQpXHJcbntcclxuICAgIHZhciBlcnIgPSAwO1xyXG4gICAgLy9hbGVydChcIiFcIik7XHJcblxyXG4gICAgdmFyIGZvcm1fbW92ZT0kKHRoaXMpLnBhcmVudHMoJy5qcy1zc2F5Jyk7XHJcbiAgICAvL3ZhciBmb3JtX21vdmU9JCgnLmpzLWNvbW1lbnQtYWRkLScrZXZlbnQuZGF0YS5rZXkpXHJcblxyXG4gICAgZm9ybV9tb3ZlLmZpbmQoXCIuZGl2X3RleHRhcmVhX3NheVwiKS5yZW1vdmVDbGFzcygnZXJyb3JfdGV4dGFyZWFfMjAxOCcpO1xyXG5cclxuICAgIGlmKGZvcm1fbW92ZS5maW5kKCcuanMtY29tbWVudC1hZGQtdHJpcHMtdicpLnZhbCgpID09ICcnKVxyXG4gICAge1xyXG4gICAgICAgIGZvcm1fbW92ZS5maW5kKFwiLmRpdl90ZXh0YXJlYV9zYXlcIikuYWRkQ2xhc3MoJ2Vycm9yX3RleHRhcmVhXzIwMTgnKTtcclxuICAgICAgICBlcnI9MTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBpZihlcnI9PTApXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGlkX3RyaXBzPSQoJy5nbG9hYi1jYycpLmF0dHIoJ2ZvcicpO1xyXG4gICAgICAgLy8gdmFyIGZvcl9pZD0kKCcuZ2xvYWItY2MnKS5hdHRyKCdmb3InKTtcclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSd1cmw9Jyt3aW5kb3cubG9jYXRpb24uaHJlZitcclxuICAgICAgICAgICAgJyZpZD0nK2lkX3RyaXBzKycmdGV4dD0nK2VjKGZvcm1fbW92ZS5maW5kKCcuanMtY29tbWVudC1hZGQtdHJpcHMtdicpLnZhbCgpKTtcclxuXHJcblxyXG4gICAgICAgIC8v0LjQt9C80LXQvdC40YLRjCDQutC90L7Qv9C60YMg0L3QsCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICBmb3JtX21vdmUuZmluZCgnLmpzLWFkZC1jb21tZW50LXllcy10cmlwcycpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgZm9ybV9tb3ZlLmZpbmQoJy5qcy1leGl0LWZvcm0tY29tbS10cmlwcycpLmhpZGUoKS5hZnRlcignPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7IHdpZHRoOiA0MHB4O3BhZGRpbmctdG9wOiA3cHg7dG9wOiBhdXRvO3JpZ2h0OiBhdXRvO2xlZnQ6IGF1dG87XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgQWpheENsaWVudCgnZGV2aWNlcycsJ2FkZF9jb21tZW50JywnR0VUJyxkYXRhLCdBZnRlckFkZENvbW1lbnRUcmlwcycsaWRfdHJpcHMsMCwxKTtcclxuXHJcblxyXG4gICAgfWVsc2VcclxuICAgIHtcclxuICAgICAgICB2YXIgdGV4dF9iYjIyID0gJCgnLmpzLWFkZC1zYXknKS50ZXh0KCk7XHJcbiAgICAgICAgJCgnLmpzLWFkZC1zYXknKS5lbXB0eSgpLmFwcGVuZCgn0J7RiNC40LHQutCwINC30LDQv9C+0LvQvdC10L3QuNGPIScpO1xyXG4gICAgICAgICQoJy5qcy1hZGQtc2F5JykuYWRkQ2xhc3MoJ25ldy1zYXkxJyk7XHJcbiAgICAgICAgc2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgJCgnLmpzLWFkZC1zYXknKS5yZW1vdmVDbGFzcygnbmV3LXNheTEnKTsgJCgnLmpzLWFkZC1zYXknKS5lbXB0eSgpLmFwcGVuZCh0ZXh0X2JiMjIpOyAgfSwgNDAwMCApO1xyXG4gICAgICAgIGFsZXJ0X21lc3NhZ2UoJ2Vycm9yJywn0JfQsNC/0L7Qu9C90LjRgtC1INC60L7QvNC80LXQvdGC0LDRgNC40LknKTtcclxuXHJcblxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICpcclxuICog0J/QvtGB0YLRhNGD0L3QutGG0LjRjyDQtNC+0LHQsNCy0LjRgtGMINC60L7QvNC80LXQvdGC0LDRgNC40Lkg0LIg0LbRg9GA0L3QsNC70LUg0L4g0YLRg9GA0LVcclxuICogQHBhcmFtIGRhdGFcclxuICogQHBhcmFtIHVwZGF0ZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIEFmdGVyQWRkQ29tbWVudFRyaXBzKGRhdGEsdXBkYXRlKVxyXG57XHJcbiAgICBpZiAoIGRhdGEuc3RhdHVzPT0ncmVnJyApXHJcbiAgICB7XHJcbiAgICAgICAgV2luZG93TG9naW4oKTtcclxuICAgIH1cclxuICAgIGlmICggZGF0YS5zdGF0dXM9PSdvaycgKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBmb3JtX21vdmU9JCgnLmJveC1tb2RhbCcpLmZpbmQoJy5qcy1zc2F5Jyk7XHJcblxyXG4gICAgICAgIGZvcm1fbW92ZS5maW5kKCcuanMtYWRkLWNvbW1lbnQteWVzLXRyaXBzJykuc2hvdygpO1xyXG4gICAgICAgIGZvcm1fbW92ZS5maW5kKCcuanMtZXhpdC1mb3JtLWNvbW0tdHJpcHMnKS5zaG93KCk7XHJcblxyXG5cclxuICAgICAgICBmb3JtX21vdmUuZmluZCgnLmJfbG9hZGluZ19zbWFsbCcpLnJlbW92ZSgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIGZvcm1fbW92ZS5zbGlkZVVwKCBcInNsb3dcIiApO1xyXG4gICAgICAgIGZvcm1fbW92ZS5wcmV2KCkuc2xpZGVEb3duKCBcInNsb3dcIiApO1xyXG5cclxuXHJcbiAgICAgICAgZm9ybV9tb3ZlLmZpbmQoJy5qcy1jb21tZW50LWFkZC10cmlwcy12JykudmFsKCcnKTtcclxuXHJcbiAgICAgICAgZm9ybV9tb3ZlLmFmdGVyKGRhdGEuZWNobyk7XHJcbiAgICAgICAgc2V0VGltZW91dCAoIGZ1bmN0aW9uICgpIHsgZm9ybV9tb3ZlLnBhcmVudHMoJy5ib3gtbW9kYWwnKS5maW5kKCAnLm5ldy1zYXktY29tLXQgJyApLnJlbW92ZUNsYXNzKCduZXctc2F5LWNvbS10ICcpOyB9LCA0MDAwICk7XHJcbiAgICAgICAgVG9vbFRpcCgpO1xyXG5cclxuICAgICAgICBmb3JtX21vdmUuZmluZCgnLmpzLW1lc3NhZ2UtY29tLXQnKS5zbGlkZVVwKFwic2xvd1wiKTtcclxuICAgICAgICBhbGVydF9tZXNzYWdlKCdvaycsJ9Ca0L7QvNC80LXQvdGC0LDRgNC40Lkg0Log0YPRgdGC0YDQvtC50YHRgtCy0YMg0LTQvtCx0LDQstC70LXQvScpO1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuLypcclxuICog0L3QsNC20LDRgtGMINC90LAg0LrQvdC+0L/QutGDINC+0YLQvNC10L3QuNGC0Ywg0LrQvtC80LzQtdC90YLQsNGA0LjQuSDQsiDQttGD0YDQvdCw0LvQtSDRgtGD0YDQsFxyXG4gKi9cclxuZnVuY3Rpb24gZXhpdF9jb21tX3RyaXBzKGV2ZW50KVxyXG57XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5qcy1zc2F5Jykuc2xpZGVVcChcInNsb3dcIik7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5qcy1zc2F5JykucHJldigpLnNsaWRlRG93biggXCJzbG93XCIgKTtcclxufVxyXG5cclxuLypcclxuICog0L3QsNC20LDRgtGMINC90LAg0LrQvdC+0L/QutGDINC00L7QsdCw0LLQuNGC0Ywg0LrQvtC80LzQtdC90YLQsNGA0LjQuSDQsiDQttGD0YDQvdCw0LvQtSDRgtGD0YDQsFxyXG4gKi9cclxuZnVuY3Rpb24gYWRkX2NvbW1fdHJpcHMoZXZlbnQpXHJcbntcclxuICAgICQodGhpcykuc2xpZGVVcChcInNsb3dcIik7XHJcbiAgICAkKHRoaXMpLm5leHQoKS5zbGlkZURvd24oIFwic2xvd1wiICk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8q0LLRi9Cy0L7QtCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC+0LHRitC10LrRgtGDXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkb2NfcGFzcyhldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7XHJcbiAgICAvL9C10YHQu9C4INGN0YLQviDQvdC1INC90LDQttCw0YLQuNC1INC90LAg0LrQvdC+0L/QutC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINGD0LTQsNC70LjRgtGMINGC0L4g0L7RgtC60YDRi9GC0LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuFxyXG4gICAgaWYgKCghJHRhcmdldC5oYXNDbGFzcygnanMtbWVudS1qanMtYicpKSYmKCEkdGFyZ2V0Lmhhc0NsYXNzKCdtb3JlX3N1cHBseTEnKSkmJighJHRhcmdldC5oYXNDbGFzcygnanMtbm8tbm8tY2xpY2snKSkpIHtcclxuXHJcbiAgICAgICAgdmFyIGZvcl9pZCA9ICQodGhpcykuYXR0cigncGFzc19yZWwnKTtcclxuXHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICAgICAgdXJsOiAnZm9ybXMvcGFzcy9mb3JtX2RvY19wYXNzLnBocD9pZD0nICsgZm9yX2lkICsgJyZ0YWJzPTAnLFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgICAgICBUb29sVGlwKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKlxyXG4g0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C5INC+0LHRitC10LrRglxyXG4gKi9cclxuZnVuY3Rpb24ganNfYWRkX3Bhc3MoKVxyXG57XHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvcGFzcy9mb3JtX2FkZF9wYXNzLnBocCcsXHJcbiAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgVG9vbFRpcCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKlxyXG4gKiDQuNC30LzQtdC90LjRgtGMINCe0LHRitC10LrRgtCwXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19lZGl0X3Bhc3MoZXZlbnQpXHJcbntcclxuICAgIC8vYWxlcnQoXCIhXCIpO1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcbiAgICBpZigkKHRoaXMpLmlzKCdbaWRfcmVsXScpKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLnBhc3NfYmxvY2tfcGFzcycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9wYXNzL2Zvcm1fZWRpdF9wYXNzLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuLypcclxuICog0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19wYXNzX2RlbChldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcucGFzc19ibG9ja19wYXNzJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL3Bhc3MvZm9ybV9kZWxsX3Bhc3MucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICBUb29sVGlwKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLypcclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9wYXNzL2Zvcm1fZGVsbF9wYXNzLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmcnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZ09uU2hvdzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nT25TaG93Jyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiovXHJcbn0iLCIkKGZ1bmN0aW9uICgpe1xyXG5cclxuICAgIC8v0LjQt9C80LXQvdC40YLRjCDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtcGVyc29uLWVkaXQnLGpzX2VkaXRfcGVyc29uKTtcclxuXHJcbiAgICAvL9C60LvQuNC60L3Rg9GC0Ywg0L3QsCDRh9GC0L4g0YLQviDQsiDRgNCw0YHQutGA0YvQstCw0Y7RidC10Lwg0LzQtdC90Y4g0YLQvtGH0LrQuFxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5tZW51X2pqcyAuanMtbWVudS1qanMtYicsbWVudWJ1dHRjbGlja19wZXJzb24pO1xyXG5cclxuXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWluZm8tcGVyc29uJyxkb2NfcGVyc29uKTtcclxuICAgIC8v0L3QsNC20LDRgtC40LUg0L3QsCDQstC60LvQsNC00LrRgyDQsiDRhNC+0YDQvNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L4g0L7QsdGK0LXQutGC0YNcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtdGFicy1wZXJzb24nLHRhYnNfcGVyc29uKTtcclxuXHJcbiAgICAvL9GD0LTQsNC70LjRgtGMINC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1wZXJzb24tZGVsJyxqc19wZXJzb25fZGVsKTtcclxuXHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtYWRkLXBlcnNvbicsanNfYWRkX3BlcnNvbik7XHJcblxyXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0L7QsdGK0LXQutGCINC80LXQvdGOINGB0LvQtdCy0LBcclxuICAgICQoJy5tZW51X3gnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLXBlcnNvbi1hZGQwXCIsIGpzX2FkZF9wZXJzb24pO1xyXG5cclxuICAgIC8v0L3QsNCx0L7RgCDRgtC10LrRgdGC0LAg0LIg0L/QvtC40YHQutC1XHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXRleHQtc2VhcmNoLXgnLGNoYW5nZXNvcnRfc3RvY2syKTtcclxuXHJcbiAgICAvL9Cy0YvQsdC+0YAg0LIg0LzQtdC90Y8g0L/QvtC40YHQutCwINCyINC60LvQuNC10L3RgtC1XHJcbiAgICB2YXIgY2hhbmdlc29ydDFjID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHJcbiAgICAgICAgJC5jb29raWUoXCJzdV8xY1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcbiAgICAgICAgQ29va2llTGlzdChcInN1XzFjXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuICAgIH07XHJcbiAgICAkKCcjc29ydDFjJykuYmluZCgnY2hhbmdlJywgY2hhbmdlc29ydDFjKTtcclxuXHJcbiAgICAvL9Cy0YvQsdC+0YAg0LIg0LzQtdC90Y8g0L/QvtC40YHQutCwINCyINC60LvQuNC10L3RgtC1XHJcbiAgICB2YXIgY2hhbmdlc29ydDNjID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuXHJcbiAgICAgICAgJC5jb29raWUoXCJzdV8zY1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcbiAgICAgICAgQ29va2llTGlzdChcInN1XzNjXCIraXUsJCh0aGlzKS52YWwoKSwnYWRkJyk7XHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuICAgIH07XHJcbiAgICAkKCcjc29ydDNjJykuYmluZCgnY2hhbmdlJywgY2hhbmdlc29ydDNjKTtcclxuXHJcblxyXG4gICAgLy/QstCy0L7QtCDQsiDQv9C+0LjRgdC60LVcclxuXHJcbiAgICB2YXIgY2hhbmdlc29ydDdjID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGl1PSQoJy5jb250ZW50JykuYXR0cignaXUnKTtcclxuICAgICAgICAkLmNvb2tpZShcInN1XzdjXCIraXUsIG51bGwsIHtwYXRoOicvJyxkb21haW46IHdpbmRvdy5pc19zZXNzaW9uLHNlY3VyZTogZmFsc2V9KTtcclxuICAgICAgICBDb29raWVMaXN0KFwic3VfN2NcIitpdSwkKHRoaXMpLnZhbCgpLCdhZGQnKTtcclxuXHJcbiAgICAgICAgJCgnLmpzLXJlbG9hZC10b3AnKS5yZW1vdmVDbGFzcygnYWN0aXZlLXInKTtcclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLmFkZENsYXNzKCdhY3RpdmUtcicpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgJCgnI25hbWVfc3RvY2tfc2VhcmNoJykuYmluZCgnY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrJywgY2hhbmdlc29ydDdjKTtcclxuXHJcblxyXG4gICAgLy/QutGA0LXRgdGC0LjQuiDQv9GA0Lgg0L/QvtC40YHQutC1INCyINC60LvQuNC10L3RgtCw0YUg0YfQsNGB0YLQvdGL0LUg0LvQuNGG0LBcclxuICAgIHZhciBjaGFuZ2Vzb3J0X3N0b2NrMl9fPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaXU9JCgnLmNvbnRlbnQnKS5hdHRyKCdpdScpO1xyXG4gICAgICAgICQodGhpcykucHJldigpLnZhbCgnJyk7XHJcbiAgICAgICAgJC5jb29raWUoXCJzdV83Y1wiK2l1LCBudWxsLCB7cGF0aDonLycsZG9tYWluOiB3aW5kb3cuaXNfc2Vzc2lvbixzZWN1cmU6IGZhbHNlfSk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykucmVtb3ZlQ2xhc3MoJ2dyZWVpX2lucHV0Jyk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykuZmluZCgnaW5wdXQnKS5yZW1vdmVBdHRyKCdyZWFkb25seScpO1xyXG5cclxuICAgICAgICAkKCcuanMtcmVsb2FkLXRvcCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtcicpO1xyXG4gICAgICAgICQoJy5qcy1yZWxvYWQtdG9wJykuYWRkQ2xhc3MoJ2FjdGl2ZS1yJyk7XHJcblxyXG4gICAgICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuLy/Rg9C00LDQu9C40YLRjCDQv9C+0LjRgdC6INC/0L4g0YLQtdC60YHRgtGDINCyINC60LvQuNC10L3RgtCw0YVcclxuICAgICQoJy5kZWxsX3N0b2NrX3NlYXJjaCcpLmJpbmQoJ2NoYW5nZSBrZXl1cCBpbnB1dCBjbGljaycsIGNoYW5nZXNvcnRfc3RvY2syX18pO1xyXG5cclxufSk7XHJcblxyXG4vKlxyXG4gKiDQutC70LjQutC90YPRgtGMINC90LAg0YfRgtC+INGC0L4g0LIg0YDQsNGB0LrRgNGL0LLQsNGO0YnQtdC8INC80LXQvdGOINGC0L7Rh9C60LhcclxuICovXHJcblxyXG5mdW5jdGlvbiBtZW51YnV0dGNsaWNrX3BlcnNvbihldmVudClcclxue1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cclxuICAgIHZhciByZWw9JCh0aGlzKS5maW5kKCdhJykuYXR0cignbWFrZScpO1xyXG5cclxuICAgIGlmKHJlbD09J2VkaXQnKVxyXG4gICAge1xyXG4gICAgICAgIC8v0LjQt9C80LXQvdC40YLRjFxyXG4gICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmJsb2NrX3Bhc3MnKS5hdHRyKCdwYXNzX3JlbCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgICAgIHVybDogJ2Zvcm1zL3BlcnNvbi9mb3JtX2VkaXRfcGVyc29uLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24gKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuICAgIGlmKHJlbD09J2RlbGwnKVxyXG4gICAge1xyXG4gICAgICAgIC8v0LjQt9C80LXQvdC40YLRjFxyXG4gICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLmJsb2NrX3Bhc3MnKS5hdHRyKCdwYXNzX3JlbCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9wZXJzb24vZm9ybV9kZWxsX3BlcnNvbi5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/Qv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4XHJcbiAgICAgICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZXNvcnRfc3RvY2syKCkge1xyXG4gICAgLy9hbGVydChcIjFcIik7XHJcbiAgICBpZigkKHRoaXMpLnZhbCgpIT0nJylcclxuICAgIHtcclxuICAgICAgICAkKHRoaXMpLm5leHQoKS5zaG93KCk7XHJcbiAgICAgICAgLy/RgdC60YDRi9GC0Ywg0LTRgNGD0LPQuNC1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC40YHQutCwXHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykuYWRkQ2xhc3MoJ2dyZWVpX2lucHV0Jyk7XHJcbiAgICAgICAgJCgnLmpzLS1zb3J0JykuZmluZCgnaW5wdXQnKS5wcm9wKCdyZWFkb25seScsdHJ1ZSk7XHJcblxyXG4gICAgfWVsc2VcclxuICAgIHtcclxuICAgICAgICAkKHRoaXMpLm5leHQoKS5oaWRlKCk7XHJcbiAgICAgICAgLy/Qv9C+0LrQsNC30LDRgtGMINC00YDRg9Cz0LjQtSDRjdC70LXQvNC10L3RgtGLINC/0L7QuNGB0LrQsFxyXG4gICAgICAgICQoJy5qcy0tc29ydCcpLnJlbW92ZUNsYXNzKCdncmVlaV9pbnB1dCcpO1xyXG4gICAgICAgICQoJy5qcy0tc29ydCcpLmZpbmQoJ2lucHV0JykucmVtb3ZlQXR0cigncmVhZG9ubHknKTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuLyrRgtCw0LHRgdGLINCyINC+0LrQvdC1INC+0LEg0L7QsdGK0LXQutGC0LVcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhYnNfcGVyc29uKCkge1xyXG4gICAgLy9hbGVydChcIiFcIik7XHJcbiAgICB2YXIgdW9vPSQodGhpcykuYXR0cihcImlkXCIpO1xyXG4gICAgaWYgKCAkKHRoaXMpLmlzKFwiLmFjdGl2ZVwiKSApXHJcbiAgICB7XHJcbiAgICAgICAgLy/Rg9C20LUg0LDQutGC0LjQstC90LDRjyDQstC60LvQsNC00LrQsFxyXG4gICAgfSBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgJCgnLmpzLWNsb3VkLWluZm8tdGV4dCcpLmVtcHR5KCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTsgbWFyZ2luLWJvdHRvbTogMzBweDtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuICAgICAgICAkKCcuanMtdGFicy1tZW51JykuZmluZCgnLmpzLXRhYnMtcGVyc29uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5qcy10YWJzLW1lbnUnKS5maW5kKCcuanMtdGFicy1wZXJzb25baWQ9Jyt1b28rJ10nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIC8vdmFyIGtleV89JzAwMlUnO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZF90YWJzPScrJCh0aGlzKS5hdHRyKFwiaWRcIikrXHJcbiAgICAgICAgICAgICcmdGs9JyskKCcuYm94LW1vZGFsIC5nbG9hYi1jYycpLmF0dHIoJ21vcicpK1xyXG4gICAgICAgICAgICAnJmlkPScrJCgnLmJveC1tb2RhbCAuZ2xvYWItY2MnKS5hdHRyKCdmb3InKTtcclxuXHJcblxyXG5cclxuICAgICAgICAvL2FsZXJ0KGRhdGEpO1xyXG4gICAgICAgIEFqYXhDbGllbnQoJ3BlcnNvbicsJ3RhYnNfaW5mbycsJ0dFVCcsZGF0YSwnQWZ0ZXJUYWJzSW5mb1BlcnNvbicsJCh0aGlzKS5hdHRyKFwiaWRcIiksMCk7XHJcbiAgICB9XHJcbn1cclxuLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQntGC0LTQtdC70LBcclxuZnVuY3Rpb24gcGVyc29uX2FkZHMoKVxyXG57XHJcbiAgICBpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy92YXIgYXQ9ICQodGhpcykuYXR0cigndGFic19nJyk7XHJcblxyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9wZXJzb24vZm9ybV9hZGRfcGVyc29uLnBocCcsXHJcbiAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLyoq0LLRi9Cy0L7QtCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC+0LHRitC10LrRgtGDXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkb2NfcGVyc29uKGV2ZW50KVxyXG57XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgLy/QtdGB0LvQuCDRjdGC0L4g0L3QtSDQvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrQuCDRgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDRg9C00LDQu9C40YLRjCDRgtC+INC+0YLQutGA0YvRgtC40LUg0LjQvdGE0L7RgNC80LDRhtC40LhcclxuICAgIGlmICgoISR0YXJnZXQuaGFzQ2xhc3MoJ2pzLXBlcnNvbi1kZWwnKSkmJighJHRhcmdldC5oYXNDbGFzcygnanMtcGVyc29uLWVkaXQnKSkpIHtcclxuXHJcblxyXG4gICAgICAgIC8vdmFyIGZvcl9pZCA9ICQodGhpcykucGFyZW50cygnLmpzLXBlcnNvbi1ibG9jaycpLmF0dHIoJ29wX3JlbCcpO1xyXG5cclxuICAgICAgICBpZigkKHRoaXMpLmlzKCdbb3BfcmVsXScpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGZvcl9pZD0gJCh0aGlzKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBmb3JfaWQgPSAkKHRoaXMpLnBhcmVudHMoJy5qcy1wZXJzb24tYmxvY2snKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgICAgIHVybDogJ2Zvcm1zL3BlcnNvbi9mb3JtX2RvY19wZXJzb24ucGhwP2lkPScgKyBmb3JfaWQgKyAnJnRhYnM9MCcsXHJcbiAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24gKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuINC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YJcclxuICoqL1xyXG5mdW5jdGlvbiBqc19hZGRfcGVyc29uKClcclxue1xyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL3BlcnNvbi9mb3JtX2FkZF9wZXJzb24ucGhwJyxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQuNC30LzQtdC90LjRgtGMINCe0LHRitC10LrRgtCwXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19lZGl0X3BlcnNvbihldmVudClcclxue1xyXG4gICAgLy9hbGVydChcIiFcIik7XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcucGVyc29uX2Jsb2NrX3Bhc3MnKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgIH1cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9wZXJzb24vZm9ybV9lZGl0X3BlcnNvbi5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqINGD0LTQsNC70LjRgtGMINC+0LHRitC10LrRglxyXG4gKi9cclxuZnVuY3Rpb24ganNfcGVyc29uX2RlbChldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcucGVyc29uX2Jsb2NrX3Bhc3MnKS5hdHRyKCdvcF9yZWwnKTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvcGVyc29uL2Zvcm1fZGVsbF9wZXJzb24ucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbn0iLCIkKGZ1bmN0aW9uICgpe1xyXG5cclxuICAgIC8v0LjQt9C80LXQvdC40YLRjCDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtcXVlc3Rpb24tZWRpdCcsanNfZWRpdF9xdWVzdGlvbik7XHJcblxyXG5cclxuICAgIC8v0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXF1ZXN0aW9uLWRlbCcsanNfcXVlc3Rpb25fZGVsKTtcclxuICAgIC8v0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C5INC+0LHRitC10LrRglxyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy5qcy1hZGQtcXVlc3Rpb24nLGpzX2FkZF9xdWVzdGlvbik7XHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YIg0LzQtdC90Y4g0YHQu9C10LLQsFxyXG4gICAgJCgnLm1lbnVfeCcpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsXCIuanMtcXVlc3Rpb24tYWRkMFwiLCBqc19hZGRfcXVlc3Rpb24pO1xyXG4gICAgLy/Qv9C+0LvRg9GH0LXQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvdCw0LbQsNGC0LjRjiDQvdCwINC+0LHRitC10LrRglxyXG4gICAgJCgnLmpzLWNsb3VkLXF1ZXN0aW9uJykub24oXCJjbGlja1wiLFwiLmpzLWluZm8tcXVlc3Rpb25cIixkb2NfcXVlc3Rpb24pO1xyXG4gICAgLy/QvdCw0LbQsNGC0LjQtSDQvdCwINCy0LrQu9Cw0LTQutGDINCyINGE0L7RgNC80LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDQvtCx0YrQtdC60YLRg1xyXG4gICAgJCgnYm9keScpLm9uKFwiY2hhbmdlIGtleXVwIGlucHV0IGNsaWNrXCIsJy50YWJzc3MnLHRhYnNfcXVlc3Rpb24pO1xyXG5cclxufSk7XHJcblxyXG4vKirRgtCw0LHRgdGLINCyINC+0LrQvdC1INC+0LEg0L7QsdGK0LXQutGC0LVcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhYnNfcXVlc3Rpb24oKSB7XHJcbiAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICAgIHZhciB1b289JCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcbiAgICBpZiAoICQodGhpcykuaXMoXCIuYWN0aXZlXCIpIClcclxuICAgIHtcclxuICAgICAgICAvL9GD0LbQtSDQsNC60YLQuNCy0L3QsNGPINCy0LrQu9Cw0LTQutCwXHJcbiAgICB9IGVsc2VcclxuICAgIHtcclxuICAgICAgICAkKCcuY2xpZW50X3dpbmRvdyAucHhfYmcnKS5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImJfbG9hZGluZ19zbWFsbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmU7XCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfd3JhcHBlcl9zbWFsbFwiPjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJiX2xvYWRpbmdfY2lyY2xlX29uZV9zbWFsbCBiX2xvYWRpbmdfY2lyY2xlX2RlbGF5ZWRfc21hbGxcIj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgJCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzc3MnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLmpzLXRhYnMtbWVudScpLmZpbmQoJy50YWJzc3NbaWQ9Jyt1b28rJ10nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIC8vdmFyIGtleV89JzAwMlUnO1xyXG5cclxuICAgICAgICB2YXIgZGF0YSA9J3VybD0nK3dpbmRvdy5sb2NhdGlvbi5ocmVmKycmaWRfdGFicz0nKyQodGhpcykuYXR0cihcImlkXCIpK1xyXG4gICAgICAgICAgICAnJnRrPScrJCgnLmgxMTEnKS5hdHRyKCdtb3InKStcclxuICAgICAgICAgICAgJyZpZD0nKyQoJy5oMTExJykuYXR0cignZm9yJyk7XHJcbiAgICAgICAgLy9hbGVydChkYXRhKTtcclxuICAgICAgICBBamF4Q2xpZW50KCdxdWVzdGlvbicsJ3RhYnNfaW5mbycsJ0dFVCcsZGF0YSwnQWZ0ZXJUYWJzSW5mbycsJCh0aGlzKS5hdHRyKFwiaWRcIiksMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKirQstGL0LLQvtC0INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L4g0L7QsdGK0LXQutGC0YNcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGRvY19xdWVzdGlvbihldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgJHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuICAgIC8v0LXRgdC70Lgg0Y3RgtC+INC90LUg0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0YPQtNCw0LvQuNGC0Ywg0YLQviDQvtGC0LrRgNGL0YLQuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4XHJcbiAgICBpZiAoKCEkdGFyZ2V0Lmhhc0NsYXNzKCdqcy1xdWVzdGlvbi1kZWwnKSkmJighJHRhcmdldC5oYXNDbGFzcygnanMtcXVlc3Rpb24tZWRpdCcpKSkge1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGZvcl9pZCA9ICQodGhpcykuYXR0cignb3BfcmVsJyk7XHJcblxyXG4gICAgICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgICAgIHVybDogJ2Zvcm1zL3F1ZXN0aW9uL2Zvcm1fZG9jX3F1ZXN0aW9uLnBocD9pZD0nICsgZm9yX2lkICsgJyZ0YWJzPTAnLFxyXG4gICAgICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyT3BlbjogZnVuY3Rpb24gKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgICAgICBUb29sVGlwKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuINC00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YJcclxuICoqL1xyXG5mdW5jdGlvbiBqc19hZGRfcXVlc3Rpb24oKVxyXG57XHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvcXVlc3Rpb24vZm9ybV9hZGRfcXVlc3Rpb24ucGhwJyxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlck9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgICAgICBUb29sVGlwKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQuNC30LzQtdC90LjRgtGMINCe0LHRitC10LrRgtCwXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19lZGl0X3F1ZXN0aW9uKGV2ZW50KVxyXG57XHJcbiAgICAvL2FsZXJ0KFwiIVwiKTtcclxuICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgfVxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgIHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy5xdWVzdGlvbl9ibG9ja19wYXNzJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL3F1ZXN0aW9uL2Zvcm1fZWRpdF9xdWVzdGlvbi5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy9hbGVydCgnYWZ0ZXJMb2FkaW5nJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmdPblNob3c6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZ09uU2hvdycpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDRg9C00LDQu9C40YLRjCDQvtCx0YrQtdC60YJcclxuICovXHJcbmZ1bmN0aW9uIGpzX3F1ZXN0aW9uX2RlbChldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYoJCh0aGlzKS5pcygnW2lkX3JlbF0nKSlcclxuICAgIHtcclxuICAgICAgICB2YXIgaWRfYnV5PSAkKHRoaXMpLmF0dHIoJ2lkX3JlbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcucXVlc3Rpb25fYmxvY2tfcGFzcycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9xdWVzdGlvbi9mb3JtX2RlbGxfcXVlc3Rpb24ucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbn0iLCIkKGZ1bmN0aW9uICgpe1xyXG5cclxuICAgIC8v0LjQt9C80LXQvdC40YLRjCDQvtCx0YrQtdC60YJcclxuICAgICQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtc2VjdGlvbi1lZGl0Jyxqc19lZGl0X3NlY3Rpb24pO1xyXG5cclxuICAgIC8v0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXNlY3Rpb24tZGVsJyxqc19zZWN0aW9uX2RlbCk7XHJcblxyXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLWFkZC1zZWN0aW9uJyxqc19hZGRfc2VjdGlvbik7XHJcblxyXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0L7QsdGK0LXQutGCINC80LXQvdGOINGB0LvQtdCy0LBcclxuICAgICQoJy5tZW51X3gnKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLFwiLmpzLXNlY3Rpb24tYWRkMFwiLCBqc19hZGRfc2VjdGlvbik7XHJcblxyXG5cclxufSk7XHJcblxyXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INCe0YLQtNC10LvQsFxyXG5mdW5jdGlvbiBzZWN0aW9uX2FkZHMoKVxyXG57XHJcbiAgICBpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy92YXIgYXQ9ICQodGhpcykuYXR0cigndGFic19nJyk7XHJcblxyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9zZWN0aW9uL2Zvcm1fYWRkX3NlY3Rpb24ucGhwJyxcclxuICAgICAgICBiZWZvcmVPcGVuOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0L/QvtGB0LvQtSDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheFxyXG4gICAgICAgICAgICBkYXRhLmJvZHkucGFyZW50cygnLmFyY3RpY21vZGFsLWNvbnRhaW5lcicpLmFkZENsYXNzKCd5b2knKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oZGF0YSwgZWwpIHsgLy8g0L/QvtGB0LvQtSDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwIEFyY3RpY01vZGFsXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG4vKirRgtCw0LHRgdGLINCyINC+0LrQvdC1INC+0LEg0L7QsdGK0LXQutGC0LVcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHRhYnNfc2VjdGlvbigpIHtcclxuICAgIC8vYWxlcnQoXCIhXCIpO1xyXG4gICAgdmFyIHVvbz0kKHRoaXMpLmF0dHIoXCJpZFwiKTtcclxuICAgIGlmICggJCh0aGlzKS5pcyhcIi5hY3RpdmVcIikgKVxyXG4gICAge1xyXG4gICAgICAgIC8v0YPQttC1INCw0LrRgtC40LLQvdCw0Y8g0LLQutC70LDQtNC60LBcclxuICAgIH0gZWxzZVxyXG4gICAge1xyXG4gICAgICAgICQoJy5jbGllbnRfd2luZG93IC5weF9iZycpLmVtcHR5KCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX3NtYWxsXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZTtcIj48ZGl2IGNsYXNzPVwiYl9sb2FkaW5nX2NpcmNsZV93cmFwcGVyX3NtYWxsXCI+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsXCI+PC9kaXY+PGRpdiBjbGFzcz1cImJfbG9hZGluZ19jaXJjbGVfb25lX3NtYWxsIGJfbG9hZGluZ19jaXJjbGVfZGVsYXllZF9zbWFsbFwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xyXG5cclxuICAgICAgICAkKCcuanMtdGFicy1tZW51JykuZmluZCgnLnRhYnNzcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKCcuanMtdGFicy1tZW51JykuZmluZCgnLnRhYnNzc1tpZD0nK3VvbysnXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgLy92YXIga2V5Xz0nMDAyVSc7XHJcblxyXG4gICAgICAgIHZhciBkYXRhID0ndXJsPScrd2luZG93LmxvY2F0aW9uLmhyZWYrJyZpZF90YWJzPScrJCh0aGlzKS5hdHRyKFwiaWRcIikrXHJcbiAgICAgICAgICAgICcmdGs9JyskKCcuaDExMScpLmF0dHIoJ21vcicpK1xyXG4gICAgICAgICAgICAnJmlkPScrJCgnLmgxMTEnKS5hdHRyKCdmb3InKTtcclxuICAgICAgICAvL2FsZXJ0KGRhdGEpO1xyXG4gICAgICAgIEFqYXhDbGllbnQoJ3NlY3Rpb24nLCd0YWJzX2luZm8nLCdHRVQnLGRhdGEsJ0FmdGVyVGFic0luZm8nLCQodGhpcykuYXR0cihcImlkXCIpLDApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoq0LLRi9Cy0L7QtCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INC+0LHRitC10LrRgtGDXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBkb2Nfc2VjdGlvbihldmVudClcclxue1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lcklkICE9ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgJC5hcmN0aWNtb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgJHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuICAgIC8v0LXRgdC70Lgg0Y3RgtC+INC90LUg0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0YPQtNCw0LvQuNGC0Ywg0YLQviDQvtGC0LrRgNGL0YLQuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4XHJcbiAgICBpZiAoKCEkdGFyZ2V0Lmhhc0NsYXNzKCdqcy1zZWN0aW9uLWRlbCcpKSYmKCEkdGFyZ2V0Lmhhc0NsYXNzKCdqcy1zZWN0aW9uLWVkaXQnKSkpIHtcclxuXHJcblxyXG4gICAgICAgIHZhciBmb3JfaWQgPSAkKHRoaXMpLmF0dHIoJ29wX3JlbCcpO1xyXG5cclxuICAgICAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgICAgICB1cmw6ICdmb3Jtcy9zZWN0aW9uL2Zvcm1fZG9jX3NlY3Rpb24ucGhwP2lkPScgKyBmb3JfaWQgKyAnJnRhYnM9MCcsXHJcbiAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXJPcGVuOiBmdW5jdGlvbiAoZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICAgICAgICAgIFRvb2xUaXAoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXJDbG9zZTogZnVuY3Rpb24gKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4g0LTQvtCx0LDQstC40YLRjCDQvdC+0LLRi9C5INC+0LHRitC10LrRglxyXG4gKiovXHJcbmZ1bmN0aW9uIGpzX2FkZF9zZWN0aW9uKClcclxue1xyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL3NlY3Rpb24vZm9ybV9hZGRfc2VjdGlvbi5waHAnLFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8v0LLQviDQstGA0LXQvNGPINC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4INC30LDQs9GA0YPQt9GH0LjQulxyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykuYWRkQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyTG9hZGluZzogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy/Qv9C+0YHQu9C1INC30LDQs9GA0YPQt9C60Lgg0YTQvtGA0LzRiyDRgSBhamF4XHJcbiAgICAgICAgICAgIGRhdGEuYm9keS5wYXJlbnRzKCcuYXJjdGljbW9kYWwtY29udGFpbmVyJykuYWRkQ2xhc3MoJ3lvaScpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYV9mb3JtcycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGExX2Zvcm1zJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdF9hZGEnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJlZm9yZUNsb3NlOiBmdW5jdGlvbihkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgaWYodHlwZW9mIHRpbWVySWQgIT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQm9keVNjcm9vbCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqINC40LfQvNC10L3QuNGC0Ywg0J7QsdGK0LXQutGC0LBcclxuICovXHJcbmZ1bmN0aW9uIGpzX2VkaXRfc2VjdGlvbihldmVudClcclxue1xyXG4gICAgLy9hbGVydChcIiFcIik7XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG5cclxuICAgICAgICB2YXIgaWRfYnV5ID0gJCh0aGlzKS5wYXJlbnRzKCcuc2VjdGlvbl9ibG9ja19wYXNzJykuYXR0cignb3BfcmVsJyk7XHJcbiAgICB9XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAkLmFyY3RpY21vZGFsKHtcclxuICAgICAgICB0eXBlOiAnYWpheCcsXHJcbiAgICAgICAgdXJsOiAnZm9ybXMvc2VjdGlvbi9mb3JtX2VkaXRfc2VjdGlvbi5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9Cy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4INGE0L7RgNC80Ysg0YEgYWpheCDQt9Cw0LPRgNGD0LfRh9C40LpcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLmFkZENsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uIChkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uIChkYXRhLCBlbCkgeyAvLyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y8g0L7QutC90LAgQXJjdGljTW9kYWxcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aW1lcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEJvZHlTY3Jvb2woKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqINGD0LTQsNC70LjRgtGMINC+0LHRitC10LrRglxyXG4gKi9cclxuZnVuY3Rpb24ganNfc2VjdGlvbl9kZWwoZXZlbnQpXHJcbntcclxuICAgIGlmICh0eXBlb2YgdGltZXJJZCAhPSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgICQuYXJjdGljbW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGlmKCQodGhpcykuaXMoJ1tpZF9yZWxdJykpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIGlkX2J1eT0gJCh0aGlzKS5hdHRyKCdpZF9yZWwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGlkX2J1eSA9ICQodGhpcykucGFyZW50cygnLnNlY3Rpb25fYmxvY2tfcGFzcycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHJcblxyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9zZWN0aW9uL2Zvcm1fZGVsbF9zZWN0aW9uLnBocD9pZF9idXk9JytpZF9idXksXHJcbiAgICAgICAgYmVmb3JlT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgLy/QstC+INCy0YDQtdC80Y8g0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXgg0LfQsNCz0YDRg9C30YfQuNC6XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nOiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL9C/0L7RgdC70LUg0LfQsNCz0YDRg9C30LrQuCDRhNC+0YDQvNGLINGBIGFqYXhcclxuICAgICAgICAgICAgZGF0YS5ib2R5LnBhcmVudHMoJy5hcmN0aWNtb2RhbC1jb250YWluZXInKS5hZGRDbGFzcygneW9pJyk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5yZW1vdmVDbGFzcygnc2VsZWN0X2FkYScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBpZih0eXBlb2YgdGltZXJJZCAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBCb2R5U2Nyb29sKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG59IiwiJChmdW5jdGlvbiAoKXtcclxuXHJcbiAgICAvL9C40LfQvNC10L3QuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAgICAvLyQoJ2JvZHknKS5vbihcImNoYW5nZSBrZXl1cCBpbnB1dCBjbGlja1wiLCcuanMtcGFzcy1lZGl0Jyxqc19lZGl0X3Bhc3MpO1xyXG5cclxuICAgIC8v0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAgICAkKCdib2R5Jykub24oXCJjaGFuZ2Uga2V5dXAgaW5wdXQgY2xpY2tcIiwnLmpzLXNldC1kZWwnLGpzX3NldF9kZWwpO1xyXG5cclxuXHJcbn0pO1xyXG5cclxuLypcclxuICog0YPQtNCw0LvQuNGC0Ywg0L7QsdGK0LXQutGCXHJcbiAqL1xyXG5mdW5jdGlvbiBqc19zZXRfZGVsKGV2ZW50KVxyXG57XHJcbiAgICBpZiAodHlwZW9mIHRpbWVySWQgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAkLmFyY3RpY21vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZigkKHRoaXMpLmlzKCdbaWRfcmVsXScpKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBpZF9idXk9ICQodGhpcykuYXR0cignaWRfcmVsJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBpZF9idXkgPSAkKHRoaXMpLnBhcmVudHMoJy5zZXRfYmxvY2tfcGFzcycpLmF0dHIoJ29wX3JlbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICQuYXJjdGljbW9kYWwoe1xyXG4gICAgICAgIHR5cGU6ICdhamF4JyxcclxuICAgICAgICB1cmw6ICdmb3Jtcy9zZXQvZm9ybV9kZWxsX3NldC5waHA/aWRfYnV5PScraWRfYnV5LFxyXG4gICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhX2Zvcm1zJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcubG9hZGVyX2FkYTFfZm9ybXMnKS5hZGRDbGFzcygnc2VsZWN0X2FkYScpO1xyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyT3BlbjogZnVuY3Rpb24oZGF0YSwgZWwpIHtcclxuICAgICAgICAgICAgJCgnLmxvYWRlcl9hZGFfZm9ybXMnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5sb2FkZXJfYWRhMV9mb3JtcycpLnJlbW92ZUNsYXNzKCdzZWxlY3RfYWRhJyk7XHJcbiAgICAgICAgICAgIFRvb2xUaXAoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKlxyXG4gICAgJC5hcmN0aWNtb2RhbCh7XHJcbiAgICAgICAgdHlwZTogJ2FqYXgnLFxyXG4gICAgICAgIHVybDogJ2Zvcm1zL3Bhc3MvZm9ybV9kZWxsX3Bhc3MucGhwP2lkX2J1eT0nK2lkX2J1eSxcclxuICAgICAgICBhZnRlckxvYWRpbmc6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7XHJcbiAgICAgICAgICAgIC8vYWxlcnQoJ2FmdGVyTG9hZGluZycpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXJMb2FkaW5nT25TaG93OiBmdW5jdGlvbihkYXRhLCBlbCkge1xyXG4gICAgICAgICAgICAvL2FsZXJ0KCdhZnRlckxvYWRpbmdPblNob3cnKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKGRhdGEsIGVsKSB7IC8vINC/0L7RgdC70LUg0LfQsNC60YDRi9GC0LjRjyDQvtC60L3QsCBBcmN0aWNNb2RhbFxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuKi9cclxufSIsIi8v0LTQvtCx0LDQstC70LXQvdC40LUg0LLRgdC/0LvRi9Cy0LDRjtGJ0LjRhSDQv9C+0LTRgdC60LDQt9C+0Log0Log0LTQtdC50YHRgtCy0LjRj9C8XHJcbi8vc3R5bGUgLSBvayBlcnJvciB3YXJcclxuLy9hbGVydF9tZXNzYWdlKCdlcnJvcicsJ9Cd0LUg0LLRgdC1INC/0L7Qu9GPINC30LDQv9C+0LvQvdC10L3RiycpO1xyXG5mdW5jdGlvbiBhbGVydF9tZXNzYWdlKHN0eWxlLHRleHQpXHJcbntcclxuXHRcclxuXHR2YXIgbWF4VmFsdWUgPSAxO1xyXG4kKFwiLmFsZXJ0X3dyYXBwZXIgLmRpdi1ib3hcIikuZmluZCgnLmFsZXJ0LW1lc3NhZ2UnKS5lYWNoKGZ1bmN0aW9uKCkgeyBcclxuICAgICAgdmFsdWUgPSAkKHRoaXMpLmF0dHIoXCJhbGVydC1pZFwiKTtcclxuICBpZih2YWx1ZSA+IG1heFZhbHVlKSB7XHJcbiAgICBtYXhWYWx1ZSA9IHZhbHVlO1xyXG4gIH1cclxufSk7XHJcblxyXG5cdFxyXG5cdCQoJy5hbGVydF93cmFwcGVyIC5kaXYtYm94JykucHJlcGVuZChmdW5jdGlvbiAoKSB7ICQodGhpcykuZmluZCgnLmFsZXJ0LW1lc3NhZ2UgJykuYWRkQ2xhc3MoJ3Nob3ctYWxlcnQnKTsgfSwnPGRpdiBhbGVydC1pZD1cIicrKG1heFZhbHVlKzEpKydcIiBjbGFzcz1cIiAgYWxlcnQtbWVzc2FnZSAnK3N0eWxlKyctYVwiPjxkaXYgY2xhc3M9XCJhbGVydC1pY29uXCI+PC9kaXY+PGRpdiBjbGFzcz1cImFsZXJ0LWNvbnRlbnRcIj4nK3RleHQrJzwvZGl2PjxkaXYgY2xhc3M9XCJhbGVydC1jbG9zZSBqcy1hbGVydC1jbG9zZVwiPjwvZGl2PjwvZGl2PicpO1xyXG5cclxuXHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAgJCgnLmFsZXJ0LW1lc3NhZ2VbYWxlcnQtaWQ9JysobWF4VmFsdWUrMSkrJ10nKS5hZGRDbGFzcygnc2hvdy1hbGVydCcpOyB9LCA1MDAgKTtcdFxyXG5cdFxyXG5cdC8vJCgnLmFsZXJ0X3dyYXBwZXIgLmRpdi1ib3gnKS5maW5kKCcuYWxlcnQtbWVzc2FnZScpLmZpcnN0KCkuYWRkQ2xhc3MoJ3Nob3ctYWxlcnQnKTtcclxuXHRcclxuXHRzZXRUaW1lb3V0ICggZnVuY3Rpb24gKCkgeyAgJCgnLmFsZXJ0LW1lc3NhZ2VbYWxlcnQtaWQ9JysobWF4VmFsdWUrMSkrJ10nKS5hZGRDbGFzcygnaGlkZS1hbGVydCcpOyBcclxuXHRcdFx0XHRcdFx0XHQgXHJcblxyXG5cdFx0XHRcdHNldFRpbWVvdXQgKCBmdW5jdGlvbiAoKSB7ICAkKCcuYWxlcnQtbWVzc2FnZVthbGVydC1pZD0nKyhtYXhWYWx1ZSsxKSsnXScpLnJlbW92ZSgpOyBcclxuXHRcdFx0XHRcdFx0XHQgXHJcblx0XHRcdFx0XHRcdFx0IFxyXG5cdFx0XHRcdFx0XHRcdCBcclxuXHRcdFx0XHRcdFx0XHQgXHJcblx0XHRcdFx0XHRcdFx0IH0sIDUwMCApO1xyXG5cdFx0XHRcdFx0XHRcdCBcclxuXHRcdFx0XHRcdFx0XHQgfSwgNTAwMCApO1xyXG59IiwiLy8gSmF2YVNjcmlwdCBEb2N1bWVudFxyXG4kKGZ1bmN0aW9uICgpe1xyXG5cclxuLy/QvtC/0YDQtdC00LXQu9C40YLRjCB6aW5kZXgg0LTQu9GPIHNlbGVjdCDQv9C+0LvQtdC5XHJcblppbmRleCgpO1xyXG5cdFxyXG59KTtcclxuXHJcblxyXG4vL9C+0L/RgNC10LTQtdC70LjRgtGMIHppbmRleCDQtNC70Y8gc2VsZWN0INC/0L7Qu9C10LlcclxuLy8gIHxcclxuLy8gXFwvXHJcbmZ1bmN0aW9uIFppbmRleCgpIHtcclxuICB2YXIgemluZGV4PTUwO1xyXG5cdC8vYWxlcnQoJCgnLmpzLXppbmRleCcpLmxlbmd0aCk7XHJcbiAgJCgnLmpzLXppbmRleCcpLmVhY2goZnVuY3Rpb24gKGksIGVsZW0pIHtcclxuICAgICAgJCh0aGlzKS5jc3MoXCJ6LWluZGV4XCIsIHppbmRleCk7XHJcblx0ICB6aW5kZXgtLTtcclxuICAgIH0pO1xyXG4gIH0iXX0=
